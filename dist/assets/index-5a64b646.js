var jxe=Object.defineProperty;var Txe=(e,t,r)=>t in e?jxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ss=(e,t,r)=>(Txe(e,typeof t!="symbol"?t+"":t,r),r);function CR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Vs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ji(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function RJ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var MJ={exports:{}},sj={},LJ={exports:{}},bi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E5=Symbol.for("react.element"),kxe=Symbol.for("react.portal"),Pxe=Symbol.for("react.fragment"),Oxe=Symbol.for("react.strict_mode"),Ixe=Symbol.for("react.profiler"),Fxe=Symbol.for("react.provider"),Dxe=Symbol.for("react.context"),Rxe=Symbol.for("react.forward_ref"),Mxe=Symbol.for("react.suspense"),Lxe=Symbol.for("react.memo"),Bxe=Symbol.for("react.lazy"),u$=Symbol.iterator;function Uxe(e){return e===null||typeof e!="object"?null:(e=u$&&e[u$]||e["@@iterator"],typeof e=="function"?e:null)}var BJ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UJ=Object.assign,$J={};function sb(e,t,r){this.props=e,this.context=t,this.refs=$J,this.updater=r||BJ}sb.prototype.isReactComponent={};sb.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sb.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zJ(){}zJ.prototype=sb.prototype;function AR(e,t,r){this.props=e,this.context=t,this.refs=$J,this.updater=r||BJ}var ER=AR.prototype=new zJ;ER.constructor=AR;UJ(ER,sb.prototype);ER.isPureReactComponent=!0;var d$=Array.isArray,VJ=Object.prototype.hasOwnProperty,jR={current:null},WJ={key:!0,ref:!0,__self:!0,__source:!0};function HJ(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)VJ.call(t,n)&&!WJ.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:E5,type:e,key:i,ref:o,props:a,_owner:jR.current}}function $xe(e,t){return{$$typeof:E5,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function TR(e){return typeof e=="object"&&e!==null&&e.$$typeof===E5}function zxe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var f$=/\/+/g;function P8(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zxe(""+e.key):t.toString(36)}function $S(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case E5:case kxe:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+P8(o,0):n,d$(a)?(r="",e!=null&&(r=e.replace(f$,"$&/")+"/"),$S(a,t,r,"",function(u){return u})):a!=null&&(TR(a)&&(a=$xe(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(f$,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",d$(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+P8(i,l);o+=$S(i,t,r,c,a)}else if(c=Uxe(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+P8(i,l++),o+=$S(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vN(e,t,r){if(e==null)return e;var n=[],a=0;return $S(e,n,"","",function(i){return t.call(r,i,a++)}),n}function Vxe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ju={current:null},zS={transition:null},Wxe={ReactCurrentDispatcher:Ju,ReactCurrentBatchConfig:zS,ReactCurrentOwner:jR};function qJ(){throw Error("act(...) is not supported in production builds of React.")}bi.Children={map:vN,forEach:function(e,t,r){vN(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vN(e,function(){t++}),t},toArray:function(e){return vN(e,function(t){return t})||[]},only:function(e){if(!TR(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bi.Component=sb;bi.Fragment=Pxe;bi.Profiler=Ixe;bi.PureComponent=AR;bi.StrictMode=Oxe;bi.Suspense=Mxe;bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wxe;bi.act=qJ;bi.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=UJ({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=jR.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)VJ.call(t,c)&&!WJ.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:E5,type:e.type,key:a,ref:i,props:n,_owner:o}};bi.createContext=function(e){return e={$$typeof:Dxe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fxe,_context:e},e.Consumer=e};bi.createElement=HJ;bi.createFactory=function(e){var t=HJ.bind(null,e);return t.type=e,t};bi.createRef=function(){return{current:null}};bi.forwardRef=function(e){return{$$typeof:Rxe,render:e}};bi.isValidElement=TR;bi.lazy=function(e){return{$$typeof:Bxe,_payload:{_status:-1,_result:e},_init:Vxe}};bi.memo=function(e,t){return{$$typeof:Lxe,type:e,compare:t===void 0?null:t}};bi.startTransition=function(e){var t=zS.transition;zS.transition={};try{e()}finally{zS.transition=t}};bi.unstable_act=qJ;bi.useCallback=function(e,t){return Ju.current.useCallback(e,t)};bi.useContext=function(e){return Ju.current.useContext(e)};bi.useDebugValue=function(){};bi.useDeferredValue=function(e){return Ju.current.useDeferredValue(e)};bi.useEffect=function(e,t){return Ju.current.useEffect(e,t)};bi.useId=function(){return Ju.current.useId()};bi.useImperativeHandle=function(e,t,r){return Ju.current.useImperativeHandle(e,t,r)};bi.useInsertionEffect=function(e,t){return Ju.current.useInsertionEffect(e,t)};bi.useLayoutEffect=function(e,t){return Ju.current.useLayoutEffect(e,t)};bi.useMemo=function(e,t){return Ju.current.useMemo(e,t)};bi.useReducer=function(e,t,r){return Ju.current.useReducer(e,t,r)};bi.useRef=function(e){return Ju.current.useRef(e)};bi.useState=function(e){return Ju.current.useState(e)};bi.useSyncExternalStore=function(e,t,r){return Ju.current.useSyncExternalStore(e,t,r)};bi.useTransition=function(){return Ju.current.useTransition()};bi.version="18.3.1";LJ.exports=bi;var A=LJ.exports;const Ve=ji(A),oj=CR({__proto__:null,default:Ve},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hxe=A,qxe=Symbol.for("react.element"),Gxe=Symbol.for("react.fragment"),Kxe=Object.prototype.hasOwnProperty,Yxe=Hxe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xxe={key:!0,ref:!0,__self:!0,__source:!0};function GJ(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Kxe.call(t,n)&&!Xxe.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:qxe,type:e,key:i,ref:o,props:a,_owner:Yxe.current}}sj.Fragment=Gxe;sj.jsx=GJ;sj.jsxs=GJ;MJ.exports=sj;var s=MJ.exports,gO={},KJ={exports:{}},hf={},YJ={exports:{}},XJ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(le,xe){var Se=le.length;le.push(xe);e:for(;0<Se;){var ye=Se-1>>>1,ee=le[ye];if(0<a(ee,xe))le[ye]=xe,le[Se]=ee,Se=ye;else break e}}function r(le){return le.length===0?null:le[0]}function n(le){if(le.length===0)return null;var xe=le[0],Se=le.pop();if(Se!==xe){le[0]=Se;e:for(var ye=0,ee=le.length,he=ee>>>1;ye<he;){var se=2*(ye+1)-1,te=le[se],ge=se+1,ue=le[ge];if(0>a(te,Se))ge<ee&&0>a(ue,te)?(le[ye]=ue,le[ge]=Se,ye=ge):(le[ye]=te,le[se]=Se,ye=se);else if(ge<ee&&0>a(ue,Se))le[ye]=ue,le[ge]=Se,ye=ge;else break e}}return xe}function a(le,xe){var Se=le.sortIndex-xe.sortIndex;return Se!==0?Se:le.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,h=null,g=3,p=!1,N=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(le){for(var xe=r(u);xe!==null;){if(xe.callback===null)n(u);else if(xe.startTime<=le)n(u),xe.sortIndex=xe.expirationTime,t(c,xe);else break;xe=r(u)}}function O(le){if(b=!1,T(le),!N)if(r(c)!==null)N=!0,ne(M);else{var xe=r(u);xe!==null&&de(O,xe.startTime-le)}}function M(le,xe){N=!1,b&&(b=!1,C(H),H=-1),p=!0;var Se=g;try{for(T(xe),h=r(c);h!==null&&(!(h.expirationTime>xe)||le&&!K());){var ye=h.callback;if(typeof ye=="function"){h.callback=null,g=h.priorityLevel;var ee=ye(h.expirationTime<=xe);xe=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(c)&&n(c),T(xe)}else n(c);h=r(c)}if(h!==null)var he=!0;else{var se=r(u);se!==null&&de(O,se.startTime-xe),he=!1}return he}finally{h=null,g=Se,p=!1}}var B=!1,L=null,H=-1,U=5,J=-1;function K(){return!(e.unstable_now()-J<U)}function G(){if(L!==null){var le=e.unstable_now();J=le;var xe=!0;try{xe=L(!0,le)}finally{xe?re():(B=!1,L=null)}}else B=!1}var re;if(typeof j=="function")re=function(){j(G)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,X=ae.port2;ae.port1.onmessage=G,re=function(){X.postMessage(null)}}else re=function(){S(G,0)};function ne(le){L=le,B||(B=!0,re())}function de(le,xe){H=S(function(){le(e.unstable_now())},xe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(le){le.callback=null},e.unstable_continueExecution=function(){N||p||(N=!0,ne(M))},e.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<le?Math.floor(1e3/le):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(le){switch(g){case 1:case 2:case 3:var xe=3;break;default:xe=g}var Se=g;g=xe;try{return le()}finally{g=Se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(le,xe){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var Se=g;g=le;try{return xe()}finally{g=Se}},e.unstable_scheduleCallback=function(le,xe,Se){var ye=e.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?ye+Se:ye):Se=ye,le){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Se+ee,le={id:f++,callback:xe,priorityLevel:le,startTime:Se,expirationTime:ee,sortIndex:-1},Se>ye?(le.sortIndex=Se,t(u,le),r(c)===null&&le===r(u)&&(b?(C(H),H=-1):b=!0,de(O,Se-ye))):(le.sortIndex=ee,t(c,le),N||p||(N=!0,ne(M))),le},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(le){var xe=g;return function(){var Se=g;g=xe;try{return le.apply(this,arguments)}finally{g=Se}}}})(XJ);YJ.exports=XJ;var Zxe=YJ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jxe=A,sf=Zxe;function Mr(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZJ=new Set,q_={};function Bx(e,t){ny(e,t),ny(e+"Capture",t)}function ny(e,t){for(q_[e]=t,e=0;e<t.length;e++)ZJ.add(t[e])}var Rm=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xO=Object.prototype.hasOwnProperty,Qxe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h$={},m$={};function eve(e){return xO.call(m$,e)?!0:xO.call(h$,e)?!1:Qxe.test(e)?m$[e]=!0:(h$[e]=!0,!1)}function tve(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rve(e,t,r,n){if(t===null||typeof t>"u"||tve(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qu(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Xc={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xc[e]=new Qu(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xc[t]=new Qu(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xc[e]=new Qu(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xc[e]=new Qu(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xc[e]=new Qu(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xc[e]=new Qu(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xc[e]=new Qu(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xc[e]=new Qu(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xc[e]=new Qu(e,5,!1,e.toLowerCase(),null,!1,!1)});var kR=/[\-:]([a-z])/g;function PR(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kR,PR);Xc[t]=new Qu(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kR,PR);Xc[t]=new Qu(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kR,PR);Xc[t]=new Qu(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xc[e]=new Qu(e,1,!1,e.toLowerCase(),null,!1,!1)});Xc.xlinkHref=new Qu("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xc[e]=new Qu(e,1,!1,e.toLowerCase(),null,!0,!0)});function OR(e,t,r,n){var a=Xc.hasOwnProperty(t)?Xc[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rve(t,r,a,n)&&(r=null),n||a===null?eve(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Km=Jxe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yN=Symbol.for("react.element"),n2=Symbol.for("react.portal"),a2=Symbol.for("react.fragment"),IR=Symbol.for("react.strict_mode"),vO=Symbol.for("react.profiler"),JJ=Symbol.for("react.provider"),QJ=Symbol.for("react.context"),FR=Symbol.for("react.forward_ref"),yO=Symbol.for("react.suspense"),bO=Symbol.for("react.suspense_list"),DR=Symbol.for("react.memo"),Pp=Symbol.for("react.lazy"),eQ=Symbol.for("react.offscreen"),p$=Symbol.iterator;function xw(e){return e===null||typeof e!="object"?null:(e=p$&&e[p$]||e["@@iterator"],typeof e=="function"?e:null)}var Oo=Object.assign,O8;function Jw(e){if(O8===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);O8=t&&t[1]||""}return`
`+O8+e}var I8=!1;function F8(e,t){if(!e||I8)return"";I8=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{I8=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jw(e):""}function nve(e){switch(e.tag){case 5:return Jw(e.type);case 16:return Jw("Lazy");case 13:return Jw("Suspense");case 19:return Jw("SuspenseList");case 0:case 2:case 15:return e=F8(e.type,!1),e;case 11:return e=F8(e.type.render,!1),e;case 1:return e=F8(e.type,!0),e;default:return""}}function wO(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case a2:return"Fragment";case n2:return"Portal";case vO:return"Profiler";case IR:return"StrictMode";case yO:return"Suspense";case bO:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case QJ:return(e.displayName||"Context")+".Consumer";case JJ:return(e._context.displayName||"Context")+".Provider";case FR:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case DR:return t=e.displayName||null,t!==null?t:wO(e.type)||"Memo";case Pp:t=e._payload,e=e._init;try{return wO(e(t))}catch{}}return null}function ave(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wO(t);case 8:return t===IR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function g1(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tQ(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ive(e){var t=tQ(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bN(e){e._valueTracker||(e._valueTracker=ive(e))}function rQ(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=tQ(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function EC(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _O(e,t){var r=t.checked;return Oo({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function g$(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=g1(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nQ(e,t){t=t.checked,t!=null&&OR(e,"checked",t,!1)}function NO(e,t){nQ(e,t);var r=g1(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?SO(e,t.type,r):t.hasOwnProperty("defaultValue")&&SO(e,t.type,g1(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function x$(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function SO(e,t,r){(t!=="number"||EC(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Qw=Array.isArray;function P2(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+g1(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function CO(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Mr(91));return Oo({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function v$(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Mr(92));if(Qw(r)){if(1<r.length)throw Error(Mr(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:g1(r)}}function aQ(e,t){var r=g1(t.value),n=g1(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function y$(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iQ(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function AO(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iQ(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wN,sQ=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wN=wN||document.createElement("div"),wN.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wN.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function G_(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var u_={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sve=["Webkit","ms","Moz","O"];Object.keys(u_).forEach(function(e){sve.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),u_[t]=u_[e]})});function oQ(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||u_.hasOwnProperty(e)&&u_[e]?(""+t).trim():t+"px"}function lQ(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=oQ(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var ove=Oo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function EO(e,t){if(t){if(ove[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Mr(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Mr(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Mr(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Mr(62))}}function jO(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TO=null;function RR(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kO=null,O2=null,I2=null;function b$(e){if(e=k5(e)){if(typeof kO!="function")throw Error(Mr(280));var t=e.stateNode;t&&(t=fj(t),kO(e.stateNode,e.type,t))}}function cQ(e){O2?I2?I2.push(e):I2=[e]:O2=e}function uQ(){if(O2){var e=O2,t=I2;if(I2=O2=null,b$(e),t)for(e=0;e<t.length;e++)b$(t[e])}}function dQ(e,t){return e(t)}function fQ(){}var D8=!1;function hQ(e,t,r){if(D8)return e(t,r);D8=!0;try{return dQ(e,t,r)}finally{D8=!1,(O2!==null||I2!==null)&&(fQ(),uQ())}}function K_(e,t){var r=e.stateNode;if(r===null)return null;var n=fj(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Mr(231,t,typeof r));return r}var PO=!1;if(Rm)try{var vw={};Object.defineProperty(vw,"passive",{get:function(){PO=!0}}),window.addEventListener("test",vw,vw),window.removeEventListener("test",vw,vw)}catch{PO=!1}function lve(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var d_=!1,jC=null,TC=!1,OO=null,cve={onError:function(e){d_=!0,jC=e}};function uve(e,t,r,n,a,i,o,l,c){d_=!1,jC=null,lve.apply(cve,arguments)}function dve(e,t,r,n,a,i,o,l,c){if(uve.apply(this,arguments),d_){if(d_){var u=jC;d_=!1,jC=null}else throw Error(Mr(198));TC||(TC=!0,OO=u)}}function Ux(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mQ(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w$(e){if(Ux(e)!==e)throw Error(Mr(188))}function fve(e){var t=e.alternate;if(!t){if(t=Ux(e),t===null)throw Error(Mr(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return w$(a),e;if(i===n)return w$(a),t;i=i.sibling}throw Error(Mr(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Mr(189))}}if(r.alternate!==n)throw Error(Mr(190))}if(r.tag!==3)throw Error(Mr(188));return r.stateNode.current===r?e:t}function pQ(e){return e=fve(e),e!==null?gQ(e):null}function gQ(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gQ(e);if(t!==null)return t;e=e.sibling}return null}var xQ=sf.unstable_scheduleCallback,_$=sf.unstable_cancelCallback,hve=sf.unstable_shouldYield,mve=sf.unstable_requestPaint,sl=sf.unstable_now,pve=sf.unstable_getCurrentPriorityLevel,MR=sf.unstable_ImmediatePriority,vQ=sf.unstable_UserBlockingPriority,kC=sf.unstable_NormalPriority,gve=sf.unstable_LowPriority,yQ=sf.unstable_IdlePriority,lj=null,C0=null;function xve(e){if(C0&&typeof C0.onCommitFiberRoot=="function")try{C0.onCommitFiberRoot(lj,e,void 0,(e.current.flags&128)===128)}catch{}}var Oh=Math.clz32?Math.clz32:bve,vve=Math.log,yve=Math.LN2;function bve(e){return e>>>=0,e===0?32:31-(vve(e)/yve|0)|0}var _N=64,NN=4194304;function e_(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function PC(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=e_(l):(i&=o,i!==0&&(n=e_(i)))}else o=r&~a,o!==0?n=e_(o):i!==0&&(n=e_(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Oh(t),a=1<<r,n|=e[r],t&=~a;return n}function wve(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _ve(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Oh(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=wve(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function IO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bQ(){var e=_N;return _N<<=1,!(_N&4194240)&&(_N=64),e}function R8(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function j5(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Oh(t),e[t]=r}function Nve(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Oh(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function LR(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Oh(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ws=0;function wQ(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _Q,BR,NQ,SQ,CQ,FO=!1,SN=[],Zp=null,Jp=null,Qp=null,Y_=new Map,X_=new Map,Dp=[],Sve="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N$(e,t){switch(e){case"focusin":case"focusout":Zp=null;break;case"dragenter":case"dragleave":Jp=null;break;case"mouseover":case"mouseout":Qp=null;break;case"pointerover":case"pointerout":Y_.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":X_.delete(t.pointerId)}}function yw(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=k5(t),t!==null&&BR(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Cve(e,t,r,n,a){switch(t){case"focusin":return Zp=yw(Zp,e,t,r,n,a),!0;case"dragenter":return Jp=yw(Jp,e,t,r,n,a),!0;case"mouseover":return Qp=yw(Qp,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Y_.set(i,yw(Y_.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,X_.set(i,yw(X_.get(i)||null,e,t,r,n,a)),!0}return!1}function AQ(e){var t=zg(e.target);if(t!==null){var r=Ux(t);if(r!==null){if(t=r.tag,t===13){if(t=mQ(r),t!==null){e.blockedOn=t,CQ(e.priority,function(){NQ(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function VS(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=DO(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);TO=n,r.target.dispatchEvent(n),TO=null}else return t=k5(r),t!==null&&BR(t),e.blockedOn=r,!1;t.shift()}return!0}function S$(e,t,r){VS(e)&&r.delete(t)}function Ave(){FO=!1,Zp!==null&&VS(Zp)&&(Zp=null),Jp!==null&&VS(Jp)&&(Jp=null),Qp!==null&&VS(Qp)&&(Qp=null),Y_.forEach(S$),X_.forEach(S$)}function bw(e,t){e.blockedOn===t&&(e.blockedOn=null,FO||(FO=!0,sf.unstable_scheduleCallback(sf.unstable_NormalPriority,Ave)))}function Z_(e){function t(a){return bw(a,e)}if(0<SN.length){bw(SN[0],e);for(var r=1;r<SN.length;r++){var n=SN[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Zp!==null&&bw(Zp,e),Jp!==null&&bw(Jp,e),Qp!==null&&bw(Qp,e),Y_.forEach(t),X_.forEach(t),r=0;r<Dp.length;r++)n=Dp[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Dp.length&&(r=Dp[0],r.blockedOn===null);)AQ(r),r.blockedOn===null&&Dp.shift()}var F2=Km.ReactCurrentBatchConfig,OC=!0;function Eve(e,t,r,n){var a=ws,i=F2.transition;F2.transition=null;try{ws=1,UR(e,t,r,n)}finally{ws=a,F2.transition=i}}function jve(e,t,r,n){var a=ws,i=F2.transition;F2.transition=null;try{ws=4,UR(e,t,r,n)}finally{ws=a,F2.transition=i}}function UR(e,t,r,n){if(OC){var a=DO(e,t,r,n);if(a===null)q8(e,t,n,IC,r),N$(e,n);else if(Cve(a,e,t,r,n))n.stopPropagation();else if(N$(e,n),t&4&&-1<Sve.indexOf(e)){for(;a!==null;){var i=k5(a);if(i!==null&&_Q(i),i=DO(e,t,r,n),i===null&&q8(e,t,n,IC,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else q8(e,t,n,null,r)}}var IC=null;function DO(e,t,r,n){if(IC=null,e=RR(n),e=zg(e),e!==null)if(t=Ux(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mQ(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return IC=e,null}function EQ(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pve()){case MR:return 1;case vQ:return 4;case kC:case gve:return 16;case yQ:return 536870912;default:return 16}default:return 16}}var Up=null,$R=null,WS=null;function jQ(){if(WS)return WS;var e,t=$R,r=t.length,n,a="value"in Up?Up.value:Up.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return WS=a.slice(e,1<n?1-n:void 0)}function HS(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function CN(){return!0}function C$(){return!1}function mf(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?CN:C$,this.isPropagationStopped=C$,this}return Oo(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=CN)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=CN)},persist:function(){},isPersistent:CN}),t}var ob={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zR=mf(ob),T5=Oo({},ob,{view:0,detail:0}),Tve=mf(T5),M8,L8,ww,cj=Oo({},T5,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VR,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ww&&(ww&&e.type==="mousemove"?(M8=e.screenX-ww.screenX,L8=e.screenY-ww.screenY):L8=M8=0,ww=e),M8)},movementY:function(e){return"movementY"in e?e.movementY:L8}}),A$=mf(cj),kve=Oo({},cj,{dataTransfer:0}),Pve=mf(kve),Ove=Oo({},T5,{relatedTarget:0}),B8=mf(Ove),Ive=Oo({},ob,{animationName:0,elapsedTime:0,pseudoElement:0}),Fve=mf(Ive),Dve=Oo({},ob,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rve=mf(Dve),Mve=Oo({},ob,{data:0}),E$=mf(Mve),Lve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bve={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uve={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $ve(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uve[e])?!!t[e]:!1}function VR(){return $ve}var zve=Oo({},T5,{key:function(e){if(e.key){var t=Lve[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=HS(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bve[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VR,charCode:function(e){return e.type==="keypress"?HS(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?HS(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vve=mf(zve),Wve=Oo({},cj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j$=mf(Wve),Hve=Oo({},T5,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VR}),qve=mf(Hve),Gve=Oo({},ob,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kve=mf(Gve),Yve=Oo({},cj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xve=mf(Yve),Zve=[9,13,27,32],WR=Rm&&"CompositionEvent"in window,f_=null;Rm&&"documentMode"in document&&(f_=document.documentMode);var Jve=Rm&&"TextEvent"in window&&!f_,TQ=Rm&&(!WR||f_&&8<f_&&11>=f_),T$=String.fromCharCode(32),k$=!1;function kQ(e,t){switch(e){case"keyup":return Zve.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PQ(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var i2=!1;function Qve(e,t){switch(e){case"compositionend":return PQ(t);case"keypress":return t.which!==32?null:(k$=!0,T$);case"textInput":return e=t.data,e===T$&&k$?null:e;default:return null}}function e2e(e,t){if(i2)return e==="compositionend"||!WR&&kQ(e,t)?(e=jQ(),WS=$R=Up=null,i2=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return TQ&&t.locale!=="ko"?null:t.data;default:return null}}var t2e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P$(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!t2e[e.type]:t==="textarea"}function OQ(e,t,r,n){cQ(n),t=FC(t,"onChange"),0<t.length&&(r=new zR("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var h_=null,J_=null;function r2e(e){VQ(e,0)}function uj(e){var t=l2(e);if(rQ(t))return e}function n2e(e,t){if(e==="change")return t}var IQ=!1;if(Rm){var U8;if(Rm){var $8="oninput"in document;if(!$8){var O$=document.createElement("div");O$.setAttribute("oninput","return;"),$8=typeof O$.oninput=="function"}U8=$8}else U8=!1;IQ=U8&&(!document.documentMode||9<document.documentMode)}function I$(){h_&&(h_.detachEvent("onpropertychange",FQ),J_=h_=null)}function FQ(e){if(e.propertyName==="value"&&uj(J_)){var t=[];OQ(t,J_,e,RR(e)),hQ(r2e,t)}}function a2e(e,t,r){e==="focusin"?(I$(),h_=t,J_=r,h_.attachEvent("onpropertychange",FQ)):e==="focusout"&&I$()}function i2e(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uj(J_)}function s2e(e,t){if(e==="click")return uj(t)}function o2e(e,t){if(e==="input"||e==="change")return uj(t)}function l2e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rh=typeof Object.is=="function"?Object.is:l2e;function Q_(e,t){if(Rh(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!xO.call(t,a)||!Rh(e[a],t[a]))return!1}return!0}function F$(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function D$(e,t){var r=F$(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=F$(r)}}function DQ(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?DQ(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function RQ(){for(var e=window,t=EC();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=EC(e.document)}return t}function HR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function c2e(e){var t=RQ(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&DQ(r.ownerDocument.documentElement,r)){if(n!==null&&HR(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=D$(r,i);var o=D$(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var u2e=Rm&&"documentMode"in document&&11>=document.documentMode,s2=null,RO=null,m_=null,MO=!1;function R$(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;MO||s2==null||s2!==EC(n)||(n=s2,"selectionStart"in n&&HR(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),m_&&Q_(m_,n)||(m_=n,n=FC(RO,"onSelect"),0<n.length&&(t=new zR("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=s2)))}function AN(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var o2={animationend:AN("Animation","AnimationEnd"),animationiteration:AN("Animation","AnimationIteration"),animationstart:AN("Animation","AnimationStart"),transitionend:AN("Transition","TransitionEnd")},z8={},MQ={};Rm&&(MQ=document.createElement("div").style,"AnimationEvent"in window||(delete o2.animationend.animation,delete o2.animationiteration.animation,delete o2.animationstart.animation),"TransitionEvent"in window||delete o2.transitionend.transition);function dj(e){if(z8[e])return z8[e];if(!o2[e])return e;var t=o2[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in MQ)return z8[e]=t[r];return e}var LQ=dj("animationend"),BQ=dj("animationiteration"),UQ=dj("animationstart"),$Q=dj("transitionend"),zQ=new Map,M$="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function F1(e,t){zQ.set(e,t),Bx(t,[e])}for(var V8=0;V8<M$.length;V8++){var W8=M$[V8],d2e=W8.toLowerCase(),f2e=W8[0].toUpperCase()+W8.slice(1);F1(d2e,"on"+f2e)}F1(LQ,"onAnimationEnd");F1(BQ,"onAnimationIteration");F1(UQ,"onAnimationStart");F1("dblclick","onDoubleClick");F1("focusin","onFocus");F1("focusout","onBlur");F1($Q,"onTransitionEnd");ny("onMouseEnter",["mouseout","mouseover"]);ny("onMouseLeave",["mouseout","mouseover"]);ny("onPointerEnter",["pointerout","pointerover"]);ny("onPointerLeave",["pointerout","pointerover"]);Bx("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bx("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bx("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bx("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bx("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bx("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var t_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h2e=new Set("cancel close invalid load scroll toggle".split(" ").concat(t_));function L$(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,dve(n,t,void 0,e),e.currentTarget=null}function VQ(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;L$(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;L$(a,l,u),i=c}}}if(TC)throw e=OO,TC=!1,OO=null,e}function eo(e,t){var r=t[zO];r===void 0&&(r=t[zO]=new Set);var n=e+"__bubble";r.has(n)||(WQ(t,e,2,!1),r.add(n))}function H8(e,t,r){var n=0;t&&(n|=4),WQ(r,e,n,t)}var EN="_reactListening"+Math.random().toString(36).slice(2);function e4(e){if(!e[EN]){e[EN]=!0,ZJ.forEach(function(r){r!=="selectionchange"&&(h2e.has(r)||H8(r,!1,e),H8(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[EN]||(t[EN]=!0,H8("selectionchange",!1,t))}}function WQ(e,t,r,n){switch(EQ(t)){case 1:var a=Eve;break;case 4:a=jve;break;default:a=UR}r=a.bind(null,t,r,e),a=void 0,!PO||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function q8(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=zg(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}hQ(function(){var u=i,f=RR(r),h=[];e:{var g=zQ.get(e);if(g!==void 0){var p=zR,N=e;switch(e){case"keypress":if(HS(r)===0)break e;case"keydown":case"keyup":p=Vve;break;case"focusin":N="focus",p=B8;break;case"focusout":N="blur",p=B8;break;case"beforeblur":case"afterblur":p=B8;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=A$;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Pve;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qve;break;case LQ:case BQ:case UQ:p=Fve;break;case $Q:p=Kve;break;case"scroll":p=Tve;break;case"wheel":p=Xve;break;case"copy":case"cut":case"paste":p=Rve;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=j$}var b=(t&4)!==0,S=!b&&e==="scroll",C=b?g!==null?g+"Capture":null:g;b=[];for(var j=u,T;j!==null;){T=j;var O=T.stateNode;if(T.tag===5&&O!==null&&(T=O,C!==null&&(O=K_(j,C),O!=null&&b.push(t4(j,O,T)))),S)break;j=j.return}0<b.length&&(g=new p(g,N,null,r,f),h.push({event:g,listeners:b}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",g&&r!==TO&&(N=r.relatedTarget||r.fromElement)&&(zg(N)||N[Mm]))break e;if((p||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,p?(N=r.relatedTarget||r.toElement,p=u,N=N?zg(N):null,N!==null&&(S=Ux(N),N!==S||N.tag!==5&&N.tag!==6)&&(N=null)):(p=null,N=u),p!==N)){if(b=A$,O="onMouseLeave",C="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(b=j$,O="onPointerLeave",C="onPointerEnter",j="pointer"),S=p==null?g:l2(p),T=N==null?g:l2(N),g=new b(O,j+"leave",p,r,f),g.target=S,g.relatedTarget=T,O=null,zg(f)===u&&(b=new b(C,j+"enter",N,r,f),b.target=T,b.relatedTarget=S,O=b),S=O,p&&N)t:{for(b=p,C=N,j=0,T=b;T;T=Ov(T))j++;for(T=0,O=C;O;O=Ov(O))T++;for(;0<j-T;)b=Ov(b),j--;for(;0<T-j;)C=Ov(C),T--;for(;j--;){if(b===C||C!==null&&b===C.alternate)break t;b=Ov(b),C=Ov(C)}b=null}else b=null;p!==null&&B$(h,g,p,b,!1),N!==null&&S!==null&&B$(h,S,N,b,!0)}}e:{if(g=u?l2(u):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var M=n2e;else if(P$(g))if(IQ)M=o2e;else{M=i2e;var B=a2e}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=s2e);if(M&&(M=M(e,u))){OQ(h,M,r,f);break e}B&&B(e,g,u),e==="focusout"&&(B=g._wrapperState)&&B.controlled&&g.type==="number"&&SO(g,"number",g.value)}switch(B=u?l2(u):window,e){case"focusin":(P$(B)||B.contentEditable==="true")&&(s2=B,RO=u,m_=null);break;case"focusout":m_=RO=s2=null;break;case"mousedown":MO=!0;break;case"contextmenu":case"mouseup":case"dragend":MO=!1,R$(h,r,f);break;case"selectionchange":if(u2e)break;case"keydown":case"keyup":R$(h,r,f)}var L;if(WR)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else i2?kQ(e,r)&&(H="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(H="onCompositionStart");H&&(TQ&&r.locale!=="ko"&&(i2||H!=="onCompositionStart"?H==="onCompositionEnd"&&i2&&(L=jQ()):(Up=f,$R="value"in Up?Up.value:Up.textContent,i2=!0)),B=FC(u,H),0<B.length&&(H=new E$(H,e,null,r,f),h.push({event:H,listeners:B}),L?H.data=L:(L=PQ(r),L!==null&&(H.data=L)))),(L=Jve?Qve(e,r):e2e(e,r))&&(u=FC(u,"onBeforeInput"),0<u.length&&(f=new E$("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:u}),f.data=L))}VQ(h,t)})}function t4(e,t,r){return{instance:e,listener:t,currentTarget:r}}function FC(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=K_(e,r),i!=null&&n.unshift(t4(e,i,a)),i=K_(e,t),i!=null&&n.push(t4(e,i,a))),e=e.return}return n}function Ov(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function B$(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=K_(r,i),c!=null&&o.unshift(t4(r,c,l))):a||(c=K_(r,i),c!=null&&o.push(t4(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var m2e=/\r\n?/g,p2e=/\u0000|\uFFFD/g;function U$(e){return(typeof e=="string"?e:""+e).replace(m2e,`
`).replace(p2e,"")}function jN(e,t,r){if(t=U$(t),U$(e)!==t&&r)throw Error(Mr(425))}function DC(){}var LO=null,BO=null;function UO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $O=typeof setTimeout=="function"?setTimeout:void 0,g2e=typeof clearTimeout=="function"?clearTimeout:void 0,$$=typeof Promise=="function"?Promise:void 0,x2e=typeof queueMicrotask=="function"?queueMicrotask:typeof $$<"u"?function(e){return $$.resolve(null).then(e).catch(v2e)}:$O;function v2e(e){setTimeout(function(){throw e})}function G8(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Z_(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Z_(t)}function e1(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function z$(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var lb=Math.random().toString(36).slice(2),m0="__reactFiber$"+lb,r4="__reactProps$"+lb,Mm="__reactContainer$"+lb,zO="__reactEvents$"+lb,y2e="__reactListeners$"+lb,b2e="__reactHandles$"+lb;function zg(e){var t=e[m0];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mm]||r[m0]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=z$(e);e!==null;){if(r=e[m0])return r;e=z$(e)}return t}e=r,r=e.parentNode}return null}function k5(e){return e=e[m0]||e[Mm],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function l2(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Mr(33))}function fj(e){return e[r4]||null}var VO=[],c2=-1;function D1(e){return{current:e}}function so(e){0>c2||(e.current=VO[c2],VO[c2]=null,c2--)}function Ws(e,t){c2++,VO[c2]=e.current,e.current=t}var x1={},bu=D1(x1),vd=D1(!1),ux=x1;function ay(e,t){var r=e.type.contextTypes;if(!r)return x1;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yd(e){return e=e.childContextTypes,e!=null}function RC(){so(vd),so(bu)}function V$(e,t,r){if(bu.current!==x1)throw Error(Mr(168));Ws(bu,t),Ws(vd,r)}function HQ(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Mr(108,ave(e)||"Unknown",a));return Oo({},r,n)}function MC(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||x1,ux=bu.current,Ws(bu,e),Ws(vd,vd.current),!0}function W$(e,t,r){var n=e.stateNode;if(!n)throw Error(Mr(169));r?(e=HQ(e,t,ux),n.__reactInternalMemoizedMergedChildContext=e,so(vd),so(bu),Ws(bu,e)):so(vd),Ws(vd,r)}var gm=null,hj=!1,K8=!1;function qQ(e){gm===null?gm=[e]:gm.push(e)}function w2e(e){hj=!0,qQ(e)}function R1(){if(!K8&&gm!==null){K8=!0;var e=0,t=ws;try{var r=gm;for(ws=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gm=null,hj=!1}catch(a){throw gm!==null&&(gm=gm.slice(e+1)),xQ(MR,R1),a}finally{ws=t,K8=!1}}return null}var u2=[],d2=0,LC=null,BC=0,Ff=[],Df=0,dx=null,ym=1,bm="";function Sg(e,t){u2[d2++]=BC,u2[d2++]=LC,LC=e,BC=t}function GQ(e,t,r){Ff[Df++]=ym,Ff[Df++]=bm,Ff[Df++]=dx,dx=e;var n=ym;e=bm;var a=32-Oh(n)-1;n&=~(1<<a),r+=1;var i=32-Oh(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,ym=1<<32-Oh(t)+a|r<<a|n,bm=i+e}else ym=1<<i|r<<a|n,bm=e}function qR(e){e.return!==null&&(Sg(e,1),GQ(e,1,0))}function GR(e){for(;e===LC;)LC=u2[--d2],u2[d2]=null,BC=u2[--d2],u2[d2]=null;for(;e===dx;)dx=Ff[--Df],Ff[Df]=null,bm=Ff[--Df],Ff[Df]=null,ym=Ff[--Df],Ff[Df]=null}var rf=null,Jd=null,po=!1,Sh=null;function KQ(e,t){var r=Bf(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function H$(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rf=e,Jd=e1(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rf=e,Jd=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=dx!==null?{id:ym,overflow:bm}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Bf(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,rf=e,Jd=null,!0):!1;default:return!1}}function WO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function HO(e){if(po){var t=Jd;if(t){var r=t;if(!H$(e,t)){if(WO(e))throw Error(Mr(418));t=e1(r.nextSibling);var n=rf;t&&H$(e,t)?KQ(n,r):(e.flags=e.flags&-4097|2,po=!1,rf=e)}}else{if(WO(e))throw Error(Mr(418));e.flags=e.flags&-4097|2,po=!1,rf=e}}}function q$(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rf=e}function TN(e){if(e!==rf)return!1;if(!po)return q$(e),po=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!UO(e.type,e.memoizedProps)),t&&(t=Jd)){if(WO(e))throw YQ(),Error(Mr(418));for(;t;)KQ(e,t),t=e1(t.nextSibling)}if(q$(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Mr(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Jd=e1(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Jd=null}}else Jd=rf?e1(e.stateNode.nextSibling):null;return!0}function YQ(){for(var e=Jd;e;)e=e1(e.nextSibling)}function iy(){Jd=rf=null,po=!1}function KR(e){Sh===null?Sh=[e]:Sh.push(e)}var _2e=Km.ReactCurrentBatchConfig;function _w(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Mr(309));var n=r.stateNode}if(!n)throw Error(Mr(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Mr(284));if(!r._owner)throw Error(Mr(290,e))}return e}function kN(e,t){throw e=Object.prototype.toString.call(t),Error(Mr(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function G$(e){var t=e._init;return t(e._payload)}function XQ(e){function t(C,j){if(e){var T=C.deletions;T===null?(C.deletions=[j],C.flags|=16):T.push(j)}}function r(C,j){if(!e)return null;for(;j!==null;)t(C,j),j=j.sibling;return null}function n(C,j){for(C=new Map;j!==null;)j.key!==null?C.set(j.key,j):C.set(j.index,j),j=j.sibling;return C}function a(C,j){return C=a1(C,j),C.index=0,C.sibling=null,C}function i(C,j,T){return C.index=T,e?(T=C.alternate,T!==null?(T=T.index,T<j?(C.flags|=2,j):T):(C.flags|=2,j)):(C.flags|=1048576,j)}function o(C){return e&&C.alternate===null&&(C.flags|=2),C}function l(C,j,T,O){return j===null||j.tag!==6?(j=tk(T,C.mode,O),j.return=C,j):(j=a(j,T),j.return=C,j)}function c(C,j,T,O){var M=T.type;return M===a2?f(C,j,T.props.children,O,T.key):j!==null&&(j.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Pp&&G$(M)===j.type)?(O=a(j,T.props),O.ref=_w(C,j,T),O.return=C,O):(O=JS(T.type,T.key,T.props,null,C.mode,O),O.ref=_w(C,j,T),O.return=C,O)}function u(C,j,T,O){return j===null||j.tag!==4||j.stateNode.containerInfo!==T.containerInfo||j.stateNode.implementation!==T.implementation?(j=rk(T,C.mode,O),j.return=C,j):(j=a(j,T.children||[]),j.return=C,j)}function f(C,j,T,O,M){return j===null||j.tag!==7?(j=rx(T,C.mode,O,M),j.return=C,j):(j=a(j,T),j.return=C,j)}function h(C,j,T){if(typeof j=="string"&&j!==""||typeof j=="number")return j=tk(""+j,C.mode,T),j.return=C,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case yN:return T=JS(j.type,j.key,j.props,null,C.mode,T),T.ref=_w(C,null,j),T.return=C,T;case n2:return j=rk(j,C.mode,T),j.return=C,j;case Pp:var O=j._init;return h(C,O(j._payload),T)}if(Qw(j)||xw(j))return j=rx(j,C.mode,T,null),j.return=C,j;kN(C,j)}return null}function g(C,j,T,O){var M=j!==null?j.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:l(C,j,""+T,O);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case yN:return T.key===M?c(C,j,T,O):null;case n2:return T.key===M?u(C,j,T,O):null;case Pp:return M=T._init,g(C,j,M(T._payload),O)}if(Qw(T)||xw(T))return M!==null?null:f(C,j,T,O,null);kN(C,T)}return null}function p(C,j,T,O,M){if(typeof O=="string"&&O!==""||typeof O=="number")return C=C.get(T)||null,l(j,C,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case yN:return C=C.get(O.key===null?T:O.key)||null,c(j,C,O,M);case n2:return C=C.get(O.key===null?T:O.key)||null,u(j,C,O,M);case Pp:var B=O._init;return p(C,j,T,B(O._payload),M)}if(Qw(O)||xw(O))return C=C.get(T)||null,f(j,C,O,M,null);kN(j,O)}return null}function N(C,j,T,O){for(var M=null,B=null,L=j,H=j=0,U=null;L!==null&&H<T.length;H++){L.index>H?(U=L,L=null):U=L.sibling;var J=g(C,L,T[H],O);if(J===null){L===null&&(L=U);break}e&&L&&J.alternate===null&&t(C,L),j=i(J,j,H),B===null?M=J:B.sibling=J,B=J,L=U}if(H===T.length)return r(C,L),po&&Sg(C,H),M;if(L===null){for(;H<T.length;H++)L=h(C,T[H],O),L!==null&&(j=i(L,j,H),B===null?M=L:B.sibling=L,B=L);return po&&Sg(C,H),M}for(L=n(C,L);H<T.length;H++)U=p(L,C,H,T[H],O),U!==null&&(e&&U.alternate!==null&&L.delete(U.key===null?H:U.key),j=i(U,j,H),B===null?M=U:B.sibling=U,B=U);return e&&L.forEach(function(K){return t(C,K)}),po&&Sg(C,H),M}function b(C,j,T,O){var M=xw(T);if(typeof M!="function")throw Error(Mr(150));if(T=M.call(T),T==null)throw Error(Mr(151));for(var B=M=null,L=j,H=j=0,U=null,J=T.next();L!==null&&!J.done;H++,J=T.next()){L.index>H?(U=L,L=null):U=L.sibling;var K=g(C,L,J.value,O);if(K===null){L===null&&(L=U);break}e&&L&&K.alternate===null&&t(C,L),j=i(K,j,H),B===null?M=K:B.sibling=K,B=K,L=U}if(J.done)return r(C,L),po&&Sg(C,H),M;if(L===null){for(;!J.done;H++,J=T.next())J=h(C,J.value,O),J!==null&&(j=i(J,j,H),B===null?M=J:B.sibling=J,B=J);return po&&Sg(C,H),M}for(L=n(C,L);!J.done;H++,J=T.next())J=p(L,C,H,J.value,O),J!==null&&(e&&J.alternate!==null&&L.delete(J.key===null?H:J.key),j=i(J,j,H),B===null?M=J:B.sibling=J,B=J);return e&&L.forEach(function(G){return t(C,G)}),po&&Sg(C,H),M}function S(C,j,T,O){if(typeof T=="object"&&T!==null&&T.type===a2&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case yN:e:{for(var M=T.key,B=j;B!==null;){if(B.key===M){if(M=T.type,M===a2){if(B.tag===7){r(C,B.sibling),j=a(B,T.props.children),j.return=C,C=j;break e}}else if(B.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Pp&&G$(M)===B.type){r(C,B.sibling),j=a(B,T.props),j.ref=_w(C,B,T),j.return=C,C=j;break e}r(C,B);break}else t(C,B);B=B.sibling}T.type===a2?(j=rx(T.props.children,C.mode,O,T.key),j.return=C,C=j):(O=JS(T.type,T.key,T.props,null,C.mode,O),O.ref=_w(C,j,T),O.return=C,C=O)}return o(C);case n2:e:{for(B=T.key;j!==null;){if(j.key===B)if(j.tag===4&&j.stateNode.containerInfo===T.containerInfo&&j.stateNode.implementation===T.implementation){r(C,j.sibling),j=a(j,T.children||[]),j.return=C,C=j;break e}else{r(C,j);break}else t(C,j);j=j.sibling}j=rk(T,C.mode,O),j.return=C,C=j}return o(C);case Pp:return B=T._init,S(C,j,B(T._payload),O)}if(Qw(T))return N(C,j,T,O);if(xw(T))return b(C,j,T,O);kN(C,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,j!==null&&j.tag===6?(r(C,j.sibling),j=a(j,T),j.return=C,C=j):(r(C,j),j=tk(T,C.mode,O),j.return=C,C=j),o(C)):r(C,j)}return S}var sy=XQ(!0),ZQ=XQ(!1),UC=D1(null),$C=null,f2=null,YR=null;function XR(){YR=f2=$C=null}function ZR(e){var t=UC.current;so(UC),e._currentValue=t}function qO(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function D2(e,t){$C=e,YR=f2=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hd=!0),e.firstContext=null)}function Hf(e){var t=e._currentValue;if(YR!==e)if(e={context:e,memoizedValue:t,next:null},f2===null){if($C===null)throw Error(Mr(308));f2=e,$C.dependencies={lanes:0,firstContext:e}}else f2=f2.next=e;return t}var Vg=null;function JR(e){Vg===null?Vg=[e]:Vg.push(e)}function JQ(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,JR(t)):(r.next=a.next,a.next=r),t.interleaved=r,Lm(e,n)}function Lm(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Op=!1;function QR(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QQ(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Em(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function t1(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,zi&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Lm(e,r)}return a=n.interleaved,a===null?(t.next=t,JR(n)):(t.next=a.next,a.next=t),n.interleaved=t,Lm(e,r)}function qS(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,LR(e,r)}}function K$(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zC(e,t,r,n){var a=e.updateQueue;Op=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,f=u=c=null,l=i;do{var g=l.lane,p=l.eventTime;if((n&g)===g){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var N=e,b=l;switch(g=t,p=r,b.tag){case 1:if(N=b.payload,typeof N=="function"){h=N.call(p,h,g);break e}h=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=b.payload,g=typeof N=="function"?N.call(p,h,g):N,g==null)break e;h=Oo({},h,g);break e;case 2:Op=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[l]:g.push(l))}else p={eventTime:p,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=h):f=f.next=p,o|=g;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;g=l,l=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(1);if(f===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);hx|=o,e.lanes=o,e.memoizedState=h}}function Y$(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Mr(191,a));a.call(n)}}}var P5={},A0=D1(P5),n4=D1(P5),a4=D1(P5);function Wg(e){if(e===P5)throw Error(Mr(174));return e}function e7(e,t){switch(Ws(a4,t),Ws(n4,e),Ws(A0,P5),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:AO(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=AO(t,e)}so(A0),Ws(A0,t)}function oy(){so(A0),so(n4),so(a4)}function eee(e){Wg(a4.current);var t=Wg(A0.current),r=AO(t,e.type);t!==r&&(Ws(n4,e),Ws(A0,r))}function t7(e){n4.current===e&&(so(A0),so(n4))}var Co=D1(0);function VC(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Y8=[];function r7(){for(var e=0;e<Y8.length;e++)Y8[e]._workInProgressVersionPrimary=null;Y8.length=0}var GS=Km.ReactCurrentDispatcher,X8=Km.ReactCurrentBatchConfig,fx=0,jo=null,Kl=null,mc=null,WC=!1,p_=!1,i4=0,N2e=0;function su(){throw Error(Mr(321))}function n7(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rh(e[r],t[r]))return!1;return!0}function a7(e,t,r,n,a,i){if(fx=i,jo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,GS.current=e===null||e.memoizedState===null?E2e:j2e,e=r(n,a),p_){i=0;do{if(p_=!1,i4=0,25<=i)throw Error(Mr(301));i+=1,mc=Kl=null,t.updateQueue=null,GS.current=T2e,e=r(n,a)}while(p_)}if(GS.current=HC,t=Kl!==null&&Kl.next!==null,fx=0,mc=Kl=jo=null,WC=!1,t)throw Error(Mr(300));return e}function i7(){var e=i4!==0;return i4=0,e}function h0(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mc===null?jo.memoizedState=mc=e:mc=mc.next=e,mc}function qf(){if(Kl===null){var e=jo.alternate;e=e!==null?e.memoizedState:null}else e=Kl.next;var t=mc===null?jo.memoizedState:mc.next;if(t!==null)mc=t,Kl=e;else{if(e===null)throw Error(Mr(310));Kl=e,e={memoizedState:Kl.memoizedState,baseState:Kl.baseState,baseQueue:Kl.baseQueue,queue:Kl.queue,next:null},mc===null?jo.memoizedState=mc=e:mc=mc.next=e}return mc}function s4(e,t){return typeof t=="function"?t(e):t}function Z8(e){var t=qf(),r=t.queue;if(r===null)throw Error(Mr(311));r.lastRenderedReducer=e;var n=Kl,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var f=u.lane;if((fx&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,jo.lanes|=f,hx|=f}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Rh(n,t.memoizedState)||(hd=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,jo.lanes|=i,hx|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function J8(e){var t=qf(),r=t.queue;if(r===null)throw Error(Mr(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Rh(i,t.memoizedState)||(hd=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function tee(){}function ree(e,t){var r=jo,n=qf(),a=t(),i=!Rh(n.memoizedState,a);if(i&&(n.memoizedState=a,hd=!0),n=n.queue,s7(iee.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||mc!==null&&mc.memoizedState.tag&1){if(r.flags|=2048,o4(9,aee.bind(null,r,n,a,t),void 0,null),wc===null)throw Error(Mr(349));fx&30||nee(r,t,a)}return a}function nee(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=jo.updateQueue,t===null?(t={lastEffect:null,stores:null},jo.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function aee(e,t,r,n){t.value=r,t.getSnapshot=n,see(t)&&oee(e)}function iee(e,t,r){return r(function(){see(t)&&oee(e)})}function see(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rh(e,r)}catch{return!0}}function oee(e){var t=Lm(e,1);t!==null&&Ih(t,e,1,-1)}function X$(e){var t=h0();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s4,lastRenderedState:e},t.queue=e,e=e.dispatch=A2e.bind(null,jo,e),[t.memoizedState,e]}function o4(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=jo.updateQueue,t===null?(t={lastEffect:null,stores:null},jo.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function lee(){return qf().memoizedState}function KS(e,t,r,n){var a=h0();jo.flags|=e,a.memoizedState=o4(1|t,r,void 0,n===void 0?null:n)}function mj(e,t,r,n){var a=qf();n=n===void 0?null:n;var i=void 0;if(Kl!==null){var o=Kl.memoizedState;if(i=o.destroy,n!==null&&n7(n,o.deps)){a.memoizedState=o4(t,r,i,n);return}}jo.flags|=e,a.memoizedState=o4(1|t,r,i,n)}function Z$(e,t){return KS(8390656,8,e,t)}function s7(e,t){return mj(2048,8,e,t)}function cee(e,t){return mj(4,2,e,t)}function uee(e,t){return mj(4,4,e,t)}function dee(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fee(e,t,r){return r=r!=null?r.concat([e]):null,mj(4,4,dee.bind(null,t,e),r)}function o7(){}function hee(e,t){var r=qf();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&n7(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mee(e,t){var r=qf();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&n7(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function pee(e,t,r){return fx&21?(Rh(r,t)||(r=bQ(),jo.lanes|=r,hx|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hd=!0),e.memoizedState=r)}function S2e(e,t){var r=ws;ws=r!==0&&4>r?r:4,e(!0);var n=X8.transition;X8.transition={};try{e(!1),t()}finally{ws=r,X8.transition=n}}function gee(){return qf().memoizedState}function C2e(e,t,r){var n=n1(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xee(e))vee(t,r);else if(r=JQ(e,t,r,n),r!==null){var a=Gu();Ih(r,e,n,a),yee(r,t,n)}}function A2e(e,t,r){var n=n1(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xee(e))vee(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Rh(l,o)){var c=t.interleaved;c===null?(a.next=a,JR(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=JQ(e,t,a,n),r!==null&&(a=Gu(),Ih(r,e,n,a),yee(r,t,n))}}function xee(e){var t=e.alternate;return e===jo||t!==null&&t===jo}function vee(e,t){p_=WC=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yee(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,LR(e,r)}}var HC={readContext:Hf,useCallback:su,useContext:su,useEffect:su,useImperativeHandle:su,useInsertionEffect:su,useLayoutEffect:su,useMemo:su,useReducer:su,useRef:su,useState:su,useDebugValue:su,useDeferredValue:su,useTransition:su,useMutableSource:su,useSyncExternalStore:su,useId:su,unstable_isNewReconciler:!1},E2e={readContext:Hf,useCallback:function(e,t){return h0().memoizedState=[e,t===void 0?null:t],e},useContext:Hf,useEffect:Z$,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,KS(4194308,4,dee.bind(null,t,e),r)},useLayoutEffect:function(e,t){return KS(4194308,4,e,t)},useInsertionEffect:function(e,t){return KS(4,2,e,t)},useMemo:function(e,t){var r=h0();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=h0();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=C2e.bind(null,jo,e),[n.memoizedState,e]},useRef:function(e){var t=h0();return e={current:e},t.memoizedState=e},useState:X$,useDebugValue:o7,useDeferredValue:function(e){return h0().memoizedState=e},useTransition:function(){var e=X$(!1),t=e[0];return e=S2e.bind(null,e[1]),h0().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=jo,a=h0();if(po){if(r===void 0)throw Error(Mr(407));r=r()}else{if(r=t(),wc===null)throw Error(Mr(349));fx&30||nee(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Z$(iee.bind(null,n,i,e),[e]),n.flags|=2048,o4(9,aee.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=h0(),t=wc.identifierPrefix;if(po){var r=bm,n=ym;r=(n&~(1<<32-Oh(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=i4++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=N2e++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},j2e={readContext:Hf,useCallback:hee,useContext:Hf,useEffect:s7,useImperativeHandle:fee,useInsertionEffect:cee,useLayoutEffect:uee,useMemo:mee,useReducer:Z8,useRef:lee,useState:function(){return Z8(s4)},useDebugValue:o7,useDeferredValue:function(e){var t=qf();return pee(t,Kl.memoizedState,e)},useTransition:function(){var e=Z8(s4)[0],t=qf().memoizedState;return[e,t]},useMutableSource:tee,useSyncExternalStore:ree,useId:gee,unstable_isNewReconciler:!1},T2e={readContext:Hf,useCallback:hee,useContext:Hf,useEffect:s7,useImperativeHandle:fee,useInsertionEffect:cee,useLayoutEffect:uee,useMemo:mee,useReducer:J8,useRef:lee,useState:function(){return J8(s4)},useDebugValue:o7,useDeferredValue:function(e){var t=qf();return Kl===null?t.memoizedState=e:pee(t,Kl.memoizedState,e)},useTransition:function(){var e=J8(s4)[0],t=qf().memoizedState;return[e,t]},useMutableSource:tee,useSyncExternalStore:ree,useId:gee,unstable_isNewReconciler:!1};function yh(e,t){if(e&&e.defaultProps){t=Oo({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function GO(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Oo({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pj={isMounted:function(e){return(e=e._reactInternals)?Ux(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Gu(),a=n1(e),i=Em(n,a);i.payload=t,r!=null&&(i.callback=r),t=t1(e,i,a),t!==null&&(Ih(t,e,a,n),qS(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Gu(),a=n1(e),i=Em(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=t1(e,i,a),t!==null&&(Ih(t,e,a,n),qS(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Gu(),n=n1(e),a=Em(r,n);a.tag=2,t!=null&&(a.callback=t),t=t1(e,a,n),t!==null&&(Ih(t,e,n,r),qS(t,e,n))}};function J$(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Q_(r,n)||!Q_(a,i):!0}function bee(e,t,r){var n=!1,a=x1,i=t.contextType;return typeof i=="object"&&i!==null?i=Hf(i):(a=yd(t)?ux:bu.current,n=t.contextTypes,i=(n=n!=null)?ay(e,a):x1),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pj,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Q$(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pj.enqueueReplaceState(t,t.state,null)}function KO(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},QR(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Hf(i):(i=yd(t)?ux:bu.current,a.context=ay(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(GO(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&pj.enqueueReplaceState(a,a.state,null),zC(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ly(e,t){try{var r="",n=t;do r+=nve(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Q8(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function YO(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var k2e=typeof WeakMap=="function"?WeakMap:Map;function wee(e,t,r){r=Em(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){GC||(GC=!0,iI=n),YO(e,t)},r}function _ee(e,t,r){r=Em(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){YO(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){YO(e,t),typeof n!="function"&&(r1===null?r1=new Set([this]):r1.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ez(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new k2e;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=W2e.bind(null,e,t,r),t.then(e,e))}function tz(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rz(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Em(-1,1),t.tag=2,t1(r,t,1))),r.lanes|=1),e)}var P2e=Km.ReactCurrentOwner,hd=!1;function Mu(e,t,r,n){t.child=e===null?ZQ(t,null,r,n):sy(t,e.child,r,n)}function nz(e,t,r,n,a){r=r.render;var i=t.ref;return D2(t,a),n=a7(e,t,r,n,i,a),r=i7(),e!==null&&!hd?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bm(e,t,a)):(po&&r&&qR(t),t.flags|=1,Mu(e,t,n,a),t.child)}function az(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!p7(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Nee(e,t,i,n,a)):(e=JS(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Q_,r(o,n)&&e.ref===t.ref)return Bm(e,t,a)}return t.flags|=1,e=a1(i,n),e.ref=t.ref,e.return=t,t.child=e}function Nee(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Q_(i,n)&&e.ref===t.ref)if(hd=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(hd=!0);else return t.lanes=e.lanes,Bm(e,t,a)}return XO(e,t,r,n,a)}function See(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ws(m2,zd),zd|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ws(m2,zd),zd|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ws(m2,zd),zd|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ws(m2,zd),zd|=n;return Mu(e,t,a,r),t.child}function Cee(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function XO(e,t,r,n,a){var i=yd(r)?ux:bu.current;return i=ay(t,i),D2(t,a),r=a7(e,t,r,n,i,a),n=i7(),e!==null&&!hd?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bm(e,t,a)):(po&&n&&qR(t),t.flags|=1,Mu(e,t,r,a),t.child)}function iz(e,t,r,n,a){if(yd(r)){var i=!0;MC(t)}else i=!1;if(D2(t,a),t.stateNode===null)YS(e,t),bee(t,r,n),KO(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Hf(u):(u=yd(r)?ux:bu.current,u=ay(t,u));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Q$(t,o,n,u),Op=!1;var g=t.memoizedState;o.state=g,zC(t,n,o,a),c=t.memoizedState,l!==n||g!==c||vd.current||Op?(typeof f=="function"&&(GO(t,r,f,n),c=t.memoizedState),(l=Op||J$(t,r,l,n,g,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,QQ(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:yh(t.type,l),o.props=u,h=t.pendingProps,g=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Hf(c):(c=yd(r)?ux:bu.current,c=ay(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||g!==c)&&Q$(t,o,n,c),Op=!1,g=t.memoizedState,o.state=g,zC(t,n,o,a);var N=t.memoizedState;l!==h||g!==N||vd.current||Op?(typeof p=="function"&&(GO(t,r,p,n),N=t.memoizedState),(u=Op||J$(t,r,u,n,g,N,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,N,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,N,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=N),o.props=n,o.state=N,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return ZO(e,t,r,n,i,a)}function ZO(e,t,r,n,a,i){Cee(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&W$(t,r,!1),Bm(e,t,i);n=t.stateNode,P2e.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=sy(t,e.child,null,i),t.child=sy(t,null,l,i)):Mu(e,t,l,i),t.memoizedState=n.state,a&&W$(t,r,!0),t.child}function Aee(e){var t=e.stateNode;t.pendingContext?V$(e,t.pendingContext,t.pendingContext!==t.context):t.context&&V$(e,t.context,!1),e7(e,t.containerInfo)}function sz(e,t,r,n,a){return iy(),KR(a),t.flags|=256,Mu(e,t,r,n),t.child}var JO={dehydrated:null,treeContext:null,retryLane:0};function QO(e){return{baseLanes:e,cachePool:null,transitions:null}}function Eee(e,t,r){var n=t.pendingProps,a=Co.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ws(Co,a&1),e===null)return HO(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vj(o,n,0,null),e=rx(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=QO(r),t.memoizedState=JO,e):l7(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return O2e(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=a1(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=a1(l,i):(i=rx(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?QO(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=JO,n}return i=e.child,e=i.sibling,n=a1(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function l7(e,t){return t=vj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function PN(e,t,r,n){return n!==null&&KR(n),sy(t,e.child,null,r),e=l7(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function O2e(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Q8(Error(Mr(422))),PN(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=vj({mode:"visible",children:n.children},a,0,null),i=rx(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&sy(t,e.child,null,o),t.child.memoizedState=QO(o),t.memoizedState=JO,i);if(!(t.mode&1))return PN(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Mr(419)),n=Q8(i,n,void 0),PN(e,t,o,n)}if(l=(o&e.childLanes)!==0,hd||l){if(n=wc,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Lm(e,a),Ih(n,e,a,-1))}return m7(),n=Q8(Error(Mr(421))),PN(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=H2e.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Jd=e1(a.nextSibling),rf=t,po=!0,Sh=null,e!==null&&(Ff[Df++]=ym,Ff[Df++]=bm,Ff[Df++]=dx,ym=e.id,bm=e.overflow,dx=t),t=l7(t,n.children),t.flags|=4096,t)}function oz(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),qO(e.return,t,r)}function ek(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function jee(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Mu(e,t,n.children,r),n=Co.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oz(e,r,t);else if(e.tag===19)oz(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ws(Co,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&VC(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ek(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&VC(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ek(t,!0,r,null,i);break;case"together":ek(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function YS(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bm(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hx|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Mr(153));if(t.child!==null){for(e=t.child,r=a1(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=a1(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function I2e(e,t,r){switch(t.tag){case 3:Aee(t),iy();break;case 5:eee(t);break;case 1:yd(t.type)&&MC(t);break;case 4:e7(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ws(UC,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ws(Co,Co.current&1),t.flags|=128,null):r&t.child.childLanes?Eee(e,t,r):(Ws(Co,Co.current&1),e=Bm(e,t,r),e!==null?e.sibling:null);Ws(Co,Co.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jee(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ws(Co,Co.current),n)break;return null;case 22:case 23:return t.lanes=0,See(e,t,r)}return Bm(e,t,r)}var Tee,eI,kee,Pee;Tee=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};eI=function(){};kee=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Wg(A0.current);var i=null;switch(r){case"input":a=_O(e,a),n=_O(e,n),i=[];break;case"select":a=Oo({},a,{value:void 0}),n=Oo({},n,{value:void 0}),i=[];break;case"textarea":a=CO(e,a),n=CO(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=DC)}EO(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(q_.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(q_.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&eo("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Pee=function(e,t,r,n){r!==n&&(t.flags|=4)};function Nw(e,t){if(!po)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ou(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function F2e(e,t,r){var n=t.pendingProps;switch(GR(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ou(t),null;case 1:return yd(t.type)&&RC(),ou(t),null;case 3:return n=t.stateNode,oy(),so(vd),so(bu),r7(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(TN(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sh!==null&&(lI(Sh),Sh=null))),eI(e,t),ou(t),null;case 5:t7(t);var a=Wg(a4.current);if(r=t.type,e!==null&&t.stateNode!=null)kee(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Mr(166));return ou(t),null}if(e=Wg(A0.current),TN(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[m0]=t,n[r4]=i,e=(t.mode&1)!==0,r){case"dialog":eo("cancel",n),eo("close",n);break;case"iframe":case"object":case"embed":eo("load",n);break;case"video":case"audio":for(a=0;a<t_.length;a++)eo(t_[a],n);break;case"source":eo("error",n);break;case"img":case"image":case"link":eo("error",n),eo("load",n);break;case"details":eo("toggle",n);break;case"input":g$(n,i),eo("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},eo("invalid",n);break;case"textarea":v$(n,i),eo("invalid",n)}EO(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&jN(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&jN(n.textContent,l,e),a=["children",""+l]):q_.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&eo("scroll",n)}switch(r){case"input":bN(n),x$(n,i,!0);break;case"textarea":bN(n),y$(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=DC)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iQ(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[m0]=t,e[r4]=n,Tee(e,t,!1,!1),t.stateNode=e;e:{switch(o=jO(r,n),r){case"dialog":eo("cancel",e),eo("close",e),a=n;break;case"iframe":case"object":case"embed":eo("load",e),a=n;break;case"video":case"audio":for(a=0;a<t_.length;a++)eo(t_[a],e);a=n;break;case"source":eo("error",e),a=n;break;case"img":case"image":case"link":eo("error",e),eo("load",e),a=n;break;case"details":eo("toggle",e),a=n;break;case"input":g$(e,n),a=_O(e,n),eo("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Oo({},n,{value:void 0}),eo("invalid",e);break;case"textarea":v$(e,n),a=CO(e,n),eo("invalid",e);break;default:a=n}EO(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?lQ(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sQ(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&G_(e,c):typeof c=="number"&&G_(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(q_.hasOwnProperty(i)?c!=null&&i==="onScroll"&&eo("scroll",e):c!=null&&OR(e,i,c,o))}switch(r){case"input":bN(e),x$(e,n,!1);break;case"textarea":bN(e),y$(e);break;case"option":n.value!=null&&e.setAttribute("value",""+g1(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?P2(e,!!n.multiple,i,!1):n.defaultValue!=null&&P2(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=DC)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ou(t),null;case 6:if(e&&t.stateNode!=null)Pee(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Mr(166));if(r=Wg(a4.current),Wg(A0.current),TN(t)){if(n=t.stateNode,r=t.memoizedProps,n[m0]=t,(i=n.nodeValue!==r)&&(e=rf,e!==null))switch(e.tag){case 3:jN(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jN(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[m0]=t,t.stateNode=n}return ou(t),null;case 13:if(so(Co),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(po&&Jd!==null&&t.mode&1&&!(t.flags&128))YQ(),iy(),t.flags|=98560,i=!1;else if(i=TN(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Mr(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Mr(317));i[m0]=t}else iy(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ou(t),i=!1}else Sh!==null&&(lI(Sh),Sh=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Co.current&1?Zl===0&&(Zl=3):m7())),t.updateQueue!==null&&(t.flags|=4),ou(t),null);case 4:return oy(),eI(e,t),e===null&&e4(t.stateNode.containerInfo),ou(t),null;case 10:return ZR(t.type._context),ou(t),null;case 17:return yd(t.type)&&RC(),ou(t),null;case 19:if(so(Co),i=t.memoizedState,i===null)return ou(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Nw(i,!1);else{if(Zl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=VC(e),o!==null){for(t.flags|=128,Nw(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ws(Co,Co.current&1|2),t.child}e=e.sibling}i.tail!==null&&sl()>cy&&(t.flags|=128,n=!0,Nw(i,!1),t.lanes=4194304)}else{if(!n)if(e=VC(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Nw(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!po)return ou(t),null}else 2*sl()-i.renderingStartTime>cy&&r!==1073741824&&(t.flags|=128,n=!0,Nw(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=sl(),t.sibling=null,r=Co.current,Ws(Co,n?r&1|2:r&1),t):(ou(t),null);case 22:case 23:return h7(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?zd&1073741824&&(ou(t),t.subtreeFlags&6&&(t.flags|=8192)):ou(t),null;case 24:return null;case 25:return null}throw Error(Mr(156,t.tag))}function D2e(e,t){switch(GR(t),t.tag){case 1:return yd(t.type)&&RC(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oy(),so(vd),so(bu),r7(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return t7(t),null;case 13:if(so(Co),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Mr(340));iy()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return so(Co),null;case 4:return oy(),null;case 10:return ZR(t.type._context),null;case 22:case 23:return h7(),null;case 24:return null;default:return null}}var ON=!1,pu=!1,R2e=typeof WeakSet=="function"?WeakSet:Set,On=null;function h2(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){zo(e,t,n)}else r.current=null}function tI(e,t,r){try{r()}catch(n){zo(e,t,n)}}var lz=!1;function M2e(e,t){if(LO=OC,e=RQ(),HR(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,h=e,g=null;t:for(;;){for(var p;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)g=h,h=p;for(;;){if(h===e)break t;if(g===r&&++u===a&&(l=o),g===i&&++f===n&&(c=o),(p=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(BO={focusedElem:e,selectionRange:r},OC=!1,On=t;On!==null;)if(t=On,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,On=e;else for(;On!==null;){t=On;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var b=N.memoizedProps,S=N.memoizedState,C=t.stateNode,j=C.getSnapshotBeforeUpdate(t.elementType===t.type?b:yh(t.type,b),S);C.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Mr(163))}}catch(O){zo(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,On=e;break}On=t.return}return N=lz,lz=!1,N}function g_(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&tI(t,r,i)}a=a.next}while(a!==n)}}function gj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function rI(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Oee(e){var t=e.alternate;t!==null&&(e.alternate=null,Oee(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[m0],delete t[r4],delete t[zO],delete t[y2e],delete t[b2e])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iee(e){return e.tag===5||e.tag===3||e.tag===4}function cz(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iee(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nI(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=DC));else if(n!==4&&(e=e.child,e!==null))for(nI(e,t,r),e=e.sibling;e!==null;)nI(e,t,r),e=e.sibling}function aI(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(aI(e,t,r),e=e.sibling;e!==null;)aI(e,t,r),e=e.sibling}var Lc=null,wh=!1;function yp(e,t,r){for(r=r.child;r!==null;)Fee(e,t,r),r=r.sibling}function Fee(e,t,r){if(C0&&typeof C0.onCommitFiberUnmount=="function")try{C0.onCommitFiberUnmount(lj,r)}catch{}switch(r.tag){case 5:pu||h2(r,t);case 6:var n=Lc,a=wh;Lc=null,yp(e,t,r),Lc=n,wh=a,Lc!==null&&(wh?(e=Lc,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Lc.removeChild(r.stateNode));break;case 18:Lc!==null&&(wh?(e=Lc,r=r.stateNode,e.nodeType===8?G8(e.parentNode,r):e.nodeType===1&&G8(e,r),Z_(e)):G8(Lc,r.stateNode));break;case 4:n=Lc,a=wh,Lc=r.stateNode.containerInfo,wh=!0,yp(e,t,r),Lc=n,wh=a;break;case 0:case 11:case 14:case 15:if(!pu&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tI(r,t,o),a=a.next}while(a!==n)}yp(e,t,r);break;case 1:if(!pu&&(h2(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){zo(r,t,l)}yp(e,t,r);break;case 21:yp(e,t,r);break;case 22:r.mode&1?(pu=(n=pu)||r.memoizedState!==null,yp(e,t,r),pu=n):yp(e,t,r);break;default:yp(e,t,r)}}function uz(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new R2e),t.forEach(function(n){var a=q2e.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function fh(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Lc=l.stateNode,wh=!1;break e;case 3:Lc=l.stateNode.containerInfo,wh=!0;break e;case 4:Lc=l.stateNode.containerInfo,wh=!0;break e}l=l.return}if(Lc===null)throw Error(Mr(160));Fee(i,o,a),Lc=null,wh=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){zo(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dee(t,e),t=t.sibling}function Dee(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fh(t,e),l0(e),n&4){try{g_(3,e,e.return),gj(3,e)}catch(b){zo(e,e.return,b)}try{g_(5,e,e.return)}catch(b){zo(e,e.return,b)}}break;case 1:fh(t,e),l0(e),n&512&&r!==null&&h2(r,r.return);break;case 5:if(fh(t,e),l0(e),n&512&&r!==null&&h2(r,r.return),e.flags&32){var a=e.stateNode;try{G_(a,"")}catch(b){zo(e,e.return,b)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&nQ(a,i),jO(l,o);var u=jO(l,i);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];f==="style"?lQ(a,h):f==="dangerouslySetInnerHTML"?sQ(a,h):f==="children"?G_(a,h):OR(a,f,h,u)}switch(l){case"input":NO(a,i);break;case"textarea":aQ(a,i);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?P2(a,!!i.multiple,p,!1):g!==!!i.multiple&&(i.defaultValue!=null?P2(a,!!i.multiple,i.defaultValue,!0):P2(a,!!i.multiple,i.multiple?[]:"",!1))}a[r4]=i}catch(b){zo(e,e.return,b)}}break;case 6:if(fh(t,e),l0(e),n&4){if(e.stateNode===null)throw Error(Mr(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){zo(e,e.return,b)}}break;case 3:if(fh(t,e),l0(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Z_(t.containerInfo)}catch(b){zo(e,e.return,b)}break;case 4:fh(t,e),l0(e);break;case 13:fh(t,e),l0(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(d7=sl())),n&4&&uz(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(pu=(u=pu)||f,fh(t,e),pu=u):fh(t,e),l0(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(On=e,f=e.child;f!==null;){for(h=On=f;On!==null;){switch(g=On,p=g.child,g.tag){case 0:case 11:case 14:case 15:g_(4,g,g.return);break;case 1:h2(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(b){zo(n,r,b)}}break;case 5:h2(g,g.return);break;case 22:if(g.memoizedState!==null){fz(h);continue}}p!==null?(p.return=g,On=p):fz(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=oQ("display",o))}catch(b){zo(e,e.return,b)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){zo(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fh(t,e),l0(e),n&4&&uz(e);break;case 21:break;default:fh(t,e),l0(e)}}function l0(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Iee(r)){var n=r;break e}r=r.return}throw Error(Mr(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(G_(a,""),n.flags&=-33);var i=cz(e);aI(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=cz(e);nI(e,l,o);break;default:throw Error(Mr(161))}}catch(c){zo(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L2e(e,t,r){On=e,Ree(e)}function Ree(e,t,r){for(var n=(e.mode&1)!==0;On!==null;){var a=On,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||ON;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||pu;l=ON;var u=pu;if(ON=o,(pu=c)&&!u)for(On=a;On!==null;)o=On,c=o.child,o.tag===22&&o.memoizedState!==null?hz(a):c!==null?(c.return=o,On=c):hz(a);for(;i!==null;)On=i,Ree(i),i=i.sibling;On=a,ON=l,pu=u}dz(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,On=i):dz(e)}}function dz(e){for(;On!==null;){var t=On;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pu||gj(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pu)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:yh(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Y$(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Y$(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Z_(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Mr(163))}pu||t.flags&512&&rI(t)}catch(g){zo(t,t.return,g)}}if(t===e){On=null;break}if(r=t.sibling,r!==null){r.return=t.return,On=r;break}On=t.return}}function fz(e){for(;On!==null;){var t=On;if(t===e){On=null;break}var r=t.sibling;if(r!==null){r.return=t.return,On=r;break}On=t.return}}function hz(e){for(;On!==null;){var t=On;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gj(4,t)}catch(c){zo(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){zo(t,a,c)}}var i=t.return;try{rI(t)}catch(c){zo(t,i,c)}break;case 5:var o=t.return;try{rI(t)}catch(c){zo(t,o,c)}}}catch(c){zo(t,t.return,c)}if(t===e){On=null;break}var l=t.sibling;if(l!==null){l.return=t.return,On=l;break}On=t.return}}var B2e=Math.ceil,qC=Km.ReactCurrentDispatcher,c7=Km.ReactCurrentOwner,$f=Km.ReactCurrentBatchConfig,zi=0,wc=null,Tl=null,Gc=0,zd=0,m2=D1(0),Zl=0,l4=null,hx=0,xj=0,u7=0,x_=null,ud=null,d7=0,cy=1/0,hm=null,GC=!1,iI=null,r1=null,IN=!1,$p=null,KC=0,v_=0,sI=null,XS=-1,ZS=0;function Gu(){return zi&6?sl():XS!==-1?XS:XS=sl()}function n1(e){return e.mode&1?zi&2&&Gc!==0?Gc&-Gc:_2e.transition!==null?(ZS===0&&(ZS=bQ()),ZS):(e=ws,e!==0||(e=window.event,e=e===void 0?16:EQ(e.type)),e):1}function Ih(e,t,r,n){if(50<v_)throw v_=0,sI=null,Error(Mr(185));j5(e,r,n),(!(zi&2)||e!==wc)&&(e===wc&&(!(zi&2)&&(xj|=r),Zl===4&&Rp(e,Gc)),bd(e,n),r===1&&zi===0&&!(t.mode&1)&&(cy=sl()+500,hj&&R1()))}function bd(e,t){var r=e.callbackNode;_ve(e,t);var n=PC(e,e===wc?Gc:0);if(n===0)r!==null&&_$(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_$(r),t===1)e.tag===0?w2e(mz.bind(null,e)):qQ(mz.bind(null,e)),x2e(function(){!(zi&6)&&R1()}),r=null;else{switch(wQ(n)){case 1:r=MR;break;case 4:r=vQ;break;case 16:r=kC;break;case 536870912:r=yQ;break;default:r=kC}r=Wee(r,Mee.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Mee(e,t){if(XS=-1,ZS=0,zi&6)throw Error(Mr(327));var r=e.callbackNode;if(R2()&&e.callbackNode!==r)return null;var n=PC(e,e===wc?Gc:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=YC(e,n);else{t=n;var a=zi;zi|=2;var i=Bee();(wc!==e||Gc!==t)&&(hm=null,cy=sl()+500,tx(e,t));do try{z2e();break}catch(l){Lee(e,l)}while(1);XR(),qC.current=i,zi=a,Tl!==null?t=0:(wc=null,Gc=0,t=Zl)}if(t!==0){if(t===2&&(a=IO(e),a!==0&&(n=a,t=oI(e,a))),t===1)throw r=l4,tx(e,0),Rp(e,n),bd(e,sl()),r;if(t===6)Rp(e,n);else{if(a=e.current.alternate,!(n&30)&&!U2e(a)&&(t=YC(e,n),t===2&&(i=IO(e),i!==0&&(n=i,t=oI(e,i))),t===1))throw r=l4,tx(e,0),Rp(e,n),bd(e,sl()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Mr(345));case 2:Cg(e,ud,hm);break;case 3:if(Rp(e,n),(n&130023424)===n&&(t=d7+500-sl(),10<t)){if(PC(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Gu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$O(Cg.bind(null,e,ud,hm),t);break}Cg(e,ud,hm);break;case 4:if(Rp(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Oh(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=sl()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*B2e(n/1960))-n,10<n){e.timeoutHandle=$O(Cg.bind(null,e,ud,hm),n);break}Cg(e,ud,hm);break;case 5:Cg(e,ud,hm);break;default:throw Error(Mr(329))}}}return bd(e,sl()),e.callbackNode===r?Mee.bind(null,e):null}function oI(e,t){var r=x_;return e.current.memoizedState.isDehydrated&&(tx(e,t).flags|=256),e=YC(e,t),e!==2&&(t=ud,ud=r,t!==null&&lI(t)),e}function lI(e){ud===null?ud=e:ud.push.apply(ud,e)}function U2e(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Rh(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rp(e,t){for(t&=~u7,t&=~xj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Oh(t),n=1<<r;e[r]=-1,t&=~n}}function mz(e){if(zi&6)throw Error(Mr(327));R2();var t=PC(e,0);if(!(t&1))return bd(e,sl()),null;var r=YC(e,t);if(e.tag!==0&&r===2){var n=IO(e);n!==0&&(t=n,r=oI(e,n))}if(r===1)throw r=l4,tx(e,0),Rp(e,t),bd(e,sl()),r;if(r===6)throw Error(Mr(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cg(e,ud,hm),bd(e,sl()),null}function f7(e,t){var r=zi;zi|=1;try{return e(t)}finally{zi=r,zi===0&&(cy=sl()+500,hj&&R1())}}function mx(e){$p!==null&&$p.tag===0&&!(zi&6)&&R2();var t=zi;zi|=1;var r=$f.transition,n=ws;try{if($f.transition=null,ws=1,e)return e()}finally{ws=n,$f.transition=r,zi=t,!(zi&6)&&R1()}}function h7(){zd=m2.current,so(m2)}function tx(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,g2e(r)),Tl!==null)for(r=Tl.return;r!==null;){var n=r;switch(GR(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&RC();break;case 3:oy(),so(vd),so(bu),r7();break;case 5:t7(n);break;case 4:oy();break;case 13:so(Co);break;case 19:so(Co);break;case 10:ZR(n.type._context);break;case 22:case 23:h7()}r=r.return}if(wc=e,Tl=e=a1(e.current,null),Gc=zd=t,Zl=0,l4=null,u7=xj=hx=0,ud=x_=null,Vg!==null){for(t=0;t<Vg.length;t++)if(r=Vg[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Vg=null}return e}function Lee(e,t){do{var r=Tl;try{if(XR(),GS.current=HC,WC){for(var n=jo.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}WC=!1}if(fx=0,mc=Kl=jo=null,p_=!1,i4=0,c7.current=null,r===null||r.return===null){Zl=1,l4=t,Tl=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Gc,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=tz(o);if(p!==null){p.flags&=-257,rz(p,o,l,i,t),p.mode&1&&ez(i,u,t),t=p,c=u;var N=t.updateQueue;if(N===null){var b=new Set;b.add(c),t.updateQueue=b}else N.add(c);break e}else{if(!(t&1)){ez(i,u,t),m7();break e}c=Error(Mr(426))}}else if(po&&l.mode&1){var S=tz(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),rz(S,o,l,i,t),KR(ly(c,l));break e}}i=c=ly(c,l),Zl!==4&&(Zl=2),x_===null?x_=[i]:x_.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var C=wee(i,c,t);K$(i,C);break e;case 1:l=c;var j=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof j.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(r1===null||!r1.has(T)))){i.flags|=65536,t&=-t,i.lanes|=t;var O=_ee(i,l,t);K$(i,O);break e}}i=i.return}while(i!==null)}$ee(r)}catch(M){t=M,Tl===r&&r!==null&&(Tl=r=r.return);continue}break}while(1)}function Bee(){var e=qC.current;return qC.current=HC,e===null?HC:e}function m7(){(Zl===0||Zl===3||Zl===2)&&(Zl=4),wc===null||!(hx&268435455)&&!(xj&268435455)||Rp(wc,Gc)}function YC(e,t){var r=zi;zi|=2;var n=Bee();(wc!==e||Gc!==t)&&(hm=null,tx(e,t));do try{$2e();break}catch(a){Lee(e,a)}while(1);if(XR(),zi=r,qC.current=n,Tl!==null)throw Error(Mr(261));return wc=null,Gc=0,Zl}function $2e(){for(;Tl!==null;)Uee(Tl)}function z2e(){for(;Tl!==null&&!hve();)Uee(Tl)}function Uee(e){var t=Vee(e.alternate,e,zd);e.memoizedProps=e.pendingProps,t===null?$ee(e):Tl=t,c7.current=null}function $ee(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=D2e(r,t),r!==null){r.flags&=32767,Tl=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zl=6,Tl=null;return}}else if(r=F2e(r,t,zd),r!==null){Tl=r;return}if(t=t.sibling,t!==null){Tl=t;return}Tl=t=e}while(t!==null);Zl===0&&(Zl=5)}function Cg(e,t,r){var n=ws,a=$f.transition;try{$f.transition=null,ws=1,V2e(e,t,r,n)}finally{$f.transition=a,ws=n}return null}function V2e(e,t,r,n){do R2();while($p!==null);if(zi&6)throw Error(Mr(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Mr(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Nve(e,i),e===wc&&(Tl=wc=null,Gc=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||IN||(IN=!0,Wee(kC,function(){return R2(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=$f.transition,$f.transition=null;var o=ws;ws=1;var l=zi;zi|=4,c7.current=null,M2e(e,r),Dee(r,e),c2e(BO),OC=!!LO,BO=LO=null,e.current=r,L2e(r),mve(),zi=l,ws=o,$f.transition=i}else e.current=r;if(IN&&(IN=!1,$p=e,KC=a),i=e.pendingLanes,i===0&&(r1=null),xve(r.stateNode),bd(e,sl()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(GC)throw GC=!1,e=iI,iI=null,e;return KC&1&&e.tag!==0&&R2(),i=e.pendingLanes,i&1?e===sI?v_++:(v_=0,sI=e):v_=0,R1(),null}function R2(){if($p!==null){var e=wQ(KC),t=$f.transition,r=ws;try{if($f.transition=null,ws=16>e?16:e,$p===null)var n=!1;else{if(e=$p,$p=null,KC=0,zi&6)throw Error(Mr(331));var a=zi;for(zi|=4,On=e.current;On!==null;){var i=On,o=i.child;if(On.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(On=u;On!==null;){var f=On;switch(f.tag){case 0:case 11:case 15:g_(8,f,i)}var h=f.child;if(h!==null)h.return=f,On=h;else for(;On!==null;){f=On;var g=f.sibling,p=f.return;if(Oee(f),f===u){On=null;break}if(g!==null){g.return=p,On=g;break}On=p}}}var N=i.alternate;if(N!==null){var b=N.child;if(b!==null){N.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}On=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,On=o;else e:for(;On!==null;){if(i=On,i.flags&2048)switch(i.tag){case 0:case 11:case 15:g_(9,i,i.return)}var C=i.sibling;if(C!==null){C.return=i.return,On=C;break e}On=i.return}}var j=e.current;for(On=j;On!==null;){o=On;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,On=T;else e:for(o=j;On!==null;){if(l=On,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gj(9,l)}}catch(M){zo(l,l.return,M)}if(l===o){On=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,On=O;break e}On=l.return}}if(zi=a,R1(),C0&&typeof C0.onPostCommitFiberRoot=="function")try{C0.onPostCommitFiberRoot(lj,e)}catch{}n=!0}return n}finally{ws=r,$f.transition=t}}return!1}function pz(e,t,r){t=ly(r,t),t=wee(e,t,1),e=t1(e,t,1),t=Gu(),e!==null&&(j5(e,1,t),bd(e,t))}function zo(e,t,r){if(e.tag===3)pz(e,e,r);else for(;t!==null;){if(t.tag===3){pz(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(r1===null||!r1.has(n))){e=ly(r,e),e=_ee(t,e,1),t=t1(t,e,1),e=Gu(),t!==null&&(j5(t,1,e),bd(t,e));break}}t=t.return}}function W2e(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Gu(),e.pingedLanes|=e.suspendedLanes&r,wc===e&&(Gc&r)===r&&(Zl===4||Zl===3&&(Gc&130023424)===Gc&&500>sl()-d7?tx(e,0):u7|=r),bd(e,t)}function zee(e,t){t===0&&(e.mode&1?(t=NN,NN<<=1,!(NN&130023424)&&(NN=4194304)):t=1);var r=Gu();e=Lm(e,t),e!==null&&(j5(e,t,r),bd(e,r))}function H2e(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),zee(e,r)}function q2e(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Mr(314))}n!==null&&n.delete(t),zee(e,r)}var Vee;Vee=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||vd.current)hd=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hd=!1,I2e(e,t,r);hd=!!(e.flags&131072)}else hd=!1,po&&t.flags&1048576&&GQ(t,BC,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;YS(e,t),e=t.pendingProps;var a=ay(t,bu.current);D2(t,r),a=a7(null,t,n,e,a,r);var i=i7();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yd(n)?(i=!0,MC(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,QR(t),a.updater=pj,t.stateNode=a,a._reactInternals=t,KO(t,n,e,r),t=ZO(null,t,n,!0,i,r)):(t.tag=0,po&&i&&qR(t),Mu(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(YS(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=K2e(n),e=yh(n,e),a){case 0:t=XO(null,t,n,e,r);break e;case 1:t=iz(null,t,n,e,r);break e;case 11:t=nz(null,t,n,e,r);break e;case 14:t=az(null,t,n,yh(n.type,e),r);break e}throw Error(Mr(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yh(n,a),XO(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yh(n,a),iz(e,t,n,a,r);case 3:e:{if(Aee(t),e===null)throw Error(Mr(387));n=t.pendingProps,i=t.memoizedState,a=i.element,QQ(e,t),zC(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ly(Error(Mr(423)),t),t=sz(e,t,n,r,a);break e}else if(n!==a){a=ly(Error(Mr(424)),t),t=sz(e,t,n,r,a);break e}else for(Jd=e1(t.stateNode.containerInfo.firstChild),rf=t,po=!0,Sh=null,r=ZQ(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(iy(),n===a){t=Bm(e,t,r);break e}Mu(e,t,n,r)}t=t.child}return t;case 5:return eee(t),e===null&&HO(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,UO(n,a)?o=null:i!==null&&UO(n,i)&&(t.flags|=32),Cee(e,t),Mu(e,t,o,r),t.child;case 6:return e===null&&HO(t),null;case 13:return Eee(e,t,r);case 4:return e7(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=sy(t,null,n,r):Mu(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yh(n,a),nz(e,t,n,a,r);case 7:return Mu(e,t,t.pendingProps,r),t.child;case 8:return Mu(e,t,t.pendingProps.children,r),t.child;case 12:return Mu(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ws(UC,n._currentValue),n._currentValue=o,i!==null)if(Rh(i.value,o)){if(i.children===a.children&&!vd.current){t=Bm(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Em(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),qO(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Mr(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),qO(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Mu(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,D2(t,r),a=Hf(a),n=n(a),t.flags|=1,Mu(e,t,n,r),t.child;case 14:return n=t.type,a=yh(n,t.pendingProps),a=yh(n.type,a),az(e,t,n,a,r);case 15:return Nee(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yh(n,a),YS(e,t),t.tag=1,yd(n)?(e=!0,MC(t)):e=!1,D2(t,r),bee(t,n,a),KO(t,n,a,r),ZO(null,t,n,!0,e,r);case 19:return jee(e,t,r);case 22:return See(e,t,r)}throw Error(Mr(156,t.tag))};function Wee(e,t){return xQ(e,t)}function G2e(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bf(e,t,r,n){return new G2e(e,t,r,n)}function p7(e){return e=e.prototype,!(!e||!e.isReactComponent)}function K2e(e){if(typeof e=="function")return p7(e)?1:0;if(e!=null){if(e=e.$$typeof,e===FR)return 11;if(e===DR)return 14}return 2}function a1(e,t){var r=e.alternate;return r===null?(r=Bf(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function JS(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")p7(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case a2:return rx(r.children,a,i,t);case IR:o=8,a|=8;break;case vO:return e=Bf(12,r,t,a|2),e.elementType=vO,e.lanes=i,e;case yO:return e=Bf(13,r,t,a),e.elementType=yO,e.lanes=i,e;case bO:return e=Bf(19,r,t,a),e.elementType=bO,e.lanes=i,e;case eQ:return vj(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case JJ:o=10;break e;case QJ:o=9;break e;case FR:o=11;break e;case DR:o=14;break e;case Pp:o=16,n=null;break e}throw Error(Mr(130,e==null?e:typeof e,""))}return t=Bf(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function rx(e,t,r,n){return e=Bf(7,e,n,t),e.lanes=r,e}function vj(e,t,r,n){return e=Bf(22,e,n,t),e.elementType=eQ,e.lanes=r,e.stateNode={isHidden:!1},e}function tk(e,t,r){return e=Bf(6,e,null,t),e.lanes=r,e}function rk(e,t,r){return t=Bf(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Y2e(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R8(0),this.expirationTimes=R8(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R8(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function g7(e,t,r,n,a,i,o,l,c){return e=new Y2e(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Bf(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},QR(i),e}function X2e(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n2,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Hee(e){if(!e)return x1;e=e._reactInternals;e:{if(Ux(e)!==e||e.tag!==1)throw Error(Mr(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yd(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Mr(171))}if(e.tag===1){var r=e.type;if(yd(r))return HQ(e,r,t)}return t}function qee(e,t,r,n,a,i,o,l,c){return e=g7(r,n,!0,e,a,i,o,l,c),e.context=Hee(null),r=e.current,n=Gu(),a=n1(r),i=Em(n,a),i.callback=t??null,t1(r,i,a),e.current.lanes=a,j5(e,a,n),bd(e,n),e}function yj(e,t,r,n){var a=t.current,i=Gu(),o=n1(a);return r=Hee(r),t.context===null?t.context=r:t.pendingContext=r,t=Em(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=t1(a,t,o),e!==null&&(Ih(e,a,o,i),qS(e,a,o)),o}function XC(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gz(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function x7(e,t){gz(e,t),(e=e.alternate)&&gz(e,t)}function Z2e(){return null}var Gee=typeof reportError=="function"?reportError:function(e){console.error(e)};function v7(e){this._internalRoot=e}bj.prototype.render=v7.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Mr(409));yj(e,t,null,null)};bj.prototype.unmount=v7.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mx(function(){yj(null,e,null,null)}),t[Mm]=null}};function bj(e){this._internalRoot=e}bj.prototype.unstable_scheduleHydration=function(e){if(e){var t=SQ();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dp.length&&t!==0&&t<Dp[r].priority;r++);Dp.splice(r,0,e),r===0&&AQ(e)}};function y7(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xz(){}function J2e(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=XC(o);i.call(u)}}var o=qee(t,n,e,0,null,!1,!1,"",xz);return e._reactRootContainer=o,e[Mm]=o.current,e4(e.nodeType===8?e.parentNode:e),mx(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=XC(c);l.call(u)}}var c=g7(e,0,!1,null,null,!1,!1,"",xz);return e._reactRootContainer=c,e[Mm]=c.current,e4(e.nodeType===8?e.parentNode:e),mx(function(){yj(t,c,r,n)}),c}function _j(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=XC(o);l.call(c)}}yj(t,o,e,a)}else o=J2e(r,t,e,a,n);return XC(o)}_Q=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=e_(t.pendingLanes);r!==0&&(LR(t,r|1),bd(t,sl()),!(zi&6)&&(cy=sl()+500,R1()))}break;case 13:mx(function(){var n=Lm(e,1);if(n!==null){var a=Gu();Ih(n,e,1,a)}}),x7(e,1)}};BR=function(e){if(e.tag===13){var t=Lm(e,134217728);if(t!==null){var r=Gu();Ih(t,e,134217728,r)}x7(e,134217728)}};NQ=function(e){if(e.tag===13){var t=n1(e),r=Lm(e,t);if(r!==null){var n=Gu();Ih(r,e,t,n)}x7(e,t)}};SQ=function(){return ws};CQ=function(e,t){var r=ws;try{return ws=e,t()}finally{ws=r}};kO=function(e,t,r){switch(t){case"input":if(NO(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=fj(n);if(!a)throw Error(Mr(90));rQ(n),NO(n,a)}}}break;case"textarea":aQ(e,r);break;case"select":t=r.value,t!=null&&P2(e,!!r.multiple,t,!1)}};dQ=f7;fQ=mx;var Q2e={usingClientEntryPoint:!1,Events:[k5,l2,fj,cQ,uQ,f7]},Sw={findFiberByHostInstance:zg,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eye={bundleType:Sw.bundleType,version:Sw.version,rendererPackageName:Sw.rendererPackageName,rendererConfig:Sw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Km.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pQ(e),e===null?null:e.stateNode},findFiberByHostInstance:Sw.findFiberByHostInstance||Z2e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var FN=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!FN.isDisabled&&FN.supportsFiber)try{lj=FN.inject(eye),C0=FN}catch{}}hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q2e;hf.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y7(t))throw Error(Mr(200));return X2e(e,t,null,r)};hf.createRoot=function(e,t){if(!y7(e))throw Error(Mr(299));var r=!1,n="",a=Gee;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=g7(e,1,!1,null,null,r,!1,n,a),e[Mm]=t.current,e4(e.nodeType===8?e.parentNode:e),new v7(t)};hf.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Mr(188)):(e=Object.keys(e).join(","),Error(Mr(268,e)));return e=pQ(t),e=e===null?null:e.stateNode,e};hf.flushSync=function(e){return mx(e)};hf.hydrate=function(e,t,r){if(!wj(t))throw Error(Mr(200));return _j(null,e,t,!0,r)};hf.hydrateRoot=function(e,t,r){if(!y7(e))throw Error(Mr(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=Gee;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=qee(t,null,e,1,r??null,a,!1,i,o),e[Mm]=t.current,e4(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new bj(t)};hf.render=function(e,t,r){if(!wj(t))throw Error(Mr(200));return _j(null,e,t,!1,r)};hf.unmountComponentAtNode=function(e){if(!wj(e))throw Error(Mr(40));return e._reactRootContainer?(mx(function(){_j(null,null,e,!1,function(){e._reactRootContainer=null,e[Mm]=null})}),!0):!1};hf.unstable_batchedUpdates=f7;hf.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!wj(r))throw Error(Mr(200));if(e==null||e._reactInternals===void 0)throw Error(Mr(38));return _j(e,t,r,!1,n)};hf.version="18.3.1-next-f1338f8080-20240426";function Kee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kee)}catch(e){console.error(e)}}Kee(),KJ.exports=hf;var $x=KJ.exports;const tye=ji($x);var vz=$x;gO.createRoot=vz.createRoot,gO.hydrateRoot=vz.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function c4(){return c4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c4.apply(this,arguments)}var zp;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zp||(zp={}));const yz="popstate";function rye(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return cI("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ZC(a)}return aye(t,r,null,e)}function Ko(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function b7(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nye(){return Math.random().toString(36).substr(2,8)}function bz(e,t){return{usr:e.state,key:e.key,idx:t}}function cI(e,t,r,n){return r===void 0&&(r=null),c4({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?cb(t):t,{state:r,key:t&&t.key||n||nye()})}function ZC(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cb(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function aye(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=zp.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(c4({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function h(){l=zp.Pop;let S=f(),C=S==null?null:S-u;u=S,c&&c({action:l,location:b.location,delta:C})}function g(S,C){l=zp.Push;let j=cI(b.location,S,C);r&&r(j,S),u=f()+1;let T=bz(j,u),O=b.createHref(j);try{o.pushState(T,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(O)}i&&c&&c({action:l,location:b.location,delta:1})}function p(S,C){l=zp.Replace;let j=cI(b.location,S,C);r&&r(j,S),u=f();let T=bz(j,u),O=b.createHref(j);o.replaceState(T,"",O),i&&c&&c({action:l,location:b.location,delta:0})}function N(S){let C=a.location.origin!=="null"?a.location.origin:a.location.href,j=typeof S=="string"?S:ZC(S);return j=j.replace(/ $/,"%20"),Ko(C,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,C)}let b={get action(){return l},get location(){return e(a,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(yz,h),c=S,()=>{a.removeEventListener(yz,h),c=null}},createHref(S){return t(a,S)},createURL:N,encodeLocation(S){let C=N(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:p,go(S){return o.go(S)}};return b}var wz;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wz||(wz={}));function iye(e,t,r){return r===void 0&&(r="/"),sye(e,t,r,!1)}function sye(e,t,r,n){let a=typeof t=="string"?cb(t):t,i=uy(a.pathname||"/",r);if(i==null)return null;let o=Yee(e);oye(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=vye(i);l=gye(o[c],u,n)}return l}function Yee(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ko(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=i1([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(Ko(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Yee(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:mye(u,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Xee(i.path))a(i,o,c)}),t}function Xee(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Xee(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function oye(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:pye(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lye=/^:[\w-]+$/,cye=3,uye=2,dye=1,fye=10,hye=-2,_z=e=>e==="*";function mye(e,t){let r=e.split("/"),n=r.length;return r.some(_z)&&(n+=hye),t&&(n+=uye),r.filter(a=>!_z(a)).reduce((a,i)=>a+(lye.test(i)?cye:i===""?dye:fye),n)}function pye(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function gye(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=JC({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=JC({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:i1([i,h.pathname]),pathnameBase:Nye(i1([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=i1([i,h.pathnameBase]))}return o}function JC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=xye(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,f,h)=>{let{paramName:g,isOptional:p}=f;if(g==="*"){let b=l[h]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const N=l[h];return p&&!N?u[g]=void 0:u[g]=(N||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function xye(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),b7(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function vye(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return b7(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function uy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const yye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bye=e=>yye.test(e);function wye(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?cb(e):e,i;if(r)if(bye(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),b7(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Nz(r.substring(1),"/"):i=Nz(r,t)}else i=t;return{pathname:i,search:Sye(n),hash:Cye(a)}}function Nz(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function nk(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _ye(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Zee(e,t){let r=_ye(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jee(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=cb(e):(a=c4({},e),Ko(!a.pathname||!a.pathname.includes("?"),nk("?","pathname","search",a)),Ko(!a.pathname||!a.pathname.includes("#"),nk("#","pathname","hash",a)),Ko(!a.search||!a.search.includes("#"),nk("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;a.pathname=g.join("/")}l=h>=0?t[h]:"/"}let c=wye(a,l),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const i1=e=>e.join("/").replace(/\/\/+/g,"/"),Nye=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sye=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cye=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Aye(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Qee=["post","put","patch","delete"];new Set(Qee);const Eye=["get",...Qee];new Set(Eye);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function u4(){return u4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u4.apply(this,arguments)}const Nj=A.createContext(null),ete=A.createContext(null),M1=A.createContext(null),Sj=A.createContext(null),L1=A.createContext({outlet:null,matches:[],isDataRoute:!1}),tte=A.createContext(null);function jye(e,t){let{relative:r}=t===void 0?{}:t;O5()||Ko(!1);let{basename:n,navigator:a}=A.useContext(M1),{hash:i,pathname:o,search:l}=Cj(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:i1([n,o])),a.createHref({pathname:c,search:l,hash:i})}function O5(){return A.useContext(Sj)!=null}function ed(){return O5()||Ko(!1),A.useContext(Sj).location}function rte(e){A.useContext(M1).static||A.useLayoutEffect(e)}function Ia(){let{isDataRoute:e}=A.useContext(L1);return e?$ye():Tye()}function Tye(){O5()||Ko(!1);let e=A.useContext(Nj),{basename:t,future:r,navigator:n}=A.useContext(M1),{matches:a}=A.useContext(L1),{pathname:i}=ed(),o=JSON.stringify(Zee(a,r.v7_relativeSplatPath)),l=A.useRef(!1);return rte(()=>{l.current=!0}),A.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Jee(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:i1([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,o,i,e])}function w7(){let{matches:e}=A.useContext(L1),t=e[e.length-1];return t?t.params:{}}function Cj(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=A.useContext(M1),{matches:a}=A.useContext(L1),{pathname:i}=ed(),o=JSON.stringify(Zee(a,n.v7_relativeSplatPath));return A.useMemo(()=>Jee(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function kye(e,t){return Pye(e,t)}function Pye(e,t,r,n){O5()||Ko(!1);let{navigator:a}=A.useContext(M1),{matches:i}=A.useContext(L1),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ed(),f;if(t){var h;let S=typeof t=="string"?cb(t):t;c==="/"||(h=S.pathname)!=null&&h.startsWith(c)||Ko(!1),f=S}else f=u;let g=f.pathname||"/",p=g;if(c!=="/"){let S=c.replace(/^\//,"").split("/");p="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let N=iye(e,{pathname:p}),b=Rye(N&&N.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:i1([c,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:i1([c,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,r,n);return t&&b?A.createElement(Sj.Provider,{value:{location:u4({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:zp.Pop}},b):b}function Oye(){let e=Uye(),t=Aye(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:a},r):null,i)}const Iye=A.createElement(Oye,null);class Fye extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?A.createElement(L1.Provider,{value:this.props.routeContext},A.createElement(tte.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dye(e){let{routeContext:t,match:r,children:n}=e,a=A.useContext(Nj);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(L1.Provider,{value:t},n)}function Rye(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let f=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||Ko(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:g,errors:p}=r,N=h.route.loader&&g[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||N){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,h,g)=>{let p,N=!1,b=null,S=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||Iye,c&&(u<0&&g===0?(zye("route-fallback",!1),N=!0,S=null):u===g&&(N=!0,S=h.route.hydrateFallbackElement||null)));let C=t.concat(o.slice(0,g+1)),j=()=>{let T;return p?T=b:N?T=S:h.route.Component?T=A.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=f,A.createElement(Dye,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:r!=null},children:T})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?A.createElement(Fye,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:j(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):j()},null)}var nte=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nte||{}),QC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(QC||{});function Mye(e){let t=A.useContext(Nj);return t||Ko(!1),t}function Lye(e){let t=A.useContext(ete);return t||Ko(!1),t}function Bye(e){let t=A.useContext(L1);return t||Ko(!1),t}function ate(e){let t=Bye(),r=t.matches[t.matches.length-1];return r.route.id||Ko(!1),r.route.id}function Uye(){var e;let t=A.useContext(tte),r=Lye(QC.UseRouteError),n=ate(QC.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function $ye(){let{router:e}=Mye(nte.UseNavigateStable),t=ate(QC.UseNavigateStable),r=A.useRef(!1);return rte(()=>{r.current=!0}),A.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,u4({fromRouteId:t},i)))},[e,t])}const Sz={};function zye(e,t,r){!t&&!Sz[e]&&(Sz[e]=!0)}function Vye(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Fa(e){Ko(!1)}function Wye(e){let{basename:t="/",children:r=null,location:n,navigationType:a=zp.Pop,navigator:i,static:o=!1,future:l}=e;O5()&&Ko(!1);let c=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:c,navigator:i,static:o,future:u4({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=cb(n));let{pathname:f="/",search:h="",hash:g="",state:p=null,key:N="default"}=n,b=A.useMemo(()=>{let S=uy(f,c);return S==null?null:{location:{pathname:S,search:h,hash:g,state:p,key:N},navigationType:a}},[c,f,h,g,p,N,a]);return b==null?null:A.createElement(M1.Provider,{value:u},A.createElement(Sj.Provider,{children:r,value:b}))}function Hye(e){let{children:t,location:r}=e;return kye(uI(t),r)}new Promise(()=>{});function uI(e,t){t===void 0&&(t=[]);let r=[];return A.Children.forEach(e,(n,a)=>{if(!A.isValidElement(n))return;let i=[...t,a];if(n.type===A.Fragment){r.push.apply(r,uI(n.props.children,i));return}n.type!==Fa&&Ko(!1),!n.props.index||!n.props.children||Ko(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=uI(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eA(){return eA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eA.apply(this,arguments)}function ite(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function qye(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Gye(e,t){return e.button===0&&(!t||t==="_self")&&!qye(e)}function dI(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Kye(e,t){let r=dI(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Yye=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xye=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Zye="6";try{window.__reactRouterVersion=Zye}catch{}const Jye=A.createContext({isTransitioning:!1}),Qye="startTransition",Cz=oj[Qye];function ebe(e){let{basename:t,children:r,future:n,window:a}=e,i=A.useRef();i.current==null&&(i.current=rye({window:a,v5Compat:!0}));let o=i.current,[l,c]=A.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=A.useCallback(h=>{u&&Cz?Cz(()=>c(h)):c(h)},[c,u]);return A.useLayoutEffect(()=>o.listen(f),[o,f]),A.useEffect(()=>Vye(n),[n]),A.createElement(Wye,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const tbe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rbe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ho=A.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:h}=t,g=ite(t,Yye),{basename:p}=A.useContext(M1),N,b=!1;if(typeof u=="string"&&rbe.test(u)&&(N=u,tbe))try{let T=new URL(window.location.href),O=u.startsWith("//")?new URL(T.protocol+u):new URL(u),M=uy(O.pathname,p);O.origin===T.origin&&M!=null?u=M+O.search+O.hash:b=!0}catch{}let S=jye(u,{relative:a}),C=abe(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:h});function j(T){n&&n(T),T.defaultPrevented||C(T)}return A.createElement("a",eA({},g,{href:N||S,onClick:b||i?n:j,ref:r,target:c}))}),_7=A.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:f}=t,h=ite(t,Xye),g=Cj(c,{relative:h.relative}),p=ed(),N=A.useContext(ete),{navigator:b,basename:S}=A.useContext(M1),C=N!=null&&ibe(g)&&u===!0,j=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,T=p.pathname,O=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;a||(T=T.toLowerCase(),O=O?O.toLowerCase():null,j=j.toLowerCase()),O&&S&&(O=uy(O,S)||O);const M=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let B=T===j||!o&&T.startsWith(j)&&T.charAt(M)==="/",L=O!=null&&(O===j||!o&&O.startsWith(j)&&O.charAt(j.length)==="/"),H={isActive:B,isPending:L,isTransitioning:C},U=B?n:void 0,J;typeof i=="function"?J=i(H):J=[i,B?"active":null,L?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l(H):l;return A.createElement(Ho,eA({},h,{"aria-current":U,className:J,ref:r,style:K,to:c,viewTransition:u}),typeof f=="function"?f(H):f)});var fI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fI||(fI={}));var Az;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Az||(Az={}));function nbe(e){let t=A.useContext(Nj);return t||Ko(!1),t}function abe(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ia(),u=ed(),f=Cj(e,{relative:o});return A.useCallback(h=>{if(Gye(h,r)){h.preventDefault();let g=n!==void 0?n:ZC(u)===ZC(f);c(e,{replace:g,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,f,n,a,r,e,i,o,l])}function I5(e){let t=A.useRef(dI(e)),r=A.useRef(!1),n=ed(),a=A.useMemo(()=>Kye(n.search,r.current?null:t.current),[n.search]),i=Ia(),o=A.useCallback((l,c)=>{const u=dI(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}function ibe(e,t){t===void 0&&(t={});let r=A.useContext(Jye);r==null&&Ko(!1);let{basename:n}=nbe(fI.useViewTransitionState),a=Cj(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=uy(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=uy(r.nextLocation.pathname,n)||r.nextLocation.pathname;return JC(a.pathname,o)!=null||JC(a.pathname,i)!=null}function ste(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ste(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Qa(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ste(e))&&(n&&(n+=" "),n+=t);return n}function sbe(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=ote(t))&&(n&&(n+=" "),n+=r);return n}function ote(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=ote(e[n]))&&(r&&(r+=" "),r+=t);return r}var N7="-";function obe(e){var t=cbe(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,a=n===void 0?{}:n;function i(l){var c=l.split(N7);return c[0]===""&&c.length!==1&&c.shift(),lte(c,t)||lbe(l)}function o(l,c){var u=r[l]||[];return c&&a[l]?[].concat(u,a[l]):u}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function lte(e,t){var o;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),a=n?lte(e.slice(1),n):void 0;if(a)return a;if(t.validators.length!==0){var i=e.join(N7);return(o=t.validators.find(function(l){var c=l.validator;return c(i)}))==null?void 0:o.classGroupId}}var Ez=/^\[(.+)\]$/;function lbe(e){if(Ez.test(e)){var t=Ez.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function cbe(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},a=dbe(Object.entries(e.classGroups),r);return a.forEach(function(i){var o=i[0],l=i[1];hI(l,n,o,t)}),n}function hI(e,t,r,n){e.forEach(function(a){if(typeof a=="string"){var i=a===""?t:jz(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(ube(a)){hI(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(function(o){var l=o[0],c=o[1];hI(c,jz(t,l),r,n)})})}function jz(e,t){var r=e;return t.split(N7).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function ube(e){return e.isThemeGetter}function dbe(e,t){return t?e.map(function(r){var n=r[0],a=r[1],i=a.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):o});return[n,i]}):e}function fbe(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function a(i,o){r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(o){var l=r.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return a(o,l),l},set:function(o,l){r.has(o)?r.set(o,l):a(o,l)}}}var cte="!";function hbe(e){var t=e.separator||":",r=t.length===1,n=t[0],a=t.length;return function(o){for(var l=[],c=0,u=0,f,h=0;h<o.length;h++){var g=o[h];if(c===0){if(g===n&&(r||o.slice(h,h+a)===t)){l.push(o.slice(u,h)),u=h+a;continue}if(g==="/"){f=h;continue}}g==="["?c++:g==="]"&&c--}var p=l.length===0?o:o.substring(u),N=p.startsWith(cte),b=N?p.substring(1):p,S=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:N,baseClassName:b,maybePostfixModifierPosition:S}}}function mbe(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var a=n[0]==="[";a?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function pbe(e){return{cache:fbe(e.cacheSize),splitModifiers:hbe(e),...obe(e)}}var gbe=/\s+/;function xbe(e,t){var r=t.splitModifiers,n=t.getClassGroupId,a=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(gbe).map(function(o){var l=r(o),c=l.modifiers,u=l.hasImportantModifier,f=l.baseClassName,h=l.maybePostfixModifierPosition,g=n(h?f.substring(0,h):f),p=!!h;if(!g){if(!h)return{isTailwindClass:!1,originalClassName:o};if(g=n(f),!g)return{isTailwindClass:!1,originalClassName:o};p=!1}var N=mbe(c).join(":"),b=u?N+cte:N;return{isTailwindClass:!0,modifierId:b,classGroupId:g,originalClassName:o,hasPostfixModifier:p}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,u=o.hasPostfixModifier,f=l+c;return i.has(f)?!1:(i.add(f),a(c,u).forEach(function(h){return i.add(l+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function vbe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,a,i,o=l;function l(u){var f=t[0],h=t.slice(1),g=h.reduce(function(p,N){return N(p)},f());return n=pbe(g),a=n.cache.get,i=n.cache.set,o=c,c(u)}function c(u){var f=a(u);if(f)return f;var h=xbe(u,n);return i(u,h),h}return function(){return o(sbe.apply(null,arguments))}}function Qs(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var ute=/^\[(?:([a-z-]+):)?(.+)\]$/i,ybe=/^\d+\/\d+$/,bbe=new Set(["px","full","screen"]),wbe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_be=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Nbe=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function hh(e){return Hg(e)||bbe.has(e)||ybe.test(e)||mI(e)}function mI(e){return zx(e,"length",Tbe)}function Sbe(e){return zx(e,"size",dte)}function Cbe(e){return zx(e,"position",dte)}function Abe(e){return zx(e,"url",kbe)}function DN(e){return zx(e,"number",Hg)}function Hg(e){return!Number.isNaN(Number(e))}function Ebe(e){return e.endsWith("%")&&Hg(e.slice(0,-1))}function Cw(e){return Tz(e)||zx(e,"number",Tz)}function Ci(e){return ute.test(e)}function Aw(){return!0}function bp(e){return wbe.test(e)}function jbe(e){return zx(e,"",Pbe)}function zx(e,t,r){var n=ute.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function Tbe(e){return _be.test(e)}function dte(){return!1}function kbe(e){return e.startsWith("url(")}function Tz(e){return Number.isInteger(Number(e))}function Pbe(e){return Nbe.test(e)}function Obe(){var e=Qs("colors"),t=Qs("spacing"),r=Qs("blur"),n=Qs("brightness"),a=Qs("borderColor"),i=Qs("borderRadius"),o=Qs("borderSpacing"),l=Qs("borderWidth"),c=Qs("contrast"),u=Qs("grayscale"),f=Qs("hueRotate"),h=Qs("invert"),g=Qs("gap"),p=Qs("gradientColorStops"),N=Qs("gradientColorStopPositions"),b=Qs("inset"),S=Qs("margin"),C=Qs("opacity"),j=Qs("padding"),T=Qs("saturate"),O=Qs("scale"),M=Qs("sepia"),B=Qs("skew"),L=Qs("space"),H=Qs("translate"),U=function(){return["auto","contain","none"]},J=function(){return["auto","hidden","clip","visible","scroll"]},K=function(){return["auto",Ci,t]},G=function(){return[Ci,t]},re=function(){return["",hh]},ae=function(){return["auto",Hg,Ci]},X=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},ne=function(){return["solid","dashed","dotted","double","none"]},de=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},le=function(){return["start","end","center","between","around","evenly","stretch"]},xe=function(){return["","0",Ci]},Se=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ye=function(){return[Hg,DN]},ee=function(){return[Hg,Ci]};return{cacheSize:500,theme:{colors:[Aw],spacing:[hh],blur:["none","",bp,Ci],brightness:ye(),borderColor:[e],borderRadius:["none","","full",bp,Ci],borderSpacing:G(),borderWidth:re(),contrast:ye(),grayscale:xe(),hueRotate:ee(),invert:xe(),gap:G(),gradientColorStops:[e],gradientColorStopPositions:[Ebe,mI],inset:K(),margin:K(),opacity:ye(),padding:G(),saturate:ye(),scale:ye(),sepia:xe(),skew:ee(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",Ci]}],container:["container"],columns:[{columns:[bp]}],"break-after":[{"break-after":Se()}],"break-before":[{"break-before":Se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(X(),[Ci])}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cw]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ci]}],grow:[{grow:xe()}],shrink:[{shrink:xe()}],order:[{order:["first","last","none",Cw]}],"grid-cols":[{"grid-cols":[Aw]}],"col-start-end":[{col:["auto",{span:["full",Cw]},Ci]}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":[Aw]}],"row-start-end":[{row:["auto",{span:[Cw]},Ci]}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ci]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ci]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal"].concat(le())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(le(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(le(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ci,t]}],"min-w":[{"min-w":["min","max","fit",Ci,hh]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[bp]},bp,Ci]}],h:[{h:[Ci,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ci,hh]}],"max-h":[{"max-h":[Ci,t,"min","max","fit"]}],"font-size":[{text:["base",bp,mI]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",DN]}],"font-family":[{font:[Aw]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ci]}],"line-clamp":[{"line-clamp":["none",Hg,DN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ci,hh]}],"list-image":[{"list-image":["none",Ci]}],"list-style-type":[{list:["none","disc","decimal",Ci]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(ne(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",hh]}],"underline-offset":[{"underline-offset":["auto",Ci,hh]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ci]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ci]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(X(),[Cbe])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Sbe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Abe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[].concat(ne(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:ne()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(ne())}],"outline-offset":[{"outline-offset":[Ci,hh]}],"outline-w":[{outline:[hh]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[hh]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",bp,jbe]}],"shadow-color":[{shadow:[Aw]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":de()}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",bp,Ci]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ci]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Ci]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ci]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Cw,Ci]}],"translate-x":[{"translate-x":[H]}],"translate-y":[{"translate-y":[H]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ci]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ci]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ci]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[hh,DN]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Ibe=vbe(Obe);function kr(...e){return Ibe(Qa(e))}const Qd=async(e,t=3,r=1e3)=>{try{return await e()}catch(n){if(t<=0)throw n;return await new Promise(a=>setTimeout(a,r)),Qd(e,t-1,r*1.5)}};function S7(e){if(!e)return null;try{const r=new URL(e).pathname.split("/public/");if(r.length<2)return null;const n=r[1],a=n.indexOf("/");if(a===-1)return null;const i=n.substring(0,a),o=n.substring(a+1);return{bucket:i,path:decodeURIComponent(o)}}catch(t){return console.error("Error parsing storage URL",t),null}}function Fbe(e,t="FCFA",r="fr-FR"){try{if(e==null)return"0 "+t;const n=typeof e=="string"?parseFloat(e.replace(/\s/g,"").replace(",",".")):e;return isNaN(n)?"0 "+t:t==="FCFA"||t==="XOF"?new Intl.NumberFormat(r,{minimumFractionDigits:0,maximumFractionDigits:0}).format(n)+" "+t:new Intl.NumberFormat(r,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:2}).format(n)}catch(n){return console.error("Error formatting currency:",n),String(e)+" "+t}}function Rr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function kz(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function z0(...e){return t=>{let r=!1;const n=e.map(a=>{const i=kz(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():kz(e[a],null)}}}}function Ra(...e){return A.useCallback(z0(...e),e)}function Dbe(e,t){const r=A.createContext(t),n=i=>{const{children:o,...l}=i,c=A.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=A.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Nc(e,t=[]){let r=[];function n(i,o){const l=A.createContext(o),c=r.length;r=[...r,o];const u=h=>{var C;const{scope:g,children:p,...N}=h,b=((C=g==null?void 0:g[e])==null?void 0:C[c])||l,S=A.useMemo(()=>N,Object.values(N));return s.jsx(b.Provider,{value:S,children:p})};u.displayName=i+"Provider";function f(h,g){var b;const p=((b=g==null?void 0:g[e])==null?void 0:b[c])||l,N=A.useContext(p);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,f]}const a=()=>{const i=r.map(o=>A.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return A.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Rbe(a,...t)]}function Rbe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Pz(e){const t=Mbe(e),r=A.forwardRef((n,a)=>{const{children:i,...o}=n,l=A.Children.toArray(i),c=l.find(Bbe);if(c){const u=c.props.children,f=l.map(h=>h===c?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:a,children:A.isValidElement(u)?A.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Mbe(e){const t=A.forwardRef((r,n)=>{const{children:a,...i}=r;if(A.isValidElement(a)){const o=$be(a),l=Ube(i,a.props);return a.type!==A.Fragment&&(l.ref=n?z0(n,o):o),A.cloneElement(a,l)}return A.Children.count(a)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Lbe=Symbol("radix.slottable");function Bbe(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Lbe}function Ube(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function $be(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ub(e){const t=e+"CollectionProvider",[r,n]=Nc(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:S,children:C}=b,j=Ve.useRef(null),T=Ve.useRef(new Map).current;return s.jsx(a,{scope:S,itemMap:T,collectionRef:j,children:C})};o.displayName=t;const l=e+"CollectionSlot",c=Pz(l),u=Ve.forwardRef((b,S)=>{const{scope:C,children:j}=b,T=i(l,C),O=Ra(S,T.collectionRef);return s.jsx(c,{ref:O,children:j})});u.displayName=l;const f=e+"CollectionItemSlot",h="data-radix-collection-item",g=Pz(f),p=Ve.forwardRef((b,S)=>{const{scope:C,children:j,...T}=b,O=Ve.useRef(null),M=Ra(S,O),B=i(f,C);return Ve.useEffect(()=>(B.itemMap.set(O,{ref:O,...T}),()=>void B.itemMap.delete(O))),s.jsx(g,{[h]:"",ref:M,children:j})});p.displayName=f;function N(b){const S=i(e+"CollectionConsumer",b);return Ve.useCallback(()=>{const j=S.collectionRef.current;if(!j)return[];const T=Array.from(j.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((B,L)=>T.indexOf(B.ref.current)-T.indexOf(L.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},N,n]}function zbe(e){const t=Vbe(e),r=A.forwardRef((n,a)=>{const{children:i,...o}=n,l=A.Children.toArray(i),c=l.find(Hbe);if(c){const u=c.props.children,f=l.map(h=>h===c?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:a,children:A.isValidElement(u)?A.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Vbe(e){const t=A.forwardRef((r,n)=>{const{children:a,...i}=r;if(A.isValidElement(a)){const o=Gbe(a),l=qbe(i,a.props);return a.type!==A.Fragment&&(l.ref=n?z0(n,o):o),A.cloneElement(a,l)}return A.Children.count(a)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Wbe=Symbol("radix.slottable");function Hbe(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Wbe}function qbe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Gbe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Kbe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dn=Kbe.reduce((e,t)=>{const r=zbe(`Primitive.${t}`),n=A.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function C7(e,t){e&&$x.flushSync(()=>e.dispatchEvent(t))}function Zu(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Ybe(e,t=globalThis==null?void 0:globalThis.document){const r=Zu(e);A.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Xbe="DismissableLayer",pI="dismissableLayer.update",Zbe="dismissableLayer.pointerDownOutside",Jbe="dismissableLayer.focusOutside",Oz,fte=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vx=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=A.useContext(fte),[f,h]=A.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=A.useState({}),N=Ra(t,L=>h(L)),b=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),C=b.indexOf(S),j=f?b.indexOf(f):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,O=j>=C,M=ewe(L=>{const H=L.target,U=[...u.branches].some(J=>J.contains(H));!O||U||(a==null||a(L),o==null||o(L),L.defaultPrevented||l==null||l())},g),B=twe(L=>{const H=L.target;[...u.branches].some(J=>J.contains(H))||(i==null||i(L),o==null||o(L),L.defaultPrevented||l==null||l())},g);return Ybe(L=>{j===u.layers.size-1&&(n==null||n(L),!L.defaultPrevented&&l&&(L.preventDefault(),l()))},g),A.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Oz=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Iz(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Oz)}},[f,g,r,u]),A.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Iz())},[f,u]),A.useEffect(()=>{const L=()=>p({});return document.addEventListener(pI,L),()=>document.removeEventListener(pI,L)},[]),s.jsx(Dn.div,{...c,ref:N,style:{pointerEvents:T?O?"auto":"none":void 0,...e.style},onFocusCapture:Rr(e.onFocusCapture,B.onFocusCapture),onBlurCapture:Rr(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Rr(e.onPointerDownCapture,M.onPointerDownCapture)})});Vx.displayName=Xbe;var Qbe="DismissableLayerBranch",hte=A.forwardRef((e,t)=>{const r=A.useContext(fte),n=A.useRef(null),a=Ra(t,n);return A.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Dn.div,{...e,ref:a})});hte.displayName=Qbe;function ewe(e,t=globalThis==null?void 0:globalThis.document){const r=Zu(e),n=A.useRef(!1),a=A.useRef(()=>{});return A.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){mte(Zbe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function twe(e,t=globalThis==null?void 0:globalThis.document){const r=Zu(e),n=A.useRef(!1);return A.useEffect(()=>{const a=i=>{i.target&&!n.current&&mte(Jbe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Iz(){const e=new CustomEvent(pI);document.dispatchEvent(e)}function mte(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?C7(a,i):a.dispatchEvent(i)}var rwe=Vx,nwe=hte,fl=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},awe="Portal",db=A.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=A.useState(!1);fl(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?tye.createPortal(s.jsx(Dn.div,{...n,ref:t}),o):null});db.displayName=awe;function iwe(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var td=e=>{const{present:t,children:r}=e,n=swe(t),a=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),i=Ra(n.ref,owe(a));return typeof r=="function"||n.isPresent?A.cloneElement(a,{ref:i}):null};td.displayName="Presence";function swe(e){const[t,r]=A.useState(),n=A.useRef(null),a=A.useRef(e),i=A.useRef("none"),o=e?"mounted":"unmounted",[l,c]=iwe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const u=RN(n.current);i.current=l==="mounted"?u:"none"},[l]),fl(()=>{const u=n.current,f=a.current;if(f!==e){const g=i.current,p=RN(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&g!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),fl(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=p=>{const b=RN(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&b&&(c("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=p=>{p.target===t&&(i.current=RN(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:A.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function RN(e){return(e==null?void 0:e.animationName)||"none"}function owe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var lwe=oj[" useInsertionEffect ".trim().toString()]||fl;function _c({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=cwe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const f=A.useRef(e!==void 0);A.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=A.useCallback(f=>{var h;if(l){const g=uwe(f)?f(e):f;g!==e&&((h=o.current)==null||h.call(o,g))}else i(f)},[l,e,i,o]);return[c,u]}function cwe({defaultProp:e,onChange:t}){const[r,n]=A.useState(e),a=A.useRef(r),i=A.useRef(t);return lwe(()=>{i.current=t},[t]),A.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function uwe(e){return typeof e=="function"}var pte=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dwe="VisuallyHidden",Aj=A.forwardRef((e,t)=>s.jsx(Dn.span,{...e,ref:t,style:{...pte,...e.style}}));Aj.displayName=dwe;var fwe=Aj,A7="ToastProvider",[E7,hwe,mwe]=ub("Toast"),[gte,J4t]=Nc("Toast",[mwe]),[pwe,Ej]=gte(A7),xte=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=A.useState(null),[u,f]=A.useState(0),h=A.useRef(!1),g=A.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${A7}\`. Expected non-empty \`string\`.`),s.jsx(E7.Provider,{scope:t,children:s.jsx(pwe,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:A.useCallback(()=>f(p=>p+1),[]),onToastRemove:A.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:g,children:o})})};xte.displayName=A7;var vte="ToastViewport",gwe=["F8"],gI="toast.viewportPause",xI="toast.viewportResume",yte=A.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=gwe,label:a="Notifications ({hotkey})",...i}=e,o=Ej(vte,r),l=hwe(r),c=A.useRef(null),u=A.useRef(null),f=A.useRef(null),h=A.useRef(null),g=Ra(t,h,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=o.toastCount>0;A.useEffect(()=>{const S=C=>{var T;n.length!==0&&n.every(O=>C[O]||C.code===O)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[n]),A.useEffect(()=>{const S=c.current,C=h.current;if(N&&S&&C){const j=()=>{if(!o.isClosePausedRef.current){const B=new CustomEvent(gI);C.dispatchEvent(B),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const B=new CustomEvent(xI);C.dispatchEvent(B),o.isClosePausedRef.current=!1}},O=B=>{!S.contains(B.relatedTarget)&&T()},M=()=>{S.contains(document.activeElement)||T()};return S.addEventListener("focusin",j),S.addEventListener("focusout",O),S.addEventListener("pointermove",j),S.addEventListener("pointerleave",M),window.addEventListener("blur",j),window.addEventListener("focus",T),()=>{S.removeEventListener("focusin",j),S.removeEventListener("focusout",O),S.removeEventListener("pointermove",j),S.removeEventListener("pointerleave",M),window.removeEventListener("blur",j),window.removeEventListener("focus",T)}}},[N,o.isClosePausedRef]);const b=A.useCallback(({tabbingDirection:S})=>{const j=l().map(T=>{const O=T.ref.current,M=[O,...Twe(O)];return S==="forwards"?M:M.reverse()});return(S==="forwards"?j.reverse():j).flat()},[l]);return A.useEffect(()=>{const S=h.current;if(S){const C=j=>{var M,B,L;const T=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!T){const H=document.activeElement,U=j.shiftKey;if(j.target===S&&U){(M=u.current)==null||M.focus();return}const G=b({tabbingDirection:U?"backwards":"forwards"}),re=G.findIndex(ae=>ae===H);ak(G.slice(re+1))?j.preventDefault():U?(B=u.current)==null||B.focus():(L=f.current)==null||L.focus()}};return S.addEventListener("keydown",C),()=>S.removeEventListener("keydown",C)}},[l,b]),s.jsxs(nwe,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&s.jsx(vI,{ref:u,onFocusFromOutsideViewport:()=>{const S=b({tabbingDirection:"forwards"});ak(S)}}),s.jsx(E7.Slot,{scope:r,children:s.jsx(Dn.ol,{tabIndex:-1,...i,ref:g})}),N&&s.jsx(vI,{ref:f,onFocusFromOutsideViewport:()=>{const S=b({tabbingDirection:"backwards"});ak(S)}})]})});yte.displayName=vte;var bte="ToastFocusProxy",vI=A.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Ej(bte,r);return s.jsx(Aj,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});vI.displayName=bte;var F5="Toast",xwe="toast.swipeStart",vwe="toast.swipeMove",ywe="toast.swipeCancel",bwe="toast.swipeEnd",wte=A.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=_c({prop:n,defaultProp:a??!0,onChange:i,caller:F5});return s.jsx(td,{present:r||l,children:s.jsx(Nwe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Zu(e.onPause),onResume:Zu(e.onResume),onSwipeStart:Rr(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Rr(e.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Rr(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Rr(e.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});wte.displayName=F5;var[wwe,_we]=gte(F5,{onClose(){}}),Nwe=A.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:g,onSwipeEnd:p,...N}=e,b=Ej(F5,r),[S,C]=A.useState(null),j=Ra(t,ae=>C(ae)),T=A.useRef(null),O=A.useRef(null),M=a||b.duration,B=A.useRef(0),L=A.useRef(M),H=A.useRef(0),{onToastAdd:U,onToastRemove:J}=b,K=Zu(()=>{var X;(S==null?void 0:S.contains(document.activeElement))&&((X=b.viewport)==null||X.focus()),o()}),G=A.useCallback(ae=>{!ae||ae===1/0||(window.clearTimeout(H.current),B.current=new Date().getTime(),H.current=window.setTimeout(K,ae))},[K]);A.useEffect(()=>{const ae=b.viewport;if(ae){const X=()=>{G(L.current),u==null||u()},ne=()=>{const de=new Date().getTime()-B.current;L.current=L.current-de,window.clearTimeout(H.current),c==null||c()};return ae.addEventListener(gI,ne),ae.addEventListener(xI,X),()=>{ae.removeEventListener(gI,ne),ae.removeEventListener(xI,X)}}},[b.viewport,M,c,u,G]),A.useEffect(()=>{i&&!b.isClosePausedRef.current&&G(M)},[i,M,b.isClosePausedRef,G]),A.useEffect(()=>(U(),()=>J()),[U,J]);const re=A.useMemo(()=>S?jte(S):null,[S]);return b.viewport?s.jsxs(s.Fragment,{children:[re&&s.jsx(Swe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:re}),s.jsx(wwe,{scope:r,onClose:K,children:$x.createPortal(s.jsx(E7.ItemSlot,{scope:r,children:s.jsx(rwe,{asChild:!0,onEscapeKeyDown:Rr(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||K(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Dn.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":b.swipeDirection,...N,ref:j,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Rr(e.onKeyDown,ae=>{ae.key==="Escape"&&(l==null||l(ae.nativeEvent),ae.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:Rr(e.onPointerDown,ae=>{ae.button===0&&(T.current={x:ae.clientX,y:ae.clientY})}),onPointerMove:Rr(e.onPointerMove,ae=>{if(!T.current)return;const X=ae.clientX-T.current.x,ne=ae.clientY-T.current.y,de=!!O.current,le=["left","right"].includes(b.swipeDirection),xe=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,Se=le?xe(0,X):0,ye=le?0:xe(0,ne),ee=ae.pointerType==="touch"?10:2,he={x:Se,y:ye},se={originalEvent:ae,delta:he};de?(O.current=he,MN(vwe,h,se,{discrete:!1})):Fz(he,b.swipeDirection,ee)?(O.current=he,MN(xwe,f,se,{discrete:!1}),ae.target.setPointerCapture(ae.pointerId)):(Math.abs(X)>ee||Math.abs(ne)>ee)&&(T.current=null)}),onPointerUp:Rr(e.onPointerUp,ae=>{const X=O.current,ne=ae.target;if(ne.hasPointerCapture(ae.pointerId)&&ne.releasePointerCapture(ae.pointerId),O.current=null,T.current=null,X){const de=ae.currentTarget,le={originalEvent:ae,delta:X};Fz(X,b.swipeDirection,b.swipeThreshold)?MN(bwe,p,le,{discrete:!0}):MN(ywe,g,le,{discrete:!0}),de.addEventListener("click",xe=>xe.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),Swe=e=>{const{__scopeToast:t,children:r,...n}=e,a=Ej(F5,t),[i,o]=A.useState(!1),[l,c]=A.useState(!1);return Ewe(()=>o(!0)),A.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(db,{asChild:!0,children:s.jsx(Aj,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},Cwe="ToastTitle",_te=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Dn.div,{...n,ref:t})});_te.displayName=Cwe;var Awe="ToastDescription",Nte=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Dn.div,{...n,ref:t})});Nte.displayName=Awe;var Ste="ToastAction",Cte=A.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(Ete,{altText:r,asChild:!0,children:s.jsx(j7,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ste}\`. Expected non-empty \`string\`.`),null)});Cte.displayName=Ste;var Ate="ToastClose",j7=A.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=_we(Ate,r);return s.jsx(Ete,{asChild:!0,children:s.jsx(Dn.button,{type:"button",...n,ref:t,onClick:Rr(e.onClick,a.onClose)})})});j7.displayName=Ate;var Ete=A.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Dn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function jte(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),jwe(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...jte(n))}}),t}function MN(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?C7(a,i):a.dispatchEvent(i)}var Fz=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function Ewe(e=()=>{}){const t=Zu(e);fl(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function jwe(e){return e.nodeType===e.ELEMENT_NODE}function Twe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ak(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var kwe=xte,Tte=yte,kte=wte,Pte=_te,Ote=Nte,Ite=Cte,Fte=j7;const Dz=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Rz=Qa,Wx=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Rz(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const f=r==null?void 0:r[u],h=i==null?void 0:i[u];if(f===null)return null;const g=Dz(f)||Dz(h);return a[u][g]}),l=r&&Object.entries(r).reduce((u,f)=>{let[h,g]=f;return g===void 0||(u[h]=g),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:h,className:g,...p}=f;return Object.entries(p).every(N=>{let[b,S]=N;return Array.isArray(S)?S.includes({...i,...l}[b]):{...i,...l}[b]===S})?[...u,h,g]:u},[]);return Rz(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};var Pwe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Owe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ft=(e,t)=>{const r=A.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...c},u)=>A.createElement("svg",{ref:u,...Pwe,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${Owe(e)}`,...c},[...t.map(([f,h])=>A.createElement(f,h)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r},Iwe=Ft("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),wu=Ft("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Kc=Ft("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Fwe=Ft("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]),Dwe=Ft("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),_u=Ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Dte=Ft("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),Um=Ft("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Rwe=Ft("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Mwe=Ft("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),yI=Ft("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Lwe=Ft("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Rte=Ft("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]),Mte=Ft("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),ik=Ft("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),Bwe=Ft("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),jj=Ft("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),T7=Ft("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Uwe=Ft("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]),E0=Ft("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Mp=Ft("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),$we=Ft("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),v1=Ft("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),zwe=Ft("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Vwe=Ft("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.25V14",key:"re2vv1"}],["path",{d:"M22 16a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z",key:"ame013"}]]),oo=Ft("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),k7=Ft("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Vp=Ft("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),jl=Ft("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Hx=Ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Tj=Ft("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),kj=Ft("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),px=Ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Lte=Ft("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),bI=Ft("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),Wwe=Ft("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Yf=Ft("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Hwe=Ft("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),za=Ft("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),Bte=Ft("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]),P7=Ft("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]),dy=Ft("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),qwe=Ft("Copyright",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M14.83 14.83a4 4 0 1 1 0-5.66",key:"1i56pz"}]]),jm=Ft("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),y1=Ft("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Pj=Ft("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Eh=Ft("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Mz=Ft("DoorClosed",[["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}],["path",{d:"M14 12v.01",key:"xfcn54"}]]),sk=Ft("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]),Ym=Ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Gwe=Ft("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]),Kwe=Ft("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),O7=Ft("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Ute=Ft("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Xm=Ft("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ywe=Ft("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),$u=Ft("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Xwe=Ft("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),I7=Ft("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Zwe=Ft("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),Lz=Ft("Gavel",[["path",{d:"m14 13-7.5 7.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L11 10",key:"c9cbz0"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]),F7=Ft("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),gx=Ft("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),p0=Ft("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Jwe=Ft("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Qwe=Ft("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]),Oj=Ft("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),e_e=Ft("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),nx=Ft("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),D7=Ft("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Bz=Ft("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]),t_e=Ft("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),Ij=Ft("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),of=Ft("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),r_e=Ft("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),Uz=Ft("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),$te=Ft("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),$z=Ft("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),zz=Ft("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),n_e=Ft("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),a_e=Ft("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),i_e=Ft("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),LN=Ft("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Jt=Ft("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),R0=Ft("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),s_e=Ft("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),fy=Ft("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),zte=Ft("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]),s1=Ft("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Eo=Ft("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Vte=Ft("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),Wte=Ft("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),tA=Ft("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),d4=Ft("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),rA=Ft("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),o_e=Ft("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Hte=Ft("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),l_e=Ft("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),c_e=Ft("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]),p2=Ft("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),u_e=Ft("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),R7=Ft("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),f4=Ft("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),nA=Ft("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),D5=Ft("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),d_e=Ft("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),M7=Ft("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),h4=Ft("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Ql=Ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),L7=Ft("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),B7=Ft("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),U7=Ft("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),m4=Ft("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),qc=Ft("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),aA=Ft("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),o1=Ft("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),R5=Ft("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Il=Ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),f_e=Ft("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),h_e=Ft("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]),qte=Ft("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),fb=Ft("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),b1=Ft("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Gte=Ft("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),hy=Ft("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),m_e=Ft("ShieldOff",[["path",{d:"M19.7 14a6.9 6.9 0 0 0 .3-2V5l-8-3-3.2 1.2",key:"342pvf"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M4.7 4.7 4 5v7c0 6 8 10 8 10a20.3 20.3 0 0 0 5.62-4.38",key:"p0ycf4"}]]),gc=Ft("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Kte=Ft("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),wm=Ft("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),p_e=Ft("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),g_e=Ft("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),x_e=Ft("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),wd=Ft("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Ku=Ft("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),M0=Ft("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),$7=Ft("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),xx=Ft("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),v_e=Ft("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),ul=Ft("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),Yte=Ft("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),Xte=Ft("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),Yo=Ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Fj=Ft("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Cd=Ft("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Mh=Ft("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Zte=Ft("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),vx=Ft("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),y_e=Ft("User2",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 1 0-16 0",key:"199sx2"}]]),my=Ft("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),b_e=Ft("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),Jte=Ft("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),z7=Ft("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),M5=Ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ao=Ft("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),w_e=Ft("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),Qte=Ft("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),w1=Ft("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]),qo=Ft("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),Dj=Ft("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),kl=Ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),__e=Ft("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),xu=Ft("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),N_e=kwe,ere=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Tte,{ref:r,className:kr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ere.displayName=Tte.displayName;const S_e=Wx("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background text-foreground",destructive:"group destructive border-transparent bg-black text-white",success:"group success border-green-500 bg-green-500/10 text-foreground",info:"group info border-blue-500 bg-blue-500/10 text-foreground"}},defaultVariants:{variant:"default"}}),tre=Ve.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(kte,{ref:n,className:kr(S_e({variant:t}),e),...r}));tre.displayName=kte.displayName;const C_e=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Ite,{ref:r,className:kr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));C_e.displayName=Ite.displayName;const rre=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Fte,{ref:r,className:kr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-white/80 group-[.destructive]:hover:text-white group-[.destructive]:focus:ring-white group-[.destructive]:focus:ring-offset-background",e),"toast-close":"",...t,children:s.jsx(kl,{className:"h-4 w-4"})}));rre.displayName=Fte.displayName;const nre=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Pte,{ref:r,className:kr("text-sm font-semibold",e),...t}));nre.displayName=Pte.displayName;const are=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Ote,{ref:r,className:kr("text-sm opacity-90",e),...t}));are.displayName=Ote.displayName;const A_e=10,E_e=1e6,j_e=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,A_e)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Vz(r):e.toasts.forEach(n=>{Vz(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)};default:return e}},QS=[];let eC={toasts:[]};function y_(e){eC=j_e(eC,e),QS.forEach(t=>{t(eC)})}const ot=e=>{const t=Math.random().toString(36).substr(2,9),r=a=>y_({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>y_({type:"DISMISS_TOAST",toastId:t});return y_({type:"ADD_TOAST",toast:{...e,id:t,open:!0,duration:e.duration||5e3,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}};function qs(){const[e,t]=A.useState(eC);return A.useEffect(()=>(QS.push(t),()=>{const r=QS.indexOf(t);r>-1&&QS.splice(r,1)}),[e]),{...e,toast:ot,dismiss:r=>y_({type:"DISMISS_TOAST",toastId:r})}}let BN=[];const Vz=e=>{BN.includes(e)||(BN.push(e),setTimeout(()=>{const t=BN.indexOf(e);t>-1&&(BN.splice(t,1),y_({type:"REMOVE_TOAST",toastId:e}))},E_e))},T_e=({variant:e})=>{switch(e){case"success":return s.jsx(jl,{className:"text-green-500"});case"destructive":return s.jsx(Kc,{className:"text-white"});case"info":return s.jsx(of,{className:"text-blue-500"});default:return s.jsx(wu,{className:"text-foreground"})}};function k_e(){const{toasts:e}=qs();return s.jsxs(N_e,{swipeDirection:"right",children:[e.map(function({id:t,title:r,description:n,action:a,variant:i,...o}){return s.jsxs(tre,{variant:i,duration:5e3,...o,children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"pt-0.5",children:s.jsx(T_e,{variant:i})}),s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(nre,{children:r}),n&&s.jsx(are,{children:n})]})]}),a,s.jsx(rre,{})]},t)}),s.jsx(ere,{})]})}var g0=function(){return g0=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},g0.apply(this,arguments)};function ire(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function aa(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function P_e(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const O_e=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class V7 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class I_e extends V7{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Wz extends V7{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Hz extends V7{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wI;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wI||(wI={}));class F_e{constructor(t,{headers:r={},customFetch:n,region:a=wI.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=O_e(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return aa(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:f,timeout:h}=n;let g={},{region:p}=n;p||(p=this.region);const N=new URL(`${this.url}/${r}`);p&&p!=="any"&&(g["x-region"]=p,N.searchParams.set("forceFunctionRegion",p));let b;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(g["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(g["Content-Type"]="application/json",b=JSON.stringify(u)):b=u;let S=f;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),f?(S=o.signal,f.addEventListener("abort",()=>o.abort())):S=o.signal);const C=yield this.fetch(N.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:b,signal:S}).catch(M=>{throw new I_e(M)}),j=C.headers.get("x-relay-error");if(j&&j==="true")throw new Wz(C);if(!C.ok)throw new Hz(C);let T=((a=C.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),O;return T==="application/json"?O=yield C.json():T==="application/octet-stream"||T==="application/pdf"?O=yield C.blob():T==="text/event-stream"?O=C:T==="multipart/form-data"?O=yield C.formData():O=yield C.text(),{data:O,error:null,response:C}}catch(l){return{data:null,error:l,response:l instanceof Hz||l instanceof Wz?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var dd={},W7={},Rj={},L5={},Mj={},Lj={},D_e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},py=D_e();const R_e=py.fetch,M_e=py.fetch.bind(py),L_e=py.Headers,B_e=py.Request,U_e=py.Response,$_e=Object.freeze(Object.defineProperty({__proto__:null,Headers:L_e,Request:B_e,Response:U_e,default:M_e,fetch:R_e},Symbol.toStringTag,{value:"Module"})),z_e=RJ($_e);var Bj={};Object.defineProperty(Bj,"__esModule",{value:!0});let V_e=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Bj.default=V_e;var sre=Vs&&Vs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lj,"__esModule",{value:!0});const W_e=sre(z_e),H_e=sre(Bj);let q_e=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=W_e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let f=null,h=null,g=null,p=i.status,N=i.statusText;if(i.ok){if(this.method!=="HEAD"){const j=await i.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=j:h=JSON.parse(j))}const S=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),C=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");S&&C&&C.length>1&&(g=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(f={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,g=null,p=406,N="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const S=await i.text();try{f=JSON.parse(S),Array.isArray(f)&&i.status===404&&(h=[],f=null,p=200,N="OK")}catch{i.status===404&&S===""?(p=204,N="No Content"):f={message:S}}if(f&&this.isMaybeSingle&&(!((u=f==null?void 0:f.details)===null||u===void 0)&&u.includes("0 rows"))&&(f=null,p=200,N="OK"),f&&this.shouldThrowOnError)throw new H_e.default(f)}return{error:f,data:h,count:g,status:p,statusText:N}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Lj.default=q_e;var G_e=Vs&&Vs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mj,"__esModule",{value:!0});const K_e=G_e(Lj);let Y_e=class extends K_e.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Mj.default=Y_e;var X_e=Vs&&Vs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(L5,"__esModule",{value:!0});const Z_e=X_e(Mj);let J_e=class extends Z_e.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};L5.default=J_e;var Q_e=Vs&&Vs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rj,"__esModule",{value:!0});const Ew=Q_e(L5);let e4e=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Ew.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ew.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ew.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Ew.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ew.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Rj.default=e4e;var ore=Vs&&Vs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(W7,"__esModule",{value:!0});const t4e=ore(Rj),r4e=ore(L5);let n4e=class lre{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new t4e.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new lre(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,g])=>g!==void 0).map(([h,g])=>[h,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([h,g])=>{c.searchParams.append(h,g)})):(l="POST",u=r);const f=new Headers(this.headers);return i&&f.set("Prefer",`count=${i}`),new r4e.default({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};W7.default=n4e;var hb=Vs&&Vs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dd,"__esModule",{value:!0});dd.PostgrestError=dd.PostgrestBuilder=dd.PostgrestTransformBuilder=dd.PostgrestFilterBuilder=dd.PostgrestQueryBuilder=dd.PostgrestClient=void 0;const cre=hb(W7);dd.PostgrestClient=cre.default;const ure=hb(Rj);dd.PostgrestQueryBuilder=ure.default;const dre=hb(L5);dd.PostgrestFilterBuilder=dre.default;const fre=hb(Mj);dd.PostgrestTransformBuilder=fre.default;const hre=hb(Lj);dd.PostgrestBuilder=hre.default;const mre=hb(Bj);dd.PostgrestError=mre.default;var a4e=dd.default={PostgrestClient:cre.default,PostgrestQueryBuilder:ure.default,PostgrestFilterBuilder:dre.default,PostgrestTransformBuilder:fre.default,PostgrestBuilder:hre.default,PostgrestError:mre.default};const{PostgrestClient:i4e,PostgrestQueryBuilder:a5t,PostgrestFilterBuilder:i5t,PostgrestTransformBuilder:s5t,PostgrestBuilder:o5t,PostgrestError:l5t}=a4e;class s4e{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const o4e="2.81.1",l4e=`realtime-js/${o4e}`,pre="1.0.0",c4e="2.0.0",qz=pre,_I=1e4,u4e=1e3,d4e=100;var Fg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fg||(Fg={}));var Hl;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Hl||(Hl={}));var If;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(If||(If={}));var NI;(function(e){e.websocket="websocket"})(NI||(NI={}));var Dg;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Dg||(Dg={}));class f4e{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:a,topic:i,payload:o}=t,l=this.META_LENGTH+r.length+n.length+i.length+a.length,c=new ArrayBuffer(this.HEADER_LENGTH+l);let u=new DataView(c),f=0;u.setUint8(f++,this.KINDS.push),u.setUint8(f++,r.length),u.setUint8(f++,n.length),u.setUint8(f++,i.length),u.setUint8(f++,a.length),Array.from(r,g=>u.setUint8(f++,g.charCodeAt(0))),Array.from(n,g=>u.setUint8(f++,g.charCodeAt(0))),Array.from(i,g=>u.setUint8(f++,g.charCodeAt(0))),Array.from(a,g=>u.setUint8(f++,g.charCodeAt(0)));var h=new Uint8Array(c.byteLength+o.byteLength);return h.set(new Uint8Array(c),0),h.set(new Uint8Array(o),c.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:a,ref:i,topic:o}=t,l=t.payload.event,c=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+i.length+o.length+l.length,f=new ArrayBuffer(this.HEADER_LENGTH+u);let h=new DataView(f),g=0;h.setUint8(g++,this.KINDS.userBroadcastPush),h.setUint8(g++,a.length),h.setUint8(g++,i.length),h.setUint8(g++,o.length),h.setUint8(g++,l.length),h.setUint8(g++,this.BINARY_ENCODING),Array.from(a,N=>h.setUint8(g++,N.charCodeAt(0))),Array.from(i,N=>h.setUint8(g++,N.charCodeAt(0))),Array.from(o,N=>h.setUint8(g++,N.charCodeAt(0))),Array.from(l,N=>h.setUint8(g++,N.charCodeAt(0)));var p=new Uint8Array(f.byteLength+c.byteLength);return p.set(new Uint8Array(f),0),p.set(new Uint8Array(c),f.byteLength),p.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:a,ref:i,topic:o}=t,l=t.payload.event,c=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+i.length+o.length+l.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(g),N=0;p.setUint8(N++,this.KINDS.userBroadcastPush),p.setUint8(N++,a.length),p.setUint8(N++,i.length),p.setUint8(N++,o.length),p.setUint8(N++,l.length),p.setUint8(N++,this.JSON_ENCODING),Array.from(a,S=>p.setUint8(N++,S.charCodeAt(0))),Array.from(i,S=>p.setUint8(N++,S.charCodeAt(0))),Array.from(o,S=>p.setUint8(N++,S.charCodeAt(0))),Array.from(l,S=>p.setUint8(N++,S.charCodeAt(0)));var b=new Uint8Array(g.byteLength+f.byteLength);return b.set(new Uint8Array(g),0),b.set(new Uint8Array(f),g.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,a);case this.KINDS.reply:return this._decodeReply(t,r,a);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,a);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodePush(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const c=n.decode(t.slice(l,l+a));l=l+a;const u=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{join_ref:c,ref:null,topic:u,event:f,payload:h}}_decodeReply(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+o));c=c+o;const g=n.decode(t.slice(c,c+l));c=c+l;const p=JSON.parse(n.decode(t.slice(c,t.byteLength))),N={status:g,response:p};return{join_ref:u,ref:f,topic:h,event:If.reply,payload:N}}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:null,ref:null,topic:l,event:c,payload:u}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+o));c=c+o;const g=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,N={type:this.BROADCAST,event:f,payload:p};return o>0&&(N.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:N}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class gre{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Us;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Us||(Us={}));const Gz=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=h4e(o,e,t,a),i),{}):{}},h4e=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?xre(i,o):SI(o)},xre=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return x4e(t,r)}switch(e){case Us.bool:return m4e(t);case Us.float4:case Us.float8:case Us.int2:case Us.int4:case Us.int8:case Us.numeric:case Us.oid:return p4e(t);case Us.json:case Us.jsonb:return g4e(t);case Us.timestamp:return v4e(t);case Us.abstime:case Us.date:case Us.daterange:case Us.int4range:case Us.int8range:case Us.money:case Us.reltime:case Us.text:case Us.time:case Us.timestamptz:case Us.timetz:case Us.tsrange:case Us.tstzrange:return SI(t);default:return SI(t)}},SI=e=>e,m4e=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},p4e=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},g4e=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},x4e=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>xre(t,l))}return e},v4e=e=>typeof e=="string"?e.replace(" ","T"):e,vre=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ok{constructor(t,r,n={},a=_I){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kz;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kz||(Kz={}));class b_{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=b_.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=b_.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=b_.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const h=i[u];if(h){const g=f.map(S=>S.presence_ref),p=h.map(S=>S.presence_ref),N=f.filter(S=>p.indexOf(S.presence_ref)<0),b=h.filter(S=>g.indexOf(S.presence_ref)<0);N.length>0&&(l[u]=N),b.length>0&&(c[u]=b)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const h=t[l].map(p=>p.presence_ref),g=f.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...g)}n(l,f,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yz;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Yz||(Yz={}));var w_;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(w_||(w_={}));var mm;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mm||(mm={}));class H7{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Hl.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ok(this,If.join,this.params,this.timeout),this.rejoinTimer=new gre(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Hl.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Hl.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Hl.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Hl.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Hl.errored,this.rejoinTimer.scheduleTimeout())}),this._on(If.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new b_(this),this.broadcastEndpointURL=vre(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Hl.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],f=!!this.bindings[w_.PRESENCE]&&this.bindings[w_.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(mm.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(mm.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var N;if(this.socket.setAuth(),p===void 0){t==null||t(mm.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,S=(N=b==null?void 0:b.length)!==null&&N!==void 0?N:0,C=[];for(let j=0;j<S;j++){const T=b[j],{filter:{event:O,schema:M,table:B,filter:L}}=T,H=p&&p[j];if(H&&H.event===O&&H.schema===M&&H.table===B&&H.filter===L)C.push(Object.assign(Object.assign({},T),{id:H.id}));else{this.unsubscribe(),this.state=Hl.errored,t==null||t(mm.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(mm.SUBSCRIBED);return}}).receive("error",p=>{this.state=Hl.errored,t==null||t(mm.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mm.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Hl.joined&&t===w_.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Hl.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(If.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new ok(this,If.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Hl.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ok(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>d4e){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=If;if(n&&[l,c,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var N,b,S;return((N=p.filter)===null||N===void 0?void 0:N.event)==="*"||((S=(b=p.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(p=>p.callback(g,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var N,b,S,C,j,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const O=p.id,M=(N=p.filter)===null||N===void 0?void 0:N.event;return O&&((b=r.ids)===null||b===void 0?void 0:b.includes(O))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const O=(j=(C=p==null?void 0:p.filter)===null||C===void 0?void 0:C.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return O==="*"||O===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof g=="object"&&"ids"in g){const N=g.data,{schema:b,table:S,commit_timestamp:C,type:j,errors:T}=N;g=Object.assign(Object.assign({},{schema:b,table:S,commit_timestamp:C,eventType:j,new:{},old:{},errors:T}),this._getPayloadRecords(N))}p.callback(g,n)})}_isClosed(){return this.state===Hl.closed}_isJoined(){return this.state===Hl.joined}_isJoining(){return this.state===Hl.joining}_isLeaving(){return this.state===Hl.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&H7.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(If.close,{},t)}_onError(t){this._on(If.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Hl.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Gz(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Gz(t.columns,t.old_record)),r}}const lk=()=>{},UN={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},y4e=[1e3,2e3,5e3,1e4],b4e=1e4,w4e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _4e{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_I,this.transport=null,this.heartbeatIntervalMs=UN.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lk,this.ref=0,this.reconnectTimer=null,this.vsn=qz,this.logger=lk,this.conn=null,this.sendBuffer=[],this.serializer=new f4e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${NI.websocket}`,this.httpEndpoint=vre(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=s4e.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Fg.connecting:return Dg.Connecting;case Fg.open:return Dg.Open;case Fg.closing:return Dg.Closing;default:return Dg.Closed}}isConnected(){return this.connectionState()===Dg.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new H7(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(u4e,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},UN.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fg.open||this.conn.readyState===Fg.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(If.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([w4e],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:l4e};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(If.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new gre(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},UN.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,f,h,g,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:_I,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:UN.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:lk,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:qz,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:N=>y4e[N-1]||b4e,this.vsn){case pre:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:(N,b)=>b(JSON.stringify(N)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(N,b)=>b(JSON.parse(N));break;case c4e:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class q7 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function So(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class N4e extends q7{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class CI extends q7{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const G7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),S4e=()=>Response,AI=e=>{if(Array.isArray(e))return e.map(r=>AI(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=AI(n)}),t},C4e=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ck=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},A4e=(e,t,r)=>aa(void 0,void 0,void 0,function*(){const n=yield S4e();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new N4e(ck(a),i,o))}).catch(a=>{t(new CI(ck(a),a))}):t(new CI(ck(e),e))}),E4e=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(C4e(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function B5(e,t,r,n,a,i){return aa(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,E4e(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>A4e(c,l,n))})})}function p4(e,t,r,n){return aa(this,void 0,void 0,function*(){return B5(e,"GET",t,r,n)})}function bh(e,t,r,n,a){return aa(this,void 0,void 0,function*(){return B5(e,"POST",t,n,a,r)})}function EI(e,t,r,n,a){return aa(this,void 0,void 0,function*(){return B5(e,"PUT",t,n,a,r)})}function j4e(e,t,r,n){return aa(this,void 0,void 0,function*(){return B5(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function K7(e,t,r,n,a){return aa(this,void 0,void 0,function*(){return B5(e,"DELETE",t,n,a,r)})}class T4e{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return aa(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(So(t))return{data:null,error:t};throw t}})}}var yre;class k4e{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[yre]="BlobDownloadBuilder",this.promise=null}asStream(){return new T4e(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return aa(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(So(t))return{data:null,error:t};throw t}})}}yre=Symbol.toStringTag;const P4e=k4e,O4e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xz={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class I4e{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=G7(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return aa(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Xz),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),h=yield(t=="PUT"?EI:bh)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(So(i))return{data:null,error:i};throw i}})}upload(t,r,n){return aa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return aa(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Xz.upsert},a),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield EI(this.fetch,l.toString(),c,{headers:f});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(So(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return aa(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield bh(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new q7("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(So(n))return{data:null,error:n};throw n}})}update(t,r,n){return aa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return aa(this,void 0,void 0,function*(){try{return{data:yield bh(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(So(a))return{data:null,error:a};throw a}})}copy(t,r,n){return aa(this,void 0,void 0,function*(){try{return{data:{path:(yield bh(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(So(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return aa(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield bh(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(So(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return aa(this,void 0,void 0,function*(){try{const a=yield bh(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(So(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>p4(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new P4e(c,this.shouldThrowOnError)}info(t){return aa(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield p4(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:AI(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(So(n))return{data:null,error:n};throw n}})}exists(t){return aa(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield j4e(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(So(n)&&n instanceof CI){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return aa(this,void 0,void 0,function*(){try{return{data:yield K7(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(So(r))return{data:null,error:r};throw r}})}list(t,r,n){return aa(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},O4e),r),{prefix:t||""});return{data:yield bh(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(So(a))return{data:null,error:a};throw a}})}listV2(t,r){return aa(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield bh(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(So(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const bre="2.81.1",wre={"X-Client-Info":`storage-js/${bre}`};class F4e{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wre),r),this.fetch=G7(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return aa(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield p4(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(So(r))return{data:null,error:r};throw r}})}getBucket(t){return aa(this,void 0,void 0,function*(){try{return{data:yield p4(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(So(r))return{data:null,error:r};throw r}})}createBucket(t){return aa(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield bh(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(So(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return aa(this,void 0,void 0,function*(){try{return{data:yield EI(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(So(n))return{data:null,error:n};throw n}})}emptyBucket(t){return aa(this,void 0,void 0,function*(){try{return{data:yield bh(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(So(r))return{data:null,error:r};throw r}})}deleteBucket(t){return aa(this,void 0,void 0,function*(){try{return{data:yield K7(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(So(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class D4e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wre),r),this.fetch=G7(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return aa(this,void 0,void 0,function*(){try{return{data:yield bh(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(So(r))return{data:null,error:r};throw r}})}listBuckets(t){return aa(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield p4(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(So(r))return{data:null,error:r};throw r}})}deleteBucket(t){return aa(this,void 0,void 0,function*(){try{return{data:yield K7(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(So(r))return{data:null,error:r};throw r}})}}const Y7={"X-Client-Info":`storage-js/${bre}`,"Content-Type":"application/json"};class _re extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Kd(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class uk extends _re{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class R4e extends _re{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Zz;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Zz||(Zz={}));const X7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),M4e=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Jz=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),L4e=(e,t,r)=>aa(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new uk(Jz(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new uk(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new uk(l,a,o))}}else t(new R4e(Jz(e),e))}),B4e=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(M4e(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r))};function U4e(e,t,r,n,a,i){return aa(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,B4e(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>L4e(c,l,n))})})}function Yd(e,t,r,n,a){return aa(this,void 0,void 0,function*(){return U4e(e,"POST",t,n,a,r)})}class $4e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Y7),r),this.fetch=X7(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return aa(this,void 0,void 0,function*(){try{return{data:(yield Yd(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kd(r))return{data:null,error:r};throw r}})}getIndex(t,r){return aa(this,void 0,void 0,function*(){try{return{data:yield Yd(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kd(n))return{data:null,error:n};throw n}})}listIndexes(t){return aa(this,void 0,void 0,function*(){try{return{data:yield Yd(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kd(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return aa(this,void 0,void 0,function*(){try{return{data:(yield Yd(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kd(n))return{data:null,error:n};throw n}})}}class z4e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Y7),r),this.fetch=X7(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return aa(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Yd(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kd(r))return{data:null,error:r};throw r}})}getVectors(t){return aa(this,void 0,void 0,function*(){try{return{data:yield Yd(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kd(r))return{data:null,error:r};throw r}})}listVectors(t){return aa(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Yd(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kd(r))return{data:null,error:r};throw r}})}queryVectors(t){return aa(this,void 0,void 0,function*(){try{return{data:yield Yd(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kd(r))return{data:null,error:r};throw r}})}deleteVectors(t){return aa(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Yd(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kd(r))return{data:null,error:r};throw r}})}}class V4e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Y7),r),this.fetch=X7(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return aa(this,void 0,void 0,function*(){try{return{data:(yield Yd(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kd(r))return{data:null,error:r};throw r}})}getBucket(t){return aa(this,void 0,void 0,function*(){try{return{data:yield Yd(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kd(r))return{data:null,error:r};throw r}})}listBuckets(){return aa(this,arguments,void 0,function*(t={}){try{return{data:yield Yd(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kd(r))return{data:null,error:r};throw r}})}deleteBucket(t){return aa(this,void 0,void 0,function*(){try{return{data:(yield Yd(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kd(r))return{data:null,error:r};throw r}})}}class W4e extends V4e{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new H4e(this.url,this.headers,t,this.fetch)}}class H4e extends $4e{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return aa(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return aa(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return aa(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return aa(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new q4e(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class q4e extends z4e{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return aa(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return aa(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return aa(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return aa(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return aa(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class G4e extends F4e{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new I4e(this.url,this.headers,t,this.fetch)}get vectors(){return new W4e(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new D4e(this.url+"/iceberg",this.headers,this.fetch)}}const K4e="2.30.0",Y4e={"X-Client-Info":`supabase-js/${K4e}`};var jI={exports:{}};(function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Vs<"u"&&Vs,n=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(o){var l=typeof i<"u"&&i||typeof self<"u"&&self||typeof Vs<"u"&&Vs||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function u(X){return X&&DataView.prototype.isPrototypeOf(X)}if(c.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(X){return X&&f.indexOf(Object.prototype.toString.call(X))>-1};function g(X){if(typeof X!="string"&&(X=String(X)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(X)||X==="")throw new TypeError('Invalid character in header field name: "'+X+'"');return X.toLowerCase()}function p(X){return typeof X!="string"&&(X=String(X)),X}function N(X){var ne={next:function(){var de=X.shift();return{done:de===void 0,value:de}}};return c.iterable&&(ne[Symbol.iterator]=function(){return ne}),ne}function b(X){this.map={},X instanceof b?X.forEach(function(ne,de){this.append(de,ne)},this):Array.isArray(X)?X.forEach(function(ne){if(ne.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+ne.length);this.append(ne[0],ne[1])},this):X&&Object.getOwnPropertyNames(X).forEach(function(ne){this.append(ne,X[ne])},this)}b.prototype.append=function(X,ne){X=g(X),ne=p(ne);var de=this.map[X];this.map[X]=de?de+", "+ne:ne},b.prototype.delete=function(X){delete this.map[g(X)]},b.prototype.get=function(X){return X=g(X),this.has(X)?this.map[X]:null},b.prototype.has=function(X){return this.map.hasOwnProperty(g(X))},b.prototype.set=function(X,ne){this.map[g(X)]=p(ne)},b.prototype.forEach=function(X,ne){for(var de in this.map)this.map.hasOwnProperty(de)&&X.call(ne,this.map[de],de,this)},b.prototype.keys=function(){var X=[];return this.forEach(function(ne,de){X.push(de)}),N(X)},b.prototype.values=function(){var X=[];return this.forEach(function(ne){X.push(ne)}),N(X)},b.prototype.entries=function(){var X=[];return this.forEach(function(ne,de){X.push([de,ne])}),N(X)},c.iterable&&(b.prototype[Symbol.iterator]=b.prototype.entries);function S(X){if(!X._noBody){if(X.bodyUsed)return Promise.reject(new TypeError("Already read"));X.bodyUsed=!0}}function C(X){return new Promise(function(ne,de){X.onload=function(){ne(X.result)},X.onerror=function(){de(X.error)}})}function j(X){var ne=new FileReader,de=C(ne);return ne.readAsArrayBuffer(X),de}function T(X){var ne=new FileReader,de=C(ne),le=/charset=([A-Za-z0-9_-]+)/.exec(X.type),xe=le?le[1]:"utf-8";return ne.readAsText(X,xe),de}function O(X){for(var ne=new Uint8Array(X),de=new Array(ne.length),le=0;le<ne.length;le++)de[le]=String.fromCharCode(ne[le]);return de.join("")}function M(X){if(X.slice)return X.slice(0);var ne=new Uint8Array(X.byteLength);return ne.set(new Uint8Array(X)),ne.buffer}function B(){return this.bodyUsed=!1,this._initBody=function(X){this.bodyUsed=this.bodyUsed,this._bodyInit=X,X?typeof X=="string"?this._bodyText=X:c.blob&&Blob.prototype.isPrototypeOf(X)?this._bodyBlob=X:c.formData&&FormData.prototype.isPrototypeOf(X)?this._bodyFormData=X:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(X)?this._bodyText=X.toString():c.arrayBuffer&&c.blob&&u(X)?(this._bodyArrayBuffer=M(X.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(X)||h(X))?this._bodyArrayBuffer=M(X):this._bodyText=X=Object.prototype.toString.call(X):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof X=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(X)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var X=S(this);if(X)return X;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var X=S(this);return X||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(j);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var X=S(this);if(X)return X;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(J)}),this.json=function(){return this.text().then(JSON.parse)},this}var L=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function H(X){var ne=X.toUpperCase();return L.indexOf(ne)>-1?ne:X}function U(X,ne){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ne=ne||{};var de=ne.body;if(X instanceof U){if(X.bodyUsed)throw new TypeError("Already read");this.url=X.url,this.credentials=X.credentials,ne.headers||(this.headers=new b(X.headers)),this.method=X.method,this.mode=X.mode,this.signal=X.signal,!de&&X._bodyInit!=null&&(de=X._bodyInit,X.bodyUsed=!0)}else this.url=String(X);if(this.credentials=ne.credentials||this.credentials||"same-origin",(ne.headers||!this.headers)&&(this.headers=new b(ne.headers)),this.method=H(ne.method||this.method||"GET"),this.mode=ne.mode||this.mode||null,this.signal=ne.signal||this.signal||function(){if("AbortController"in l){var Se=new AbortController;return Se.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&de)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(de),(this.method==="GET"||this.method==="HEAD")&&(ne.cache==="no-store"||ne.cache==="no-cache")){var le=/([?&])_=[^&]*/;if(le.test(this.url))this.url=this.url.replace(le,"$1_="+new Date().getTime());else{var xe=/\?/;this.url+=(xe.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})};function J(X){var ne=new FormData;return X.trim().split("&").forEach(function(de){if(de){var le=de.split("="),xe=le.shift().replace(/\+/g," "),Se=le.join("=").replace(/\+/g," ");ne.append(decodeURIComponent(xe),decodeURIComponent(Se))}}),ne}function K(X){var ne=new b,de=X.replace(/\r?\n[\t ]+/g," ");return de.split("\r").map(function(le){return le.indexOf(`
`)===0?le.substr(1,le.length):le}).forEach(function(le){var xe=le.split(":"),Se=xe.shift().trim();if(Se){var ye=xe.join(":").trim();try{ne.append(Se,ye)}catch(ee){console.warn("Response "+ee.message)}}}),ne}B.call(U.prototype);function G(X,ne){if(!(this instanceof G))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(ne||(ne={}),this.type="default",this.status=ne.status===void 0?200:ne.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=ne.statusText===void 0?"":""+ne.statusText,this.headers=new b(ne.headers),this.url=ne.url||"",this._initBody(X)}B.call(G.prototype),G.prototype.clone=function(){return new G(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},G.error=function(){var X=new G(null,{status:200,statusText:""});return X.ok=!1,X.status=0,X.type="error",X};var re=[301,302,303,307,308];G.redirect=function(X,ne){if(re.indexOf(ne)===-1)throw new RangeError("Invalid status code");return new G(null,{status:ne,headers:{location:X}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(ne,de){this.message=ne,this.name=de;var le=Error(ne);this.stack=le.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function ae(X,ne){return new Promise(function(de,le){var xe=new U(X,ne);if(xe.signal&&xe.signal.aborted)return le(new o.DOMException("Aborted","AbortError"));var Se=new XMLHttpRequest;function ye(){Se.abort()}Se.onload=function(){var se={statusText:Se.statusText,headers:K(Se.getAllResponseHeaders()||"")};xe.url.indexOf("file://")===0&&(Se.status<200||Se.status>599)?se.status=200:se.status=Se.status,se.url="responseURL"in Se?Se.responseURL:se.headers.get("X-Request-URL");var te="response"in Se?Se.response:Se.responseText;setTimeout(function(){de(new G(te,se))},0)},Se.onerror=function(){setTimeout(function(){le(new TypeError("Network request failed"))},0)},Se.ontimeout=function(){setTimeout(function(){le(new TypeError("Network request timed out"))},0)},Se.onabort=function(){setTimeout(function(){le(new o.DOMException("Aborted","AbortError"))},0)};function ee(se){try{return se===""&&l.location.href?l.location.href:se}catch{return se}}if(Se.open(xe.method,ee(xe.url),!0),xe.credentials==="include"?Se.withCredentials=!0:xe.credentials==="omit"&&(Se.withCredentials=!1),"responseType"in Se&&(c.blob?Se.responseType="blob":c.arrayBuffer&&(Se.responseType="arraybuffer")),ne&&typeof ne.headers=="object"&&!(ne.headers instanceof b||l.Headers&&ne.headers instanceof l.Headers)){var he=[];Object.getOwnPropertyNames(ne.headers).forEach(function(se){he.push(g(se)),Se.setRequestHeader(se,p(ne.headers[se]))}),xe.headers.forEach(function(se,te){he.indexOf(te)===-1&&Se.setRequestHeader(te,se)})}else xe.headers.forEach(function(se,te){Se.setRequestHeader(te,se)});xe.signal&&(xe.signal.addEventListener("abort",ye),Se.onreadystatechange=function(){Se.readyState===4&&xe.signal.removeEventListener("abort",ye)}),Se.send(typeof xe._bodyInit>"u"?null:xe._bodyInit)})}return ae.polyfill=!0,l.fetch||(l.fetch=ae,l.Headers=b,l.Request=U,l.Response=G),o.Headers=b,o.Request=U,o.Response=G,o.fetch=ae,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=r.fetch?r:n;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t})(jI,jI.exports);var Z7=jI.exports;const Nre=ji(Z7),X4e=CR({__proto__:null,default:Nre},[Z7]);var Z4e=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const J4e=e=>{let t;return e?t=e:typeof fetch>"u"?t=Nre:t=fetch,(...r)=>t(...r)},Q4e=()=>typeof Headers>"u"?Z7.Headers:Headers,e5e=(e,t,r)=>{const n=J4e(r),a=Q4e();return(i,o)=>Z4e(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};function t5e(e){return e.replace(/\/$/,"")}function r5e(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},u),i)}}const n5e="modulepreload",a5e=function(e){return"/"+e},Qz={},tC=function(t,r,n){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=a5e(i),i in Qz)return;Qz[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let f=a.length-1;f>=0;f--){const h=a[f];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":n5e,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((f,h)=>{u.addEventListener("load",f),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};function i5e(e){return Math.round(Date.now()/1e3)+e}function s5e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const dm=()=>typeof document<"u",yg={tested:!1,writable:!1},rC=()=>{if(!dm())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yg.tested)return yg.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),yg.tested=!0,yg.writable=!0}catch{yg.tested=!0,yg.writable=!1}return yg.writable};function ld(e,t){var r;t||(t=((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),a=n.exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}const Sre=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...r)=>await(await tC(()=>Promise.resolve().then(()=>X4e),void 0)).fetch(...r):t=fetch,(...r)=>t(...r)},o5e=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",jw=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},$N=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},dk=async(e,t)=>{await e.removeItem(t)};function l5e(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,a,i,o,l,c,u,f=0;for(e=e.replace("-","+").replace("_","/");f<e.length;)o=t.indexOf(e.charAt(f++)),l=t.indexOf(e.charAt(f++)),c=t.indexOf(e.charAt(f++)),u=t.indexOf(e.charAt(f++)),n=o<<2|l>>4,a=(l&15)<<4|c>>2,i=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&a!=0&&(r=r+String.fromCharCode(a)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class Uj{constructor(){this.promise=new Uj.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Uj.promiseConstructor=Promise;function eV(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(l5e(n))}function c5e(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function u5e(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function d5e(e){return("0"+e.toString(16)).substr(-2)}function zN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,d5e).join("")}async function f5e(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}function h5e(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function VN(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await f5e(e);return h5e(t)}const m5e="__stack_guard__",p5e="__",g5e=/__stack_guard__([a-zA-Z0-9_-]+)__/;let tV=!1,J7;function TI(e){var t,r;J7();let n;try{throw new Error}catch(i){n=i}const a=(r=(t=n.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&r!==void 0?r:[];for(let i=0;i<a.length;i+=1){const l=a[i].match(g5e);if(l&&l[1]===e)return!0}return!1}async function kI(e,t){await J7();const r=`${m5e}${e}${p5e}`;return await{[r]:async()=>await t()}[r]()}J7=async()=>{tV||(tV=!0,await kI("ENV_CHECK",async()=>{const e=TI("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class Q7 extends Error{constructor(t,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r}}function $i(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class x5e extends Q7{constructor(t,r){super(t,r),this.name="AuthApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function v5e(e){return $i(e)&&e.name==="AuthApiError"}class Cre extends Q7{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class mb extends Q7{constructor(t,r,n){super(t),this.name=r,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Iv extends mb{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class fk extends mb{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class WN extends mb{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class im extends mb{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hk extends mb{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class PI extends mb{constructor(t,r){super(t,"AuthRetryableFetchError",r)}}function rV(e){return $i(e)&&e.name==="AuthRetryableFetchError"}var y5e=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const r_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),b5e=[502,503,504];async function nV(e){if(!o5e(e))throw new PI(r_(e),0);if(b5e.includes(e.status))throw new PI(r_(e),e.status);let t;try{t=await e.json()}catch(r){throw new Cre(r_(r),r)}throw new x5e(r_(t),e.status||500)}const w5e=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ls(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await _5e(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function _5e(e,t,r,n,a,i){const o=w5e(t,n,a,i);let l;try{l=await e(r,o)}catch(c){throw console.error(c),new PI(r_(c),0)}if(l.ok||await nV(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await nV(c)}}function wp(e){var t;let r=null;A5e(e)&&(r=Object.assign({},e),r.expires_at=i5e(e.expires_in));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Rg(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function N5e(e){return{data:e,error:null}}function S5e(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=y5e(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function C5e(e){return e}function A5e(e){return e.access_token&&e.refresh_token&&e.expires_in}var E5e=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class j5e{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Sre(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ls(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($i(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ls(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rg})}catch(n){if($i(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=E5e(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ls(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:S5e,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($i(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ls(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Rg})}catch(r){if($i(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await ls(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:C5e});if(f.error)throw f.error;const h=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(N=>{const b=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(N.split(";")[1].split("=")[1]);u[`${S}Page`]=b}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($i(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ls(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Rg})}catch(r){if($i(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ls(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Rg})}catch(n){if($i(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ls(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rg})}catch(n){if($i(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ls(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if($i(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ls(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($i(r))return{data:null,error:r};throw r}}}const T5e="2.43.1",k5e="http://localhost:9999",P5e="supabase.auth.token",O5e={"X-Client-Info":`gotrue-js/${T5e}`},aV=10,iV={getItem:e=>rC()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{rC()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{rC()&&globalThis.localStorage.removeItem(e)}};function I5e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}I5e();const F5e={url:k5e,storageKey:P5e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:O5e,flowType:"implicit",debug:!1},HN=30*1e3,sV=3;class g4{constructor(t){var r;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=g4.nextInstanceID,g4.nextInstanceID+=1,this.instanceID>0&&dm()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},F5e),t);if(this.logDebugMessages=n.debug,this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||iV,this.admin=new j5e({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Sre(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===iV&&!rC()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),dm()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=kI("_initialize",async()=>{try{const t=dm()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromUrl(t);if(n)return this._debug("#_initialize()","error detecting session from URL",n),await this._removeSession(),{error:n};const{session:a,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return $i(t)?{error:t}:{error:new Cre("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var r,n,a;try{await this._removeSession();let i;if("email"in t){const{email:f,password:h,options:g}=t;let p=null,N=null;if(this.flowType==="pkce"){const b=zN();await jw(this.storage,`${this.storageKey}-code-verifier`,b),p=await VN(b),N=b===p?"plain":"s256"}i=await ls(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:N},xform:wp})}else if("phone"in t){const{phone:f,password:h,options:g}=t;i=await ls(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(a=g==null?void 0:g.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:wp})}else throw new WN("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if($i(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{await this._removeSession();let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ls(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wp})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ls(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wp})}else throw new WN("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fk}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:{user:n.user,session:n.session},error:a})}catch(r){if($i(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){const r=await $N(this.storage,`${this.storageKey}-code-verifier`),{data:n,error:a}=await ls(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:wp});return await dk(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fk}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:a})}async signInWithIdToken(t){await this._removeSession();try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await ls(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wp}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new fk}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if($i(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let u=null,f=null;if(this.flowType==="pkce"){const g=zN();await jw(this.storage,`${this.storageKey}-code-verifier`,g),u=await VN(g),f=g===u?"plain":"s256"}const{error:h}=await ls(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await ls(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new WN("You must provide either an email or phone number.")}catch(l){if($i(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:a,error:i}=await ls(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(r=t.options)===null||r===void 0?void 0:r.captchaToken}}),redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,xform:wp});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if($i(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{return await this._removeSession(),await ls(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:N5e})}catch(i){if($i(i))return{data:null,error:i};throw i}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Iv;const{error:a}=await ls(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if($i(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ls(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await ls(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new WN("You must provide either an email or phone number and a type")}catch(r){if($i(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await kI("_useSession",async()=>{const r=await this.__loadSession();return await t(r)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!TI("_useSession"))throw new Error("Please use #_useSession()");TI("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const i=await $N(this.storage,this.storageKey);this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};const{session:n,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async r=>{var n,a;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0}return await ls(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Rg})})}catch(r){if($i(r))return{data:{user:null},error:r};throw r}}async updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Iv;const o=a.session,{data:l,error:c}=await ls(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:t,jwt:o.access_token,xform:Rg});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if($i(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return eV(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Iv;const r=Date.now()/1e3;let n=r,a=!0,i=null;const o=eV(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if($i(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Iv;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($i(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromUrl(t){try{if(!dm())throw new im("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new im("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new hk("Not a valid PKCE flow url.");if(t){const S=ld("code");if(!S)throw new hk("No code detected.");const{data:C,error:j}=await this.exchangeCodeForSession(S);if(j)throw j;if(!C.session)throw new hk("No session detected.");let T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:C.session,redirectType:null},error:null}}const r=ld("error_description");if(r){const S=ld("error_code");if(!S)throw new im("No error_code detected.");const C=ld("error");throw C?new im(r,{error:C,code:S}):new im("No error detected.")}const n=ld("provider_token"),a=ld("provider_refresh_token"),i=ld("access_token");if(!i)throw new im("No access_token detected.");const o=ld("expires_in");if(!o)throw new im("No expires_in detected.");const l=ld("refresh_token");if(!l)throw new im("No refresh_token detected.");const c=ld("token_type");if(!c)throw new im("No token_type detected.");const f=Math.round(Date.now()/1e3)+parseInt(o),{data:h,error:g}=await this.getUser(i);if(g)throw g;const p=h.user,N={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:parseInt(o),expires_at:f,refresh_token:l,token_type:c,user:p},b=ld("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:N,redirectType:b},error:null}}catch(r){if($i(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){return dm()&&(!!ld("access_token")||!!ld("error_description"))}async _isPKCEFlow(){const t=await $N(this.storage,`${this.storageKey}-code-verifier`);return!!ld("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(v5e(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await dk(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const r=s5e(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),this._emitInitialSession(r),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;if(this.flowType==="pkce"){const i=zN();await jw(this.storage,`${this.storageKey}-code-verifier`,i),n=await VN(i),a=i===n?"plain":"s256"}try{return await ls(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if($i(i))return{data:null,error:i};throw i}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await u5e(async a=>(await c5e(a*200),this._debug(r,"refreshing attempt",a),await ls(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wp})),(a,i,o)=>o&&o.error&&rV(o.error)&&Date.now()+(a+1)*200-n<HN)}catch(n){if(this._debug(r,"error",n),$i(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),dm()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await $N(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<a+aV;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${aV}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),rV(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Iv;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Uj;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Iv;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),$i(i)){const o={session:null,error:i};return(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),jw(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await dk(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dm()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),HN);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/HN);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${HN}ms, refresh threshold is ${sV} ticks`),a<=sV&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dm()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r){const n=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const a=zN();await jw(this.storage,`${this.storageKey}-code-verifier`,a);const i=await VN(a),o=a===i?"plain":"s256";this._debug("PKCE","code verifier",`${a.substring(0,5)}...`,"code challenge",i,"method",o);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);n.push(a.toString())}return`${this.url}/authorize?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ls(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($i(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const{data:l,error:c}=await ls(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if($i(r))return{data:null,error:r};throw r}}async _verify(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ls(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if($i(r))return{data:null,error:r};throw r}}async _challenge(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ls(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($i(r))return{data:null,error:r};throw r}}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:n,totp:a},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}})}}g4.nextInstanceID=0;class D5e extends g4{constructor(t){super(t)}}var R5e=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const M5e={headers:Y4e},L5e={schema:"public"},B5e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},U5e={};class $5e{constructor(t,r,n){var a,i,o,l,c,u,f,h;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const g=t5e(t);this.realtimeUrl=`${g}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${g}/auth/v1`,this.storageUrl=`${g}/storage/v1`,this.functionsUrl=`${g}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,N={db:L5e,realtime:U5e,auth:Object.assign(Object.assign({},B5e),{storageKey:p}),global:M5e},b=r5e(n??{},N);this.storageKey=(i=(a=b.auth)===null||a===void 0?void 0:a.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=(o=b.global)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=b.auth)!==null&&c!==void 0?c:{},this.headers,(u=b.global)===null||u===void 0?void 0:u.fetch),this.fetch=e5e(r,this._getAccessToken.bind(this),(f=b.global)===null||f===void 0?void 0:f.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},b.realtime)),this.rest=new i4e(`${g}/rest/v1`,{headers:this.headers,schema:(h=b.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new F_e(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new G4e(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,r={},n){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return R5e(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,debug:l},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new D5e({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,debug:l,fetch:u})}_initRealtimeClient(t){return new _4e(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const z5e=(e,t,r)=>new $5e(e,t,r),V5e="https://jdeuwvaauerzjdtpwjjz.supabase.co",W5e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpkZXV3dmFhdWVyempkdHB3amp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzMTkxNTksImV4cCI6MjA3NDg5NTE1OX0.ktxs6yjuy3hRXCjsDzK1x6lJg0e5yEEnzl554nx28Kc",Je=z5e(V5e,W5e,{auth:{persistSession:!0,storage:window.localStorage,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{"x-application-name":"bonplaninfos"}}}),Are=A.createContext(void 0),nC=async(e,t=3,r=500)=>{try{return await e()}catch(n){const a=(n==null?void 0:n.message)||"",i=(n==null?void 0:n.code)||"",o=(n==null?void 0:n.status)||"",l=(n==null?void 0:n.error_code)||"";if(a.includes("refresh_token_not_found")||a.includes("Invalid Refresh Token")||i==="refresh_token_not_found"||l==="refresh_token_not_found")throw new Error("CRITICAL_AUTH_ERROR: Refresh Token Invalid");if(o===400||o===401||o===403||i&&(i===403||i==="403"||i==="bad_jwt"||i==="session_not_found")||a&&(a.includes("bad_jwt")||a.includes("invalid claim")||a.includes("session_id"))||t<=0)throw n;if(a&&(a.includes("Failed to fetch")||a.includes("Network request failed")||a.includes("NetworkError")||a.includes("Load failed")))return await new Promise(h=>setTimeout(h,r)),nC(e,t-1,r*1.5);throw n}},H5e=({children:e})=>{qs();const[t,r]=A.useState(null),[n,a]=A.useState(null),[i,o]=A.useState(null),[l,c]=A.useState(!0),[u,f]=A.useState(!1),[h,g]=A.useState(()=>()=>{}),p=A.useCallback(()=>{console.log("Cleaning session data due to auth error...");try{for(let B=localStorage.length-1;B>=0;B--){const L=localStorage.key(B);L&&L.startsWith("sb-")&&localStorage.removeItem(L)}localStorage.removeItem("supabase.auth.token"),sessionStorage.clear(),document.cookie.split(";").forEach(B=>{document.cookie=B.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")})}catch(B){console.warn("Error clearing storage:",B)}r(null),a(null),o(null)},[]),N=A.useCallback(async B=>{if(B)try{const{data:L}=await Je.from("admin_licences").select("*").eq("admin_id",B).eq("statut","actif");if(L&&L.length>0){const U=L.sort((J,K)=>new Date(K.date_fin)-new Date(J.date_fin))[0];o(U);return}const{data:H}=await Je.from("admin_licences").select("*").eq("admin_id",B).limit(1);H&&H.length>0?o(H[0]):o(null)}catch(L){console.error("License fetch error:",L)}},[]),b=A.useCallback(async(B,L=null)=>{var U;const H=L||(B==null?void 0:B.error);if(H){const J=H.message||"",K=H.code||H.error_code||"";if(J.includes("CRITICAL_AUTH_ERROR")||J.includes("refresh_token_not_found")||J.includes("Invalid Refresh Token")||K==="refresh_token_not_found"){console.error("Critical Auth Error detected. Logging out."),p(),c(!1);return}if(K==="session_not_found"||J.includes("session_not_found")){p(),c(!1);return}if(J.includes("session_id claim")){p(),c(!1);return}J.includes("bad_jwt")||J.includes("invalid claim")||J.includes("not found")||J.includes("JWT")?p():f(!0),c(!1);return}if(B!=null&&B.user){const J=B.user;try{const{data:K}=await Je.from("profiles").select("is_active").eq("id",J.id).maybeSingle();if(K&&K.is_active===!1){console.warn("User is deactivated. Logging out."),await Je.auth.signOut(),p(),c(!1);return}}catch(K){console.error("Profile active check failed",K)}try{const{error:K}=await Je.rpc("ensure_user_profile_exists",{p_user_id:J.id,p_email:J.email,p_full_name:(U=J.user_metadata)==null?void 0:U.full_name});K&&console.error("Profile check error:",K)}catch(K){console.error("Profile verification exception:",K)}a(B),r(J),f(!1),await N(J.id),typeof h=="function"&&h()}else a(null),r(null),o(null);c(!1)},[h,p,N]);A.useEffect(()=>{const B=async L=>{var J,K,G,re,ae;const H=L.reason;if(((J=H==null?void 0:H.message)==null?void 0:J.includes("AuthSessionMissingError"))||((K=H==null?void 0:H.message)==null?void 0:K.includes("Invalid token"))||((G=H==null?void 0:H.message)==null?void 0:G.includes("Unauthorized"))||(H==null?void 0:H.details)&&H.details.__isAuthError||(H==null?void 0:H.name)==="FunctionsHttpError"&&((ae=(re=H==null?void 0:H.context)==null?void 0:re.json)==null?void 0:ae.error)==="Unauthorized: Invalid token"){console.warn("Caught unhandled auth error (likely Edge Function). Attempting recovery...",H),L.preventDefault();const{data:X,error:ne}=await Je.auth.refreshSession();ne?(console.error("Session refresh failed during recovery. Logging out."),p(),window.location.href="/auth"):X.session&&(console.log("Session successfully recovered."),b(X.session))}};return window.addEventListener("unhandledrejection",B),()=>window.removeEventListener("unhandledrejection",B)},[p,b]),A.useEffect(()=>{let B=!0;(async()=>{try{c(!0);const{data:{session:U},error:J}=await nC(()=>Je.auth.getSession());if(J){B&&b(null,J);return}if(U){const{data:{user:K},error:G}=await nC(()=>Je.auth.getUser());G?B&&b(null,G):B&&b(U)}else B&&b(null)}catch(U){B&&b(null,U)}})();const{data:{subscription:H}}=Je.auth.onAuthStateChange(async(U,J)=>{B&&(console.log("Auth state change:",U),U==="SIGNED_OUT"?(p(),c(!1)):(U==="TOKEN_REFRESHED"||U==="SIGNED_IN"||U==="USER_UPDATED")&&b(J))});return()=>{B=!1,H.unsubscribe()}},[b,p]);const S=A.useCallback(async(B,L,H)=>{try{const{data:U,error:J}=await Je.auth.signUp({email:B,password:L,options:{data:H}});if(J)throw J;return{data:U,error:null}}catch(U){return{data:null,error:U}}},[]),C=A.useCallback(async(B,L)=>{try{const{data:H,error:U}=await Je.auth.signInWithPassword({email:B,password:L});if(U)throw U;if(H!=null&&H.user){const{data:J}=await Je.from("profiles").select("is_active").eq("id",H.user.id).maybeSingle();if(J&&J.is_active===!1)throw await Je.auth.signOut(),new Error("ACCOUNT_DEACTIVATED")}return{data:H,error:null}}catch(H){return{data:null,error:H}}},[]),j=A.useCallback(async()=>{var B,L;console.log("Logout started");try{const{error:H}=await Je.auth.signOut();H&&((B=H.message)!=null&&B.includes("session_id claim")||(L=H.message)!=null&&L.includes("JWT")||H.status===403?console.log("JWT error caught and ignored during logout"):console.warn("Supabase signOut warning (ignoring):",H.message))}catch(H){console.log("Logout exception caught and ignored:",H)}finally{p(),window.location.href="/auth"}},[p]),T=A.useCallback(async()=>{t&&await N(t.id)},[t,N]),O=A.useCallback(async(B,L={})=>nC(async()=>{var H,U,J;try{const{data:K,error:G}=await Je.functions.invoke(B,L);if(G)throw G;return{data:K,error:null}}catch(K){if((H=K.message)!=null&&H.includes("AuthSessionMissingError")||((J=(U=K.context)==null?void 0:U.json)==null?void 0:J.error)==="Unauthorized: Invalid token"){console.log("Auth error in invokeFunction, attempting refresh...");const{error:G}=await Je.auth.refreshSession();if(!G)return await Je.functions.invoke(B,L)}throw K}}),[]),M=A.useMemo(()=>({user:t,session:n,license:i,loading:l,hasFetchError:u,signUp:S,signIn:C,signOut:j,setForceRefresh:g,refreshLicense:T,invokeFunction:O}),[t,n,i,l,u,S,C,j,g,T,O]);return s.jsx(Are.Provider,{value:M,children:e})},bn=()=>{const e=A.useContext(Are);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Ere=A.createContext(),ai=()=>A.useContext(Ere),aC=async(e,t=3,r=1e3,n=null)=>{try{return await e()}catch(a){return t===0?(console.error("All fetch retries failed:",a),{data:n,error:a}):(console.warn(`Fetch failed, retrying in ${r}ms... (${t} attempts left)`),await new Promise(i=>setTimeout(i,r)),aC(e,t-1,r*1.5,n))}},q5e=({children:e})=>{const{user:t}=bn(),{toast:r}=qs(),[n,a]=A.useState(null),[i,o]=A.useState([]),[l,c]=A.useState({app_name:"BonPlanInfos",maintenance_mode:!1,coin_to_fcfa_rate:10,min_withdrawal_pi:50,support_email:"support@bonplaninfos.com"}),[u,f]=A.useState(!0),[h,g]=A.useState(!1),[p,N]=A.useState(!1),[b,S]=A.useState(0),[C,j]=A.useState(0),T=A.useRef({data:null,userId:null,timestamp:0}),O=5*60*1e3,[M,B]=A.useState([]),[L,H]=A.useState(null),U=A.useCallback(he=>{const se=Math.random().toString(36).substr(2,9);B(te=>[...te,{id:se,type:he}])},[]),J=A.useCallback(he=>{B(se=>se.filter(te=>te.id!==he))},[]),K=A.useCallback(he=>{H(he)},[]),G=A.useCallback(()=>{H(null)},[]),re=A.useCallback(async()=>{if(!t){a(null);return}const he=Date.now();if(T.current.data&&T.current.userId===t.id&&he-T.current.timestamp<O&&C===0){console.log("Using cached user profile"),a(T.current.data);return}g(!0),console.time("fetchUserProfile");try{const{data:te,error:ge}=await aC(()=>Je.from("profiles").select("*").eq("id",t.id).maybeSingle(),3,500,null);ge?console.error("Error fetching profile:",ge):te?(a(te),T.current={data:te,userId:t.id,timestamp:Date.now()}):console.warn(`Profile missing for user ${t.id} in DataContext (should have been auto-created)`)}catch(te){console.error("Exception fetching profile:",te)}finally{console.timeEnd("fetchUserProfile"),g(!1)}},[t,C]),ae=A.useCallback(async()=>{try{const{data:he,error:se}=await aC(()=>Je.from("app_settings").select("*").limit(1).maybeSingle(),2,1e3,{});!se&&he&&c(te=>({...te,...he}))}catch(he){console.warn("Exception fetching app_settings:",he)}},[]),X=A.useCallback(async()=>{try{const{data:he,error:se}=await aC(()=>Je.from("welcome_popups").select("*").eq("is_active",!0).order("created_at",{ascending:!1}),2,1e3,[]);!se&&he&&o(he)}catch(he){console.warn("Exception fetching welcome_popups:",he)}},[]),ne=A.useCallback(async()=>{if(t)try{const{count:he,error:se}=await Je.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t.id).eq("is_read",!1);se||S(he||0)}catch(he){console.error("Error fetching notification count:",he)}},[t]),de=A.useCallback(async(he,se)=>{g(!0),console.log("Updating profile:",Object.keys(se));try{const{data:te,error:ge}=await Je.rpc("update_user_profile",{p_user_id:he,p_full_name:se.full_name,p_email:se.email,p_phone:se.phone,p_city:se.city,p_country:se.country,p_bio:se.bio,p_avatar_url:se.avatar_url});if(ge)throw ge;return console.log("Profile updated successfully"),await re(),T.current={...T.current,timestamp:0},j(ue=>ue+1),{success:!0,data:te}}catch(te){return console.error("Profile update error:",te),{success:!1,error:te}}finally{g(!1)}},[re]);A.useEffect(()=>{let he=!0;return(async()=>{navigator.onLine||r({title:"Mode hors ligne",description:"Vrifiez votre connexion internet.",variant:"warning"}),f(!0);try{await Promise.all([ae(),X()])}catch(te){console.error("Global data load error:",te)}finally{he&&f(!1)}})(),()=>{he=!1}},[ae,X]),A.useEffect(()=>{re(),ne()},[re,ne]),A.useEffect(()=>{if(!t)return;const he=Je.channel("public:profiles").on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`id=eq.${t.id}`},te=>{console.log("Profile updated via realtime:",te),T.current={...T.current,timestamp:0},re()}).subscribe(),se=Je.channel("public:notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},te=>{console.log("New notification received:",te),ne(),N(!0),setTimeout(()=>N(!1),1e3),K("notification")}).subscribe();return()=>{Je.removeChannel(he),Je.removeChannel(se)}},[t,re,ne,K]);const le=A.useCallback(()=>{T.current={...T.current,timestamp:0},j(he=>he+1)},[]),xe=A.useCallback(()=>{N(!0),setTimeout(()=>N(!1),1e3)},[]),Se=A.useCallback(async(he={})=>{try{let se=Je.from("events").select("*").eq("status","active").order("created_at",{ascending:!1});he.organizer_id&&(se=se.eq("organizer_id",he.organizer_id)),he.country&&(se=se.eq("country",he.country));const{data:te,error:ge}=await se;if(ge)throw ge;return te}catch(se){return console.error("Error fetching events:",se),[]}},[]),ye=A.useCallback(async(he={})=>{try{let se=Je.from("event_promotions").select("*, organizer:organizer_id(full_name, email)").order("created_at",{ascending:!1});const{data:te,error:ge}=await se;if(ge)throw ge;return te}catch(se){return console.error("Error fetching promotions:",se),[]}},[]),ee={userProfile:n,welcomePopups:i,appSettings:l,loading:u,loadingProfile:h,notificationBellAnimation:p,notificationCount:b,fetchNotificationCount:ne,forceRefreshUserProfile:le,updateUserProfile:de,triggerNotificationAnimation:xe,refreshData:()=>{ae(),X(),le(),ne()},getEvents:Se,getPromotions:ye,visualEffects:M,addVisualEffect:U,removeVisualEffect:J,soundEffect:L,triggerSoundEffect:K,clearSoundEffect:G};return s.jsx(Ere.Provider,{value:ee,children:e})},jre=A.createContext(),G5e=()=>A.useContext(jre),K5e=({children:e})=>{const[t,r]=A.useState(()=>{const a=localStorage.getItem("bonplaninfos_theme");return a==="dark-elegant"||a==="deep-night"?a:"dark-elegant"});A.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("dark-elegant","deep-night","light","dark","blue"),a.classList.add(t),localStorage.setItem("bonplaninfos_theme",t)},[t]);const n={theme:t,setTheme:r};return s.jsx(jre.Provider,{value:n,children:e})};var Y5e={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const X5e=ji(Y5e);var Z5e=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function oV(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(X5e[r[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var a=new RegExp(Z5e),i=null;(i=a.exec(e))!==null;)if(i[0].trim())if(i[1]){var o=i[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),t.attrs[l[0]]=l[1],a.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var J5e=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Q5e=/^\s*$/,e3e=Object.create(null);function Tre(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(r){var n=[];for(var a in r)n.push(a+'="'+r[a]+'"');return n.length?" "+n.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(Tre,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var t3e={parse:function(e,t){t||(t={}),t.components||(t.components=e3e);var r,n=[],a=[],i=-1,o=!1;if(e.indexOf("<")!==0){var l=e.indexOf("<");n.push({type:"text",content:l===-1?e:e.substring(0,l)})}return e.replace(J5e,function(c,u){if(o){if(c!=="</"+r.name+">")return;o=!1}var f,h=c.charAt(1)!=="/",g=c.startsWith("<!--"),p=u+c.length,N=e.charAt(p);if(g){var b=oV(c);return i<0?(n.push(b),n):((f=a[i]).children.push(b),n)}if(h&&(i++,(r=oV(c)).type==="tag"&&t.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!N||N==="<"||r.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),i===0&&n.push(r),(f=a[i-1])&&f.children.push(r),a[i]=r),(!h||r.voidElement)&&(i>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(i--,r=i===-1?n:a[i]),!o&&N!=="<"&&N)){f=i===-1?n:a[i].children;var S=e.indexOf("<",p),C=e.slice(p,S===-1?void 0:S);Q5e.test(C)&&(C=" "),(S>-1&&i+f.length>=0||C!==" ")&&f.push({type:"text",content:C})}}),n},stringify:function(e){return e.reduce(function(t,r){return t+Tre("",r)},"")}};function iC(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];zf(t[0])&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const lV={};function iA(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];zf(t[0])&&lV[t[0]]||(zf(t[0])&&(lV[t[0]]=new Date),iC(...t))}const kre=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},cV=(e,t,r)=>{e.loadNamespaces(t,kre(e,r))},uV=(e,t,r,n)=>{zf(r)&&(r=[r]),r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,kre(e,n))},r3e=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=t.languages[0],a=t.options?t.options.fallbackLng:!1,i=t.languages[t.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=t.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(n,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||o(n,e)&&(!a||o(i,e)))},n3e=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(iA("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(a,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!i(a.isLanguageChangingTo,e))return!1}}):r3e(e,t,r)},zf=e=>typeof e=="string",g2=e=>typeof e=="object"&&e!==null,a3e=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,i3e={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},s3e=e=>i3e[e],o3e=e=>e.replace(a3e,s3e);let OI={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:o3e};const l3e=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};OI={...OI,...e}},Pre=()=>OI;let Ore;const c3e=e=>{Ore=e},eM=()=>Ore,mk=(e,t)=>{if(!e)return!1;const r=e.props?e.props.children:e.children;return t?r.length>0:!!r},pk=e=>{if(!e)return[];const t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?x2(t):t},u3e=e=>Array.isArray(e)&&e.every(A.isValidElement),x2=e=>Array.isArray(e)?e:[e],d3e=(e,t)=>{const r={...t};return r.props=Object.assign(e.props,t.props),r},Ire=(e,t)=>{if(!e)return"";let r="";const n=x2(e),a=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return n.forEach((i,o)=>{if(zf(i))r+=`${i}`;else if(A.isValidElement(i)){const{props:l,type:c}=i,u=Object.keys(l).length,f=a.indexOf(c)>-1,h=l.children;if(!h&&f&&!u)r+=`<${c}/>`;else if(!h&&(!f||u)||l.i18nIsDynamicList)r+=`<${o}></${o}>`;else if(f&&u===1&&zf(h))r+=`<${c}>${h}</${c}>`;else{const g=Ire(h,t);r+=`<${o}>${g}</${o}>`}}else if(i===null)iC("Trans: the passed in value is invalid - seems you passed in a null child.");else if(g2(i)){const{format:l,...c}=i,u=Object.keys(c);if(u.length===1){const f=l?`${u[0]}, ${l}`:u[0];r+=`{{${f}}}`}else iC("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",i)}else iC("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",i)}),r},f3e=(e,t,r,n,a,i)=>{if(t==="")return[];const o=n.transKeepBasicHtmlNodesFor||[],l=t&&new RegExp(o.map(S=>`<${S}`).join("|")).test(t);if(!e&&!l&&!i)return[t];const c={},u=S=>{x2(S).forEach(j=>{zf(j)||(mk(j)?u(pk(j)):g2(j)&&!A.isValidElement(j)&&Object.assign(c,j))})};u(e);const f=t3e.parse(`<0>${t}</0>`),h={...c,...a},g=(S,C,j)=>{const T=pk(S),O=N(T,C.children,j);return u3e(T)&&O.length===0||S.props&&S.props.i18nIsDynamicList?T:O},p=(S,C,j,T,O)=>{S.dummy?(S.children=C,j.push(A.cloneElement(S,{key:T},O?void 0:C))):j.push(...A.Children.map([S],M=>{const B={...M.props};return delete B.i18nIsDynamicList,A.createElement(M.type,{...B,key:T,ref:M.ref},O?null:C)}))},N=(S,C,j)=>{const T=x2(S);return x2(C).reduce((M,B,L)=>{const H=B.children&&B.children[0]&&B.children[0].content&&r.services.interpolator.interpolate(B.children[0].content,h,r.language);if(B.type==="tag"){let U=T[parseInt(B.name,10)];j.length===1&&!U&&(U=j[0][B.name]),U||(U={});const J=Object.keys(B.attrs).length!==0?d3e({props:B.attrs},U):U,K=A.isValidElement(J),G=K&&mk(B,!0)&&!B.voidElement,re=l&&g2(J)&&J.dummy&&!K,ae=g2(e)&&Object.hasOwnProperty.call(e,B.name);if(zf(J)){const X=r.services.interpolator.interpolate(J,h,r.language);M.push(X)}else if(mk(J)||G){const X=g(J,B,j);p(J,X,M,L)}else if(re){const X=N(T,B.children,j);p(J,X,M,L)}else if(Number.isNaN(parseFloat(B.name)))if(ae){const X=g(J,B,j);p(J,X,M,L,B.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(B.name)>-1)if(B.voidElement)M.push(A.createElement(B.name,{key:`${B.name}-${L}`}));else{const X=N(T,B.children,j);M.push(A.createElement(B.name,{key:`${B.name}-${L}`},X))}else if(B.voidElement)M.push(`<${B.name} />`);else{const X=N(T,B.children,j);M.push(`<${B.name}>${X}</${B.name}>`)}else if(g2(J)&&!K){const X=B.children[0]?H:null;X&&M.push(X)}else p(J,H,M,L,B.children.length!==1||!H)}else if(B.type==="text"){const U=n.transWrapTextNodes,J=i?n.unescape(r.services.interpolator.interpolate(B.content,h,r.language)):r.services.interpolator.interpolate(B.content,h,r.language);U?M.push(A.createElement(U,{key:`${B.name}-${L}`},J)):M.push(J)}return M},[])},b=N([{dummy:!0,children:e||[]}],f,x2(e||[]));return pk(b[0])};function h3e(e){let{children:t,count:r,parent:n,i18nKey:a,context:i,tOptions:o={},values:l,defaults:c,components:u,ns:f,i18n:h,t:g,shouldUnescape:p,...N}=e;const b=h||eM();if(!b)return iA("You will need to pass in an i18next instance by using i18nextReactModule"),t;const S=g||b.t.bind(b)||(G=>G),C={...Pre(),...b.options&&b.options.react};let j=f||S.ns||b.options&&b.options.defaultNS;j=zf(j)?[j]:j||["translation"];const T=Ire(t,C),O=c||T||C.transEmptyNodeValue||a,{hashTransKey:M}=C,B=a||(M?M(T||O):T||O);b.options&&b.options.interpolation&&b.options.interpolation.defaultVariables&&(l=l&&Object.keys(l).length>0?{...l,...b.options.interpolation.defaultVariables}:{...b.options.interpolation.defaultVariables});const L=l||r!==void 0||!t?o.interpolation:{interpolation:{...o.interpolation,prefix:"#$?",suffix:"?$#"}},H={...o,context:i||o.context,count:r,...l,...L,defaultValue:O,ns:j},U=B?S(B,H):O;u&&Object.keys(u).forEach(G=>{const re=u[G];if(typeof re.type=="function"||!re.props||!re.props.children||U.indexOf(`${G}/>`)<0&&U.indexOf(`${G} />`)<0)return;function ae(){return A.createElement(A.Fragment,null,re)}u[G]=A.createElement(ae)});const J=f3e(u||t,U,b,C,H,p),K=n!==void 0?n:C.defaultTransParent;return K?A.createElement(K,N,J):J}const m3e={type:"3rdParty",init(e){l3e(e.options.react),c3e(e)}},Fre=A.createContext();class p3e{constructor(){ss(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}}function tM(e){let{children:t,count:r,parent:n,i18nKey:a,context:i,tOptions:o={},values:l,defaults:c,components:u,ns:f,i18n:h,t:g,shouldUnescape:p,...N}=e;const{i18n:b,defaultNS:S}=A.useContext(Fre)||{},C=h||b||eM(),j=g||C&&C.t.bind(C);return h3e({children:t,count:r,parent:n,i18nKey:a,context:i,tOptions:o,values:l,defaults:c,components:u,ns:f||j&&j.ns||S||C&&C.options&&C.options.defaultNS,i18n:C,t:g,shouldUnescape:p,...N})}const g3e=(e,t)=>{const r=A.useRef();return A.useEffect(()=>{r.current=t?r.current:e},[e,t]),r.current},Dre=(e,t,r,n)=>e.getFixedT(t,r,n),x3e=(e,t,r,n)=>A.useCallback(Dre(e,t,r,n),[e,t,r,n]),Xa=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=t,{i18n:n,defaultNS:a}=A.useContext(Fre)||{},i=r||n||eM();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new p3e),!i){iA("You will need to pass in an i18next instance by using initReactI18next");const O=(B,L)=>zf(L)?L:g2(L)&&zf(L.defaultValue)?L.defaultValue:Array.isArray(B)?B[B.length-1]:B,M=[O,{},!1];return M.t=O,M.i18n={},M.ready=!1,M}i.options.react&&i.options.react.wait!==void 0&&iA("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Pre(),...i.options.react,...t},{useSuspense:l,keyPrefix:c}=o;let u=e||a||i.options&&i.options.defaultNS;u=zf(u)?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const f=(i.isInitialized||i.initializedStoreOnce)&&u.every(O=>n3e(O,i,o)),h=x3e(i,t.lng||null,o.nsMode==="fallback"?u:u[0],c),g=()=>h,p=()=>Dre(i,t.lng||null,o.nsMode==="fallback"?u:u[0],c),[N,b]=A.useState(g);let S=u.join();t.lng&&(S=`${t.lng}${S}`);const C=g3e(S),j=A.useRef(!0);A.useEffect(()=>{const{bindI18n:O,bindI18nStore:M}=o;j.current=!0,!f&&!l&&(t.lng?uV(i,t.lng,u,()=>{j.current&&b(p)}):cV(i,u,()=>{j.current&&b(p)})),f&&C&&C!==S&&j.current&&b(p);const B=()=>{j.current&&b(p)};return O&&i&&i.on(O,B),M&&i&&i.store.on(M,B),()=>{j.current=!1,O&&i&&O.split(" ").forEach(L=>i.off(L,B)),M&&i&&M.split(" ").forEach(L=>i.store.off(L,B))}},[i,S]),A.useEffect(()=>{j.current&&f&&b(g)},[i,c,f]);const T=[N,i,f];if(T.t=N,T.i18n=i,T.ready=f,f||!f&&!l)return T;throw new Promise(O=>{t.lng?uV(i,t.lng,u,()=>O()):cV(i,u,()=>O())})};var v3e=Symbol.for("react.lazy"),sA=oj[" use ".trim().toString()];function y3e(e){return typeof e=="object"&&e!==null&&"then"in e}function Rre(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===v3e&&"_payload"in e&&y3e(e._payload)}function $j(e){const t=w3e(e),r=A.forwardRef((n,a)=>{let{children:i,...o}=n;Rre(i)&&typeof sA=="function"&&(i=sA(i._payload));const l=A.Children.toArray(i),c=l.find(N3e);if(c){const u=c.props.children,f=l.map(h=>h===c?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:a,children:A.isValidElement(u)?A.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var b3e=$j("Slot");function w3e(e){const t=A.forwardRef((r,n)=>{let{children:a,...i}=r;if(Rre(a)&&typeof sA=="function"&&(a=sA(a._payload)),A.isValidElement(a)){const o=C3e(a),l=S3e(i,a.props);return a.type!==A.Fragment&&(l.ref=n?z0(n,o):o),A.cloneElement(a,l)}return A.Children.count(a)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _3e=Symbol("radix.slottable");function N3e(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_3e}function S3e(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function C3e(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const II=Wx("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",premium:"bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 text-white border-0 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out","outline-premium":"bg-transparent border-2 border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-black transition-colors duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ue=Ve.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?b3e:"button";return s.jsx(o,{className:kr(II({variant:t,size:r,className:e})),ref:i,...a})});Ue.displayName="Button";function A3e(e,t=[]){let r=[];function n(i,o){const l=A.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=h=>{var C;const{scope:g,children:p,...N}=h,b=((C=g==null?void 0:g[e])==null?void 0:C[c])||l,S=A.useMemo(()=>N,Object.values(N));return s.jsx(b.Provider,{value:S,children:p})};u.displayName=i+"Provider";function f(h,g){var b;const p=((b=g==null?void 0:g[e])==null?void 0:b[c])||l,N=A.useContext(p);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,f]}const a=()=>{const i=r.map(o=>A.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return A.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,E3e(a,...t)]}function E3e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var j3e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rM=j3e.reduce((e,t)=>{const r=$j(`Primitive.${t}`),n=A.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Mre={exports:{}},Lre={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=A;function T3e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k3e=typeof Object.is=="function"?Object.is:T3e,P3e=gy.useState,O3e=gy.useEffect,I3e=gy.useLayoutEffect,F3e=gy.useDebugValue;function D3e(e,t){var r=t(),n=P3e({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return I3e(function(){a.value=r,a.getSnapshot=t,gk(a)&&i({inst:a})},[e,r,t]),O3e(function(){return gk(a)&&i({inst:a}),e(function(){gk(a)&&i({inst:a})})},[e]),F3e(r),r}function gk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!k3e(e,r)}catch{return!0}}function R3e(e,t){return t()}var M3e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?R3e:D3e;Lre.useSyncExternalStore=gy.useSyncExternalStore!==void 0?gy.useSyncExternalStore:M3e;Mre.exports=Lre;var L3e=Mre.exports;function B3e(){return L3e.useSyncExternalStore(U3e,()=>!0,()=>!1)}function U3e(){return()=>{}}var nM="Avatar",[$3e,c5t]=A3e(nM),[z3e,Bre]=$3e(nM),Ure=A.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=A.useState("idle");return s.jsx(z3e,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(rM.span,{...n,ref:t})})});Ure.displayName=nM;var $re="AvatarImage",zre=A.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=Bre($re,r),l=V3e(n,i),c=Zu(u=>{a(u),o.onImageLoadingStatusChange(u)});return fl(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(rM.img,{...i,ref:t,src:n}):null});zre.displayName=$re;var Vre="AvatarFallback",Wre=A.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=Bre(Vre,r),[o,l]=A.useState(n===void 0);return A.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(rM.span,{...a,ref:t}):null});Wre.displayName=Vre;function dV(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function V3e(e,{referrerPolicy:t,crossOrigin:r}){const n=B3e(),a=A.useRef(null),i=(()=>n?(a.current||(a.current=new window.Image),a.current):null)(),[o,l]=A.useState(()=>dV(i,e));return fl(()=>{l(dV(i,e))},[i,e]),fl(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),f=c("error");return i.addEventListener("load",u),i.addEventListener("error",f),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",f)}},[i,r,t]),o}var Hre=Ure,qre=zre,Gre=Wre;const _1=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Hre,{ref:r,className:kr("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-xl",e),...t}));_1.displayName=Hre.displayName;const N1=Ve.forwardRef(({className:e,...t},r)=>s.jsx(qre,{ref:r,className:kr("aspect-square h-full w-full",e),...t}));N1.displayName=qre.displayName;const S1=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Gre,{ref:r,className:kr("flex h-full w-full items-center justify-center rounded-xl bg-muted",e),...t}));S1.displayName=Gre.displayName;var W3e=A.createContext(void 0);function qx(e){const t=A.useContext(W3e);return e||t||"ltr"}var xk=0;function zj(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??fV()),document.body.insertAdjacentElement("beforeend",e[1]??fV()),xk++,()=>{xk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),xk--}},[])}function fV(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vk="focusScope.autoFocusOnMount",yk="focusScope.autoFocusOnUnmount",hV={bubbles:!1,cancelable:!0},H3e="FocusScope",U5=A.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=A.useState(null),u=Zu(a),f=Zu(i),h=A.useRef(null),g=Ra(t,b=>c(b)),p=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(n){let b=function(T){if(p.paused||!l)return;const O=T.target;l.contains(O)?h.current=O:Ep(h.current,{select:!0})},S=function(T){if(p.paused||!l)return;const O=T.relatedTarget;O!==null&&(l.contains(O)||Ep(h.current,{select:!0}))},C=function(T){if(document.activeElement===document.body)for(const M of T)M.removedNodes.length>0&&Ep(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",S);const j=new MutationObserver(C);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",S),j.disconnect()}}},[n,l,p.paused]),A.useEffect(()=>{if(l){pV.add(p);const b=document.activeElement;if(!l.contains(b)){const C=new CustomEvent(vk,hV);l.addEventListener(vk,u),l.dispatchEvent(C),C.defaultPrevented||(q3e(Z3e(Kre(l)),{select:!0}),document.activeElement===b&&Ep(l))}return()=>{l.removeEventListener(vk,u),setTimeout(()=>{const C=new CustomEvent(yk,hV);l.addEventListener(yk,f),l.dispatchEvent(C),C.defaultPrevented||Ep(b??document.body,{select:!0}),l.removeEventListener(yk,f),pV.remove(p)},0)}}},[l,u,f,p]);const N=A.useCallback(b=>{if(!r&&!n||p.paused)return;const S=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,C=document.activeElement;if(S&&C){const j=b.currentTarget,[T,O]=G3e(j);T&&O?!b.shiftKey&&C===O?(b.preventDefault(),r&&Ep(T,{select:!0})):b.shiftKey&&C===T&&(b.preventDefault(),r&&Ep(O,{select:!0})):C===j&&b.preventDefault()}},[r,n,p.paused]);return s.jsx(Dn.div,{tabIndex:-1,...o,ref:g,onKeyDown:N})});U5.displayName=H3e;function q3e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ep(n,{select:t}),document.activeElement!==r)return}function G3e(e){const t=Kre(e),r=mV(t,e),n=mV(t.reverse(),e);return[r,n]}function Kre(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function mV(e,t){for(const r of e)if(!K3e(r,{upTo:t}))return r}function K3e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Y3e(e){return e instanceof HTMLInputElement&&"select"in e}function Ep(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Y3e(e)&&t&&e.select()}}var pV=X3e();function X3e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=gV(e,t),e.unshift(t)},remove(t){var r;e=gV(e,t),(r=e[0])==null||r.resume()}}}function gV(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Z3e(e){return e.filter(t=>t.tagName!=="A")}var J3e=oj[" useId ".trim().toString()]||(()=>{}),Q3e=0;function _d(e){const[t,r]=A.useState(J3e());return fl(()=>{e||r(n=>n??String(Q3e++))},[e]),e||(t?`radix-${t}`:"")}const eNe=["top","right","bottom","left"],C1=Math.min,Hd=Math.max,oA=Math.round,qN=Math.floor,j0=e=>({x:e,y:e}),tNe={left:"right",right:"left",bottom:"top",top:"bottom"},rNe={start:"end",end:"start"};function FI(e,t,r){return Hd(e,C1(t,r))}function $m(e,t){return typeof e=="function"?e(t):e}function zm(e){return e.split("-")[0]}function pb(e){return e.split("-")[1]}function aM(e){return e==="x"?"y":"x"}function iM(e){return e==="y"?"height":"width"}const nNe=new Set(["top","bottom"]);function b0(e){return nNe.has(zm(e))?"y":"x"}function sM(e){return aM(b0(e))}function aNe(e,t,r){r===void 0&&(r=!1);const n=pb(e),a=sM(e),i=iM(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=lA(o)),[o,lA(o)]}function iNe(e){const t=lA(e);return[DI(e),t,DI(t)]}function DI(e){return e.replace(/start|end/g,t=>rNe[t])}const xV=["left","right"],vV=["right","left"],sNe=["top","bottom"],oNe=["bottom","top"];function lNe(e,t,r){switch(e){case"top":case"bottom":return r?t?vV:xV:t?xV:vV;case"left":case"right":return t?sNe:oNe;default:return[]}}function cNe(e,t,r,n){const a=pb(e);let i=lNe(zm(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(DI)))),i}function lA(e){return e.replace(/left|right|bottom|top/g,t=>tNe[t])}function uNe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Yre(e){return typeof e!="number"?uNe(e):{top:e,right:e,bottom:e,left:e}}function cA(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function yV(e,t,r){let{reference:n,floating:a}=e;const i=b0(t),o=sM(t),l=iM(o),c=zm(t),u=i==="y",f=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,g=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-a.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-a.width,y:h};break;default:p={x:n.x,y:n.y}}switch(pb(t)){case"start":p[o]-=g*(r&&u?-1:1);break;case"end":p[o]+=g*(r&&u?-1:1);break}return p}const dNe=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:h}=yV(u,n,c),g=n,p={},N=0;for(let b=0;b<l.length;b++){const{name:S,fn:C}=l[b],{x:j,y:T,data:O,reset:M}=await C({x:f,y:h,initialPlacement:n,placement:g,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});f=j??f,h=T??h,p={...p,[S]:{...p[S],...O}},M&&N<=50&&(N++,typeof M=="object"&&(M.placement&&(g=M.placement),M.rects&&(u=M.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):M.rects),{x:f,y:h}=yV(u,g,c)),b=-1)}return{x:f,y:h,placement:g,strategy:a,middlewareData:p}};async function x4(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:g=!1,padding:p=0}=$m(t,e),N=Yre(p),S=l[g?h==="floating"?"reference":"floating":h],C=cA(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(S)))==null||r?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),j=h==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),O=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},M=cA(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:T,strategy:c}):j);return{top:(C.top-M.top+N.top)/O.y,bottom:(M.bottom-C.bottom+N.bottom)/O.y,left:(C.left-M.left+N.left)/O.x,right:(M.right-C.right+N.right)/O.x}}const fNe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=$m(e,t)||{};if(u==null)return{};const h=Yre(f),g={x:r,y:n},p=sM(a),N=iM(p),b=await o.getDimensions(u),S=p==="y",C=S?"top":"left",j=S?"bottom":"right",T=S?"clientHeight":"clientWidth",O=i.reference[N]+i.reference[p]-g[p]-i.floating[N],M=g[p]-i.reference[p],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let L=B?B[T]:0;(!L||!await(o.isElement==null?void 0:o.isElement(B)))&&(L=l.floating[T]||i.floating[N]);const H=O/2-M/2,U=L/2-b[N]/2-1,J=C1(h[C],U),K=C1(h[j],U),G=J,re=L-b[N]-K,ae=L/2-b[N]/2+H,X=FI(G,ae,re),ne=!c.arrow&&pb(a)!=null&&ae!==X&&i.reference[N]/2-(ae<G?J:K)-b[N]/2<0,de=ne?ae<G?ae-G:ae-re:0;return{[p]:g[p]+de,data:{[p]:X,centerOffset:ae-X-de,...ne&&{alignmentOffset:de}},reset:ne}}}),hNe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:b=!0,...S}=$m(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const C=zm(a),j=b0(l),T=zm(l)===l,O=await(c.isRTL==null?void 0:c.isRTL(u.floating)),M=g||(T||!b?[lA(l)]:iNe(l)),B=N!=="none";!g&&B&&M.push(...cNe(l,b,N,O));const L=[l,...M],H=await x4(t,S),U=[];let J=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&U.push(H[C]),h){const ae=aNe(a,o,O);U.push(H[ae[0]],H[ae[1]])}if(J=[...J,{placement:a,overflows:U}],!U.every(ae=>ae<=0)){var K,G;const ae=(((K=i.flip)==null?void 0:K.index)||0)+1,X=L[ae];if(X&&(!(h==="alignment"?j!==b0(X):!1)||J.every(le=>b0(le.placement)===j?le.overflows[0]>0:!0)))return{data:{index:ae,overflows:J},reset:{placement:X}};let ne=(G=J.filter(de=>de.overflows[0]<=0).sort((de,le)=>de.overflows[1]-le.overflows[1])[0])==null?void 0:G.placement;if(!ne)switch(p){case"bestFit":{var re;const de=(re=J.filter(le=>{if(B){const xe=b0(le.placement);return xe===j||xe==="y"}return!0}).map(le=>[le.placement,le.overflows.filter(xe=>xe>0).reduce((xe,Se)=>xe+Se,0)]).sort((le,xe)=>le[1]-xe[1])[0])==null?void 0:re[0];de&&(ne=de);break}case"initialPlacement":ne=l;break}if(a!==ne)return{reset:{placement:ne}}}return{}}}};function bV(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function wV(e){return eNe.some(t=>e[t]>=0)}const mNe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=$m(e,t);switch(n){case"referenceHidden":{const i=await x4(t,{...a,elementContext:"reference"}),o=bV(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:wV(o)}}}case"escaped":{const i=await x4(t,{...a,altBoundary:!0}),o=bV(i,r.floating);return{data:{escapedOffsets:o,escaped:wV(o)}}}default:return{}}}}},Xre=new Set(["left","top"]);async function pNe(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=zm(r),l=pb(r),c=b0(r)==="y",u=Xre.has(o)?-1:1,f=i&&c?-1:1,h=$m(t,e);let{mainAxis:g,crossAxis:p,alignmentAxis:N}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof N=="number"&&(p=l==="end"?N*-1:N),c?{x:p*f,y:g*u}:{x:g*u,y:p*f}}const gNe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await pNe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},xNe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:S=>{let{x:C,y:j}=S;return{x:C,y:j}}},...c}=$m(e,t),u={x:r,y:n},f=await x4(t,c),h=b0(zm(a)),g=aM(h);let p=u[g],N=u[h];if(i){const S=g==="y"?"top":"left",C=g==="y"?"bottom":"right",j=p+f[S],T=p-f[C];p=FI(j,p,T)}if(o){const S=h==="y"?"top":"left",C=h==="y"?"bottom":"right",j=N+f[S],T=N-f[C];N=FI(j,N,T)}const b=l.fn({...t,[g]:p,[h]:N});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[g]:i,[h]:o}}}}}},vNe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=$m(e,t),f={x:r,y:n},h=b0(a),g=aM(h);let p=f[g],N=f[h];const b=$m(l,t),S=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const T=g==="y"?"height":"width",O=i.reference[g]-i.floating[T]+S.mainAxis,M=i.reference[g]+i.reference[T]-S.mainAxis;p<O?p=O:p>M&&(p=M)}if(u){var C,j;const T=g==="y"?"width":"height",O=Xre.has(zm(a)),M=i.reference[h]-i.floating[T]+(O&&((C=o.offset)==null?void 0:C[h])||0)+(O?0:S.crossAxis),B=i.reference[h]+i.reference[T]+(O?0:((j=o.offset)==null?void 0:j[h])||0)-(O?S.crossAxis:0);N<M?N=M:N>B&&(N=B)}return{[g]:p,[h]:N}}}},yNe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=$m(e,t),f=await x4(t,u),h=zm(a),g=pb(a),p=b0(a)==="y",{width:N,height:b}=i.floating;let S,C;h==="top"||h==="bottom"?(S=h,C=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(C=h,S=g==="end"?"top":"bottom");const j=b-f.top-f.bottom,T=N-f.left-f.right,O=C1(b-f[S],j),M=C1(N-f[C],T),B=!t.middlewareData.shift;let L=O,H=M;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(H=T),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(L=j),B&&!g){const J=Hd(f.left,0),K=Hd(f.right,0),G=Hd(f.top,0),re=Hd(f.bottom,0);p?H=N-2*(J!==0||K!==0?J+K:Hd(f.left,f.right)):L=b-2*(G!==0||re!==0?G+re:Hd(f.top,f.bottom))}await c({...t,availableWidth:H,availableHeight:L});const U=await o.getDimensions(l.floating);return N!==U.width||b!==U.height?{reset:{rects:!0}}:{}}}};function Vj(){return typeof window<"u"}function gb(e){return Zre(e)?(e.nodeName||"").toLowerCase():"#document"}function nf(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function V0(e){var t;return(t=(Zre(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Zre(e){return Vj()?e instanceof Node||e instanceof nf(e).Node:!1}function Lh(e){return Vj()?e instanceof Element||e instanceof nf(e).Element:!1}function L0(e){return Vj()?e instanceof HTMLElement||e instanceof nf(e).HTMLElement:!1}function _V(e){return!Vj()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nf(e).ShadowRoot}const bNe=new Set(["inline","contents"]);function $5(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Bh(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!bNe.has(a)}const wNe=new Set(["table","td","th"]);function _Ne(e){return wNe.has(gb(e))}const NNe=[":popover-open",":modal"];function Wj(e){return NNe.some(t=>{try{return e.matches(t)}catch{return!1}})}const SNe=["transform","translate","scale","rotate","perspective"],CNe=["transform","translate","scale","rotate","perspective","filter"],ANe=["paint","layout","strict","content"];function oM(e){const t=lM(),r=Lh(e)?Bh(e):e;return SNe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||CNe.some(n=>(r.willChange||"").includes(n))||ANe.some(n=>(r.contain||"").includes(n))}function ENe(e){let t=A1(e);for(;L0(t)&&!xy(t);){if(oM(t))return t;if(Wj(t))return null;t=A1(t)}return null}function lM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jNe=new Set(["html","body","#document"]);function xy(e){return jNe.has(gb(e))}function Bh(e){return nf(e).getComputedStyle(e)}function Hj(e){return Lh(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function A1(e){if(gb(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_V(e)&&e.host||V0(e);return _V(t)?t.host:t}function Jre(e){const t=A1(e);return xy(t)?e.ownerDocument?e.ownerDocument.body:e.body:L0(t)&&$5(t)?t:Jre(t)}function v4(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Jre(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=nf(a);if(i){const l=RI(o);return t.concat(o,o.visualViewport||[],$5(a)?a:[],l&&r?v4(l):[])}return t.concat(a,v4(a,[],r))}function RI(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Qre(e){const t=Bh(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=L0(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=oA(r)!==i||oA(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function cM(e){return Lh(e)?e:e.contextElement}function M2(e){const t=cM(e);if(!L0(t))return j0(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=Qre(t);let o=(i?oA(r.width):r.width)/n,l=(i?oA(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const TNe=j0(0);function ene(e){const t=nf(e);return!lM()||!t.visualViewport?TNe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kNe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==nf(e)?!1:t}function yx(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=cM(e);let o=j0(1);t&&(n?Lh(n)&&(o=M2(n)):o=M2(e));const l=kNe(i,r,n)?ene(i):j0(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,f=a.width/o.x,h=a.height/o.y;if(i){const g=nf(i),p=n&&Lh(n)?nf(n):n;let N=g,b=RI(N);for(;b&&n&&p!==N;){const S=M2(b),C=b.getBoundingClientRect(),j=Bh(b),T=C.left+(b.clientLeft+parseFloat(j.paddingLeft))*S.x,O=C.top+(b.clientTop+parseFloat(j.paddingTop))*S.y;c*=S.x,u*=S.y,f*=S.x,h*=S.y,c+=T,u+=O,N=nf(b),b=RI(N)}}return cA({width:f,height:h,x:c,y:u})}function qj(e,t){const r=Hj(e).scrollLeft;return t?t.left+r:yx(V0(e)).left+r}function tne(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-qj(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function PNe(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=V0(n),l=t?Wj(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=j0(1);const f=j0(0),h=L0(n);if((h||!h&&!i)&&((gb(n)!=="body"||$5(o))&&(c=Hj(n)),L0(n))){const p=yx(n);u=M2(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const g=o&&!h&&!i?tne(o,c):j0(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+g.x,y:r.y*u.y-c.scrollTop*u.y+f.y+g.y}}function ONe(e){return Array.from(e.getClientRects())}function INe(e){const t=V0(e),r=Hj(e),n=e.ownerDocument.body,a=Hd(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Hd(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+qj(e);const l=-r.scrollTop;return Bh(n).direction==="rtl"&&(o+=Hd(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const NV=25;function FNe(e,t){const r=nf(e),n=V0(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const f=lM();(!f||f&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=qj(n);if(u<=0){const f=n.ownerDocument,h=f.body,g=getComputedStyle(h),p=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,N=Math.abs(n.clientWidth-h.clientWidth-p);N<=NV&&(i-=N)}else u<=NV&&(i+=u);return{width:i,height:o,x:l,y:c}}const DNe=new Set(["absolute","fixed"]);function RNe(e,t){const r=yx(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=L0(e)?M2(e):j0(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function SV(e,t,r){let n;if(t==="viewport")n=FNe(e,r);else if(t==="document")n=INe(V0(e));else if(Lh(t))n=RNe(t,r);else{const a=ene(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return cA(n)}function rne(e,t){const r=A1(e);return r===t||!Lh(r)||xy(r)?!1:Bh(r).position==="fixed"||rne(r,t)}function MNe(e,t){const r=t.get(e);if(r)return r;let n=v4(e,[],!1).filter(l=>Lh(l)&&gb(l)!=="body"),a=null;const i=Bh(e).position==="fixed";let o=i?A1(e):e;for(;Lh(o)&&!xy(o);){const l=Bh(o),c=oM(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&DNe.has(a.position)||$5(o)&&!c&&rne(e,o))?n=n.filter(f=>f!==o):a=l,o=A1(o)}return t.set(e,n),n}function LNe(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Wj(t)?[]:MNe(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const h=SV(t,f,a);return u.top=Hd(h.top,u.top),u.right=C1(h.right,u.right),u.bottom=C1(h.bottom,u.bottom),u.left=Hd(h.left,u.left),u},SV(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function BNe(e){const{width:t,height:r}=Qre(e);return{width:t,height:r}}function UNe(e,t,r){const n=L0(t),a=V0(t),i=r==="fixed",o=yx(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=j0(0);function u(){c.x=qj(a)}if(n||!n&&!i)if((gb(t)!=="body"||$5(a))&&(l=Hj(t)),n){const p=yx(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const f=a&&!n&&!i?tne(a,l):j0(0),h=o.left+l.scrollLeft-c.x-f.x,g=o.top+l.scrollTop-c.y-f.y;return{x:h,y:g,width:o.width,height:o.height}}function bk(e){return Bh(e).position==="static"}function CV(e,t){if(!L0(e)||Bh(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return V0(e)===r&&(r=r.ownerDocument.body),r}function nne(e,t){const r=nf(e);if(Wj(e))return r;if(!L0(e)){let a=A1(e);for(;a&&!xy(a);){if(Lh(a)&&!bk(a))return a;a=A1(a)}return r}let n=CV(e,t);for(;n&&_Ne(n)&&bk(n);)n=CV(n,t);return n&&xy(n)&&bk(n)&&!oM(n)?r:n||ENe(e)||r}const $Ne=async function(e){const t=this.getOffsetParent||nne,r=this.getDimensions,n=await r(e.floating);return{reference:UNe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function zNe(e){return Bh(e).direction==="rtl"}const VNe={convertOffsetParentRelativeRectToViewportRelativeRect:PNe,getDocumentElement:V0,getClippingRect:LNe,getOffsetParent:nne,getElementRects:$Ne,getClientRects:ONe,getDimensions:BNe,getScale:M2,isElement:Lh,isRTL:zNe};function ane(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function WNe(e,t){let r=null,n;const a=V0(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:f,top:h,width:g,height:p}=u;if(l||t(),!g||!p)return;const N=qN(h),b=qN(a.clientWidth-(f+g)),S=qN(a.clientHeight-(h+p)),C=qN(f),T={rootMargin:-N+"px "+-b+"px "+-S+"px "+-C+"px",threshold:Hd(0,C1(1,c))||1};let O=!0;function M(B){const L=B[0].intersectionRatio;if(L!==c){if(!O)return o();L?o(!1,L):n=setTimeout(()=>{o(!1,1e-7)},1e3)}L===1&&!ane(u,e.getBoundingClientRect())&&o(),O=!1}try{r=new IntersectionObserver(M,{...T,root:a.ownerDocument})}catch{r=new IntersectionObserver(M,T)}r.observe(e)}return o(!0),i}function HNe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=cM(e),f=a||i?[...u?v4(u):[],...v4(t)]:[];f.forEach(C=>{a&&C.addEventListener("scroll",r,{passive:!0}),i&&C.addEventListener("resize",r)});const h=u&&l?WNe(u,r):null;let g=-1,p=null;o&&(p=new ResizeObserver(C=>{let[j]=C;j&&j.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let N,b=c?yx(e):null;c&&S();function S(){const C=yx(e);b&&!ane(b,C)&&r(),b=C,N=requestAnimationFrame(S)}return r(),()=>{var C;f.forEach(j=>{a&&j.removeEventListener("scroll",r),i&&j.removeEventListener("resize",r)}),h==null||h(),(C=p)==null||C.disconnect(),p=null,c&&cancelAnimationFrame(N)}}const qNe=gNe,GNe=xNe,KNe=hNe,YNe=yNe,XNe=mNe,AV=fNe,ZNe=vNe,JNe=(e,t,r)=>{const n=new Map,a={platform:VNe,...r},i={...a.platform,_c:n};return dNe(e,t,{...a,platform:i})};var QNe=typeof document<"u",eSe=function(){},sC=QNe?A.useLayoutEffect:eSe;function uA(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!uA(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!uA(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function ine(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function EV(e,t){const r=ine(e);return Math.round(t*r)/r}function wk(e){const t=A.useRef(e);return sC(()=>{t.current=e}),t}function tSe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,h]=A.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,p]=A.useState(n);uA(g,n)||p(n);const[N,b]=A.useState(null),[S,C]=A.useState(null),j=A.useCallback(le=>{le!==B.current&&(B.current=le,b(le))},[]),T=A.useCallback(le=>{le!==L.current&&(L.current=le,C(le))},[]),O=i||N,M=o||S,B=A.useRef(null),L=A.useRef(null),H=A.useRef(f),U=c!=null,J=wk(c),K=wk(a),G=wk(u),re=A.useCallback(()=>{if(!B.current||!L.current)return;const le={placement:t,strategy:r,middleware:g};K.current&&(le.platform=K.current),JNe(B.current,L.current,le).then(xe=>{const Se={...xe,isPositioned:G.current!==!1};ae.current&&!uA(H.current,Se)&&(H.current=Se,$x.flushSync(()=>{h(Se)}))})},[g,t,r,K,G]);sC(()=>{u===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,h(le=>({...le,isPositioned:!1})))},[u]);const ae=A.useRef(!1);sC(()=>(ae.current=!0,()=>{ae.current=!1}),[]),sC(()=>{if(O&&(B.current=O),M&&(L.current=M),O&&M){if(J.current)return J.current(O,M,re);re()}},[O,M,re,J,U]);const X=A.useMemo(()=>({reference:B,floating:L,setReference:j,setFloating:T}),[j,T]),ne=A.useMemo(()=>({reference:O,floating:M}),[O,M]),de=A.useMemo(()=>{const le={position:r,left:0,top:0};if(!ne.floating)return le;const xe=EV(ne.floating,f.x),Se=EV(ne.floating,f.y);return l?{...le,transform:"translate("+xe+"px, "+Se+"px)",...ine(ne.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:xe,top:Se}},[r,l,ne.floating,f.x,f.y]);return A.useMemo(()=>({...f,update:re,refs:X,elements:ne,floatingStyles:de}),[f,re,X,ne,de])}const rSe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?AV({element:n.current,padding:a}).fn(r):{}:n?AV({element:n,padding:a}).fn(r):{}}}},nSe=(e,t)=>({...qNe(e),options:[e,t]}),aSe=(e,t)=>({...GNe(e),options:[e,t]}),iSe=(e,t)=>({...ZNe(e),options:[e,t]}),sSe=(e,t)=>({...KNe(e),options:[e,t]}),oSe=(e,t)=>({...YNe(e),options:[e,t]}),lSe=(e,t)=>({...XNe(e),options:[e,t]}),cSe=(e,t)=>({...rSe(e),options:[e,t]});var uSe="Arrow",sne=A.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Dn.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});sne.displayName=uSe;var dSe=sne;function Gj(e){const[t,r]=A.useState(void 0);return fl(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var uM="Popper",[one,B1]=Nc(uM),[fSe,lne]=one(uM),cne=e=>{const{__scopePopper:t,children:r}=e,[n,a]=A.useState(null);return s.jsx(fSe,{scope:t,anchor:n,onAnchorChange:a,children:r})};cne.displayName=uM;var une="PopperAnchor",dne=A.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=lne(une,r),o=A.useRef(null),l=Ra(t,o),c=A.useRef(null);return A.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(Dn.div,{...a,ref:l})});dne.displayName=une;var dM="PopperContent",[hSe,mSe]=one(dM),fne=A.forwardRef((e,t)=>{var ue,Ce,Ne,Ee,Ge,Be;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:p="optimized",onPlaced:N,...b}=e,S=lne(dM,r),[C,j]=A.useState(null),T=Ra(t,st=>j(st)),[O,M]=A.useState(null),B=Gj(O),L=(B==null?void 0:B.width)??0,H=(B==null?void 0:B.height)??0,U=n+(i!=="center"?"-"+i:""),J=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},K=Array.isArray(u)?u:[u],G=K.length>0,re={padding:J,boundary:K.filter(gSe),altBoundary:G},{refs:ae,floatingStyles:X,placement:ne,isPositioned:de,middlewareData:le}=tSe({strategy:"fixed",placement:U,whileElementsMounted:(...st)=>HNe(...st,{animationFrame:p==="always"}),elements:{reference:S.anchor},middleware:[nSe({mainAxis:a+H,alignmentAxis:o}),c&&aSe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?iSe():void 0,...re}),c&&sSe({...re}),oSe({...re,apply:({elements:st,rects:lt,availableWidth:Me,availableHeight:wt})=>{const{width:_t,height:ar}=lt.reference,Tt=st.floating.style;Tt.setProperty("--radix-popper-available-width",`${Me}px`),Tt.setProperty("--radix-popper-available-height",`${wt}px`),Tt.setProperty("--radix-popper-anchor-width",`${_t}px`),Tt.setProperty("--radix-popper-anchor-height",`${ar}px`)}}),O&&cSe({element:O,padding:l}),xSe({arrowWidth:L,arrowHeight:H}),g&&lSe({strategy:"referenceHidden",...re})]}),[xe,Se]=pne(ne),ye=Zu(N);fl(()=>{de&&(ye==null||ye())},[de,ye]);const ee=(ue=le.arrow)==null?void 0:ue.x,he=(Ce=le.arrow)==null?void 0:Ce.y,se=((Ne=le.arrow)==null?void 0:Ne.centerOffset)!==0,[te,ge]=A.useState();return fl(()=>{C&&ge(window.getComputedStyle(C).zIndex)},[C]),s.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:de?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(Ee=le.transformOrigin)==null?void 0:Ee.x,(Ge=le.transformOrigin)==null?void 0:Ge.y].join(" "),...((Be=le.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(hSe,{scope:r,placedSide:xe,onArrowChange:M,arrowX:ee,arrowY:he,shouldHideArrow:se,children:s.jsx(Dn.div,{"data-side":xe,"data-align":Se,...b,ref:T,style:{...b.style,animation:de?void 0:"none"}})})})});fne.displayName=dM;var hne="PopperArrow",pSe={top:"bottom",right:"left",bottom:"top",left:"right"},mne=A.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=mSe(hne,n),o=pSe[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(dSe,{...a,ref:r,style:{...a.style,display:"block"}})})});mne.displayName=hne;function gSe(e){return e!==null}var xSe=e=>({name:"transformOrigin",options:e,fn(t){var S,C,j;const{placement:r,rects:n,middlewareData:a}=t,o=((S=a.arrow)==null?void 0:S.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=pne(r),h={start:"0%",center:"50%",end:"100%"}[f],g=(((C=a.arrow)==null?void 0:C.x)??0)+l/2,p=(((j=a.arrow)==null?void 0:j.y)??0)+c/2;let N="",b="";return u==="bottom"?(N=o?h:`${g}px`,b=`${-c}px`):u==="top"?(N=o?h:`${g}px`,b=`${n.floating.height+c}px`):u==="right"?(N=`${-c}px`,b=o?h:`${p}px`):u==="left"&&(N=`${n.floating.width+c}px`,b=o?h:`${p}px`),{data:{x:N,y:b}}}});function pne(e){const[t,r="center"]=e.split("-");return[t,r]}var Kj=cne,z5=dne,Yj=fne,Xj=mne,_k="rovingFocusGroup.onEntryFocus",vSe={bubbles:!1,cancelable:!0},V5="RovingFocusGroup",[MI,gne,ySe]=ub(V5),[bSe,xb]=Nc(V5,[ySe]),[wSe,_Se]=bSe(V5),xne=A.forwardRef((e,t)=>s.jsx(MI.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(MI.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(NSe,{...e,ref:t})})}));xne.displayName=V5;var NSe=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,g=A.useRef(null),p=Ra(t,g),N=qx(i),[b,S]=_c({prop:o,defaultProp:l??null,onChange:c,caller:V5}),[C,j]=A.useState(!1),T=Zu(u),O=gne(r),M=A.useRef(!1),[B,L]=A.useState(0);return A.useEffect(()=>{const H=g.current;if(H)return H.addEventListener(_k,T),()=>H.removeEventListener(_k,T)},[T]),s.jsx(wSe,{scope:r,orientation:n,dir:N,loop:a,currentTabStopId:b,onItemFocus:A.useCallback(H=>S(H),[S]),onItemShiftTab:A.useCallback(()=>j(!0),[]),onFocusableItemAdd:A.useCallback(()=>L(H=>H+1),[]),onFocusableItemRemove:A.useCallback(()=>L(H=>H-1),[]),children:s.jsx(Dn.div,{tabIndex:C||B===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:Rr(e.onMouseDown,()=>{M.current=!0}),onFocus:Rr(e.onFocus,H=>{const U=!M.current;if(H.target===H.currentTarget&&U&&!C){const J=new CustomEvent(_k,vSe);if(H.currentTarget.dispatchEvent(J),!J.defaultPrevented){const K=O().filter(ne=>ne.focusable),G=K.find(ne=>ne.active),re=K.find(ne=>ne.id===b),X=[G,re,...K].filter(Boolean).map(ne=>ne.ref.current);bne(X,f)}}M.current=!1}),onBlur:Rr(e.onBlur,()=>j(!1))})})}),vne="RovingFocusGroupItem",yne=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=_d(),u=i||c,f=_Se(vne,r),h=f.currentTabStopId===u,g=gne(r),{onFocusableItemAdd:p,onFocusableItemRemove:N,currentTabStopId:b}=f;return A.useEffect(()=>{if(n)return p(),()=>N()},[n,p,N]),s.jsx(MI.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Dn.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Rr(e.onMouseDown,S=>{n?f.onItemFocus(u):S.preventDefault()}),onFocus:Rr(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Rr(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){f.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const C=ASe(S,f.orientation,f.dir);if(C!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let T=g().filter(O=>O.focusable).map(O=>O.ref.current);if(C==="last")T.reverse();else if(C==="prev"||C==="next"){C==="prev"&&T.reverse();const O=T.indexOf(S.currentTarget);T=f.loop?ESe(T,O+1):T.slice(O+1)}setTimeout(()=>bne(T))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:b!=null}):o})})});yne.displayName=vne;var SSe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function CSe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ASe(e,t,r){const n=CSe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return SSe[n]}function bne(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function ESe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var fM=xne,hM=yne;function jSe(e){const t=TSe(e),r=A.forwardRef((n,a)=>{const{children:i,...o}=n,l=A.Children.toArray(i),c=l.find(PSe);if(c){const u=c.props.children,f=l.map(h=>h===c?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:a,children:A.isValidElement(u)?A.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function TSe(e){const t=A.forwardRef((r,n)=>{const{children:a,...i}=r;if(A.isValidElement(a)){const o=ISe(a),l=OSe(i,a.props);return a.type!==A.Fragment&&(l.ref=n?z0(n,o):o),A.cloneElement(a,l)}return A.Children.count(a)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kSe=Symbol("radix.slottable");function PSe(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kSe}function OSe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function ISe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var FSe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Fv=new WeakMap,GN=new WeakMap,KN={},Nk=0,wne=function(e){return e&&(e.host||wne(e.parentNode))},DSe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=wne(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},RSe=function(e,t,r,n){var a=DSe(t,Array.isArray(e)?e:[e]);KN[r]||(KN[r]=new WeakMap);var i=KN[r],o=[],l=new Set,c=new Set(a),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};a.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(g){if(l.has(g))f(g);else try{var p=g.getAttribute(n),N=p!==null&&p!=="false",b=(Fv.get(g)||0)+1,S=(i.get(g)||0)+1;Fv.set(g,b),i.set(g,S),o.push(g),b===1&&N&&GN.set(g,!0),S===1&&g.setAttribute(r,"true"),N||g.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",g,C)}})};return f(t),l.clear(),Nk++,function(){o.forEach(function(h){var g=Fv.get(h)-1,p=i.get(h)-1;Fv.set(h,g),i.set(h,p),g||(GN.has(h)||h.removeAttribute(n),GN.delete(h)),p||h.removeAttribute(r)}),Nk--,Nk||(Fv=new WeakMap,Fv=new WeakMap,GN=new WeakMap,KN={})}},Zj=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||FSe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),RSe(n,a,r,"aria-hidden")):function(){return null}},oC="right-scroll-bar-position",lC="width-before-scroll-bar",MSe="with-scroll-bars-hidden",LSe="--removed-body-scroll-bar-size";function Sk(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function BSe(e,t){var r=A.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var USe=typeof window<"u"?A.useLayoutEffect:A.useEffect,jV=new WeakMap;function $Se(e,t){var r=BSe(t||null,function(n){return e.forEach(function(a){return Sk(a,n)})});return USe(function(){var n=jV.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Sk(l,null)}),i.forEach(function(l){a.has(l)||Sk(l,o)})}jV.set(r,e)},[e]),r}function zSe(e){return e}function VSe(e,t){t===void 0&&(t=zSe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return a}function WSe(e){e===void 0&&(e={});var t=VSe(null);return t.options=g0({async:!0,ssr:!1},e),t}var _ne=function(e){var t=e.sideCar,r=ire(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return A.createElement(n,g0({},r))};_ne.isSideCarExport=!0;function HSe(e,t){return e.useMedium(t),_ne}var Nne=WSe(),Ck=function(){},Jj=A.forwardRef(function(e,t){var r=A.useRef(null),n=A.useState({onScrollCapture:Ck,onWheelCapture:Ck,onTouchMoveCapture:Ck}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,g=e.sideCar,p=e.noRelative,N=e.noIsolation,b=e.inert,S=e.allowPinchZoom,C=e.as,j=C===void 0?"div":C,T=e.gapMode,O=ire(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=g,B=$Se([r,t]),L=g0(g0({},O),a);return A.createElement(A.Fragment,null,f&&A.createElement(M,{sideCar:Nne,removeScrollBar:u,shards:h,noRelative:p,noIsolation:N,inert:b,setCallbacks:i,allowPinchZoom:!!S,lockRef:r,gapMode:T}),o?A.cloneElement(A.Children.only(l),g0(g0({},L),{ref:B})):A.createElement(j,g0({},L,{className:c,ref:B}),l))});Jj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jj.classNames={fullWidth:lC,zeroRight:oC};var TV,qSe=function(){if(TV)return TV;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function GSe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qSe();return t&&e.setAttribute("nonce",t),e}function KSe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function YSe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var XSe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=GSe())&&(KSe(t,r),YSe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ZSe=function(){var e=XSe();return function(t,r){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Sne=function(){var e=ZSe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},JSe={left:0,top:0,right:0,gap:0},Ak=function(e){return parseInt(e||"",10)||0},QSe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ak(r),Ak(n),Ak(a)]},eCe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return JSe;var t=QSe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},tCe=Sne(),L2="data-scroll-locked",rCe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(MSe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(L2,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(oC,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(lC,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(oC," .").concat(oC,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(lC," .").concat(lC,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(L2,`] {
    `).concat(LSe,": ").concat(l,`px;
  }
`)},kV=function(){var e=parseInt(document.body.getAttribute(L2)||"0",10);return isFinite(e)?e:0},nCe=function(){A.useEffect(function(){return document.body.setAttribute(L2,(kV()+1).toString()),function(){var e=kV()-1;e<=0?document.body.removeAttribute(L2):document.body.setAttribute(L2,e.toString())}},[])},aCe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;nCe();var i=A.useMemo(function(){return eCe(a)},[a]);return A.createElement(tCe,{styles:rCe(i,!t,a,r?"":"!important")})},LI=!1;if(typeof window<"u")try{var YN=Object.defineProperty({},"passive",{get:function(){return LI=!0,!0}});window.addEventListener("test",YN,YN),window.removeEventListener("test",YN,YN)}catch{LI=!1}var Dv=LI?{passive:!1}:!1,iCe=function(e){return e.tagName==="TEXTAREA"},Cne=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!iCe(e)&&r[t]==="visible")},sCe=function(e){return Cne(e,"overflowY")},oCe=function(e){return Cne(e,"overflowX")},PV=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Ane(e,n);if(a){var i=Ene(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},lCe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},cCe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Ane=function(e,t){return e==="v"?sCe(t):oCe(t)},Ene=function(e,t){return e==="v"?lCe(t):cCe(t)},uCe=function(e,t){return e==="h"&&t==="rtl"?-1:1},dCe=function(e,t,r,n,a){var i=uCe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,f=o>0,h=0,g=0;do{if(!l)break;var p=Ene(e,l),N=p[0],b=p[1],S=p[2],C=b-S-i*N;(N||C)&&Ane(e,l)&&(h+=C,g+=N);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(a&&Math.abs(h)<1||!a&&o>h)||!f&&(a&&Math.abs(g)<1||!a&&-o>g))&&(u=!0),u},XN=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},OV=function(e){return[e.deltaX,e.deltaY]},IV=function(e){return e&&"current"in e?e.current:e},fCe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hCe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mCe=0,Rv=[];function pCe(e){var t=A.useRef([]),r=A.useRef([0,0]),n=A.useRef(),a=A.useState(mCe++)[0],i=A.useState(Sne)[0],o=A.useRef(e);A.useEffect(function(){o.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var b=P_e([e.lockRef.current],(e.shards||[]).map(IV),!0).filter(Boolean);return b.forEach(function(S){return S.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=A.useCallback(function(b,S){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var C=XN(b),j=r.current,T="deltaX"in b?b.deltaX:j[0]-C[0],O="deltaY"in b?b.deltaY:j[1]-C[1],M,B=b.target,L=Math.abs(T)>Math.abs(O)?"h":"v";if("touches"in b&&L==="h"&&B.type==="range")return!1;var H=PV(L,B);if(!H)return!0;if(H?M=L:(M=L==="v"?"h":"v",H=PV(L,B)),!H)return!1;if(!n.current&&"changedTouches"in b&&(T||O)&&(n.current=M),!M)return!0;var U=n.current||M;return dCe(U,S,b,U==="h"?T:O,!0)},[]),c=A.useCallback(function(b){var S=b;if(!(!Rv.length||Rv[Rv.length-1]!==i)){var C="deltaY"in S?OV(S):XN(S),j=t.current.filter(function(M){return M.name===S.type&&(M.target===S.target||S.target===M.shadowParent)&&fCe(M.delta,C)})[0];if(j&&j.should){S.cancelable&&S.preventDefault();return}if(!j){var T=(o.current.shards||[]).map(IV).filter(Boolean).filter(function(M){return M.contains(S.target)}),O=T.length>0?l(S,T[0]):!o.current.noIsolation;O&&S.cancelable&&S.preventDefault()}}},[]),u=A.useCallback(function(b,S,C,j){var T={name:b,delta:S,target:C,should:j,shadowParent:gCe(C)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(O){return O!==T})},1)},[]),f=A.useCallback(function(b){r.current=XN(b),n.current=void 0},[]),h=A.useCallback(function(b){u(b.type,OV(b),b.target,l(b,e.lockRef.current))},[]),g=A.useCallback(function(b){u(b.type,XN(b),b.target,l(b,e.lockRef.current))},[]);A.useEffect(function(){return Rv.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Dv),document.addEventListener("touchmove",c,Dv),document.addEventListener("touchstart",f,Dv),function(){Rv=Rv.filter(function(b){return b!==i}),document.removeEventListener("wheel",c,Dv),document.removeEventListener("touchmove",c,Dv),document.removeEventListener("touchstart",f,Dv)}},[]);var p=e.removeScrollBar,N=e.inert;return A.createElement(A.Fragment,null,N?A.createElement(i,{styles:hCe(a)}):null,p?A.createElement(aCe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function gCe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const xCe=HSe(Nne,pCe);var jne=A.forwardRef(function(e,t){return A.createElement(Jj,g0({},e,{ref:t,sideCar:xCe}))});jne.classNames=Jj.classNames;const Qj=jne;var BI=["Enter"," "],vCe=["ArrowDown","PageUp","Home"],Tne=["ArrowUp","PageDown","End"],yCe=[...vCe,...Tne],bCe={ltr:[...BI,"ArrowRight"],rtl:[...BI,"ArrowLeft"]},wCe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},W5="Menu",[y4,_Ce,NCe]=ub(W5),[Gx,kne]=Nc(W5,[NCe,B1,xb]),e6=B1(),Pne=xb(),[SCe,Kx]=Gx(W5),[CCe,H5]=Gx(W5),One=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=e6(t),[c,u]=A.useState(null),f=A.useRef(!1),h=Zu(i),g=qx(a);return A.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),s.jsx(Kj,{...l,children:s.jsx(SCe,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:s.jsx(CCe,{scope:t,onClose:A.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:g,modal:o,children:n})})})};One.displayName=W5;var ACe="MenuAnchor",mM=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=e6(r);return s.jsx(z5,{...a,...n,ref:t})});mM.displayName=ACe;var pM="MenuPortal",[ECe,Ine]=Gx(pM,{forceMount:void 0}),Fne=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Kx(pM,t);return s.jsx(ECe,{scope:t,forceMount:r,children:s.jsx(td,{present:r||i.open,children:s.jsx(db,{asChild:!0,container:a,children:n})})})};Fne.displayName=pM;var Vf="MenuContent",[jCe,gM]=Gx(Vf),Dne=A.forwardRef((e,t)=>{const r=Ine(Vf,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Kx(Vf,e.__scopeMenu),o=H5(Vf,e.__scopeMenu);return s.jsx(y4.Provider,{scope:e.__scopeMenu,children:s.jsx(td,{present:n||i.open,children:s.jsx(y4.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(TCe,{...a,ref:t}):s.jsx(kCe,{...a,ref:t})})})})}),TCe=A.forwardRef((e,t)=>{const r=Kx(Vf,e.__scopeMenu),n=A.useRef(null),a=Ra(t,n);return A.useEffect(()=>{const i=n.current;if(i)return Zj(i)},[]),s.jsx(xM,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Rr(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),kCe=A.forwardRef((e,t)=>{const r=Kx(Vf,e.__scopeMenu);return s.jsx(xM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),PCe=jSe("MenuContent.ScrollLock"),xM=A.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:g,onDismiss:p,disableOutsideScroll:N,...b}=e,S=Kx(Vf,r),C=H5(Vf,r),j=e6(r),T=Pne(r),O=_Ce(r),[M,B]=A.useState(null),L=A.useRef(null),H=Ra(t,L,S.onContentChange),U=A.useRef(0),J=A.useRef(""),K=A.useRef(0),G=A.useRef(null),re=A.useRef("right"),ae=A.useRef(0),X=N?Qj:A.Fragment,ne=N?{as:PCe,allowPinchZoom:!0}:void 0,de=xe=>{var ue,Ce;const Se=J.current+xe,ye=O().filter(Ne=>!Ne.disabled),ee=document.activeElement,he=(ue=ye.find(Ne=>Ne.ref.current===ee))==null?void 0:ue.textValue,se=ye.map(Ne=>Ne.textValue),te=VCe(se,Se,he),ge=(Ce=ye.find(Ne=>Ne.textValue===te))==null?void 0:Ce.ref.current;(function Ne(Ee){J.current=Ee,window.clearTimeout(U.current),Ee!==""&&(U.current=window.setTimeout(()=>Ne(""),1e3))})(Se),ge&&setTimeout(()=>ge.focus())};A.useEffect(()=>()=>window.clearTimeout(U.current),[]),zj();const le=A.useCallback(xe=>{var ye,ee;return re.current===((ye=G.current)==null?void 0:ye.side)&&HCe(xe,(ee=G.current)==null?void 0:ee.area)},[]);return s.jsx(jCe,{scope:r,searchRef:J,onItemEnter:A.useCallback(xe=>{le(xe)&&xe.preventDefault()},[le]),onItemLeave:A.useCallback(xe=>{var Se;le(xe)||((Se=L.current)==null||Se.focus(),B(null))},[le]),onTriggerLeave:A.useCallback(xe=>{le(xe)&&xe.preventDefault()},[le]),pointerGraceTimerRef:K,onPointerGraceIntentChange:A.useCallback(xe=>{G.current=xe},[]),children:s.jsx(X,{...ne,children:s.jsx(U5,{asChild:!0,trapped:a,onMountAutoFocus:Rr(i,xe=>{var Se;xe.preventDefault(),(Se=L.current)==null||Se.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Vx,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:g,onDismiss:p,children:s.jsx(fM,{asChild:!0,...T,dir:C.dir,orientation:"vertical",loop:n,currentTabStopId:M,onCurrentTabStopIdChange:B,onEntryFocus:Rr(c,xe=>{C.isUsingKeyboardRef.current||xe.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Yj,{role:"menu","aria-orientation":"vertical","data-state":Zne(S.open),"data-radix-menu-content":"",dir:C.dir,...j,...b,ref:H,style:{outline:"none",...b.style},onKeyDown:Rr(b.onKeyDown,xe=>{const ye=xe.target.closest("[data-radix-menu-content]")===xe.currentTarget,ee=xe.ctrlKey||xe.altKey||xe.metaKey,he=xe.key.length===1;ye&&(xe.key==="Tab"&&xe.preventDefault(),!ee&&he&&de(xe.key));const se=L.current;if(xe.target!==se||!yCe.includes(xe.key))return;xe.preventDefault();const ge=O().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);Tne.includes(xe.key)&&ge.reverse(),$Ce(ge)}),onBlur:Rr(e.onBlur,xe=>{xe.currentTarget.contains(xe.target)||(window.clearTimeout(U.current),J.current="")}),onPointerMove:Rr(e.onPointerMove,b4(xe=>{const Se=xe.target,ye=ae.current!==xe.clientX;if(xe.currentTarget.contains(Se)&&ye){const ee=xe.clientX>ae.current?"right":"left";re.current=ee,ae.current=xe.clientX}}))})})})})})})});Dne.displayName=Vf;var OCe="MenuGroup",vM=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Dn.div,{role:"group",...n,ref:t})});vM.displayName=OCe;var ICe="MenuLabel",Rne=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Dn.div,{...n,ref:t})});Rne.displayName=ICe;var dA="MenuItem",FV="menu.itemSelect",t6=A.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=A.useRef(null),o=H5(dA,e.__scopeMenu),l=gM(dA,e.__scopeMenu),c=Ra(t,i),u=A.useRef(!1),f=()=>{const h=i.current;if(!r&&h){const g=new CustomEvent(FV,{bubbles:!0,cancelable:!0});h.addEventListener(FV,p=>n==null?void 0:n(p),{once:!0}),C7(h,g),g.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(Mne,{...a,ref:c,disabled:r,onClick:Rr(e.onClick,f),onPointerDown:h=>{var g;(g=e.onPointerDown)==null||g.call(e,h),u.current=!0},onPointerUp:Rr(e.onPointerUp,h=>{var g;u.current||(g=h.currentTarget)==null||g.click()}),onKeyDown:Rr(e.onKeyDown,h=>{const g=l.searchRef.current!=="";r||g&&h.key===" "||BI.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});t6.displayName=dA;var Mne=A.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=gM(dA,r),l=Pne(r),c=A.useRef(null),u=Ra(t,c),[f,h]=A.useState(!1),[g,p]=A.useState("");return A.useEffect(()=>{const N=c.current;N&&p((N.textContent??"").trim())},[i.children]),s.jsx(y4.ItemSlot,{scope:r,disabled:n,textValue:a??g,children:s.jsx(hM,{asChild:!0,...l,focusable:!n,children:s.jsx(Dn.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Rr(e.onPointerMove,b4(N=>{n?o.onItemLeave(N):(o.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Rr(e.onPointerLeave,b4(N=>o.onItemLeave(N))),onFocus:Rr(e.onFocus,()=>h(!0)),onBlur:Rr(e.onBlur,()=>h(!1))})})})}),FCe="MenuCheckboxItem",Lne=A.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(Vne,{scope:e.__scopeMenu,checked:r,children:s.jsx(t6,{role:"menuitemcheckbox","aria-checked":fA(r)?"mixed":r,...a,ref:t,"data-state":bM(r),onSelect:Rr(a.onSelect,()=>n==null?void 0:n(fA(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Lne.displayName=FCe;var Bne="MenuRadioGroup",[DCe,RCe]=Gx(Bne,{value:void 0,onValueChange:()=>{}}),Une=A.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Zu(n);return s.jsx(DCe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(vM,{...a,ref:t})})});Une.displayName=Bne;var $ne="MenuRadioItem",zne=A.forwardRef((e,t)=>{const{value:r,...n}=e,a=RCe($ne,e.__scopeMenu),i=r===a.value;return s.jsx(Vne,{scope:e.__scopeMenu,checked:i,children:s.jsx(t6,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":bM(i),onSelect:Rr(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});zne.displayName=$ne;var yM="MenuItemIndicator",[Vne,MCe]=Gx(yM,{checked:!1}),Wne=A.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=MCe(yM,r);return s.jsx(td,{present:n||fA(i.checked)||i.checked===!0,children:s.jsx(Dn.span,{...a,ref:t,"data-state":bM(i.checked)})})});Wne.displayName=yM;var LCe="MenuSeparator",Hne=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Dn.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Hne.displayName=LCe;var BCe="MenuArrow",qne=A.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=e6(r);return s.jsx(Xj,{...a,...n,ref:t})});qne.displayName=BCe;var UCe="MenuSub",[u5t,Gne]=Gx(UCe),n_="MenuSubTrigger",Kne=A.forwardRef((e,t)=>{const r=Kx(n_,e.__scopeMenu),n=H5(n_,e.__scopeMenu),a=Gne(n_,e.__scopeMenu),i=gM(n_,e.__scopeMenu),o=A.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},f=A.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return A.useEffect(()=>f,[f]),A.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(mM,{asChild:!0,...u,children:s.jsx(Mne,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":Zne(r.open),...e,ref:z0(t,a.onTriggerChange),onClick:h=>{var g;(g=e.onClick)==null||g.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Rr(e.onPointerMove,b4(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Rr(e.onPointerLeave,b4(h=>{var p,N;f();const g=(p=r.content)==null?void 0:p.getBoundingClientRect();if(g){const b=(N=r.content)==null?void 0:N.dataset.side,S=b==="right",C=S?-5:5,j=g[S?"left":"right"],T=g[S?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+C,y:h.clientY},{x:j,y:g.top},{x:T,y:g.top},{x:T,y:g.bottom},{x:j,y:g.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Rr(e.onKeyDown,h=>{var p;const g=i.searchRef.current!=="";e.disabled||g&&h.key===" "||bCe[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});Kne.displayName=n_;var Yne="MenuSubContent",Xne=A.forwardRef((e,t)=>{const r=Ine(Vf,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Kx(Vf,e.__scopeMenu),o=H5(Vf,e.__scopeMenu),l=Gne(Yne,e.__scopeMenu),c=A.useRef(null),u=Ra(t,c);return s.jsx(y4.Provider,{scope:e.__scopeMenu,children:s.jsx(td,{present:n||i.open,children:s.jsx(y4.Slot,{scope:e.__scopeMenu,children:s.jsx(xM,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Rr(e.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Rr(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Rr(e.onKeyDown,f=>{var p;const h=f.currentTarget.contains(f.target),g=wCe[o.dir].includes(f.key);h&&g&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});Xne.displayName=Yne;function Zne(e){return e?"open":"closed"}function fA(e){return e==="indeterminate"}function bM(e){return fA(e)?"indeterminate":e?"checked":"unchecked"}function $Ce(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function zCe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function VCe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=zCe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function WCe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,f=l.y,h=c.x,g=c.y;f>n!=g>n&&r<(h-u)*(n-f)/(g-f)+u&&(a=!a)}return a}function HCe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return WCe(r,t)}function b4(e){return t=>t.pointerType==="mouse"?e(t):void 0}var qCe=One,GCe=mM,KCe=Fne,YCe=Dne,XCe=vM,ZCe=Rne,JCe=t6,QCe=Lne,eAe=Une,tAe=zne,rAe=Wne,nAe=Hne,aAe=qne,iAe=Kne,sAe=Xne,r6="DropdownMenu",[oAe,d5t]=Nc(r6,[kne]),rd=kne(),[lAe,Jne]=oAe(r6),Qne=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=rd(t),u=A.useRef(null),[f,h]=_c({prop:a,defaultProp:i??!1,onChange:o,caller:r6});return s.jsx(lAe,{scope:t,triggerId:_d(),triggerRef:u,contentId:_d(),open:f,onOpenChange:h,onOpenToggle:A.useCallback(()=>h(g=>!g),[h]),modal:l,children:s.jsx(qCe,{...c,open:f,onOpenChange:h,dir:n,modal:l,children:r})})};Qne.displayName=r6;var eae="DropdownMenuTrigger",tae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=Jne(eae,r),o=rd(r);return s.jsx(GCe,{asChild:!0,...o,children:s.jsx(Dn.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:z0(t,i.triggerRef),onPointerDown:Rr(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Rr(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});tae.displayName=eae;var cAe="DropdownMenuPortal",rae=e=>{const{__scopeDropdownMenu:t,...r}=e,n=rd(t);return s.jsx(KCe,{...n,...r})};rae.displayName=cAe;var nae="DropdownMenuContent",aae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Jne(nae,r),i=rd(r),o=A.useRef(!1);return s.jsx(YCe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Rr(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Rr(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!a.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aae.displayName=nae;var uAe="DropdownMenuGroup",dAe=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rd(r);return s.jsx(XCe,{...a,...n,ref:t})});dAe.displayName=uAe;var fAe="DropdownMenuLabel",iae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rd(r);return s.jsx(ZCe,{...a,...n,ref:t})});iae.displayName=fAe;var hAe="DropdownMenuItem",sae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rd(r);return s.jsx(JCe,{...a,...n,ref:t})});sae.displayName=hAe;var mAe="DropdownMenuCheckboxItem",oae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rd(r);return s.jsx(QCe,{...a,...n,ref:t})});oae.displayName=mAe;var pAe="DropdownMenuRadioGroup",gAe=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rd(r);return s.jsx(eAe,{...a,...n,ref:t})});gAe.displayName=pAe;var xAe="DropdownMenuRadioItem",lae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rd(r);return s.jsx(tAe,{...a,...n,ref:t})});lae.displayName=xAe;var vAe="DropdownMenuItemIndicator",cae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rd(r);return s.jsx(rAe,{...a,...n,ref:t})});cae.displayName=vAe;var yAe="DropdownMenuSeparator",uae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rd(r);return s.jsx(nAe,{...a,...n,ref:t})});uae.displayName=yAe;var bAe="DropdownMenuArrow",wAe=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rd(r);return s.jsx(aAe,{...a,...n,ref:t})});wAe.displayName=bAe;var _Ae="DropdownMenuSubTrigger",dae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rd(r);return s.jsx(iAe,{...a,...n,ref:t})});dae.displayName=_Ae;var NAe="DropdownMenuSubContent",fae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=rd(r);return s.jsx(sAe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fae.displayName=NAe;var SAe=Qne,CAe=tae,AAe=rae,hae=aae,mae=iae,pae=sae,gae=oae,xae=lae,vae=cae,yae=uae,bae=dae,wae=fae;const q5=SAe,G5=CAe,EAe=Ve.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(bae,{ref:a,className:kr("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(px,{className:"ml-auto h-4 w-4"})]}));EAe.displayName=bae.displayName;const jAe=Ve.forwardRef(({className:e,...t},r)=>s.jsx(wae,{ref:r,className:kr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));jAe.displayName=wae.displayName;const vb=Ve.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(AAe,{children:s.jsx(hae,{ref:n,sideOffset:t,className:kr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));vb.displayName=hae.displayName;const md=Ve.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(pae,{ref:n,className:kr("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));md.displayName=pae.displayName;const TAe=Ve.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(gae,{ref:a,className:kr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(vae,{children:s.jsx(Hx,{className:"h-4 w-4"})})}),t]}));TAe.displayName=gae.displayName;const kAe=Ve.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(xae,{ref:n,className:kr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(vae,{children:s.jsx(Wwe,{className:"h-2 w-2 fill-current"})})}),t]}));kAe.displayName=xae.displayName;const K5=Ve.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(mae,{ref:n,className:kr("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));K5.displayName=mae.displayName;const E1=Ve.forwardRef(({className:e,...t},r)=>s.jsx(yae,{ref:r,className:kr("-mx-1 my-1 h-px bg-muted",e),...t}));E1.displayName=yae.displayName;function PAe(e){const t=OAe(e),r=A.forwardRef((n,a)=>{const{children:i,...o}=n,l=A.Children.toArray(i),c=l.find(FAe);if(c){const u=c.props.children,f=l.map(h=>h===c?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:a,children:A.isValidElement(u)?A.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function OAe(e){const t=A.forwardRef((r,n)=>{const{children:a,...i}=r;if(A.isValidElement(a)){const o=RAe(a),l=DAe(i,a.props);return a.type!==A.Fragment&&(l.ref=n?z0(n,o):o),A.cloneElement(a,l)}return A.Children.count(a)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IAe=Symbol("radix.slottable");function FAe(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IAe}function DAe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function RAe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var n6="Dialog",[_ae,Nae]=Nc(n6),[MAe,Wh]=_ae(n6),Sae=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=A.useRef(null),c=A.useRef(null),[u,f]=_c({prop:n,defaultProp:a??!1,onChange:i,caller:n6});return s.jsx(MAe,{scope:t,triggerRef:l,contentRef:c,contentId:_d(),titleId:_d(),descriptionId:_d(),open:u,onOpenChange:f,onOpenToggle:A.useCallback(()=>f(h=>!h),[f]),modal:o,children:r})};Sae.displayName=n6;var Cae="DialogTrigger",Aae=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wh(Cae,r),i=Ra(t,a.triggerRef);return s.jsx(Dn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":NM(a.open),...n,ref:i,onClick:Rr(e.onClick,a.onOpenToggle)})});Aae.displayName=Cae;var wM="DialogPortal",[LAe,Eae]=_ae(wM,{forceMount:void 0}),jae=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Wh(wM,t);return s.jsx(LAe,{scope:t,forceMount:r,children:A.Children.map(n,o=>s.jsx(td,{present:r||i.open,children:s.jsx(db,{asChild:!0,container:a,children:o})}))})};jae.displayName=wM;var hA="DialogOverlay",Tae=A.forwardRef((e,t)=>{const r=Eae(hA,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Wh(hA,e.__scopeDialog);return i.modal?s.jsx(td,{present:n||i.open,children:s.jsx(UAe,{...a,ref:t})}):null});Tae.displayName=hA;var BAe=PAe("DialogOverlay.RemoveScroll"),UAe=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wh(hA,r);return s.jsx(Qj,{as:BAe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Dn.div,{"data-state":NM(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),bx="DialogContent",kae=A.forwardRef((e,t)=>{const r=Eae(bx,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Wh(bx,e.__scopeDialog);return s.jsx(td,{present:n||i.open,children:i.modal?s.jsx($Ae,{...a,ref:t}):s.jsx(zAe,{...a,ref:t})})});kae.displayName=bx;var $Ae=A.forwardRef((e,t)=>{const r=Wh(bx,e.__scopeDialog),n=A.useRef(null),a=Ra(t,r.contentRef,n);return A.useEffect(()=>{const i=n.current;if(i)return Zj(i)},[]),s.jsx(Pae,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Rr(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Rr(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Rr(e.onFocusOutside,i=>i.preventDefault())})}),zAe=A.forwardRef((e,t)=>{const r=Wh(bx,e.__scopeDialog),n=A.useRef(!1),a=A.useRef(!1);return s.jsx(Pae,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Pae=A.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Wh(bx,r),c=A.useRef(null),u=Ra(t,c);return zj(),s.jsxs(s.Fragment,{children:[s.jsx(U5,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Vx,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":NM(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(WAe,{titleId:l.titleId}),s.jsx(qAe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),_M="DialogTitle",Oae=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wh(_M,r);return s.jsx(Dn.h2,{id:a.titleId,...n,ref:t})});Oae.displayName=_M;var Iae="DialogDescription",Fae=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wh(Iae,r);return s.jsx(Dn.p,{id:a.descriptionId,...n,ref:t})});Fae.displayName=Iae;var Dae="DialogClose",Rae=A.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Wh(Dae,r);return s.jsx(Dn.button,{type:"button",...n,ref:t,onClick:Rr(e.onClick,()=>a.onOpenChange(!1))})});Rae.displayName=Dae;function NM(e){return e?"open":"closed"}var Mae="DialogTitleWarning",[VAe,Lae]=Dbe(Mae,{contentName:bx,titleName:_M,docsSlug:"dialog"}),WAe=({titleId:e})=>{const t=Lae(Mae),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return A.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},HAe="DialogDescriptionWarning",qAe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Lae(HAe).contentName}}.`;return A.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},SM=Sae,CM=Aae,AM=jae,Y5=Tae,X5=kae,Z5=Oae,J5=Fae,Q5=Rae;const Bae=SM,Uae=CM,GAe=AM,$ae=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Y5,{className:kr("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));$ae.displayName=Y5.displayName;const KAe=Wx("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),EM=Ve.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(GAe,{children:[s.jsx($ae,{}),s.jsxs(X5,{ref:a,className:kr(KAe({side:e}),t),...n,children:[r,s.jsxs(Q5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(kl,{className:"h-6 w-6"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));EM.displayName=X5.displayName;const jM=({className:e,...t})=>s.jsx("div",{className:kr("flex flex-col space-y-2 text-center sm:text-left",e),...t});jM.displayName="SheetHeader";const TM=({className:e,...t})=>s.jsx("div",{className:kr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});TM.displayName="SheetFooter";const kM=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Z5,{ref:r,className:kr("text-lg font-semibold text-foreground",e),...t}));kM.displayName=Z5.displayName;const YAe=Ve.forwardRef(({className:e,...t},r)=>s.jsx(J5,{ref:r,className:kr("text-sm text-muted-foreground",e),...t}));YAe.displayName=J5.displayName;const Ek=[{code:"fr",name:"Franais",flag:""},{code:"en",name:"English",flag:""}],zae=()=>{const{i18n:e}=Xa(),t=a=>{e&&e.changeLanguage&&e.changeLanguage(a)},r=e&&e.language?e.language.split("-")[0]:"fr",n=Ek.find(a=>a.code===r)||Ek[0];return s.jsxs(q5,{children:[s.jsx(G5,{asChild:!0,children:s.jsxs(Ue,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(p0,{className:"h-5 w-5"}),s.jsx("span",{className:"hidden sm:inline",children:n.name}),s.jsx("span",{className:"sm:hidden",children:n.flag})]})}),s.jsx(vb,{align:"end",children:Ek.map(a=>s.jsxs(md,{onClick:()=>t(a.code),disabled:n.code===a.code,children:[s.jsx("span",{className:"mr-2",children:a.flag}),a.name]},a.code))})]})},Vae=()=>{const{theme:e,setTheme:t}=G5e(),r=()=>{t(e==="dark-elegant"?"deep-night":"dark-elegant")},n=e==="dark-elegant"?s.jsx(o_e,{className:"h-5 w-5"}):s.jsx(u_e,{className:"h-5 w-5"}),a=e==="dark-elegant"?"Passer au thme Deep Night":"Passer au thme Dark Elegant";return s.jsxs(Ue,{variant:"ghost",size:"icon",onClick:r,"aria-label":a,children:[n,s.jsx("span",{className:"sr-only",children:a})]})},a6=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),i6=A.createContext({}),s6=A.createContext(null),o6=typeof document<"u",Yx=o6?A.useLayoutEffect:A.useEffect,Wae=A.createContext({strict:!1}),PM=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),XAe="framerAppearId",Hae="data-"+PM(XAe);function ZAe(e,t,r,n){const{visualElement:a}=A.useContext(i6),i=A.useContext(Wae),o=A.useContext(s6),l=A.useContext(a6).reducedMotion,c=A.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;A.useInsertionEffect(()=>{u&&u.update(r,o)});const f=A.useRef(!!(r[Hae]&&!window.HandoffComplete));return Yx(()=>{u&&(u.render(),f.current&&u.animationState&&u.animationState.animateChanges())}),A.useEffect(()=>{u&&(u.updateFeatures(),!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),u}function v2(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function JAe(e,t,r){return A.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):v2(r)&&(r.current=n))},[t])}function w4(e){return typeof e=="string"||Array.isArray(e)}function l6(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const OM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],IM=["initial",...OM];function c6(e){return l6(e.animate)||IM.some(t=>w4(e[t]))}function qae(e){return!!(c6(e)||e.variants)}function QAe(e,t){if(c6(e)){const{initial:r,animate:n}=e;return{initial:r===!1||w4(r)?r:void 0,animate:w4(n)?n:void 0}}return e.inherit!==!1?t:{}}function eEe(e){const{initial:t,animate:r}=QAe(e,A.useContext(i6));return A.useMemo(()=>({initial:t,animate:r}),[DV(t),DV(r)])}function DV(e){return Array.isArray(e)?e.join(" "):e}const RV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_4={};for(const e in RV)_4[e]={isEnabled:t=>RV[e].some(r=>!!t[r])};function tEe(e){for(const t in e)_4[t]={..._4[t],...e[t]}}const FM=A.createContext({}),Gae=A.createContext({}),rEe=Symbol.for("motionComponentSymbol");function nEe({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&tEe(e);function i(l,c){let u;const f={...A.useContext(a6),...l,layoutId:aEe(l)},{isStatic:h}=f,g=eEe(l),p=n(l,h);if(!h&&o6){g.visualElement=ZAe(a,p,f,t);const N=A.useContext(Gae),b=A.useContext(Wae).strict;g.visualElement&&(u=g.visualElement.loadFeatures(f,b,e,N))}return A.createElement(i6.Provider,{value:g},u&&g.visualElement?A.createElement(u,{visualElement:g.visualElement,...f}):null,r(a,l,JAe(p,g.visualElement,c),p,h,g.visualElement))}const o=A.forwardRef(i);return o[rEe]=a,o}function aEe({layoutId:e}){const t=A.useContext(FM).id;return t&&e!==void 0?t+"-"+e:e}function iEe(e){function t(n,a={}){return nEe(e(n,a))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,a)=>(r.has(a)||r.set(a,t(a)),r.get(a))})}const sEe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function DM(e){return typeof e!="string"||e.includes("-")?!1:!!(sEe.indexOf(e)>-1||/[A-Z]/.test(e))}const mA={};function oEe(e){Object.assign(mA,e)}const e3=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xx=new Set(e3);function Kae(e,{layout:t,layoutId:r}){return Xx.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!mA[e]||e==="opacity")}const Nu=e=>!!(e&&e.getVelocity),lEe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cEe=e3.length;function uEe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,a){let i="";for(let o=0;o<cEe;o++){const l=e3[o];if(e[l]!==void 0){const c=lEe[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,n?"":i):r&&n&&(i="none"),i}const Yae=e=>t=>typeof t=="string"&&t.startsWith(e),Xae=Yae("--"),UI=Yae("var(--"),dEe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,fEe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,j1=(e,t,r)=>Math.min(Math.max(r,e),t),Zx={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},__={...Zx,transform:e=>j1(0,1,e)},ZN={...Zx,default:1},N_=e=>Math.round(e*1e5)/1e5,u6=/(-)?([\d]*\.?[\d])+/g,Zae=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,hEe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function t3(e){return typeof e=="string"}const r3=e=>({test:t=>t3(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),jp=r3("deg"),T0=r3("%"),Ea=r3("px"),mEe=r3("vh"),pEe=r3("vw"),MV={...T0,parse:e=>T0.parse(e)/100,transform:e=>T0.transform(e*100)},LV={...Zx,transform:Math.round},Jae={borderWidth:Ea,borderTopWidth:Ea,borderRightWidth:Ea,borderBottomWidth:Ea,borderLeftWidth:Ea,borderRadius:Ea,radius:Ea,borderTopLeftRadius:Ea,borderTopRightRadius:Ea,borderBottomRightRadius:Ea,borderBottomLeftRadius:Ea,width:Ea,maxWidth:Ea,height:Ea,maxHeight:Ea,size:Ea,top:Ea,right:Ea,bottom:Ea,left:Ea,padding:Ea,paddingTop:Ea,paddingRight:Ea,paddingBottom:Ea,paddingLeft:Ea,margin:Ea,marginTop:Ea,marginRight:Ea,marginBottom:Ea,marginLeft:Ea,rotate:jp,rotateX:jp,rotateY:jp,rotateZ:jp,scale:ZN,scaleX:ZN,scaleY:ZN,scaleZ:ZN,skew:jp,skewX:jp,skewY:jp,distance:Ea,translateX:Ea,translateY:Ea,translateZ:Ea,x:Ea,y:Ea,z:Ea,perspective:Ea,transformPerspective:Ea,opacity:__,originX:MV,originY:MV,originZ:Ea,zIndex:LV,fillOpacity:__,strokeOpacity:__,numOctaves:LV};function RM(e,t,r,n){const{style:a,vars:i,transform:o,transformOrigin:l}=e;let c=!1,u=!1,f=!0;for(const h in t){const g=t[h];if(Xae(h)){i[h]=g;continue}const p=Jae[h],N=fEe(g,p);if(Xx.has(h)){if(c=!0,o[h]=N,!f)continue;g!==(p.default||0)&&(f=!1)}else h.startsWith("origin")?(u=!0,l[h]=N):a[h]=N}if(t.transform||(c||n?a.transform=uEe(e.transform,r,f,n):a.transform&&(a.transform="none")),u){const{originX:h="50%",originY:g="50%",originZ:p=0}=l;a.transformOrigin=`${h} ${g} ${p}`}}const MM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Qae(e,t,r){for(const n in t)!Nu(t[n])&&!Kae(n,r)&&(e[n]=t[n])}function gEe({transformTemplate:e},t,r){return A.useMemo(()=>{const n=MM();return RM(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function xEe(e,t,r){const n=e.style||{},a={};return Qae(a,n,e),Object.assign(a,gEe(e,t,r)),e.transformValues?e.transformValues(a):a}function vEe(e,t,r){const n={},a=xEe(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const yEe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pA(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||yEe.has(e)}let eie=e=>!pA(e);function bEe(e){e&&(eie=t=>t.startsWith("on")?!pA(t):e(t))}try{bEe(require("@emotion/is-prop-valid").default)}catch{}function wEe(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(eie(a)||r===!0&&pA(a)||!t&&!pA(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function BV(e,t,r){return typeof e=="string"?e:Ea.transform(t+r*e)}function _Ee(e,t,r){const n=BV(t,e.x,e.width),a=BV(r,e.y,e.height);return`${n} ${a}`}const NEe={offset:"stroke-dashoffset",array:"stroke-dasharray"},SEe={offset:"strokeDashoffset",array:"strokeDasharray"};function CEe(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?NEe:SEe;e[i.offset]=Ea.transform(-n);const o=Ea.transform(t),l=Ea.transform(r);e[i.array]=`${o} ${l}`}function LM(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},f,h,g){if(RM(e,u,f,g),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:N,dimensions:b}=e;p.transform&&(b&&(N.transform=p.transform),delete p.transform),b&&(a!==void 0||i!==void 0||N.transform)&&(N.transformOrigin=_Ee(b,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&CEe(p,o,l,c,!1)}const tie=()=>({...MM(),attrs:{}}),BM=e=>typeof e=="string"&&e.toLowerCase()==="svg";function AEe(e,t,r,n){const a=A.useMemo(()=>{const i=tie();return LM(i,t,{enableHardwareAcceleration:!1},BM(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Qae(i,e.style,e),a.style={...i,...a.style}}return a}function EEe(e=!1){return(r,n,a,{latestValues:i},o)=>{const c=(DM(r)?AEe:vEe)(n,i,o,r),f={...wEe(n,typeof r=="string",e),...c,ref:a},{children:h}=n,g=A.useMemo(()=>Nu(h)?h.get():h,[h]);return A.createElement(r,{...f,children:g})}}function rie(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const nie=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aie(e,t,r,n){rie(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(nie.has(a)?a:PM(a),t.attrs[a])}function UM(e,t){const{style:r}=e,n={};for(const a in r)(Nu(r[a])||t.style&&Nu(t.style[a])||Kae(a,e))&&(n[a]=r[a]);return n}function iie(e,t){const r=UM(e,t);for(const n in e)if(Nu(e[n])||Nu(t[n])){const a=e3.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=e[n]}return r}function $M(e,t,r,n={},a={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,a)),t}function yb(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const gA=e=>Array.isArray(e),jEe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),TEe=e=>gA(e)?e[e.length-1]||0:e;function cC(e){const t=Nu(e)?e.get():e;return jEe(t)?t.toValue():t}function kEe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,a,i){const o={latestValues:PEe(n,a,i,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const sie=e=>(t,r)=>{const n=A.useContext(i6),a=A.useContext(s6),i=()=>kEe(e,t,n,a);return r?i():yb(i)};function PEe(e,t,r,n){const a={},i=n(e,{});for(const g in i)a[g]=cC(i[g]);let{initial:o,animate:l}=e;const c=c6(e),u=qae(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const h=f?l:o;return h&&typeof h!="boolean"&&!l6(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const N=$M(e,p);if(!N)return;const{transitionEnd:b,transition:S,...C}=N;for(const j in C){let T=C[j];if(Array.isArray(T)){const O=f?T.length-1:0;T=T[O]}T!==null&&(a[j]=T)}for(const j in b)a[j]=b[j]}),a}const Go=e=>e;class UV{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function OEe(e){let t=new UV,r=new UV,n=0,a=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,f=!1)=>{const h=f&&a,g=h?t:r;return u&&o.add(c),g.add(c)&&h&&a&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(a){i=!0;return}if(a=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const f=t.order[u];f(c),o.has(f)&&(l.schedule(f),e())}a=!1,i&&(i=!1,l.process(c))}};return l}const JN=["prepare","read","update","preRender","render","postRender"],IEe=40;function FEe(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=JN.reduce((h,g)=>(h[g]=OEe(()=>r=!0),h),{}),o=h=>i[h].process(a),l=()=>{const h=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(h-a.timestamp,IEe),1),a.timestamp=h,a.isProcessing=!0,JN.forEach(o),a.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,a.isProcessing||e(l)};return{schedule:JN.reduce((h,g)=>{const p=i[g];return h[g]=(N,b=!1,S=!1)=>(r||c(),p.schedule(N,b,S)),h},{}),cancel:h=>JN.forEach(g=>i[g].cancel(h)),state:a,steps:i}}const{schedule:us,cancel:Uh,state:Gl,steps:jk}=FEe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Go,!0),DEe={useVisualState:sie({scrapeMotionValuesFromProps:iie,createRenderState:tie,onMount:(e,t,{renderState:r,latestValues:n})=>{us.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),us.render(()=>{LM(r,n,{enableHardwareAcceleration:!1},BM(t.tagName),e.transformTemplate),aie(t,r)})}})},REe={useVisualState:sie({scrapeMotionValuesFromProps:UM,createRenderState:MM})};function MEe(e,{forwardMotionProps:t=!1},r,n){return{...DM(e)?DEe:REe,preloadedFeatures:r,useRender:EEe(t),createVisualElement:n,Component:e}}function _m(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const oie=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function d6(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const LEe=e=>t=>oie(t)&&e(t,d6(t));function Tm(e,t,r,n){return _m(e,t,LEe(r),n)}const BEe=(e,t)=>r=>t(e(r)),l1=(...e)=>e.reduce(BEe);function lie(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const $V=lie("dragHorizontal"),zV=lie("dragVertical");function cie(e){let t=!1;if(e==="y")t=zV();else if(e==="x")t=$V();else{const r=$V(),n=zV();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function uie(){const e=cie(!0);return e?(e(),!1):!0}class U1{constructor(t){this.isMounted=!1,this.node=t}update(){}}function VV(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||uie())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&us.update(()=>l[n](i,o))};return Tm(e.current,r,a,{passive:!e.getProps()[n]})}class UEe extends U1{mount(){this.unmount=l1(VV(this.node,!0),VV(this.node,!1))}unmount(){}}class $Ee extends U1{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=l1(_m(this.node.current,"focus",()=>this.onFocus()),_m(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const die=(e,t)=>t?e===t?!0:die(e,t.parentElement):!1;function Tk(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,d6(r))}class zEe extends U1{constructor(){super(...arguments),this.removeStartListeners=Go,this.removeEndListeners=Go,this.removeAccessibleListeners=Go,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=Tm(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f,globalTapTarget:h}=this.node.getProps();us.update(()=>{!h&&!die(this.node.current,l.target)?f&&f(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=Tm(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=l1(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Tk("up",(c,u)=>{const{onTap:f}=this.node.getProps();f&&us.update(()=>f(c,u))})};this.removeEndListeners(),this.removeEndListeners=_m(this.node.current,"keyup",o),Tk("down",(l,c)=>{this.startPress(l,c)})},r=_m(this.node.current,"keydown",t),n=()=>{this.isPressing&&Tk("cancel",(i,o)=>this.cancelPress(i,o))},a=_m(this.node.current,"blur",n);this.removeAccessibleListeners=l1(r,a)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&us.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!uie()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&us.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Tm(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=_m(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=l1(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const $I=new WeakMap,kk=new WeakMap,VEe=e=>{const t=$I.get(e.target);t&&t(e)},WEe=e=>{e.forEach(VEe)};function HEe({root:e,...t}){const r=e||document;kk.has(r)||kk.set(r,{});const n=kk.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(WEe,{root:e,...t})),n[a]}function qEe(e,t,r){const n=HEe(t);return $I.set(e,r),n.observe(e),()=>{$I.delete(e),n.unobserve(e)}}const GEe={some:0,all:1};class KEe extends U1{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:GEe[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),g=u?f:h;g&&g(c)};return qEe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(YEe(t,r))&&this.startObserver()}unmount(){}}function YEe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const XEe={inView:{Feature:KEe},tap:{Feature:zEe},focus:{Feature:$Ee},hover:{Feature:UEe}};function fie(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ZEe(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function JEe(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function f6(e,t,r){const n=e.getProps();return $M(n,t,r!==void 0?r:n.custom,ZEe(e),JEe(e))}let hie=Go,h6=Go;const c1=e=>e*1e3,k0=e=>e/1e3,QEe={current:!1},mie=e=>Array.isArray(e)&&typeof e[0]=="number";function pie(e){return!!(!e||typeof e=="string"&&gie[e]||mie(e)||Array.isArray(e)&&e.every(pie))}const a_=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,gie={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:a_([0,.65,.55,1]),circOut:a_([.55,0,1,.45]),backIn:a_([.31,.01,.66,-.59]),backOut:a_([.33,1.53,.69,.99])};function xie(e){if(e)return mie(e)?a_(e):Array.isArray(e)?e.map(xie):gie[e]}function eje(e,t,r,{delay:n=0,duration:a,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const f=xie(l);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function tje(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const vie=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,rje=1e-7,nje=12;function aje(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=vie(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>rje&&++l<nje);return o}function n3(e,t,r,n){if(e===t&&r===n)return Go;const a=i=>aje(i,0,1,e,r);return i=>i===0||i===1?i:vie(a(i),t,n)}const ije=n3(.42,0,1,1),sje=n3(0,0,.58,1),yie=n3(.42,0,.58,1),oje=e=>Array.isArray(e)&&typeof e[0]!="number",bie=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,wie=e=>t=>1-e(1-t),zM=e=>1-Math.sin(Math.acos(e)),_ie=wie(zM),lje=bie(zM),Nie=n3(.33,1.53,.69,.99),VM=wie(Nie),cje=bie(VM),uje=e=>(e*=2)<1?.5*VM(e):.5*(2-Math.pow(2,-10*(e-1))),dje={linear:Go,easeIn:ije,easeInOut:yie,easeOut:sje,circIn:zM,circInOut:lje,circOut:_ie,backIn:VM,backInOut:cje,backOut:Nie,anticipate:uje},WV=e=>{if(Array.isArray(e)){h6(e.length===4);const[t,r,n,a]=e;return n3(t,r,n,a)}else if(typeof e=="string")return dje[e];return e},WM=(e,t)=>r=>!!(t3(r)&&hEe.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),Sie=(e,t,r)=>n=>{if(!t3(n))return n;const[a,i,o,l]=n.match(u6);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},fje=e=>j1(0,255,e),Pk={...Zx,transform:e=>Math.round(fje(e))},qg={test:WM("rgb","red"),parse:Sie("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Pk.transform(e)+", "+Pk.transform(t)+", "+Pk.transform(r)+", "+N_(__.transform(n))+")"};function hje(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const zI={test:WM("#"),parse:hje,transform:qg.transform},y2={test:WM("hsl","hue"),parse:Sie("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+T0.transform(N_(t))+", "+T0.transform(N_(r))+", "+N_(__.transform(n))+")"},Ru={test:e=>qg.test(e)||zI.test(e)||y2.test(e),parse:e=>qg.test(e)?qg.parse(e):y2.test(e)?y2.parse(e):zI.parse(e),transform:e=>t3(e)?e:e.hasOwnProperty("red")?qg.transform(e):y2.transform(e)},Ao=(e,t,r)=>-r*e+r*t+e;function Ok(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function mje({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=Ok(c,l,e+1/3),i=Ok(c,l,e),o=Ok(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const Ik=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},pje=[zI,qg,y2],gje=e=>pje.find(t=>t.test(e));function HV(e){const t=gje(e);let r=t.parse(e);return t===y2&&(r=mje(r)),r}const Cie=(e,t)=>{const r=HV(e),n=HV(t),a={...r};return i=>(a.red=Ik(r.red,n.red,i),a.green=Ik(r.green,n.green,i),a.blue=Ik(r.blue,n.blue,i),a.alpha=Ao(r.alpha,n.alpha,i),qg.transform(a))};function xje(e){var t,r;return isNaN(e)&&t3(e)&&(((t=e.match(u6))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Zae))===null||r===void 0?void 0:r.length)||0)>0}const Aie={regex:dEe,countKey:"Vars",token:"${v}",parse:Go},Eie={regex:Zae,countKey:"Colors",token:"${c}",parse:Ru.parse},jie={regex:u6,countKey:"Numbers",token:"${n}",parse:Zx.parse};function Fk(e,{regex:t,countKey:r,token:n,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(a)))}function xA(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Fk(r,Aie),Fk(r,Eie),Fk(r,jie),r}function Tie(e){return xA(e).values}function kie(e){const{values:t,numColors:r,numVars:n,tokenised:a}=xA(e),i=t.length;return o=>{let l=a;for(let c=0;c<i;c++)c<n?l=l.replace(Aie.token,o[c]):c<n+r?l=l.replace(Eie.token,Ru.transform(o[c])):l=l.replace(jie.token,N_(o[c]));return l}}const vje=e=>typeof e=="number"?0:e;function yje(e){const t=Tie(e);return kie(e)(t.map(vje))}const T1={test:xje,parse:Tie,createTransformer:kie,getAnimatableNone:yje},Pie=(e,t)=>r=>`${r>0?t:e}`;function Oie(e,t){return typeof e=="number"?r=>Ao(e,t,r):Ru.test(e)?Cie(e,t):e.startsWith("var(")?Pie(e,t):Fie(e,t)}const Iie=(e,t)=>{const r=[...e],n=r.length,a=e.map((i,o)=>Oie(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}},bje=(e,t)=>{const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=Oie(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}},Fie=(e,t)=>{const r=T1.createTransformer(t),n=xA(e),a=xA(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?l1(Iie(n.values,a.values),r):Pie(e,t)},vy=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},qV=(e,t)=>r=>Ao(e,t,r);function wje(e){return typeof e=="number"?qV:typeof e=="string"?Ru.test(e)?Cie:Fie:Array.isArray(e)?Iie:typeof e=="object"?bje:qV}function _je(e,t,r){const n=[],a=r||wje(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Go:t;l=l1(c,l)}n.push(l)}return n}function m6(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(h6(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=_je(t,n,a),l=o.length,c=u=>{let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=vy(e[f],e[f+1],u);return o[f](h)};return r?u=>c(j1(e[0],e[i-1],u)):c}function Nje(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=vy(0,t,n);e.push(Ao(r,1,a))}}function Die(e){const t=[0];return Nje(t,e.length-1),t}function Sje(e,t){return e.map(r=>r*t)}function Cje(e,t){return e.map(()=>t||yie).splice(0,e.length-1)}function vA({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=oje(n)?n.map(WV):WV(n),i={done:!1,value:t[0]},o=Sje(r&&r.length===t.length?r:Die(t),e),l=m6(o,t,{ease:Array.isArray(a)?a:Cje(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function HM(e,t){return t?e*(1e3/t):0}const Aje=5;function Rie(e,t,r){const n=Math.max(t-Aje,0);return HM(r-e(n),t-n)}const Dk=.001,Eje=.01,GV=10,jje=.05,Tje=1;function kje({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let a,i;hie(e<=c1(GV));let o=1-t;o=j1(jje,Tje,o),e=j1(Eje,GV,k0(e)),o<1?(a=u=>{const f=u*o,h=f*e,g=f-r,p=VI(u,o),N=Math.exp(-h);return Dk-g/p*N},i=u=>{const h=u*o*e,g=h*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,N=Math.exp(-h),b=VI(Math.pow(u,2),o);return(-a(u)+Dk>0?-1:1)*((g-p)*N)/b}):(a=u=>{const f=Math.exp(-u*e),h=(u-r)*e+1;return-Dk+f*h},i=u=>{const f=Math.exp(-u*e),h=(r-u)*(e*e);return f*h});const l=5/e,c=Oje(a,i,l);if(e=c1(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const Pje=12;function Oje(e,t,r){let n=r;for(let a=1;a<Pje;a++)n=n-e(n)/t(n);return n}function VI(e,t){return e*Math.sqrt(1-t*t)}const Ije=["duration","bounce"],Fje=["stiffness","damping","mass"];function KV(e,t){return t.some(r=>e[r]!==void 0)}function Dje(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!KV(e,Fje)&&KV(e,Ije)){const r=kje(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function Mie({keyframes:e,restDelta:t,restSpeed:r,...n}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:g}=Dje({...n,velocity:-k0(n.velocity||0)}),p=h||0,N=c/(2*Math.sqrt(l*u)),b=i-a,S=k0(Math.sqrt(l/u)),C=Math.abs(b)<5;r||(r=C?.01:2),t||(t=C?.005:.5);let j;if(N<1){const T=VI(S,N);j=O=>{const M=Math.exp(-N*S*O);return i-M*((p+N*S*b)/T*Math.sin(T*O)+b*Math.cos(T*O))}}else if(N===1)j=T=>i-Math.exp(-S*T)*(b+(p+S*b)*T);else{const T=S*Math.sqrt(N*N-1);j=O=>{const M=Math.exp(-N*S*O),B=Math.min(T*O,300);return i-M*((p+N*S*b)*Math.sinh(B)+T*b*Math.cosh(B))/T}}return{calculatedDuration:g&&f||null,next:T=>{const O=j(T);if(g)o.done=T>=f;else{let M=p;T!==0&&(N<1?M=Rie(j,T,O):M=0);const B=Math.abs(M)<=r,L=Math.abs(i-O)<=t;o.done=B&&L}return o.value=o.done?i:O,o}}}function YV({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:f}){const h=e[0],g={done:!1,value:h},p=H=>l!==void 0&&H<l||c!==void 0&&H>c,N=H=>l===void 0?c:c===void 0||Math.abs(l-H)<Math.abs(c-H)?l:c;let b=r*t;const S=h+b,C=o===void 0?S:o(S);C!==S&&(b=C-h);const j=H=>-b*Math.exp(-H/n),T=H=>C+j(H),O=H=>{const U=j(H),J=T(H);g.done=Math.abs(U)<=u,g.value=g.done?C:J};let M,B;const L=H=>{p(g.value)&&(M=H,B=Mie({keyframes:[g.value,N(g.value)],velocity:Rie(T,H,g.value),damping:a,stiffness:i,restDelta:u,restSpeed:f}))};return L(0),{calculatedDuration:null,next:H=>{let U=!1;return!B&&M===void 0&&(U=!0,O(H),L(H)),M!==void 0&&H>M?B.next(H-M):(!U&&O(H),g)}}}const Rje=e=>{const t=({timestamp:r})=>e(r);return{start:()=>us.update(t,!0),stop:()=>Uh(t),now:()=>Gl.isProcessing?Gl.timestamp:performance.now()}},XV=2e4;function ZV(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<XV;)t+=r,n=e.next(t);return t>=XV?1/0:t}const Mje={decay:YV,inertia:YV,tween:vA,keyframes:vA,spring:Mie};function N4({autoplay:e=!0,delay:t=0,driver:r=Rje,keyframes:n,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:f,onUpdate:h,...g}){let p=1,N=!1,b,S;const C=()=>{S=new Promise(ye=>{b=ye})};C();let j;const T=Mje[a]||vA;let O;T!==vA&&typeof n[0]!="number"&&(O=m6([0,100],n,{clamp:!1}),n=[0,100]);const M=T({...g,keyframes:n});let B;l==="mirror"&&(B=T({...g,keyframes:[...n].reverse(),velocity:-(g.velocity||0)}));let L="idle",H=null,U=null,J=null;M.calculatedDuration===null&&i&&(M.calculatedDuration=ZV(M));const{calculatedDuration:K}=M;let G=1/0,re=1/0;K!==null&&(G=K+o,re=G*(i+1)-o);let ae=0;const X=ye=>{if(U===null)return;p>0&&(U=Math.min(U,ye)),p<0&&(U=Math.min(ye-re/p,U)),H!==null?ae=H:ae=Math.round(ye-U)*p;const ee=ae-t*(p>=0?1:-1),he=p>=0?ee<0:ee>re;ae=Math.max(ee,0),L==="finished"&&H===null&&(ae=re);let se=ae,te=M;if(i){const Ne=Math.min(ae,re)/G;let Ee=Math.floor(Ne),Ge=Ne%1;!Ge&&Ne>=1&&(Ge=1),Ge===1&&Ee--,Ee=Math.min(Ee,i+1),!!(Ee%2)&&(l==="reverse"?(Ge=1-Ge,o&&(Ge-=o/G)):l==="mirror"&&(te=B)),se=j1(0,1,Ge)*G}const ge=he?{done:!1,value:n[0]}:te.next(se);O&&(ge.value=O(ge.value));let{done:ue}=ge;!he&&K!==null&&(ue=p>=0?ae>=re:ae<=0);const Ce=H===null&&(L==="finished"||L==="running"&&ue);return h&&h(ge.value),Ce&&le(),ge},ne=()=>{j&&j.stop(),j=void 0},de=()=>{L="idle",ne(),b(),C(),U=J=null},le=()=>{L="finished",f&&f(),ne(),b()},xe=()=>{if(N)return;j||(j=r(X));const ye=j.now();c&&c(),H!==null?U=ye-H:(!U||L==="finished")&&(U=ye),L==="finished"&&C(),J=U,H=null,L="running",j.start()};e&&xe();const Se={then(ye,ee){return S.then(ye,ee)},get time(){return k0(ae)},set time(ye){ye=c1(ye),ae=ye,H!==null||!j||p===0?H=ye:U=j.now()-ye/p},get duration(){const ye=M.calculatedDuration===null?ZV(M):M.calculatedDuration;return k0(ye)},get speed(){return p},set speed(ye){ye===p||!j||(p=ye,Se.time=k0(ae))},get state(){return L},play:xe,pause:()=>{L="paused",H=ae},stop:()=>{N=!0,L!=="idle"&&(L="idle",u&&u(),de())},cancel:()=>{J!==null&&X(J),de()},complete:()=>{L="finished"},sample:ye=>(U=0,X(ye))};return Se}function Lje(e){let t;return()=>(t===void 0&&(t=e()),t)}const Bje=Lje(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Uje=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),QN=10,$je=2e4,zje=(e,t)=>t.type==="spring"||e==="backgroundColor"||!pie(t.ease);function Vje(e,t,{onUpdate:r,onComplete:n,...a}){if(!(Bje()&&Uje.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const f=()=>{c=new Promise(T=>{l=T})};f();let{keyframes:h,duration:g=300,ease:p,times:N}=a;if(zje(t,a)){const T=N4({...a,repeat:0,delay:0});let O={done:!1,value:h[0]};const M=[];let B=0;for(;!O.done&&B<$je;)O=T.sample(B),M.push(O.value),B+=QN;N=void 0,h=M,g=B-QN,p="linear"}const b=eje(e.owner.current,t,h,{...a,duration:g,ease:p,times:N}),S=()=>{u=!1,b.cancel()},C=()=>{u=!0,us.update(S),l(),f()};return b.onfinish=()=>{u||(e.set(tje(h,a)),n&&n(),C())},{then(T,O){return c.then(T,O)},attachTimeline(T){return b.timeline=T,b.onfinish=null,Go},get time(){return k0(b.currentTime||0)},set time(T){b.currentTime=c1(T)},get speed(){return b.playbackRate},set speed(T){b.playbackRate=T},get duration(){return k0(g)},play:()=>{o||(b.play(),Uh(S))},pause:()=>b.pause(),stop:()=>{if(o=!0,b.playState==="idle")return;const{currentTime:T}=b;if(T){const O=N4({...a,autoplay:!1});e.setWithVelocity(O.sample(T-QN).value,O.sample(T).value,QN)}C()},complete:()=>{u||b.finish()},cancel:C}}function Wje({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const a=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Go,pause:Go,stop:Go,then:i=>(i(),Promise.resolve()),cancel:Go,complete:Go});return t?N4({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Hje={type:"spring",stiffness:500,damping:25,restSpeed:10},qje=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Gje={type:"keyframes",duration:.8},Kje={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Yje=(e,{keyframes:t})=>t.length>2?Gje:Xx.has(e)?e.startsWith("scale")?qje(t[1]):Hje:Kje,WI=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(T1.test(t)||t==="0")&&!t.startsWith("url(")),Xje=new Set(["brightness","contrast","saturate","opacity"]);function Zje(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(u6)||[];if(!n)return e;const a=r.replace(n,"");let i=Xje.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const Jje=/([a-z-]*)\(.*?\)/g,HI={...T1,getAnimatableNone:e=>{const t=e.match(Jje);return t?t.map(Zje).join(" "):e}},Qje={...Jae,color:Ru,backgroundColor:Ru,outlineColor:Ru,fill:Ru,stroke:Ru,borderColor:Ru,borderTopColor:Ru,borderRightColor:Ru,borderBottomColor:Ru,borderLeftColor:Ru,filter:HI,WebkitFilter:HI},qM=e=>Qje[e];function Lie(e,t){let r=qM(e);return r!==HI&&(r=T1),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Bie=e=>/^0[^.\s]+$/.test(e);function e6e(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Bie(e)}function t6e(e,t,r,n){const a=WI(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),e6e(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(a&&c.length&&l)for(let u=0;u<c.length;u++){const f=c[u];i[f]=Lie(t,l)}return i}function r6e({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}function GM(e,t){return e[t]||e.default||e}const n6e={skipAnimations:!1},KM=(e,t,r,n={})=>a=>{const i=GM(n,e)||{},o=i.delay||n.delay||0;let{elapsed:l=0}=n;l=l-c1(o);const c=t6e(t,e,r,i),u=c[0],f=c[c.length-1],h=WI(e,u),g=WI(e,f);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:N=>{t.set(N),i.onUpdate&&i.onUpdate(N)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(r6e(i)||(p={...p,...Yje(e,p)}),p.duration&&(p.duration=c1(p.duration)),p.repeatDelay&&(p.repeatDelay=c1(p.repeatDelay)),!h||!g||QEe.current||i.type===!1||n6e.skipAnimations)return Wje(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const N=Vje(t,e,p);if(N)return N}return N4(p)};function yA(e){return!!(Nu(e)&&e.add)}const Uie=e=>/^\-?\d*\.?\d+$/.test(e);function YM(e,t){e.indexOf(t)===-1&&e.push(t)}function XM(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class ZM{constructor(){this.subscriptions=[]}add(t){return YM(this.subscriptions,t),()=>XM(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const a6e=e=>!isNaN(parseFloat(e)),S_={current:void 0};class i6e{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=Gl;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,us.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>us.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=a6e(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new ZM);const n=this.events[t].add(r);return t==="change"?()=>{n(),us.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return S_.current&&S_.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?HM(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jh(e,t){return new i6e(e,t)}const $ie=e=>t=>t.test(e),s6e={test:e=>e==="auto",parse:e=>e},zie=[Zx,Ea,T0,jp,pEe,mEe,s6e],Tw=e=>zie.find($ie(e)),o6e=[...zie,Ru,T1],l6e=e=>o6e.find($ie(e));function c6e(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,jh(r))}function JM(e,t){const r=f6(e,t);let{transitionEnd:n={},transition:a={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const l=TEe(i[o]);c6e(e,o,l)}}function qI(e,t){[...t].reverse().forEach(n=>{const a=e.getVariant(n);a&&JM(e,a),e.variantChildren&&e.variantChildren.forEach(i=>{qI(i,t)})})}function u6e(e,t){if(Array.isArray(t))return qI(e,t);if(typeof t=="string")return qI(e,[t]);JM(e,t)}function d6e(e,t,r){var n,a;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=t[c];let f=null;Array.isArray(u)&&(f=u[0]),f===null&&(f=(a=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&a!==void 0?a:t[c]),f!=null&&(typeof f=="string"&&(Uie(f)||Bie(f))?f=parseFloat(f):!l6e(f)&&T1.test(u)&&(f=Lie(c,u)),e.addValue(c,jh(f,{owner:e})),r[c]===void 0&&(r[c]=f),f!==null&&e.setBaseTarget(c,f))}}function f6e(e,t){return t?(t[e]||t.default||t).from:void 0}function h6e(e,t,r){const n={};for(const a in e){const i=f6e(a,t);if(i!==void 0)n[a]=i;else{const o=r.getValue(a);o&&(n[a]=o.get())}}return n}function m6e({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function p6e(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function Vie(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(i=n);const u=[],f=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const g=e.getValue(h),p=l[h];if(!g||p===void 0||f&&m6e(f,h))continue;const N={delay:r,elapsed:0,...GM(i||{},h)};if(window.HandoffAppearAnimations){const C=e.getProps()[Hae];if(C){const j=window.HandoffAppearAnimations(C,h,g,us);j!==null&&(N.elapsed=j,N.isHandoff=!0)}}let b=!N.isHandoff&&!p6e(g,p);if(N.type==="spring"&&(g.getVelocity()||N.velocity)&&(b=!1),g.animation&&(b=!1),b)continue;g.start(KM(h,g,p,e.shouldReduceMotion&&Xx.has(h)?{type:!1}:N));const S=g.animation;yA(c)&&(c.add(h),S.then(()=>c.remove(h))),u.push(S)}return o&&Promise.all(u).then(()=>{o&&JM(e,o)}),u}function GI(e,t,r={}){const n=f6(e,t,r.custom);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Vie(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return g6e(e,t,u+c,f,h,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function g6e(e,t,r=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(x6e).forEach((u,f)=>{u.notify("AnimationStart",t),o.push(GI(u,t,{...i,delay:r+c(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function x6e(e,t){return e.sortNodePosition(t)}function Wie(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>GI(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=GI(e,t,r);else{const a=typeof t=="function"?f6(e,t,r.custom):t;n=Promise.all(Vie(e,a,r))}return n.then(()=>e.notify("AnimationComplete",t))}const v6e=[...OM].reverse(),y6e=OM.length;function b6e(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Wie(e,r,n)))}function w6e(e){let t=b6e(e);const r=N6e();let n=!0;const a=(c,u)=>{const f=f6(e,u);if(f){const{transition:h,transitionEnd:g,...p}=f;c={...c,...p,...g}}return c};function i(c){t=c(e)}function o(c,u){const f=e.getProps(),h=e.getVariantContext(!0)||{},g=[],p=new Set;let N={},b=1/0;for(let C=0;C<y6e;C++){const j=v6e[C],T=r[j],O=f[j]!==void 0?f[j]:h[j],M=w4(O),B=j===u?T.isActive:null;B===!1&&(b=C);let L=O===h[j]&&O!==f[j]&&M;if(L&&n&&e.manuallyAnimateOnMount&&(L=!1),T.protectedKeys={...N},!T.isActive&&B===null||!O&&!T.prevProp||l6(O)||typeof O=="boolean")continue;let U=_6e(T.prevProp,O)||j===u&&T.isActive&&!L&&M||C>b&&M,J=!1;const K=Array.isArray(O)?O:[O];let G=K.reduce(a,{});B===!1&&(G={});const{prevResolvedValues:re={}}=T,ae={...re,...G},X=ne=>{U=!0,p.has(ne)&&(J=!0,p.delete(ne)),T.needsAnimating[ne]=!0};for(const ne in ae){const de=G[ne],le=re[ne];if(N.hasOwnProperty(ne))continue;let xe=!1;gA(de)&&gA(le)?xe=!fie(de,le):xe=de!==le,xe?de!==void 0?X(ne):p.add(ne):de!==void 0&&p.has(ne)?X(ne):T.protectedKeys[ne]=!0}T.prevProp=O,T.prevResolvedValues=G,T.isActive&&(N={...N,...G}),n&&e.blockInitialAnimation&&(U=!1),U&&(!L||J)&&g.push(...K.map(ne=>({animation:ne,options:{type:j,...c}})))}if(p.size){const C={};p.forEach(j=>{const T=e.getBaseTarget(j);T!==void 0&&(C[j]=T)}),g.push({animation:C})}let S=!!g.length;return n&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(S=!1),n=!1,S?t(g):Promise.resolve()}function l(c,u,f){var h;if(r[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(p=>{var N;return(N=p.animationState)===null||N===void 0?void 0:N.setActive(c,u)}),r[c].isActive=u;const g=o(f,c);for(const p in r)r[p].protectedKeys={};return g}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r}}function _6e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!fie(t,e):!1}function bg(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N6e(){return{animate:bg(!0),whileInView:bg(),whileHover:bg(),whileTap:bg(),whileDrag:bg(),whileFocus:bg(),exit:bg()}}class S6e extends U1{constructor(t){super(t),t.animationState||(t.animationState=w6e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),l6(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let C6e=0;class A6e extends U1{constructor(){super(...arguments),this.id=C6e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const E6e={animation:{Feature:S6e},exit:{Feature:A6e}},JV=(e,t)=>Math.abs(e-t);function j6e(e,t){const r=JV(e.x,t.x),n=JV(e.y,t.y);return Math.sqrt(r**2+n**2)}class Hie{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Mk(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,p=j6e(h.offset,{x:0,y:0})>=3;if(!g&&!p)return;const{point:N}=h,{timestamp:b}=Gl;this.history.push({...N,timestamp:b});const{onStart:S,onMove:C}=this.handlers;g||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,h)},this.handlePointerMove=(h,g)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Rk(g,this.transformPagePoint),us.update(this.updatePoint,!0)},this.handlePointerUp=(h,g)=>{this.end();const{onEnd:p,onSessionEnd:N,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Mk(h.type==="pointercancel"?this.lastMoveEventInfo:Rk(g,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,S),N&&N(h,S)},!oie(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=d6(t),l=Rk(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Gl;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=r;f&&f(t,Mk(l,this.history)),this.removeListeners=l1(Tm(this.contextWindow,"pointermove",this.handlePointerMove),Tm(this.contextWindow,"pointerup",this.handlePointerUp),Tm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Uh(this.updatePoint)}}function Rk(e,t){return t?{point:t(e.point)}:e}function QV(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Mk({point:e},t){return{point:e,delta:QV(e,qie(t)),offset:QV(e,T6e(t)),velocity:k6e(t,.1)}}function T6e(e){return e[0]}function qie(e){return e[e.length-1]}function k6e(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=qie(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>c1(t)));)r--;if(!n)return{x:0,y:0};const i=k0(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function lf(e){return e.max-e.min}function KI(e,t=0,r=.01){return Math.abs(e-t)<=r}function eW(e,t,r,n=.5){e.origin=n,e.originPoint=Ao(t.min,t.max,e.origin),e.scale=lf(r)/lf(t),(KI(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ao(r.min,r.max,e.origin)-e.originPoint,(KI(e.translate)||isNaN(e.translate))&&(e.translate=0)}function C_(e,t,r,n){eW(e.x,t.x,r.x,n?n.originX:void 0),eW(e.y,t.y,r.y,n?n.originY:void 0)}function tW(e,t,r){e.min=r.min+t.min,e.max=e.min+lf(t)}function P6e(e,t,r){tW(e.x,t.x,r.x),tW(e.y,t.y,r.y)}function rW(e,t,r){e.min=t.min-r.min,e.max=e.min+lf(t)}function A_(e,t,r){rW(e.x,t.x,r.x),rW(e.y,t.y,r.y)}function O6e(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ao(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ao(r,e,n.max):Math.min(e,r)),e}function nW(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function I6e(e,{top:t,left:r,bottom:n,right:a}){return{x:nW(e.x,r,a),y:nW(e.y,t,n)}}function aW(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function F6e(e,t){return{x:aW(e.x,t.x),y:aW(e.y,t.y)}}function D6e(e,t){let r=.5;const n=lf(e),a=lf(t);return a>n?r=vy(t.min,t.max-n,e.min):n>a&&(r=vy(e.min,e.max-a,t.min)),j1(0,1,r)}function R6e(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const YI=.35;function M6e(e=YI){return e===!1?e=0:e===!0&&(e=YI),{x:iW(e,"left","right"),y:iW(e,"top","bottom")}}function iW(e,t,r){return{min:sW(e,t),max:sW(e,r)}}function sW(e,t){return typeof e=="number"?e:e[t]||0}const oW=()=>({translate:0,scale:1,origin:0,originPoint:0}),b2=()=>({x:oW(),y:oW()}),lW=()=>({min:0,max:0}),Al=()=>({x:lW(),y:lW()});function kf(e){return[e("x"),e("y")]}function Gie({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function L6e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function B6e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Lk(e){return e===void 0||e===1}function XI({scale:e,scaleX:t,scaleY:r}){return!Lk(e)||!Lk(t)||!Lk(r)}function Ag(e){return XI(e)||Kie(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Kie(e){return cW(e.x)||cW(e.y)}function cW(e){return e&&e!=="0%"}function bA(e,t,r){const n=e-r,a=t*n;return r+a}function uW(e,t,r,n,a){return a!==void 0&&(e=bA(e,a,n)),bA(e,r,n)+t}function ZI(e,t=0,r=1,n,a){e.min=uW(e.min,t,r,n,a),e.max=uW(e.max,t,r,n,a)}function Yie(e,{x:t,y:r}){ZI(e.x,t.translate,t.scale,t.originPoint),ZI(e.y,r.translate,r.scale,r.originPoint)}function U6e(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&w2(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Yie(e,o)),n&&Ag(i.latestValues)&&w2(e,i.latestValues))}t.x=dW(t.x),t.y=dW(t.y)}function dW(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ip(e,t){e.min=e.min+t,e.max=e.max+t}function fW(e,t,[r,n,a]){const i=t[a]!==void 0?t[a]:.5,o=Ao(e.min,e.max,i);ZI(e,t[r],t[n],o,t.scale)}const $6e=["x","scaleX","originX"],z6e=["y","scaleY","originY"];function w2(e,t){fW(e.x,t,$6e),fW(e.y,t,z6e)}function Xie(e,t){return Gie(B6e(e.getBoundingClientRect(),t))}function V6e(e,t,r){const n=Xie(e,r),{scroll:a}=t;return a&&(Ip(n.x,a.offset.x),Ip(n.y,a.offset.y)),n}const Zie=({current:e})=>e?e.ownerDocument.defaultView:null,W6e=new WeakMap;class H6e{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Al(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(d6(f,"page").point)},i=(f,h)=>{const{drag:g,dragPropagation:p,onDragStart:N}=this.getProps();if(g&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=cie(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kf(S=>{let C=this.getAxisMotionValue(S).get()||0;if(T0.test(C)){const{projection:j}=this.visualElement;if(j&&j.layout){const T=j.layout.layoutBox[S];T&&(C=lf(T)*(parseFloat(C)/100))}}this.originPoint[S]=C}),N&&us.update(()=>N(f,h),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:g,dragDirectionLock:p,onDirectionLock:N,onDrag:b}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:S}=h;if(p&&this.currentDirection===null){this.currentDirection=q6e(S),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),b&&b(f,h)},l=(f,h)=>this.stop(f,h),c=()=>kf(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Hie(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Zie(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&us.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!eS(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=O6e(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&v2(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=I6e(a.layoutBox,r):this.constraints=!1,this.elastic=M6e(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&kf(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=R6e(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!v2(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=V6e(n,a.root,this.visualElement.getTransformPagePoint());let o=F6e(a.layout.layoutBox,i);if(r){const l=r(L6e(o));this.hasMutatedConstraints=!!l,l&&(o=Gie(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=kf(f=>{if(!eS(f,r,this.currentDirection))return;let h=c&&c[f]||{};o&&(h={min:0,max:0});const g=a?200:1e6,p=a?40:1e7,N={type:"inertia",velocity:n?t[f]:0,bounceStiffness:g,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(f,N)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(KM(t,n,0,r))}stopAnimation(){kf(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){kf(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){kf(r=>{const{drag:n}=this.getProps();if(!eS(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-Ao(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!v2(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};kf(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();a[o]=D6e({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),kf(o=>{if(!eS(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ao(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;W6e.set(this.visualElement,this);const t=this.visualElement.current,r=Tm(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();v2(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const o=_m(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(kf(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=c[f].translate,h.set(h.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=YI,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function eS(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function q6e(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class G6e extends U1{constructor(t){super(t),this.removeGroupControls=Go,this.removeListeners=Go,this.controls=new H6e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Go}unmount(){this.removeGroupControls(),this.removeListeners()}}const hW=e=>(t,r)=>{e&&us.update(()=>e(t,r))};class K6e extends U1{constructor(){super(...arguments),this.removePointerDownListener=Go}onPointerDown(t){this.session=new Hie(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zie(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:hW(t),onStart:hW(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&us.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=Tm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Y6e(){const e=A.useContext(s6);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,a=A.useId();return A.useEffect(()=>n(a),[]),!t&&r?[!1,()=>r&&r(a)]:[!0]}const uC={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mW(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const kw={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ea.test(e))e=parseFloat(e);else return e;const r=mW(e,t.target.x),n=mW(e,t.target.y);return`${r}% ${n}%`}},X6e={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=T1.parse(e);if(a.length>5)return n;const i=T1.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=Ao(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class Z6e extends Ve.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;oEe(J6e),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),uC.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||us.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Jie(e){const[t,r]=Y6e(),n=A.useContext(FM);return Ve.createElement(Z6e,{...e,layoutGroup:n,switchLayoutGroup:A.useContext(Gae),isPresent:t,safeToRemove:r})}const J6e={borderRadius:{...kw,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kw,borderTopRightRadius:kw,borderBottomLeftRadius:kw,borderBottomRightRadius:kw,boxShadow:X6e},Qie=["TopLeft","TopRight","BottomLeft","BottomRight"],Q6e=Qie.length,pW=e=>typeof e=="string"?parseFloat(e):e,gW=e=>typeof e=="number"||Ea.test(e);function eTe(e,t,r,n,a,i){a?(e.opacity=Ao(0,r.opacity!==void 0?r.opacity:1,tTe(n)),e.opacityExit=Ao(t.opacity!==void 0?t.opacity:1,0,rTe(n))):i&&(e.opacity=Ao(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Q6e;o++){const l=`border${Qie[o]}Radius`;let c=xW(t,l),u=xW(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||gW(c)===gW(u)?(e[l]=Math.max(Ao(pW(c),pW(u),n),0),(T0.test(u)||T0.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Ao(t.rotate||0,r.rotate||0,n))}function xW(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tTe=ese(0,.5,_ie),rTe=ese(.5,.95,Go);function ese(e,t,r){return n=>n<e?0:n>t?1:r(vy(e,t,n))}function vW(e,t){e.min=t.min,e.max=t.max}function Cf(e,t){vW(e.x,t.x),vW(e.y,t.y)}function yW(e,t,r,n,a){return e-=t,e=bA(e,1/r,n),a!==void 0&&(e=bA(e,1/a,n)),e}function nTe(e,t=0,r=1,n=.5,a,i=e,o=e){if(T0.test(t)&&(t=parseFloat(t),t=Ao(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ao(i.min,i.max,n);e===i&&(l-=t),e.min=yW(e.min,t,r,l,a),e.max=yW(e.max,t,r,l,a)}function bW(e,t,[r,n,a],i,o){nTe(e,t[r],t[n],t[a],t.scale,i,o)}const aTe=["x","scaleX","originX"],iTe=["y","scaleY","originY"];function wW(e,t,r,n){bW(e.x,t,aTe,r?r.x:void 0,n?n.x:void 0),bW(e.y,t,iTe,r?r.y:void 0,n?n.y:void 0)}function _W(e){return e.translate===0&&e.scale===1}function tse(e){return _W(e.x)&&_W(e.y)}function sTe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function rse(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function NW(e){return lf(e.x)/lf(e.y)}class oTe{constructor(){this.members=[]}add(t){YM(this.members,t),t.scheduleRender()}remove(t){if(XM(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SW(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(n=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:f}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),f&&(n+=`rotateY(${f}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const lTe=(e,t)=>e.depth-t.depth;class cTe{constructor(){this.children=[],this.isDirty=!1}add(t){YM(this.children,t),this.isDirty=!0}remove(t){XM(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lTe),this.isDirty=!1,this.children.forEach(t)}}function uTe(e,t){const r=performance.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Uh(n),e(i-t))};return us.read(n,!0),()=>Uh(n)}function dTe(e){window.MotionDebug&&window.MotionDebug.record(e)}function fTe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function hTe(e,t,r){const n=Nu(e)?e:jh(e);return n.start(KM("",n,t,r)),n.animation}const CW=["","X","Y","Z"],mTe={visibility:"hidden"},AW=1e3;let pTe=0;const Eg={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function nse({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=pTe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Eg.totalNodes=Eg.resolvedTargetDeltas=Eg.recalculatedProjection=0,this.nodes.forEach(vTe),this.nodes.forEach(NTe),this.nodes.forEach(STe),this.nodes.forEach(yTe),dTe(Eg)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new cTe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ZM),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=fTe(o),this.instance=o;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=uTe(g,250),uC.hasAnimatedSinceResize&&(uC.hasAnimatedSinceResize=!1,this.nodes.forEach(jW))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeTargetChanged:p,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||TTe,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=f.getProps(),j=!this.targetLayout||!rse(this.targetLayout,N)||p,T=!g&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||g&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const O={...GM(b,"layout"),onPlay:S,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else g||jW(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Uh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CTe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(EW);return}this.isUpdating||this.nodes.forEach(wTe),this.isUpdating=!1,this.nodes.forEach(_Te),this.nodes.forEach(gTe),this.nodes.forEach(xTe),this.clearAllSnapshots();const l=performance.now();Gl.delta=j1(0,1e3/60,l-Gl.timestamp),Gl.timestamp=l,Gl.isProcessing=!0,jk.update.process(Gl),jk.preRender.process(Gl),jk.render.process(Gl),Gl.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(bTe),this.sharedNodes.forEach(ATe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,us.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){us.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Al(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!tse(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(l||Ag(this.latestValues)||f)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),kTe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Al();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Ip(l.x,c.offset.x),Ip(l.y,c.offset.y)),l}removeElementScroll(o){const l=Al();Cf(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;if(u!==this.root&&f&&h.layoutScroll){if(f.isRoot){Cf(l,o);const{scroll:g}=this.root;g&&(Ip(l.x,-g.offset.x),Ip(l.y,-g.offset.y))}Ip(l.x,f.offset.x),Ip(l.y,f.offset.y)}}return l}applyTransform(o,l=!1){const c=Al();Cf(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&w2(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ag(f.latestValues)&&w2(c,f.latestValues)}return Ag(this.latestValues)&&w2(c,this.latestValues),c}removeTransform(o){const l=Al();Cf(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ag(u.latestValues))continue;XI(u.latestValues)&&u.updateSnapshot();const f=Al(),h=u.measurePageBox();Cf(f,h),wW(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Ag(this.latestValues)&&wW(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gl.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=Gl.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Al(),this.relativeTargetOrigin=Al(),A_(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Cf(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Al(),this.targetWithTransforms=Al()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),P6e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cf(this.target,this.layout.layoutBox),Yie(this.target,this.targetDelta)):Cf(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Al(),this.relativeTargetOrigin=Al(),A_(this.relativeTargetOrigin,this.target,p.target),Cf(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Eg.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||XI(this.parent.latestValues)||Kie(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Gl.timestamp&&(u=!1),u)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;Cf(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,p=this.treeScale.y;U6e(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:N}=l;if(!N){this.projectionTransform&&(this.projectionDelta=b2(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=b2(),this.projectionDeltaWithTransform=b2());const b=this.projectionTransform;C_(this.projectionDelta,this.layoutCorrected,N,this.latestValues),this.projectionTransform=SW(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==g||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N)),Eg.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},h=b2();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Al(),p=c?c.source:void 0,N=this.layout?this.layout.source:void 0,b=p!==N,S=this.getStack(),C=!S||S.members.length<=1,j=!!(b&&!C&&this.options.crossfade===!0&&!this.path.some(jTe));this.animationProgress=0;let T;this.mixTargetDelta=O=>{const M=O/1e3;TW(h.x,o.x,M),TW(h.y,o.y,M),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(A_(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ETe(this.relativeTarget,this.relativeTargetOrigin,g,M),T&&sTe(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Al()),Cf(T,this.relativeTarget)),b&&(this.animationValues=f,eTe(f,u,this.latestValues,M,j,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Uh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=us.update(()=>{uC.hasAnimatedSinceResize=!0,this.currentAnimation=hTe(0,AW,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(AW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&ase(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Al();const h=lf(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const g=lf(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}Cf(l,c),w2(l,f),C_(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new oTe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let f=0;f<CW.length;f++){const h="rotate"+CW[f];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const f in u)o.setStaticValue(f,u[f]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return mTe;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=cC(o==null?void 0:o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=cC(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ag(this.latestValues)&&(b.transform=f?f({},""):"none",this.hasProjected=!1),b}const g=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=SW(this.projectionDeltaWithTransform,this.treeScale,g),f&&(u.transform=f(g,u.transform));const{x:p,y:N}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${N.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in mA){if(g[b]===void 0)continue;const{correct:S,applyTo:C}=mA[b],j=u.transform==="none"?g[b]:S(g[b],h);if(C){const T=C.length;for(let O=0;O<T;O++)u[C[O]]=j}else u[b]=j}return this.options.layoutId&&(u.pointerEvents=h===this?cC(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(EW),this.root.sharedNodes.clear()}}}function gTe(e){e.updateLayout()}function xTe(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?kf(h=>{const g=o?r.measuredBox[h]:r.layoutBox[h],p=lf(g);g.min=n[h].min,g.max=g.min+p}):ase(i,r.layoutBox,n)&&kf(h=>{const g=o?r.measuredBox[h]:r.layoutBox[h],p=lf(n[h]);g.max=g.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=b2();C_(l,n,r.layoutBox);const c=b2();o?C_(c,e.applyTransform(a,!0),r.measuredBox):C_(c,n,r.layoutBox);const u=!tse(l);let f=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:p}=h;if(g&&p){const N=Al();A_(N,r.layoutBox,g.layoutBox);const b=Al();A_(b,n,p.layoutBox),rse(N,b)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=N,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function vTe(e){Eg.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function yTe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function bTe(e){e.clearSnapshot()}function EW(e){e.clearMeasurements()}function wTe(e){e.isLayoutDirty=!1}function _Te(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function jW(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function NTe(e){e.resolveTargetDelta()}function STe(e){e.calcProjection()}function CTe(e){e.resetRotation()}function ATe(e){e.removeLeadSnapshot()}function TW(e,t,r){e.translate=Ao(t.translate,0,r),e.scale=Ao(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function kW(e,t,r,n){e.min=Ao(t.min,r.min,n),e.max=Ao(t.max,r.max,n)}function ETe(e,t,r,n){kW(e.x,t.x,r.x,n),kW(e.y,t.y,r.y,n)}function jTe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const TTe={duration:.45,ease:[.4,0,.1,1]},PW=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),OW=PW("applewebkit/")&&!PW("chrome/")?Math.round:Go;function IW(e){e.min=OW(e.min),e.max=OW(e.max)}function kTe(e){IW(e.x),IW(e.y)}function ase(e,t,r){return e==="position"||e==="preserve-aspect"&&!KI(NW(t),NW(r),.2)}const PTe=nse({attachResizeListener:(e,t)=>_m(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bk={current:void 0},ise=nse({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Bk.current){const e=new PTe({});e.mount(window),e.setOptions({layoutScroll:!0}),Bk.current=e}return Bk.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),OTe={pan:{Feature:K6e},drag:{Feature:G6e,ProjectionNode:ise,MeasureLayout:Jie}},ITe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function FTe(e){const t=ITe.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function JI(e,t,r=1){const[n,a]=FTe(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return Uie(o)?parseFloat(o):o}else return UI(a)?JI(a,t,r+1):a}function DTe(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(a=>{const i=a.get();if(!UI(i))return;const o=JI(i,n);o&&a.set(o)});for(const a in t){const i=t[a];if(!UI(i))continue;const o=JI(i,n);o&&(t[a]=o,r||(r={}),r[a]===void 0&&(r[a]=i))}return{target:t,transitionEnd:r}}const RTe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),sse=e=>RTe.has(e),MTe=e=>Object.keys(e).some(sse),FW=e=>e===Zx||e===Ea,DW=(e,t)=>parseFloat(e.split(", ")[t]),RW=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return DW(a[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?DW(i[1],e):0}},LTe=new Set(["x","y","z"]),BTe=e3.filter(e=>!LTe.has(e));function UTe(e){const t=[];return BTe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const yy={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:RW(4,13),y:RW(5,14)};yy.translateX=yy.x;yy.translateY=yy.y;const $Te=(e,t,r)=>{const n=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=yy[u](n,i)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const f=t.getValue(u);f&&f.jump(l[u]),e[u]=yy[u](c,i)}),e},zTe=(e,t,r={},n={})=>{t={...t},n={...n};const a=Object.keys(t).filter(sse);let i=[],o=!1;const l=[];if(a.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let f=r[c],h=Tw(f);const g=t[c];let p;if(gA(g)){const N=g.length,b=g[0]===null?1:0;f=g[b],h=Tw(f);for(let S=b;S<N&&g[S]!==null;S++)p?h6(Tw(g[S])===p):p=Tw(g[S])}else p=Tw(g);if(h!==p)if(FW(h)&&FW(p)){const N=u.get();typeof N=="string"&&u.set(parseFloat(N)),typeof g=="string"?t[c]=parseFloat(g):Array.isArray(g)&&p===Ea&&(t[c]=g.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(f===0||g===0)?f===0?u.set(p.transform(f)):t[c]=h.transform(g):(o||(i=UTe(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(g))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=$Te(t,e,l);return i.length&&i.forEach(([f,h])=>{e.getValue(f).set(h)}),e.render(),o6&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function VTe(e,t,r,n){return MTe(t)?zTe(e,t,r,n):{target:t,transitionEnd:n}}const WTe=(e,t,r,n)=>{const a=DTe(e,t,n);return t=a.target,n=a.transitionEnd,VTe(e,t,r,n)},QI={current:null},ose={current:!1};function HTe(){if(ose.current=!0,!!o6)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>QI.current=e.matches;e.addListener(t),t()}else QI.current=!1}function qTe(e,t,r){const{willChange:n}=t;for(const a in t){const i=t[a],o=r[a];if(Nu(i))e.addValue(a,i),yA(n)&&n.add(a);else if(Nu(o))e.addValue(a,jh(i,{owner:e})),yA(n)&&n.remove(a);else if(o!==i)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(a);e.addValue(a,jh(l!==void 0?l:i,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const MW=new WeakMap,lse=Object.keys(_4),GTe=lse.length,LW=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],KTe=IM.length;class YTe{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>us.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=c6(r),this.isVariantNode=qae(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{});for(const h in f){const g=f[h];l[h]!==void 0&&Nu(g)&&(g.set(l[h],!1),yA(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,MW.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),ose.current||HTe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:QI.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){MW.delete(this.current),this.projection&&this.projection.unmount(),Uh(this.notifyUpdate),Uh(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Xx.has(t),a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&us.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,a,i){let o,l;for(let c=0;c<GTe;c++){const u=lse[c],{isEnabled:f,Feature:h,ProjectionNode:g,MeasureLayout:p}=_4[u];g&&(o=g),f(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:f,dragConstraints:h,layoutScroll:g,layoutRoot:p}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!f||h&&v2(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:g,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Al()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<LW.length;n++){const a=LW[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=qTe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<KTe;n++){const a=IM[n],i=this.props[a];(w4(i)||i===!1)&&(r[a]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=jh(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(r=$M(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Nu(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new ZM),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class cse extends YTe{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:a},i){let o=h6e(n,t||{},this);if(a&&(r&&(r=a(r)),n&&(n=a(n)),o&&(o=a(o))),i){d6e(this,n,o);const l=WTe(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function XTe(e){return window.getComputedStyle(e)}class ZTe extends cse{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Xx.has(r)){const n=qM(r);return n&&n.default||0}else{const n=XTe(t),a=(Xae(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Xie(t,r)}build(t,r,n,a){RM(t,r,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,r){return UM(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Nu(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,a){rie(t,r,n,a)}}class JTe extends cse{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Xx.has(r)){const n=qM(r);return n&&n.default||0}return r=nie.has(r)?r:PM(r),t.getAttribute(r)}measureInstanceViewportBox(){return Al()}scrapeMotionValuesFromProps(t,r){return iie(t,r)}build(t,r,n,a){LM(t,r,n,this.isSVGTag,a.transformTemplate)}renderInstance(t,r,n,a){aie(t,r,n,a)}mount(t){this.isSVGTag=BM(t.tagName),super.mount(t)}}const QTe=(e,t)=>DM(e)?new JTe(t,{enableHardwareAcceleration:!1}):new ZTe(t,{enableHardwareAcceleration:!0}),e8e={layout:{ProjectionNode:ise,MeasureLayout:Jie}},t8e={...E6e,...XEe,...OTe,...e8e},Zt=iEe((e,t)=>MEe(e,t,t8e,QTe));function use(){const e=A.useRef(!1);return Yx(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function r8e(){const e=use(),[t,r]=A.useState(0),n=A.useCallback(()=>{e.current&&r(t+1)},[t]);return[A.useCallback(()=>us.postRender(n),[n]),t]}class n8e extends A.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function a8e({children:e,isPresent:t}){const r=A.useId(),n=A.useRef(null),a=A.useRef({width:0,height:0,top:0,left:0});return A.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=a.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),A.createElement(n8e,{isPresent:t,childRef:n,sizeRef:a},A.cloneElement(e,{ref:n}))}const Uk=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=yb(i8e),c=A.useId(),u=A.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:f=>{l.set(f,!0);for(const h of l.values())if(!h)return;n&&n()},register:f=>(l.set(f,!1),()=>l.delete(f))}),i?void 0:[r]);return A.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[r]),A.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=A.createElement(a8e,{isPresent:r},e)),A.createElement(s6.Provider,{value:u},e)};function i8e(){return new Map}function s8e(e){return A.useEffect(()=>()=>e(),[])}const jg=e=>e.key||"";function o8e(e,t){e.forEach(r=>{const n=jg(r);t.set(n,r)})}function l8e(e){const t=[];return A.Children.forEach(e,r=>{A.isValidElement(r)&&t.push(r)}),t}const Su=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=A.useContext(FM).forceRender||r8e()[0],c=use(),u=l8e(e);let f=u;const h=A.useRef(new Map).current,g=A.useRef(f),p=A.useRef(new Map).current,N=A.useRef(!0);if(Yx(()=>{N.current=!1,o8e(u,p),g.current=f}),s8e(()=>{N.current=!0,p.clear(),h.clear()}),N.current)return A.createElement(A.Fragment,null,f.map(j=>A.createElement(Uk,{key:jg(j),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},j)));f=[...f];const b=g.current.map(jg),S=u.map(jg),C=b.length;for(let j=0;j<C;j++){const T=b[j];S.indexOf(T)===-1&&!h.has(T)&&h.set(T,void 0)}return o==="wait"&&h.size&&(f=[]),h.forEach((j,T)=>{if(S.indexOf(T)!==-1)return;const O=p.get(T);if(!O)return;const M=b.indexOf(T);let B=j;if(!B){const L=()=>{h.delete(T);const H=Array.from(p.keys()).filter(U=>!S.includes(U));if(H.forEach(U=>p.delete(U)),g.current=u.filter(U=>{const J=jg(U);return J===T||H.includes(J)}),!h.size){if(c.current===!1)return;l(),n&&n()}};B=A.createElement(Uk,{key:jg(O),isPresent:!1,onExitComplete:L,custom:t,presenceAffectsLayout:i,mode:o},O),h.set(T,B)}f.splice(M,0,B)}),f=f.map(j=>{const T=j.key;return h.has(T)?j:A.createElement(Uk,{key:jg(j),isPresent:!0,presenceAffectsLayout:i,mode:o},j)}),A.createElement(A.Fragment,null,h.size?f:f.map(j=>A.cloneElement(j)))};function QM(e){const t=yb(()=>jh(e)),{isStatic:r}=A.useContext(a6);if(r){const[,n]=A.useState(e);A.useEffect(()=>t.on("change",n),[])}return t}const c8e=e=>e&&typeof e=="object"&&e.mix,u8e=e=>c8e(e)?e.mix:void 0;function d8e(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],o=e[3+r],l=m6(a,i,{mixer:u8e(i[0]),...o});return t?l(n):l}function dse(e,t){const r=QM(t()),n=()=>r.set(t());return n(),Yx(()=>{const a=()=>us.update(n,!1,!0),i=e.map(o=>o.on("change",a));return()=>{i.forEach(o=>o()),Uh(n)}}),r}function f8e(e){S_.current=[],e();const t=dse(S_.current,e);return S_.current=void 0,t}function h8e(e,t,r,n){if(typeof e=="function")return f8e(e);const a=typeof t=="function"?t:d8e(t,r,n);return Array.isArray(e)?BW(e,a):BW([e],([i])=>a(i))}function BW(e,t){const r=yb(()=>[]);return dse(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function m8e(e,t={}){const{isStatic:r}=A.useContext(a6),n=A.useRef(null),a=QM(Nu(e)?e.get():e),i=()=>{n.current&&n.current.stop()};return A.useInsertionEffect(()=>a.attach((o,l)=>{if(r)return l(o);if(i(),n.current=N4({keyframes:[a.get(),o],velocity:a.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:l}),!Gl.isProcessing){const c=performance.now()-Gl.timestamp;c<30&&(n.current.time=k0(c))}return a.get()},i),[JSON.stringify(t)]),Yx(()=>{if(Nu(e))return e.on("change",o=>a.set(parseFloat(o)))},[a]),a}function p8e(e,t,r){var n;if(typeof e=="string"){let a=document;t&&(h6(!!t.current),a=t.current),r?((n=r[e])!==null&&n!==void 0||(r[e]=a.querySelectorAll(e)),e=r[e]):e=a.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}const dC=new WeakMap;let Tp;function g8e(e,t){if(t){const{inlineSize:r,blockSize:n}=t[0];return{width:r,height:n}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function x8e({target:e,contentRect:t,borderBoxSize:r}){var n;(n=dC.get(e))===null||n===void 0||n.forEach(a=>{a({target:e,contentSize:t,get size(){return g8e(e,r)}})})}function v8e(e){e.forEach(x8e)}function y8e(){typeof ResizeObserver>"u"||(Tp=new ResizeObserver(v8e))}function b8e(e,t){Tp||y8e();const r=p8e(e);return r.forEach(n=>{let a=dC.get(n);a||(a=new Set,dC.set(n,a)),a.add(t),Tp==null||Tp.observe(n)}),()=>{r.forEach(n=>{const a=dC.get(n);a==null||a.delete(t),a!=null&&a.size||Tp==null||Tp.unobserve(n)})}}const fC=new Set;let E_;function w8e(){E_=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};fC.forEach(r=>r(t))},window.addEventListener("resize",E_)}function _8e(e){return fC.add(e),E_||w8e(),()=>{fC.delete(e),!fC.size&&E_&&(E_=void 0)}}function N8e(e,t){return typeof e=="function"?_8e(e):b8e(e,t)}const S8e=50,UW=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),C8e=()=>({time:0,x:UW(),y:UW()}),A8e={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function $W(e,t,r,n){const a=r[t],{length:i,position:o}=A8e[t],l=a.current,c=r.time;a.current=e["scroll"+o],a.scrollLength=e["scroll"+i]-e["client"+i],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=vy(0,a.scrollLength,a.current);const u=n-c;a.velocity=u>S8e?0:HM(a.current-l,u)}function E8e(e,t,r){$W(e,"x",t,r),$W(e,"y",t,r),t.time=r}function j8e(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(n instanceof HTMLElement)r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const a=n.getBoundingClientRect();n=n.parentElement;const i=n.getBoundingClientRect();r.x+=a.left-i.left,r.y+=a.top-i.top}else if(n instanceof SVGGraphicsElement){const{x:a,y:i}=n.getBBox();r.x+=a,r.y+=i;let o=null,l=n.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=n.parentNode;n=o}else break;return r}const T8e={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},eF={start:0,center:.5,end:1};function zW(e,t,r=0){let n=0;if(eF[e]!==void 0&&(e=eF[e]),typeof e=="string"){const a=parseFloat(e);e.endsWith("px")?n=a:e.endsWith("%")?e=a/100:e.endsWith("vw")?n=a/100*document.documentElement.clientWidth:e.endsWith("vh")?n=a/100*document.documentElement.clientHeight:e=a}return typeof e=="number"&&(n=t*e),r+n}const k8e=[0,0];function P8e(e,t,r,n){let a=Array.isArray(e)?e:k8e,i=0,o=0;return typeof e=="number"?a=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?a=e.split(" "):a=[e,eF[e]?e:"0"]),i=zW(a[0],r,n),o=zW(a[1],t),i-o}const O8e={x:0,y:0};function I8e(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function F8e(e,t,r){let{offset:n=T8e.All}=r;const{target:a=e,axis:i="y"}=r,o=i==="y"?"height":"width",l=a!==e?j8e(a,e):O8e,c=a===e?{width:e.scrollWidth,height:e.scrollHeight}:I8e(a),u={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let f=!t[i].interpolate;const h=n.length;for(let g=0;g<h;g++){const p=P8e(n[g],u[o],c[o],l[i]);!f&&p!==t[i].interpolatorOffsets[g]&&(f=!0),t[i].offset[g]=p}f&&(t[i].interpolate=m6(t[i].offset,Die(n)),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=t[i].interpolate(t[i].current)}function D8e(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function R8e(e,t,r,n={}){return{measure:()=>D8e(e,n.target,r),update:a=>{E8e(e,r,a),(n.offset||n.target)&&F8e(e,r,n)},notify:()=>t(r)}}const Pw=new WeakMap,VW=new WeakMap,$k=new WeakMap,WW=e=>e===document.documentElement?window:e;function M8e(e,{container:t=document.documentElement,...r}={}){let n=$k.get(t);n||(n=new Set,$k.set(t,n));const a=C8e(),i=R8e(t,e,a,r);if(n.add(i),!Pw.has(t)){const l=()=>{for(const g of n)g.measure()},c=()=>{for(const g of n)g.update(Gl.timestamp)},u=()=>{for(const g of n)g.notify()},f=()=>{us.read(l,!1,!0),us.read(c,!1,!0),us.update(u,!1,!0)};Pw.set(t,f);const h=WW(t);window.addEventListener("resize",f,{passive:!0}),t!==document.documentElement&&VW.set(t,N8e(t,f)),h.addEventListener("scroll",f,{passive:!0})}const o=Pw.get(t);return us.read(o,!1,!0),()=>{var l;Uh(o);const c=$k.get(t);if(!c||(c.delete(i),c.size))return;const u=Pw.get(t);Pw.delete(t),u&&(WW(t).removeEventListener("scroll",u),(l=VW.get(t))===null||l===void 0||l(),window.removeEventListener("resize",u))}}function HW(e,t){hie(!!(!t||t.current))}const L8e=()=>({scrollX:jh(0),scrollY:jh(0),scrollXProgress:jh(0),scrollYProgress:jh(0)});function B8e({container:e,target:t,layoutEffect:r=!0,...n}={}){const a=yb(L8e);return(r?Yx:A.useEffect)(()=>(HW("target",t),HW("container",e),M8e(({x:o,y:l})=>{a.scrollX.set(o.current),a.scrollXProgress.set(o.progress),a.scrollY.set(l.current),a.scrollYProgress.set(l.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),a}function U8e(e){e.values.forEach(t=>t.stop())}function $8e(){const e=new Set,t={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,n){const a=[];return e.forEach(i=>{a.push(Wie(i,r,{transitionOverride:n}))}),Promise.all(a)},set(r){return e.forEach(n=>{u6e(n,r)})},stop(){e.forEach(r=>{U8e(r)})},mount(){return()=>{t.stop()}}};return t}function z8e(){const e=yb($8e);return Yx(e.mount,[]),e}const V8e=z8e;function W8e(e){const t=H8e(e),r=A.forwardRef((n,a)=>{const{children:i,...o}=n,l=A.Children.toArray(i),c=l.find(G8e);if(c){const u=c.props.children,f=l.map(h=>h===c?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:a,children:A.isValidElement(u)?A.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function H8e(e){const t=A.forwardRef((r,n)=>{const{children:a,...i}=r;if(A.isValidElement(a)){const o=Y8e(a),l=K8e(i,a.props);return a.type!==A.Fragment&&(l.ref=n?z0(n,o):o),A.cloneElement(a,l)}return A.Children.count(a)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var q8e=Symbol("radix.slottable");function G8e(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===q8e}function K8e(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Y8e(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var p6="Popover",[fse,h5t]=Nc(p6,[B1]),a3=B1(),[X8e,$1]=fse(p6),hse=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=a3(t),c=A.useRef(null),[u,f]=A.useState(!1),[h,g]=_c({prop:n,defaultProp:a??!1,onChange:i,caller:p6});return s.jsx(Kj,{...l,children:s.jsx(X8e,{scope:t,contentId:_d(),triggerRef:c,open:h,onOpenChange:g,onOpenToggle:A.useCallback(()=>g(p=>!p),[g]),hasCustomAnchor:u,onCustomAnchorAdd:A.useCallback(()=>f(!0),[]),onCustomAnchorRemove:A.useCallback(()=>f(!1),[]),modal:o,children:r})})};hse.displayName=p6;var mse="PopoverAnchor",Z8e=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$1(mse,r),i=a3(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return A.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(z5,{...i,...n,ref:t})});Z8e.displayName=mse;var pse="PopoverTrigger",gse=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$1(pse,r),i=a3(r),o=Ra(t,a.triggerRef),l=s.jsx(Dn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":wse(a.open),...n,ref:o,onClick:Rr(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(z5,{asChild:!0,...i,children:l})});gse.displayName=pse;var eL="PopoverPortal",[J8e,Q8e]=fse(eL,{forceMount:void 0}),xse=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=$1(eL,t);return s.jsx(J8e,{scope:t,forceMount:r,children:s.jsx(td,{present:r||i.open,children:s.jsx(db,{asChild:!0,container:a,children:n})})})};xse.displayName=eL;var by="PopoverContent",vse=A.forwardRef((e,t)=>{const r=Q8e(by,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=$1(by,e.__scopePopover);return s.jsx(td,{present:n||i.open,children:i.modal?s.jsx(tke,{...a,ref:t}):s.jsx(rke,{...a,ref:t})})});vse.displayName=by;var eke=W8e("PopoverContent.RemoveScroll"),tke=A.forwardRef((e,t)=>{const r=$1(by,e.__scopePopover),n=A.useRef(null),a=Ra(t,n),i=A.useRef(!1);return A.useEffect(()=>{const o=n.current;if(o)return Zj(o)},[]),s.jsx(Qj,{as:eke,allowPinchZoom:!0,children:s.jsx(yse,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Rr(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Rr(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Rr(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),rke=A.forwardRef((e,t)=>{const r=$1(by,e.__scopePopover),n=A.useRef(!1),a=A.useRef(!1);return s.jsx(yse,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),yse=A.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...h}=e,g=$1(by,r),p=a3(r);return zj(),s.jsx(U5,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Vx,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:s.jsx(Yj,{"data-state":wse(g.open),role:"dialog",id:g.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bse="PopoverClose",nke=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$1(bse,r);return s.jsx(Dn.button,{type:"button",...n,ref:t,onClick:Rr(e.onClick,()=>a.onOpenChange(!1))})});nke.displayName=bse;var ake="PopoverArrow",ike=A.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=a3(r);return s.jsx(Xj,{...a,...n,ref:t})});ike.displayName=ake;function wse(e){return e?"open":"closed"}var ske=hse,oke=gse,lke=xse,_se=vse;const Nse=ske,Sse=oke,tL=A.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(lke,{children:s.jsx(_se,{ref:a,align:t,sideOffset:r,className:kr("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));tL.displayName=_se.displayName;const cke=Wx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-500 text-white",warning:"border-transparent bg-yellow-400 text-black"}},defaultVariants:{variant:"default"}});function Vr({className:e,variant:t,...r}){return s.jsx("div",{className:kr(cke({variant:t}),e),...r})}const uke=()=>{try{const e=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-positive-notification-951.mp3");e.volume=.5,e.play().catch(t=>console.log("Audio play blocked (user interaction required):",t))}catch(e){console.error("Error playing sound:",e)}},dke=({type:e})=>{const t={new_event:s.jsx(oo,{className:"w-4 h-4 text-blue-500"}),promotion:s.jsx($7,{className:"w-4 h-4 text-purple-500"}),system:s.jsx(fb,{className:"w-4 h-4 text-gray-500"}),earning:s.jsx(za,{className:"w-4 h-4 text-yellow-500"}),success:s.jsx(jl,{className:"w-4 h-4 text-green-500"}),error:s.jsx(wu,{className:"w-4 h-4 text-red-500"}),info:s.jsx(of,{className:"w-4 h-4 text-cyan-500"}),ticket:s.jsx(ul,{className:"w-4 h-4 text-orange-500"}),default:s.jsx(E0,{className:"w-4 h-4 text-gray-500"})};return t[e]||t.default},fke=({notification:e,onNavigate:t,onDelete:r})=>s.jsxs(Zt.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:kr("flex items-start gap-3 p-3 rounded-lg transition-colors cursor-pointer group relative",e.is_read?"hover:bg-muted/50 bg-background":"bg-primary/5 hover:bg-primary/10 border-l-2 border-primary"),onClick:()=>t(e),children:[s.jsx("div",{className:"mt-1 flex-shrink-0",children:s.jsx(dke,{type:e.type})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex justify-between items-start mb-0.5",children:s.jsx("p",{className:kr("font-semibold text-sm truncate pr-6",!e.is_read&&"text-primary"),children:e.title})}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 leading-relaxed",children:e.message}),s.jsx("p",{className:"text-[10px] text-muted-foreground/60 mt-1.5 flex items-center gap-1",children:new Date(e.created_at).toLocaleString("fr-FR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})})]}),s.jsx(Ue,{variant:"ghost",size:"icon",className:"h-6 w-6 absolute top-2 right-2 text-muted-foreground/50 opacity-0 group-hover:opacity-100 hover:text-destructive hover:bg-destructive/10 transition-all",onClick:n=>{n.stopPropagation(),r(e.id)},children:s.jsx(kl,{className:"h-3 w-3"})})]}),hke=()=>{const{user:e}=bn(),{notificationCount:t,fetchNotificationCount:r,triggerNotificationAnimation:n,notificationBellAnimation:a}=ai(),[i,o]=A.useState([]),[l,c]=A.useState(!1),[u,f]=A.useState(!1),h=Ia(),g=A.useRef(null);A.useEffect(()=>{g.current=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-positive-notification-951.mp3")},[]),A.useEffect(()=>{if(!e)return;const C=Je.channel("realtime:notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},j=>{if(r(),j.eventType==="INSERT"){const T=j.new;uke(),n(),ot({title:T.title,description:T.message,variant:"info",duration:4e3,onClick:()=>{var O;(O=T.data)!=null&&O.event_id&&h(`/event/${T.data.event_id}`)}}),u&&o(O=>[T,...O])}else j.eventType==="UPDATE"&&u&&o(T=>T.map(O=>O.id===j.new.id?j.new:O))}).subscribe();return()=>{Je.removeChannel(C)}},[e,u,r,n,h]);const p=A.useCallback(async()=>{if(e){c(!0);try{const{data:C,error:j}=await Je.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(20);if(j)throw j;o(C||[])}catch(C){console.error("Error loading notifications",C)}finally{c(!1)}}},[e]);A.useEffect(()=>{u&&p()},[u,p]);const N=async C=>{var j,T;if(o(O=>O.map(M=>M.id===C.id?{...M,is_read:!0}:M)),!C.is_read)try{const{error:O}=await Je.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",C.id);if(O)throw O;r()}catch(O){console.error("Failed to mark notification as read:",O)}(j=C.data)!=null&&j.event_id?h(`/event/${C.data.event_id}`):(T=C.data)!=null&&T.link?h(C.data.link):C.type==="earning"&&h("/wallet"),f(!1)},b=async C=>{try{const{error:j}=await Je.from("notifications").delete().eq("id",C);if(j)throw j;o(T=>T.filter(O=>O.id!==C)),r()}catch{ot({title:"Erreur",description:"Impossible de supprimer la notification.",variant:"destructive"})}},S=async()=>{try{const{error:C}=await Je.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("user_id",e.id).eq("is_read",!1);if(C)throw C;o(j=>j.map(T=>({...T,is_read:!0}))),r(),ot({title:"Tout marqu comme lu",variant:"success"})}catch{ot({title:"Erreur",description:"Opration choue.",variant:"destructive"})}};return s.jsxs(Nse,{open:u,onOpenChange:f,children:[s.jsx(Sse,{asChild:!0,children:s.jsx("div",{className:"relative cursor-pointer group",children:s.jsx(Zt.div,{animate:a||t>0?{rotate:[0,-15,10,-10,5,-5,0],transition:{duration:.8,repeat:a?1:0,repeatDelay:2,ease:"easeInOut"}}:{rotate:0},children:s.jsxs(Ue,{variant:"ghost",size:"icon",className:"relative group-hover:bg-accent/50",children:[s.jsx(E0,{className:kr("h-6 w-6 transition-colors",t>0?"text-foreground":"text-muted-foreground")}),s.jsx(Su,{children:t>0&&s.jsx(Zt.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1",children:s.jsx(Vr,{className:"h-5 w-5 flex items-center justify-center p-0 bg-red-500 text-white text-[10px] border-2 border-background shadow-sm",children:t>99?"99+":t})})}),s.jsx("span",{className:"sr-only",children:"Notifications"})]})})})}),s.jsxs(tL,{className:"w-80 sm:w-96 p-0 shadow-xl border-border/50 backdrop-blur-xl bg-background/95",align:"end",sideOffset:8,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/10 bg-muted/20",children:[s.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:["Notifications",t>0&&s.jsx("span",{className:"bg-primary/10 text-primary text-xs px-2 py-0.5 rounded-full",children:t})]}),s.jsx(Ue,{variant:"ghost",size:"sm",className:"text-xs h-7 hover:text-primary hover:bg-primary/10",onClick:S,disabled:t===0,children:"Tout lire"})]}),s.jsx("div",{className:"max-h-[70vh] overflow-y-auto custom-scrollbar",children:l?s.jsxs("div",{className:"flex flex-col justify-center items-center h-40 gap-2 text-muted-foreground",children:[s.jsx("span",{className:"animate-spin rounded-full h-5 w-5 border-2 border-primary border-t-transparent"}),s.jsx("p",{className:"text-xs",children:"Chargement..."})]}):i.length>0?s.jsx("div",{className:"divide-y divide-border/10",children:s.jsx(Su,{initial:!1,children:i.map(C=>s.jsx(fke,{notification:C,onNavigate:N,onDelete:b},C.id))})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[s.jsx("div",{className:"bg-muted/30 p-4 rounded-full mb-3",children:s.jsx(E0,{className:"h-8 w-8 text-muted-foreground/30"})}),s.jsx("p",{className:"text-sm font-medium",children:"C'est calme par ici"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 max-w-[200px]",children:"Vous n'avez aucune notification pour le moment."})]})}),s.jsx("div",{className:"p-2 border-t border-border/10 bg-muted/20 text-center",children:s.jsx(Ue,{variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground hover:text-primary",onClick:()=>{h("/notifications"),f(!1)},children:"Voir l'historique complet"})})]})]})},qW="/assets/logo-dfb4c5ad.png",Cse=()=>(console.log("Logo path:",qW),s.jsxs(_7,{to:"/",className:"flex items-center gap-2",children:[s.jsx("img",{src:qW,alt:"BonPlanInfos Logo",className:"h-8 w-auto"}),s.jsx("span",{className:"hidden sm:inline-block font-bold text-lg",children:"BonPlanInfos"})]})),mke=({user:e,userProfile:t,handleLogout:r})=>{var i;const{t:n}=Xa(),a=Ia();return s.jsxs(q5,{children:[s.jsx(G5,{asChild:!0,children:s.jsx(Ue,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:s.jsxs(_1,{className:"h-10 w-10",children:[s.jsx(N1,{src:t==null?void 0:t.avatar_url,alt:t==null?void 0:t.full_name}),s.jsx(S1,{children:((i=t==null?void 0:t.full_name)==null?void 0:i.charAt(0))||"U"})]})})}),s.jsxs(vb,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx(K5,{className:"font-normal",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:t==null?void 0:t.full_name}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),s.jsx(E1,{}),s.jsxs(md,{onClick:()=>a("/profile"),children:[s.jsx(M5,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:n("nav.profile")})]}),s.jsxs(md,{onClick:()=>a("/wallet"),children:[s.jsx(qo,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:n("nav.wallet")})]}),s.jsx(E1,{}),s.jsxs(md,{onClick:r,children:[s.jsx(fy,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:n("nav.logout")})]})]})]})},pke=({navLinks:e,user:t,userProfile:r,handleLogout:n,isMenuOpen:a,setMenuOpen:i})=>{const{t:o}=Xa(),l=Ia(),c=f=>{l(f),i(!1)},u=f=>f&&["organizer","admin","super_admin"].includes(f.user_type);return s.jsxs(Bae,{open:a,onOpenChange:i,children:[s.jsx(Uae,{asChild:!0,children:s.jsxs(Ue,{variant:"ghost",size:"icon",className:"md:hidden",children:[s.jsx(Wte,{className:"h-6 w-6"}),s.jsx("span",{className:"sr-only",children:"Open menu"})]})}),s.jsxs(EM,{side:"left",className:"w-[300px] sm:w-[350px] p-0 flex flex-col z-50",children:[s.jsx(jM,{className:"p-6 pb-4",children:s.jsx(kM,{children:s.jsx(Cse,{})})}),s.jsx("div",{className:"flex-grow overflow-y-auto px-4 pb-4",children:s.jsxs("nav",{className:"flex flex-col space-y-2",children:[e.map(f=>s.jsxs(Ue,{variant:"ghost",className:"justify-start text-base h-11",onClick:()=>c(f.path),children:[s.jsx(f.icon,{className:"mr-3 h-5 w-5"}),o(f.name)]},f.name)),t&&u(r)&&s.jsxs(Ue,{variant:"ghost",className:"justify-start text-base h-11",onClick:()=>c("/create-event"),children:[s.jsx(h4,{className:"mr-3 h-5 w-5"}),o("nav.create_event")]})]})}),s.jsxs(TM,{className:"p-4 border-t flex-col sm:flex-col sm:space-x-0 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:o("Theme")}),s.jsx(Vae,{})]}),s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:o("Language")}),s.jsx(zae,{})]})]})]})]})},gke=()=>{const{t:e}=Xa(),{user:t,signOut:r}=bn(),{userProfile:n}=ai(),a=Ia(),[i,o]=Ve.useState(!1),l=[{name:"nav.home",path:"/",icon:D7},{name:"nav.discover",path:"/discover",icon:Bte},{name:"nav.events",path:"/events",icon:oo},{name:"nav.partnership",path:"/marketing",icon:Qwe}],c=u=>u&&["organizer","admin","super_admin"].includes(u.user_type);return s.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"md:hidden",children:s.jsx(pke,{navLinks:l,user:t,userProfile:n,handleLogout:r,isMenuOpen:i,setMenuOpen:o})}),s.jsx("div",{className:"hidden md:flex",children:s.jsx(Cse,{})}),s.jsx("nav",{className:"hidden md:flex items-center gap-4 text-sm",children:l.map(u=>s.jsx(_7,{to:u.path,className:({isActive:f})=>kr("transition-colors hover:text-foreground/80",f?"text-foreground font-semibold":"text-foreground/60"),children:e(u.name)},u.name))})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[c(n)&&s.jsxs(Ue,{variant:"premium",size:"sm",onClick:()=>a("/create-event"),children:[s.jsx(h4,{className:"mr-2 h-4 w-4"}),e("nav.create_event")]}),s.jsx(zae,{}),s.jsx(Vae,{})]}),t?s.jsxs(s.Fragment,{children:[s.jsx(hke,{}),s.jsx(mke,{user:t,userProfile:n,handleLogout:r})]}):s.jsx(Ue,{onClick:()=>a("/auth"),className:"h-11",children:e("auth.login.button")})]})]})})},xke=({isMenuOpen:e})=>{const{t}=Xa(),{user:r}=bn(),n=ed(),a=[{path:"/",icon:D7,label:t("nav.home")},{path:"/discover",icon:Bte,label:t("nav.discover")},{path:"/events",icon:oo,label:t("nav.events")},{path:"/wallet",icon:qo,label:t("nav.wallet"),requiresAuth:!0},{path:"/profile",icon:M5,label:t("nav.profile"),requiresAuth:!0}];return!!["/auth","/admin","/secretary"].some(o=>n.pathname.startsWith(o))||e?null:s.jsx("div",{className:"md:hidden fixed bottom-0 left-0 z-30 w-full h-16 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t",children:s.jsx("nav",{className:"grid h-full grid-cols-5",children:a.map(o=>o.requiresAuth&&!r?null:s.jsxs(_7,{to:o.path,className:({isActive:l})=>kr("flex flex-col items-center justify-center gap-1 text-muted-foreground transition-colors",l?"text-primary":"hover:text-foreground"),children:[s.jsx(o.icon,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs font-medium",children:o.label})]},o.path))})})};const vke=()=>{const{t:e}=Xa(),[t,r]=A.useState(!1);A.useEffect(()=>{if(!localStorage.getItem("cookiesConsent")){const i=setTimeout(()=>{r(!0)},1500);return()=>clearTimeout(i)}},[]);const n=a=>{localStorage.setItem("cookiesConsent",a),r(!1),a==="accepted"&&console.log("Cookies accepted - Analytics initialized")};return s.jsx(Su,{children:t&&s.jsx(Zt.div,{initial:{opacity:0,y:100,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.9},transition:{type:"spring",stiffness:400,damping:30,duration:.3},className:"cookie-banner",children:s.jsxs("div",{className:"cookie-content",children:[s.jsxs("div",{className:"cookie-header",children:[s.jsx("div",{className:"cookie-icon",children:s.jsx(P7,{size:20})}),s.jsx("div",{className:"cookie-text-content",children:s.jsxs("p",{className:"cookie-text",children:[e("cookie_banner.message"),s.jsx(Ho,{to:"/privacy-policy",className:"cookie-link",children:e("cookie_banner.learn_more")})]})})]}),s.jsxs("div",{className:"cookie-buttons",children:[s.jsx(Ue,{onClick:()=>n("rejected"),variant:"outline",className:"cookie-button cookie-button--secondary",size:"sm",children:e("cookie_banner.reject")}),s.jsxs(Ue,{onClick:()=>n("accepted"),className:"cookie-button cookie-button--primary",size:"sm",children:[s.jsx(gc,{size:16}),e("cookie_banner.accept")]})]})]})})})},GW={gift:"/sounds/gift.mp3",coin:"/sounds/coin.mp3",celebration:"/sounds/celebration.mp3",default:"/sounds/notification.mp3",system:"/sounds/system.mp3",event:"/sounds/event_alert.mp3"},yke=e=>{const t=GW[e]||GW.default;try{new Audio(t).play().catch(n=>console.warn("Audio play failed, likely due to browser policy:",n))}catch(r){console.error("Could not create or play sound",r)}},bke=({onComplete:e,id:t})=>{const r=Math.random()*2+3,n=Math.random()*1,a=Math.random()*40+20,i=Math.random()*100,o=Math.random()*100;return s.jsx(Zt.div,{className:"absolute bottom-0",style:{left:`${i}%`,width:a,height:a},initial:{y:0,opacity:.7},animate:{y:"-100vh",x:`${o-i}vw`,opacity:0},transition:{duration:r,delay:n,ease:"linear"},onAnimationComplete:()=>e(t),children:s.jsx("div",{className:"w-full h-full rounded-full bg-primary/30 border-2 border-primary/50 flex items-center justify-center",children:s.jsx(za,{className:"w-1/2 h-1/2 text-primary/80"})})},t)},wke=()=>{const{visualEffects:e,removeVisualEffect:t,soundEffect:r,clearSoundEffect:n}=ai();return A.useEffect(()=>{r&&(yke(r),n())},[r,n]),s.jsx("div",{className:"fixed inset-0 pointer-events-none z-[200] overflow-hidden",children:s.jsx(Su,{children:e.map(a=>a.type==="bubbles"?Array.from({length:15}).map((i,o)=>s.jsx(bke,{id:`${a.id}-${o}`,onComplete:()=>o===0&&t(a.id)},`${a.id}-${o}`)):null)})})},rL=()=>{const{impersonatingUser:e,stopImpersonation:t}=bn();if(!e)return null;const r=JSON.parse(localStorage.getItem("impersonating")||"{}");return s.jsxs("div",{className:"fixed top-0 left-0 w-full bg-yellow-500 text-black p-2 text-center text-sm z-50 flex items-center justify-center gap-4",children:[s.jsx(Jte,{className:"w-5 h-5"}),s.jsxs("span",{children:["Vous tes en mode vue en tant que ",s.jsx("strong",{children:e.name}),"."]}),s.jsxs(Ue,{size:"sm",variant:"secondary",className:"bg-black text-white hover:bg-gray-800",onClick:t,children:[s.jsx(fy,{className:"w-4 h-4 mr-2"}),"Retourner  mon compte (",r.originalUserName,")"]})]})},_ke=Wx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),zc=A.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:kr(_ke({variant:t}),e),...r}));zc.displayName="Alert";const Rf=A.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:kr("mb-1 font-medium leading-none tracking-tight",e),...t}));Rf.displayName="AlertTitle";const mu=A.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:kr("text-sm [&_p]:leading-relaxed",e),...t}));mu.displayName="AlertDescription";const Nke=()=>{const{t:e}=Xa();return s.jsx("div",{className:"screenshot-overlay","data-text":e("security.screenshot_warning_watermark"," BonPlanInfos - Capture d'cran non autorise")})},Ske={"/":[{icon:s.jsx(aA,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Crez & Gagnez !",description:"5 000 vues = 50 000 F CFA. Vos vnements vous rapportent de l'argent !",button:"Commencer",color:"from-purple-500 to-pink-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:s.jsx(Cd,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Viralisez = Argent !",description:"1 partage = 10 F CFA. Multipliez vos revenus automatiquement !",button:"Booster",color:"from-green-500 to-blue-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:s.jsx(za,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Tout est montis !",description:"Vues, likes, partages = Argent. 10K interactions = 100K FCFA !",button:"Gagner",color:"from-yellow-500 to-orange-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:s.jsx(zwe,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Gains garantis !",description:"500 vues + 200 likes = 7 500 F CFA. Plus c'est populaire, plus vous gagnez !",button:"Calculer",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","admin","super_admin"]},{icon:s.jsx(jj,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Audience = Revenus",description:"1 000 followers = 10K-50K F CFA/vnement. Dveloppez votre communaut !",button:"Dvelopper",color:"from-teal-500 to-green-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:s.jsx(Ku,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Devenez une star !",description:"Vos vnements vus par toute la ville. Montrez votre talent !",button:"Briller",color:"from-yellow-500 to-orange-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:s.jsx(ao,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Communaut = Pouvoir",description:"Rassemblez vos fans et crez des vnements inoubliables !",button:"Rassembler",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/create-event",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:s.jsx(p0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Partenaire officiel",description:"Reprsentez BonPlanInfos. Revenus mensuels garantis !",button:"Devenir partenaire",color:"from-indigo-500 to-purple-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/discover":[{icon:s.jsx(Eo,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Dcouvrez l'inattendu",description:"vnements uniques prs de chez vous. Soyez surpris !",button:"Explorer",color:"from-indigo-500 to-purple-500",action:()=>window.location.href="/events",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:s.jsx(Oj,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Votre passion vous attend",description:"Des vnements qui correspondent  vos passions. Trouvez-les !",button:"Dcouvrir",color:"from-pink-500 to-rose-500",action:()=>window.location.href="/events",targetUserTypes:["user","organizer","admin","super_admin"]}],"/events":[{icon:s.jsx(oo,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Ne manquez rien !",description:"Des centaines d'vnements vous attendent. Inscrivez-vous !",button:"Voir tout",color:"from-teal-500 to-green-500",action:()=>window.location.href="/events",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:s.jsx(Mh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Les plus populaires",description:"Dcouvrez les vnements les plus apprcis. Inspirez-vous !",button:"Voir les tops",color:"from-amber-500 to-orange-500",action:()=>window.location.href="/events?filter=popular",targetUserTypes:["user","organizer","admin","super_admin"]}],"/create-event":[{icon:s.jsx(xu,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Boostez votre vnement !",description:"Donnez un coup de projecteur ds le dpart. 10x plus de visibilit !",button:"Booster",color:"from-yellow-500 to-red-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:s.jsx(y1,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Devenez un pro",description:"Nos outils vous aident  crer des vnements mmorables !",button:"Apprendre",color:"from-purple-500 to-indigo-500",action:()=>window.location.href="/how-it-works",targetUserTypes:["organizer","admin","super_admin"]}],"/boost":[{icon:s.jsx(Cd,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 5x plus de participants !",description:"Les vnements boosts attirent 5x plus de monde. Statistiques relles !",button:"Voir stats",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:s.jsx(za,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 3x retour sur investissement",description:"Chaque pice investie rapporte 3x en visibilit. Calculer votre ROI !",button:"Calculer ROI",color:"from-yellow-500 to-amber-500",action:()=>window.location.href="/boost",targetUserTypes:["organizer","admin","super_admin"]},{icon:s.jsx(p0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Boostez votre carrire !",description:"Devenez partenaire. Revenus illimits avec notre licence !",button:"Devenir partenaire",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/wallet":[{icon:s.jsx(gx,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Pices gratuites !",description:"Gagnez des pices en regardant des vidos. Actions simples !",button:"Gagner",color:"from-red-500 to-pink-500",action:()=>window.location.href="/wallet",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:s.jsx(Ku,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Devenez premium",description:"Avantages exclusifs. Boostez gratuitement vos vnements !",button:"Dcouvrir",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/pricing",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:s.jsx(ik,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 200K FCFA/mois moyen",description:"Nos partenaires gagnent bien. Rejoignez le programme licence !",button:"Devenir partenaire",color:"from-green-500 to-teal-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/profile":[{icon:s.jsx(aA,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Optimisez votre profil",description:"Profil complet = Plus de participants. Attirez votre audience !",button:"Optimiser",color:"from-purple-500 to-pink-500",action:()=>window.location.href="/profile",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:s.jsx(ao,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Dveloppez votre rseau",description:"Connectez-vous avec d'autres passionns. Crez ensemble !",button:"Rseauter",color:"from-green-500 to-teal-500",action:()=>window.location.href="/discover",targetUserTypes:["organizer","user","admin","super_admin"]},{icon:s.jsx(p0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Partenaire certifi",description:"Votre profil a du potentiel ! Reprsentez BonPlanInfos.",button:"Postuler",color:"from-indigo-500 to-purple-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/marketing":[{icon:s.jsx(p0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Partenaire officiel",description:"Licence exclusive. Reprsentez-nous dans votre rgion !",button:"Postuler",color:"from-blue-500 to-indigo-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(Zwe,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Monopole territorial",description:"Soyez le seul reprsentant officiel. Zone exclusive !",button:"Voir zones",color:"from-red-500 to-orange-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(ik,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Revenus passifs",description:"Commissions sur vnements + packs + boosting. Multiple revenus !",button:"Voir gains",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(v1,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Votre entreprise",description:"Construisez votre business sous marque reconnue. Formation incluse !",button:"Dmarrer",color:"from-purple-500 to-pink-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(yI,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 30% commissions",description:"Niveau Diamond = 30% de commissions. Plus vous dveloppez, plus vous gagnez !",button:"Voir niveaux",color:"from-yellow-500 to-amber-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(xx,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" March africain",description:"1,3 milliard de personnes. vnementiel digital en explosion !",button:"Cibler",color:"from-orange-500 to-red-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(Lwe,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Certifi officiel",description:"Statut partenaire certifi. Crdibilit et notorit !",button:"Certifier",color:"from-green-500 to-teal-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/partner-signup":[{icon:s.jsx(p0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Licence internationale",description:"Ambassadeur officiel. Droits territoriaux protgs !",button:"Demander licence",color:"from-blue-500 to-indigo-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(ik,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" 1M FCFA/mois possible",description:"Preuves de revenus disponibles. Modle conomique prouv !",button:"Voir preuves",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(yI,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Top partenaires >500K/mois",description:"Rejoignez le classement. Devenez la prochaine success story !",button:"Voir classement",color:"from-yellow-500 to-orange-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]},{icon:s.jsx(v1,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Franchise accessible",description:"Agence vnementielle sous licence. Investissement raisonnable !",button:"Dcouvrir",color:"from-purple-500 to-indigo-500",action:()=>window.location.href="/partner-signup",targetUserTypes:["organizer","admin","super_admin","user"]}],"/guide-utilisation":[{icon:s.jsx(Mp,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Devenez expert",description:"Matrisez toutes les fonctionnalits. Optimisez vos rsultats !",button:"Apprendre",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/guide-utilisation",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:s.jsx(Ku,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Astuces de pro",description:"Secrets pour vnements  succs. Augmentez vos chances !",button:"Dcouvrir",color:"from-yellow-500 to-amber-500",action:()=>window.location.href="/guide-utilisation",targetUserTypes:["organizer","admin","super_admin"]}],"/packs":[{icon:s.jsx(wm,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" -30% offre limite !",description:"conomisez 30% sur les packs. Dernire chance !",button:"Profiter",color:"from-green-500 to-teal-500",action:()=>window.location.href="/packs",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:s.jsx(gx,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Pices bonus offertes",description:"Achetez maintenant = Pices bonus gratuites !",button:"Voir offres",color:"from-red-500 to-pink-500",action:()=>window.location.href="/packs",targetUserTypes:["user","organizer","admin","super_admin"]},{icon:s.jsx(za,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Investissez = Succs",description:"Plus de pices = Plus de visibilit. Multipliez votre audience !",button:"Acheter",color:"from-yellow-500 to-orange-500",action:()=>window.location.href="/packs",targetUserTypes:["organizer","admin","super_admin"]}],"/create-simple-event":[{icon:s.jsx(xu,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Simple & efficace",description:"Crez en 2 min. Formulaire simplifi pour dbutants !",button:"Crer",color:"from-blue-500 to-cyan-500",action:()=>window.location.href="/create-simple-event",targetUserTypes:["organizer","admin","super_admin"]}],"/create-raffle-event":[{icon:s.jsx(ul,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Tombola = Excitant !",description:"Gnrez un engouement fou. Lots attractifs !",button:"Lancer",color:"from-green-500 to-emerald-500",action:()=>window.location.href="/create-raffle-event",targetUserTypes:["organizer","admin","super_admin"]}],"/create-voting-event":[{icon:s.jsx(w1,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Faites participer",description:"Interaction forte avec communaut. Engagement garanti !",button:"Crer vote",color:"from-blue-500 to-indigo-500",action:()=>window.location.href="/create-voting-event",targetUserTypes:["organizer","admin","super_admin"]}],"/create-stand-event":[{icon:s.jsx(M0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Stands = Revenus",description:"95% pour vous, 5% pour nous. Gnrez des revenus en ligne !",button:"Louer",color:"from-orange-500 to-amber-500",action:()=>window.location.href="/create-stand-event",targetUserTypes:["organizer","admin","super_admin"]}],"/create-ticketing-event":[{icon:s.jsx(ul,{className:"w-4 h-4 sm:w-5 sm:h-5"}),title:" Billetterie = Ventes",description:"95% pour vous. Vendez en ligne facilement. Scuris !",button:"Vendre",color:"from-teal-500 to-green-500",action:()=>window.location.href="/create-ticketing-event",targetUserTypes:["organizer","admin","super_admin"]}]},Cke=["/","/discover","/events","/create-event","/boost","/wallet","/profile","/marketing","/guide-utilisation","/packs","/create-simple-event","/create-raffle-event","/create-voting-event","/create-stand-event","/create-ticketing-event","/partner-signup"],Ake=({userProfile:e,onClose:t})=>{const r=ed(),[n,a]=A.useState(0),[i,o]=A.useState(!0),[l,c]=A.useState(!1),[u,f]=A.useState(!1),h=A.useRef(null),p=(Ske[r.pathname]||[]).filter(j=>j.targetUserTypes.includes((e==null?void 0:e.user_type)||"user"));A.useEffect(()=>(!u&&i&&!l&&(h.current=setTimeout(()=>{c(!0)},3e3)),()=>clearTimeout(h.current)),[i,l,u]),A.useEffect(()=>{if(p.length===0||u){o(!1);return}const j=setInterval(()=>{a(T=>(T+1)%p.length),c(!1),setTimeout(()=>c(!0),3e3)},15e3);return()=>clearInterval(j)},[p.length,r.pathname,u]);const N=()=>{f(!0),o(!1),localStorage.setItem("bannerDismissed","true"),setTimeout(()=>t==null?void 0:t(),300)},b=()=>{const j=p[n];j&&j.action&&j.action()},S=()=>{c(!l)};if(A.useEffect(()=>{localStorage.getItem("bannerDismissed")==="true"&&(f(!0),o(!1))},[]),!i||p.length===0||u)return null;const C=p[n];return s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-40 w-[95vw] max-w-md",children:s.jsx(Su,{mode:"wait",children:s.jsx(Zt.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:25}},exit:{opacity:0,y:-20,scale:.95,transition:{duration:.2}},className:kr(`bg-gradient-to-r ${C.color}`,"rounded-xl shadow-lg border border-white/10 backdrop-blur-md overflow-hidden",l?"shadow-sm":"shadow-lg"),children:s.jsx(Su,{children:l?s.jsx(Zt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:S,className:"cursor-pointer hover:bg-white/5 transition-colors",children:s.jsxs("div",{className:"px-3 py-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-white bg-white/20 p-1 rounded-full",children:s.jsx(wd,{className:"w-3 h-3"})}),s.jsx("span",{className:"text-white text-xs font-medium truncate max-w-[120px]",children:C.title})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ue,{size:"icon",onClick:b,className:"bg-white/20 hover:bg-white/30 text-white h-6 w-6",children:s.jsx(px,{className:"w-3 h-3"})}),s.jsx(Ue,{variant:"ghost",size:"icon",onClick:j=>{j.stopPropagation(),N()},className:"text-white/50 hover:text-white hover:bg-white/10 h-6 w-6",children:s.jsx(kl,{className:"w-3 h-3"})})]})]})}):s.jsxs(Zt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:[s.jsx("div",{className:"p-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"text-white bg-white/20 p-1.5 rounded-full",children:Ve.cloneElement(C.icon,{className:"w-4 h-4"})}),s.jsx("h3",{className:"text-white font-bold text-sm leading-tight",children:C.title})]}),s.jsx("p",{className:"text-white/90 text-xs leading-relaxed mb-3",children:C.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ue,{onClick:b,size:"sm",className:"bg-white text-gray-900 hover:bg-white/90 font-semibold text-xs px-3 h-7",children:[C.button," ",s.jsx(px,{className:"ml-1 w-3 h-3"})]}),s.jsx(Ue,{variant:"ghost",size:"sm",onClick:N,className:"text-white/70 hover:text-white hover:bg-white/10 text-xs h-7",children:"Plus tard"})]})]}),s.jsx(Ue,{variant:"ghost",size:"icon",onClick:N,className:"text-white hover:bg-white/20 flex-shrink-0 w-6 h-6 mt-0.5",children:s.jsx(kl,{className:"w-3 h-3"})})]})}),s.jsx(Zt.div,{className:"h-0.5 bg-white/20 relative overflow-hidden",initial:{width:"100%"},animate:{width:"0%"},transition:{duration:15,ease:"linear"},children:s.jsx("div",{className:"h-full bg-white/70 absolute top-0 left-0 w-full"})})]})})},n)})})},Eke=({children:e})=>{const{user:t,hasFetchError:r}=bn(),{userProfile:n}=ai(),a=ed(),{t:i}=Xa(),[o,l]=Ve.useState(!1),[c,u]=A.useState(!1),h=t&&!["/auth"].some(N=>a.pathname.startsWith(N));A.useEffect(()=>{const N=()=>{if(!Cke.includes(a.pathname)||a.pathname.startsWith("/admin")||a.pathname.startsWith("/secretary"))return!1;const C=localStorage.getItem(`promoBannerLastClosed_${a.pathname}`);if(C&&Date.now()-parseInt(C)<27e5)return!1;const T={"/":.6,"/discover":.4,"/events":.5,"/create-event":.7,"/boost":.8,"/wallet":.4,"/profile":.3,"/marketing":.6,"/guide-utilisation":.5,"/packs":.7,"/create-simple-event":.4,"/create-raffle-event":.5,"/create-voting-event":.5,"/create-stand-event":.5,"/create-ticketing-event":.6}[a.pathname]||.4;return Math.random()<T},b=setTimeout(()=>{N()&&u(!0)},3e3);return()=>clearTimeout(b)},[a.pathname]);const g=()=>{u(!1),localStorage.setItem(`promoBannerLastClosed_${a.pathname}`,Date.now().toString())},p=()=>window.location.reload();return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx(Nke,{}),s.jsx(wke,{}),s.jsx(rL,{}),c&&s.jsx(Ake,{userProfile:n,onClose:g}),s.jsx(gke,{isMenuOpen:o,setMenuOpen:l}),r&&s.jsxs(zc,{variant:"destructive",className:"fixed top-[70px] left-1/2 -translate-x-1/2 w-[90%] max-w-2xl z-40 animate-in fade-in-0 slide-in-from-top-4",children:[s.jsx(v_e,{className:"h-4 w-4"}),s.jsx(Rf,{children:i("auth.fetch_error.title")}),s.jsxs(mu,{children:[i("auth.fetch_error.description"),s.jsx(Ue,{onClick:p,variant:"secondary",size:"sm",className:"ml-4",children:i("common.retry")})]})]}),s.jsx("main",{className:kr("flex-grow",h?"pb-20 md:pb-0":"",c?"mt-16":"mt-4"),children:e}),h&&s.jsx(xke,{isMenuOpen:o}),s.jsx(vke,{})]})};var Ase={exports:{}},jke="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Tke=jke,kke=Tke;function Ese(){}function jse(){}jse.resetWarningCache=Ese;var Pke=function(){function e(n,a,i,o,l,c){if(c!==kke){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:jse,resetWarningCache:Ese};return r.PropTypes=r,r};Ase.exports=Pke();var Oke=Ase.exports;const pa=ji(Oke);function Ike(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Tse=A,Fke=Ike(Tse);function KW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dke(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Rke=!!(typeof window<"u"&&window.document&&window.document.createElement);function Mke(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(a){return a.displayName||a.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(f){return f.props})),u.canUseDOM?t(l):r&&(l=r(l))}var u=function(f){Dke(h,f);function h(){return f.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var N=l;return l=void 0,o=[],N};var g=h.prototype;return g.UNSAFE_componentWillMount=function(){o.push(this),c()},g.componentDidUpdate=function(){c()},g.componentWillUnmount=function(){var N=o.indexOf(this);o.splice(N,1),c()},g.render=function(){return Fke.createElement(i,this.props)},h}(Tse.PureComponent);return KW(u,"displayName","SideEffect("+n(i)+")"),KW(u,"canUseDOM",Rke),u}}var Lke=Mke;const Bke=ji(Lke);var Uke=typeof Element<"u",$ke=typeof Map=="function",zke=typeof Set=="function",Vke=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function hC(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!hC(e[n],t[n]))return!1;return!0}var i;if($ke&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!hC(n.value[1],t.get(n.value[0])))return!1;return!0}if(zke&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(Vke&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(Uke&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!hC(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var Wke=function(t,r){try{return hC(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const Hke=ji(Wke);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var YW=Object.getOwnPropertySymbols,qke=Object.prototype.hasOwnProperty,Gke=Object.prototype.propertyIsEnumerable;function Kke(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Yke(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Xke=Yke()?Object.assign:function(e,t){for(var r,n=Kke(e),a,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var o in r)qke.call(r,o)&&(n[o]=r[o]);if(YW){a=YW(r);for(var l=0;l<a.length;l++)Gke.call(r,a[l])&&(n[a[l]]=r[a[l]])}}return n};const Zke=ji(Xke);var ax={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ja={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ja).map(function(e){return Ja[e]});var mo={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},wA={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},S4={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Jke=Object.keys(wA).reduce(function(e,t){return e[wA[t]]=t,e},{}),Qke=[Ja.NOSCRIPT,Ja.SCRIPT,Ja.STYLE],Th="data-react-helmet",ePe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tPe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},rPe=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),cd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nPe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},XW=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},aPe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},tF=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},iPe=function(t){var r=B2(t,Ja.TITLE),n=B2(t,S4.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=B2(t,S4.DEFAULT_TITLE);return r||a||void 0},sPe=function(t){return B2(t,S4.ON_CHANGE_CLIENT_STATE)||function(){}},zk=function(t,r){return r.filter(function(n){return typeof n[t]<"u"}).map(function(n){return n[t]}).reduce(function(n,a){return cd({},n,a)},{})},oPe=function(t,r){return r.filter(function(n){return typeof n[Ja.BASE]<"u"}).map(function(n){return n[Ja.BASE]}).reverse().reduce(function(n,a){if(!n.length)for(var i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&a[c])return n.concat(a)}return n},[])},Ow=function(t,r,n){var a={};return n.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&dPe("Helmet: "+t+' should be of type "Array". Instead found type "'+ePe(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var l={};o.filter(function(g){for(var p=void 0,N=Object.keys(g),b=0;b<N.length;b++){var S=N[b],C=S.toLowerCase();r.indexOf(C)!==-1&&!(p===mo.REL&&g[p].toLowerCase()==="canonical")&&!(C===mo.REL&&g[C].toLowerCase()==="stylesheet")&&(p=C),r.indexOf(S)!==-1&&(S===mo.INNER_HTML||S===mo.CSS_TEXT||S===mo.ITEM_PROP)&&(p=S)}if(!p||!g[p])return!1;var j=g[p].toLowerCase();return a[p]||(a[p]={}),l[p]||(l[p]={}),a[p][j]?!1:(l[p][j]=!0,!0)}).reverse().forEach(function(g){return i.push(g)});for(var c=Object.keys(l),u=0;u<c.length;u++){var f=c[u],h=Zke({},a[f],l[f]);a[f]=h}return i},[]).reverse()},B2=function(t,r){for(var n=t.length-1;n>=0;n--){var a=t[n];if(a.hasOwnProperty(r))return a[r]}return null},lPe=function(t){return{baseTag:oPe([mo.HREF,mo.TARGET],t),bodyAttributes:zk(ax.BODY,t),defer:B2(t,S4.DEFER),encode:B2(t,S4.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:zk(ax.HTML,t),linkTags:Ow(Ja.LINK,[mo.REL,mo.HREF],t),metaTags:Ow(Ja.META,[mo.NAME,mo.CHARSET,mo.HTTPEQUIV,mo.PROPERTY,mo.ITEM_PROP],t),noscriptTags:Ow(Ja.NOSCRIPT,[mo.INNER_HTML],t),onChangeClientState:sPe(t),scriptTags:Ow(Ja.SCRIPT,[mo.SRC,mo.INNER_HTML],t),styleTags:Ow(Ja.STYLE,[mo.CSS_TEXT],t),title:iPe(t),titleAttributes:zk(ax.TITLE,t)}},rF=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){rF(t)},0)}}(),ZW=function(t){return clearTimeout(t)},cPe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||rF:global.requestAnimationFrame||rF,uPe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||ZW:global.cancelAnimationFrame||ZW,dPe=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Iw=null,fPe=function(t){Iw&&uPe(Iw),t.defer?Iw=cPe(function(){JW(t,function(){Iw=null})}):(JW(t),Iw=null)},JW=function(t,r){var n=t.baseTag,a=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,f=t.scriptTags,h=t.styleTags,g=t.title,p=t.titleAttributes;nF(Ja.BODY,a),nF(Ja.HTML,i),hPe(g,p);var N={baseTag:Mv(Ja.BASE,n),linkTags:Mv(Ja.LINK,o),metaTags:Mv(Ja.META,l),noscriptTags:Mv(Ja.NOSCRIPT,c),scriptTags:Mv(Ja.SCRIPT,f),styleTags:Mv(Ja.STYLE,h)},b={},S={};Object.keys(N).forEach(function(C){var j=N[C],T=j.newTags,O=j.oldTags;T.length&&(b[C]=T),O.length&&(S[C]=N[C].oldTags)}),r&&r(),u(t,b,S)},kse=function(t){return Array.isArray(t)?t.join(""):t},hPe=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=kse(t)),nF(Ja.TITLE,r)},nF=function(t,r){var n=document.getElementsByTagName(t)[0];if(n){for(var a=n.getAttribute(Th),i=a?a.split(","):[],o=[].concat(i),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],f=r[u]||"";n.getAttribute(u)!==f&&n.setAttribute(u,f),i.indexOf(u)===-1&&i.push(u);var h=o.indexOf(u);h!==-1&&o.splice(h,1)}for(var g=o.length-1;g>=0;g--)n.removeAttribute(o[g]);i.length===o.length?n.removeAttribute(Th):n.getAttribute(Th)!==l.join(",")&&n.setAttribute(Th,l.join(","))}},Mv=function(t,r){var n=document.head||document.querySelector(Ja.HEAD),a=n.querySelectorAll(t+"["+Th+"]"),i=Array.prototype.slice.call(a),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(t);for(var f in c)if(c.hasOwnProperty(f))if(f===mo.INNER_HTML)u.innerHTML=c.innerHTML;else if(f===mo.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[f]>"u"?"":c[f];u.setAttribute(f,h)}u.setAttribute(Th,"true"),i.some(function(g,p){return l=p,u.isEqualNode(g)})?i.splice(l,1):o.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:i,newTags:o}},Pse=function(t){return Object.keys(t).reduce(function(r,n){var a=typeof t[n]<"u"?n+'="'+t[n]+'"':""+n;return r?r+" "+a:a},"")},mPe=function(t,r,n,a){var i=Pse(n),o=kse(r);return i?"<"+t+" "+Th+'="true" '+i+">"+tF(o,a)+"</"+t+">":"<"+t+" "+Th+'="true">'+tF(o,a)+"</"+t+">"},pPe=function(t,r,n){return r.reduce(function(a,i){var o=Object.keys(i).filter(function(u){return!(u===mo.INNER_HTML||u===mo.CSS_TEXT)}).reduce(function(u,f){var h=typeof i[f]>"u"?f:f+'="'+tF(i[f],n)+'"';return u?u+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=Qke.indexOf(t)===-1;return a+"<"+t+" "+Th+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},Ose=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,a){return n[wA[a]||a]=t[a],n},r)},gPe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,a){return n[Jke[a]||a]=t[a],n},r)},xPe=function(t,r,n){var a,i=(a={key:r},a[Th]=!0,a),o=Ose(n,i);return[Ve.createElement(Ja.TITLE,o,r)]},vPe=function(t,r){return r.map(function(n,a){var i,o=(i={key:a},i[Th]=!0,i);return Object.keys(n).forEach(function(l){var c=wA[l]||l;if(c===mo.INNER_HTML||c===mo.CSS_TEXT){var u=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=n[l]}),Ve.createElement(t,o)})},sm=function(t,r,n){switch(t){case Ja.TITLE:return{toComponent:function(){return xPe(t,r.title,r.titleAttributes)},toString:function(){return mPe(t,r.title,r.titleAttributes,n)}};case ax.BODY:case ax.HTML:return{toComponent:function(){return Ose(r)},toString:function(){return Pse(r)}};default:return{toComponent:function(){return vPe(t,r)},toString:function(){return pPe(t,r,n)}}}},Ise=function(t){var r=t.baseTag,n=t.bodyAttributes,a=t.encode,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.scriptTags,f=t.styleTags,h=t.title,g=h===void 0?"":h,p=t.titleAttributes;return{base:sm(Ja.BASE,r,a),bodyAttributes:sm(ax.BODY,n,a),htmlAttributes:sm(ax.HTML,i,a),link:sm(Ja.LINK,o,a),meta:sm(Ja.META,l,a),noscript:sm(Ja.NOSCRIPT,c,a),script:sm(Ja.SCRIPT,u,a),style:sm(Ja.STYLE,f,a),title:sm(Ja.TITLE,{title:g,titleAttributes:p},a)}},yPe=function(t){var r,n;return n=r=function(a){nPe(i,a);function i(){return tPe(this,i),aPe(this,a.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!Hke(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Ja.SCRIPT:case Ja.NOSCRIPT:return{innerHTML:c};case Ja.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,f=l.arrayTypeChildren,h=l.newChildProps,g=l.nestedChildren;return cd({},f,(c={},c[u.type]=[].concat(f[u.type]||[],[cd({},h,this.mapNestedChildrenToProps(u,g))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,f=l.child,h=l.newProps,g=l.newChildProps,p=l.nestedChildren;switch(f.type){case Ja.TITLE:return cd({},h,(c={},c[f.type]=p,c.titleAttributes=cd({},g),c));case Ja.BODY:return cd({},h,{bodyAttributes:cd({},g)});case Ja.HTML:return cd({},h,{htmlAttributes:cd({},g)})}return cd({},h,(u={},u[f.type]=cd({},g),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=cd({},c);return Object.keys(l).forEach(function(f){var h;u=cd({},u,(h={},h[f]=l[f],h))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,f={};return Ve.Children.forEach(l,function(h){if(!(!h||!h.props)){var g=h.props,p=g.children,N=XW(g,["children"]),b=gPe(N);switch(u.warnOnInvalidChildren(h,p),h.type){case Ja.LINK:case Ja.META:case Ja.NOSCRIPT:case Ja.SCRIPT:case Ja.STYLE:f=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:f,newChildProps:b,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:b,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(f,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=XW(l,["children"]),f=cd({},u);return c&&(f=this.mapChildrenToProps(c,f)),Ve.createElement(t,f)},rPe(i,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),i}(Ve.Component),r.propTypes={base:pa.object,bodyAttributes:pa.object,children:pa.oneOfType([pa.arrayOf(pa.node),pa.node]),defaultTitle:pa.string,defer:pa.bool,encodeSpecialCharacters:pa.bool,htmlAttributes:pa.object,link:pa.arrayOf(pa.object),meta:pa.arrayOf(pa.object),noscript:pa.arrayOf(pa.object),onChangeClientState:pa.func,script:pa.arrayOf(pa.object),style:pa.arrayOf(pa.object),title:pa.string,titleAttributes:pa.object,titleTemplate:pa.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var a=t.rewind();return a||(a=Ise({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},n},bPe=function(){return null},wPe=Bke(lPe,fPe,Ise)(bPe),Di=yPe(wPe);Di.renderStatic=Di.rewind;var _Pe=Symbol("radix.slottable");function NPe(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=_Pe,t}var Fse="AlertDialog",[SPe,m5t]=Nc(Fse,[Nae]),Zm=Nae(),Dse=e=>{const{__scopeAlertDialog:t,...r}=e,n=Zm(t);return s.jsx(SM,{...n,...r,modal:!0})};Dse.displayName=Fse;var CPe="AlertDialogTrigger",Rse=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Zm(r);return s.jsx(CM,{...a,...n,ref:t})});Rse.displayName=CPe;var APe="AlertDialogPortal",Mse=e=>{const{__scopeAlertDialog:t,...r}=e,n=Zm(t);return s.jsx(AM,{...n,...r})};Mse.displayName=APe;var EPe="AlertDialogOverlay",Lse=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Zm(r);return s.jsx(Y5,{...a,...n,ref:t})});Lse.displayName=EPe;var U2="AlertDialogContent",[jPe,TPe]=SPe(U2),kPe=NPe("AlertDialogContent"),Bse=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Zm(r),o=A.useRef(null),l=Ra(t,o),c=A.useRef(null);return s.jsx(VAe,{contentName:U2,titleName:Use,docsSlug:"alert-dialog",children:s.jsx(jPe,{scope:r,cancelRef:c,children:s.jsxs(X5,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Rr(a.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(kPe,{children:n}),s.jsx(OPe,{contentRef:o})]})})})});Bse.displayName=U2;var Use="AlertDialogTitle",$se=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Zm(r);return s.jsx(Z5,{...a,...n,ref:t})});$se.displayName=Use;var zse="AlertDialogDescription",Vse=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Zm(r);return s.jsx(J5,{...a,...n,ref:t})});Vse.displayName=zse;var PPe="AlertDialogAction",Wse=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Zm(r);return s.jsx(Q5,{...a,...n,ref:t})});Wse.displayName=PPe;var Hse="AlertDialogCancel",qse=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=TPe(Hse,r),i=Zm(r),o=Ra(t,a);return s.jsx(Q5,{...i,...n,ref:o})});qse.displayName=Hse;var OPe=({contentRef:e})=>{const t=`\`${U2}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${U2}\` by passing a \`${zse}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${U2}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return A.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},IPe=Dse,FPe=Rse,DPe=Mse,Gse=Lse,Kse=Bse,Yse=Wse,Xse=qse,Zse=$se,Jse=Vse;const hl=IPe,nL=FPe,RPe=DPe,Qse=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Gse,{ref:r,className:kr("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Qse.displayName=Gse.displayName;const Zo=Ve.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(RPe,{children:[s.jsx(Qse,{}),s.jsx(Kse,{ref:n,className:kr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:t})]}));Zo.displayName=Kse.displayName;const Jo=({className:e,...t})=>s.jsx("div",{className:kr("flex flex-col space-y-2 text-center sm:text-left",e),...t});Jo.displayName="AlertDialogHeader";const ml=({className:e,...t})=>s.jsx("div",{className:kr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ml.displayName="AlertDialogFooter";const Qo=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Zse,{ref:r,className:kr("text-lg font-semibold",e),...t}));Qo.displayName=Zse.displayName;const el=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Jse,{ref:r,className:kr("text-sm text-muted-foreground",e),...t}));el.displayName=Jse.displayName;const pl=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Yse,{ref:r,className:kr("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));pl.displayName=Yse.displayName;const gl=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Xse,{ref:r,className:kr("inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 sm:mt-0",e),...t}));gl.displayName=Xse.displayName;const To=SM,i3=CM,MPe=AM,LPe=Q5,eoe=A.forwardRef(({className:e,...t},r)=>s.jsx(Y5,{ref:r,className:kr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));eoe.displayName=Y5.displayName;const xo=A.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(MPe,{children:[s.jsx(eoe,{}),s.jsxs(X5,{ref:n,className:kr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Q5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(kl,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xo.displayName=X5.displayName;const ko=({className:e,...t})=>s.jsx("div",{className:kr("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ko.displayName="DialogHeader";const Jc=({className:e,...t})=>s.jsx("div",{className:kr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Jc.displayName="DialogFooter";const Po=A.forwardRef(({className:e,...t},r)=>s.jsx(Z5,{ref:r,className:kr("text-lg font-semibold leading-none tracking-tight",e),...t}));Po.displayName=Z5.displayName;const dl=A.forwardRef(({className:e,...t},r)=>s.jsx(J5,{ref:r,className:kr("text-sm text-muted-foreground",e),...t}));dl.displayName=J5.displayName;const W0=({isOpen:e,onClose:t,onProceed:r})=>{const n=Ia(),a=()=>{t(),r?r():n("/packs")};return s.jsx(To,{open:e,onOpenChange:t,children:s.jsxs(xo,{className:"sm:max-w-md glass-effect text-foreground",children:[s.jsxs(ko,{children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Kc,{className:"w-12 h-12 text-yellow-400"})}),s.jsx(Po,{className:"text-center text-xl font-bold",children:"Solde de Pices Insuffisant"}),s.jsx(dl,{className:"text-center text-muted-foreground pt-2",children:"Oups ! Il semble que vous n'ayez pas assez de pices pour effectuer cette action."})]}),s.jsx("div",{className:"py-4 text-center",children:s.jsx("p",{children:"Veuillez recharger votre compte pour continuer. C'est simple et rapide !"})}),s.jsxs(Jc,{className:"flex-col sm:flex-col sm:space-y-2",children:[s.jsxs(Ue,{onClick:a,className:"w-full gradient-gold text-background",children:["Recharger mon compte ",s.jsx(bI,{className:"w-4 h-4 ml-2"})]}),s.jsx(Ue,{variant:"outline",onClick:t,className:"w-full",children:"Annuler"})]})]})})};class Yl{static async initializeRate(){const{data:t}=await Je.from("app_settings").select("coin_to_fcfa_rate").order("created_at",{ascending:!1}).limit(1).maybeSingle();t&&t.coin_to_fcfa_rate&&(this.COIN_RATE=t.coin_to_fcfa_rate)}static convertFcfaToCoins(t){return Math.max(1,Math.ceil(t/this.COIN_RATE))}static convertCoinsToFcfa(t){return t*this.COIN_RATE}static async getWalletBalances(t){const{data:r,error:n}=await Je.from("profiles").select("coin_balance, free_coin_balance").eq("id",t).maybeSingle();if(n&&n.code!=="PGRST116")return console.error("Erreur rcupration solde",n),{coin_balance:0,free_coin_balance:0,total:0};const a=(r==null?void 0:r.coin_balance)||0,i=(r==null?void 0:r.free_coin_balance)||0;return{coin_balance:a,free_coin_balance:i,total:a+i}}static async getUserBalance(t){return(await this.getWalletBalances(t)).total}static async debitCoins(t,r,n,a={}){const i=await this.getWalletBalances(t);if(i.total<r)throw new Error("Solde insuffisant");const o=Math.min(i.free_coin_balance,r),l=r-o,{error:c}=await Je.rpc("debit_user_coins",{p_user_id:t,p_amount:r,p_reason:n,p_debitor_id:t});if(c){console.warn("RPC debit_user_coins failed, using manual update",c);const{error:u}=await Je.from("profiles").update({free_coin_balance:i.free_coin_balance-o,coin_balance:i.coin_balance-l}).eq("id",t);if(u)throw u;await Je.from("coin_transactions").insert({user_id:t,amount:-r,type:"debit",description:n,metadata:{...a,free_used:o,paid_used:l}})}return!0}static generateMoneyFusionLink(t){const r=`${window.location.origin}/paiement/success?action=${t.action}&userId=${t.userId}&amount=${t.amountFcfa}&packId=${t.packId||""}`,n=`${window.location.origin}/paiement/cancel`;return`https://www.pay.moneyfusion.net/bonplaninfos/bed9acd64772611a/pay/?${new URLSearchParams({amount:t.amountFcfa.toString(),userId:t.userId,packId:t.packId||"",action:t.action,email:t.email||"",phone:t.phone||"",return_url:r,cancel_url:n}).toString()}`}static async handleAction({userId:t,requiredCoins:r,onSuccess:n,onInsufficientBalance:a,...i}){if(await this.getUserBalance(t)>=r)await n();else if(a)a();else{const c=this.generateMoneyFusionLink({userId:t,...i});window.location.href=c}}}ss(Yl,"COIN_RATE",10);Yl.initializeRate();const toe=async(e,t=3,r=1e3)=>{try{return await e()}catch(n){if(t<=0)throw n;return await new Promise(a=>setTimeout(a,r)),toe(e,t-1,r*1.5)}},roe=()=>{const{user:e}=bn(),[t,r]=A.useState([]),[n,a]=A.useState(!1),[i,o]=A.useState(0),[l,c]=A.useState(!0),[u,f]=A.useState(0);A.useEffect(()=>{(async()=>{try{const{data:j,error:T}=await toe(()=>Je.from("welcome_popups").select("image_url, alt_text").eq("is_active",!0).order("created_at",{ascending:!0}));if(T)console.error("Error fetching welcome popups:",T);else if(j&&j.length>0){r(j);const O=e?`hasSeenWelcomePopup_${e.id}`:"hasSeenWelcomePopup";sessionStorage.getItem(O)||(a(!0),sessionStorage.setItem(O,"true"))}}catch(j){console.error("Failed to fetch welcome popups after retries:",j)}})()},[e]),A.useEffect(()=>{if(!n||t.length<=1||!l)return;const C=setInterval(()=>{f(1),o(j=>(j+1)%t.length)},2500);return()=>clearInterval(C)},[n,t.length,l]);const h=A.useCallback(()=>{f(1),o(C=>(C+1)%t.length),c(!1)},[t.length]),g=A.useCallback(()=>{f(-1),o(C=>(C-1+t.length)%t.length),c(!1)},[t.length]),p=C=>{const j=C>i?1:-1;f(j),o(C),c(!1)},N=()=>{c(!l)},b=()=>{a(!1),c(!1)},S={enter:C=>({x:C>0?300:-300,opacity:0,scale:.9}),center:{x:0,opacity:1,scale:1,zIndex:1},exit:C=>({x:C<0?300:-300,opacity:0,scale:.9,zIndex:0})};return!n||t.length===0?null:s.jsx(To,{open:n,onOpenChange:b,children:s.jsxs(xo,{className:"p-0 border-0 max-w-lg bg-transparent shadow-none overflow-visible",children:[s.jsx("div",{className:"relative w-full aspect-[4/5] sm:aspect-video flex items-center justify-center",children:s.jsx(Su,{initial:!1,custom:u,children:s.jsx(Zt.img,{src:t[i].image_url,alt:t[i].alt_text||"Welcome",custom:u,variants:S,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"absolute w-full h-full object-contain rounded-lg shadow-2xl"},i)})}),s.jsx("button",{onClick:b,className:"absolute -top-3 -right-3 bg-white text-gray-800 p-2 rounded-full z-20 hover:bg-gray-100 transition-all shadow-lg border border-gray-200",children:s.jsx(kl,{className:"h-5 w-5"})}),t.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:g,className:"absolute top-1/2 left-0 sm:-left-4 -translate-y-1/2 bg-white/80 text-gray-800 p-2 sm:p-3 rounded-full z-20 hover:bg-white transition-all shadow-lg border border-gray-200 backdrop-blur-sm",children:s.jsx(kj,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),s.jsx("button",{onClick:h,className:"absolute top-1/2 right-0 sm:-right-4 -translate-y-1/2 bg-white/80 text-gray-800 p-2 sm:p-3 rounded-full z-20 hover:bg-white transition-all shadow-lg border border-gray-200 backdrop-blur-sm",children:s.jsx(px,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),s.jsxs("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 flex items-center gap-2 bg-white/80 backdrop-blur-sm rounded-full px-3 py-2 shadow-lg border border-gray-200",children:[s.jsx("button",{onClick:N,className:"p-1 text-gray-700 hover:text-gray-900 transition-colors",title:l?"Pause":"Play",children:l?s.jsx(R7,{className:"h-4 w-4"}):s.jsx(M7,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex gap-1.5",children:t.map((C,j)=>s.jsx("button",{onClick:()=>p(j),className:`w-2.5 h-2.5 rounded-full transition-all ${i===j?"bg-blue-600 scale-125":"bg-gray-400 hover:bg-gray-600"}`,"aria-label":`Go to slide ${j+1}`},j))})]})]})]})})},noe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState(!0),o=A.useCallback(async()=>{i(!0);try{const{data:c,error:u}=await Je.from("partner_badges").select("*").order("display_order",{ascending:!0});if(u)throw u;t(c||[]),n(c.filter(f=>f.is_active)||[])}catch(c){console.error("Error fetching partner badges:",c),ot({title:"Erreur",description:"Impossible de charger les badges partenaires.",variant:"destructive"})}finally{i(!1)}},[]);return A.useEffect(()=>{o()},[o]),{badges:e,activeBadges:r,loading:a,toggleBadgeStatus:async(c,u)=>{try{const{error:f}=await Je.from("partner_badges").update({is_active:u,updated_at:new Date().toISOString()}).eq("id",c);if(f)throw f;return ot({title:`Badge ${u?"activ":"dsactiv"} avec succs`}),await o(),!0}catch(f){return console.error("Error toggling badge status:",f),ot({title:"Erreur",description:"Impossible de mettre  jour le statut du badge.",variant:"destructive"}),!1}},refreshBadges:o}},BPe=e=>{const t={starter:{circleBg:"bg-gradient-to-br from-gray-500 to-gray-700",borderColor:"border-gray-400",textColor:"text-gray-700",icon:"",title:"Ambassadeur Ville"},business:{circleBg:"bg-gradient-to-br from-green-500 to-green-700",borderColor:"border-green-400",textColor:"text-green-700",icon:"",title:"Ambassadeur Rgional"},premium:{circleBg:"bg-gradient-to-br from-amber-500 to-amber-700",borderColor:"border-amber-400",textColor:"text-amber-700",icon:"",title:"Ambassadeur National"}};return t[e]||t.starter},UPe=()=>{const{activeBadges:e,loading:t}=noe(),[r,n]=A.useState(0),[a,i]=A.useState(!1),[o,l]=A.useState(4);if(A.useEffect(()=>{const u=()=>{window.innerWidth<640?l(2):window.innerWidth<1024?l(3):l(4)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),A.useEffect(()=>{if(e.length<=o||a)return;const u=setInterval(()=>{n(f=>{const h=f+1;return h>=e.length-o+1?0:h})},3e3);return()=>clearInterval(u)},[e.length,o,a]),t)return s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 py-4 text-center border-b",children:s.jsx(Jt,{className:"w-5 h-5 animate-spin inline-block text-muted-foreground"})});if(e.length===0)return null;const c=e.slice(r,r+o);return s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 py-4 border-b shadow-sm",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-1",children:"Nos Partenaires Certifis"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Dcouvrez notre rseau d'ambassadeurs"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center justify-center gap-4 md:gap-6 lg:gap-8",children:[e.length>o&&s.jsx("button",{onClick:()=>n(u=>u>0?u-1:e.length-o),className:"p-2 bg-white rounded-full shadow-md hover:shadow-lg transition-shadow z-10","aria-label":"Partenaire prcdent",children:s.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("div",{className:"flex items-center justify-center gap-4 md:gap-6 lg:gap-8 flex-1",children:s.jsx(Su,{mode:"popLayout",children:c.map((u,f)=>{const h=BPe(u.license_type),g=r+f;return s.jsxs(Zt.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-20},transition:{duration:.3,delay:f*.1},className:"flex flex-col items-center text-center group",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:`
                          w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 
                          rounded-full border-2 ${h.borderColor}
                          ${h.circleBg}
                          flex items-center justify-center
                          shadow-lg group-hover:shadow-xl
                          transition-all duration-300
                          group-hover:scale-110
                        `,children:[s.jsx("span",{className:"text-xl md:text-2xl lg:text-3xl",children:h.icon}),s.jsx("div",{className:"absolute -top-1 -right-1",children:s.jsx("div",{className:"bg-red-500 rounded-full w-5 h-5 md:w-6 md:h-6 border-2 border-white flex items-center justify-center",children:s.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-white",children:u.country?u.country.slice(0,2).toUpperCase():"PA"})})})]}),s.jsx("div",{className:"absolute -bottom-1 -left-1",children:s.jsx("div",{className:"bg-green-500 rounded-full w-4 h-4 border-2 border-white flex items-center justify-center",children:s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})})]}),s.jsxs("div",{className:"mt-3 max-w-[80px] md:max-w-[100px] lg:max-w-[120px]",children:[s.jsx("p",{className:"text-xs md:text-sm font-semibold text-gray-800 truncate",children:u.partner_name}),s.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 mt-1",children:h.title})]})]},`${u.id}-${g}`)})})}),e.length>o&&s.jsx("button",{onClick:()=>n(u=>u<e.length-o?u+1:0),className:"p-2 bg-white rounded-full shadow-md hover:shadow-lg transition-shadow z-10","aria-label":"Partenaire suivant",children:s.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.length>o&&s.jsxs("div",{className:"flex items-center justify-center mt-4 gap-2",children:[s.jsx("div",{className:"flex items-center space-x-1.5",children:Array.from({length:Math.ceil(e.length/o)}).map((u,f)=>s.jsx("button",{onClick:()=>n(f*o),className:`w-2 h-2 rounded-full transition-all ${Math.floor(r/o)===f?"bg-blue-600 scale-125":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to group ${f+1}`},f))}),s.jsx("button",{onClick:()=>i(!a),className:"ml-2 p-1.5 bg-white rounded-full shadow hover:shadow-md transition-all","aria-label":a?"Play":"Pause",children:a?s.jsx(M7,{className:"w-3 h-3 text-gray-600"}):s.jsx(R7,{className:"w-3 h-3 text-gray-600"})})]})]}),s.jsx("div",{className:"text-center mt-3",children:s.jsxs("p",{className:"text-xs text-gray-500",children:[e.length," partenaire",e.length>1?"s":""," actif",e.length>1?"s":""]})})]})})},qt=Ve.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:kr("rounded-lg border bg-card text-card-foreground shadow-sm transition-all hover:shadow-md hover:-translate-y-1",e),...t}));qt.displayName="Card";const zr=Ve.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:kr("flex flex-col space-y-1.5 p-6",e),...t}));zr.displayName="CardHeader";const Wr=Ve.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:kr("text-2xl font-bold font-heading leading-none tracking-tight",e),...t}));Wr.displayName="CardTitle";const Ya=Ve.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:kr("text-sm text-muted-foreground",e),...t}));Ya.displayName="CardDescription";const Xt=Ve.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:kr("p-6 pt-0",e),...t}));Xt.displayName="CardContent";const wx=Ve.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:kr("flex items-center p-6 pt-0",e),...t}));wx.displayName="CardFooter";const $Pe=()=>{const e=Ia(),{t}=Xa(),r=[{name:t("home_page.event_types.standard"),type:"standard",icon:xu,color:"from-blue-500 to-indigo-600"},{name:t("home_page.event_types.ticketing"),type:"ticketing",icon:ul,color:"from-purple-500 to-pink-600"},{name:t("home_page.event_types.raffles"),type:"raffle",icon:gx,color:"from-green-400 to-teal-500"},{name:t("home_page.event_types.voting"),type:"voting",icon:w1,color:"from-yellow-500 to-orange-600"},{name:t("home_page.event_types.stands"),type:"stand_rental",icon:M0,color:"from-red-500 to-rose-600"}],n=({name:i,icon:o,color:l,onClick:c})=>s.jsx(Zt.div,{whileHover:{y:-5,scale:1.05},transition:{type:"spring",stiffness:300},onClick:c,children:s.jsxs(qt,{className:`relative overflow-hidden cursor-pointer group bg-gradient-to-br ${l} text-white shadow-lg`,children:[s.jsxs("div",{className:"p-6 flex flex-col items-center justify-center h-32 text-center",children:[s.jsx(o,{className:"w-10 h-10 mb-3"}),s.jsx("h3",{className:"font-bold text-md",children:i})]}),s.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-10 transition-opacity"})]})}),a=i=>{e("/events",{state:{preselectedEventTypes:[i]}})};return s.jsxs("section",{className:"py-12",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t("home_page.explore_by_type.title")}),s.jsx("p",{className:"text-muted-foreground mt-2",children:t("home_page.explore_by_type.subtitle")})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 md:gap-6",children:r.map(i=>s.jsx(n,{...i,onClick:()=>a(i.type)},i.type))})]})},aoe=({eventDate:e,eventStartTime:t,showIcon:r=!0,showMotivation:n=!1,className:a="",onCountdownEnd:i})=>{const o=()=>{if(!e)return{days:null};const j=new Date,T=new Date(e);if(t){const[B,L]=t.split(":");T.setHours(parseInt(B),parseInt(L),0,0)}const O=T.getTime()-j.getTime();let M={};return O>0?M={days:Math.floor(O/864e5),hours:Math.floor(O/36e5%24),minutes:Math.floor(O/6e4%60),seconds:Math.floor(O/1e3%60),totalMs:O}:M={days:-1,totalMs:O},M},[l,c]=A.useState(o());A.useEffect(()=>{const j=setInterval(()=>{const T=o();c(T),T.days===-1&&l.days!==-1&&i&&i()},1e3);return()=>clearInterval(j)},[e,t]);const u=()=>l.days===null||l.days<0?null:l.days>7?"Ne manquez pas a !":l.days>=2?"Prparez-vous !":l.days===1?"Demain seulement !":l.days===0?l.hours>1?"C'est pour aujourd'hui !":"Dpchez-vous, a commence !":"C'est imminent !",f=l.days!==null&&l.days<2,h=l.days===0&&l.hours<5,g=`
    inline-flex items-center gap-2 sm:gap-3 rounded-xl p-2 sm:p-3 font-bold transition-all duration-300 
    backdrop-blur-md shadow-lg border border-white/10
  `,p="bg-gradient-to-r from-red-600 via-orange-600 to-red-600 bg-[length:200%_200%] animate-gradient-x text-white shadow-red-500/20",N="bg-black/40 text-white",b="bg-gray-800/80 text-gray-300",S=()=>l.days===-1?b:f?p:N,C=()=>{if(l.days===null)return"Programm";if(l.days<0)return"Termin";const j=[];return l.days>0&&j.push(`${l.days}j`),(l.hours>0||l.days===0&&l.minutes>0)&&j.push(`${l.hours}h`),l.days<7&&j.push(`${l.minutes}m`),l.days===0&&j.push(`${l.seconds}s`),j.join(" : ")};return l.days===null?null:s.jsxs("div",{className:`flex flex-col items-center ${a}`,children:[s.jsxs("div",{className:`${g} ${S()} ${h?"animate-pulse":""}`,children:[r&&s.jsx("div",{className:`p-1.5 sm:p-2 rounded-full bg-white/10 ${f?"animate-ping-slow":""}`,children:f?s.jsx(t_e,{className:"w-4 h-4 sm:w-5 sm:h-5"}):s.jsx(Yf,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-300"})}),s.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[s.jsx("span",{className:"text-[10px] sm:text-xs font-medium uppercase tracking-wider opacity-80",children:"Temps restant"}),s.jsx("span",{className:"text-lg sm:text-2xl md:text-3xl font-mono tracking-tight tabular-nums",children:C()})]})]}),s.jsx(Su,{mode:"wait",children:n&&l.days>=0&&s.jsxs(Zt.div,{initial:{opacity:0,y:5,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0},className:`
                    mt-2 text-xs sm:text-sm font-bold uppercase tracking-wide px-3 py-1 rounded-full shadow-sm
                    ${f?"bg-red-100 text-red-700 animate-bounce-slow":"bg-white/90 text-blue-600"}
                `,children:[f&&s.jsx(Kc,{className:"w-3 h-3 inline-block mr-1 -mt-0.5"}),u()]},"motivation")})]})};function Ka(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ad(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Lu(e,t){const r=Ka(e);return isNaN(t)?Ad(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function $h(e,t){const r=Ka(e);if(isNaN(t))return Ad(e,NaN);if(!t)return r;const n=r.getDate(),a=Ad(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const aL=6048e5,zPe=864e5,QW=6e4,VPe=36e5,eH=525600,tH=43200,rH=1440;let WPe={};function bb(){return WPe}function B0(e,t){var l,c,u,f;const r=bb(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,a=Ka(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function _x(e){return B0(e,{weekStartsOn:1})}function ioe(e){const t=Ka(e),r=t.getFullYear(),n=Ad(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=_x(n),i=Ad(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=_x(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function wy(e){const t=Ka(e);return t.setHours(0,0,0,0),t}function _y(e){const t=Ka(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function kh(e,t){const r=wy(e),n=wy(t),a=+r-_y(r),i=+n-_y(n);return Math.round((a-i)/zPe)}function HPe(e){const t=ioe(e),r=Ad(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),_x(r)}function aF(e,t){const r=t*7;return Lu(e,r)}function qPe(e,t){return $h(e,t*12)}function GPe(e){let t;return e.forEach(function(r){const n=Ka(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function KPe(e){let t;return e.forEach(r=>{const n=Ka(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function YPe(e,t){const r=Ka(e),n=Ka(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function XPe(e){return Ad(e,Date.now())}function pd(e,t){const r=wy(e),n=wy(t);return+r==+n}function iL(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ZPe(e){if(!iL(e)&&typeof e!="number")return!1;const t=Ka(e);return!isNaN(Number(t))}function C4(e,t){const r=Ka(e),n=Ka(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function JPe(e,t,r){const n=B0(e,r),a=B0(t,r),i=+n-_y(n),o=+a-_y(a);return Math.round((i-o)/aL)}function QPe(e,t){const r=Ka(e),n=Ka(t),a=nH(r,n),i=Math.abs(kh(r,n));r.setDate(r.getDate()-a*i);const o=+(nH(r,n)===-a),l=a*(i-o);return l===0?0:l}function nH(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function soe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function eOe(e,t){return+Ka(e)-+Ka(t)}function tOe(e,t,r){const n=eOe(e,t)/VPe;return soe(r==null?void 0:r.roundingMethod)(n)}function sL(e){const t=Ka(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Nd(e){const t=Ka(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ooe(e){const t=Ka(e),r=Ad(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function oL(e,t){var l,c,u,f;const r=bb(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,a=Ka(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function loe(e){return oL(e,{weekStartsOn:1})}const rOe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nOe=(e,t,r)=>{let n;const a=rOe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function $2(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const aOe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iOe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sOe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oOe={date:$2({formats:aOe,defaultWidth:"full"}),time:$2({formats:iOe,defaultWidth:"full"}),dateTime:$2({formats:sOe,defaultWidth:"full"})},lOe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cOe=(e,t,r,n)=>lOe[e];function x0(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const uOe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dOe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fOe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hOe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mOe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pOe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gOe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xOe={ordinalNumber:gOe,era:x0({values:uOe,defaultWidth:"wide"}),quarter:x0({values:dOe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:x0({values:fOe,defaultWidth:"wide"}),day:x0({values:hOe,defaultWidth:"wide"}),dayPeriod:x0({values:mOe,defaultWidth:"wide",formattingValues:pOe,defaultFormattingWidth:"wide"})};function v0(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?yOe(l,h=>h.test(o)):vOe(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function vOe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function yOe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function coe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const bOe=/^(\d+)(th|st|nd|rd)?/i,wOe=/\d+/i,_Oe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NOe={any:[/^b/i,/^(a|c)/i]},SOe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},COe={any:[/1/i,/2/i,/3/i,/4/i]},AOe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},EOe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jOe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},TOe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kOe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},POe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},OOe={ordinalNumber:coe({matchPattern:bOe,parsePattern:wOe,valueCallback:e=>parseInt(e,10)}),era:v0({matchPatterns:_Oe,defaultMatchWidth:"wide",parsePatterns:NOe,defaultParseWidth:"any"}),quarter:v0({matchPatterns:SOe,defaultMatchWidth:"wide",parsePatterns:COe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:v0({matchPatterns:AOe,defaultMatchWidth:"wide",parsePatterns:EOe,defaultParseWidth:"any"}),day:v0({matchPatterns:jOe,defaultMatchWidth:"wide",parsePatterns:TOe,defaultParseWidth:"any"}),dayPeriod:v0({matchPatterns:kOe,defaultMatchWidth:"any",parsePatterns:POe,defaultParseWidth:"any"})},lL={code:"en-US",formatDistance:nOe,formatLong:oOe,formatRelative:cOe,localize:xOe,match:OOe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function IOe(e){const t=Ka(e);return kh(t,ooe(t))+1}function uoe(e){const t=Ka(e),r=+_x(t)-+HPe(t);return Math.round(r/aL)+1}function doe(e,t){var f,h,g,p;const r=Ka(e),n=r.getFullYear(),a=bb(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(g=a.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ad(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=B0(o,t),c=Ad(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=B0(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function FOe(e,t){var l,c,u,f;const r=bb(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,a=doe(e,t),i=Ad(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),B0(i,t)}function foe(e,t){const r=Ka(e),n=+B0(r,t)-+FOe(r,t);return Math.round(n/aL)+1}function vs(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const _p={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return vs(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):vs(r+1,2)},d(e,t){return vs(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return vs(e.getHours()%12||12,t.length)},H(e,t){return vs(e.getHours(),t.length)},m(e,t){return vs(e.getMinutes(),t.length)},s(e,t){return vs(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return vs(a,t.length)}},Lv={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aH={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return _p.y(e,t)},Y:function(e,t,r,n){const a=doe(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return vs(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):vs(i,t.length)},R:function(e,t){const r=ioe(e);return vs(r,t.length)},u:function(e,t){const r=e.getFullYear();return vs(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return vs(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return vs(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return _p.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return vs(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=foe(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):vs(a,t.length)},I:function(e,t,r){const n=uoe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):vs(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):_p.d(e,t)},D:function(e,t,r){const n=IOe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):vs(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return vs(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return vs(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return vs(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Lv.noon:n===0?a=Lv.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Lv.evening:n>=12?a=Lv.afternoon:n>=4?a=Lv.morning:a=Lv.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return _p.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):_p.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):vs(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):vs(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):_p.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):_p.s(e,t)},S:function(e,t){return _p.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return sH(n);case"XXXX":case"XX":return Tg(n);case"XXXXX":case"XXX":default:return Tg(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return sH(n);case"xxxx":case"xx":return Tg(n);case"xxxxx":case"xxx":default:return Tg(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+iH(n,":");case"OOOO":default:return"GMT"+Tg(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+iH(n,":");case"zzzz":default:return"GMT"+Tg(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return vs(n,t.length)},T:function(e,t,r){const n=e.getTime();return vs(n,t.length)}};function iH(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+vs(i,2)}function sH(e,t){return e%60===0?(e>0?"-":"+")+vs(Math.abs(e)/60,2):Tg(e,t)}function Tg(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=vs(Math.trunc(n/60),2),i=vs(n%60,2);return r+a+t+i}const oH=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},hoe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},DOe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return oH(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",oH(n,t)).replace("{{time}}",hoe(a,t))},ROe={p:hoe,P:DOe},MOe=/^D+$/,LOe=/^Y+$/,BOe=["D","DD","YY","YYYY"];function UOe(e){return MOe.test(e)}function $Oe(e){return LOe.test(e)}function zOe(e,t,r){const n=VOe(e,t,r);if(console.warn(n),BOe.includes(e))throw new RangeError(n)}function VOe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const WOe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HOe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qOe=/^'([^]*?)'?$/,GOe=/''/g,KOe=/[a-zA-Z]/;function mi(e,t,r){var f,h,g,p,N,b,S,C;const n=bb(),a=(r==null?void 0:r.locale)??n.locale??lL,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(g=n.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((b=(N=r==null?void 0:r.locale)==null?void 0:N.options)==null?void 0:b.weekStartsOn)??n.weekStartsOn??((C=(S=n.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??0,l=Ka(e);if(!ZPe(l))throw new RangeError("Invalid time value");let c=t.match(HOe).map(j=>{const T=j[0];if(T==="p"||T==="P"){const O=ROe[T];return O(j,a.formatLong)}return j}).join("").match(WOe).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const T=j[0];if(T==="'")return{isToken:!1,value:YOe(j)};if(aH[T])return{isToken:!0,value:j};if(T.match(KOe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:j}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(j=>{if(!j.isToken)return j.value;const T=j.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&$Oe(T)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&UOe(T))&&zOe(T,t,String(e));const O=aH[T[0]];return O(l,T,a.localize,u)}).join("")}function YOe(e){const t=e.match(qOe);return t?t[1].replace(GOe,"'"):e}function XOe(e,t,r){const n=bb(),a=(r==null?void 0:r.locale)??n.locale??lL,i=YPe(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let l,c;i>0?(l=Ka(t),c=Ka(e)):(l=Ka(e),c=Ka(t));const u=soe((r==null?void 0:r.roundingMethod)??"round"),f=c.getTime()-l.getTime(),h=f/QW,g=_y(c)-_y(l),p=(f-g)/QW,N=r==null?void 0:r.unit;let b;if(N?b=N:h<1?b="second":h<60?b="minute":h<rH?b="hour":p<tH?b="day":p<eH?b="month":b="year",b==="second"){const S=u(f/1e3);return a.formatDistance("xSeconds",S,o)}else if(b==="minute"){const S=u(h);return a.formatDistance("xMinutes",S,o)}else if(b==="hour"){const S=u(h/60);return a.formatDistance("xHours",S,o)}else if(b==="day"){const S=u(p/rH);return a.formatDistance("xDays",S,o)}else if(b==="month"){const S=u(p/tH);return S===12&&N!=="month"?a.formatDistance("xYears",1,o):a.formatDistance("xMonths",S,o)}else{const S=u(p/eH);return a.formatDistance("xYears",S,o)}}function ZOe(e,t){return XOe(e,XPe(e),t)}function JOe(e){const t=Ka(e),r=t.getFullYear(),n=t.getMonth(),a=Ad(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function QOe(e){return Math.trunc(+Ka(e)/1e3)}function eIe(e){const t=Ka(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function tIe(e,t){return JPe(eIe(e),Nd(e),t)+1}function iF(e,t){const r=Ka(e),n=Ka(t);return r.getTime()>n.getTime()}function moe(e,t){const r=Ka(e),n=Ka(t);return+r<+n}function cL(e,t){const r=Ka(e),n=Ka(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function rIe(e,t){const r=Ka(e),n=Ka(t);return r.getFullYear()===n.getFullYear()}function z2(e,t){return Lu(e,-t)}function Vk(e,t){const r=Ka(e),n=r.getFullYear(),a=r.getDate(),i=Ad(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=JOe(i);return r.setMonth(t,Math.min(a,o)),r}function nIe(e,t){const r=Ka(e);return r.setDate(t),r}function lH(e,t){const r=Ka(e);return isNaN(+r)?Ad(e,NaN):(r.setFullYear(t),r)}const aIe={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},iIe=(e,t,r)=>{let n;const a=aIe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},sIe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},oIe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},lIe={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cIe={date:$2({formats:sIe,defaultWidth:"full"}),time:$2({formats:oIe,defaultWidth:"full"}),dateTime:$2({formats:lIe,defaultWidth:"full"})},uIe={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},dIe=(e,t,r,n)=>uIe[e],fIe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},hIe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},mIe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},pIe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},gIe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},xIe=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const a=["year","week","hour","minute","second"];let i;return r===1?i=n&&a.includes(n)?"re":"er":i="me",r+i},vIe=["MMM","MMMM"],yIe={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&vIe.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:xIe,era:x0({values:fIe,defaultWidth:"wide"}),quarter:x0({values:hIe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:x0({values:mIe,defaultWidth:"wide"}),day:x0({values:pIe,defaultWidth:"wide"}),dayPeriod:x0({values:gIe,defaultWidth:"wide"})},bIe=/^(\d+)(ime|re|me|er|e)?/i,wIe=/\d+/i,_Ie={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},NIe={any:[/^av/i,/^ap/i]},SIe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},CIe={any:[/1/i,/2/i,/3/i,/4/i]},AIe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},EIe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},jIe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},TIe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},kIe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},PIe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},OIe={ordinalNumber:coe({matchPattern:bIe,parsePattern:wIe,valueCallback:e=>parseInt(e)}),era:v0({matchPatterns:_Ie,defaultMatchWidth:"wide",parsePatterns:NIe,defaultParseWidth:"any"}),quarter:v0({matchPatterns:SIe,defaultMatchWidth:"wide",parsePatterns:CIe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:v0({matchPatterns:AIe,defaultMatchWidth:"wide",parsePatterns:EIe,defaultParseWidth:"any"}),day:v0({matchPatterns:jIe,defaultMatchWidth:"wide",parsePatterns:TIe,defaultParseWidth:"any"}),dayPeriod:v0({matchPatterns:kIe,defaultMatchWidth:"any",parsePatterns:PIe,defaultParseWidth:"any"})},Vc={code:"fr",formatDistance:iIe,formatLong:cIe,formatRelative:dIe,localize:yIe,match:OIe,options:{weekStartsOn:1,firstWeekContainsDate:4}},g6=({event:e,onClick:t,isUnlocked:r})=>{const n=Ia(),{user:a}=bn(),i=a&&e.organizer_id===a.id,o=new Date;o.setDate(o.getDate()-1);const l=new Date(e.created_at)>o,c=p=>p?new Date(p).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):"Date non spcifie",u=p=>{p.stopPropagation(),n("/boost",{state:{preselectedContent:`event_${e.id}`}})},h=(p=>{if(!p)return null;const N=new Date,b=new Date(p);if(N>b)return"Termin";const S=QPe(b,N),C=tOe(b,N);return S>0?`J-${S}`:C>0?`${C}h restantes`:ZOe(b,{locale:Vc,addSuffix:!0})})(e.promotion_end||e.promoted_until),g=e.event_type==="protected"&&!r;return s.jsxs(Zt.div,{whileHover:{y:-4},transition:{duration:.2},className:"cursor-pointer h-full group flex flex-col",children:[s.jsxs(qt,{onClick:t,className:"h-full card-hover glass-effect border-[#C9A227]/20 overflow-hidden flex flex-col flex-grow",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-full h-48 bg-muted-foreground/20",children:s.jsx("img",{className:`w-full h-48 object-cover transition-all duration-300 ${g?"blur-sm group-hover:blur-none":""}`,alt:`Image de l'vnement ${e.title}`,src:e.cover_image||"https://images.unsplash.com/photo-1703269074563-938cdd3a40e5"})}),s.jsx(aoe,{eventDate:e.event_date}),s.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2 items-end",children:[e.is_promoted&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Vr,{className:"gradient-gold text-[#0B0B0D] border-0",children:"Sponsoris"}),h&&s.jsxs(Vr,{variant:"secondary",className:"bg-orange-500/20 text-orange-300 border-orange-400/30",children:[s.jsx(Yf,{className:"w-3 h-3 mr-1"}),h]})]}),l&&!e.is_promoted&&s.jsxs(Vr,{variant:"secondary",className:"bg-blue-500/20 text-blue-300 border-blue-400/30",children:[s.jsx(wd,{className:"w-3 h-3 mr-1"}),"Nouveau"]})]}),g&&s.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-center p-4 backdrop-blur-sm group-hover:backdrop-blur-0 transition-all duration-300",children:[s.jsx(R0,{className:"w-10 h-10 text-primary mb-2"}),s.jsx("h3",{className:"font-bold text-lg text-white",children:"vnement Protg"}),s.jsx("p",{className:"text-sm text-amber-300",children:"Cliquez pour dbloquer"})]})]}),s.jsxs(Xt,{className:"p-4 flex-grow flex flex-col justify-between",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{children:s.jsx("h3",{className:"font-bold text-lg text-white line-clamp-2",children:e.title})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-gray-300 text-sm",children:[s.jsx(oo,{className:"w-4 h-4 mr-2 text-[#C9A227]"}),c(e.event_date)]}),s.jsxs("div",{className:"flex items-center text-gray-300 text-sm",children:[s.jsx(Eo,{className:"w-4 h-4 mr-2 text-[#C9A227]"}),g?`${e.city}, ${e.country}`:e.location||`${e.city}, ${e.country}`]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-[#C9A227]/20 mt-3",children:[s.jsx(Vr,{variant:"outline",className:"border-primary/50 text-primary",children:e.category_name||e.event_type}),s.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[s.jsx(ao,{className:"w-3 h-3 mr-1"}),e.interactions_count||0," intresss"]})]})]})]}),i&&!e.is_promoted&&s.jsxs(Ue,{onClick:u,variant:"premium",size:"sm",className:"mt-2 w-full",children:[s.jsx(xu,{className:"w-4 h-4 mr-2"}),"Promouvoir"]})]})};class IIe{async detectUserLocation(){return new Promise(t=>{if(!navigator.geolocation){console.warn("La golocalisation n'est pas supporte par ce navigateur."),t({city:"Abidjan",country:"Cte d'Ivoire"});return}navigator.geolocation.getCurrentPosition(async r=>{try{const{latitude:n,longitude:a}=r.coords,o=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${n}&lon=${a}`)).json();if(o.address){const l=o.address.city||o.address.town||o.address.village,c=o.address.country;t({city:l,country:c})}else t({city:"Abidjan",country:"Cte d'Ivoire"})}catch(n){console.error("Erreur lors de la rcupration de l'adresse:",n),t({city:"Abidjan",country:"Cte d'Ivoire"})}},r=>{console.warn("Erreur de golocalisation:",r.message),t({city:"Abidjan",country:"Cte d'Ivoire"})})})}async getLocalEvents(t,r){if(!t||!r)return[];try{const{data:n,error:a}=await Je.from("events").select("*, organizer:organizer_id(full_name)").eq("city",t).eq("country",r).eq("status","active").order("created_at",{ascending:!1});if(a)throw a;return n||[]}catch(n){return console.error("Erreur lors de la rcupration des vnements locaux:",n.message),[]}}}const FIe=new IIe,sF=async(e,t=3,r=1e3)=>{try{return await e()}catch(n){if(t<=0)throw n;return await new Promise(a=>setTimeout(a,r)),sF(e,t-1,r*1.5)}},DIe=()=>{var ae,X;const[e,t]=A.useState([]),[r,n]=A.useState(new Set),[a,i]=A.useState(!0),[o,l]=A.useState(null),[c,u]=A.useState(null),{user:f}=bn(),{userProfile:h,forceRefreshUserProfile:g,adminConfig:p}=ai(),{toast:N}=qs(),b=Ia(),[S,C]=A.useState({isOpen:!1,event:null,cost:0,costFcfa:0,onConfirm:null}),[j,T]=A.useState(!1),[O,M]=A.useState(""),B=A.useMemo(()=>[{text:ne=>` la une  ${ne}`,icon:wd,color:"text-primary"},{text:ne=>`Les incontournables de ${ne}`,icon:Ku,color:"text-amber-500"},{text:ne=>`Les plus populaires  ${ne}`,icon:Cd,color:"text-green-500"},{text:ne=>`Dcouvrez cet vnement  ${ne}`,icon:Eo,color:"text-blue-500"},{text:ne=>`L'actualit  ${ne}`,icon:wd,color:"text-purple-500"},{text:ne=>`Les vnements du moment  ${ne}`,icon:ao,color:"text-pink-500"},{text:ne=>`Les bons plans  ${ne}`,icon:za,color:"text-yellow-500"},{text:ne=>`${ne} vous attend`,icon:Ku,color:"text-red-500"},{text:ne=>`Les tendances  ${ne}`,icon:Cd,color:"text-indigo-500"},{text:ne=>`Explorez ${ne}`,icon:Eo,color:"text-teal-500"}],[]),L=A.useCallback(ne=>{const de=Math.floor(Math.random()*B.length),le=B[de];return{text:le.text(ne),Icon:le.icon,color:le.color}},[B]),H=A.useCallback(async(ne,de)=>{i(!0),l(null);try{const{data:le,error:xe}=await sF(()=>Je.rpc("search_events_for_card",{p_cities:[ne]}).limit(4));if(xe)throw xe;if(t(le),ne){const Se=L(ne);M(Se)}}catch(le){console.error("Erreur lors de la rcupration des vnements locaux:",le),t([])}finally{i(!1)}},[L]),U=A.useCallback(async()=>{if(f)try{const{data:ne,error:de}=await sF(()=>Je.from("protected_event_access").select("event_id").eq("user_id",f.id).eq("status","active"));if(de)throw de;n(new Set(ne.map(le=>le.event_id)))}catch(ne){console.error("Error fetching unlocked events:",ne)}},[f]);A.useEffect(()=>{(async()=>{let de;h&&h.city&&h.country?de={city:h.city,country:h.country}:de=await FIe.detectUserLocation(),de.city&&de.country?(u(de),H(de.city,de.country)):i(!1),U()})()},[h,H,U]);const J=A.useCallback(()=>{if(c!=null&&c.city){const ne=L(c.city);M(ne)}},[c,L]),K=async ne=>{var de;try{const{data:le,error:xe}=await Je.rpc("access_protected_event",{p_event_id:ne.id,p_user_id:f.id});if(xe)throw xe;if(!le.success){if(le.message&&le.message.includes("Solde insuffisant")){T(!0);return}throw new Error(le.message)}const Se=le.amount_paid||2;N({title:"Contenu dbloqu!",description:`Vous avez dpens ${Se}. 1 a t transfr  l'organisateur.`,duration:3e3}),g(),n(ye=>new Set(ye).add(ne.id)),b(`/event/${ne.id}`)}catch(le){console.error("Erreur lors du dblocage:",le),(de=le.message)!=null&&de.includes("Solde insuffisant")||N({title:"Erreur lors du dblocage",description:le.message||"Une erreur inattendue est survenue",variant:"destructive",duration:5e3})}},G=ne=>{const de=ne.id||ne.event_id;if(!f){N({title:"Connexion requise",description:"Vous devez tre connect pour voir les dtails.",variant:"destructive"}),b("/auth");return}const le=h&&["super_admin","admin","secretary"].includes(h.user_type),xe=r.has(de)||ne.organizer_id===(f==null?void 0:f.id)||le;if(ne.event_type==="protected"&&!xe){const ye=2*((p==null?void 0:p.coin_to_fcfa_rate)||10);C({isOpen:!0,event:{...ne,id:de},cost:2,costFcfa:ye,onConfirm:()=>K({...ne,id:de})})}else b(`/event/${de}`)},re=A.useMemo(()=>e,[e]);return a?s.jsxs("section",{className:"mb-12",children:[s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsxs("h2",{className:"text-2xl font-bold flex items-center font-heading",children:[s.jsx(Eo,{className:"mr-2 text-primary"}),"vnements  proximit"]})}),s.jsx("div",{className:"flex justify-center items-center h-48 bg-card rounded-lg border border-border",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})})]}):o?s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center font-heading mb-4",children:[s.jsx(Eo,{className:"mr-2 text-primary"}),"vnements  ",(c==null?void 0:c.city)||"proximit"]}),s.jsxs("div",{className:"text-center py-16 bg-card rounded-lg border-dashed border-destructive/50",children:[s.jsx(h_e,{className:"w-16 h-16 text-destructive/50 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-destructive mb-2",children:"Oops! Une erreur est survenue."}),s.jsx("p",{className:"text-muted-foreground",children:o})]})]}):e.length===0?null:s.jsxs(Zt.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-12",children:[s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:J,className:"p-1 hover:bg-muted rounded-full transition-colors",title:"Changer le message","aria-label":"Changer le message d'en-tte",children:s.jsx(wd,{className:"w-4 h-4 text-muted-foreground"})}),s.jsxs("h2",{className:"text-2xl font-bold flex items-center font-heading",children:[O.Icon&&s.jsx(O.Icon,{className:`mr-2 ${O.color}`}),O.text||` la une  ${c==null?void 0:c.city}`]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:re.map(ne=>{const de=h&&["super_admin","admin","secretary"].includes(h.user_type),le=ne.id||ne.event_id,xe=r.has(le)||f&&ne.organizer_id===f.id||de;return s.jsx(g6,{event:{...ne,id:le},onClick:()=>G(ne),isUnlocked:xe},le)})}),s.jsx(W0,{isOpen:j,onClose:()=>T(!1),onProceed:()=>{T(!1),b("/wallet")}}),s.jsx(hl,{open:S.isOpen,onOpenChange:ne=>!ne&&C({isOpen:!1,event:null,cost:0,costFcfa:0,onConfirm:null}),children:s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:"Dbloquer cet vnement ?"}),s.jsx(el,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-4",children:[s.jsx(za,{className:"w-12 h-12 text-primary mb-4"}),s.jsxs("p",{className:"text-lg",children:['Voir les dtails de "',s.jsx("strong",{className:"text-foreground",children:(ae=S.event)==null?void 0:ae.title}),'" vous cotera'," ",s.jsxs("strong",{className:"text-foreground",children:[S.cost,""]})," (",(X=S.costFcfa)==null?void 0:X.toLocaleString("fr-FR")," FCFA)."]}),s.jsx("div",{className:"mt-4 text-sm text-muted-foreground p-4 bg-muted rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(of,{className:"w-5 h-5 mt-0.5 flex-shrink-0 text-primary"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium mb-2 text-foreground",children:"Comment fonctionne la rmunration :"}),s.jsxs("ul",{className:"space-y-2 text-xs md:text-sm",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded font-semibold",children:"2"}),s.jsx("span",{children:"sont dduits de votre solde"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"bg-green-500/10 text-green-600 px-2 py-0.5 rounded font-semibold",children:"1"}),s.jsx("span",{children:"est transfr  l'organisateur de l'vnement"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"bg-blue-500/10 text-blue-600 px-2 py-0.5 rounded font-semibold",children:"1"}),s.jsx("span",{children:"reste dans l'cosystme BonPlanInfos"})]})]}),s.jsx("p",{className:"mt-3 text-xs italic",children:"En dbloquant cet vnement, vous soutenez directement l'organisateur !"})]})]})})]})})]}),s.jsxs(ml,{children:[s.jsx(gl,{className:"mt-2 sm:mt-0",children:"Annuler"}),s.jsxs(pl,{onClick:S.onConfirm,className:"bg-primary hover:bg-primary/90",children:["Confirmer et Payer ",S.cost,""]})]})]})})]})},RIe=()=>{var L,H;const e=Ia(),{t}=Xa(),{userProfile:r,adminConfig:n,forceRefreshUserProfile:a,hasFetchError:i}=ai(),{user:o}=bn(),[l,c]=A.useState([]),[u,f]=A.useState(!0),[h,g]=A.useState(new Set),[p,N]=A.useState(!1),[b,S]=A.useState({isOpen:!1,event:null,cost:0,costFcfa:0,onConfirm:null}),C=A.useCallback(async()=>{if(i){f(!1);return}f(!0);try{const{data:U,error:J}=await Je.from("events").select("*, organizer:organizer_id(full_name), category:category_id(name, slug)").eq("status","active").eq("is_promoted",!0).gt("promotion_end",new Date().toISOString()).order("created_at",{ascending:!1}).limit(8);if(J)throw J;const K=U.map(G=>{var re,ae,X;return{...G,category_name:(re=G.category)==null?void 0:re.name,category_slug:(ae=G.category)==null?void 0:ae.slug,organizer_name:(X=G.organizer)==null?void 0:X.full_name}});if(c(K||[]),o){const{data:G,error:re}=await Je.from("protected_event_access").select("event_id").eq("user_id",o.id).eq("status","active");re?console.error("Error fetching unlocked events:",re):g(new Set(G.map(ae=>ae.event_id)))}}catch{ot({title:t("common.error_title"),description:t("home_page.loading_error.description"),variant:"destructive"})}finally{f(!1)}},[i,o,t]);A.useEffect(()=>{C()},[C]);const j=async U=>{if(!o){e("/auth");return}const J=2;await Yl.handleAction({userId:o.id,requiredCoins:J,onSuccess:async()=>{try{const{data:K,error:G}=await Je.rpc("access_protected_event",{p_event_id:U.id,p_user_id:o.id},{method:"POST"});if(G)throw G;if(!K.success)throw new Error(K.message);g(re=>new Set(re).add(U.id)),await(a==null?void 0:a()),ot({title:t("events_page.unlock_modal.success_title"),description:t("events_page.unlock_modal.success_desc",{title:U.title})}),e(`/event/${U.id}`)}catch(K){ot({title:t("common.error_title"),description:K.message,variant:"destructive"})}},onInsufficientBalance:()=>N(!0)})},T=async U=>{if(!o){e("/auth");return}const J=r&&["super_admin","admin","secretary"].includes(r.user_type),K=h.has(U.id)||U.organizer_id===o.id||J;if(U.event_type==="protected"&&!K){const re=2*((n==null?void 0:n.coin_to_fcfa_rate)||10);S({isOpen:!0,event:U,cost:2,costFcfa:re,onConfirm:()=>j(U)})}else e(`/event/${U.id}`)},O=()=>{N(!1),e("/wallet")},M=()=>{window.location.reload()},B=r&&["organizer","admin","super_admin"].includes(r.user_type);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(Di,{children:[s.jsxs("title",{children:[t("nav.home")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:t("footer.tagline")})]}),!i&&s.jsx(roe,{}),!i&&s.jsx(UPe,{}),s.jsxs("main",{className:"container mx-auto px-4 pt-8 pb-24",children:[s.jsx($Pe,{}),s.jsx(DIe,{}),s.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"my-12",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-6 gap-4",children:[s.jsxs("h2",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(xu,{className:"text-primary"}),t("home_page.sponsored_events")]}),B&&s.jsxs(Ue,{onClick:()=>e("/boost"),variant:"premium",children:[s.jsx(Ql,{className:"w-4 h-4 mr-2"}),t("home_page.boost_event")]})]}),i?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Kc,{className:"w-12 h-12 text-destructive mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-destructive mb-2",children:t("home_page.loading_error.title")}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-4",children:t("home_page.loading_error.description")}),s.jsxs(Ue,{onClick:M,children:[s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),t("common.retry")]})]}):u?s.jsxs("div",{className:"text-center text-muted-foreground mt-8 flex items-center justify-center",children:[s.jsx(Jt,{className:"w-6 h-6 animate-spin mr-2"}),t("common.loading")]}):l.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(U=>s.jsx(g6,{event:U,isUnlocked:h.has(U.id)||o&&U.organizer_id===o.id||r&&["super_admin","admin","secretary"].includes(r.user_type),onClick:()=>T(U)},U.id))}):s.jsxs("div",{className:"text-center py-16 bg-card/50 rounded-lg border border-dashed border-border",children:[s.jsx(xu,{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-muted-foreground mb-2",children:t("home_page.no_sponsored_events.title")}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto mb-4",children:t("home_page.no_sponsored_events.description")}),B&&s.jsxs(Ue,{onClick:()=>e("/boost"),variant:"premium",children:[s.jsx(Ql,{className:"w-4 h-4 mr-2"}),t("home_page.no_sponsored_events.button")]})]})]}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs(Ue,{variant:"outline",onClick:()=>e("/events"),children:[t("home_page.view_all_events"),s.jsx(Um,{className:"w-4 h-4 ml-2"})]})})]}),s.jsx(W0,{isOpen:p,onClose:()=>N(!1),onProceed:O}),s.jsx(hl,{open:b.isOpen,onOpenChange:U=>!U&&S({isOpen:!1,event:null,cost:0,costFcfa:0,onConfirm:null}),children:s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:t("events_page.unlock_modal.title")}),s.jsx(el,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-4",children:[s.jsx(za,{className:"w-12 h-12 text-primary mb-4"}),s.jsx("p",{className:"text-lg",children:t("events_page.unlock_modal.description",{title:(L=b.event)==null?void 0:L.title,cost:b.cost,costFcfa:(H=b.costFcfa)==null?void 0:H.toLocaleString("fr-FR")})}),s.jsxs("div",{className:"mt-4 text-xs text-muted-foreground p-2 bg-muted rounded flex items-start gap-2",children:[s.jsx(of,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:t("events_page.unlock_modal.info")})]})]})})]}),s.jsxs(ml,{children:[s.jsx(gl,{children:t("common.cancel")}),s.jsx(pl,{onClick:b.onConfirm,children:t("common.confirm")})]})]})})]})},er=Ve.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:kr("flex h-11 w-full rounded-md border border-input bg-background px-4 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));er.displayName="Input";var MIe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],LIe=MIe.reduce((e,t)=>{const r=$j(`Primitive.${t}`),n=A.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),BIe="Label",poe=A.forwardRef((e,t)=>s.jsx(LIe.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));poe.displayName=BIe;var goe=poe;const UIe=Wx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),jt=Ve.forwardRef(({className:e,...t},r)=>s.jsx(goe,{ref:r,className:kr(UIe(),e),...t}));jt.displayName=goe.displayName;const s3=[{code:"DZ",name:"Algrie"},{code:"AO",name:"Angola"},{code:"BJ",name:"Bnin"},{code:"BW",name:"Botswana"},{code:"BF",name:"Burkina Faso"},{code:"BI",name:"Burundi"},{code:"CM",name:"Cameroun"},{code:"CV",name:"Cap-Vert"},{code:"CF",name:"Rpublique centrafricaine"},{code:"TD",name:"Tchad"},{code:"KM",name:"Comores"},{code:"CG",name:"Rpublique du Congo"},{code:"CD",name:"Rpublique dmocratique du Congo"},{code:"CI",name:"Cte d'Ivoire"},{code:"DJ",name:"Djibouti"},{code:"EG",name:"gypte"},{code:"GQ",name:"Guine quatoriale"},{code:"ER",name:"rythre"},{code:"SZ",name:"Eswatini"},{code:"ET",name:"thiopie"},{code:"GA",name:"Gabon"},{code:"GM",name:"Gambie"},{code:"GH",name:"Ghana"},{code:"GN",name:"Guine"},{code:"GW",name:"Guine-Bissau"},{code:"KE",name:"Kenya"},{code:"LS",name:"Lesotho"},{code:"LR",name:"Libria"},{code:"LY",name:"Libye"},{code:"MG",name:"Madagascar"},{code:"MW",name:"Malawi"},{code:"ML",name:"Mali"},{code:"MR",name:"Mauritanie"},{code:"MU",name:"Maurice"},{code:"MA",name:"Maroc"},{code:"MZ",name:"Mozambique"},{code:"NA",name:"Namibie"},{code:"NE",name:"Niger"},{code:"NG",name:"Nigria"},{code:"RW",name:"Rwanda"},{code:"ST",name:"Sao Tom-et-Principe"},{code:"SN",name:"Sngal"},{code:"SC",name:"Seychelles"},{code:"SL",name:"Sierra Leone"},{code:"SO",name:"Somalie"},{code:"ZA",name:"Afrique du Sud"},{code:"SS",name:"Soudan du Sud"},{code:"SD",name:"Soudan"},{code:"TZ",name:"Tanzanie"},{code:"TG",name:"Togo"},{code:"TN",name:"Tunisie"},{code:"UG",name:"Ouganda"},{code:"ZM",name:"Zambie"},{code:"ZW",name:"Zimbabwe"}],Ny={Algrie:["Alger","Oran","Constantine","Annaba","Blida","Batna","Djelfa","Stif","Sidi Bel Abbs","Biskra","Tbessa","Tiaret","Ouargla","Mostaganem","Tlemcen","Bjaa","Skikda","El Eulma","Mda","Chlef","Ghardaa","Tamanrasset","Adrar","Laghouat","Oum El Bouaghi"],Angola:["Luanda","Huambo","Lobito","Benguela","Lubango","Malanje","Namibe","Soyo","Cabinda","Uge","Sumbe","Menongue","Dundo","Ndalatando","Mbanza Kongo","Luena","Saurimo","Kuito","Caxito","Ondjiva","Catumbela","Camacupa","Waku-Kungo","Gabela","Caconda"],Bnin:["Cotonou","Porto-Novo","Parakou","Djougou","Bohicon","Abomey","Natitingou","Lokossa","Ouidah","Abomey-Calavi","Savalou","Sakt","Kandi","Malanville","Pob","Com","Dogbo-Tota","Sav","Tchaourou","Tanguita","Nikki","Aplahou","Dassa-Zoum","Grand-Popo","Ktou"],Botswana:["Gaborone","Francistown","Molepolole","Maun","Serowe","Selibe Phikwe","Kanye","Mahalapye","Mochudi","Mogoditshane","Palapye","Lobatse","Ramotswa","Thamaga","Moshupa","Jwaneng","Ghanzi","Kasane","Orapa","Tlokweng","Letlhakane","Shoshong","Tonota","Tutume","Gumare"],"Burkina Faso":["Ouagadougou","Bobo-Dioulasso","Ddougou","Nouna","Solenzo","Toma","Tougan","Banfora","Sindou","Tenkodogo","Kaya","Kongoussi","Boulsa","Koudougou","Manga","Lo","Kombissiri","P","Diapaga","Pama","Fada N'Gourma","Gayeri","Bogand","Orodara","Hound","Ouahigouya","Titao","Gourcy","Yako","Zorgho","Bouss","Ziniar","Dori","Sebba","Gorom-Gorom","Djibo","Aribinda","Gaoua","Dano","Bati","Dibougou","Saaba","Pabr","Koubri","Komsilga","Tanghin-Dassouri","Baskuy","Boulmiougou","Sig-Nonghin","Nioko II","Garango","Bittou","Koupla","Pouytenga","Barsalogho","Pissila","Sourgoubila","R","Sapon","Loumbila","Kampti","Loropeni","Markoye"],Burundi:["Bujumbura","Gitega","Muyinga","Ngozi","Ruyigi","Kayanza","Bururi","Rutana","Makamba","Muramvya","Cibitoke","Bubanza","Karuzi","Cankuzo","Kirundo","Rumonge","Mwaro","Isale","Gatumba","Kabezi","Gisuru","Mabanda","Gihofi","Bugendana","Matana"],Cameroun:["Yaound","Douala","Garoua","Bamenda","Maroua","Bafoussam","Ngaoundr","Bertoua","Ebolowa","Kribi","Kumba","Limbe","Eda","Nkongsamba","Mbouda","Loum","Tiko","Sangmlima","Bafia","Guider","Meiganga","Yagoua","Koussri","Foumban","Dschang","Buea","Mamfe","Fontem","Wum","Banyo","Batouri","Mokolo","Ndop","Muyuka","Foumbot","Baham","Bangangt","Banyo","Bali","Foumban","Fundong","Mbouda","Tibati","Mbalmayo","Eska","Nkondjock","Nkongsamba","Loum","Nkongsamba"],"Cap-Vert":["Praia","Mindelo","Santa Maria","Assomada","Porto Novo","So Filipe","Tarrafal","Espargos","Pedra Badejo","Cidade Velha","Sal Rei","Vila do Maio","Ribeira Brava","Pombas","Calheta de So Miguel","Mosteiros","Tarrafal de So Nicolau","Ribeira Grande","Picos","So Domingos","Nova Sintra","Ribeira da Barca","Ponta do Sol","Vila Nova Sintra","Igreja"],"Rpublique centrafricaine":["Bangui","Bimbo","Berbrati","Carnot","Bambari","Bouar","Bossangoa","Bria","Bangassou","Nola","Kaga-Bandoro","Mbaki","Bozoum","Paoua","Batangafo","Alindao","Sibut","Zinga","Ippy","Mobaye","Obo","N'Dl","Birao","Damara","Bouca"],Tchad:["N'Djamena","Moundou","Sarh","Abch","Klo","Koumra","Pala","Am Timan","Bongor","Mongo","Doba","Ati","La","Oum Hadjer","Bitkine","Mao","Faya-Largeau","Bol","Moussoro","Massakory","Biltine","Adr","Goz Beda","Massaguet","Bokoro"],Comores:["Moroni","Mutsamudu","Fomboni","Domoni","Tsimbeo","Adda-Douni","Mirontsi","Ouani","Moya","Iconi","Dembni","Sima","Miringoni","Chandra","Bambao","Hajoho","Itsandra","Nioumachoua","Sada","Vouvouni","Itsinkoudi","Ouzini","Jimlimi","Panda","Mitsamiouli"],"Rpublique du Congo":["Brazzaville","Pointe-Noire","Dolisie","Nkayi","Impfondo","Ouesso","Madingou","Owando","Gamboma","Mossendjo","Kayes","Djambala","Sibiti","Loudima","Makoua","Ewo","Kinkala","Boundji","Mindouli","Loutt","Oyo","Pokola","Semb","Lkana","Komono"],"Rpublique dmocratique du Congo":["Kinshasa","Lubumbashi","Mbuji-Mayi","Kananga","Kisangani","Bukavu","Goma","Kolwezi","Matadi","Likasi","Boma","Tshikapa","Beni","Butembo","Mbandaka","Kikwit","Uvira","Mwene-Ditu","Isiro","Bunia","Gemena","Bandundu","Ilebo","Kalemie","Kindu"],"Cte d'Ivoire":["Abidjan","Cocody","Yopougon","Abobo","Marcory","Koumassi","Treichville","Plateau","Port-Bout","Attcoub","Adjam","Songon","Yamoussoukro","Bouak","Daloa","Korhogo","San-Pdro","Man","Gagnoa","Divo","Abengourou","Anyama","Aboisso","Soubr","Agboville","Dimbokro","Bondoukou","Ferkessdougou","Odienn","Sgula","Toumodi","Danan","Guiglo","Dukou","Bangolo","Issia","Sinfra","Tiassal","Bongouanou","Jacqueville","Grand-Bassam","Grand-Lahou","Bingerville","Adzop","Magui","Vavoua","Tabou","Lakota","Zunoula","Tingrla","Bouna","Tanda","Minignan","Boundiali","Arrah","Bouafl","Katiola","Mankono","Touba","Sassandra","Facobly","Sikensi","Tibissou","Kani","Kouibly","Azagui","Botro","Prikro","Guibroua","Zikisso","Buyo","Oum","Kouassi-Kouassikro","Akoup","Bocanda","Adiak","Assinie","Fresco","Gboguh","Taabo","Niakaramadougou","Zouan-Hounien","Sipilou","Ayam","Sangouin"],Djibouti:["Djibouti","Ali Sabieh","Tadjourah","Obock","Dikhil","Arta","Ali Adde","Balho","Goumo","Holhol","Randa","Wea","Loyada","Gagade","Godoria","Markazi","Yoboki","Dorra","Galafi","As Eyla","Khor Angar","Moulhoule","Day","Bankoual","Sagallou"],gypte:["Le Caire","Alexandrie","Gizeh","Shubra El Kheima","Port-Sad","Suez","Luxor","Mansoura","Tanta","Asyut","Ismalia","Fayoum","Zagazig","Mahalla","Sohag","Hurghada","Assouan","Damanhur","Minya","Qena","Beni Suef","Sharm El Sheikh","Marsa Matruh","Damietta","Kafr El Sheikh"],"Guine quatoriale":["Malabo","Bata","Mongomo","Ebebiyin","Evinayong","Aconibe","Mikomeseng","Nsok","Riaba","Akurenam","Bikl","Cogo","Rebola","Nsang","Anisoc","Luba","Mbini","Aisoc","Oyala","Ciudad de la Paz","Niefang","Machinda","Acurenam","Corisco","Annobn"],rythre:["Asmara","Keren","Massawa","Assab","Mendefera","Barentu","Dekemhare","Adi Keyh","Teseney","Afabet","Agordat","Senafe","Nakfa","Ghinda","Oroba","Filfil","Adi Quala","Segeneiti","Ak'ordat","Nak'fa","Edd","Beilul","Thio","Foro","Zula"],Eswatini:["Mbabane","Manzini","Lobamba","Siteki","Malkerns","Piggs Peak","Nhlangano","Simunye","Lavumisa","Hlatikulu","Mhlume","Bhunya","Nsoko","Siphofaneni","Matsapha","Big Bend","Mankayane","Kubuta","Tjaneni","Hluti","Vuvulane","Ngwenya","Lomahasha","Gege","Sidvokodvo"],thiopie:["Addis-Abeba","Dire Dawa","Mekelle","Gondar","Bahir Dar","Awasa","Adama","Jimma","Harar","Dessie","Shashamane","Hawassa","Debre Birhan","Asosa","Bale Robe","Sodo","Arba Minch","Jijiga","Nekemte","Debre Markos","Axum","Lalibela","Gambela","Semera","Wolaita Sodo"],Gabon:["Libreville","Port-Gentil","Franceville","Oyem","Moanda","Lambarn","Tchibanga","Makokou","Bitam","Ndend","Mouila","Koulamoutou","Bongoville","Mayumba","Lastoursville","Mimongo","Mitzic","Lbamba","Okondja","Gamba","Ntoum","Cocobeach","Fougamou","Ombou","Boou"],Gambie:["Banjul","Serekunda","Brikama","Bakau","Farafenni","Lamin","Basse Santa Su","Kuntaur","Bansang","Janjanbureh","Gunjur","Sami","Diabugu","Juffureh","Gambissara","Sukuta","Essau","Barra","Soma","Kerewan","Brufut","Tanji","Kartong","Wassu","Kudang"],Ghana:["Accra","Kumasi","Tamale","Takoradi","Ashaiman","Cape Coast","Sekondi-Takoradi","Obuasi","Tema","Sunyani","Koforidua","Ho","Wa","Bolgatanga","Techiman","Tumu","Madina","Bawku","Winneba","Suhum","Aflao","Elmina","Nkawkaw","Axim","Tarkwa"],Guine:["Conakry","Nzrkor","Kankan","Kindia","Lab","Mamou","Guckdou","Bok","Coyah","Fria","Kouroussa","Dalaba","Tougu","Pita","Krouan","Yomou","Kissidougou","Siguiri","Macenta","Dabola","Forcariah","Dubrka","Tliml","Koundara","Mandiana"],"Guine-Bissau":["Bissau","Bafat","Gab","Bissor","Buba","Cacheu","Bolama","Canchungo","Bubaque","Cati","Farim","So Domingos","Cufar","Quebo","Binar","Mansa","Fulacunda","Prabis","Nhacra","Mansab","Safim","Enxud","Bambadinca","Contuboel","Pirada"],Kenya:["Nairobi","Mombasa","Kisumu","Nakuru","Eldoret","Thika","Kitale","Malindi","Naivasha","Machakos","Garissa","Kisii","Meru","Nyeri","Embu","Kakamega","Lamu","Voi","Ruiru","Kericho","Isiolo","Wajir","Mandera","Lodwar","Marsabit"],Lesotho:["Maseru","Teyateyaneng","Mafeteng","Hlotse","Mohale's Hoek","Quthing","Butha-Buthe","Mokhotlong","Thaba-Tseka","Maputsoe","Qacha's Nek","Roma","Semonkong","Matsieng","Leribe","Peka","Pitseng","Nako","Ha Mofoka","Ha Lejone","Sani Pass","Katse","Mantsonyane","Morija","Pitseng"],Libria:["Monrovia","Gbarnga","Bensonville","Buchanan","Voinjama","Harper","Zwedru","Kakata","Sanniquellie","Greenville","Ganta","Bopolu","Pleebo","Bomi Hills","Tappita","River Cess","Fish Town","Robertsport","Barclayville","Tubmanburg","Paynesville","Careysburg","Harbel","Marshall","Edina"],Libye:["Tripoli","Benghazi","Misrata","Bayda","Zawiya","Sirte","Ajdabiya","Sabha","Al Marj","Derna","Ghat","Tobruk","Yefren","Ghadames","Murzuq","Zliten","Khoms","Nalut","Jadu","Ubari","Zuwara","Gharyan","Tarhuna","Bani Walid","Al-Jufra"],Madagascar:["Antananarivo","Toamasina","Antsirabe","Fianarantsoa","Mahajanga","Toliara","Antsiranana","Ambatondrazaka","Moramanga","Betafo","Farafangana","Sambava","Vohmar","Mananjary","Ambalavao","Amparafaravola","Morondava","Ambanja","Ambositra","Ihosy","Nosy Be","Sainte Marie","Taolagnaro","Maroantsetra","Andoany"],Malawi:["Lilongwe","Blantyre","Mzuzu","Zomba","Mangochi","Kasungu","Ntcheu","Karonga","Mchinji","Salima","Dedza","Nkhotakota","Balaka","Chiradzulu","Thyolo","Mwanza","Liwonde","Rumphi","Nsanje","Chitipa","Mulanje","Nkhata Bay","Mzimba","Phalombe","Dowa"],Mali:["Bamako","Sikasso","Mopti","Koutiala","Kayes","Gao","Tombouctou","Kati","Segou","San","Douentza","Kidal","Niono","Bandiagara","Markala","Bougouni","Djenn","Kolokani","Yorosso","Bla","Kita","Nara","Banamba","Kangaba","Koulikoro"],Mauritanie:["Nouakchott","Nouadhibou","Rosso","Kiffa","Kadi","Atar","Nma","Tidjikja","Boutilimit","Zourate","Maghama","Bogu","Oualata","Kobeni","Aleg","Aioun","Timbedra","Guerou","Slibaby","Akjoujt","Chinguetti","Tichitt","F'Derick","Bir Moghrein","Bassikounou"],Maurice:["Port-Louis","Beau Bassin-Rose Hill","Vacoas-Phoenix","Curepipe","Quatre Bornes","Goodlands","Triolet","Mahebourg","Flacq","Pamplemousses","Flic en Flac","Rose Belle","Souillac","Rivire du Rempart","Mapou","Grand Baie","Bel Air","Mahbourg","Port Mathurin","Centre de Flacq","Tamarin","Chamarel","Le Morne","Poste de Flacq","Trou d'Eau Douce"],Maroc:["Rabat","Casablanca","Fs","Marrakech","Mekns","Agadir","Tangier","Oujda","Kenitra","Tetouan","Safi","El Jadida","Nador","Bni Mellal","Khouribga","Settat","Laayoune","Sal","Inezgane","Taza","Essaouira","Chefchaouen","Ifrane","Ouarzazate","Dakhla"],Mozambique:["Maputo","Matola","Beira","Nampula","Chimoio","Nacala","Quelimane","Tete","Xai-Xai","Pemba","Lichinga","Inhambane","Maxixe","Mocuba","Gaza","Manica","Angoche","Cuamba","Montepuez","Dondo","Vilankulo","Ponta do Ouro","Gorongosa","Ilha de Moambique","Chokwe"],Namibie:["Windhoek","Rundu","Walvis Bay","Swakopmund","Oshakati","Katima Mulilo","Oshikango","Luderitz","Otjiwarongo","Grootfontein","Mariental","Keetmanshoop","Rehoboth","Okahandja","Karasburg","Tsumeb","Gobabis","Outjo","Ongwediva","Henties Bay","Opuwo","Oranjemund","Usakos","Arandis","Karibib"],Niger:["Niamey","Zinder","Maradi","Agadez","Tahoua","Dosso","Diffa","Birni-NKonni","Gaya","Filingu","Tra","Goure","Tchintabaraden","Arlit","Say","Magaria","Madaoua","Mayahi","Dakoro","Tessaoua","Illla","Dogondoutchi","Abalak","Keita","Tillabri"],Nigria:["Lagos","Abuja","Kano","Ibadan","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos","Ilorin","Oyo","Enugu","Warri","Bauchi","Kaduna","Abeokuta","Onitsha","Calabar","Akure","Sokoto","Katsina","Minna","Makurdi","Owerri"],Rwanda:["Kigali","Butare","Gisenyi","Ruhengeri","Byumba","Gitarama","Kibuye","Cyangugu","Kibungo","Rwamagana","Muhanga","Ngoma","Nyagatare","Nyanza","Rusizi","Nyamata","Huye","Musanze","Rubavu","Kayonza","Gicumbi","Karongi","Nyamasheke","Rulindo","Gasabo"],"Sao Tom-et-Principe":["So Tom","Santo Amaro","Trindade","Neves","Santa Catarina","Principe","Boca de Inferno","So Joo dos Angolares","Santa Cruz","Porto Alegre","Santa Luzia","So Jos","Praia Melo","Ribeira Afonso","Diogo Vaz","Sundi","Guadalupe","Santana","Ribeira Peixe","Ponta Figo","Santo Antnio","Infante Dom Henrique","Praia das Conchas","Praia Inhame","Praia Jal"],Sngal:["Dakar","This","Saint-Louis","Kaolack","Ziguinchor","Touba","Diourbel","Tambacounda","Louga","Mbour","Kolda","Fatick","Bakel","Kdougou","Matam","Rufisque","Guinguino","Pikine","Sdhiou","Richard Toll","Joal-Fadiouth","Cap Skirring","Podor","Vlingara","Saly Portudal"],Seychelles:["Victoria","Anse Boileau","Beau Vallon","Baie Lazare","Anse Royale","Bel Ombre","Mont Fleuri","Glacis","La Digue","Anse Etoile","Grand Anse","Roche Caiman","Cascade","Port Glaud","Takamaka","Bel Air","Praslin","Au Cap","Les Mamelles","Plaisance","La Passe","Anse Volbert","Baie Sainte Anne","Anse aux Pins","Pointe La Rue"],"Sierra Leone":["Freetown","Bo","Kenema","Makeni","Koidu","Moyamba","Kabala","Bonthe","Magburaka","Pujehun","Kambia","Mattru Jong","Masiaka","Lunsar","Baiima","Kailahun","Waterloo","Goderich","Port Loko","Wellington","Tokeh","Banana Islands","Tiwai Island","Gola Rainforest National Park","Outamba-Kilimi National Park"],Somalie:["Mogadiscio","Hargeisa","Bosaso","Kismayo","Berbera","Galkayo","Baidoa","Marka","Merca","Buur Hakaba","Jowhar","Garowe","Qardho","Afgooye","Bardera","Balcad","Jamaame","Luuq","Borama","Erigavo","Las Anod","Dhusamareb","Beledweyne","Wanlaweyn","El-Wak"],"Afrique du Sud":["Johannesburg","Cape Town","Durban","Pretoria","Port Elizabeth","Bloemfontein","Pietermaritzburg","Nelspruit","Kimberley","Polokwane","East London","Welkom","Mthatha","Rustenburg","George","Mahikeng","Soweto","Sandton","Centurion","Randburg","Stellenbosch","Paarl","Knysna","Hermanus","Franschhoek"],"Soudan du Sud":["Juba","Malakal","Wau","Yei","Bor","Rumbek","Aweil","Bentiu","Torit","Yambio","Kuajok","Melut","Pibor","Renk","Nasir","Mayom","Maridi","Kapoeta","Gogrial","Tonj","Nimule","Kaya","Raja","Terekeka","Akobo"],Soudan:["Khartoum","Omdurman","Port Sudan","Kassala","Al-Fashir","Nyala","El Obeid","Dongola","Geneina","Kosti","Ed Damer","Shendi","Atbara","Halfa","Merowe","Al Qadarif","Wad Madani","Sennar","Ad-Damazin","Rabak","Suakin","Karima","Berber","Zalingei","El-Managil"],Tanzanie:["Dar es Salaam","Dodoma","Mwanza","Arusha","Mbeya","Morogoro","Tanga","Moshi","Zanzibar City","Iringa","Tabora","Sumbawanga","Kigoma","Singida","Shinyanga","Lindi","Musoma","Songea","Bukoba","Sumbawanga","Stone Town","Nungwi","Paje","Serengeti","Ngorongoro"],Togo:["Lom","Sokod","Kara","Atakpam","Dapaong","Bassar","Anho","Tsvi","Tchamba","Vogan","Kpalim","Badou","Mango","Pagouda","Blitta","Ktao","Niamtougou","Bafilo","Cinkass","Sotouboua","Kand","Tabligbo","Nots","Togoville","Amlam"],Tunisie:["Tunis","Sfax","Sousse","Ettadhamen","Kairouan","Bizerte","Gabs","Ariana","Gafsa","El Mourouj","La Marsa","La Goulette","Monastir","Kbili","Nabeul","Sidi Bouzid","Hammamet","Djerba","Ben Arous","Mdenine","Tozeur","Douz","Matmata","Carthage","Sidi Bou Said"],Ouganda:["Kampala","Entebbe","Gulu","Jinja","Mbale","Lira","Mbarara","Masaka","Fort Portal","Soroti","Kabale","Iganga","Hoima","Tororo","Kitgum","Bushenyi","Arua","Kasese","Mukono","Wakiso","Mityana","Luwero","Masindi","Nebbi","Paidha"],Zambie:["Lusaka","Ndola","Kitwe","Livingstone","Kabwe","Chingola","Mufulira","Chipata","Kasama","Luanshya","Choma","Kalulushi","Mazabuka","Solwezi","Mongu","Kapiri Mposhi","Mansa","Monze","Mpika","Kafue","Siavonga","Chililabombwe","Mbala","Samfya","Nakonde"],Zimbabwe:["Harare","Bulawayo","Mutare","Gweru","Kwekwe","Masvingo","Chitungwiza","Kadoma","Marondera","Chegutu","Bindura","Chinhoyi","Victoria Falls","Hwange","Zvishavane","Kariba","Beitbridge","Redcliff","Rusape","Norton","Great Zimbabwe","Nyanga","Chimanimani","Gonarezhou","Mana Pools"]};function _A(e,[t,r]){return Math.min(r,Math.max(t,e))}function $Ie(e){const t=zIe(e),r=A.forwardRef((n,a)=>{const{children:i,...o}=n,l=A.Children.toArray(i),c=l.find(WIe);if(c){const u=c.props.children,f=l.map(h=>h===c?A.Children.count(u)>1?A.Children.only(null):A.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:a,children:A.isValidElement(u)?A.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function zIe(e){const t=A.forwardRef((r,n)=>{const{children:a,...i}=r;if(A.isValidElement(a)){const o=qIe(a),l=HIe(i,a.props);return a.type!==A.Fragment&&(l.ref=n?z0(n,o):o),A.cloneElement(a,l)}return A.Children.count(a)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VIe=Symbol("radix.slottable");function WIe(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VIe}function HIe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function qIe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function x6(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var GIe=[" ","Enter","ArrowUp","ArrowDown"],KIe=[" ","Enter"],Nx="Select",[v6,y6,YIe]=ub(Nx),[wb,p5t]=Nc(Nx,[YIe,B1]),b6=B1(),[XIe,z1]=wb(Nx),[ZIe,JIe]=wb(Nx),xoe=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:g,required:p,form:N}=e,b=b6(t),[S,C]=A.useState(null),[j,T]=A.useState(null),[O,M]=A.useState(!1),B=qx(u),[L,H]=_c({prop:n,defaultProp:a??!1,onChange:i,caller:Nx}),[U,J]=_c({prop:o,defaultProp:l,onChange:c,caller:Nx}),K=A.useRef(null),G=S?N||!!S.closest("form"):!0,[re,ae]=A.useState(new Set),X=Array.from(re).map(ne=>ne.props.value).join(";");return s.jsx(Kj,{...b,children:s.jsxs(XIe,{required:p,scope:t,trigger:S,onTriggerChange:C,valueNode:j,onValueNodeChange:T,valueNodeHasChildren:O,onValueNodeHasChildrenChange:M,contentId:_d(),value:U,onValueChange:J,open:L,onOpenChange:H,dir:B,triggerPointerDownPosRef:K,disabled:g,children:[s.jsx(v6.Provider,{scope:t,children:s.jsx(ZIe,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(ne=>{ae(de=>new Set(de).add(ne))},[]),onNativeOptionRemove:A.useCallback(ne=>{ae(de=>{const le=new Set(de);return le.delete(ne),le})},[]),children:r})}),G?s.jsxs($oe,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:U,onChange:ne=>J(ne.target.value),disabled:g,form:N,children:[U===void 0?s.jsx("option",{value:""}):null,Array.from(re)]},X):null]})})};xoe.displayName=Nx;var voe="SelectTrigger",yoe=A.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=b6(r),o=z1(voe,r),l=o.disabled||n,c=Ra(t,o.onTriggerChange),u=y6(r),f=A.useRef("touch"),[h,g,p]=Voe(b=>{const S=u().filter(T=>!T.disabled),C=S.find(T=>T.value===o.value),j=Woe(S,b,C);j!==void 0&&o.onValueChange(j.value)}),N=b=>{l||(o.onOpenChange(!0),p()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return s.jsx(z5,{asChild:!0,...i,children:s.jsx(Dn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":zoe(o.value)?"":void 0,...a,ref:c,onClick:Rr(a.onClick,b=>{b.currentTarget.focus(),f.current!=="mouse"&&N(b)}),onPointerDown:Rr(a.onPointerDown,b=>{f.current=b.pointerType;const S=b.target;S.hasPointerCapture(b.pointerId)&&S.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(N(b),b.preventDefault())}),onKeyDown:Rr(a.onKeyDown,b=>{const S=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(S&&b.key===" ")&&GIe.includes(b.key)&&(N(),b.preventDefault())})})})});yoe.displayName=voe;var boe="SelectValue",woe=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=z1(boe,r),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,h=Ra(t,c.onValueNodeChange);return fl(()=>{u(f)},[u,f]),s.jsx(Dn.span,{...l,ref:h,style:{pointerEvents:"none"},children:zoe(c.value)?s.jsx(s.Fragment,{children:o}):i})});woe.displayName=boe;var QIe="SelectIcon",_oe=A.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Dn.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});_oe.displayName=QIe;var eFe="SelectPortal",Noe=e=>s.jsx(db,{asChild:!0,...e});Noe.displayName=eFe;var Sx="SelectContent",Soe=A.forwardRef((e,t)=>{const r=z1(Sx,e.__scopeSelect),[n,a]=A.useState();if(fl(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?$x.createPortal(s.jsx(Coe,{scope:e.__scopeSelect,children:s.jsx(v6.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(Aoe,{...e,ref:t})});Soe.displayName=Sx;var vh=10,[Coe,V1]=wb(Sx),tFe="SelectContentImpl",rFe=$Ie("SelectContent.RemoveScroll"),Aoe=A.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:p,sticky:N,hideWhenDetached:b,avoidCollisions:S,...C}=e,j=z1(Sx,r),[T,O]=A.useState(null),[M,B]=A.useState(null),L=Ra(t,ue=>O(ue)),[H,U]=A.useState(null),[J,K]=A.useState(null),G=y6(r),[re,ae]=A.useState(!1),X=A.useRef(!1);A.useEffect(()=>{if(T)return Zj(T)},[T]),zj();const ne=A.useCallback(ue=>{const[Ce,...Ne]=G().map(Be=>Be.ref.current),[Ee]=Ne.slice(-1),Ge=document.activeElement;for(const Be of ue)if(Be===Ge||(Be==null||Be.scrollIntoView({block:"nearest"}),Be===Ce&&M&&(M.scrollTop=0),Be===Ee&&M&&(M.scrollTop=M.scrollHeight),Be==null||Be.focus(),document.activeElement!==Ge))return},[G,M]),de=A.useCallback(()=>ne([H,T]),[ne,H,T]);A.useEffect(()=>{re&&de()},[re,de]);const{onOpenChange:le,triggerPointerDownPosRef:xe}=j;A.useEffect(()=>{if(T){let ue={x:0,y:0};const Ce=Ee=>{var Ge,Be;ue={x:Math.abs(Math.round(Ee.pageX)-(((Ge=xe.current)==null?void 0:Ge.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((Be=xe.current)==null?void 0:Be.y)??0))}},Ne=Ee=>{ue.x<=10&&ue.y<=10?Ee.preventDefault():T.contains(Ee.target)||le(!1),document.removeEventListener("pointermove",Ce),xe.current=null};return xe.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[T,le,xe]),A.useEffect(()=>{const ue=()=>le(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[le]);const[Se,ye]=Voe(ue=>{const Ce=G().filter(Ge=>!Ge.disabled),Ne=Ce.find(Ge=>Ge.ref.current===document.activeElement),Ee=Woe(Ce,ue,Ne);Ee&&setTimeout(()=>Ee.ref.current.focus())}),ee=A.useCallback((ue,Ce,Ne)=>{const Ee=!X.current&&!Ne;(j.value!==void 0&&j.value===Ce||Ee)&&(U(ue),Ee&&(X.current=!0))},[j.value]),he=A.useCallback(()=>T==null?void 0:T.focus(),[T]),se=A.useCallback((ue,Ce,Ne)=>{const Ee=!X.current&&!Ne;(j.value!==void 0&&j.value===Ce||Ee)&&K(ue)},[j.value]),te=n==="popper"?oF:Eoe,ge=te===oF?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:p,sticky:N,hideWhenDetached:b,avoidCollisions:S}:{};return s.jsx(Coe,{scope:r,content:T,viewport:M,onViewportChange:B,itemRefCallback:ee,selectedItem:H,onItemLeave:he,itemTextRefCallback:se,focusSelectedItem:de,selectedItemText:J,position:n,isPositioned:re,searchRef:Se,children:s.jsx(Qj,{as:rFe,allowPinchZoom:!0,children:s.jsx(U5,{asChild:!0,trapped:j.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:Rr(a,ue=>{var Ce;(Ce=j.trigger)==null||Ce.focus({preventScroll:!0}),ue.preventDefault()}),children:s.jsx(Vx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:s.jsx(te,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:ue=>ue.preventDefault(),...C,...ge,onPlaced:()=>ae(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Rr(C.onKeyDown,ue=>{const Ce=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!Ce&&ue.key.length===1&&ye(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Ee=G().filter(Ge=>!Ge.disabled).map(Ge=>Ge.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Ge=ue.target,Be=Ee.indexOf(Ge);Ee=Ee.slice(Be+1)}setTimeout(()=>ne(Ee)),ue.preventDefault()}})})})})})})});Aoe.displayName=tFe;var nFe="SelectItemAlignedPosition",Eoe=A.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=z1(Sx,r),o=V1(Sx,r),[l,c]=A.useState(null),[u,f]=A.useState(null),h=Ra(t,L=>f(L)),g=y6(r),p=A.useRef(!1),N=A.useRef(!0),{viewport:b,selectedItem:S,selectedItemText:C,focusSelectedItem:j}=o,T=A.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&b&&S&&C){const L=i.trigger.getBoundingClientRect(),H=u.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),J=C.getBoundingClientRect();if(i.dir!=="rtl"){const Ge=J.left-H.left,Be=U.left-Ge,st=L.left-Be,lt=L.width+st,Me=Math.max(lt,H.width),wt=window.innerWidth-vh,_t=_A(Be,[vh,Math.max(vh,wt-Me)]);l.style.minWidth=lt+"px",l.style.left=_t+"px"}else{const Ge=H.right-J.right,Be=window.innerWidth-U.right-Ge,st=window.innerWidth-L.right-Be,lt=L.width+st,Me=Math.max(lt,H.width),wt=window.innerWidth-vh,_t=_A(Be,[vh,Math.max(vh,wt-Me)]);l.style.minWidth=lt+"px",l.style.right=_t+"px"}const K=g(),G=window.innerHeight-vh*2,re=b.scrollHeight,ae=window.getComputedStyle(u),X=parseInt(ae.borderTopWidth,10),ne=parseInt(ae.paddingTop,10),de=parseInt(ae.borderBottomWidth,10),le=parseInt(ae.paddingBottom,10),xe=X+ne+re+le+de,Se=Math.min(S.offsetHeight*5,xe),ye=window.getComputedStyle(b),ee=parseInt(ye.paddingTop,10),he=parseInt(ye.paddingBottom,10),se=L.top+L.height/2-vh,te=G-se,ge=S.offsetHeight/2,ue=S.offsetTop+ge,Ce=X+ne+ue,Ne=xe-Ce;if(Ce<=se){const Ge=K.length>0&&S===K[K.length-1].ref.current;l.style.bottom="0px";const Be=u.clientHeight-b.offsetTop-b.offsetHeight,st=Math.max(te,ge+(Ge?he:0)+Be+de),lt=Ce+st;l.style.height=lt+"px"}else{const Ge=K.length>0&&S===K[0].ref.current;l.style.top="0px";const st=Math.max(se,X+b.offsetTop+(Ge?ee:0)+ge)+Ne;l.style.height=st+"px",b.scrollTop=Ce-se+b.offsetTop}l.style.margin=`${vh}px 0`,l.style.minHeight=Se+"px",l.style.maxHeight=G+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[g,i.trigger,i.valueNode,l,u,b,S,C,i.dir,n]);fl(()=>T(),[T]);const[O,M]=A.useState();fl(()=>{u&&M(window.getComputedStyle(u).zIndex)},[u]);const B=A.useCallback(L=>{L&&N.current===!0&&(T(),j==null||j(),N.current=!1)},[T,j]);return s.jsx(iFe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:B,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:s.jsx(Dn.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Eoe.displayName=nFe;var aFe="SelectPopperPosition",oF=A.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=vh,...i}=e,o=b6(r);return s.jsx(Yj,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});oF.displayName=aFe;var[iFe,uL]=wb(Sx,{}),lF="SelectViewport",joe=A.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=V1(lF,r),o=uL(lF,r),l=Ra(t,i.onViewportChange),c=A.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(v6.Slot,{scope:r,children:s.jsx(Dn.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Rr(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&h){const p=Math.abs(c.current-f.scrollTop);if(p>0){const N=window.innerHeight-vh*2,b=parseFloat(h.style.minHeight),S=parseFloat(h.style.height),C=Math.max(b,S);if(C<N){const j=C+p,T=Math.min(N,j),O=j-T;h.style.height=T+"px",h.style.bottom==="0px"&&(f.scrollTop=O>0?O:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});joe.displayName=lF;var Toe="SelectGroup",[sFe,oFe]=wb(Toe),lFe=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=_d();return s.jsx(sFe,{scope:r,id:a,children:s.jsx(Dn.div,{role:"group","aria-labelledby":a,...n,ref:t})})});lFe.displayName=Toe;var koe="SelectLabel",Poe=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=oFe(koe,r);return s.jsx(Dn.div,{id:a.id,...n,ref:t})});Poe.displayName=koe;var NA="SelectItem",[cFe,Ooe]=wb(NA),Ioe=A.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=z1(NA,r),c=V1(NA,r),u=l.value===n,[f,h]=A.useState(i??""),[g,p]=A.useState(!1),N=Ra(t,j=>{var T;return(T=c.itemRefCallback)==null?void 0:T.call(c,j,n,a)}),b=_d(),S=A.useRef("touch"),C=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(cFe,{scope:r,value:n,disabled:a,textId:b,isSelected:u,onItemTextChange:A.useCallback(j=>{h(T=>T||((j==null?void 0:j.textContent)??"").trim())},[]),children:s.jsx(v6.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:s.jsx(Dn.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:N,onFocus:Rr(o.onFocus,()=>p(!0)),onBlur:Rr(o.onBlur,()=>p(!1)),onClick:Rr(o.onClick,()=>{S.current!=="mouse"&&C()}),onPointerUp:Rr(o.onPointerUp,()=>{S.current==="mouse"&&C()}),onPointerDown:Rr(o.onPointerDown,j=>{S.current=j.pointerType}),onPointerMove:Rr(o.onPointerMove,j=>{var T;S.current=j.pointerType,a?(T=c.onItemLeave)==null||T.call(c):S.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Rr(o.onPointerLeave,j=>{var T;j.currentTarget===document.activeElement&&((T=c.onItemLeave)==null||T.call(c))}),onKeyDown:Rr(o.onKeyDown,j=>{var O;((O=c.searchRef)==null?void 0:O.current)!==""&&j.key===" "||(KIe.includes(j.key)&&C(),j.key===" "&&j.preventDefault())})})})})});Ioe.displayName=NA;var i_="SelectItemText",Foe=A.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=z1(i_,r),l=V1(i_,r),c=Ooe(i_,r),u=JIe(i_,r),[f,h]=A.useState(null),g=Ra(t,C=>h(C),c.onItemTextChange,C=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,C,c.value,c.disabled)}),p=f==null?void 0:f.textContent,N=A.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:b,onNativeOptionRemove:S}=u;return fl(()=>(b(N),()=>S(N)),[b,S,N]),s.jsxs(s.Fragment,{children:[s.jsx(Dn.span,{id:c.textId,...i,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$x.createPortal(i.children,o.valueNode):null]})});Foe.displayName=i_;var Doe="SelectItemIndicator",Roe=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Ooe(Doe,r).isSelected?s.jsx(Dn.span,{"aria-hidden":!0,...n,ref:t}):null});Roe.displayName=Doe;var cF="SelectScrollUpButton",Moe=A.forwardRef((e,t)=>{const r=V1(cF,e.__scopeSelect),n=uL(cF,e.__scopeSelect),[a,i]=A.useState(!1),o=Ra(t,n.onScrollButtonChange);return fl(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Boe,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Moe.displayName=cF;var uF="SelectScrollDownButton",Loe=A.forwardRef((e,t)=>{const r=V1(uF,e.__scopeSelect),n=uL(uF,e.__scopeSelect),[a,i]=A.useState(!1),o=Ra(t,n.onScrollButtonChange);return fl(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Boe,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Loe.displayName=uF;var Boe=A.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=V1("SelectScrollButton",r),o=A.useRef(null),l=y6(r),c=A.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return A.useEffect(()=>()=>c(),[c]),fl(()=>{var f;const u=l().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),s.jsx(Dn.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Rr(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Rr(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Rr(a.onPointerLeave,()=>{c()})})}),uFe="SelectSeparator",Uoe=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Dn.div,{"aria-hidden":!0,...n,ref:t})});Uoe.displayName=uFe;var dF="SelectArrow",dFe=A.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=b6(r),i=z1(dF,r),o=V1(dF,r);return i.open&&o.position==="popper"?s.jsx(Xj,{...a,...n,ref:t}):null});dFe.displayName=dF;var fFe="SelectBubbleInput",$oe=A.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=A.useRef(null),i=Ra(n,a),o=x6(t);return A.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const h=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Dn.select,{...r,style:{...pte,...r.style},ref:i,defaultValue:t})});$oe.displayName=fFe;function zoe(e){return e===""||e===void 0}function Voe(e){const t=Zu(e),r=A.useRef(""),n=A.useRef(0),a=A.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=A.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function Woe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=hFe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function hFe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var mFe=xoe,Hoe=yoe,pFe=woe,gFe=_oe,xFe=Noe,qoe=Soe,vFe=joe,Goe=Poe,Koe=Ioe,yFe=Foe,bFe=Roe,Yoe=Moe,Xoe=Loe,Zoe=Uoe;const Ai=mFe,Ei=pFe,vi=Ve.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Hoe,{ref:n,className:kr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(gFe,{asChild:!0,children:s.jsx(Tj,{className:"h-4 w-4 opacity-50"})})]}));vi.displayName=Hoe.displayName;const Joe=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Yoe,{ref:r,className:kr("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Lte,{className:"h-4 w-4"})}));Joe.displayName=Yoe.displayName;const Qoe=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Xoe,{ref:r,className:kr("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Tj,{className:"h-4 w-4"})}));Qoe.displayName=Xoe.displayName;const yi=Ve.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(xFe,{children:s.jsxs(qoe,{ref:a,className:kr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(Joe,{}),s.jsx(vFe,{className:kr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(Qoe,{})]})}));yi.displayName=qoe.displayName;const wFe=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Goe,{ref:r,className:kr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));wFe.displayName=Goe.displayName;const on=Ve.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Koe,{ref:n,className:kr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(bFe,{children:s.jsx(Hx,{className:"h-4 w-4"})})}),s.jsx(yFe,{children:t})]}));on.displayName=Koe.displayName;const _Fe=Ve.forwardRef(({className:e,...t},r)=>s.jsx(Zoe,{ref:r,className:kr("-mx-1 my-1 h-px bg-muted",e),...t}));_Fe.displayName=Zoe.displayName;var w6="Checkbox",[NFe,g5t]=Nc(w6),[SFe,dL]=NFe(w6);function CFe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:h}=e,[g,p]=_c({prop:r,defaultProp:a??!1,onChange:c,caller:w6}),[N,b]=A.useState(null),[S,C]=A.useState(null),j=A.useRef(!1),T=N?!!o||!!N.closest("form"):!0,O={checked:g,disabled:i,setChecked:p,control:N,setControl:b,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:u1(a)?!1:a,isFormControl:T,bubbleInput:S,setBubbleInput:C};return s.jsx(SFe,{scope:t,...O,children:AFe(h)?h(O):n})}var ele="CheckboxTrigger",tle=A.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:g,isFormControl:p,bubbleInput:N}=dL(ele,e),b=Ra(a,f),S=A.useRef(c);return A.useEffect(()=>{const C=i==null?void 0:i.form;if(C){const j=()=>h(S.current);return C.addEventListener("reset",j),()=>C.removeEventListener("reset",j)}},[i,h]),s.jsx(Dn.button,{type:"button",role:"checkbox","aria-checked":u1(c)?"mixed":c,"aria-required":u,"data-state":sle(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:b,onKeyDown:Rr(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:Rr(r,C=>{h(j=>u1(j)?!0:!j),N&&p&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})})});tle.displayName=ele;var fL=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:f,...h}=e;return s.jsx(CFe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:g})=>s.jsxs(s.Fragment,{children:[s.jsx(tle,{...h,ref:t,__scopeCheckbox:r}),g&&s.jsx(ile,{__scopeCheckbox:r})]})})});fL.displayName=w6;var rle="CheckboxIndicator",nle=A.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=dL(rle,r);return s.jsx(td,{present:n||u1(i.checked)||i.checked===!0,children:s.jsx(Dn.span,{"data-state":sle(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});nle.displayName=rle;var ale="CheckboxBubbleInput",ile=A.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:f,form:h,bubbleInput:g,setBubbleInput:p}=dL(ale,e),N=Ra(r,p),b=x6(i),S=Gj(n);A.useEffect(()=>{const j=g;if(!j)return;const T=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(T,"checked").set,B=!a.current;if(b!==i&&M){const L=new Event("click",{bubbles:B});j.indeterminate=u1(i),M.call(j,u1(i)?!1:i),j.dispatchEvent(L)}},[g,b,i,a]);const C=A.useRef(u1(i)?!1:i);return s.jsx(Dn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??C.current,required:l,disabled:c,name:u,value:f,form:h,...t,tabIndex:-1,ref:N,style:{...t.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ile.displayName=ale;function AFe(e){return typeof e=="function"}function u1(e){return e==="indeterminate"}function sle(e){return u1(e)?"indeterminate":e?"checked":"unchecked"}const zu=Ve.forwardRef(({className:e,...t},r)=>s.jsx(fL,{ref:r,className:kr("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(nle,{className:kr("flex items-center justify-center text-current"),children:s.jsx(Hx,{className:"h-4 w-4"})})}));zu.displayName=fL.displayName;const ec=Ve.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:kr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ec.displayName="Textarea";const EFe=({onBack:e,email:t})=>{const[r,n]=A.useState(""),[a,i]=A.useState(!1),[o,l]=A.useState(!1),{toast:c}=qs(),u=async f=>{f.preventDefault(),i(!0);try{await new Promise(h=>setTimeout(h,1500)),l(!0),c({title:"Message envoy",description:"L'administration a t notifie de votre demande."})}catch{c({title:"Erreur",description:"Impossible d'envoyer le message. Veuillez ressayer plus tard.",variant:"destructive"})}finally{i(!1)}};return o?s.jsxs(Zt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(zte,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-xl font-bold",children:"Demande envoye"}),s.jsxs("p",{className:"text-muted-foreground",children:["Votre demande de ractivation a t transmise  l'administration. Vous serez contact par email (",t,") ds qu'elle sera traite."]}),s.jsx(Ue,{onClick:e,variant:"outline",className:"mt-4",children:"Retour  la connexion"})]}):s.jsxs(Zt.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4 text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(R0,{className:"w-8 h-8 text-red-600"})}),s.jsx("h2",{className:"text-xl font-bold text-red-600",children:"Compte Dsactiv"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Votre compte a t dsactiv par l'administration. Veuillez remplir ce formulaire pour demander une ractivation."}),s.jsxs("form",{onSubmit:u,className:"space-y-4 text-left mt-4",children:[s.jsxs("div",{children:[s.jsx(jt,{children:"Votre Email"}),s.jsx(er,{value:t,disabled:!0,className:"bg-muted"})]}),s.jsxs("div",{children:[s.jsx(jt,{htmlFor:"reactivation-msg",children:"Message  l'administration"}),s.jsx(ec,{id:"reactivation-msg",placeholder:"Expliquez pourquoi votre compte devrait tre ractiv...",value:r,onChange:f=>n(f.target.value),required:!0,className:"min-h-[100px]"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ue,{type:"button",variant:"ghost",onClick:e,className:"flex-1",children:"Annuler"}),s.jsx(Ue,{type:"submit",className:"flex-1 bg-red-600 hover:bg-red-700 text-white",disabled:a,children:a?s.jsx(Jt,{className:"w-4 h-4 animate-spin"}):"Envoyer la demande"})]})]})]})},jFe=()=>{const[e,t]=A.useState(!0),[r,n]=A.useState(""),[a,i]=A.useState(""),[o,l]=A.useState(""),[c,u]=A.useState(""),[f,h]=A.useState(""),[g,p]=A.useState([]),[N,b]=A.useState(""),[S,C]=A.useState("user"),[j,T]=A.useState(!1),[O,M]=A.useState(!1),[B,L]=A.useState(""),[H,U]=A.useState(!1),[J,K]=A.useState(!1),[G,re]=A.useState(!1),[ae,X]=A.useState(!1),{signIn:ne,signUp:de,user:le}=bn(),xe=Ia(),Se=ed(),{t:ye}=Xa(),{toast:ee}=qs();A.useEffect(()=>{le&&xe("/profile",{replace:!0})},[le,xe]),A.useEffect(()=>{const Ce=new URLSearchParams(Se.search);Ce.get("register")&&t(!1);const Ne=Ce.get("ref");Ne&&(b(Ne),t(!1))},[Se.search]),A.useEffect(()=>{c?(p(Ny[c]||[]),h("")):(p([]),h(""))},[c]);const he=async()=>{if(r){M(!0);try{const{error:Ce}=await Je.auth.resend({type:"signup",email:r,options:{emailRedirectTo:window.location.origin+"/auth"}});if(Ce)throw Ce;ee({title:"Email envoy",description:"Un nouveau lien de confirmation a t envoy  "+r,variant:"default"}),X(!1),L(""),K(!0)}catch(Ce){ee({title:"Erreur",description:Ce.message||"Impossible de renvoyer l'email.",variant:"destructive"})}finally{M(!1)}}},se=async Ce=>{if(Ce.preventDefault(),M(!0),L(""),K(!1),re(!1),X(!1),e){const{error:Ne}=await ne(r,a);if(Ne){const Ee=Ne.message||"";Ee==="ACCOUNT_DEACTIVATED"?re(!0):Ee.includes("Email not confirmed")||Ee.includes("email_not_confirmed")?(L("Votre adresse email n'a pas encore t confirme. Veuillez vrifier votre bote de rception (et vos spams)."),X(!0)):Ee.includes("Invalid login credentials")?L(ye("auth.login.error_invalid_credentials")):L(Ee||ye("auth.login.error_invalid_credentials"))}else xe("/profile")}else{if(!j){L(ye("auth.register.terms_required")),M(!1);return}if(!c||!f){L(ye("auth.register.country_city_required")),M(!1);return}const Ne={full_name:o,country:c,city:f,referral_code:N,user_type:S},{data:Ee,error:Ge}=await de(r,a,Ne);Ge?L(Ge.message):Ee.user&&Ee.user.identities&&Ee.user.identities.length===0?(L("Un utilisateur avec cet email existe dj mais n'est pas confirm."),X(!0)):K(!0)}M(!1)},te=()=>{t(!e),L(""),K(!1),re(!1),X(!1),n(""),i(""),l(""),u(""),h(""),b(""),C("user"),T(!1)},ge={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},ue={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return s.jsxs(s.Fragment,{children:[s.jsxs(Di,{children:[s.jsxs("title",{children:[ye(e?"auth.login.title":"auth.register.title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:ye(e?"auth.login.meta_description":"auth.register.meta_description")})]}),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-background/70 p-4",children:s.jsx(Zt.div,{className:"w-full max-w-md mx-auto bg-card p-8 rounded-2xl shadow-2xl glass-effect",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20},children:s.jsx(Su,{mode:"wait",children:G?s.jsx(EFe,{onBack:()=>re(!1),email:r},"deactivated"):J?s.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[s.jsx(zte,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold font-heading text-primary",children:ye("auth.register.confirmation_email_title")}),s.jsx("p",{className:"text-muted-foreground mt-2 mb-6",children:ye("auth.register.confirmation_email_description")}),s.jsx(Ue,{onClick:()=>{K(!1),t(!0)},children:ye("auth.login.title")})]},"confirmation"):s.jsxs(Zt.div,{initial:{opacity:0,x:e?-30:30},animate:{opacity:1,x:0},exit:{opacity:0,x:e?30:-30},transition:{duration:.3},children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold font-heading text-primary",children:ye(e?"auth.login.title":"auth.register.title")}),s.jsx("p",{className:"text-muted-foreground",children:ye(e?"auth.login.subtitle":"auth.register.subtitle")})]}),B&&s.jsxs(zc,{variant:"destructive",className:"mb-4",children:[s.jsx(Rf,{children:ye("common.error_title")}),s.jsxs(mu,{className:"flex flex-col gap-2",children:[s.jsx("span",{children:B}),ae&&s.jsxs(Ue,{variant:"outline",size:"sm",onClick:he,disabled:O,className:"mt-2 border-red-200 hover:bg-red-50 text-red-600 dark:hover:bg-red-900/20 dark:border-red-800",children:[O?s.jsx(Jt,{className:"w-3 h-3 animate-spin mr-2"}):s.jsx(qc,{className:"w-3 h-3 mr-2"}),"Renvoyer l'email de confirmation"]})]})]}),s.jsxs("form",{onSubmit:se,className:"space-y-4",children:[s.jsxs(Zt.div,{variants:ge,initial:"hidden",animate:"visible",children:[!e&&s.jsxs(s.Fragment,{children:[s.jsxs(Zt.div,{variants:ue,className:"space-y-2",children:[s.jsx(jt,{htmlFor:"fullName",children:ye("auth.full_name")}),s.jsx(er,{id:"fullName",type:"text",value:o,onChange:Ce=>l(Ce.target.value),required:!0})]}),s.jsxs(Zt.div,{variants:ue,className:"space-y-2",children:[s.jsx(jt,{htmlFor:"country",children:ye("auth.country")}),s.jsxs(Ai,{onValueChange:u,value:c,children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:ye("auth.select_country_placeholder")})}),s.jsx(yi,{children:s3.map(Ce=>s.jsx(on,{value:Ce.name,children:Ce.name},Ce.code))})]})]}),s.jsxs(Zt.div,{variants:ue,className:"space-y-2",children:[s.jsx(jt,{htmlFor:"city",children:ye("auth.city")}),s.jsxs(Ai,{onValueChange:h,value:f,disabled:!c,children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:ye("auth.select_city_placeholder")})}),s.jsx(yi,{children:g.map(Ce=>s.jsx(on,{value:Ce,children:Ce},Ce))})]})]}),s.jsxs(Zt.div,{variants:ue,className:"space-y-2",children:[s.jsx(jt,{htmlFor:"role",children:ye("auth.choose_role")}),s.jsxs(Ai,{onValueChange:C,value:S,children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:ye("auth.choose_role_placeholder")})}),s.jsxs(yi,{children:[s.jsx(on,{value:"user",children:ye("auth.role_user")}),s.jsx(on,{value:"organizer",children:ye("auth.role_organizer")})]})]})]})]}),s.jsxs(Zt.div,{variants:ue,className:"space-y-2",children:[s.jsx(jt,{htmlFor:"email",children:ye("auth.email")}),s.jsx(er,{id:"email",type:"email",value:r,onChange:Ce=>n(Ce.target.value),required:!0})]}),s.jsxs(Zt.div,{variants:ue,className:"space-y-2",children:[s.jsx(jt,{htmlFor:"password",children:ye("auth.password")}),s.jsxs("div",{className:"relative",children:[s.jsx(er,{id:"password",type:H?"text":"password",value:a,onChange:Ce=>i(Ce.target.value),required:!0}),s.jsx("button",{type:"button",onClick:()=>U(!H),className:"absolute inset-y-0 right-0 px-3 flex items-center text-muted-foreground",children:H?s.jsx(Ute,{className:"h-5 w-5"}):s.jsx(Xm,{className:"h-5 w-5"})})]})]}),!e&&s.jsxs(s.Fragment,{children:[s.jsxs(Zt.div,{variants:ue,className:"space-y-2",children:[s.jsx(jt,{htmlFor:"referralCode",children:ye("auth.referral_code_optional")}),s.jsx(er,{id:"referralCode",type:"text",value:N,onChange:Ce=>b(Ce.target.value)})]}),s.jsxs(Zt.div,{variants:ue,className:"flex items-center space-x-2 pt-2",children:[s.jsx(zu,{id:"terms",checked:j,onCheckedChange:T}),s.jsx("label",{htmlFor:"terms",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:s.jsxs(tM,{i18nKey:"auth.register.terms_agreement",children:["J'accepte les ",s.jsx(Ho,{to:"/terms",className:"underline text-primary",children:"Conditions Gnrales d'Utilisation"})]})})]})]})]}),s.jsx(Ue,{type:"submit",className:"w-full gradient-green",disabled:O,children:O?s.jsx(Jt,{className:"animate-spin"}):ye(e?"auth.login.button":"auth.register.button")})]}),s.jsxs("p",{className:"mt-6 text-center text-sm",children:[ye(e?"auth.login.switch_text":"auth.register.switch_text"),s.jsx(Ue,{variant:"link",onClick:te,className:"font-semibold",children:ye(e?"auth.register.switch_button":"auth.login.switch_button")})]})]},e?"login":"signup")})})})]})};function $c({className:e,...t}){return s.jsx("div",{className:kr("animate-pulse rounded-md bg-muted",e),...t})}const TFe=({className:e})=>{const{t}=Xa(),r="https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH";return s.jsx(Zt.a,{href:r,target:"_blank",rel:"noopener noreferrer",className:`block w-full ${e}`,whileHover:{scale:1.02,boxShadow:"0 8px 20px -4px rgba(37, 211, 102, 0.6)"},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:10},children:s.jsxs(Ue,{className:"w-full flex items-center justify-center gap-2 py-3 px-4 rounded-lg text-white font-semibold",style:{backgroundColor:"#25D366",boxShadow:"0 4px 12px -2px rgba(37, 211, 102, 0.4)"},onMouseEnter:n=>n.currentTarget.style.filter="brightness(1.1)",onMouseLeave:n=>n.currentTarget.style.filter="brightness(1)",children:[s.jsx(Zt.span,{initial:{rotate:0},whileHover:{rotate:[0,10,-10,10,-10,0]},transition:{duration:.8,ease:"easeInOut",repeat:0},children:s.jsx(tA,{className:"w-5 h-5"})}),s.jsx("span",{children:t("Rejoignez le groupe WhatsApp de votre pays")})]})})},kFe=()=>{var c;const e=Ia(),{signOut:t}=bn(),{userProfile:r,loadingProfile:n}=ai(),a=async()=>{await t(),e("/")},i=u=>{if(!u)return"U";const f=u.split(" ");return f.length>1?`${f[0][0]}${f[f.length-1][0]}`.toUpperCase():u.substring(0,2).toUpperCase()};if(n&&!r)return s.jsxs("div",{className:"p-4 md:p-6 bg-gradient-to-br from-background to-background/80 rounded-b-3xl shadow-lg mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx($c,{className:"w-20 h-20 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx($c,{className:"h-8 w-48"}),s.jsx($c,{className:"h-4 w-32"}),s.jsx($c,{className:"h-4 w-24"})]})]}),s.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx($c,{className:"h-9 w-28"}),s.jsx($c,{className:"h-9 w-28"})]}),s.jsx($c,{className:"h-9 w-32"})]}),s.jsx("div",{className:"mt-6",children:s.jsx($c,{className:"h-12 w-full"})})]});const o=(r==null?void 0:r.user_type)==="admin"||(r==null?void 0:r.user_type)==="super_admin",l=(r==null?void 0:r.user_type)==="secretary";return s.jsxs("div",{className:"p-4 md:p-6 bg-gradient-to-br from-background to-background/80 rounded-b-3xl shadow-lg mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(_1,{className:"w-20 h-20 border-4 border-primary",children:[s.jsx(N1,{src:r==null?void 0:r.avatar_url,alt:r==null?void 0:r.full_name}),s.jsx(S1,{className:"text-2xl bg-secondary text-secondary-foreground",children:i(r==null?void 0:r.full_name)})]}),s.jsxs("div",{className:"flex-1 overflow-hidden",children:[s.jsx("h1",{className:"text-2xl font-bold text-white truncate",children:(r==null?void 0:r.full_name)||"Utilisateur"}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:r==null?void 0:r.email}),s.jsx("p",{className:"text-xs text-primary capitalize mt-1",children:(c=r==null?void 0:r.user_type)==null?void 0:c.replace("_"," ")})]})]}),s.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>e("/settings"),children:[s.jsx(fb,{className:"w-4 h-4 mr-2"}),"Paramtres"]}),o&&s.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>e("/admin"),children:[s.jsx(gc,{className:"w-4 h-4 mr-2"}),"Tableau de bord"]}),l&&s.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>e("/secretary"),children:[s.jsx(gc,{className:"w-4 h-4 mr-2"}),"Administration"]})]}),s.jsxs(Ue,{variant:"destructive",size:"sm",onClick:a,className:"flex-shrink-0",children:[s.jsx(fy,{className:"w-4 h-4 mr-2"}),"Dconnexion"]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(TFe,{})})]})},PFe=({userProfile:e,eventCount:t})=>{if(!e)return null;const r=[{icon:za,label:"Pices Achetes",value:e.coin_balance||0,color:"text-blue-400"},{icon:wd,label:"Pices Bonus",value:e.free_coin_balance||0,color:"text-green-400"},{icon:Mh,label:"Gains",value:e.available_earnings||0,color:"text-yellow-400"},{icon:oo,label:"vnements",value:t,color:"text-purple-400"}];return s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:r.map((n,a)=>s.jsx(qt,{className:"glass-effect border-border",children:s.jsx(Xt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(n.icon,{className:`w-8 h-8 ${n.color} mr-3`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.value}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.label})]})]})})},a))})};var _6="Tabs",[OFe,x5t]=Nc(_6,[xb]),ole=xb(),[IFe,hL]=OFe(_6),lle=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=qx(l),[h,g]=_c({prop:n,onChange:a,defaultProp:i??"",caller:_6});return s.jsx(IFe,{scope:r,baseId:_d(),value:h,onValueChange:g,orientation:o,dir:f,activationMode:c,children:s.jsx(Dn.div,{dir:f,"data-orientation":o,...u,ref:t})})});lle.displayName=_6;var cle="TabsList",ule=A.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=hL(cle,r),o=ole(r);return s.jsx(fM,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Dn.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});ule.displayName=cle;var dle="TabsTrigger",fle=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=hL(dle,r),l=ole(r),c=ple(o.baseId,n),u=gle(o.baseId,n),f=n===o.value;return s.jsx(hM,{asChild:!0,...l,focusable:!a,active:f,children:s.jsx(Dn.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Rr(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Rr(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Rr(e.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!a&&h&&o.onValueChange(n)})})})});fle.displayName=dle;var hle="TabsContent",mle=A.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=hL(hle,r),c=ple(l.baseId,n),u=gle(l.baseId,n),f=n===l.value,h=A.useRef(f);return A.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(td,{present:a||f,children:({present:g})=>s.jsx(Dn.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:g&&i})})});mle.displayName=hle;function ple(e,t){return`${e}-trigger-${t}`}function gle(e,t){return`${e}-content-${t}`}var FFe=lle,xle=ule,vle=fle,yle=mle;const H0=FFe,Hh=Ve.forwardRef(({className:e,...t},r)=>s.jsx(xle,{ref:r,className:kr("inline-flex flex-wrap h-auto items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Hh.displayName=xle.displayName;const Gn=Ve.forwardRef(({className:e,...t},r)=>s.jsx(vle,{ref:r,className:kr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm","flex-grow sm:flex-grow-0 m-[2px]",e),...t}));Gn.displayName=vle.displayName;const Kn=Ve.forwardRef(({className:e,...t},r)=>s.jsx(yle,{ref:r,className:kr("mt-6 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Kn.displayName=yle.displayName;const DFe=({userProfile:e,userEvents:t,loadingEvents:r,onRefresh:n})=>{var g;const a=Ia(),[i,o]=A.useState({isOpen:!1,event:null}),[l,c]=A.useState(!1),u=e&&(e.user_type==="organizer"||e.user_type==="admin"||e.user_type==="super_admin"||e.user_type==="user"),f=p=>{o({isOpen:!0,event:p})},h=async()=>{if(!i.event)return;c(!0);const p=i.event;try{if(p.cover_image){const b=S7(p.cover_image);if(b){const{error:S}=await Je.storage.from(b.bucket).remove([b.path]);S&&console.warn("Could not delete image from storage:",S)}}const{error:N}=await Je.rpc("delete_event_completely",{p_event_id:p.id});if(N)throw N;ot({title:"vnement supprim",description:"L'vnement a t supprim avec succs."}),o({isOpen:!1,event:null}),n&&n()}catch(N){console.error("Delete error:",N),ot({title:"Erreur",description:"Impossible de supprimer l'vnement. "+N.message,variant:"destructive"})}finally{c(!1)}};return r?s.jsx("div",{className:"flex justify-center items-center p-8",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsxs("div",{children:[u&&s.jsx("div",{className:"mb-6 text-right",children:s.jsxs(Ue,{onClick:()=>a("/create-event"),className:"gradient-gold text-background hover:opacity-90",children:[s.jsx(Ql,{className:"w-4 h-4 mr-2"})," Crer un nouvel vnement"]})}),t&&t.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(p=>s.jsx(g6,{event:p,onClick:()=>a(`/event/${p.id}`),isUnlocked:!0,onDelete:f},p.id))}):s.jsx(qt,{className:"glass-effect border-primary/20",children:s.jsxs(Xt,{className:"p-8 text-center",children:[s.jsx(oo,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-muted-foreground mb-2",children:"Aucun vnement cr"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:u?"Crez votre premier vnement pour le voir apparatre ici.":"Vous n'avez pas encore cr d'vnement."}),u&&s.jsxs(Ue,{onClick:()=>a("/create-event"),className:"gradient-gold text-background hover:opacity-90",children:[s.jsx(Ql,{className:"w-4 h-4 mr-2"})," Crer un vnement"]})]})}),s.jsx(hl,{open:i.isOpen,onOpenChange:p=>!p&&o({isOpen:!1,event:null}),children:s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:"Supprimer l'vnement ?"}),s.jsxs(el,{children:['tes-vous sr de vouloir supprimer "',(g=i.event)==null?void 0:g.title,'" ?',s.jsx("br",{}),s.jsx("br",{}),"Cette action est irrversible et effacera toutes les donnes associes (billets, votes, statistiques)."]})]}),s.jsxs(ml,{children:[s.jsx(gl,{disabled:l,children:"Annuler"}),s.jsxs(pl,{onClick:p=>{p.preventDefault(),h()},disabled:l,className:"bg-destructive hover:bg-destructive/90",children:[l?s.jsx(Jt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Supprimer dfinitivement"]})]})]})})]})},RFe=({userTransactions:e})=>{const t=r=>{let n,a,i,o;if(r.transaction_type)switch(r.transaction_type){case"earning":a=gx,i="text-green-400",n=r.description||"Gain de pices",o=r.amount_pi;break;case"manual_credit":a=Ym,i="text-blue-400",n=r.description||"Crdit manuel",o=r.amount_pi;break;case"credit_reversal":a=vx,i="text-red-400",n=r.description||"Annulation de crdit",o=r.amount_pi;break;default:a=za,i="text-gray-400",n=r.description||"Transaction",o=r.amount_pi}else r.purpose?(a=vx,i="text-red-400",n=`Dpense: ${r.purpose}`,o=-r.amount):(a=p2,i="text-blue-400",n=`Achat de ${r.total_coins} pices`,o=r.total_coins);return{icon:a,color:i,text:n,amount:o}};return s.jsxs(qt,{className:"glass-effect",children:[s.jsx(zr,{children:s.jsx(Wr,{children:"Historique des transactions"})}),s.jsx(Xt,{children:e&&e.length>0?s.jsx("div",{className:"space-y-4",children:e.slice(0,25).map(r=>{const{icon:n,color:a,text:i,amount:o}=t(r),l=o>0;let c="bg-red-500";return a==="text-green-400"&&(c="bg-green-500"),a==="text-blue-400"&&(c="bg-blue-500"),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 bg-opacity-20 ${c}`,children:s.jsx(n,{className:`w-5 h-5 ${a}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:i}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(r.created_at).toLocaleString("fr-FR")})]})]}),s.jsxs("div",{className:`font-bold ${a}`,children:[l?"+":"",o," pices"]})]},r.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(za,{className:"w-16 h-16 text-muted-foreground/30 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune transaction pour le moment"})]})})]})};var MFe=Object.defineProperty,SA=Object.getOwnPropertySymbols,ble=Object.prototype.hasOwnProperty,wle=Object.prototype.propertyIsEnumerable,cH=(e,t,r)=>t in e?MFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,A4=(e,t)=>{for(var r in t||(t={}))ble.call(t,r)&&cH(e,r,t[r]);if(SA)for(var r of SA(t))wle.call(t,r)&&cH(e,r,t[r]);return e},mL=(e,t)=>{var r={};for(var n in e)ble.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&SA)for(var n of SA(e))t.indexOf(n)<0&&wle.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Cx;(e=>{const t=class{constructor(c,u,f,h){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<t.MIN_VERSION||c>t.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let g=[];for(let N=0;N<this.size;N++)g.push(!1);for(let N=0;N<this.size;N++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(f);if(this.drawCodewords(p),h==-1){let N=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const S=this.getPenaltyScore();S<N&&(h=b,N=S),this.applyMask(b)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,u){const f=e.QrSegment.makeSegments(c);return t.encodeSegments(f,u)}static encodeBinary(c,u){const f=e.QrSegment.makeBytes(c);return t.encodeSegments([f],u)}static encodeSegments(c,u,f=1,h=40,g=-1,p=!0){if(!(t.MIN_VERSION<=f&&f<=h&&h<=t.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let N,b;for(N=f;;N++){const T=t.getNumDataCodewords(N,u)*8,O=l.getTotalBits(c,N);if(O<=T){b=O;break}if(N>=h)throw new RangeError("Data too long")}for(const T of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&b<=t.getNumDataCodewords(N,T)*8&&(u=T);let S=[];for(const T of c){n(T.mode.modeBits,4,S),n(T.numChars,T.mode.numCharCountBits(N),S);for(const O of T.getData())S.push(O)}i(S.length==b);const C=t.getNumDataCodewords(N,u)*8;i(S.length<=C),n(0,Math.min(4,C-S.length),S),n(0,(8-S.length%8)%8,S),i(S.length%8==0);for(let T=236;S.length<C;T^=253)n(T,8,S);let j=[];for(;j.length*8<S.length;)j.push(0);return S.forEach((T,O)=>j[O>>>3]|=T<<7-(O&7)),new t(N,u,j,g)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let f=0;f<u;f++)for(let h=0;h<u;h++)f==0&&h==0||f==0&&h==u-1||f==u-1&&h==0||this.drawAlignmentPattern(c[f],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let f=u;for(let g=0;g<10;g++)f=f<<1^(f>>>9)*1335;const h=(u<<10|f)^21522;i(h>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,a(h,g));this.setFunctionModule(8,7,a(h,6)),this.setFunctionModule(8,8,a(h,7)),this.setFunctionModule(7,8,a(h,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,a(h,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,a(h,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,a(h,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let f=0;f<12;f++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;i(u>>>18==0);for(let f=0;f<18;f++){const h=a(u,f),g=this.size-11+f%3,p=Math.floor(f/3);this.setFunctionModule(g,p,h),this.setFunctionModule(p,g,h)}}drawFinderPattern(c,u){for(let f=-4;f<=4;f++)for(let h=-4;h<=4;h++){const g=Math.max(Math.abs(h),Math.abs(f)),p=c+h,N=u+f;0<=p&&p<this.size&&0<=N&&N<this.size&&this.setFunctionModule(p,N,g!=2&&g!=4)}}drawAlignmentPattern(c,u){for(let f=-2;f<=2;f++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,u+f,Math.max(Math.abs(h),Math.abs(f))!=1)}setFunctionModule(c,u,f){this.modules[u][c]=f,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,f=this.errorCorrectionLevel;if(c.length!=t.getNumDataCodewords(u,f))throw new RangeError("Invalid argument");const h=t.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][u],g=t.ECC_CODEWORDS_PER_BLOCK[f.ordinal][u],p=Math.floor(t.getNumRawDataModules(u)/8),N=h-p%h,b=Math.floor(p/h);let S=[];const C=t.reedSolomonComputeDivisor(g);for(let T=0,O=0;T<h;T++){let M=c.slice(O,O+b-g+(T<N?0:1));O+=M.length;const B=t.reedSolomonComputeRemainder(M,C);T<N&&M.push(0),S.push(M.concat(B))}let j=[];for(let T=0;T<S[0].length;T++)S.forEach((O,M)=>{(T!=b-g||M>=N)&&j.push(O[T])});return i(j.length==p),j}drawCodewords(c){if(c.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let h=0;h<this.size;h++)for(let g=0;g<2;g++){const p=f-g,b=(f+1&2)==0?this.size-1-h:h;!this.isFunction[b][p]&&u<c.length*8&&(this.modules[b][p]=a(c[u>>>3],7-(u&7)),u++)}}i(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let f=0;f<this.size;f++){let h;switch(c){case 0:h=(f+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=f%3==0;break;case 3:h=(f+u)%3==0;break;case 4:h=(Math.floor(f/3)+Math.floor(u/2))%2==0;break;case 5:h=f*u%2+f*u%3==0;break;case 6:h=(f*u%2+f*u%3)%2==0;break;case 7:h=((f+u)%2+f*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][f]&&h&&(this.modules[u][f]=!this.modules[u][f])}}getPenaltyScore(){let c=0;for(let g=0;g<this.size;g++){let p=!1,N=0,b=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[g][S]==p?(N++,N==5?c+=t.PENALTY_N1:N>5&&c++):(this.finderPenaltyAddHistory(N,b),p||(c+=this.finderPenaltyCountPatterns(b)*t.PENALTY_N3),p=this.modules[g][S],N=1);c+=this.finderPenaltyTerminateAndCount(p,N,b)*t.PENALTY_N3}for(let g=0;g<this.size;g++){let p=!1,N=0,b=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[S][g]==p?(N++,N==5?c+=t.PENALTY_N1:N>5&&c++):(this.finderPenaltyAddHistory(N,b),p||(c+=this.finderPenaltyCountPatterns(b)*t.PENALTY_N3),p=this.modules[S][g],N=1);c+=this.finderPenaltyTerminateAndCount(p,N,b)*t.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let p=0;p<this.size-1;p++){const N=this.modules[g][p];N==this.modules[g][p+1]&&N==this.modules[g+1][p]&&N==this.modules[g+1][p+1]&&(c+=t.PENALTY_N2)}let u=0;for(const g of this.modules)u=g.reduce((p,N)=>p+(N?1:0),u);const f=this.size*this.size,h=Math.ceil(Math.abs(u*20-f*10)/f)-1;return i(0<=h&&h<=9),c+=h*t.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let f=[6];for(let h=this.size-7;f.length<c;h-=u)f.splice(1,0,h);return f}}static getNumRawDataModules(c){if(c<t.MIN_VERSION||c>t.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const f=Math.floor(c/7)+2;u-=(25*f-10)*f-55,c>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(t.getNumRawDataModules(c)/8)-t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<c-1;h++)u.push(0);u.push(1);let f=1;for(let h=0;h<c;h++){for(let g=0;g<u.length;g++)u[g]=t.reedSolomonMultiply(u[g],f),g+1<u.length&&(u[g]^=u[g+1]);f=t.reedSolomonMultiply(f,2)}return u}static reedSolomonComputeRemainder(c,u){let f=u.map(h=>0);for(const h of c){const g=h^f.shift();f.push(0),u.forEach((p,N)=>f[N]^=t.reedSolomonMultiply(p,g))}return f}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let f=0;for(let h=7;h>=0;h--)f=f<<1^(f>>>7)*285,f^=(u>>>h&1)*c;return i(f>>>8==0),f}finderPenaltyCountPatterns(c){const u=c[1];i(u<=this.size*3);const f=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(f&&c[0]>=u*4&&c[6]>=u?1:0)+(f&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,f){return c&&(this.finderPenaltyAddHistory(u,f),u=0),u+=this.size,this.finderPenaltyAddHistory(u,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};let r=t;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function n(c,u,f){if(u<0||u>31||c>>>u)throw new RangeError("Value out of range");for(let h=u-1;h>=0;h--)f.push(c>>>h&1)}function a(c,u){return(c>>>u&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const o=class{constructor(c,u,f){if(this.mode=c,this.numChars=u,this.bitData=f,u<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(c){let u=[];for(const f of c)n(f,8,u);return new o(o.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!o.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let f=0;f<c.length;){const h=Math.min(c.length-f,3);n(parseInt(c.substr(f,h),10),h*3+1,u),f+=h}return new o(o.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!o.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],f;for(f=0;f+2<=c.length;f+=2){let h=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f))*45;h+=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f+1)),n(h,11,u)}return f<c.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f)),6,u),new o(o.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:o.isNumeric(c)?[o.makeNumeric(c)]:o.isAlphanumeric(c)?[o.makeAlphanumeric(c)]:[o.makeBytes(o.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,u)}static isNumeric(c){return o.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return o.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let f=0;for(const h of c){const g=h.mode.numCharCountBits(u);if(h.numChars>=1<<g)return 1/0;f+=4+g+h.bitData.length}return f}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let f=0;f<c.length;f++)c.charAt(f)!="%"?u.push(c.charCodeAt(f)):(u.push(parseInt(c.substr(f+1,2),16)),f+=2);return u}};let l=o;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=l})(Cx||(Cx={}));(e=>{(t=>{const r=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Cx||(Cx={}));(e=>{(t=>{const r=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Cx||(Cx={}));var _2=Cx;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var _le={L:_2.QrCode.Ecc.LOW,M:_2.QrCode.Ecc.MEDIUM,Q:_2.QrCode.Ecc.QUARTILE,H:_2.QrCode.Ecc.HIGH},Nle=128,Sle="L",Cle="#FFFFFF",Ale="#000000",Ele=!1,pL=4,LFe=.1;function jle(e,t=0){const r=[];return e.forEach(function(n,a){let i=null;n.forEach(function(o,l){if(!o&&i!==null){r.push(`M${i+t} ${a+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===n.length-1){if(!o)return;i===null?r.push(`M${l+t},${a+t} h1v1H${l+t}z`):r.push(`M${i+t},${a+t} h${l+1-i}v1H${i+t}z`);return}o&&i===null&&(i=l)})}),r.join("")}function Tle(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function kle(e,t,r,n){if(n==null)return null;const a=r?pL:0,i=e.length+a*2,o=Math.floor(t*LFe),l=i/t,c=(n.width||o)*l,u=(n.height||o)*l,f=n.x==null?e.length/2-c/2:n.x*l,h=n.y==null?e.length/2-u/2:n.y*l;let g=null;if(n.excavate){let p=Math.floor(f),N=Math.floor(h),b=Math.ceil(c+f-p),S=Math.ceil(u+h-N);g={x:p,y:N,w:b,h:S}}return{x:f,y:h,h:u,w:c,excavation:g}}var BFe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Ple(e){const t=e,{value:r,size:n=Nle,level:a=Sle,bgColor:i=Cle,fgColor:o=Ale,includeMargin:l=Ele,style:c,imageSettings:u}=t,f=mL(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),h=u==null?void 0:u.src,g=Ve.useRef(null),p=Ve.useRef(null),[N,b]=Ve.useState(!1);Ve.useEffect(()=>{if(g.current!=null){const j=g.current,T=j.getContext("2d");if(!T)return;let O=_2.QrCode.encodeText(r,_le[a]).getModules();const M=l?pL:0,B=O.length+M*2,L=kle(O,n,l,u),H=p.current,U=L!=null&&H!==null&&H.complete&&H.naturalHeight!==0&&H.naturalWidth!==0;U&&L.excavation!=null&&(O=Tle(O,L.excavation));const J=window.devicePixelRatio||1;j.height=j.width=n*J;const K=n/B*J;T.scale(K,K),T.fillStyle=i,T.fillRect(0,0,B,B),T.fillStyle=o,BFe?T.fill(new Path2D(jle(O,M))):O.forEach(function(G,re){G.forEach(function(ae,X){ae&&T.fillRect(X+M,re+M,1,1)})}),U&&T.drawImage(H,L.x+M,L.y+M,L.w,L.h)}}),Ve.useEffect(()=>{b(!1)},[h]);const S=A4({height:n,width:n},c);let C=null;return h!=null&&(C=Ve.createElement("img",{src:h,key:h,style:{display:"none"},onLoad:()=>{b(!0)},ref:p})),Ve.createElement(Ve.Fragment,null,Ve.createElement("canvas",A4({style:S,height:n,width:n,ref:g},f)),C)}function UFe(e){const t=e,{value:r,size:n=Nle,level:a=Sle,bgColor:i=Cle,fgColor:o=Ale,includeMargin:l=Ele,imageSettings:c}=t,u=mL(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let f=_2.QrCode.encodeText(r,_le[a]).getModules();const h=l?pL:0,g=f.length+h*2,p=kle(f,n,l,c);let N=null;c!=null&&p!=null&&(p.excavation!=null&&(f=Tle(f,p.excavation)),N=Ve.createElement("image",{xlinkHref:c.src,height:p.h,width:p.w,x:p.x+h,y:p.y+h,preserveAspectRatio:"none"}));const b=jle(f,h);return Ve.createElement("svg",A4({height:n,width:n,viewBox:`0 0 ${g} ${g}`},u),Ve.createElement("path",{fill:i,d:`M0,0 h${g}v${g}H0z`,shapeRendering:"crispEdges"}),Ve.createElement("path",{fill:o,d:b,shapeRendering:"crispEdges"}),N)}var $Fe=e=>{const t=e,{renderAs:r}=t,n=mL(t,["renderAs"]);return r==="svg"?Ve.createElement(UFe,A4({},n)):Ve.createElement(Ple,A4({},n))};const zFe=()=>{const{userProfile:e,loadingProfile:t,forceRefreshUserProfile:r}=ai(),[n,a]=A.useState(!1),i=(e==null?void 0:e.affiliate_code)||"",o=i?`${window.location.origin}/auth?ref=${i}`:"",l=` Rejoins-moi sur BonPlanInfos ! Utilise mon code ${i} pour obtenir des bonus. ${o}`,c=(e==null?void 0:e.referral_count)||0,u=c*20;A.useEffect(()=>{(async()=>{if(!t&&e&&!i&&!n){console.log("Referral code missing for user:",e.id,"- Attempting to generate..."),a(!0);try{const{data:N,error:b}=await Je.rpc("generate_missing_referral_code",{p_user_id:e.id});if(b)throw b;console.log("Referral code generated successfully:",N),r(),ot({title:"Code gnr",description:"Votre code de parrainage a t cr."})}catch(N){console.error("Failed to generate referral code:",N)}finally{a(!1)}}})()},[e,t,i,n,r]);const f=(p,N)=>{p&&(navigator.clipboard.writeText(p),ot({title:"Copi !",description:N}))},h=async()=>{if(i)try{navigator.share?await navigator.share({title:"Rejoignez BonPlanInfos",text:l,url:o}):window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(l)}`,"_blank")}catch(p){console.error("Share error:",p)}},g=t||n;return g&&!e?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Jt,{className:"h-8 w-8 animate-spin"})}):s.jsxs(qt,{className:"glass-effect",children:[s.jsxs(zr,{children:[s.jsx(Wr,{children:"Programme de parrainage"}),s.jsx(Ya,{children:"Invitez vos amis et gagnez des pices bonus ensemble !"})]}),s.jsxs(Xt,{className:"space-y-6",children:[!i&&!g?s.jsxs(zc,{variant:"destructive",children:[s.jsx(wu,{className:"h-4 w-4"}),s.jsx(Rf,{children:"Code manquant"}),s.jsx(mu,{children:"Impossible de charger votre code. Veuillez actualiser la page."}),s.jsx(Ue,{size:"sm",variant:"outline",onClick:()=>window.location.reload(),className:"mt-2",children:"Actualiser"})]}):s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg border",children:[s.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Votre code de parrainage"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"relative w-full",children:[s.jsx(er,{value:i||"Gnration en cours...",readOnly:!0,className:"bg-background font-mono pr-10 font-bold text-lg tracking-wide text-center md:text-left"}),g&&!i&&s.jsx(Jt,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]}),s.jsx(Ue,{onClick:()=>f(i,"Code copi !"),variant:"outline",size:"icon",disabled:!i,children:s.jsx(dy,{className:"w-4 h-4"})}),s.jsx(Ue,{onClick:h,variant:"outline",size:"icon",disabled:!i,children:s.jsx(b1,{className:"w-4 h-4"})}),s.jsxs(To,{children:[s.jsx(i3,{asChild:!0,children:s.jsx(Ue,{variant:"outline",size:"icon",disabled:!i,children:s.jsx(U7,{className:"w-4 h-4"})})}),s.jsxs(xo,{className:"sm:max-w-md flex flex-col items-center bg-white text-black",children:[s.jsx(ko,{children:s.jsx(Po,{className:"text-center text-black",children:"Scan pour parrainer"})}),s.jsx("div",{className:"p-4 bg-white rounded-xl shadow-inner border",children:o&&s.jsx(Ple,{value:o,size:200,includeMargin:!0})}),s.jsx("p",{className:"text-sm text-center text-gray-500 mt-2",children:"Partagez ce code avec vos amis"})]})]})]}),s.jsxs("div",{className:"mt-4 p-3 bg-background rounded border text-sm text-muted-foreground break-all",children:[s.jsx("span",{className:"font-semibold block mb-1",children:"Lien direct :"}),o||"...",s.jsx(Ue,{variant:"link",size:"sm",className:"h-auto p-0 ml-2 text-primary",onClick:()=>f(o,"Lien copi !"),children:"Copier"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg border-l-4 border-green-500",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(ao,{className:"w-5 h-5 text-green-600 mr-2"}),s.jsx("span",{className:"font-medium",children:"Filleuls inscrits"})]}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:c})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(za,{className:"w-5 h-5 text-yellow-600 mr-2"}),s.jsx("span",{className:"font-medium",children:"Pices gagnes"})]}),s.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[u," ",s.jsx("span",{className:"text-lg font-normal text-muted-foreground",children:""})]})]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg border border-blue-100 dark:border-blue-900 text-sm",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center text-blue-700 dark:text-blue-400",children:[s.jsx(of,{className:"w-4 h-4 mr-2"})," Fonctionnement"]}),s.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-blue-900 dark:text-blue-300",children:[s.jsx("li",{children:"Partagez votre code avec vos amis."}),s.jsxs("li",{children:["Ils gagnent ",s.jsx("strong",{children:"10 "})," bonus  l'inscription."]}),s.jsxs("li",{children:["Vous gagnez ",s.jsx("strong",{children:"20 "})," pour chaque ami valid."]})]})]})]})]})};function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}var zh=Uint8Array,ef=Uint16Array,gL=Int32Array,xL=new zh([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),vL=new zh([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uH=new zh([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ole=function(e,t){for(var r=new ef(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new gL(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Ile=Ole(xL,2),VFe=Ile.b,fF=Ile.r;VFe[28]=258,fF[258]=28;var WFe=Ole(vL,0),dH=WFe.r,hF=new ef(32768);for(var io=0;io<32768;++io){var Np=(io&43690)>>1|(io&21845)<<1;Np=(Np&52428)>>2|(Np&13107)<<2,Np=(Np&61680)>>4|(Np&3855)<<4,hF[io]=((Np&65280)>>8|(Np&255)<<8)>>1}var j_=function(e,t,r){for(var n=e.length,a=0,i=new ef(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new ef(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new ef(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],f=t-e[a],h=o[e[a]-1]++<<f,g=h|(1<<f)-1;h<=g;++h)l[hF[h]>>c]=u}else for(l=new ef(n),a=0;a<n;++a)e[a]&&(l[a]=hF[o[e[a]-1]++]>>15-e[a]);return l},Ax=new zh(288);for(var io=0;io<144;++io)Ax[io]=8;for(var io=144;io<256;++io)Ax[io]=9;for(var io=256;io<280;++io)Ax[io]=7;for(var io=280;io<288;++io)Ax[io]=8;var CA=new zh(32);for(var io=0;io<32;++io)CA[io]=5;var HFe=j_(Ax,9,0),qFe=j_(CA,5,0),Fle=function(e){return(e+7)/8|0},GFe=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new zh(e.subarray(t,r))},om=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Fw=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Wk=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:Rle,l:0};if(a==1){var o=new zh(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(M,B){return M.f-B.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,f=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=a-1;)l=r[r[u].f<r[h].f?u++:h++],c=r[u!=f&&r[u].f<r[h].f?u++:h++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var g=i[0].s,n=1;n<a;++n)i[n].s>g&&(g=i[n].s);var p=new ef(g+1),N=mF(r[f-1],p,0);if(N>t){var n=0,b=0,S=N-t,C=1<<S;for(i.sort(function(B,L){return p[L.s]-p[B.s]||B.f-L.f});n<a;++n){var j=i[n].s;if(p[j]>t)b+=C-(1<<N-p[j]),p[j]=t;else break}for(b>>=S;b>0;){var T=i[n].s;p[T]<t?b-=1<<t-p[T]++-1:++n}for(;n>=0&&b;--n){var O=i[n].s;p[O]==t&&(--p[O],++b)}N=t}return{t:new zh(p),l:N}},mF=function(e,t,r){return e.s==-1?Math.max(mF(e.l,t,r+1),mF(e.r,t,r+1)):t[e.s]=r},fH=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ef(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,n),n:t}},Dw=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Dle=function(e,t,r){var n=r.length,a=Fle(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},hH=function(e,t,r,n,a,i,o,l,c,u,f){om(t,f++,r),++a[256];for(var h=Wk(a,15),g=h.t,p=h.l,N=Wk(i,15),b=N.t,S=N.l,C=fH(g),j=C.c,T=C.n,O=fH(b),M=O.c,B=O.n,L=new ef(19),H=0;H<j.length;++H)++L[j[H]&31];for(var H=0;H<M.length;++H)++L[M[H]&31];for(var U=Wk(L,7),J=U.t,K=U.l,G=19;G>4&&!J[uH[G-1]];--G);var re=u+5<<3,ae=Dw(a,Ax)+Dw(i,CA)+o,X=Dw(a,g)+Dw(i,b)+o+14+3*G+Dw(L,J)+2*L[16]+3*L[17]+7*L[18];if(c>=0&&re<=ae&&re<=X)return Dle(t,f,e.subarray(c,c+u));var ne,de,le,xe;if(om(t,f,1+(X<ae)),f+=2,X<ae){ne=j_(g,p,0),de=g,le=j_(b,S,0),xe=b;var Se=j_(J,K,0);om(t,f,T-257),om(t,f+5,B-1),om(t,f+10,G-4),f+=14;for(var H=0;H<G;++H)om(t,f+3*H,J[uH[H]]);f+=3*G;for(var ye=[j,M],ee=0;ee<2;++ee)for(var he=ye[ee],H=0;H<he.length;++H){var se=he[H]&31;om(t,f,Se[se]),f+=J[se],se>15&&(om(t,f,he[H]>>5&127),f+=he[H]>>12)}}else ne=HFe,de=Ax,le=qFe,xe=CA;for(var H=0;H<l;++H){var te=n[H];if(te>255){var se=te>>18&31;Fw(t,f,ne[se+257]),f+=de[se+257],se>7&&(om(t,f,te>>23&31),f+=xL[se]);var ge=te&31;Fw(t,f,le[ge]),f+=xe[ge],ge>3&&(Fw(t,f,te>>5&8191),f+=vL[ge])}else Fw(t,f,ne[te]),f+=de[te]}return Fw(t,f,ne[256]),f+de[256]},KFe=new gL([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Rle=new zh(0),YFe=function(e,t,r,n,a,i){var o=i.z||e.length,l=new zh(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,f=(i.r||0)&7;if(t){f&&(c[0]=i.r>>3);for(var h=KFe[t-1],g=h>>13,p=h&8191,N=(1<<r)-1,b=i.p||new ef(32768),S=i.h||new ef(N+1),C=Math.ceil(r/3),j=2*C,T=function(lt){return(e[lt]^e[lt+1]<<C^e[lt+2]<<j)&N},O=new gL(25e3),M=new ef(288),B=new ef(32),L=0,H=0,U=i.i||0,J=0,K=i.w||0,G=0;U+2<o;++U){var re=T(U),ae=U&32767,X=S[re];if(b[ae]=X,S[re]=ae,K<=U){var ne=o-U;if((L>7e3||J>24576)&&(ne>423||!u)){f=hH(e,c,0,O,M,B,H,J,G,U-G,f),J=L=H=0,G=U;for(var de=0;de<286;++de)M[de]=0;for(var de=0;de<30;++de)B[de]=0}var le=2,xe=0,Se=p,ye=ae-X&32767;if(ne>2&&re==T(U-ye))for(var ee=Math.min(g,ne)-1,he=Math.min(32767,U),se=Math.min(258,ne);ye<=he&&--Se&&ae!=X;){if(e[U+le]==e[U+le-ye]){for(var te=0;te<se&&e[U+te]==e[U+te-ye];++te);if(te>le){if(le=te,xe=ye,te>ee)break;for(var ge=Math.min(ye,te-2),ue=0,de=0;de<ge;++de){var Ce=U-ye+de&32767,Ne=b[Ce],Ee=Ce-Ne&32767;Ee>ue&&(ue=Ee,X=Ce)}}}ae=X,X=b[ae],ye+=ae-X&32767}if(xe){O[J++]=268435456|fF[le]<<18|dH[xe];var Ge=fF[le]&31,Be=dH[xe]&31;H+=xL[Ge]+vL[Be],++M[257+Ge],++B[Be],K=U+le,++L}else O[J++]=e[U],++M[e[U]]}}for(U=Math.max(U,K);U<o;++U)O[J++]=e[U],++M[e[U]];f=hH(e,c,u,O,M,B,H,J,G,U-G,f),u||(i.r=f&7|c[f/8|0]<<3,f-=7,i.h=S,i.p=b,i.i=U,i.w=K)}else{for(var U=i.w||0;U<o+u;U+=65535){var st=U+65535;st>=o&&(c[f/8|0]=u,st=o),f=Dle(c,f+1,e.subarray(U,st))}i.i=o}return GFe(l,0,n+Fle(f)+a)},Mle=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},XFe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new zh(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return YFe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},Lle=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ZFe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Mle();a.p(t.dictionary),Lle(e,2,a.d())}};function pF(e,t){t||(t={});var r=Mle();r.p(e);var n=XFe(e,t,t.dictionary?6:2,4);return ZFe(n,t),Lle(n,n.length-4,r.d()),n}var JFe=typeof TextDecoder<"u"&&new TextDecoder,QFe=0;try{JFe.decode(Rle,{stream:!0}),QFe=1}catch{}function eDe(e){if(Array.isArray(e))return e}function tDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function mH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rDe(e,t){if(e){if(typeof e=="string")return mH(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mH(e,t):void 0}}function nDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pH(e,t){return eDe(e)||tDe(e,t)||rDe(e,t)||nDe()}function gH(e,t="utf8"){return new TextDecoder(t).decode(e)}const aDe=new TextEncoder;function iDe(e){return aDe.encode(e)}const sDe=1024*8,oDe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Hk={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class yL{constructor(t=sDe,r={}){ss(this,"buffer");ss(this,"byteLength");ss(this,"byteOffset");ss(this,"length");ss(this,"offset");ss(this,"lastWrittenByte");ss(this,"littleEndian");ss(this,"_data");ss(this,"_mark");ss(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof yL)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=Hk[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===oDe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new Hk[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new Hk[r](i);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return gH(this.readBytes(t))}decodeText(t=1,r="utf8"){return gH(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(iDe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const lDe=4,xH=0,vH=1,cDe=2;function _b(e){let t=e.length;for(;--t>=0;)e[t]=0}const uDe=0,Ble=1,dDe=2,fDe=3,hDe=258,bL=29,o3=256,E4=o3+1+bL,V2=30,wL=19,Ule=2*E4+1,Gg=15,qk=16,mDe=7,_L=256,$le=16,zle=17,Vle=18,gF=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),mC=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),pDe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Wle=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gDe=512,xm=new Array((E4+2)*2);_b(xm);const T_=new Array(V2*2);_b(T_);const j4=new Array(gDe);_b(j4);const T4=new Array(hDe-fDe+1);_b(T4);const NL=new Array(bL);_b(NL);const AA=new Array(V2);_b(AA);function Gk(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}let Hle,qle,Gle;function Kk(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const Kle=e=>e<256?j4[e]:j4[256+(e>>>7)],k4=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},gd=(e,t,r)=>{e.bi_valid>qk-r?(e.bi_buf|=t<<e.bi_valid&65535,k4(e,e.bi_buf),e.bi_buf=t>>qk-e.bi_valid,e.bi_valid+=r-qk):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},y0=(e,t,r)=>{gd(e,r[t*2],r[t*2+1])},Yle=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},xDe=e=>{e.bi_valid===16?(k4(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},vDe=(e,t)=>{const r=t.dyn_tree,n=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,f,h,g,p,N,b=0;for(g=0;g<=Gg;g++)e.bl_count[g]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<Ule;u++)f=e.heap[u],g=r[r[f*2+1]*2+1]+1,g>c&&(g=c,b++),r[f*2+1]=g,!(f>n)&&(e.bl_count[g]++,p=0,f>=l&&(p=o[f-l]),N=r[f*2],e.opt_len+=N*(g+p),i&&(e.static_len+=N*(a[f*2+1]+p)));if(b!==0){do{for(g=c-1;e.bl_count[g]===0;)g--;e.bl_count[g]--,e.bl_count[g+1]+=2,e.bl_count[c]--,b-=2}while(b>0);for(g=c;g!==0;g--)for(f=e.bl_count[g];f!==0;)h=e.heap[--u],!(h>n)&&(r[h*2+1]!==g&&(e.opt_len+=(g-r[h*2+1])*r[h*2],r[h*2+1]=g),f--)}},Xle=(e,t,r)=>{const n=new Array(Gg+1);let a=0,i,o;for(i=1;i<=Gg;i++)a=a+r[i-1]<<1,n[i]=a;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=Yle(n[l]++,l))}},yDe=()=>{let e,t,r,n,a;const i=new Array(Gg+1);for(r=0,n=0;n<bL-1;n++)for(NL[n]=r,e=0;e<1<<gF[n];e++)T4[r++]=n;for(T4[r-1]=n,a=0,n=0;n<16;n++)for(AA[n]=a,e=0;e<1<<mC[n];e++)j4[a++]=n;for(a>>=7;n<V2;n++)for(AA[n]=a<<7,e=0;e<1<<mC[n]-7;e++)j4[256+a++]=n;for(t=0;t<=Gg;t++)i[t]=0;for(e=0;e<=143;)xm[e*2+1]=8,e++,i[8]++;for(;e<=255;)xm[e*2+1]=9,e++,i[9]++;for(;e<=279;)xm[e*2+1]=7,e++,i[7]++;for(;e<=287;)xm[e*2+1]=8,e++,i[8]++;for(Xle(xm,E4+1,i),e=0;e<V2;e++)T_[e*2+1]=5,T_[e*2]=Yle(e,5);Hle=new Gk(xm,gF,o3+1,E4,Gg),qle=new Gk(T_,mC,0,V2,Gg),Gle=new Gk(new Array(0),pDe,0,wL,mDe)},Zle=e=>{let t;for(t=0;t<E4;t++)e.dyn_ltree[t*2]=0;for(t=0;t<V2;t++)e.dyn_dtree[t*2]=0;for(t=0;t<wL;t++)e.bl_tree[t*2]=0;e.dyn_ltree[_L*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Jle=e=>{e.bi_valid>8?k4(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},yH=(e,t,r,n)=>{const a=t*2,i=r*2;return e[a]<e[i]||e[a]===e[i]&&n[t]<=n[r]},Yk=(e,t,r)=>{const n=e.heap[r];let a=r<<1;for(;a<=e.heap_len&&(a<e.heap_len&&yH(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!yH(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n},bH=(e,t,r)=>{let n,a,i=0,o,l;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,a=e.pending_buf[e.sym_buf+i++],n===0?y0(e,a,t):(o=T4[a],y0(e,o+o3+1,t),l=gF[o],l!==0&&(a-=NL[o],gd(e,a,l)),n--,o=Kle(n),y0(e,o,r),l=mC[o],l!==0&&(n-=AA[o],gd(e,n,l)));while(i<e.sym_next);y0(e,_L,t)},xF=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,l,c=-1,u;for(e.heap_len=0,e.heap_max=Ule,o=0;o<i;o++)r[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,a&&(e.static_len-=n[u*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)Yk(e,r,o);u=i;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Yk(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,r[u*2]=r[o*2]+r[l*2],e.depth[u]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,r[o*2+1]=r[l*2+1]=u,e.heap[1]=u++,Yk(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],vDe(e,t),Xle(r,c,e.bl_count)},wH=(e,t,r)=>{let n,a=-1,i,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=o,o=t[(n+1)*2+1],!(++l<c&&i===o)&&(l<u?e.bl_tree[i*2]+=l:i!==0?(i!==a&&e.bl_tree[i*2]++,e.bl_tree[$le*2]++):l<=10?e.bl_tree[zle*2]++:e.bl_tree[Vle*2]++,l=0,a=i,o===0?(c=138,u=3):i===o?(c=6,u=3):(c=7,u=4))},_H=(e,t,r)=>{let n,a=-1,i,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),n=0;n<=r;n++)if(i=o,o=t[(n+1)*2+1],!(++l<c&&i===o)){if(l<u)do y0(e,i,e.bl_tree);while(--l!==0);else i!==0?(i!==a&&(y0(e,i,e.bl_tree),l--),y0(e,$le,e.bl_tree),gd(e,l-3,2)):l<=10?(y0(e,zle,e.bl_tree),gd(e,l-3,3)):(y0(e,Vle,e.bl_tree),gd(e,l-11,7));l=0,a=i,o===0?(c=138,u=3):i===o?(c=6,u=3):(c=7,u=4)}},bDe=e=>{let t;for(wH(e,e.dyn_ltree,e.l_desc.max_code),wH(e,e.dyn_dtree,e.d_desc.max_code),xF(e,e.bl_desc),t=wL-1;t>=3&&e.bl_tree[Wle[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},wDe=(e,t,r,n)=>{let a;for(gd(e,t-257,5),gd(e,r-1,5),gd(e,n-4,4),a=0;a<n;a++)gd(e,e.bl_tree[Wle[a]*2+1],3);_H(e,e.dyn_ltree,t-1),_H(e,e.dyn_dtree,r-1)},_De=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return xH;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return vH;for(r=32;r<o3;r++)if(e.dyn_ltree[r*2]!==0)return vH;return xH};let NH=!1;const NDe=e=>{NH||(yDe(),NH=!0),e.l_desc=new Kk(e.dyn_ltree,Hle),e.d_desc=new Kk(e.dyn_dtree,qle),e.bl_desc=new Kk(e.bl_tree,Gle),e.bi_buf=0,e.bi_valid=0,Zle(e)},Qle=(e,t,r,n)=>{gd(e,(uDe<<1)+(n?1:0),3),Jle(e),k4(e,r),k4(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},SDe=e=>{gd(e,Ble<<1,3),y0(e,_L,xm),xDe(e)},CDe=(e,t,r,n)=>{let a,i,o=0;e.level>0?(e.strm.data_type===cDe&&(e.strm.data_type=_De(e)),xF(e,e.l_desc),xF(e,e.d_desc),o=bDe(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=r+5,r+4<=a&&t!==-1?Qle(e,t,r,n):e.strategy===lDe||i===a?(gd(e,(Ble<<1)+(n?1:0),3),bH(e,xm,T_)):(gd(e,(dDe<<1)+(n?1:0),3),wDe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),bH(e,e.dyn_ltree,e.dyn_dtree)),Zle(e),n&&Jle(e)},ADe=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(T4[r]+o3+1)*2]++,e.dyn_dtree[Kle(t)*2]++),e.sym_next===e.sym_end);var EDe=NDe,jDe=Qle,TDe=CDe,kDe=ADe,PDe=SDe,ODe={_tr_init:EDe,_tr_stored_block:jDe,_tr_flush_block:TDe,_tr_tally:kDe,_tr_align:PDe};const IDe=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var P4=IDe;const FDe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},DDe=new Uint32Array(FDe()),RDe=(e,t,r,n)=>{const a=DDe,i=n+r;e^=-1;for(let o=n;o<i;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var fc=RDe,Sy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},l3={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:MDe,_tr_stored_block:vF,_tr_flush_block:LDe,_tr_tally:d1,_tr_align:BDe}=ODe,{Z_NO_FLUSH:f1,Z_PARTIAL_FLUSH:UDe,Z_FULL_FLUSH:$De,Z_FINISH:Mf,Z_BLOCK:SH,Z_OK:Bc,Z_STREAM_END:CH,Z_STREAM_ERROR:P0,Z_DATA_ERROR:zDe,Z_BUF_ERROR:Xk,Z_DEFAULT_COMPRESSION:VDe,Z_FILTERED:WDe,Z_HUFFMAN_ONLY:tS,Z_RLE:HDe,Z_FIXED:qDe,Z_DEFAULT_STRATEGY:GDe,Z_UNKNOWN:KDe,Z_DEFLATED:N6}=l3,YDe=9,XDe=15,ZDe=8,JDe=29,QDe=256,yF=QDe+1+JDe,eRe=30,tRe=19,rRe=2*yF+1,nRe=15,Pi=3,Wp=258,O0=Wp+Pi+1,aRe=32,Cy=42,SL=57,bF=69,wF=73,_F=91,NF=103,Kg=113,s_=666,Vu=1,Nb=2,Ex=3,Sb=4,iRe=3,Yg=(e,t)=>(e.msg=Sy[t],t),AH=e=>e*2-(e>4?9:0),Lp=e=>{let t=e.length;for(;--t>=0;)e[t]=0},sRe=e=>{let t,r,n,a=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=a?r-a:0;while(--t);t=a,n=t;do r=e.prev[--n],e.prev[n]=r>=a?r-a:0;while(--t)};let oRe=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,h1=oRe;const Bd=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},tf=(e,t)=>{LDe(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Bd(e.strm)},os=(e,t)=>{e.pending_buf[e.pending++]=t},Rw=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},SF=(e,t,r,n)=>{let a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),r),e.state.wrap===1?e.adler=P4(e.adler,t,a,r):e.state.wrap===2&&(e.adler=fc(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)},ece=(e,t)=>{let r=e.max_chain_length,n=e.strstart,a,i,o=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-O0?e.strstart-(e.w_size-O0):0,u=e.window,f=e.w_mask,h=e.prev,g=e.strstart+Wp;let p=u[n+o-1],N=u[n+o];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(a=t,!(u[a+o]!==N||u[a+o-1]!==p||u[a]!==u[n]||u[++a]!==u[n+1])){n+=2,a++;do;while(u[++n]===u[++a]&&u[++n]===u[++a]&&u[++n]===u[++a]&&u[++n]===u[++a]&&u[++n]===u[++a]&&u[++n]===u[++a]&&u[++n]===u[++a]&&u[++n]===u[++a]&&n<g);if(i=Wp-(g-n),n=g-Wp,i>o){if(e.match_start=t,o=i,i>=l)break;p=u[n+o-1],N=u[n+o]}}while((t=h[t&f])>c&&--r!==0);return o<=e.lookahead?o:e.lookahead},Ay=e=>{const t=e.w_size;let r,n,a;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-O0)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),sRe(e),n+=t),e.strm.avail_in===0)break;if(r=SF(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=Pi)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=h1(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=h1(e,e.ins_h,e.window[a+Pi-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<Pi)););}while(e.lookahead<O0&&e.strm.avail_in!==0)},tce=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,a,i,o=0,l=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,a=e.strstart-e.block_start,n>a+e.strm.avail_in&&(n=a+e.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&t!==Mf||t===f1||n!==a+e.strm.avail_in)))break;o=t===Mf&&n===a+e.strm.avail_in?1:0,vF(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Bd(e.strm),a&&(a>n&&(a=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,n-=a),n&&(SF(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Sb:t!==f1&&t!==Mf&&e.strm.avail_in===0&&e.strstart===e.block_start?Nb:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(SF(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,a=e.strstart-e.block_start,(a>=r||(a||t===Mf)&&t!==f1&&e.strm.avail_in===0&&a<=i)&&(n=a>i?i:a,o=t===Mf&&e.strm.avail_in===0&&n===a?1:0,vF(e,e.block_start,n,o),e.block_start+=n,Bd(e.strm)),o?Ex:Vu)},Zk=(e,t)=>{let r,n;for(;;){if(e.lookahead<O0){if(Ay(e),e.lookahead<O0&&t===f1)return Vu;if(e.lookahead===0)break}if(r=0,e.lookahead>=Pi&&(e.ins_h=h1(e,e.ins_h,e.window[e.strstart+Pi-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-O0&&(e.match_length=ece(e,r)),e.match_length>=Pi)if(n=d1(e,e.strstart-e.match_start,e.match_length-Pi),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Pi){e.match_length--;do e.strstart++,e.ins_h=h1(e,e.ins_h,e.window[e.strstart+Pi-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=h1(e,e.ins_h,e.window[e.strstart+1]);else n=d1(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(tf(e,!1),e.strm.avail_out===0))return Vu}return e.insert=e.strstart<Pi-1?e.strstart:Pi-1,t===Mf?(tf(e,!0),e.strm.avail_out===0?Ex:Sb):e.sym_next&&(tf(e,!1),e.strm.avail_out===0)?Vu:Nb},Bv=(e,t)=>{let r,n,a;for(;;){if(e.lookahead<O0){if(Ay(e),e.lookahead<O0&&t===f1)return Vu;if(e.lookahead===0)break}if(r=0,e.lookahead>=Pi&&(e.ins_h=h1(e,e.ins_h,e.window[e.strstart+Pi-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Pi-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-O0&&(e.match_length=ece(e,r),e.match_length<=5&&(e.strategy===WDe||e.match_length===Pi&&e.strstart-e.match_start>4096)&&(e.match_length=Pi-1)),e.prev_length>=Pi&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-Pi,n=d1(e,e.strstart-1-e.prev_match,e.prev_length-Pi),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=h1(e,e.ins_h,e.window[e.strstart+Pi-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Pi-1,e.strstart++,n&&(tf(e,!1),e.strm.avail_out===0))return Vu}else if(e.match_available){if(n=d1(e,0,e.window[e.strstart-1]),n&&tf(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Vu}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=d1(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Pi-1?e.strstart:Pi-1,t===Mf?(tf(e,!0),e.strm.avail_out===0?Ex:Sb):e.sym_next&&(tf(e,!1),e.strm.avail_out===0)?Vu:Nb},lRe=(e,t)=>{let r,n,a,i;const o=e.window;for(;;){if(e.lookahead<=Wp){if(Ay(e),e.lookahead<=Wp&&t===f1)return Vu;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Pi&&e.strstart>0&&(a=e.strstart-1,n=o[a],n===o[++a]&&n===o[++a]&&n===o[++a])){i=e.strstart+Wp;do;while(n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&a<i);e.match_length=Wp-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Pi?(r=d1(e,1,e.match_length-Pi),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=d1(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(tf(e,!1),e.strm.avail_out===0))return Vu}return e.insert=0,t===Mf?(tf(e,!0),e.strm.avail_out===0?Ex:Sb):e.sym_next&&(tf(e,!1),e.strm.avail_out===0)?Vu:Nb},cRe=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Ay(e),e.lookahead===0)){if(t===f1)return Vu;break}if(e.match_length=0,r=d1(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(tf(e,!1),e.strm.avail_out===0))return Vu}return e.insert=0,t===Mf?(tf(e,!0),e.strm.avail_out===0?Ex:Sb):e.sym_next&&(tf(e,!1),e.strm.avail_out===0)?Vu:Nb};function c0(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}const o_=[new c0(0,0,0,0,tce),new c0(4,4,8,4,Zk),new c0(4,5,16,8,Zk),new c0(4,6,32,32,Zk),new c0(4,4,16,16,Bv),new c0(8,16,32,32,Bv),new c0(8,16,128,128,Bv),new c0(8,32,128,256,Bv),new c0(32,128,258,1024,Bv),new c0(32,258,258,4096,Bv)],uRe=e=>{e.window_size=2*e.w_size,Lp(e.head),e.max_lazy_match=o_[e.level].max_lazy,e.good_match=o_[e.level].good_length,e.nice_match=o_[e.level].nice_length,e.max_chain_length=o_[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Pi-1,e.match_available=0,e.ins_h=0};function dRe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N6,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(rRe*2),this.dyn_dtree=new Uint16Array((2*eRe+1)*2),this.bl_tree=new Uint16Array((2*tRe+1)*2),Lp(this.dyn_ltree),Lp(this.dyn_dtree),Lp(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(nRe+1),this.heap=new Uint16Array(2*yF+1),Lp(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*yF+1),Lp(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const c3=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Cy&&t.status!==SL&&t.status!==bF&&t.status!==wF&&t.status!==_F&&t.status!==NF&&t.status!==Kg&&t.status!==s_?1:0},rce=e=>{if(c3(e))return Yg(e,P0);e.total_in=e.total_out=0,e.data_type=KDe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?SL:t.wrap?Cy:Kg,e.adler=t.wrap===2?0:1,t.last_flush=-2,MDe(t),Bc},nce=e=>{const t=rce(e);return t===Bc&&uRe(e.state),t},fRe=(e,t)=>c3(e)||e.state.wrap!==2?P0:(e.state.gzhead=t,Bc),ace=(e,t,r,n,a,i)=>{if(!e)return P0;let o=1;if(t===VDe&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),a<1||a>YDe||r!==N6||n<8||n>15||t<0||t>9||i<0||i>qDe||n===8&&o!==1)return Yg(e,P0);n===8&&(n=9);const l=new dRe;return e.state=l,l.strm=e,l.status=Cy,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Pi-1)/Pi),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=i,l.method=r,nce(e)},hRe=(e,t)=>ace(e,t,N6,XDe,ZDe,GDe),mRe=(e,t)=>{if(c3(e)||t>SH||t<0)return e?Yg(e,P0):P0;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===s_&&t!==Mf)return Yg(e,e.avail_out===0?Xk:P0);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(Bd(e),e.avail_out===0)return r.last_flush=-1,Bc}else if(e.avail_in===0&&AH(t)<=AH(n)&&t!==Mf)return Yg(e,Xk);if(r.status===s_&&e.avail_in!==0)return Yg(e,Xk);if(r.status===Cy&&r.wrap===0&&(r.status=Kg),r.status===Cy){let a=N6+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=tS||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,a|=i<<6,r.strstart!==0&&(a|=aRe),a+=31-a%31,Rw(r,a),r.strstart!==0&&(Rw(r,e.adler>>>16),Rw(r,e.adler&65535)),e.adler=1,r.status=Kg,Bd(e),r.pending!==0)return r.last_flush=-1,Bc}if(r.status===SL){if(e.adler=0,os(r,31),os(r,139),os(r,8),r.gzhead)os(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),os(r,r.gzhead.time&255),os(r,r.gzhead.time>>8&255),os(r,r.gzhead.time>>16&255),os(r,r.gzhead.time>>24&255),os(r,r.level===9?2:r.strategy>=tS||r.level<2?4:0),os(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(os(r,r.gzhead.extra.length&255),os(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=fc(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=bF;else if(os(r,0),os(r,0),os(r,0),os(r,0),os(r,0),os(r,r.level===9?2:r.strategy>=tS||r.level<2?4:0),os(r,iRe),r.status=Kg,Bd(e),r.pending!==0)return r.last_flush=-1,Bc}if(r.status===bF){if(r.gzhead.extra){let a=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>a&&(e.adler=fc(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex+=l,Bd(e),r.pending!==0)return r.last_flush=-1,Bc;a=0,i-=l}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>a&&(e.adler=fc(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=wF}if(r.status===wF){if(r.gzhead.name){let a=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=fc(e.adler,r.pending_buf,r.pending-a,a)),Bd(e),r.pending!==0)return r.last_flush=-1,Bc;a=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,os(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=fc(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=_F}if(r.status===_F){if(r.gzhead.comment){let a=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=fc(e.adler,r.pending_buf,r.pending-a,a)),Bd(e),r.pending!==0)return r.last_flush=-1,Bc;a=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,os(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=fc(e.adler,r.pending_buf,r.pending-a,a))}r.status=NF}if(r.status===NF){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Bd(e),r.pending!==0))return r.last_flush=-1,Bc;os(r,e.adler&255),os(r,e.adler>>8&255),e.adler=0}if(r.status=Kg,Bd(e),r.pending!==0)return r.last_flush=-1,Bc}if(e.avail_in!==0||r.lookahead!==0||t!==f1&&r.status!==s_){let a=r.level===0?tce(r,t):r.strategy===tS?cRe(r,t):r.strategy===HDe?lRe(r,t):o_[r.level].func(r,t);if((a===Ex||a===Sb)&&(r.status=s_),a===Vu||a===Ex)return e.avail_out===0&&(r.last_flush=-1),Bc;if(a===Nb&&(t===UDe?BDe(r):t!==SH&&(vF(r,0,0,!1),t===$De&&(Lp(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Bd(e),e.avail_out===0))return r.last_flush=-1,Bc}return t!==Mf?Bc:r.wrap<=0?CH:(r.wrap===2?(os(r,e.adler&255),os(r,e.adler>>8&255),os(r,e.adler>>16&255),os(r,e.adler>>24&255),os(r,e.total_in&255),os(r,e.total_in>>8&255),os(r,e.total_in>>16&255),os(r,e.total_in>>24&255)):(Rw(r,e.adler>>>16),Rw(r,e.adler&65535)),Bd(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Bc:CH)},pRe=e=>{if(c3(e))return P0;const t=e.state.status;return e.state=null,t===Kg?Yg(e,zDe):Bc},gRe=(e,t)=>{let r=t.length;if(c3(e))return P0;const n=e.state,a=n.wrap;if(a===2||a===1&&n.status!==Cy||n.lookahead)return P0;if(a===1&&(e.adler=P4(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){a===0&&(Lp(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(r-n.w_size,r),0),t=c,r=n.w_size}const i=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Ay(n);n.lookahead>=Pi;){let c=n.strstart,u=n.lookahead-(Pi-1);do n.ins_h=h1(n,n.ins_h,n.window[c+Pi-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--u);n.strstart=c,n.lookahead=Pi-1,Ay(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Pi-1,n.match_available=0,e.next_in=o,e.input=l,e.avail_in=i,n.wrap=a,Bc};var xRe=hRe,vRe=ace,yRe=nce,bRe=rce,wRe=fRe,_Re=mRe,NRe=pRe,SRe=gRe,CRe="pako deflate (from Nodeca project)",k_={deflateInit:xRe,deflateInit2:vRe,deflateReset:yRe,deflateResetKeep:bRe,deflateSetHeader:wRe,deflate:_Re,deflateEnd:NRe,deflateSetDictionary:SRe,deflateInfo:CRe};const ARe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var ERe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)ARe(r,n)&&(e[n]=r[n])}}return e},jRe=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let o=e[n];r.set(o,a),a+=o.length}return r},S6={assign:ERe,flattenChunks:jRe};let ice=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ice=!1}const O4=new Uint8Array(256);for(let e=0;e<256;e++)O4[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;O4[254]=O4[254]=1;var TRe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,a=0;i<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const kRe=(e,t)=>{if(t<65534&&e.subarray&&ice)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var PRe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let o=e[n++];if(o<128){i[a++]=o;continue}let l=O4[o];if(l>4){i[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return kRe(i,a)},ORe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+O4[e[r]]>t?r:t},I4={string2buf:TRe,buf2string:PRe,utf8border:ORe};function IRe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var sce=IRe;const oce=Object.prototype.toString,{Z_NO_FLUSH:FRe,Z_SYNC_FLUSH:DRe,Z_FULL_FLUSH:RRe,Z_FINISH:MRe,Z_OK:EA,Z_STREAM_END:LRe,Z_DEFAULT_COMPRESSION:BRe,Z_DEFAULT_STRATEGY:URe,Z_DEFLATED:$Re}=l3;function CL(e){this.options=S6.assign({level:BRe,method:$Re,chunkSize:16384,windowBits:15,memLevel:8,strategy:URe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sce,this.strm.avail_out=0;let r=k_.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==EA)throw new Error(Sy[r]);if(t.header&&k_.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=I4.string2buf(t.dictionary):oce.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=k_.deflateSetDictionary(this.strm,n),r!==EA)throw new Error(Sy[r]);this._dict_set=!0}}CL.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let a,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?MRe:FRe,typeof e=="string"?r.input=I4.string2buf(e):oce.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===DRe||i===RRe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(a=k_.deflate(r,i),a===LRe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=k_.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===EA;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};CL.prototype.onData=function(e){this.chunks.push(e)};CL.prototype.onEnd=function(e){e===EA&&(this.result=S6.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const rS=16209,zRe=16191;var VRe=function(t,r){let n,a,i,o,l,c,u,f,h,g,p,N,b,S,C,j,T,O,M,B,L,H,U,J;const K=t.state;n=t.next_in,U=t.input,a=n+(t.avail_in-5),i=t.next_out,J=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=K.dmax,u=K.wsize,f=K.whave,h=K.wnext,g=K.window,p=K.hold,N=K.bits,b=K.lencode,S=K.distcode,C=(1<<K.lenbits)-1,j=(1<<K.distbits)-1;e:do{N<15&&(p+=U[n++]<<N,N+=8,p+=U[n++]<<N,N+=8),T=b[p&C];t:for(;;){if(O=T>>>24,p>>>=O,N-=O,O=T>>>16&255,O===0)J[i++]=T&65535;else if(O&16){M=T&65535,O&=15,O&&(N<O&&(p+=U[n++]<<N,N+=8),M+=p&(1<<O)-1,p>>>=O,N-=O),N<15&&(p+=U[n++]<<N,N+=8,p+=U[n++]<<N,N+=8),T=S[p&j];r:for(;;){if(O=T>>>24,p>>>=O,N-=O,O=T>>>16&255,O&16){if(B=T&65535,O&=15,N<O&&(p+=U[n++]<<N,N+=8,N<O&&(p+=U[n++]<<N,N+=8)),B+=p&(1<<O)-1,B>c){t.msg="invalid distance too far back",K.mode=rS;break e}if(p>>>=O,N-=O,O=i-o,B>O){if(O=B-O,O>f&&K.sane){t.msg="invalid distance too far back",K.mode=rS;break e}if(L=0,H=g,h===0){if(L+=u-O,O<M){M-=O;do J[i++]=g[L++];while(--O);L=i-B,H=J}}else if(h<O){if(L+=u+h-O,O-=h,O<M){M-=O;do J[i++]=g[L++];while(--O);if(L=0,h<M){O=h,M-=O;do J[i++]=g[L++];while(--O);L=i-B,H=J}}}else if(L+=h-O,O<M){M-=O;do J[i++]=g[L++];while(--O);L=i-B,H=J}for(;M>2;)J[i++]=H[L++],J[i++]=H[L++],J[i++]=H[L++],M-=3;M&&(J[i++]=H[L++],M>1&&(J[i++]=H[L++]))}else{L=i-B;do J[i++]=J[L++],J[i++]=J[L++],J[i++]=J[L++],M-=3;while(M>2);M&&(J[i++]=J[L++],M>1&&(J[i++]=J[L++]))}}else if(O&64){t.msg="invalid distance code",K.mode=rS;break e}else{T=S[(T&65535)+(p&(1<<O)-1)];continue r}break}}else if(O&64)if(O&32){K.mode=zRe;break e}else{t.msg="invalid literal/length code",K.mode=rS;break e}else{T=b[(T&65535)+(p&(1<<O)-1)];continue t}break}}while(n<a&&i<l);M=N>>3,n-=M,N-=M<<3,p&=(1<<N)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<l?257+(l-i):257-(i-l),K.hold=p,K.bits=N};const Uv=15,EH=852,jH=592,TH=0,Jk=1,kH=2,WRe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),HRe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qRe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),GRe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),KRe=(e,t,r,n,a,i,o,l)=>{const c=l.bits;let u=0,f=0,h=0,g=0,p=0,N=0,b=0,S=0,C=0,j=0,T,O,M,B,L,H=null,U;const J=new Uint16Array(Uv+1),K=new Uint16Array(Uv+1);let G=null,re,ae,X;for(u=0;u<=Uv;u++)J[u]=0;for(f=0;f<n;f++)J[t[r+f]]++;for(p=c,g=Uv;g>=1&&J[g]===0;g--);if(p>g&&(p=g),g===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<g&&J[h]===0;h++);for(p<h&&(p=h),S=1,u=1;u<=Uv;u++)if(S<<=1,S-=J[u],S<0)return-1;if(S>0&&(e===TH||g!==1))return-1;for(K[1]=0,u=1;u<Uv;u++)K[u+1]=K[u]+J[u];for(f=0;f<n;f++)t[r+f]!==0&&(o[K[t[r+f]]++]=f);if(e===TH?(H=G=o,U=20):e===Jk?(H=WRe,G=HRe,U=257):(H=qRe,G=GRe,U=0),j=0,f=0,u=h,L=i,N=p,b=0,M=-1,C=1<<p,B=C-1,e===Jk&&C>EH||e===kH&&C>jH)return 1;for(;;){re=u-b,o[f]+1<U?(ae=0,X=o[f]):o[f]>=U?(ae=G[o[f]-U],X=H[o[f]-U]):(ae=32+64,X=0),T=1<<u-b,O=1<<N,h=O;do O-=T,a[L+(j>>b)+O]=re<<24|ae<<16|X|0;while(O!==0);for(T=1<<u-1;j&T;)T>>=1;if(T!==0?(j&=T-1,j+=T):j=0,f++,--J[u]===0){if(u===g)break;u=t[r+o[f]]}if(u>p&&(j&B)!==M){for(b===0&&(b=p),L+=h,N=u-b,S=1<<N;N+b<g&&(S-=J[N+b],!(S<=0));)N++,S<<=1;if(C+=1<<N,e===Jk&&C>EH||e===kH&&C>jH)return 1;M=j&B,a[M]=p<<24|N<<16|L-i|0}}return j!==0&&(a[L+j]=u-b<<24|64<<16|0),l.bits=p,0};var P_=KRe;const YRe=0,lce=1,cce=2,{Z_FINISH:PH,Z_BLOCK:XRe,Z_TREES:nS,Z_OK:jx,Z_STREAM_END:ZRe,Z_NEED_DICT:JRe,Z_STREAM_ERROR:Gf,Z_DATA_ERROR:uce,Z_MEM_ERROR:dce,Z_BUF_ERROR:QRe,Z_DEFLATED:OH}=l3,C6=16180,IH=16181,FH=16182,DH=16183,RH=16184,MH=16185,LH=16186,BH=16187,UH=16188,$H=16189,jA=16190,lm=16191,Qk=16192,zH=16193,eP=16194,VH=16195,WH=16196,HH=16197,qH=16198,aS=16199,iS=16200,GH=16201,KH=16202,YH=16203,XH=16204,ZH=16205,tP=16206,JH=16207,QH=16208,ho=16209,fce=16210,hce=16211,e7e=852,t7e=592,r7e=15,n7e=r7e,eq=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function a7e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Jx=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<C6||t.mode>hce?1:0},mce=e=>{if(Jx(e))return Gf;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=C6,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(e7e),t.distcode=t.distdyn=new Int32Array(t7e),t.sane=1,t.back=-1,jx},pce=e=>{if(Jx(e))return Gf;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,mce(e)},gce=(e,t)=>{let r;if(Jx(e))return Gf;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Gf:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,pce(e))},xce=(e,t)=>{if(!e)return Gf;const r=new a7e;e.state=r,r.strm=e,r.window=null,r.mode=C6;const n=gce(e,t);return n!==jx&&(e.state=null),n},i7e=e=>xce(e,n7e);let tq=!0,rP,nP;const s7e=e=>{if(tq){rP=new Int32Array(512),nP=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(P_(lce,e.lens,0,288,rP,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;P_(cce,e.lens,0,32,nP,0,e.work,{bits:5}),tq=!1}e.lencode=rP,e.lenbits=9,e.distcode=nP,e.distbits=5},vce=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},o7e=(e,t)=>{let r,n,a,i,o,l,c,u,f,h,g,p,N,b,S=0,C,j,T,O,M,B,L,H;const U=new Uint8Array(4);let J,K;const G=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Jx(e)||!e.output||!e.input&&e.avail_in!==0)return Gf;r=e.state,r.mode===lm&&(r.mode=Qk),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,f=r.bits,h=l,g=c,H=jx;e:for(;;)switch(r.mode){case C6:if(r.wrap===0){r.mode=Qk;break}for(;f<16;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,U[0]=u&255,U[1]=u>>>8&255,r.check=fc(r.check,U,2,0),u=0,f=0,r.mode=IH;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=ho;break}if((u&15)!==OH){e.msg="unknown compression method",r.mode=ho;break}if(u>>>=4,f-=4,L=(u&15)+8,r.wbits===0&&(r.wbits=L),L>15||L>r.wbits){e.msg="invalid window size",r.mode=ho;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?$H:lm,u=0,f=0;break;case IH:for(;f<16;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(r.flags=u,(r.flags&255)!==OH){e.msg="unknown compression method",r.mode=ho;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=ho;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(U[0]=u&255,U[1]=u>>>8&255,r.check=fc(r.check,U,2,0)),u=0,f=0,r.mode=FH;case FH:for(;f<32;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(U[0]=u&255,U[1]=u>>>8&255,U[2]=u>>>16&255,U[3]=u>>>24&255,r.check=fc(r.check,U,4,0)),u=0,f=0,r.mode=DH;case DH:for(;f<16;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(U[0]=u&255,U[1]=u>>>8&255,r.check=fc(r.check,U,2,0)),u=0,f=0,r.mode=RH;case RH:if(r.flags&1024){for(;f<16;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(U[0]=u&255,U[1]=u>>>8&255,r.check=fc(r.check,U,2,0)),u=0,f=0}else r.head&&(r.head.extra=null);r.mode=MH;case MH:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+p),L)),r.flags&512&&r.wrap&4&&(r.check=fc(r.check,n,p,i)),l-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=LH;case LH:if(r.flags&2048){if(l===0)break e;p=0;do L=n[i+p++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L));while(L&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=fc(r.check,n,p,i)),l-=p,i+=p,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=BH;case BH:if(r.flags&4096){if(l===0)break e;p=0;do L=n[i+p++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L));while(L&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=fc(r.check,n,p,i)),l-=p,i+=p,L)break e}else r.head&&(r.head.comment=null);r.mode=UH;case UH:if(r.flags&512){for(;f<16;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=ho;break}u=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=lm;break;case $H:for(;f<32;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}e.adler=r.check=eq(u),u=0,f=0,r.mode=jA;case jA:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=f,JRe;e.adler=r.check=1,r.mode=lm;case lm:if(t===XRe||t===nS)break e;case Qk:if(r.last){u>>>=f&7,f-=f&7,r.mode=tP;break}for(;f<3;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}switch(r.last=u&1,u>>>=1,f-=1,u&3){case 0:r.mode=zH;break;case 1:if(s7e(r),r.mode=aS,t===nS){u>>>=2,f-=2;break e}break;case 2:r.mode=WH;break;case 3:e.msg="invalid block type",r.mode=ho}u>>>=2,f-=2;break;case zH:for(u>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=ho;break}if(r.length=u&65535,u=0,f=0,r.mode=eP,t===nS)break e;case eP:r.mode=VH;case VH:if(p=r.length,p){if(p>l&&(p=l),p>c&&(p=c),p===0)break e;a.set(n.subarray(i,i+p),o),l-=p,i+=p,c-=p,o+=p,r.length-=p;break}r.mode=lm;break;case WH:for(;f<14;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(r.nlen=(u&31)+257,u>>>=5,f-=5,r.ndist=(u&31)+1,u>>>=5,f-=5,r.ncode=(u&15)+4,u>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=ho;break}r.have=0,r.mode=HH;case HH:for(;r.have<r.ncode;){for(;f<3;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}r.lens[G[r.have++]]=u&7,u>>>=3,f-=3}for(;r.have<19;)r.lens[G[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,J={bits:r.lenbits},H=P_(YRe,r.lens,0,19,r.lencode,0,r.work,J),r.lenbits=J.bits,H){e.msg="invalid code lengths set",r.mode=ho;break}r.have=0,r.mode=qH;case qH:for(;r.have<r.nlen+r.ndist;){for(;S=r.lencode[u&(1<<r.lenbits)-1],C=S>>>24,j=S>>>16&255,T=S&65535,!(C<=f);){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(T<16)u>>>=C,f-=C,r.lens[r.have++]=T;else{if(T===16){for(K=C+2;f<K;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(u>>>=C,f-=C,r.have===0){e.msg="invalid bit length repeat",r.mode=ho;break}L=r.lens[r.have-1],p=3+(u&3),u>>>=2,f-=2}else if(T===17){for(K=C+3;f<K;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}u>>>=C,f-=C,L=0,p=3+(u&7),u>>>=3,f-=3}else{for(K=C+7;f<K;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}u>>>=C,f-=C,L=0,p=11+(u&127),u>>>=7,f-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=ho;break}for(;p--;)r.lens[r.have++]=L}}if(r.mode===ho)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=ho;break}if(r.lenbits=9,J={bits:r.lenbits},H=P_(lce,r.lens,0,r.nlen,r.lencode,0,r.work,J),r.lenbits=J.bits,H){e.msg="invalid literal/lengths set",r.mode=ho;break}if(r.distbits=6,r.distcode=r.distdyn,J={bits:r.distbits},H=P_(cce,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,J),r.distbits=J.bits,H){e.msg="invalid distances set",r.mode=ho;break}if(r.mode=aS,t===nS)break e;case aS:r.mode=iS;case iS:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=f,VRe(e,g),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,f=r.bits,r.mode===lm&&(r.back=-1);break}for(r.back=0;S=r.lencode[u&(1<<r.lenbits)-1],C=S>>>24,j=S>>>16&255,T=S&65535,!(C<=f);){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(j&&!(j&240)){for(O=C,M=j,B=T;S=r.lencode[B+((u&(1<<O+M)-1)>>O)],C=S>>>24,j=S>>>16&255,T=S&65535,!(O+C<=f);){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}u>>>=O,f-=O,r.back+=O}if(u>>>=C,f-=C,r.back+=C,r.length=T,j===0){r.mode=ZH;break}if(j&32){r.back=-1,r.mode=lm;break}if(j&64){e.msg="invalid literal/length code",r.mode=ho;break}r.extra=j&15,r.mode=GH;case GH:if(r.extra){for(K=r.extra;f<K;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=KH;case KH:for(;S=r.distcode[u&(1<<r.distbits)-1],C=S>>>24,j=S>>>16&255,T=S&65535,!(C<=f);){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(!(j&240)){for(O=C,M=j,B=T;S=r.distcode[B+((u&(1<<O+M)-1)>>O)],C=S>>>24,j=S>>>16&255,T=S&65535,!(O+C<=f);){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}u>>>=O,f-=O,r.back+=O}if(u>>>=C,f-=C,r.back+=C,j&64){e.msg="invalid distance code",r.mode=ho;break}r.offset=T,r.extra=j&15,r.mode=YH;case YH:if(r.extra){for(K=r.extra;f<K;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=ho;break}r.mode=XH;case XH:if(c===0)break e;if(p=g-c,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=ho;break}p>r.wnext?(p-=r.wnext,N=r.wsize-p):N=r.wnext-p,p>r.length&&(p=r.length),b=r.window}else b=a,N=o-r.offset,p=r.length;p>c&&(p=c),c-=p,r.length-=p;do a[o++]=b[N++];while(--p);r.length===0&&(r.mode=iS);break;case ZH:if(c===0)break e;a[o++]=r.length,c--,r.mode=iS;break;case tP:if(r.wrap){for(;f<32;){if(l===0)break e;l--,u|=n[i++]<<f,f+=8}if(g-=c,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?fc(r.check,a,g,o-g):P4(r.check,a,g,o-g)),g=c,r.wrap&4&&(r.flags?u:eq(u))!==r.check){e.msg="incorrect data check",r.mode=ho;break}u=0,f=0}r.mode=JH;case JH:if(r.wrap&&r.flags){for(;f<32;){if(l===0)break e;l--,u+=n[i++]<<f,f+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=ho;break}u=0,f=0}r.mode=QH;case QH:H=ZRe;break e;case ho:H=uce;break e;case fce:return dce;case hce:default:return Gf}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=f,(r.wsize||g!==e.avail_out&&r.mode<ho&&(r.mode<tP||t!==PH))&&vce(e,e.output,e.next_out,g-e.avail_out),h-=e.avail_in,g-=e.avail_out,e.total_in+=h,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?fc(r.check,a,g,e.next_out-g):P4(r.check,a,g,e.next_out-g)),e.data_type=r.bits+(r.last?64:0)+(r.mode===lm?128:0)+(r.mode===aS||r.mode===eP?256:0),(h===0&&g===0||t===PH)&&H===jx&&(H=QRe),H},l7e=e=>{if(Jx(e))return Gf;let t=e.state;return t.window&&(t.window=null),e.state=null,jx},c7e=(e,t)=>{if(Jx(e))return Gf;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,jx):Gf},u7e=(e,t)=>{const r=t.length;let n,a,i;return Jx(e)||(n=e.state,n.wrap!==0&&n.mode!==jA)?Gf:n.mode===jA&&(a=1,a=P4(a,t,r,0),a!==n.check)?uce:(i=vce(e,t,r,r),i?(n.mode=fce,dce):(n.havedict=1,jx))};var d7e=pce,f7e=gce,h7e=mce,m7e=i7e,p7e=xce,g7e=o7e,x7e=l7e,v7e=c7e,y7e=u7e,b7e="pako inflate (from Nodeca project)",vm={inflateReset:d7e,inflateReset2:f7e,inflateResetKeep:h7e,inflateInit:m7e,inflateInit2:p7e,inflate:g7e,inflateEnd:x7e,inflateGetHeader:v7e,inflateSetDictionary:y7e,inflateInfo:b7e};function w7e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var _7e=w7e;const yce=Object.prototype.toString,{Z_NO_FLUSH:N7e,Z_FINISH:S7e,Z_OK:F4,Z_STREAM_END:aP,Z_NEED_DICT:iP,Z_STREAM_ERROR:C7e,Z_DATA_ERROR:rq,Z_MEM_ERROR:A7e}=l3;function u3(e){this.options=S6.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sce,this.strm.avail_out=0;let r=vm.inflateInit2(this.strm,t.windowBits);if(r!==F4)throw new Error(Sy[r]);if(this.header=new _7e,vm.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=I4.string2buf(t.dictionary):yce.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=vm.inflateSetDictionary(this.strm,t.dictionary),r!==F4)))throw new Error(Sy[r])}u3.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?S7e:N7e,yce.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=vm.inflate(r,o),i===iP&&a&&(i=vm.inflateSetDictionary(r,a),i===F4?i=vm.inflate(r,o):i===rq&&(i=iP));r.avail_in>0&&i===aP&&r.state.wrap>0&&e[r.next_in]!==0;)vm.inflateReset(r),i=vm.inflate(r,o);switch(i){case C7e:case rq:case iP:case A7e:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===aP))if(this.options.to==="string"){let c=I4.utf8border(r.output,r.next_out),u=r.next_out-c,f=I4.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===F4&&l===0)){if(i===aP)return i=vm.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};u3.prototype.onData=function(e){this.chunks.push(e)};u3.prototype.onEnd=function(e){e===F4&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=S6.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function AL(e,t){const r=new u3(t);if(r.push(e),r.err)throw r.msg||Sy[r.err];return r.result}function E7e(e,t){return t=t||{},t.raw=!0,AL(e,t)}var j7e=u3,T7e=AL,k7e=E7e,P7e=AL,O7e=l3,I7e={Inflate:j7e,inflate:T7e,inflateRaw:k7e,ungzip:P7e,constants:O7e};const{Inflate:F7e,inflate:D7e,inflateRaw:v5t,ungzip:y5t}=I7e;var nq=F7e,R7e=D7e;const bce=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;bce[e]=t}const aq=4294967295;function M7e(e,t,r){let n=e;for(let a=0;a<r;a++)n=bce[(n^t[a])&255]^n>>>8;return n}function L7e(e,t){return(M7e(aq,e,t)^aq)>>>0}function iq(e,t,r){const n=e.readUint32(),a=L7e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function wce(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function _ce(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function Nce(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function Sce(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function Cce(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+B7e(t[i-a],r[i],r[i-a])&255}}function B7e(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),o=Math.abs(n-r);return a<=i&&a<=o?e:i<=o?t:r}function U7e(e,t,r,n,a,i){switch(e){case 0:wce(t,r,a);break;case 1:_ce(t,r,a,i);break;case 2:Nce(t,r,n,a);break;case 3:Sce(t,r,n,a,i);break;case 4:Cce(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const $7e=new Uint16Array([255]),z7e=new Uint8Array($7e.buffer),V7e=z7e[0]===255;function W7e(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(n*r*l);let u=0;for(let f=0;f<7;f++){const h=o[f],g=Math.ceil((r-h.x)/h.xStep),p=Math.ceil((n-h.y)/h.yStep);if(g<=0||p<=0)continue;const N=g*l,b=new Uint8Array(N);for(let S=0;S<p;S++){const C=t[u++],j=t.subarray(u,u+N);u+=N;const T=new Uint8Array(N);U7e(C,j,T,b,N,l),b.set(T);for(let O=0;O<g;O++){const M=h.x+O*h.xStep,B=h.y+S*h.yStep;if(!(M>=r||B>=n))for(let L=0;L<l;L++)c[(B*r+M)*l+L]=T[O*l+L]}}}if(i===16){const f=new Uint16Array(c.buffer);if(V7e)for(let h=0;h<f.length;h++)f[h]=H7e(f[h]);return f}else return c}function H7e(e){return(e&255)<<8|e>>8&255}const q7e=new Uint16Array([255]),G7e=new Uint8Array(q7e.buffer),K7e=G7e[0]===255,Y7e=new Uint8Array(0);function sq(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(n*l);let u=Y7e,f=0,h,g;for(let p=0;p<n;p++){switch(h=t.subarray(f+1,f+1+l),g=c.subarray(p*l,(p+1)*l),t[f]){case 0:wce(h,g,l);break;case 1:_ce(h,g,l,o);break;case 2:Nce(h,g,u,l);break;case 3:Sce(h,g,u,l,o);break;case 4:Cce(h,g,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[f]}`)}u=g,f+=l+1}if(i===16){const p=new Uint16Array(c.buffer);if(K7e)for(let N=0;N<p.length;N++)p[N]=X7e(p[N]);return p}else return c}function X7e(e){return(e&255)<<8|e>>8&255}const pC=Uint8Array.of(137,80,78,71,13,10,26,10);function oq(e){if(!Z7e(e.readBytes(pC.length)))throw new Error("wrong PNG signature")}function Z7e(e){if(e.length<pC.length)return!1;for(let t=0;t<pC.length;t++)if(e[t]!==pC[t])return!1;return!0}const J7e="tEXt",Q7e=0,Ace=new TextDecoder("latin1");function eMe(e){if(rMe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const tMe=/^[\u0000-\u00FF]*$/;function rMe(e){if(!tMe.test(e))throw new Error("invalid latin1 text")}function nMe(e,t,r){const n=Ece(t);e[n]=aMe(t,r-n.length-1)}function Ece(e){for(e.mark();e.readByte()!==Q7e;);const t=e.offset;e.reset();const r=Ace.decode(e.readBytes(t-e.offset-1));return e.skip(1),eMe(r),r}function aMe(e,t){return Ace.decode(e.readBytes(t))}const Md={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},sP={UNKNOWN:-1,DEFLATE:0},lq={UNKNOWN:-1,ADAPTIVE:0},oP={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},sS={NONE:0,BACKGROUND:1,PREVIOUS:2},lP={SOURCE:0,OVER:1};class iMe extends yL{constructor(r,n={}){super(r);ss(this,"_checkCrc");ss(this,"_inflator");ss(this,"_png");ss(this,"_apng");ss(this,"_end");ss(this,"_hasPalette");ss(this,"_palette");ss(this,"_hasTransparency");ss(this,"_transparency");ss(this,"_compressionMethod");ss(this,"_filterMethod");ss(this,"_interlaceMethod");ss(this,"_colorType");ss(this,"_isAnimated");ss(this,"_numberOfFrames");ss(this,"_numberOfPlays");ss(this,"_frames");ss(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new nq,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=sP.UNKNOWN,this._filterMethod=lq.UNKNOWN,this._interlaceMethod=oP.UNKNOWN,this._colorType=Md.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(oq(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(oq(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case J7e:nMe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?iq(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?iq(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=sMe(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Md.GREYSCALE:a=1;break;case Md.TRUECOLOUR:a=3;break;case Md.INDEXED_COLOUR:a=1;break;case Md.GREYSCALE_ALPHA:a=2;break;case Md.TRUECOLOUR_ALPHA:a=4;break;case Md.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==sP.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Md.GREYSCALE:case Md.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Md.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Md.UNKNOWN:case Md.GREYSCALE_ALPHA:case Md.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=Ece(this),a=this.readUint8();if(a!==sP.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:R7e(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=sq({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case sS.NONE:break;case sS.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case sS.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case lP.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let f=0;f<this._png.channels;f++)r.data[c+f]=n.data[u+f]}break;case lP.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let f=0;f<this._png.channels;f++){const h=n.data[u+this._png.channels-1]/a,g=f%(this._png.channels-1)===0?1:n.data[u+f],p=Math.floor(h*g+(1-h)*r.data[c+f]);r.data[c+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==lq.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===oP.NO_INTERLACE)this._png.data=sq({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===oP.ADAM7)this._png.data=W7e({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:sS.NONE,blendOp:lP.SOURCE,data:r}),this._inflator=new nq,this._writingDataChunks=!1}}function sMe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var cq;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(cq||(cq={}));function oMe(e,t){return new iMe(e,t).decode()}var Da=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function cP(){Da.console&&typeof Da.console.log=="function"&&Da.console.log.apply(Da.console,arguments)}var Fs={log:cP,warn:function(e){Da.console&&(typeof Da.console.warn=="function"?Da.console.warn.apply(Da.console,arguments):cP.call(null,arguments))},error:function(e){Da.console&&(typeof Da.console.error=="function"?Da.console.error.apply(Da.console,arguments):cP(e))}};function uP(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){kg(n.response,t,r)},n.onerror=function(){Fs.error("could not download file")},n.send()}function uq(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function oS(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var kg=Da.saveAs||((typeof window>"u"?"undefined":Yi(window))!=="object"||window!==Da?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Da.URL||Da.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?uq(a.href)?uP(e,t,r):oS(a,a.target="_blank"):oS(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){oS(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(uq(e))uP(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){oS(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Yi(i)!=="object"&&(Fs.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return uP(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Da.HTMLElement)||Da.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Yi(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(e)}else{var c=Da.URL||Da.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function jce(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var gC=Da.atob.bind(Da),dq=Da.btoa.bind(Da);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function dP(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=lu(r,n,a,i,t[0],7,-680876936),i=lu(i,r,n,a,t[1],12,-389564586),a=lu(a,i,r,n,t[2],17,606105819),n=lu(n,a,i,r,t[3],22,-1044525330),r=lu(r,n,a,i,t[4],7,-176418897),i=lu(i,r,n,a,t[5],12,1200080426),a=lu(a,i,r,n,t[6],17,-1473231341),n=lu(n,a,i,r,t[7],22,-45705983),r=lu(r,n,a,i,t[8],7,1770035416),i=lu(i,r,n,a,t[9],12,-1958414417),a=lu(a,i,r,n,t[10],17,-42063),n=lu(n,a,i,r,t[11],22,-1990404162),r=lu(r,n,a,i,t[12],7,1804603682),i=lu(i,r,n,a,t[13],12,-40341101),a=lu(a,i,r,n,t[14],17,-1502002290),r=cu(r,n=lu(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=cu(i,r,n,a,t[6],9,-1069501632),a=cu(a,i,r,n,t[11],14,643717713),n=cu(n,a,i,r,t[0],20,-373897302),r=cu(r,n,a,i,t[5],5,-701558691),i=cu(i,r,n,a,t[10],9,38016083),a=cu(a,i,r,n,t[15],14,-660478335),n=cu(n,a,i,r,t[4],20,-405537848),r=cu(r,n,a,i,t[9],5,568446438),i=cu(i,r,n,a,t[14],9,-1019803690),a=cu(a,i,r,n,t[3],14,-187363961),n=cu(n,a,i,r,t[8],20,1163531501),r=cu(r,n,a,i,t[13],5,-1444681467),i=cu(i,r,n,a,t[2],9,-51403784),a=cu(a,i,r,n,t[7],14,1735328473),r=uu(r,n=cu(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=uu(i,r,n,a,t[8],11,-2022574463),a=uu(a,i,r,n,t[11],16,1839030562),n=uu(n,a,i,r,t[14],23,-35309556),r=uu(r,n,a,i,t[1],4,-1530992060),i=uu(i,r,n,a,t[4],11,1272893353),a=uu(a,i,r,n,t[7],16,-155497632),n=uu(n,a,i,r,t[10],23,-1094730640),r=uu(r,n,a,i,t[13],4,681279174),i=uu(i,r,n,a,t[0],11,-358537222),a=uu(a,i,r,n,t[3],16,-722521979),n=uu(n,a,i,r,t[6],23,76029189),r=uu(r,n,a,i,t[9],4,-640364487),i=uu(i,r,n,a,t[12],11,-421815835),a=uu(a,i,r,n,t[15],16,530742520),r=du(r,n=uu(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=du(i,r,n,a,t[7],10,1126891415),a=du(a,i,r,n,t[14],15,-1416354905),n=du(n,a,i,r,t[5],21,-57434055),r=du(r,n,a,i,t[12],6,1700485571),i=du(i,r,n,a,t[3],10,-1894986606),a=du(a,i,r,n,t[10],15,-1051523),n=du(n,a,i,r,t[1],21,-2054922799),r=du(r,n,a,i,t[8],6,1873313359),i=du(i,r,n,a,t[15],10,-30611744),a=du(a,i,r,n,t[6],15,-1560198380),n=du(n,a,i,r,t[13],21,1309151649),r=du(r,n,a,i,t[4],6,-145523070),i=du(i,r,n,a,t[11],10,-1120210379),a=du(a,i,r,n,t[2],15,718787259),n=du(n,a,i,r,t[9],21,-343485551),e[0]=Hp(r,e[0]),e[1]=Hp(n,e[1]),e[2]=Hp(a,e[2]),e[3]=Hp(i,e[3])}function A6(e,t,r,n,a,i){return t=Hp(Hp(t,e),Hp(n,i)),Hp(t<<a|t>>>32-a,r)}function lu(e,t,r,n,a,i,o){return A6(t&r|~t&n,e,t,a,i,o)}function cu(e,t,r,n,a,i,o){return A6(t&n|r&~n,e,t,a,i,o)}function uu(e,t,r,n,a,i,o){return A6(t^r^n,e,t,a,i,o)}function du(e,t,r,n,a,i,o){return A6(r^(t|~n),e,t,a,i,o)}function Tce(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)dP(n,lMe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(dP(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,dP(n,a),n}function lMe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var fq="0123456789abcdef".split("");function cMe(e){for(var t="",r=0;r<4;r++)t+=fq[e>>8*r+4&15]+fq[e>>8*r&15];return t}function uMe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function CF(e){return Tce(e).map(uMe).join("")}var dMe=function(e){for(var t=0;t<e.length;t++)e[t]=cMe(e[t]);return e.join("")}(Tce("hello"))!="5d41402abc4b2a76b9719d911017c592";function Hp(e,t){if(dMe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function AF(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var f=l[c];u=(u+f+o.charCodeAt(c))%256,l[c]=l[u],l[u]=f}r=e,n=l}else l=n;var h=t.length,g=0,p=0,N="";for(c=0;c<h;c++)p=(p+(f=l[g=(g+1)%256]))%256,l[g]=l[p],l[p]=f,o=l[(l[g]+l[p])%256],N+=String.fromCharCode(t.charCodeAt(c)^o);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var hq={print:4,modify:8,copy:16,"annot-forms":32};function Jv(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(hq.perm!==void 0)throw new Error("Invalid permission: "+l);a+=hq[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=CF(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=AF(this.encryptionKey,this.padding)}function Qv(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function mq(e){if(Yi(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){Da.console&&Fs.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function TA(e){if(!(this instanceof TA))return new TA(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function kce(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Mg(e,t,r,n,a){if(!(this instanceof Mg))return new Mg(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,kce.call(this,n,a)}function N2(e,t,r,n,a){if(!(this instanceof N2))return new N2(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,kce.call(this,n,a)}function na(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",f=null;Yi(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=mq;var N="1.3",b=p.__private__.getPdfVersion=function(){return N};p.__private__.setPdfVersion=function(ie){N=ie};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return S};var C=p.__private__.getPageFormat=function(ie){return S[ie]};a=a||"a4";var j="compat",T="advanced",O=j;function M(){this.saveGraphicsState(),Me(new Vn(ca,0,0,-ca,0,vf()*ca).toString()+" cm"),this.setFontSize(this.getFontSize()/ca),u="n",O=T}function B(){this.restoreGraphicsState(),u="S",O=j}var L=p.__private__.combineFontStyleAndFontWeight=function(ie,Pe){if(ie=="bold"&&Pe=="normal"||ie=="bold"&&Pe==400||ie=="normal"&&Pe=="italic"||ie=="bold"&&Pe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Pe&&(ie=Pe==400||Pe==="normal"?ie==="italic"?"italic":"normal":Pe!=700&&Pe!=="bold"||ie!=="normal"?(Pe==700?"bold":Pe)+""+ie:"bold"),ie};p.advancedAPI=function(ie){var Pe=O===j;return Pe&&M.call(this),typeof ie!="function"||(ie(this),Pe&&B.call(this)),this},p.compatAPI=function(ie){var Pe=O===T;return Pe&&B.call(this),typeof ie!="function"||(ie(this),Pe&&M.call(this)),this},p.isAdvancedAPI=function(){return O===T};var H,U=function(ie){if(O!==T)throw new Error(ie+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},J=p.roundToPrecision=p.__private__.roundToPrecision=function(ie,Pe){var rt=t||Pe;if(isNaN(ie)||isNaN(rt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ie.toFixed(rt).replace(/0+$/,"")};H=p.hpf=p.__private__.hpf=typeof c=="number"?function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.hpf");return J(ie,c)}:c==="smart"?function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.hpf");return J(ie,ie>-1&&ie<1?16:5)}:function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.hpf");return J(ie,16)};var K=p.f2=p.__private__.f2=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.f2");return J(ie,2)},G=p.__private__.f3=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.f3");return J(ie,3)},re=p.scale=p.__private__.scale=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.scale");return O===j?ie*ca:O===T?ie:void 0},ae=function(ie){return re(function(Pe){return O===j?vf()-Pe:O===T?Pe:void 0}(ie))};p.__private__.setPrecision=p.setPrecision=function(ie){typeof parseInt(ie,10)=="number"&&(t=parseInt(ie,10))};var X,ne="00000000000000000000000000000000",de=p.__private__.getFileId=function(){return ne},le=p.__private__.setFileId=function(ie){return ne=ie!==void 0&&/^[a-fA-F0-9]{32}$/.test(ie)?ie.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(ds=new Jv(f.userPermissions,f.userPassword,f.ownerPassword,ne)),ne};p.setFileId=function(ie){return le(ie),this},p.getFileId=function(){return de()};var xe=p.__private__.convertDateToPDFDate=function(ie){var Pe=ie.getTimezoneOffset(),rt=Pe<0?"+":"-",ft=Math.floor(Math.abs(Pe/60)),Ct=Math.abs(Pe%60),tr=[rt,se(ft),"'",se(Ct),"'"].join("");return["D:",ie.getFullYear(),se(ie.getMonth()+1),se(ie.getDate()),se(ie.getHours()),se(ie.getMinutes()),se(ie.getSeconds()),tr].join("")},Se=p.__private__.convertPDFDateToDate=function(ie){var Pe=parseInt(ie.substr(2,4),10),rt=parseInt(ie.substr(6,2),10)-1,ft=parseInt(ie.substr(8,2),10),Ct=parseInt(ie.substr(10,2),10),tr=parseInt(ie.substr(12,2),10),pr=parseInt(ie.substr(14,2),10);return new Date(Pe,rt,ft,Ct,tr,pr,0)},ye=p.__private__.setCreationDate=function(ie){var Pe;if(ie===void 0&&(ie=new Date),ie instanceof Date)Pe=xe(ie);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ie))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Pe=ie}return X=Pe},ee=p.__private__.getCreationDate=function(ie){var Pe=X;return ie==="jsDate"&&(Pe=Se(X)),Pe};p.setCreationDate=function(ie){return ye(ie),this},p.getCreationDate=function(ie){return ee(ie)};var he,se=p.__private__.padd2=function(ie){return("0"+parseInt(ie)).slice(-2)},te=p.__private__.padd2Hex=function(ie){return("00"+(ie=ie.toString())).substr(ie.length)},ge=0,ue=[],Ce=[],Ne=0,Ee=[],Ge=[],Be=!1,st=Ce;p.__private__.setCustomOutputDestination=function(ie){Be=!0,st=ie};var lt=function(ie){Be||(st=ie)};p.__private__.resetCustomOutputDestination=function(){Be=!1,st=Ce};var Me=p.__private__.out=function(ie){return ie=ie.toString(),Ne+=ie.length+1,st.push(ie),st},wt=p.__private__.write=function(ie){return Me(arguments.length===1?ie.toString():Array.prototype.join.call(arguments," "))},_t=p.__private__.getArrayBuffer=function(ie){for(var Pe=ie.length,rt=new ArrayBuffer(Pe),ft=new Uint8Array(rt);Pe--;)ft[Pe]=ie.charCodeAt(Pe);return rt},ar=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ar};var Tt=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(ie){return Tt=O===T?ie/ca:ie,this};var sn,ct=p.__private__.getFontSize=p.getFontSize=function(){return O===j?Tt:Tt*ca},Ar=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(ie){return Ar=ie,this},p.__private__.getR2L=p.getR2L=function(){return Ar};var jr,tn=p.__private__.setZoomMode=function(ie){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ie))sn=ie;else if(isNaN(ie)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(ie)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ie+'" is not recognized.');sn=ie}else sn=parseInt(ie,10)};p.__private__.getZoomMode=function(){return sn};var ha,mn=p.__private__.setPageMode=function(ie){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ie)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ie+'" is not recognized.');jr=ie};p.__private__.getPageMode=function(){return jr};var xa=p.__private__.setLayoutMode=function(ie){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ie)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ie+'" is not recognized.');ha=ie};p.__private__.getLayoutMode=function(){return ha},p.__private__.setDisplayMode=p.setDisplayMode=function(ie,Pe,rt){return tn(ie),xa(Pe),mn(rt),this};var Un={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(ie){if(Object.keys(Un).indexOf(ie)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Un[ie]},p.__private__.getDocumentProperties=function(){return Un},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(ie){for(var Pe in Un)Un.hasOwnProperty(Pe)&&ie[Pe]&&(Un[Pe]=ie[Pe]);return this},p.__private__.setDocumentProperty=function(ie,Pe){if(Object.keys(Un).indexOf(ie)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Un[ie]=Pe};var nn,ca,Cn,ms,Zn,sr={},ln={},Fn=[],Gr={},ti={},Qn={},_a={},Yn=null,ia=0,Jn=[],Ir=new mq(p),vo=e.hotfixes||[],Ss={},Na={},Io=[],Vn=function ie(Pe,rt,ft,Ct,tr,pr){if(!(this instanceof ie))return new ie(Pe,rt,ft,Ct,tr,pr);isNaN(Pe)&&(Pe=1),isNaN(rt)&&(rt=0),isNaN(ft)&&(ft=0),isNaN(Ct)&&(Ct=1),isNaN(tr)&&(tr=0),isNaN(pr)&&(pr=0),this._matrix=[Pe,rt,ft,Ct,tr,pr]};Object.defineProperty(Vn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ie){this._matrix[0]=ie}}),Object.defineProperty(Vn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ie){this._matrix[1]=ie}}),Object.defineProperty(Vn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ie){this._matrix[2]=ie}}),Object.defineProperty(Vn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ie){this._matrix[3]=ie}}),Object.defineProperty(Vn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ie){this._matrix[4]=ie}}),Object.defineProperty(Vn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ie){this._matrix[5]=ie}}),Object.defineProperty(Vn.prototype,"a",{get:function(){return this._matrix[0]},set:function(ie){this._matrix[0]=ie}}),Object.defineProperty(Vn.prototype,"b",{get:function(){return this._matrix[1]},set:function(ie){this._matrix[1]=ie}}),Object.defineProperty(Vn.prototype,"c",{get:function(){return this._matrix[2]},set:function(ie){this._matrix[2]=ie}}),Object.defineProperty(Vn.prototype,"d",{get:function(){return this._matrix[3]},set:function(ie){this._matrix[3]=ie}}),Object.defineProperty(Vn.prototype,"e",{get:function(){return this._matrix[4]},set:function(ie){this._matrix[4]=ie}}),Object.defineProperty(Vn.prototype,"f",{get:function(){return this._matrix[5]},set:function(ie){this._matrix[5]=ie}}),Object.defineProperty(Vn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Vn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Vn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Vn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Vn.prototype.join=function(ie){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(ie)},Vn.prototype.multiply=function(ie){var Pe=ie.sx*this.sx+ie.shy*this.shx,rt=ie.sx*this.shy+ie.shy*this.sy,ft=ie.shx*this.sx+ie.sy*this.shx,Ct=ie.shx*this.shy+ie.sy*this.sy,tr=ie.tx*this.sx+ie.ty*this.shx+this.tx,pr=ie.tx*this.shy+ie.ty*this.sy+this.ty;return new Vn(Pe,rt,ft,Ct,tr,pr)},Vn.prototype.decompose=function(){var ie=this.sx,Pe=this.shy,rt=this.shx,ft=this.sy,Ct=this.tx,tr=this.ty,pr=Math.sqrt(ie*ie+Pe*Pe),dn=(ie/=pr)*rt+(Pe/=pr)*ft;rt-=ie*dn,ft-=Pe*dn;var Ur=Math.sqrt(rt*rt+ft*ft);return dn/=Ur,ie*(ft/=Ur)<Pe*(rt/=Ur)&&(ie=-ie,Pe=-Pe,dn=-dn,pr=-pr),{scale:new Vn(pr,0,0,Ur,0,0),translate:new Vn(1,0,0,1,Ct,tr),rotate:new Vn(ie,Pe,-Pe,ie,0,0),skew:new Vn(1,0,dn,1,0,0)}},Vn.prototype.toString=function(ie){return this.join(" ")},Vn.prototype.inversed=function(){var ie=this.sx,Pe=this.shy,rt=this.shx,ft=this.sy,Ct=this.tx,tr=this.ty,pr=1/(ie*ft-Pe*rt),dn=ft*pr,Ur=-Pe*pr,ba=-rt*pr,Kr=ie*pr;return new Vn(dn,Ur,ba,Kr,-dn*Ct-ba*tr,-Ur*Ct-Kr*tr)},Vn.prototype.applyToPoint=function(ie){var Pe=ie.x*this.sx+ie.y*this.shx+this.tx,rt=ie.x*this.shy+ie.y*this.sy+this.ty;return new ks(Pe,rt)},Vn.prototype.applyToRectangle=function(ie){var Pe=this.applyToPoint(ie),rt=this.applyToPoint(new ks(ie.x+ie.w,ie.y+ie.h));return new rh(Pe.x,Pe.y,rt.x-Pe.x,rt.y-Pe.y)},Vn.prototype.clone=function(){var ie=this.sx,Pe=this.shy,rt=this.shx,ft=this.sy,Ct=this.tx,tr=this.ty;return new Vn(ie,Pe,rt,ft,Ct,tr)},p.Matrix=Vn;var js=p.matrixMult=function(ie,Pe){return Pe.multiply(ie)},rc=new Vn(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=rc;var Va=function(ie,Pe){if(!ti[ie]){var rt=(Pe instanceof Mg?"Sh":"P")+(Object.keys(Gr).length+1).toString(10);Pe.id=rt,ti[ie]=rt,Gr[rt]=Pe,Ir.publish("addPattern",Pe)}};p.ShadingPattern=Mg,p.TilingPattern=N2,p.addShadingPattern=function(ie,Pe){return U("addShadingPattern()"),Va(ie,Pe),this},p.beginTilingPattern=function(ie){U("beginTilingPattern()"),nh(ie.boundingBox[0],ie.boundingBox[1],ie.boundingBox[2]-ie.boundingBox[0],ie.boundingBox[3]-ie.boundingBox[1],ie.matrix)},p.endTilingPattern=function(ie,Pe){U("endTilingPattern()"),Pe.stream=Ge[he].join(`
`),Va(ie,Pe),Ir.publish("endTilingPattern",Pe),Io.pop().restore()};var yo,ii=p.__private__.newObject=function(){var ie=Zi();return Ie(ie,!0),ie},Zi=p.__private__.newObjectDeferred=function(){return ge++,ue[ge]=function(){return Ne},ge},Ie=function(ie,Pe){return Pe=typeof Pe=="boolean"&&Pe,ue[ie]=Ne,Pe&&Me(ie+" 0 obj"),ie},ze=p.__private__.newAdditionalObject=function(){var ie={objId:Zi(),content:""};return Ee.push(ie),ie},Ye=Zi(),Qe=Zi(),Xe=p.__private__.decodeColorString=function(ie){var Pe=ie.split(" ");if(Pe.length!==2||Pe[1]!=="g"&&Pe[1]!=="G")Pe.length!==5||Pe[4]!=="k"&&Pe[4]!=="K"||(Pe=[(1-Pe[0])*(1-Pe[3]),(1-Pe[1])*(1-Pe[3]),(1-Pe[2])*(1-Pe[3]),"r"]);else{var rt=parseFloat(Pe[0]);Pe=[rt,rt,rt,"r"]}for(var ft="#",Ct=0;Ct<3;Ct++)ft+=("0"+Math.floor(255*parseFloat(Pe[Ct])).toString(16)).slice(-2);return ft},nt=p.__private__.encodeColorString=function(ie){var Pe;typeof ie=="string"&&(ie={ch1:ie});var rt=ie.ch1,ft=ie.ch2,Ct=ie.ch3,tr=ie.ch4,pr=ie.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof rt=="string"&&rt.charAt(0)!=="#"){var dn=new jce(rt);if(dn.ok)rt=dn.toHex();else if(!/^\d*\.?\d*$/.test(rt))throw new Error('Invalid color "'+rt+'" passed to jsPDF.encodeColorString.')}if(typeof rt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(rt)&&(rt="#"+rt[1]+rt[1]+rt[2]+rt[2]+rt[3]+rt[3]),typeof rt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(rt)){var Ur=parseInt(rt.substr(1),16);rt=Ur>>16&255,ft=Ur>>8&255,Ct=255&Ur}if(ft===void 0||tr===void 0&&rt===ft&&ft===Ct)Pe=typeof rt=="string"?rt+" "+pr[0]:ie.precision===2?K(rt/255)+" "+pr[0]:G(rt/255)+" "+pr[0];else if(tr===void 0||Yi(tr)==="object"){if(tr&&!isNaN(tr.a)&&tr.a===0)return["1.","1.","1.",pr[1]].join(" ");Pe=typeof rt=="string"?[rt,ft,Ct,pr[1]].join(" "):ie.precision===2?[K(rt/255),K(ft/255),K(Ct/255),pr[1]].join(" "):[G(rt/255),G(ft/255),G(Ct/255),pr[1]].join(" ")}else Pe=typeof rt=="string"?[rt,ft,Ct,tr,pr[2]].join(" "):ie.precision===2?[K(rt),K(ft),K(Ct),K(tr),pr[2]].join(" "):[G(rt),G(ft),G(Ct),G(tr),pr[2]].join(" ");return Pe},yt=p.__private__.getFilters=function(){return o},Ot=p.__private__.putStream=function(ie){var Pe=(ie=ie||{}).data||"",rt=ie.filters||yt(),ft=ie.alreadyAppliedFilters||[],Ct=ie.addLength1||!1,tr=Pe.length,pr=ie.objectId,dn=function(wo){return wo};if(f!==null&&pr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(dn=ds.encryptor(pr,0));var Ur={};rt===!0&&(rt=["FlateEncode"]);var ba=ie.additionalKeyValues||[],Kr=(Ur=na.API.processDataByFilters!==void 0?na.API.processDataByFilters(Pe,rt):{data:Pe,reverseChain:[]}).reverseChain+(Array.isArray(ft)?ft.join(" "):ft.toString());if(Ur.data.length!==0&&(ba.push({key:"Length",value:Ur.data.length}),Ct===!0&&ba.push({key:"Length1",value:tr})),Kr.length!=0)if(Kr.split("/").length-1==1)ba.push({key:"Filter",value:Kr});else{ba.push({key:"Filter",value:"["+Kr+"]"});for(var Ma=0;Ma<ba.length;Ma+=1)if(ba[Ma].key==="DecodeParms"){for(var Mi=[],ma=0;ma<Ur.reverseChain.split("/").length-1;ma+=1)Mi.push("null");Mi.push(ba[Ma].value),ba[Ma].value="["+Mi.join(" ")+"]"}}Me("<<");for(var an=0;an<ba.length;an++)Me("/"+ba[an].key+" "+ba[an].value);Me(">>"),Ur.data.length!==0&&(Me("stream"),Me(dn(Ur.data)),Me("endstream"))},St=p.__private__.putPage=function(ie){var Pe=ie.number,rt=ie.data,ft=ie.objId,Ct=ie.contentsObjId;Ie(ft,!0),Me("<</Type /Page"),Me("/Parent "+ie.rootDictionaryObjId+" 0 R"),Me("/Resources "+ie.resourceDictionaryObjId+" 0 R"),Me("/MediaBox ["+parseFloat(H(ie.mediaBox.bottomLeftX))+" "+parseFloat(H(ie.mediaBox.bottomLeftY))+" "+H(ie.mediaBox.topRightX)+" "+H(ie.mediaBox.topRightY)+"]"),ie.cropBox!==null&&Me("/CropBox ["+H(ie.cropBox.bottomLeftX)+" "+H(ie.cropBox.bottomLeftY)+" "+H(ie.cropBox.topRightX)+" "+H(ie.cropBox.topRightY)+"]"),ie.bleedBox!==null&&Me("/BleedBox ["+H(ie.bleedBox.bottomLeftX)+" "+H(ie.bleedBox.bottomLeftY)+" "+H(ie.bleedBox.topRightX)+" "+H(ie.bleedBox.topRightY)+"]"),ie.trimBox!==null&&Me("/TrimBox ["+H(ie.trimBox.bottomLeftX)+" "+H(ie.trimBox.bottomLeftY)+" "+H(ie.trimBox.topRightX)+" "+H(ie.trimBox.topRightY)+"]"),ie.artBox!==null&&Me("/ArtBox ["+H(ie.artBox.bottomLeftX)+" "+H(ie.artBox.bottomLeftY)+" "+H(ie.artBox.topRightX)+" "+H(ie.artBox.topRightY)+"]"),typeof ie.userUnit=="number"&&ie.userUnit!==1&&Me("/UserUnit "+ie.userUnit),Ir.publish("putPage",{objId:ft,pageContext:Jn[Pe],pageNumber:Pe,page:rt}),Me("/Contents "+Ct+" 0 R"),Me(">>"),Me("endobj");var tr=rt.join(`
`);return O===T&&(tr+=`
Q`),Ie(Ct,!0),Ot({data:tr,filters:yt(),objectId:Ct}),Me("endobj"),ft},Pt=p.__private__.putPages=function(){var ie,Pe,rt=[];for(ie=1;ie<=ia;ie++)Jn[ie].objId=Zi(),Jn[ie].contentsObjId=Zi();for(ie=1;ie<=ia;ie++)rt.push(St({number:ie,data:Ge[ie],objId:Jn[ie].objId,contentsObjId:Jn[ie].contentsObjId,mediaBox:Jn[ie].mediaBox,cropBox:Jn[ie].cropBox,bleedBox:Jn[ie].bleedBox,trimBox:Jn[ie].trimBox,artBox:Jn[ie].artBox,userUnit:Jn[ie].userUnit,rootDictionaryObjId:Ye,resourceDictionaryObjId:Qe}));Ie(Ye,!0),Me("<</Type /Pages");var ft="/Kids [";for(Pe=0;Pe<ia;Pe++)ft+=rt[Pe]+" 0 R ";Me(ft+"]"),Me("/Count "+ia),Me(">>"),Me("endobj"),Ir.publish("postPutPages")},It=function(ie){Ir.publish("putFont",{font:ie,out:Me,newObject:ii,putStream:Ot}),ie.isAlreadyPutted!==!0&&(ie.objectNumber=ii(),Me("<<"),Me("/Type /Font"),Me("/BaseFont /"+Qv(ie.postScriptName)),Me("/Subtype /Type1"),typeof ie.encoding=="string"&&Me("/Encoding /"+ie.encoding),Me("/FirstChar 32"),Me("/LastChar 255"),Me(">>"),Me("endobj"))},mr=function(ie){ie.objectNumber=ii();var Pe=[];Pe.push({key:"Type",value:"/XObject"}),Pe.push({key:"Subtype",value:"/Form"}),Pe.push({key:"BBox",value:"["+[H(ie.x),H(ie.y),H(ie.x+ie.width),H(ie.y+ie.height)].join(" ")+"]"}),Pe.push({key:"Matrix",value:"["+ie.matrix.toString()+"]"});var rt=ie.pages[1].join(`
`);Ot({data:rt,additionalKeyValues:Pe,objectId:ie.objectNumber}),Me("endobj")},br=function(ie,Pe){Pe||(Pe=21);var rt=ii(),ft=function(pr,dn){var Ur,ba=[],Kr=1/(dn-1);for(Ur=0;Ur<1;Ur+=Kr)ba.push(Ur);if(ba.push(1),pr[0].offset!=0){var Ma={offset:0,color:pr[0].color};pr.unshift(Ma)}if(pr[pr.length-1].offset!=1){var Mi={offset:1,color:pr[pr.length-1].color};pr.push(Mi)}for(var ma="",an=0,wo=0;wo<ba.length;wo++){for(Ur=ba[wo];Ur>pr[an+1].offset;)an++;var ka=pr[an].offset,Ps=(Ur-ka)/(pr[an+1].offset-ka),Rl=pr[an].color,es=pr[an+1].color;ma+=te(Math.round((1-Ps)*Rl[0]+Ps*es[0]).toString(16))+te(Math.round((1-Ps)*Rl[1]+Ps*es[1]).toString(16))+te(Math.round((1-Ps)*Rl[2]+Ps*es[2]).toString(16))}return ma.trim()}(ie.colors,Pe),Ct=[];Ct.push({key:"FunctionType",value:"0"}),Ct.push({key:"Domain",value:"[0.0 1.0]"}),Ct.push({key:"Size",value:"["+Pe+"]"}),Ct.push({key:"BitsPerSample",value:"8"}),Ct.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ct.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ot({data:ft,additionalKeyValues:Ct,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:rt}),Me("endobj"),ie.objectNumber=ii(),Me("<< /ShadingType "+ie.type),Me("/ColorSpace /DeviceRGB");var tr="/Coords ["+H(parseFloat(ie.coords[0]))+" "+H(parseFloat(ie.coords[1]))+" ";ie.type===2?tr+=H(parseFloat(ie.coords[2]))+" "+H(parseFloat(ie.coords[3])):tr+=H(parseFloat(ie.coords[2]))+" "+H(parseFloat(ie.coords[3]))+" "+H(parseFloat(ie.coords[4]))+" "+H(parseFloat(ie.coords[5])),Me(tr+="]"),ie.matrix&&Me("/Matrix ["+ie.matrix.toString()+"]"),Me("/Function "+rt+" 0 R"),Me("/Extend [true true]"),Me(">>"),Me("endobj")},wr=function(ie,Pe){var rt=Zi(),ft=ii();Pe.push({resourcesOid:rt,objectOid:ft}),ie.objectNumber=ft;var Ct=[];Ct.push({key:"Type",value:"/Pattern"}),Ct.push({key:"PatternType",value:"1"}),Ct.push({key:"PaintType",value:"1"}),Ct.push({key:"TilingType",value:"1"}),Ct.push({key:"BBox",value:"["+ie.boundingBox.map(H).join(" ")+"]"}),Ct.push({key:"XStep",value:H(ie.xStep)}),Ct.push({key:"YStep",value:H(ie.yStep)}),Ct.push({key:"Resources",value:rt+" 0 R"}),ie.matrix&&Ct.push({key:"Matrix",value:"["+ie.matrix.toString()+"]"}),Ot({data:ie.stream,additionalKeyValues:Ct,objectId:ie.objectNumber}),Me("endobj")},Tr=function(ie){for(var Pe in ie.objectNumber=ii(),Me("<<"),ie)switch(Pe){case"opacity":Me("/ca "+K(ie[Pe]));break;case"stroke-opacity":Me("/CA "+K(ie[Pe]))}Me(">>"),Me("endobj")},Sr=function(ie){Ie(ie.resourcesOid,!0),Me("<<"),Me("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var Pe in Me("/Font <<"),sr)sr.hasOwnProperty(Pe)&&(h===!1||h===!0&&g.hasOwnProperty(Pe))&&Me("/"+Pe+" "+sr[Pe].objectNumber+" 0 R");Me(">>")}(),function(){if(Object.keys(Gr).length>0){for(var Pe in Me("/Shading <<"),Gr)Gr.hasOwnProperty(Pe)&&Gr[Pe]instanceof Mg&&Gr[Pe].objectNumber>=0&&Me("/"+Pe+" "+Gr[Pe].objectNumber+" 0 R");Ir.publish("putShadingPatternDict"),Me(">>")}}(),function(Pe){if(Object.keys(Gr).length>0){for(var rt in Me("/Pattern <<"),Gr)Gr.hasOwnProperty(rt)&&Gr[rt]instanceof p.TilingPattern&&Gr[rt].objectNumber>=0&&Gr[rt].objectNumber<Pe&&Me("/"+rt+" "+Gr[rt].objectNumber+" 0 R");Ir.publish("putTilingPatternDict"),Me(">>")}}(ie.objectOid),function(){if(Object.keys(Qn).length>0){var Pe;for(Pe in Me("/ExtGState <<"),Qn)Qn.hasOwnProperty(Pe)&&Qn[Pe].objectNumber>=0&&Me("/"+Pe+" "+Qn[Pe].objectNumber+" 0 R");Ir.publish("putGStateDict"),Me(">>")}}(),function(){for(var Pe in Me("/XObject <<"),Ss)Ss.hasOwnProperty(Pe)&&Ss[Pe].objectNumber>=0&&Me("/"+Pe+" "+Ss[Pe].objectNumber+" 0 R");Ir.publish("putXobjectDict"),Me(">>")}(),Me(">>"),Me("endobj")},ua=function(ie){ln[ie.fontName]=ln[ie.fontName]||{},ln[ie.fontName][ie.fontStyle]=ie.id},Ut=function(ie,Pe,rt,ft,Ct){var tr={id:"F"+(Object.keys(sr).length+1).toString(10),postScriptName:ie,fontName:Pe,fontStyle:rt,encoding:ft,isStandardFont:Ct||!1,metadata:{}};return Ir.publish("addFont",{font:tr,instance:this}),sr[tr.id]=tr,ua(tr),tr.id},va=p.__private__.pdfEscape=p.pdfEscape=function(ie,Pe){return function(rt,ft){var Ct,tr,pr,dn,Ur,ba,Kr,Ma,Mi;if(pr=(ft=ft||{}).sourceEncoding||"Unicode",Ur=ft.outputEncoding,(ft.autoencode||Ur)&&sr[nn].metadata&&sr[nn].metadata[pr]&&sr[nn].metadata[pr].encoding&&(dn=sr[nn].metadata[pr].encoding,!Ur&&sr[nn].encoding&&(Ur=sr[nn].encoding),!Ur&&dn.codePages&&(Ur=dn.codePages[0]),typeof Ur=="string"&&(Ur=dn[Ur]),Ur)){for(Kr=!1,ba=[],Ct=0,tr=rt.length;Ct<tr;Ct++)(Ma=Ur[rt.charCodeAt(Ct)])?ba.push(String.fromCharCode(Ma)):ba.push(rt[Ct]),ba[Ct].charCodeAt(0)>>8&&(Kr=!0);rt=ba.join("")}for(Ct=rt.length;Kr===void 0&&Ct!==0;)rt.charCodeAt(Ct-1)>>8&&(Kr=!0),Ct--;if(!Kr)return rt;for(ba=ft.noBOM?[]:[254,255],Ct=0,tr=rt.length;Ct<tr;Ct++){if((Mi=(Ma=rt.charCodeAt(Ct))>>8)>>8)throw new Error("Character at position "+Ct+" of string '"+rt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ba.push(Mi),ba.push(Ma-(Mi<<8))}return String.fromCharCode.apply(void 0,ba)}(ie,Pe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ta=p.__private__.beginPage=function(ie){Ge[++ia]=[],Jn[ia]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ie[0]),topRightY:Number(ie[1])}},Wa(ia),lt(Ge[he])},ea=function(ie,Pe){var rt,ft,Ct;switch(r=Pe||r,typeof ie=="string"&&(rt=C(ie.toLowerCase()),Array.isArray(rt)&&(ft=rt[0],Ct=rt[1])),Array.isArray(ie)&&(ft=ie[0]*ca,Ct=ie[1]*ca),isNaN(ft)&&(ft=a[0],Ct=a[1]),(ft>14400||Ct>14400)&&(Fs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ft=Math.min(14400,ft),Ct=Math.min(14400,Ct)),a=[ft,Ct],r.substr(0,1)){case"l":Ct>ft&&(a=[Ct,ft]);break;case"p":ft>Ct&&(a=[Ct,ft])}Ta(a),sa(wi),Me(Eu),tu!==0&&Me(tu+" J"),Xs!==0&&Me(Xs+" j"),Ir.publish("addPage",{pageNumber:ia})},Cc=function(ie){ie>0&&ie<=ia&&(Ge.splice(ie,1),Jn.splice(ie,1),ia--,he>ia&&(he=ia),this.setPage(he))},Wa=function(ie){ie>0&&ie<=ia&&(he=ie)},Sa=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ge.length-1},Tn=function(ie,Pe,rt){var ft,Ct=void 0;return rt=rt||{},ie=ie!==void 0?ie:sr[nn].fontName,Pe=Pe!==void 0?Pe:sr[nn].fontStyle,ft=ie.toLowerCase(),ln[ft]!==void 0&&ln[ft][Pe]!==void 0?Ct=ln[ft][Pe]:ln[ie]!==void 0&&ln[ie][Pe]!==void 0?Ct=ln[ie][Pe]:rt.disableWarning===!1&&Fs.warn("Unable to look up font label for font '"+ie+"', '"+Pe+"'. Refer to getFontList() for available fonts."),Ct||rt.noFallback||(Ct=ln.times[Pe])==null&&(Ct=ln.times.normal),Ct},Rs=p.__private__.putInfo=function(){var ie=ii(),Pe=function(ft){return ft};for(var rt in f!==null&&(Pe=ds.encryptor(ie,0)),Me("<<"),Me("/Producer ("+va(Pe("jsPDF "+na.version))+")"),Un)Un.hasOwnProperty(rt)&&Un[rt]&&Me("/"+rt.substr(0,1).toUpperCase()+rt.substr(1)+" ("+va(Pe(Un[rt]))+")");Me("/CreationDate ("+va(Pe(X))+")"),Me(">>"),Me("endobj")},Ts=p.__private__.putCatalog=function(ie){var Pe=(ie=ie||{}).rootDictionaryObjId||Ye;switch(ii(),Me("<<"),Me("/Type /Catalog"),Me("/Pages "+Pe+" 0 R"),sn||(sn="fullwidth"),sn){case"fullwidth":Me("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Me("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Me("/OpenAction [3 0 R /Fit]");break;case"original":Me("/OpenAction [3 0 R /XYZ null null 1]");break;default:var rt=""+sn;rt.substr(rt.length-1)==="%"&&(sn=parseInt(sn)/100),typeof sn=="number"&&Me("/OpenAction [3 0 R /XYZ null null "+K(sn)+"]")}switch(ha||(ha="continuous"),ha){case"continuous":Me("/PageLayout /OneColumn");break;case"single":Me("/PageLayout /SinglePage");break;case"two":case"twoleft":Me("/PageLayout /TwoColumnLeft");break;case"tworight":Me("/PageLayout /TwoColumnRight")}jr&&Me("/PageMode /"+jr),Ir.publish("putCatalog"),Me(">>"),Me("endobj")},Z0=p.__private__.putTrailer=function(){Me("trailer"),Me("<<"),Me("/Size "+(ge+1)),Me("/Root "+ge+" 0 R"),Me("/Info "+(ge-1)+" 0 R"),f!==null&&Me("/Encrypt "+ds.oid+" 0 R"),Me("/ID [ <"+ne+"> <"+ne+"> ]"),Me(">>")},ri=p.__private__.putHeader=function(){Me("%PDF-"+N),Me("%")},Wn=p.__private__.putXRef=function(){var ie="0000000000";Me("xref"),Me("0 "+(ge+1)),Me("0000000000 65535 f ");for(var Pe=1;Pe<=ge;Pe++)typeof ue[Pe]=="function"?Me((ie+ue[Pe]()).slice(-10)+" 00000 n "):ue[Pe]!==void 0?Me((ie+ue[Pe]).slice(-10)+" 00000 n "):Me("0000000000 00000 n ")},bo=p.__private__.buildDocument=function(){var ie;ge=0,Ne=0,Ce=[],ue=[],Ee=[],Ye=Zi(),Qe=Zi(),lt(Ce),Ir.publish("buildDocument"),ri(),Pt(),function(){Ir.publish("putAdditionalObjects");for(var rt=0;rt<Ee.length;rt++){var ft=Ee[rt];Ie(ft.objId,!0),Me(ft.content),Me("endobj")}Ir.publish("postPutAdditionalObjects")}(),ie=[],function(){for(var rt in sr)sr.hasOwnProperty(rt)&&(h===!1||h===!0&&g.hasOwnProperty(rt))&&It(sr[rt])}(),function(){var rt;for(rt in Qn)Qn.hasOwnProperty(rt)&&Tr(Qn[rt])}(),function(){for(var rt in Ss)Ss.hasOwnProperty(rt)&&mr(Ss[rt])}(),function(rt){var ft;for(ft in Gr)Gr.hasOwnProperty(ft)&&(Gr[ft]instanceof Mg?br(Gr[ft]):Gr[ft]instanceof N2&&wr(Gr[ft],rt))}(ie),Ir.publish("putResources"),ie.forEach(Sr),Sr({resourcesOid:Qe,objectOid:Number.MAX_SAFE_INTEGER}),Ir.publish("postPutResources"),f!==null&&(ds.oid=ii(),Me("<<"),Me("/Filter /Standard"),Me("/V "+ds.v),Me("/R "+ds.r),Me("/U <"+ds.toHexString(ds.U)+">"),Me("/O <"+ds.toHexString(ds.O)+">"),Me("/P "+ds.P),Me(">>"),Me("endobj")),Rs(),Ts();var Pe=Ne;return Wn(),Z0(),Me("startxref"),Me(""+Pe),Me("%%EOF"),lt(Ge[he]),Ce.join(`
`)},Ji=p.__private__.getBlob=function(ie){return new Blob([_t(ie)],{type:"application/pdf"})},Qc=p.output=p.__private__.output=(yo=function(ie,Pe){switch(typeof(Pe=Pe||{})=="string"?Pe={filename:Pe}:Pe.filename=Pe.filename||"generated.pdf",ie){case void 0:return bo();case"save":p.save(Pe.filename);break;case"arraybuffer":return _t(bo());case"blob":return Ji(bo());case"bloburi":case"bloburl":if(Da.URL!==void 0&&typeof Da.URL.createObjectURL=="function")return Da.URL&&Da.URL.createObjectURL(Ji(bo()))||void 0;Fs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var rt="",ft=bo();try{rt=dq(ft)}catch{rt=dq(unescape(encodeURIComponent(ft)))}return"data:application/pdf;filename="+Pe.filename+";base64,"+rt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Da)==="[object Window]"){var Ct="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",tr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Pe.pdfObjectUrl&&(Ct=Pe.pdfObjectUrl,tr="");var pr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ct+'"'+tr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Pe)+");<\/script></body></html>",dn=Da.open();return dn!==null&&dn.document.write(pr),dn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Da)==="[object Window]"){var Ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Pe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Pe.filename+'" width="500px" height="400px" /></body></html>',ba=Da.open();if(ba!==null){ba.document.write(Ur);var Kr=this;ba.document.documentElement.querySelector("#pdfViewer").onload=function(){ba.document.title=Pe.filename,ba.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Kr.output("bloburl"))}}return ba}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Da)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ma='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Pe)+'"></iframe></body></html>',Mi=Da.open();if(Mi!==null&&(Mi.document.write(Ma),Mi.document.title=Pe.filename),Mi||typeof safari>"u")return Mi;break;case"datauri":case"dataurl":return Da.document.location.href=this.output("datauristring",Pe);default:return null}},yo.foo=function(){try{return yo.apply(this,arguments)}catch(rt){var ie=rt.stack||"";~ie.indexOf(" at ")&&(ie=ie.split(" at ")[1]);var Pe="Error in function "+ie.split(`
`)[0].split("<")[0]+": "+rt.message;if(!Da.console)throw new Error(Pe);Da.console.error(Pe,rt),Da.alert&&alert(Pe)}},yo.foo.bar=yo,yo.foo),Ac=function(ie){return Array.isArray(vo)===!0&&vo.indexOf(ie)>-1};switch(n){case"pt":ca=1;break;case"mm":ca=72/25.4;break;case"cm":ca=72/2.54;break;case"in":ca=72;break;case"px":ca=Ac("px_scaling")==1?.75:96/72;break;case"pc":case"em":ca=12;break;case"ex":ca=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ca=n}var ds=null;ye(),le();var vn=p.__private__.getPageInfo=p.getPageInfo=function(ie){if(isNaN(ie)||ie%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Jn[ie].objId,pageNumber:ie,pageContext:Jn[ie]}},Ks=p.__private__.getPageInfoByObjId=function(ie){if(isNaN(ie)||ie%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Pe in Jn)if(Jn[Pe].objId===ie)break;return vn(Pe)},kt=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Jn[he].objId,pageNumber:he,pageContext:Jn[he]}};p.addPage=function(){return ea.apply(this,arguments),this},p.setPage=function(){return Wa.apply(this,arguments),lt.call(this,Ge[he]),this},p.insertPage=function(ie){return this.addPage(),this.movePage(he,ie),this},p.movePage=function(ie,Pe){var rt,ft;if(ie>Pe){rt=Ge[ie],ft=Jn[ie];for(var Ct=ie;Ct>Pe;Ct--)Ge[Ct]=Ge[Ct-1],Jn[Ct]=Jn[Ct-1];Ge[Pe]=rt,Jn[Pe]=ft,this.setPage(Pe)}else if(ie<Pe){rt=Ge[ie],ft=Jn[ie];for(var tr=ie;tr<Pe;tr++)Ge[tr]=Ge[tr+1],Jn[tr]=Jn[tr+1];Ge[Pe]=rt,Jn[Pe]=ft,this.setPage(Pe)}return this},p.deletePage=function(){return Cc.apply(this,arguments),this},p.__private__.text=p.text=function(ie,Pe,rt,ft,Ct){var tr,pr,dn,Ur,ba,Kr,Ma,Mi,ma,an=(ft=ft||{}).scope||this;if(typeof ie=="number"&&typeof Pe=="number"&&(typeof rt=="string"||Array.isArray(rt))){var wo=rt;rt=Pe,Pe=ie,ie=wo}if(arguments[3]instanceof Vn==0?(dn=arguments[4],Ur=arguments[5],Yi(Ma=arguments[3])==="object"&&Ma!==null||(typeof dn=="string"&&(Ur=dn,dn=null),typeof Ma=="string"&&(Ur=Ma,Ma=null),typeof Ma=="number"&&(dn=Ma,Ma=null),ft={flags:Ma,angle:dn,align:Ur})):(U("The transform parameter of text() with a Matrix value"),ma=Ct),isNaN(Pe)||isNaN(rt)||ie==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ie.length===0)return an;var ka,Ps="",Rl=typeof ft.lineHeightFactor=="number"?ft.lineHeightFactor:eu,es=an.internal.scaleFactor;function gi(Gt){return Gt=Gt.split("	").join(Array(ft.TabLen||9).join(" ")),va(Gt,Ma)}function Kt(Gt){for(var or,ir=Gt.concat(),ta=[],da=ir.length;da--;)typeof(or=ir.shift())=="string"?ta.push(or):Array.isArray(Gt)&&(or.length===1||or[1]===void 0&&or[2]===void 0)?ta.push(or[0]):ta.push([or[0],or[1],or[2]]);return ta}function Ml(Gt,or){var ir;if(typeof Gt=="string")ir=or(Gt)[0];else if(Array.isArray(Gt)){for(var ta,da,Ti=Gt.concat(),al=[],Do=Ti.length;Do--;)typeof(ta=Ti.shift())=="string"?al.push(or(ta)[0]):Array.isArray(ta)&&typeof ta[0]=="string"&&(da=or(ta[0],ta[1],ta[2]),al.push([da[0],da[1],da[2]]));ir=al}return ir}var Os=!1,hr=!0;if(typeof ie=="string")Os=!0;else if(Array.isArray(ie)){var ru=ie.concat();pr=[];for(var Dd,hs=ru.length;hs--;)(typeof(Dd=ru.shift())!="string"||Array.isArray(Dd)&&typeof Dd[0]!="string")&&(hr=!1);Os=hr}if(Os===!1)throw new Error('Type of text must be string or Array. "'+ie+'" is not recognized.');typeof ie=="string"&&(ie=ie.match(/[\r?\n]/)?ie.split(/\r\n|\r|\n/g):[ie]);var Tu=Tt/an.internal.scaleFactor,Rd=Tu*(Rl-1);switch(ft.baseline){case"bottom":rt-=Rd;break;case"top":rt+=Tu-Rd;break;case"hanging":rt+=Tu-2*Rd;break;case"middle":rt+=Tu/2-Rd}if((Kr=ft.maxWidth||0)>0&&(typeof ie=="string"?ie=an.splitTextToSize(ie,Kr):Object.prototype.toString.call(ie)==="[object Array]"&&(ie=ie.reduce(function(Gt,or){return Gt.concat(an.splitTextToSize(or,Kr))},[]))),tr={text:ie,x:Pe,y:rt,options:ft,mutex:{pdfEscape:va,activeFontKey:nn,fonts:sr,activeFontSize:Tt}},Ir.publish("preProcessText",tr),ie=tr.text,dn=(ft=tr.options).angle,ma instanceof Vn==0&&dn&&typeof dn=="number"){dn*=Math.PI/180,ft.rotationDirection===0&&(dn=-dn),O===T&&(dn=-dn);var Oi=Math.cos(dn),ah=Math.sin(dn);ma=new Vn(Oi,ah,-ah,Oi,0,0)}else dn&&dn instanceof Vn&&(ma=dn);O!==T||ma||(ma=rc),(ba=ft.charSpace||rl)!==void 0&&(Ps+=H(re(ba))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mi=ft.horizontalScale)!==void 0&&(Ps+=H(100*Mi)+` Tz
`),ft.lang;var Ca=-1,ci=ft.renderingMode!==void 0?ft.renderingMode:ft.stroke,wn=an.internal.getCurrentPageInfo().pageContext;switch(ci){case 0:case!1:case"fill":Ca=0;break;case 1:case!0:case"stroke":Ca=1;break;case 2:case"fillThenStroke":Ca=2;break;case 3:case"invisible":Ca=3;break;case 4:case"fillAndAddForClipping":Ca=4;break;case 5:case"strokeAndAddPathForClipping":Ca=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ca=6;break;case 7:case"addToPathForClipping":Ca=7}var _o=wn.usedRenderingMode!==void 0?wn.usedRenderingMode:-1;Ca!==-1?Ps+=Ca+` Tr
`:_o!==-1&&(Ps+=`0 Tr
`),Ca!==-1&&(wn.usedRenderingMode=Ca),Ur=ft.align||"left";var kn,La=Tt*Rl,ih=an.internal.pageSize.getWidth(),ic=sr[nn];ba=ft.charSpace||rl,Kr=ft.maxWidth||0,Ma=Object.assign({autoencode:!0,noBOM:!0},ft.flags);var xl=[],nl=function(Gt){return an.getStringUnitWidth(Gt,{font:ic,charSpace:ba,fontSize:Tt,doKerning:!1})*Tt/es};if(Object.prototype.toString.call(ie)==="[object Array]"){var Fo;pr=Kt(ie),Ur!=="left"&&(kn=pr.map(nl));var gs,ts=0;if(Ur==="right"){Pe-=kn[0],ie=[],hs=pr.length;for(var Hn=0;Hn<hs;Hn++)Hn===0?(gs=ya(Pe),Fo=fs(rt)):(gs=re(ts-kn[Hn]),Fo=-La),ie.push([pr[Hn],gs,Fo]),ts=kn[Hn]}else if(Ur==="center"){Pe-=kn[0]/2,ie=[],hs=pr.length;for(var jc=0;jc<hs;jc++)jc===0?(gs=ya(Pe),Fo=fs(rt)):(gs=re((ts-kn[jc])/2),Fo=-La),ie.push([pr[jc],gs,Fo]),ts=kn[jc]}else if(Ur==="left"){ie=[],hs=pr.length;for(var ke=0;ke<hs;ke++)ie.push(pr[ke])}else if(Ur==="justify"&&ic.encoding==="Identity-H"){ie=[],hs=pr.length,Kr=Kr!==0?Kr:ih;for(var m=0,y=0;y<hs;y++)if(Fo=y===0?fs(rt):-La,gs=y===0?ya(Pe):m,y<hs-1){var w=re((Kr-kn[y])/(pr[y].split(" ").length-1)),E=pr[y].split(" ");ie.push([E[0]+" ",gs,Fo]),m=0;for(var P=1;P<E.length;P++){var D=(nl(E[P-1]+" "+E[P])-nl(E[P]))*es+w;P==E.length-1?ie.push([E[P],D,0]):ie.push([E[P]+" ",D,0]),m-=D}}else ie.push([pr[y],gs,Fo]);ie.push(["",m,0])}else{if(Ur!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(ie=[],hs=pr.length,Kr=Kr!==0?Kr:ih,y=0;y<hs;y++){Fo=y===0?fs(rt):-La,gs=y===0?ya(Pe):0;var V=pr[y].split(" ").length-1,Z=V>0?(Kr-kn[y])/V:0;y<hs-1?xl.push(H(re(Z))):xl.push(0),ie.push([pr[y],gs,Fo])}}}(typeof ft.R2L=="boolean"?ft.R2L:Ar)===!0&&(ie=Ml(ie,function(Gt,or,ir){return[Gt.split("").reverse().join(""),or,ir]})),tr={text:ie,x:Pe,y:rt,options:ft,mutex:{pdfEscape:va,activeFontKey:nn,fonts:sr,activeFontSize:Tt}},Ir.publish("postProcessText",tr),ie=tr.text,ka=tr.mutex.isHex||!1;var oe=sr[nn].encoding;oe!=="WinAnsiEncoding"&&oe!=="StandardEncoding"||(ie=Ml(ie,function(Gt,or,ir){return[gi(Gt),or,ir]})),pr=Kt(ie),ie=[];for(var be,Te,De,et=Array.isArray(pr[0])?1:0,dt="",pt=function(Gt,or,ir){var ta="";return ir instanceof Vn?(ir=typeof ft.angle=="number"?js(ir,new Vn(1,0,0,1,Gt,or)):js(new Vn(1,0,0,1,Gt,or),ir),O===T&&(ir=js(new Vn(1,0,0,-1,0,0),ir)),ta=ir.join(" ")+` Tm
`):ta=H(Gt)+" "+H(or)+` Td
`,ta},Nt=0;Nt<pr.length;Nt++){switch(dt="",et){case 1:De=(ka?"<":"(")+pr[Nt][0]+(ka?">":")"),be=parseFloat(pr[Nt][1]),Te=parseFloat(pr[Nt][2]);break;case 0:De=(ka?"<":"(")+pr[Nt]+(ka?">":")"),be=ya(Pe),Te=fs(rt)}xl!==void 0&&xl[Nt]!==void 0&&(dt=xl[Nt]+` Tw
`),Nt===0?ie.push(dt+pt(be,Te,ma)+De):et===0?ie.push(dt+De):et===1&&ie.push(dt+pt(be,Te,ma)+De)}ie=et===0?ie.join(` Tj
T* `):ie.join(` Tj
`),ie+=` Tj
`;var Rt=`BT
/`;return Rt+=nn+" "+Tt+` Tf
`,Rt+=H(Tt*Rl)+` TL
`,Rt+=Od+`
`,Rt+=Ps,Rt+=ie,Me(Rt+="ET"),g[nn]=!0,an};var Ke=p.__private__.clip=p.clip=function(ie){return Me(ie==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Ke("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Me("n"),this};var yn=p.__private__.isValidStyle=function(ie){var Pe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ie)!==-1&&(Pe=!0),Pe};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(ie){return yn(ie)&&(u=ie),this};var Ms=p.__private__.getStyle=p.getStyle=function(ie){var Pe=u;switch(ie){case"D":case"S":Pe="S";break;case"F":Pe="f";break;case"FD":case"DF":Pe="B";break;case"f":case"f*":case"B":case"B*":Pe=ie}return Pe},tl=p.close=function(){return Me("h"),this};p.stroke=function(){return Me("S"),this},p.fill=function(ie){return eh("f",ie),this},p.fillEvenOdd=function(ie){return eh("f*",ie),this},p.fillStroke=function(ie){return eh("B",ie),this},p.fillStrokeEvenOdd=function(ie){return eh("B*",ie),this};var eh=function(ie,Pe){Yi(Pe)==="object"?Jr(Pe,ie):Me(ie)},nd=function(ie){ie===null||O===T&&ie===void 0||(ie=Ms(ie),Me(ie))};function nc(ie,Pe,rt,ft,Ct){var tr=new N2(Pe||this.boundingBox,rt||this.xStep,ft||this.yStep,this.gState,Ct||this.matrix);tr.stream=this.stream;var pr=ie+"$$"+this.cloneIndex+++"$$";return Va(pr,tr),tr}var Jr=function(ie,Pe){var rt=ti[ie.key],ft=Gr[rt];if(ft instanceof Mg)Me("q"),Me(Qi(Pe)),ft.gState&&p.setGState(ft.gState),Me(ie.matrix.toString()+" cm"),Me("/"+rt+" sh"),Me("Q");else if(ft instanceof N2){var Ct=new Vn(1,0,0,-1,0,vf());ie.matrix&&(Ct=Ct.multiply(ie.matrix||rc),rt=nc.call(ft,ie.key,ie.boundingBox,ie.xStep,ie.yStep,Ct).id),Me("q"),Me("/Pattern cs"),Me("/"+rt+" scn"),ft.gState&&p.setGState(ft.gState),Me(Pe),Me("Q")}},Qi=function(ie){switch(ie){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},th=p.moveTo=function(ie,Pe){return Me(H(re(ie))+" "+H(ae(Pe))+" m"),this},J0=p.lineTo=function(ie,Pe){return Me(H(re(ie))+" "+H(ae(Pe))+" l"),this},Dl=p.curveTo=function(ie,Pe,rt,ft,Ct,tr){return Me([H(re(ie)),H(ae(Pe)),H(re(rt)),H(ae(ft)),H(re(Ct)),H(ae(tr)),"c"].join(" ")),this};p.__private__.line=p.line=function(ie,Pe,rt,ft,Ct){if(isNaN(ie)||isNaN(Pe)||isNaN(rt)||isNaN(ft)||!yn(Ct))throw new Error("Invalid arguments passed to jsPDF.line");return O===j?this.lines([[rt-ie,ft-Pe]],ie,Pe,[1,1],Ct||"S"):this.lines([[rt-ie,ft-Pe]],ie,Pe,[1,1]).stroke()},p.__private__.lines=p.lines=function(ie,Pe,rt,ft,Ct,tr){var pr,dn,Ur,ba,Kr,Ma,Mi,ma,an,wo,ka,Ps;if(typeof ie=="number"&&(Ps=rt,rt=Pe,Pe=ie,ie=Ps),ft=ft||[1,1],tr=tr||!1,isNaN(Pe)||isNaN(rt)||!Array.isArray(ie)||!Array.isArray(ft)||!yn(Ct)||typeof tr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(th(Pe,rt),pr=ft[0],dn=ft[1],ba=ie.length,wo=Pe,ka=rt,Ur=0;Ur<ba;Ur++)(Kr=ie[Ur]).length===2?(wo=Kr[0]*pr+wo,ka=Kr[1]*dn+ka,J0(wo,ka)):(Ma=Kr[0]*pr+wo,Mi=Kr[1]*dn+ka,ma=Kr[2]*pr+wo,an=Kr[3]*dn+ka,wo=Kr[4]*pr+wo,ka=Kr[5]*dn+ka,Dl(Ma,Mi,ma,an,wo,ka));return tr&&tl(),nd(Ct),this},p.path=function(ie){for(var Pe=0;Pe<ie.length;Pe++){var rt=ie[Pe],ft=rt.c;switch(rt.op){case"m":th(ft[0],ft[1]);break;case"l":J0(ft[0],ft[1]);break;case"c":Dl.apply(this,ft);break;case"h":tl()}}return this},p.__private__.rect=p.rect=function(ie,Pe,rt,ft,Ct){if(isNaN(ie)||isNaN(Pe)||isNaN(rt)||isNaN(ft)||!yn(Ct))throw new Error("Invalid arguments passed to jsPDF.rect");return O===j&&(ft=-ft),Me([H(re(ie)),H(ae(Pe)),H(re(rt)),H(re(ft)),"re"].join(" ")),nd(Ct),this},p.__private__.triangle=p.triangle=function(ie,Pe,rt,ft,Ct,tr,pr){if(isNaN(ie)||isNaN(Pe)||isNaN(rt)||isNaN(ft)||isNaN(Ct)||isNaN(tr)||!yn(pr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[rt-ie,ft-Pe],[Ct-rt,tr-ft],[ie-Ct,Pe-tr]],ie,Pe,[1,1],pr,!0),this},p.__private__.roundedRect=p.roundedRect=function(ie,Pe,rt,ft,Ct,tr,pr){if(isNaN(ie)||isNaN(Pe)||isNaN(rt)||isNaN(ft)||isNaN(Ct)||isNaN(tr)||!yn(pr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var dn=4/3*(Math.SQRT2-1);return Ct=Math.min(Ct,.5*rt),tr=Math.min(tr,.5*ft),this.lines([[rt-2*Ct,0],[Ct*dn,0,Ct,tr-tr*dn,Ct,tr],[0,ft-2*tr],[0,tr*dn,-Ct*dn,tr,-Ct,tr],[2*Ct-rt,0],[-Ct*dn,0,-Ct,-tr*dn,-Ct,-tr],[0,2*tr-ft],[0,-tr*dn,Ct*dn,-tr,Ct,-tr]],ie+Ct,Pe,[1,1],pr,!0),this},p.__private__.ellipse=p.ellipse=function(ie,Pe,rt,ft,Ct){if(isNaN(ie)||isNaN(Pe)||isNaN(rt)||isNaN(ft)||!yn(Ct))throw new Error("Invalid arguments passed to jsPDF.ellipse");var tr=4/3*(Math.SQRT2-1)*rt,pr=4/3*(Math.SQRT2-1)*ft;return th(ie+rt,Pe),Dl(ie+rt,Pe-pr,ie+tr,Pe-ft,ie,Pe-ft),Dl(ie-tr,Pe-ft,ie-rt,Pe-pr,ie-rt,Pe),Dl(ie-rt,Pe+pr,ie-tr,Pe+ft,ie,Pe+ft),Dl(ie+tr,Pe+ft,ie+rt,Pe+pr,ie+rt,Pe),nd(Ct),this},p.__private__.circle=p.circle=function(ie,Pe,rt,ft){if(isNaN(ie)||isNaN(Pe)||isNaN(rt)||!yn(ft))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ie,Pe,rt,rt,ft)},p.setFont=function(ie,Pe,rt){return rt&&(Pe=L(Pe,rt)),nn=Tn(ie,Pe,{disableWarning:!1}),this};var Pd=p.__private__.getFont=p.getFont=function(){return sr[Tn.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var ie,Pe,rt={};for(ie in ln)if(ln.hasOwnProperty(ie))for(Pe in rt[ie]=[],ln[ie])ln[ie].hasOwnProperty(Pe)&&rt[ie].push(Pe);return rt},p.addFont=function(ie,Pe,rt,ft,Ct){var tr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&tr.indexOf(arguments[3])!==-1?Ct=arguments[3]:arguments[3]&&tr.indexOf(arguments[3])==-1&&(rt=L(rt,ft)),Ut.call(this,ie,Pe,rt,Ct=Ct||"Identity-H")};var eu,wi=e.lineWidth||.200025,Ri=p.__private__.getLineWidth=p.getLineWidth=function(){return wi},sa=p.__private__.setLineWidth=p.setLineWidth=function(ie){return wi=ie,Me(H(re(ie))+" w"),this};p.__private__.setLineDash=na.API.setLineDash=na.API.setLineDashPattern=function(ie,Pe){if(ie=ie||[],Pe=Pe||0,isNaN(Pe)||!Array.isArray(ie))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ie=ie.map(function(rt){return H(re(rt))}).join(" "),Pe=H(re(Pe)),Me("["+ie+"] "+Pe+" d"),this};var Au=p.__private__.getLineHeight=p.getLineHeight=function(){return Tt*eu};p.__private__.getLineHeight=p.getLineHeight=function(){return Tt*eu};var fa=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(ie){return typeof(ie=ie||1.15)=="number"&&(eu=ie),this},J1=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return eu};fa(e.lineHeight);var ya=p.__private__.getHorizontalCoordinate=function(ie){return re(ie)},fs=p.__private__.getVerticalCoordinate=function(ie){return O===T?ie:Jn[he].mediaBox.topRightY-Jn[he].mediaBox.bottomLeftY-re(ie)},np=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(ie){return H(ya(ie))},Ys=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(ie){return H(fs(ie))},Eu=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Xe(Eu)},p.__private__.setStrokeColor=p.setDrawColor=function(ie,Pe,rt,ft){return Eu=nt({ch1:ie,ch2:Pe,ch3:rt,ch4:ft,pdfColorType:"draw",precision:2}),Me(Eu),this};var Er=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Xe(Er)},p.__private__.setFillColor=p.setFillColor=function(ie,Pe,rt,ft){return Er=nt({ch1:ie,ch2:Pe,ch3:rt,ch4:ft,pdfColorType:"fill",precision:2}),Me(Er),this};var Od=e.textColor||"0 g",Id=p.__private__.getTextColor=p.getTextColor=function(){return Xe(Od)};p.__private__.setTextColor=p.setTextColor=function(ie,Pe,rt,ft){return Od=nt({ch1:ie,ch2:Pe,ch3:rt,ch4:ft,pdfColorType:"text",precision:3}),this};var rl=e.charSpace,ps=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(rl||0)};p.__private__.setCharSpace=p.setCharSpace=function(ie){if(isNaN(ie))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return rl=ie,this};var tu=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(ie){var Pe=p.CapJoinStyles[ie];if(Pe===void 0)throw new Error("Line cap style of '"+ie+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tu=Pe,Me(Pe+" J"),this};var Xs=0;p.__private__.setLineJoin=p.setLineJoin=function(ie){var Pe=p.CapJoinStyles[ie];if(Pe===void 0)throw new Error("Line join style of '"+ie+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xs=Pe,Me(Pe+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(ie){if(ie=ie||0,isNaN(ie))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Me(H(re(ie))+" M"),this},p.GState=TA,p.setGState=function(ie){(ie=typeof ie=="string"?Qn[_a[ie]]:Fd(null,ie)).equals(Yn)||(Me("/"+ie.id+" gs"),Yn=ie)};var Fd=function(ie,Pe){if(!ie||!_a[ie]){var rt=!1;for(var ft in Qn)if(Qn.hasOwnProperty(ft)&&Qn[ft].equals(Pe)){rt=!0;break}if(rt)Pe=Qn[ft];else{var Ct="GS"+(Object.keys(Qn).length+1).toString(10);Qn[Ct]=Pe,Pe.id=Ct}return ie&&(_a[ie]=Pe.id),Ir.publish("addGState",Pe),Pe}};p.addGState=function(ie,Pe){return Fd(ie,Pe),this},p.saveGraphicsState=function(){return Me("q"),Fn.push({key:nn,size:Tt,color:Od}),this},p.restoreGraphicsState=function(){Me("Q");var ie=Fn.pop();return nn=ie.key,Tt=ie.size,Od=ie.color,Yn=null,this},p.setCurrentTransformationMatrix=function(ie){return Me(ie.toString()+" cm"),this},p.comment=function(ie){return Me("#"+ie),this};var ks=function(ie,Pe){var rt=ie||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return rt},set:function(tr){isNaN(tr)||(rt=parseFloat(tr))}});var ft=Pe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ft},set:function(tr){isNaN(tr)||(ft=parseFloat(tr))}});var Ct="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ct},set:function(tr){Ct=tr.toString()}}),this},rh=function(ie,Pe,rt,ft){ks.call(this,ie,Pe),this.type="rect";var Ct=rt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ct},set:function(pr){isNaN(pr)||(Ct=parseFloat(pr))}});var tr=ft||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return tr},set:function(pr){isNaN(pr)||(tr=parseFloat(pr))}}),this},gf=function(){this.page=ia,this.currentPage=he,this.pages=Ge.slice(0),this.pagesContext=Jn.slice(0),this.x=Cn,this.y=ms,this.matrix=Zn,this.width=Xh(he),this.height=_i(he),this.outputDestination=st,this.id="",this.objectNumber=-1};gf.prototype.restore=function(){ia=this.page,he=this.currentPage,Jn=this.pagesContext,Ge=this.pages,Cn=this.x,ms=this.y,Zn=this.matrix,Q0(he,this.width),ju(he,this.height),st=this.outputDestination};var nh=function(ie,Pe,rt,ft,Ct){Io.push(new gf),ia=he=0,Ge=[],Cn=ie,ms=Pe,Zn=Ct,Ta([rt,ft])};for(var xf in p.beginFormObject=function(ie,Pe,rt,ft,Ct){return nh(ie,Pe,rt,ft,Ct),this},p.endFormObject=function(ie){return function(Pe){if(Na[Pe])Io.pop().restore();else{var rt=new gf,ft="Xo"+(Object.keys(Ss).length+1).toString(10);rt.id=ft,Na[Pe]=ft,Ss[ft]=rt,Ir.publish("addFormObject",rt),Io.pop().restore()}}(ie),this},p.doFormObject=function(ie,Pe){var rt=Ss[Na[ie]];return Me("q"),Me(Pe.toString()+" cm"),Me("/"+rt.id+" Do"),Me("Q"),this},p.getFormObject=function(ie){var Pe=Ss[Na[ie]];return{x:Pe.x,y:Pe.y,width:Pe.width,height:Pe.height,matrix:Pe.matrix}},p.save=function(ie,Pe){return ie=ie||"generated.pdf",(Pe=Pe||{}).returnPromise=Pe.returnPromise||!1,Pe.returnPromise===!1?(kg(Ji(bo()),ie),typeof kg.unload=="function"&&Da.setTimeout&&setTimeout(kg.unload,911),this):new Promise(function(rt,ft){try{var Ct=kg(Ji(bo()),ie);typeof kg.unload=="function"&&Da.setTimeout&&setTimeout(kg.unload,911),rt(Ct)}catch(tr){ft(tr.message)}})},na.API)na.API.hasOwnProperty(xf)&&(xf==="events"&&na.API.events.length?function(ie,Pe){var rt,ft,Ct;for(Ct=Pe.length-1;Ct!==-1;Ct--)rt=Pe[Ct][0],ft=Pe[Ct][1],ie.subscribe.apply(ie,[rt].concat(typeof ft=="function"?[ft]:ft))}(Ir,na.API.events):p[xf]=na.API[xf]);function Xh(ie){return Jn[ie].mediaBox.topRightX-Jn[ie].mediaBox.bottomLeftX}function Q0(ie,Pe){Jn[ie].mediaBox.topRightX=Pe+Jn[ie].mediaBox.bottomLeftX}function _i(ie){return Jn[ie].mediaBox.topRightY-Jn[ie].mediaBox.bottomLeftY}function ju(ie,Pe){Jn[ie].mediaBox.topRightY=Pe+Jn[ie].mediaBox.bottomLeftY}var Ec=p.getPageWidth=function(ie){return Xh(ie=ie||he)/ca},ac=p.setPageWidth=function(ie,Pe){Q0(ie,Pe*ca)},vf=p.getPageHeight=function(ie){return _i(ie=ie||he)/ca},$t=p.setPageHeight=function(ie,Pe){ju(ie,Pe*ca)};return p.internal={pdfEscape:va,getStyle:Ms,getFont:Pd,getFontSize:ct,getCharSpace:ps,getTextColor:Id,getLineHeight:Au,getLineHeightFactor:J1,getLineWidth:Ri,write:wt,getHorizontalCoordinate:ya,getVerticalCoordinate:fs,getCoordinateString:np,getVerticalCoordinateString:Ys,collections:{},newObject:ii,newAdditionalObject:ze,newObjectDeferred:Zi,newObjectDeferredBegin:Ie,getFilters:yt,putStream:Ot,events:Ir,scaleFactor:ca,pageSize:{getWidth:function(){return Ec(he)},setWidth:function(ie){ac(he,ie)},getHeight:function(){return vf(he)},setHeight:function(ie){$t(he,ie)}},encryptionOptions:f,encryption:ds,getEncryptor:function(ie){return f!==null?ds.encryptor(ie,0):function(Pe){return Pe}},output:Qc,getNumberOfPages:Sa,get pages(){return Ge},out:Me,f2:K,f3:G,getPageInfo:vn,getPageInfoByObjId:Ks,getCurrentPageInfo:kt,getPDFVersion:b,Point:ks,Rectangle:rh,Matrix:Vn,hasHotfix:Ac},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ec(he)},set:function(ie){ac(he,ie)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return vf(he)},set:function(ie){$t(he,ie)},enumerable:!0,configurable:!0}),(function(ie){for(var Pe=0,rt=ar.length;Pe<rt;Pe++){var ft=Ut.call(this,ie[Pe][0],ie[Pe][1],ie[Pe][2],ar[Pe][3],!0);h===!1&&(g[ft]=!0);var Ct=ie[Pe][0].split("-");ua({id:ft,fontName:Ct[0],fontStyle:Ct[1]||""})}Ir.publish("addFonts",{fonts:sr,dictionary:ln})}).call(p,ar),nn="F1",ea(a,r),Ir.publish("initialized"),p}Jv.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Jv.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Jv.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Jv.prototype.processOwnerPassword=function(e,t){return AF(CF(t).substr(0,5),e)},Jv.prototype.encryptor=function(e,t){var r=CF(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return AF(r,n)}},TA.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Yi(e)!==Yi(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},na.API={events:[]},na.version="3.0.4";var Uo=na.API,EL=1,Qx=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$v=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ga=function(e){return e.toFixed(2)},Sp=function(e){return e.toFixed(5)};Uo.__acroform__={};var Td=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},pq=function(e){return e*EL},u0=function(e){var t=new Oce,r=Bn.internal.getHeight(e)||0,n=Bn.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ga(n)),Number(Ga(r))],t},fMe=Uo.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},hMe=Uo.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},mMe=Uo.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ol=Uo.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return mMe(e,t-1)},ll=Uo.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return fMe(e,t-1)},cl=Uo.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return hMe(e,t-1)},pMe=Uo.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(Ga(c.lowerLeft_X)),Number(Ga(c.lowerLeft_Y)),Number(Ga(c.upperRight_X)),Number(Ga(c.upperRight_Y))]},gMe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=EF(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Ga(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=u0(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},EF=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(K){return K.split(`
`)}):a.map(function(K){return[K]});var i=r,o=Bn.internal.getHeight(e)||0;o=o<0?-o:o;var l=Bn.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(K,G,re){if(K+1<a.length){var ae=G+" "+a[K+1][0];return lS(ae,e,re).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,f,h=lS("3",e,i).height,g=e.multiline?o-i:(o-h)/2,p=g+=2,N=0,b=0,S=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+lS(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var C="",j=0,T=0;T<a.length;T++)if(a.hasOwnProperty(T)){var O=!1;if(a[T].length!==1&&S!==a[T].length-1){if((h+2)*(j+2)+2>o)continue e;C+=a[T][S],O=!0,b=T,T--}else{C=(C+=a[T][S]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var M=parseInt(T),B=c(M,C,i),L=T>=a.length-1;if(B&&!L){C+=" ",S=0;continue}if(B||L){if(L)b=M;else if(e.multiline&&(h+2)*(j+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(j+2)+2>o)continue e;b=M}}for(var H="",U=N;U<=b;U++){var J=a[U];if(e.multiline){if(U===b){H+=J[S]+" ",S=(S+1)%J.length;continue}if(U===N){H+=J[J.length-1]+" ";continue}}H+=J[0]+" "}switch(H=H.substr(H.length-1)==" "?H.substr(0,H.length-1):H,f=lS(H,e,i).width,e.textAlign){case"right":u=l-f-2;break;case"center":u=(l-f)/2;break;default:u=2}t+=Ga(u)+" "+Ga(p)+` Td
`,t+="("+Qx(H)+`) Tj
`,t+=-Ga(u)+` 0 Td
`,p=-(i+2),f=0,N=O?b:b+1,j++,C=""}break}return n.text=t,n.fontSize=i,n},lS=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},xMe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vMe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},yMe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(qh.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(xMe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");EL=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Ice,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&vMe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=pMe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Bn.createDefaultAppearanceStream(l),Yi(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=gMe(l);c.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var h="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var p=l.appearanceStreamContent[g];if(h+="/"+g+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var N=p[o];typeof N=="function"&&(N=N.call(a,l)),h+="/"+o+" "+N+" ",a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N)}}else typeof(N=p)=="function"&&(N=N.call(a,l)),h+="/"+o+" "+N,a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&function(b,S){for(var C in b)if(b.hasOwnProperty(C)){var j=C,T=b[C];S.internal.newObjectDeferredBegin(T.objId,!0),Yi(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete b[j]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Pce=Uo.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Yi(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Qx(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fP=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Qx(n(e))+")"},w0=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};w0.prototype.toString=function(){return this.objId+" 0 R"},w0.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},w0.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:Pce(a,this.objId,this.scope)}):a instanceof w0?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var Oce=function(){w0.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Td(Oce,w0);var Ice=function(){w0.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Qx(r(e))+")"}},set:function(r){e=r}})};Td(Ice,w0);var qh=function e(){w0.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');t=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ol(t,3)},set:function(C){C?this.F=ll(t,3):this.F=cl(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');r=C}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(C){n=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(C){n[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(C){n[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(C){n[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(C){n[3]=C}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof kA)return;i="FieldObject"+e.FieldNum++}var C=function(j){return j};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Qx(C(i))+")"},set:function(C){i=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(C){i=C}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/EL:u},set:function(C){u=C}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(C){f=C}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof kA||this instanceof ix))return fP(h,this.objId,this.scope)},set:function(C){C=C.toString(),h=C}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof pc==0?fP(g,this.objId,this.scope):g},set:function(C){C=C.toString(),g=this instanceof pc==0?C.substr(0,1)==="("?$v(C.substr(1,C.length-2)):$v(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pc==1?$v(g.substr(1,g.length-1)):g},set:function(C){C=C.toString(),g=this instanceof pc==1?"/"+C:C}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof pc==0?fP(p,this.objId,this.scope):p},set:function(C){C=C.toString(),p=this instanceof pc==0?C.substr(0,1)==="("?$v(C.substr(1,C.length-2)):$v(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pc==1?$v(p.substr(1,p.length-1)):p},set:function(C){C=C.toString(),p=this instanceof pc==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(C){C=!!C,b=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(C){N=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,1)},set:function(C){C?this.Ff=ll(this.Ff,1):this.Ff=cl(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,2)},set:function(C){C?this.Ff=ll(this.Ff,2):this.Ff=cl(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,3)},set:function(C){C?this.Ff=ll(this.Ff,3):this.Ff=cl(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');S=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(S){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:S=2;break;case"center":case 1:S=1;break;default:S=0}}})};Td(qh,w0);var W2=function(){qh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Pce(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,18)},set:function(r){r?this.Ff=ll(this.Ff,18):this.Ff=cl(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ll(this.Ff,19):this.Ff=cl(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,20)},set:function(r){r?(this.Ff=ll(this.Ff,20),t.sort()):this.Ff=cl(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,22)},set:function(r){r?this.Ff=ll(this.Ff,22):this.Ff=cl(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,23)},set:function(r){r?this.Ff=ll(this.Ff,23):this.Ff=cl(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,27)},set:function(r){r?this.Ff=ll(this.Ff,27):this.Ff=cl(this.Ff,27)}}),this.hasAppearanceStream=!1};Td(W2,qh);var H2=function(){W2.call(this),this.fontName="helvetica",this.combo=!1};Td(H2,W2);var q2=function(){H2.call(this),this.combo=!0};Td(q2,H2);var xC=function(){q2.call(this),this.edit=!0};Td(xC,q2);var pc=function(){qh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,15)},set:function(r){r?this.Ff=ll(this.Ff,15):this.Ff=cl(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,16)},set:function(r){r?this.Ff=ll(this.Ff,16):this.Ff=cl(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,17)},set:function(r){r?this.Ff=ll(this.Ff,17):this.Ff=cl(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,26)},set:function(r){r?this.Ff=ll(this.Ff,26):this.Ff=cl(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Qx(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Yi(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Td(pc,qh);var vC=function(){pc.call(this),this.pushButton=!0};Td(vC,pc);var G2=function(){pc.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Td(G2,pc);var kA=function(){var e,t;qh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Qx(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Yi(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Bn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Td(kA,qh),G2.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},G2.prototype.createOption=function(e){var t=new kA;return t.Parent=this,t.optionName=e,this.Kids.push(t),bMe.call(this.scope,t),t};var yC=function(){pc.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Bn.CheckBox.createAppearanceStream()};Td(yC,pc);var ix=function(){qh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,13)},set:function(t){t?this.Ff=ll(this.Ff,13):this.Ff=cl(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,21)},set:function(t){t?this.Ff=ll(this.Ff,21):this.Ff=cl(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,23)},set:function(t){t?this.Ff=ll(this.Ff,23):this.Ff=cl(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,24)},set:function(t){t?this.Ff=ll(this.Ff,24):this.Ff=cl(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,25)},set:function(t){t?this.Ff=ll(this.Ff,25):this.Ff=cl(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,26)},set:function(t){t?this.Ff=ll(this.Ff,26):this.Ff=cl(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Td(ix,qh);var bC=function(){ix.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ol(this.Ff,14)},set:function(e){e?this.Ff=ll(this.Ff,14):this.Ff=cl(this.Ff,14)}}),this.password=!0};Td(bC,ix);var Bn={CheckBox:{createAppearanceStream:function(){return{N:{On:Bn.CheckBox.YesNormal},D:{On:Bn.CheckBox.YesPushDown,Off:Bn.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=u0(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=EF(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Ga(Bn.internal.getWidth(e))+" "+Ga(Bn.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ga(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=u0(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Bn.internal.getHeight(e),o=Bn.internal.getWidth(e),l=EF(e,e.caption);return a.push("1 g"),a.push("0 0 "+Ga(o)+" "+Ga(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ga(o-1)+" "+Ga(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Ga(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=u0(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ga(Bn.internal.getWidth(e))+" "+Ga(Bn.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Bn.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Bn.RadioButton.Circle.YesNormal,t.D[e]=Bn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=u0(e);t.scope=e.scope;var r=[],n=Bn.internal.getWidth(e)<=Bn.internal.getHeight(e)?Bn.internal.getWidth(e)/4:Bn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Bn.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Sp(Bn.internal.getWidth(e)/2)+" "+Sp(Bn.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=u0(e);t.scope=e.scope;var r=[],n=Bn.internal.getWidth(e)<=Bn.internal.getHeight(e)?Bn.internal.getWidth(e)/4:Bn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Bn.internal.Bezier_C).toFixed(5)),o=Number((n*Bn.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Sp(Bn.internal.getWidth(e)/2)+" "+Sp(Bn.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Sp(Bn.internal.getWidth(e)/2)+" "+Sp(Bn.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=u0(e);t.scope=e.scope;var r=[],n=Bn.internal.getWidth(e)<=Bn.internal.getHeight(e)?Bn.internal.getWidth(e)/4:Bn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Bn.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Sp(Bn.internal.getWidth(e)/2)+" "+Sp(Bn.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Bn.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Bn.RadioButton.Cross.YesNormal,t.D[e]=Bn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=u0(e);t.scope=e.scope;var r=[],n=Bn.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Ga(Bn.internal.getWidth(e)-2)+" "+Ga(Bn.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ga(n.x1.x)+" "+Ga(n.x1.y)+" m"),r.push(Ga(n.x2.x)+" "+Ga(n.x2.y)+" l"),r.push(Ga(n.x4.x)+" "+Ga(n.x4.y)+" m"),r.push(Ga(n.x3.x)+" "+Ga(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=u0(e);t.scope=e.scope;var r=Bn.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ga(Bn.internal.getWidth(e))+" "+Ga(Bn.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ga(Bn.internal.getWidth(e)-2)+" "+Ga(Bn.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ga(r.x1.x)+" "+Ga(r.x1.y)+" m"),n.push(Ga(r.x2.x)+" "+Ga(r.x2.y)+" l"),n.push(Ga(r.x4.x)+" "+Ga(r.x4.y)+" m"),n.push(Ga(r.x3.x)+" "+Ga(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=u0(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ga(Bn.internal.getWidth(e))+" "+Ga(Bn.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Bn.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Bn.internal.getWidth(e),r=Bn.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Bn.internal.getWidth=function(e){var t=0;return Yi(e)==="object"&&(t=pq(e.Rect[2])),t},Bn.internal.getHeight=function(e){var t=0;return Yi(e)==="object"&&(t=pq(e.Rect[3])),t};var bMe=Uo.addField=function(e){if(yMe(this,e),!(e instanceof qh))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Uo.AcroFormChoiceField=W2,Uo.AcroFormListBox=H2,Uo.AcroFormComboBox=q2,Uo.AcroFormEditBox=xC,Uo.AcroFormButton=pc,Uo.AcroFormPushButton=vC,Uo.AcroFormRadioButton=G2,Uo.AcroFormCheckBox=yC,Uo.AcroFormTextField=ix,Uo.AcroFormPasswordField=bC,Uo.AcroFormAppearance=Bn,Uo.AcroForm={ChoiceField:W2,ListBox:H2,ComboBox:q2,EditBox:xC,Button:pc,PushButton:vC,RadioButton:G2,CheckBox:yC,TextField:ix,PasswordField:bC,Appearance:Bn},na.AcroForm={ChoiceField:W2,ListBox:H2,ComboBox:q2,EditBox:xC,Button:pc,PushButton:vC,RadioButton:G2,CheckBox:yC,TextField:ix,PasswordField:bC,Appearance:Bn};function Fce(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(K,G){var re,ae,X,ne,de,le=r;if((G=G||r)==="RGBA"||K.data!==void 0&&K.data instanceof Uint8ClampedArray&&"height"in K&&"width"in K)return"RGBA";if(B(K))for(de in n)for(X=n[de],re=0;re<X.length;re+=1){for(ne=!0,ae=0;ae<X[re].length;ae+=1)if(X[re][ae]!==void 0&&X[re][ae]!==K[ae]){ne=!1;break}if(ne===!0){le=de;break}}else for(de in n)for(X=n[de],re=0;re<X.length;re+=1){for(ne=!0,ae=0;ae<X[re].length;ae+=1)if(X[re][ae]!==void 0&&X[re][ae]!==K.charCodeAt(ae)){ne=!1;break}if(ne===!0){le=de;break}}return le===r&&G!==r&&(le=G),le},i=function K(G){for(var re=this.internal.write,ae=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:G.width}),ne.push({key:"Height",value:G.height}),G.colorSpace===C.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===C.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)&&G.transparency.length>0){for(var de="",le=0,xe=G.transparency.length;le<xe;le++)de+=G.transparency[le]+" "+G.transparency[le]+" ";ne.push({key:"Mask",value:"["+de+"]"})}G.sMask!==void 0&&ne.push({key:"SMask",value:G.objectId+1+" 0 R"});var Se=G.filter!==void 0?["/"+G.filter]:void 0;if(ae({data:G.data,additionalKeyValues:ne,alreadyAppliedFilters:Se,objectId:G.objectId}),re("endobj"),"sMask"in G&&G.sMask!==void 0){var ye,ee=(ye=G.sMaskBitsPerComponent)!==null&&ye!==void 0?ye:G.bitsPerComponent,he={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:ee,data:G.sMask};"filter"in G&&(he.decodeParameters="/Predictor ".concat(G.predictor," /Colors 1 /BitsPerComponent ").concat(ee," /Columns ").concat(G.width),he.filter=G.filter),K.call(this,he)}if(G.colorSpace===C.INDEXED){var se=this.internal.newObject();ae({data:H(new Uint8Array(G.palette)),objectId:se}),re("endobj")}},o=function(){var K=this.internal.collections[t+"images"];for(var G in K)i.call(this,K[G])},l=function(){var K,G=this.internal.collections[t+"images"],re=this.internal.write;for(var ae in G)re("/I"+(K=G[ae]).index,K.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var K=this.internal.collections[t+"images"];return c.call(this),K},f=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(K){return typeof e["process"+K.toUpperCase()]=="function"},g=function(K){return Yi(K)==="object"&&K.nodeType===1},p=function(K,G){if(K.nodeName==="IMG"&&K.hasAttribute("src")){var re=""+K.getAttribute("src");if(re.indexOf("data:image/")===0)return gC(unescape(re).split("base64,").pop());var ae=e.loadFile(re,!0);if(ae!==void 0)return ae}if(K.nodeName==="CANVAS"){if(K.width===0||K.height===0)throw new Error("Given canvas must have data. Canvas width: "+K.width+", height: "+K.height);var X;switch(G){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;default:X="image/jpeg"}return gC(K.toDataURL(X,1).split("base64,").pop())}},N=function(K){var G=this.internal.collections[t+"images"];if(G){for(var re in G)if(K===G[re].alias)return G[re]}},b=function(K,G,re){return K||G||(K=-96,G=-96),K<0&&(K=-1*re.width*72/K/this.internal.scaleFactor),G<0&&(G=-1*re.height*72/G/this.internal.scaleFactor),K===0&&(K=G*re.width/re.height),G===0&&(G=K*re.height/re.width),[K,G]},S=function(K,G,re,ae,X,ne){var de=b.call(this,re,ae,X),le=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,Se=u.call(this);if(re=de[0],ae=de[1],Se[X.index]=X,ne){ne*=Math.PI/180;var ye=Math.cos(ne),ee=Math.sin(ne),he=function(te){return te.toFixed(4)},se=[he(ye),he(ee),he(-1*ee),he(ye),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,le(K),xe(G+ae),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([le(re),"0","0",le(ae),"0","0","cm"].join(" "))):this.internal.write([le(re),"0","0",le(ae),le(K),xe(G+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},C=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=e.__addimage__.sHashCode=function(K){var G,re,ae=0;if(typeof K=="string")for(re=K.length,G=0;G<re;G++)ae=(ae<<5)-ae+K.charCodeAt(G),ae|=0;else if(B(K))for(re=K.byteLength/2,G=0;G<re;G++)ae=(ae<<5)-ae+K[G],ae|=0;return ae},O=e.__addimage__.validateStringAsBase64=function(K){(K=K||"").toString().trim();var G=!0;return K.length===0&&(G=!1),K.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(K.substr(0,K.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(K.substr(-2))===!1&&(G=!1),G},M=e.__addimage__.extractImageFromDataUrl=function(K){if(K==null||!(K=K.trim()).startsWith("data:"))return null;var G=K.indexOf(",");return G<0?null:K.substring(0,G).trim().endsWith("base64")?K.substring(G+1):null};e.__addimage__.isArrayBuffer=function(K){return K instanceof ArrayBuffer};var B=e.__addimage__.isArrayBufferView=function(K){return K instanceof Int8Array||K instanceof Uint8Array||K instanceof Uint8ClampedArray||K instanceof Int16Array||K instanceof Uint16Array||K instanceof Int32Array||K instanceof Uint32Array||K instanceof Float32Array||K instanceof Float64Array},L=e.__addimage__.binaryStringToUint8Array=function(K){for(var G=K.length,re=new Uint8Array(G),ae=0;ae<G;ae++)re[ae]=K.charCodeAt(ae);return re},H=e.__addimage__.arrayBufferToBinaryString=function(K){for(var G="",re=B(K)?K:new Uint8Array(K),ae=0;ae<re.length;ae+=8192)G+=String.fromCharCode.apply(null,re.subarray(ae,ae+8192));return G};e.addImage=function(){var K,G,re,ae,X,ne,de,le,xe;if(typeof arguments[1]=="number"?(G=r,re=arguments[1],ae=arguments[2],X=arguments[3],ne=arguments[4],de=arguments[5],le=arguments[6],xe=arguments[7]):(G=arguments[1],re=arguments[2],ae=arguments[3],X=arguments[4],ne=arguments[5],de=arguments[6],le=arguments[7],xe=arguments[8]),Yi(K=arguments[0])==="object"&&!g(K)&&"imageData"in K){var Se=K;K=Se.imageData,G=Se.format||G||r,re=Se.x||re||0,ae=Se.y||ae||0,X=Se.w||Se.width||X,ne=Se.h||Se.height||ne,de=Se.alias||de,le=Se.compression||le,xe=Se.rotation||Se.angle||xe}var ye=this.internal.getFilters();if(le===void 0&&ye.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(re)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var ee=U.call(this,K,G,de,le);return S.call(this,re,ae,X,ne,ee,xe),this};var U=function(K,G,re,ae){var X,ne,de;if(typeof K=="string"&&a(K)===r){K=unescape(K);var le=J(K,!1);(le!==""||(le=e.loadFile(K,!0))!==void 0)&&(K=le)}if(g(K)&&(K=p(K,G)),G=a(K,G),!h(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((de=re)==null||de.length===0)&&(re=function(xe){return typeof xe=="string"||B(xe)?T(xe):B(xe.data)?T(xe.data):null}(K)),(X=N.call(this,re))||(K instanceof Uint8Array||G==="RGBA"||(ne=K,K=L(K)),X=this["process"+G.toUpperCase()](K,f.call(this),re,function(xe){return xe&&typeof xe=="string"&&(xe=xe.toUpperCase()),xe in e.image_compression?xe:j.NONE}(ae),ne)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},J=e.__addimage__.convertBase64ToBinaryString=function(K,G){G=typeof G!="boolean"||G;var re,ae="";if(typeof K=="string"){var X;re=(X=M(K))!==null&&X!==void 0?X:K;try{ae=gC(re)}catch(ne){if(G)throw O(re)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};e.getImageProperties=function(K){var G,re,ae="";if(g(K)&&(K=p(K)),typeof K=="string"&&a(K)===r&&((ae=J(K,!1))===""&&(ae=e.loadFile(K)||""),K=ae),re=a(K),!h(re))throw new Error("addImage does not support files of type '"+re+"', please ensure that a plugin for '"+re+"' support is added.");if(K instanceof Uint8Array||(K=L(K)),!(G=this["process"+re.toUpperCase()](K)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=re,G}})(na.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};na.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,h=0;h<u.length&&!f;h++)switch((n=u[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){n=u[g];var p=this.internal.pdfEscape,N=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(b.objId),j=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(C(n.contents))+")",i+=" /Popup "+S.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(C(j))+") >>",b.content=i;var T=b.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(i+=" /Open true"),i+=" >>",S.content=i,this.internal.write(b.objId,"0 R",S.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var O=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(N(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var M=this.annotations._nameMap[n.options.name];n.options.pageNumber=M.page,n.options.top=M.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(N(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var B=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+B+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(u*f)}else l=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(na.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},l=e.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&a.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(b){var S=0,C=r,j="",T=0;for(S=0;S<b.length;S+=1)C[b.charCodeAt(S)]!==void 0?(T++,typeof(C=C[b.charCodeAt(S)])=="number"&&(j+=String.fromCharCode(C),C=r,T=0),S===b.length-1&&(C=r,j+=b.charAt(S-(T-1)),S-=T-1,T=0)):(C=r,j+=b.charAt(S-T),S-=T,T=0);return j};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(b,S,C){return o(b)?i(b)===!1?-1:!u(b)||!o(S)&&!o(C)||!o(C)&&l(S)||l(b)&&!o(S)||l(b)&&c(S)||l(b)&&l(S)?0:f(b)&&o(S)&&!l(S)&&o(C)&&u(C)?3:l(b)||!o(C)?1:2:-1},p=function(b){var S=0,C=0,j=0,T="",O="",M="",B=(b=b||"").split("\\s+"),L=[];for(S=0;S<B.length;S+=1){for(L.push(""),C=0;C<B[S].length;C+=1)T=B[S][C],O=B[S][C-1],M=B[S][C+1],o(T)?(j=g(T,O,M),L[S]+=j!==-1?String.fromCharCode(t[T.charCodeAt(0)][j]):T):L[S]+=T;L[S]=h(L[S])}return L.join(" ")},N=e.__arabicParser__.processArabic=e.processArabic=function(){var b,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(S)){var j=0;for(C=[],j=0;j<S.length;j+=1)Array.isArray(S[j])?C.push([p(S[j][0]),S[j][1],S[j][2]]):C.push([p(S[j])]);b=C}else b=p(S);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",N])}(na.API),na.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(na.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(b){N=b}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,p=0,N=0,b=0,S=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var C=u.maxWidth;C>0?typeof c=="string"?c=this.splitTextToSize(c,C):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(T,O){return T.concat(S.splitTextToSize(O,C))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)p<(b=this.getStringUnitWidth(c[j],{font:h})*f)&&(p=b);return p!==0&&(N=c.length),{w:p/=g,h:Math.max((N*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,f,h,g){if(n.call(this),!f)throw new Error("No data for PDF table.");var p,N,b,S,C=[],j=[],T=[],O={},M={},B=[],L=[],H=(g=g||{}).autoSize||!1,U=g.printHeaders!==!1,J=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,K=g.margins||Object.assign({width:this.getPageWidth()},t),G=typeof g.padding=="number"?g.padding:3,re=g.headerBackgroundColor||"#c8c8c8",ae=g.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=K,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=re,this.internal.__cell__.headerTextColor=ae,this.setFontSize(J),h==null)j=C=Object.keys(f[0]),T=C.map(function(){return"left"});else if(Array.isArray(h)&&Yi(h[0])==="object")for(C=h.map(function(Se){return Se.name}),j=h.map(function(Se){return Se.prompt||Se.name||""}),T=h.map(function(Se){return Se.align||"left"}),p=0;p<h.length;p+=1)M[h[p].name]=.7499990551181103*h[p].width;else Array.isArray(h)&&typeof h[0]=="string"&&(j=C=h,T=C.map(function(){return"left"}));if(H||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<C.length;p+=1){for(O[S=C[p]]=f.map(function(Se){return Se[S]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(j[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=O[S],this.setFont(void 0,"normal"),b=0;b<N.length;b+=1)B.push(this.getTextDimensions(N[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[S]=Math.max.apply(null,B)+G+G,B=[]}if(U){var X={};for(p=0;p<C.length;p+=1)X[C[p]]={},X[C[p]].text=j[p],X[C[p]].align=T[p];var ne=l.call(this,X,M);L=C.map(function(Se){return new i(c,u,M[Se],ne,X[Se].text,void 0,X[Se].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var de=h.reduce(function(Se,ye){return Se[ye.name]=ye.align,Se},{});for(p=0;p<f.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:f[p]},this);var le=l.call(this,f[p],M);for(b=0;b<C.length;b+=1){var xe=f[p][C[b]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:b,data:xe},this),o.call(this,new i(c,u,M[C[b]],le,xe,p+2,de[C[b]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(p){var N=c[p];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/g+f+f},this).reduce(function(p,N){return Math.max(p,N)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=c;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(N)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}(na.API);var Dce={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Rce=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],jF=Fce(Rce),Mce=[100,200,300,400,500,600,700,800,900],wMe=Fce(Mce);function hP(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return Dce[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),a=function(i){return typeof jF[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function gq(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var _Me={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xq={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vq(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function yq(e){return e.trimLeft()}function NMe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function SMe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var cS,bq,wq,zv,uS,_q,Nq,Sq,mP=["times"];function Cq(e,t,r,n,a){var i=4,o=Eq;switch(a){case na.API.image_compression.FAST:i=1,o=Aq;break;case na.API.image_compression.MEDIUM:i=6,o=jq;break;case na.API.image_compression.SLOW:i=9,o=Tq}e=function(c,u,f,h){for(var g,p=c.length/u,N=new Uint8Array(c.length+p),b=[CMe,Aq,Eq,jq,Tq],S=0;S<p;S+=1){var C=S*u,j=c.subarray(C,C+u);if(h)N.set(h(j,f,g),C+S);else{for(var T=b.length,O=[],M=0;M<T;M+=1)O[M]=b[M](j,f,g);var B=EMe(O.concat());N.set(O[B],C+S)}g=j}return N}(e,t,Math.ceil(r*n/8),o);var l=pF(e,{level:i});return na.API.__addimage__.arrayBufferToBinaryString(l)}function CMe(e){var t=Array.apply([],e);return t.unshift(0),t}function Aq(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function Eq(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;a[i+1]=e[i]-o+256&255}return a}function jq(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;a[i+1]=e[i]+256-(o+l>>>1)&255}return a}function Tq(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var o=AMe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-o+256&255}return a}function AMe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function EMe(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function pP(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),o=(1<<r)-1;return Lce(e,a)>>i&o}function kq(e,t,r,n){var a=r*n,i=Math.floor(a/8),o=16-(a-8*i+n),l=(1<<n)-1,c=(t&l)<<o;(function(u,f,h){if(f+1<u.byteLength)u.setUint16(f,h,!1);else{var g=h>>8&255;u.setUint8(f,g)}})(e,i,Lce(e,i)&~(l<<o)&65535|c)}function Lce(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function jMe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,f=[],h=0,g=null,p=0,N=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,N=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((K=e[t++])>=0))throw Error("Invalid block size");if(K===0)break;t+=K}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];h=e[t++]|e[t++]<<8,g=e[t++],1&b||(g=null),p=b>>2&7,t++;break;case 254:for(;;){if(!((K=e[t++])>=0))throw Error("Invalid block size");if(K===0)break;t+=K}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var S=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,T=e[t++]|e[t++]<<8,O=e[t++],M=O>>6&1,B=1<<1+(7&O),L=l,H=c,U=!1;O>>7&&(U=!0,L=t,H=B,t+=3*B);var J=t;for(t++;;){var K;if(!((K=e[t++])>=0))throw Error("Invalid block size");if(K===0)break;t+=K}f.push({x:S,y:C,width:j,height:T,has_local_palette:U,palette_offset:L,palette_size:H,data_offset:J,data_length:t-J,transparent_index:g,interlaced:!!M,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return N},this.frameInfo=function(G){if(G<0||G>=f.length)throw new Error("Frame index out of range.");return f[G]},this.decodeAndBlitFrameBGRA=function(G,re){var ae=this.frameInfo(G),X=ae.width*ae.height,ne=new Uint8Array(X);Pq(e,ae.data_offset,ne,X);var de=ae.palette_offset,le=ae.transparent_index;le===null&&(le=256);var xe=ae.width,Se=r-xe,ye=xe,ee=4*(ae.y*r+ae.x),he=4*((ae.y+ae.height)*r+ae.x),se=ee,te=4*Se;ae.interlaced===!0&&(te+=4*r*7);for(var ge=8,ue=0,Ce=ne.length;ue<Ce;++ue){var Ne=ne[ue];if(ye===0&&(ye=xe,(se+=te)>=he&&(te=4*Se+4*r*(ge-1),se=ee+(xe+Se)*(ge<<1),ge>>=1)),Ne===le)se+=4;else{var Ee=e[de+3*Ne],Ge=e[de+3*Ne+1],Be=e[de+3*Ne+2];re[se++]=Be,re[se++]=Ge,re[se++]=Ee,re[se++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(G,re){var ae=this.frameInfo(G),X=ae.width*ae.height,ne=new Uint8Array(X);Pq(e,ae.data_offset,ne,X);var de=ae.palette_offset,le=ae.transparent_index;le===null&&(le=256);var xe=ae.width,Se=r-xe,ye=xe,ee=4*(ae.y*r+ae.x),he=4*((ae.y+ae.height)*r+ae.x),se=ee,te=4*Se;ae.interlaced===!0&&(te+=4*r*7);for(var ge=8,ue=0,Ce=ne.length;ue<Ce;++ue){var Ne=ne[ue];if(ye===0&&(ye=xe,(se+=te)>=he&&(te=4*Se+4*r*(ge-1),se=ee+(xe+Se)*(ge<<1),ge>>=1)),Ne===le)se+=4;else{var Ee=e[de+3*Ne],Ge=e[de+3*Ne+1],Be=e[de+3*Ne+2];re[se++]=Ee,re[se++]=Ge,re[se++]=Be,re[se++]=255}--ye}}}function Pq(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,f=0,h=0,g=0,p=e[t++],N=new Int32Array(4096),b=null;;){for(;f<16&&p!==0;)h|=e[t++]<<f,f+=8,p===1?p=e[t++]:--p;if(f<c)break;var S=h&u;if(h>>=c,f-=c,S!==i){if(S===o)break;for(var C=S<l?S:b,j=0,T=C;T>i;)T=N[T]>>8,++j;var O=T;if(g+j+(C!==S?1:0)>n)return void Fs.log("Warning, gif stream longer than expected.");r[g++]=O;var M=g+=j;for(C!==S&&(r[g++]=O),T=C;j--;)T=N[T],r[--M]=255&T,T>>=8;b!==null&&l<4096&&(N[l++]=b<<8|O,l>=u+1&&c<12&&(++c,u=u<<1|1)),b=S}else l=o+1,u=(1<<(c=a+1))-1,b=null}return g!==n&&Fs.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function gP(e){var t,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),h=new Array(65535),g=new Array(65535),p=new Array(64),N=new Array(64),b=[],S=0,C=7,j=new Array(64),T=new Array(64),O=new Array(64),M=new Array(256),B=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],H=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],K=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(ee,he){for(var se=0,te=0,ge=new Array,ue=1;ue<=16;ue++){for(var Ce=1;Ce<=ee[ue];Ce++)ge[he[te]]=[],ge[he[te]][0]=se,ge[he[te]][1]=ue,te++,se++;se*=2}return ge}function de(ee){for(var he=ee[0],se=ee[1]-1;se>=0;)he&1<<se&&(S|=1<<C),se--,--C<0&&(S==255?(le(255),le(0)):le(S),C=7,S=0)}function le(ee){b.push(ee)}function xe(ee){le(ee>>8&255),le(255&ee)}function Se(ee,he,se,te,ge){for(var ue,Ce=ge[0],Ne=ge[240],Ee=function(Tt,sn){var ct,Ar,jr,tn,ha,mn,xa,Un,nn,ca,Cn=0;for(nn=0;nn<8;++nn){ct=Tt[Cn],Ar=Tt[Cn+1],jr=Tt[Cn+2],tn=Tt[Cn+3],ha=Tt[Cn+4],mn=Tt[Cn+5],xa=Tt[Cn+6];var ms=ct+(Un=Tt[Cn+7]),Zn=ct-Un,sr=Ar+xa,ln=Ar-xa,Fn=jr+mn,Gr=jr-mn,ti=tn+ha,Qn=tn-ha,_a=ms+ti,Yn=ms-ti,ia=sr+Fn,Jn=sr-Fn;Tt[Cn]=_a+ia,Tt[Cn+4]=_a-ia;var Ir=.707106781*(Jn+Yn);Tt[Cn+2]=Yn+Ir,Tt[Cn+6]=Yn-Ir;var vo=.382683433*((_a=Qn+Gr)-(Jn=ln+Zn)),Ss=.5411961*_a+vo,Na=1.306562965*Jn+vo,Io=.707106781*(ia=Gr+ln),Vn=Zn+Io,js=Zn-Io;Tt[Cn+5]=js+Ss,Tt[Cn+3]=js-Ss,Tt[Cn+1]=Vn+Na,Tt[Cn+7]=Vn-Na,Cn+=8}for(Cn=0,nn=0;nn<8;++nn){ct=Tt[Cn],Ar=Tt[Cn+8],jr=Tt[Cn+16],tn=Tt[Cn+24],ha=Tt[Cn+32],mn=Tt[Cn+40],xa=Tt[Cn+48];var rc=ct+(Un=Tt[Cn+56]),Va=ct-Un,yo=Ar+xa,ii=Ar-xa,Zi=jr+mn,Ie=jr-mn,ze=tn+ha,Ye=tn-ha,Qe=rc+ze,Xe=rc-ze,nt=yo+Zi,yt=yo-Zi;Tt[Cn]=Qe+nt,Tt[Cn+32]=Qe-nt;var Ot=.707106781*(yt+Xe);Tt[Cn+16]=Xe+Ot,Tt[Cn+48]=Xe-Ot;var St=.382683433*((Qe=Ye+Ie)-(yt=ii+Va)),Pt=.5411961*Qe+St,It=1.306562965*yt+St,mr=.707106781*(nt=Ie+ii),br=Va+mr,wr=Va-mr;Tt[Cn+40]=wr+Pt,Tt[Cn+24]=wr-Pt,Tt[Cn+8]=br+It,Tt[Cn+56]=br-It,Cn++}for(nn=0;nn<64;++nn)ca=Tt[nn]*sn[nn],p[nn]=ca>0?ca+.5|0:ca-.5|0;return p}(ee,he),Ge=0;Ge<64;++Ge)N[L[Ge]]=Ee[Ge];var Be=N[0]-se;se=N[0],Be==0?de(te[0]):(de(te[g[ue=32767+Be]]),de(h[ue]));for(var st=63;st>0&&N[st]==0;)st--;if(st==0)return de(Ce),se;for(var lt,Me=1;Me<=st;){for(var wt=Me;N[Me]==0&&Me<=st;)++Me;var _t=Me-wt;if(_t>=16){lt=_t>>4;for(var ar=1;ar<=lt;++ar)de(Ne);_t&=15}ue=32767+N[Me],de(ge[(_t<<4)+g[ue]]),de(h[ue]),Me++}return st!=63&&de(Ce),se}function ye(ee){ee=Math.min(Math.max(ee,1),100),i!=ee&&(function(he){for(var se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ge=o((se[te]*he+50)/100);ge=Math.min(Math.max(ge,1),255),l[L[te]]=ge}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var Ne=o((ue[Ce]*he+50)/100);Ne=Math.min(Math.max(Ne,1),255),c[L[Ce]]=Ne}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ge=0,Be=0;Be<8;Be++)for(var st=0;st<8;st++)u[Ge]=1/(l[L[Ge]]*Ee[Be]*Ee[st]*8),f[Ge]=1/(c[L[Ge]]*Ee[Be]*Ee[st]*8),Ge++}(ee<50?Math.floor(5e3/ee):Math.floor(200-2*ee)),i=ee)}this.encode=function(ee,he){he&&ye(he),b=new Array,S=0,C=7,xe(65496),xe(65504),xe(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),xe(1),xe(1),le(0),le(0),function(){xe(65499),xe(132),le(0);for(var Ar=0;Ar<64;Ar++)le(l[Ar]);le(1);for(var jr=0;jr<64;jr++)le(c[jr])}(),function(Ar,jr){xe(65472),xe(17),le(8),xe(jr),xe(Ar),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)}(ee.width,ee.height),function(){xe(65476),xe(418),le(0);for(var Ar=0;Ar<16;Ar++)le(H[Ar+1]);for(var jr=0;jr<=11;jr++)le(U[jr]);le(16);for(var tn=0;tn<16;tn++)le(J[tn+1]);for(var ha=0;ha<=161;ha++)le(K[ha]);le(1);for(var mn=0;mn<16;mn++)le(G[mn+1]);for(var xa=0;xa<=11;xa++)le(re[xa]);le(17);for(var Un=0;Un<16;Un++)le(ae[Un+1]);for(var nn=0;nn<=161;nn++)le(X[nn])}(),xe(65498),xe(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var se=0,te=0,ge=0;S=0,C=7,this.encode.displayName="_encode_";for(var ue,Ce,Ne,Ee,Ge,Be,st,lt,Me,wt=ee.data,_t=ee.width,ar=ee.height,Tt=4*_t,sn=0;sn<ar;){for(ue=0;ue<Tt;){for(Ge=Tt*sn+ue,st=-1,lt=0,Me=0;Me<64;Me++)Be=Ge+(lt=Me>>3)*Tt+(st=4*(7&Me)),sn+lt>=ar&&(Be-=Tt*(sn+1+lt-ar)),ue+st>=Tt&&(Be-=ue+st-Tt+4),Ce=wt[Be++],Ne=wt[Be++],Ee=wt[Be++],j[Me]=(B[Ce]+B[Ne+256|0]+B[Ee+512|0]>>16)-128,T[Me]=(B[Ce+768|0]+B[Ne+1024|0]+B[Ee+1280|0]>>16)-128,O[Me]=(B[Ce+1280|0]+B[Ne+1536|0]+B[Ee+1792|0]>>16)-128;se=Se(j,u,se,t,n),te=Se(T,f,te,r,a),ge=Se(O,f,ge,r,a),ue+=32}sn+=8}if(C>=0){var ct=[];ct[1]=C+1,ct[0]=(1<<C+1)-1,de(ct)}return xe(65497),new Uint8Array(b)},e=e||50,function(){for(var ee=String.fromCharCode,he=0;he<256;he++)M[he]=ee(he)}(),t=ne(H,U),r=ne(G,re),n=ne(J,K),a=ne(ae,X),function(){for(var ee=1,he=2,se=1;se<=15;se++){for(var te=ee;te<he;te++)g[32767+te]=se,h[32767+te]=[],h[32767+te][1]=se,h[32767+te][0]=te;for(var ge=-(he-1);ge<=-ee;ge++)g[32767+ge]=se,h[32767+ge]=[],h[32767+ge][1]=se,h[32767+ge][0]=he-1+ge;ee<<=1,he<<=1}}(),function(){for(var ee=0;ee<256;ee++)B[ee]=19595*ee,B[ee+256|0]=38470*ee,B[ee+512|0]=7471*ee+32768,B[ee+768|0]=-11059*ee,B[ee+1024|0]=-21709*ee,B[ee+1280|0]=32768*ee+8421375,B[ee+1536|0]=-27439*ee,B[ee+1792|0]=-5329*ee}(),ye(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function mh(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Oq(e){function t(U){if(!U)throw Error("assert :P")}function r(U,J,K){for(var G=0;4>G;G++)if(U[J+G]!=K.charCodeAt(G))return!0;return!1}function n(U,J,K,G,re){for(var ae=0;ae<re;ae++)U[J+ae]=K[G+ae]}function a(U,J,K,G){for(var re=0;re<G;re++)U[J+re]=K}function i(U){return new Int32Array(U)}function o(U,J){for(var K=[],G=0;G<U;G++)K.push(new J);return K}function l(U,J){var K=[];return function G(re,ae,X){for(var ne=X[ae],de=0;de<ne&&(re.push(X.length>ae+1?[]:new J),!(X.length<ae+1));de++)G(re[de],ae+1,X)}(K,0,U),K}var c=function(){var U=this;function J(z,Y){for(var me=1<<Y-1>>>0;z&me;)me>>>=1;return me?(z&me-1)+me:z}function K(z,Y,me,we,Oe){t(!(we%me));do z[Y+(we-=me)]=Oe;while(0<we)}function G(z,Y,me,we,Oe){if(t(2328>=Oe),512>=Oe)var Le=i(512);else if((Le=i(Oe))==null)return 0;return function($e,qe,Ze,at,xt,Mt){var it,bt,Et=qe,Qt=1<<Ze,Dt=i(16),rr=i(16);for(t(xt!=0),t(at!=null),t($e!=null),t(0<Ze),bt=0;bt<xt;++bt){if(15<at[bt])return 0;++Dt[at[bt]]}if(Dt[0]==xt)return 0;for(rr[1]=0,it=1;15>it;++it){if(Dt[it]>1<<it)return 0;rr[it+1]=rr[it]+Dt[it]}for(bt=0;bt<xt;++bt)it=at[bt],0<at[bt]&&(Mt[rr[it]++]=bt);if(rr[15]==1)return(at=new re).g=0,at.value=Mt[0],K($e,Et,1,Qt,at),Qt;var ur,_r=-1,gr=Qt-1,Xn=0,_n=1,qa=1,Pn=1<<Ze;for(bt=0,it=1,xt=2;it<=Ze;++it,xt<<=1){if(_n+=qa<<=1,0>(qa-=Dt[it]))return 0;for(;0<Dt[it];--Dt[it])(at=new re).g=it,at.value=Mt[bt++],K($e,Et+Xn,xt,Pn,at),Xn=J(Xn,it)}for(it=Ze+1,xt=2;15>=it;++it,xt<<=1){if(_n+=qa<<=1,0>(qa-=Dt[it]))return 0;for(;0<Dt[it];--Dt[it]){if(at=new re,(Xn&gr)!=_r){for(Et+=Pn,ur=1<<(_r=it)-Ze;15>_r&&!(0>=(ur-=Dt[_r]));)++_r,ur<<=1;Qt+=Pn=1<<(ur=_r-Ze),$e[qe+(_r=Xn&gr)].g=ur+Ze,$e[qe+_r].value=Et-qe-_r}at.g=it-Ze,at.value=Mt[bt++],K($e,Et+(Xn>>Ze),xt,Pn,at),Xn=J(Xn,it)}}return _n!=2*rr[15]-1?0:Qt}(z,Y,me,we,Oe,Le)}function re(){this.value=this.g=0}function ae(){this.value=this.g=0}function X(){this.G=o(5,re),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(nl,ae)}function ne(z,Y,me,we){t(z!=null),t(Y!=null),t(2147483648>we),z.Ca=254,z.I=0,z.b=-8,z.Ka=0,z.oa=Y,z.pa=me,z.Jd=Y,z.Yc=me+we,z.Zc=4<=we?me+we-4+1:me,Ce(z)}function de(z,Y){for(var me=0;0<Y--;)me|=Ee(z,128)<<Y;return me}function le(z,Y){var me=de(z,Y);return Ne(z)?-me:me}function xe(z,Y,me,we){var Oe,Le=0;for(t(z!=null),t(Y!=null),t(4294967288>we),z.Sb=we,z.Ra=0,z.u=0,z.h=0,4<we&&(we=4),Oe=0;Oe<we;++Oe)Le+=Y[me+Oe]<<8*Oe;z.Ra=Le,z.bb=we,z.oa=Y,z.pa=me}function Se(z){for(;8<=z.u&&z.bb<z.Sb;)z.Ra>>>=8,z.Ra+=z.oa[z.pa+z.bb]<<ts-8>>>0,++z.bb,z.u-=8;te(z)&&(z.h=1,z.u=0)}function ye(z,Y){if(t(0<=Y),!z.h&&Y<=gs){var me=se(z)&Fo[Y];return z.u+=Y,Se(z),me}return z.h=1,z.u=0}function ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function he(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function se(z){return z.Ra>>>(z.u&ts-1)>>>0}function te(z){return t(z.bb<=z.Sb),z.h||z.bb==z.Sb&&z.u>ts}function ge(z,Y){z.u=Y,z.h=te(z)}function ue(z){z.u>=Hn&&(t(z.u>=Hn),Se(z))}function Ce(z){t(z!=null&&z.oa!=null),z.pa<z.Zc?(z.I=(z.oa[z.pa++]|z.I<<8)>>>0,z.b+=8):(t(z!=null&&z.oa!=null),z.pa<z.Yc?(z.b+=8,z.I=z.oa[z.pa++]|z.I<<8):z.Ka?z.b=0:(z.I<<=8,z.b+=8,z.Ka=1))}function Ne(z){return de(z,1)}function Ee(z,Y){var me=z.Ca;0>z.b&&Ce(z);var we=z.b,Oe=me*Y>>>8,Le=(z.I>>>we>Oe)+0;for(Le?(me-=Oe,z.I-=Oe+1<<we>>>0):me=Oe+1,we=me,Oe=0;256<=we;)Oe+=8,we>>=8;return we=7^Oe+jc[we],z.b-=we,z.Ca=(me<<we)-1,Le}function Ge(z,Y,me){z[Y+0]=me>>24&255,z[Y+1]=me>>16&255,z[Y+2]=me>>8&255,z[Y+3]=255&me}function Be(z,Y){return z[Y+0]|z[Y+1]<<8}function st(z,Y){return Be(z,Y)|z[Y+2]<<16}function lt(z,Y){return Be(z,Y)|Be(z,Y+2)<<16}function Me(z,Y){var me=1<<Y;return t(z!=null),t(0<Y),z.X=i(me),z.X==null?0:(z.Mb=32-Y,z.Xa=Y,1)}function wt(z,Y){t(z!=null),t(Y!=null),t(z.Xa==Y.Xa),n(Y.X,0,z.X,0,1<<Y.Xa)}function _t(){this.X=[],this.Xa=this.Mb=0}function ar(z,Y,me,we){t(me!=null),t(we!=null);var Oe=me[0],Le=we[0];return Oe==0&&(Oe=(z*Le+Y/2)/Y),Le==0&&(Le=(Y*Oe+z/2)/z),0>=Oe||0>=Le?0:(me[0]=Oe,we[0]=Le,1)}function Tt(z,Y){return z+(1<<Y)-1>>>Y}function sn(z,Y){return((4278255360&z)+(4278255360&Y)>>>0&4278255360)+((16711935&z)+(16711935&Y)>>>0&16711935)>>>0}function ct(z,Y){U[Y]=function(me,we,Oe,Le,$e,qe,Ze){var at;for(at=0;at<$e;++at){var xt=U[z](qe[Ze+at-1],Oe,Le+at);qe[Ze+at]=sn(me[we+at],xt)}}}function Ar(){this.ud=this.hd=this.jd=0}function jr(z,Y){return((4278124286&(z^Y))>>>1)+(z&Y)>>>0}function tn(z){return 0<=z&&256>z?z:0>z?0:255<z?255:void 0}function ha(z,Y){return tn(z+(z-Y+.5>>1))}function mn(z,Y,me){return Math.abs(Y-me)-Math.abs(z-me)}function xa(z,Y,me,we,Oe,Le,$e){for(we=Le[$e-1],me=0;me<Oe;++me)Le[$e+me]=we=sn(z[Y+me],we)}function Un(z,Y,me,we,Oe){var Le;for(Le=0;Le<me;++Le){var $e=z[Y+Le],qe=$e>>8&255,Ze=16711935&(Ze=(Ze=16711935&$e)+((qe<<16)+qe));we[Oe+Le]=(4278255360&$e)+Ze>>>0}}function nn(z,Y){Y.jd=255&z,Y.hd=z>>8&255,Y.ud=z>>16&255}function ca(z,Y,me,we,Oe,Le){var $e;for($e=0;$e<we;++$e){var qe=Y[me+$e],Ze=qe>>>8,at=qe,xt=255&(xt=(xt=qe>>>16)+((z.jd<<24>>24)*(Ze<<24>>24)>>>5));at=255&(at=(at+=(z.hd<<24>>24)*(Ze<<24>>24)>>>5)+((z.ud<<24>>24)*(xt<<24>>24)>>>5)),Oe[Le+$e]=(4278255360&qe)+(xt<<16)+at}}function Cn(z,Y,me,we,Oe){U[Y]=function(Le,$e,qe,Ze,at,xt,Mt,it,bt){for(Ze=Mt;Ze<it;++Ze)for(Mt=0;Mt<bt;++Mt)at[xt++]=Oe(qe[we(Le[$e++])])},U[z]=function(Le,$e,qe,Ze,at,xt,Mt){var it=8>>Le.b,bt=Le.Ea,Et=Le.K[0],Qt=Le.w;if(8>it)for(Le=(1<<Le.b)-1,Qt=(1<<it)-1;$e<qe;++$e){var Dt,rr=0;for(Dt=0;Dt<bt;++Dt)Dt&Le||(rr=we(Ze[at++])),xt[Mt++]=Oe(Et[rr&Qt]),rr>>=it}else U["VP8LMapColor"+me](Ze,at,Et,Qt,xt,Mt,$e,qe,bt)}}function ms(z,Y,me,we,Oe){for(me=Y+me;Y<me;){var Le=z[Y++];we[Oe++]=Le>>16&255,we[Oe++]=Le>>8&255,we[Oe++]=255&Le}}function Zn(z,Y,me,we,Oe){for(me=Y+me;Y<me;){var Le=z[Y++];we[Oe++]=Le>>16&255,we[Oe++]=Le>>8&255,we[Oe++]=255&Le,we[Oe++]=Le>>24&255}}function sr(z,Y,me,we,Oe){for(me=Y+me;Y<me;){var Le=($e=z[Y++])>>16&240|$e>>12&15,$e=240&$e|$e>>28&15;we[Oe++]=Le,we[Oe++]=$e}}function ln(z,Y,me,we,Oe){for(me=Y+me;Y<me;){var Le=($e=z[Y++])>>16&248|$e>>13&7,$e=$e>>5&224|$e>>3&31;we[Oe++]=Le,we[Oe++]=$e}}function Fn(z,Y,me,we,Oe){for(me=Y+me;Y<me;){var Le=z[Y++];we[Oe++]=255&Le,we[Oe++]=Le>>8&255,we[Oe++]=Le>>16&255}}function Gr(z,Y,me,we,Oe,Le){if(Le==0)for(me=Y+me;Y<me;)Ge(we,((Le=z[Y++])[0]>>24|Le[1]>>8&65280|Le[2]<<8&16711680|Le[3]<<24)>>>0),Oe+=32;else n(we,Oe,z,Y,me)}function ti(z,Y){U[Y][0]=U[z+"0"],U[Y][1]=U[z+"1"],U[Y][2]=U[z+"2"],U[Y][3]=U[z+"3"],U[Y][4]=U[z+"4"],U[Y][5]=U[z+"5"],U[Y][6]=U[z+"6"],U[Y][7]=U[z+"7"],U[Y][8]=U[z+"8"],U[Y][9]=U[z+"9"],U[Y][10]=U[z+"10"],U[Y][11]=U[z+"11"],U[Y][12]=U[z+"12"],U[Y][13]=U[z+"13"],U[Y][14]=U[z+"0"],U[Y][15]=U[z+"0"]}function Qn(z){return z==hv||z==mv||z==rg||z==qb}function _a(){this.eb=[],this.size=this.A=this.fb=0}function Yn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ia(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _a,this.f.kb=new Yn,this.sd=null}function Jn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ir(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vo(z){return alert("todo:WebPSamplerProcessPlane"),z.T}function Ss(z,Y){var me=z.T,we=Y.ba.f.RGBA,Oe=we.eb,Le=we.fb+z.ka*we.A,$e=Iu[Y.ba.S],qe=z.y,Ze=z.O,at=z.f,xt=z.N,Mt=z.ea,it=z.W,bt=Y.cc,Et=Y.dc,Qt=Y.Mc,Dt=Y.Nc,rr=z.ka,ur=z.ka+z.T,_r=z.U,gr=_r+1>>1;for(rr==0?$e(qe,Ze,null,null,at,xt,Mt,it,at,xt,Mt,it,Oe,Le,null,null,_r):($e(Y.ec,Y.fc,qe,Ze,bt,Et,Qt,Dt,at,xt,Mt,it,Oe,Le-we.A,Oe,Le,_r),++me);rr+2<ur;rr+=2)bt=at,Et=xt,Qt=Mt,Dt=it,xt+=z.Rc,it+=z.Rc,Le+=2*we.A,$e(qe,(Ze+=2*z.fa)-z.fa,qe,Ze,bt,Et,Qt,Dt,at,xt,Mt,it,Oe,Le-we.A,Oe,Le,_r);return Ze+=z.fa,z.j+ur<z.o?(n(Y.ec,Y.fc,qe,Ze,_r),n(Y.cc,Y.dc,at,xt,gr),n(Y.Mc,Y.Nc,Mt,it,gr),me--):1&ur||$e(qe,Ze,null,null,at,xt,Mt,it,at,xt,Mt,it,Oe,Le+we.A,null,null,_r),me}function Na(z,Y,me){var we=z.F,Oe=[z.J];if(we!=null){var Le=z.U,$e=Y.ba.S,qe=$e==sp||$e==rg;Y=Y.ba.f.RGBA;var Ze=[0],at=z.ka;Ze[0]=z.T,z.Kb&&(at==0?--Ze[0]:(--at,Oe[0]-=z.width),z.j+z.ka+z.T==z.o&&(Ze[0]=z.o-z.j-at));var xt=Y.eb;at=Y.fb+at*Y.A,z=uv(we,Oe[0],z.width,Le,Ze,xt,at+(qe?0:3),Y.A),t(me==Ze),z&&Qn($e)&&Tc(xt,at,qe,Le,Ze,Y.A)}return 0}function Io(z){var Y=z.ma,me=Y.ba.S,we=11>me,Oe=me==kc||me==tg||me==sp||me==fv||me==12||Qn(me);if(Y.memory=null,Y.Ib=null,Y.Jb=null,Y.Nd=null,!ih(Y.Oa,z,Oe?11:12))return 0;if(Oe&&Qn(me)&&Kt(),z.da)alert("todo:use_scaling");else{if(we){if(Y.Ib=vo,z.Kb){if(me=z.U+1>>1,Y.memory=i(z.U+2*me),Y.memory==null)return 0;Y.ec=Y.memory,Y.fc=0,Y.cc=Y.ec,Y.dc=Y.fc+z.U,Y.Mc=Y.cc,Y.Nc=Y.dc+me,Y.Ib=Ss,Kt()}}else alert("todo:EmitYUV");Oe&&(Y.Jb=Na,we&&es())}if(we&&!sg){for(z=0;256>z;++z)H3[z]=89858*(z-128)+ig>>ag,G3[z]=-22014*(z-128)+ig,XT[z]=-45773*(z-128),q3[z]=113618*(z-128)+ig>>ag;for(z=cp;z<ad;++z)Y=76283*(z-16)+ig>>ag,sc[z-cp]=Rs(Y,255),ZT[z-cp]=Rs(Y+8>>4,15);sg=1}return 1}function Vn(z){var Y=z.ma,me=z.U,we=z.T;return t(!(1&z.ka)),0>=me||0>=we?0:(me=Y.Ib(z,Y),Y.Jb!=null&&Y.Jb(z,Y,me),Y.Dc+=me,1)}function js(z){z.ma.memory=null}function rc(z,Y,me,we){return ye(z,8)!=47?0:(Y[0]=ye(z,14)+1,me[0]=ye(z,14)+1,we[0]=ye(z,1),ye(z,3)!=0?0:!z.h)}function Va(z,Y){if(4>z)return z+1;var me=z-2>>1;return(2+(1&z)<<me)+ye(Y,me)+1}function yo(z,Y){return 120<Y?Y-120:1<=(me=((me=D3[Y-1])>>4)*z+(8-(15&me)))?me:1;var me}function ii(z,Y,me){var we=se(me),Oe=z[Y+=255&we].g-8;return 0<Oe&&(ge(me,me.u+8),we=se(me),Y+=z[Y].value,Y+=we&(1<<Oe)-1),ge(me,me.u+z[Y].g),z[Y].value}function Zi(z,Y,me){return me.g+=z.g,me.value+=z.value<<Y>>>0,t(8>=me.g),z.g}function Ie(z,Y,me){var we=z.xc;return t((Y=we==0?0:z.vc[z.md*(me>>we)+(Y>>we)])<z.Wb),z.Ya[Y]}function ze(z,Y,me,we){var Oe=z.ab,Le=z.c*Y,$e=z.C;Y=$e+Y;var qe=me,Ze=we;for(we=z.Ta,me=z.Ua;0<Oe--;){var at=z.gc[Oe],xt=$e,Mt=Y,it=qe,bt=Ze,Et=(Ze=we,qe=me,at.Ea);switch(t(xt<Mt),t(Mt<=at.nc),at.hc){case 2:y(it,bt,(Mt-xt)*Et,Ze,qe);break;case 0:var Qt=xt,Dt=Mt,rr=Ze,ur=qe,_r=(Pn=at).Ea;Qt==0&&(ke(it,bt,null,null,1,rr,ur),xa(it,bt+1,0,0,_r-1,rr,ur+1),bt+=_r,ur+=_r,++Qt);for(var gr=1<<Pn.b,Xn=gr-1,_n=Tt(_r,Pn.b),qa=Pn.K,Pn=Pn.w+(Qt>>Pn.b)*_n;Qt<Dt;){var ui=qa,Mo=Pn,Ba=1;for(m(it,bt,rr,ur-_r,1,rr,ur);Ba<_r;){var Rn=(Ba&~Xn)+gr;Rn>_r&&(Rn=_r),(0,V[ui[Mo++]>>8&15])(it,bt+ +Ba,rr,ur+Ba-_r,Rn-Ba,rr,ur+Ba),Ba=Rn}bt+=_r,ur+=_r,++Qt&Xn||(Pn+=_n)}Mt!=at.nc&&n(Ze,qe-Et,Ze,qe+(Mt-xt-1)*Et,Et);break;case 1:for(Et=it,Dt=bt,_r=(it=at.Ea)-(ur=it&~(rr=(bt=1<<at.b)-1)),Qt=Tt(it,at.b),gr=at.K,at=at.w+(xt>>at.b)*Qt;xt<Mt;){for(Xn=gr,_n=at,qa=new Ar,Pn=Dt+ur,ui=Dt+it;Dt<Pn;)nn(Xn[_n++],qa),Z(qa,Et,Dt,bt,Ze,qe),Dt+=bt,qe+=bt;Dt<ui&&(nn(Xn[_n++],qa),Z(qa,Et,Dt,_r,Ze,qe),Dt+=_r,qe+=_r),++xt&rr||(at+=Qt)}break;case 3:if(it==Ze&&bt==qe&&0<at.b){for(Dt=Ze,it=Et=qe+(Mt-xt)*Et-(ur=(Mt-xt)*Tt(at.Ea,at.b)),bt=Ze,rr=qe,Qt=[],ur=(_r=ur)-1;0<=ur;--ur)Qt[ur]=bt[rr+ur];for(ur=_r-1;0<=ur;--ur)Dt[it+ur]=Qt[ur];w(at,xt,Mt,Ze,Et,Ze,qe)}else w(at,xt,Mt,it,bt,Ze,qe)}qe=we,Ze=me}Ze!=me&&n(we,me,qe,Ze,Le)}function Ye(z,Y){var me=z.V,we=z.Ba+z.c*z.C,Oe=Y-z.C;if(t(Y<=z.l.o),t(16>=Oe),0<Oe){var Le=z.l,$e=z.Ta,qe=z.Ua,Ze=Le.width;if(ze(z,Oe,me,we),Oe=qe=[qe],t((me=z.C)<(we=Y)),t(Le.v<Le.va),we>Le.o&&(we=Le.o),me<Le.j){var at=Le.j-me;me=Le.j,Oe[0]+=at*Ze}if(me>=we?me=0:(Oe[0]+=4*Le.v,Le.ka=me-Le.j,Le.U=Le.va-Le.v,Le.T=we-me,me=1),me){if(qe=qe[0],11>(me=z.ca).S){var xt=me.f.RGBA,Mt=(we=me.S,Oe=Le.U,Le=Le.T,at=xt.eb,xt.A),it=Le;for(xt=xt.fb+z.Ma*xt.A;0<it--;){var bt=$e,Et=qe,Qt=Oe,Dt=at,rr=xt;switch(we){case eg:oe(bt,Et,Qt,Dt,rr);break;case kc:be(bt,Et,Qt,Dt,rr);break;case hv:be(bt,Et,Qt,Dt,rr),Tc(Dt,rr,0,Qt,1,0);break;case P3:et(bt,Et,Qt,Dt,rr);break;case tg:Gr(bt,Et,Qt,Dt,rr,1);break;case mv:Gr(bt,Et,Qt,Dt,rr,1),Tc(Dt,rr,0,Qt,1,0);break;case sp:Gr(bt,Et,Qt,Dt,rr,0);break;case rg:Gr(bt,Et,Qt,Dt,rr,0),Tc(Dt,rr,1,Qt,1,0);break;case fv:Te(bt,Et,Qt,Dt,rr);break;case qb:Te(bt,Et,Qt,Dt,rr),Wb(Dt,rr,Qt,1,0);break;case Qh:De(bt,Et,Qt,Dt,rr);break;default:t(0)}qe+=Ze,xt+=Mt}z.Ma+=Le}else alert("todo:EmitRescaledRowsYUVA");t(z.Ma<=me.height)}}z.C=Y,t(z.C<=z.i)}function Qe(z){var Y;if(0<z.ua)return 0;for(Y=0;Y<z.Wb;++Y){var me=z.Ya[Y].G,we=z.Ya[Y].H;if(0<me[1][we[1]+0].g||0<me[2][we[2]+0].g||0<me[3][we[3]+0].g)return 0}return 1}function Xe(z,Y,me,we,Oe,Le){if(z.Z!=0){var $e=z.qd,qe=z.rd;for(t(oh[z.Z]!=null);Y<me;++Y)oh[z.Z]($e,qe,we,Oe,we,Oe,Le),$e=we,qe=Oe,Oe+=Le;z.qd=$e,z.rd=qe}}function nt(z,Y){var me=z.l.ma,we=me.Z==0||me.Z==1?z.l.j:z.C;if(we=z.C<we?we:z.C,t(Y<=z.l.o),Y>we){var Oe=z.l.width,Le=me.ca,$e=me.tb+Oe*we,qe=z.V,Ze=z.Ba+z.c*we,at=z.gc;t(z.ab==1),t(at[0].hc==3),P(at[0],we,Y,qe,Ze,Le,$e),Xe(me,we,Y,Le,$e,Oe)}z.C=z.Ma=Y}function yt(z,Y,me,we,Oe,Le,$e){var qe=z.$/we,Ze=z.$%we,at=z.m,xt=z.s,Mt=me+z.$,it=Mt;Oe=me+we*Oe;var bt=me+we*Le,Et=280+xt.ua,Qt=z.Pb?qe:16777216,Dt=0<xt.ua?xt.Wa:null,rr=xt.wc,ur=Mt<bt?Ie(xt,Ze,qe):null;t(z.C<Le),t(bt<=Oe);var _r=!1;e:for(;;){for(;_r||Mt<bt;){var gr=0;if(qe>=Qt){var Xn=Mt-me;t((Qt=z).Pb),Qt.wd=Qt.m,Qt.xd=Xn,0<Qt.s.ua&&wt(Qt.s.Wa,Qt.s.vb),Qt=qe+M3}if(Ze&rr||(ur=Ie(xt,Ze,qe)),t(ur!=null),ur.Qb&&(Y[Mt]=ur.qb,_r=!0),!_r)if(ue(at),ur.jc){gr=at,Xn=Y;var _n=Mt,qa=ur.pd[se(gr)&nl-1];t(ur.jc),256>qa.g?(ge(gr,gr.u+qa.g),Xn[_n]=qa.value,gr=0):(ge(gr,gr.u+qa.g-256),t(256<=qa.value),gr=qa.value),gr==0&&(_r=!0)}else gr=ii(ur.G[0],ur.H[0],at);if(at.h)break;if(_r||256>gr){if(!_r)if(ur.nd)Y[Mt]=(ur.qb|gr<<8)>>>0;else{if(ue(at),_r=ii(ur.G[1],ur.H[1],at),ue(at),Xn=ii(ur.G[2],ur.H[2],at),_n=ii(ur.G[3],ur.H[3],at),at.h)break;Y[Mt]=(_n<<24|_r<<16|gr<<8|Xn)>>>0}if(_r=!1,++Mt,++Ze>=we&&(Ze=0,++qe,$e!=null&&qe<=Le&&!(qe%16)&&$e(z,qe),Dt!=null))for(;it<Mt;)gr=Y[it++],Dt.X[(506832829*gr&4294967295)>>>Dt.Mb]=gr}else if(280>gr){if(gr=Va(gr-256,at),Xn=ii(ur.G[4],ur.H[4],at),ue(at),Xn=yo(we,Xn=Va(Xn,at)),at.h)break;if(Mt-me<Xn||Oe-Mt<gr)break e;for(_n=0;_n<gr;++_n)Y[Mt+_n]=Y[Mt+_n-Xn];for(Mt+=gr,Ze+=gr;Ze>=we;)Ze-=we,++qe,$e!=null&&qe<=Le&&!(qe%16)&&$e(z,qe);if(t(Mt<=Oe),Ze&rr&&(ur=Ie(xt,Ze,qe)),Dt!=null)for(;it<Mt;)gr=Y[it++],Dt.X[(506832829*gr&4294967295)>>>Dt.Mb]=gr}else{if(!(gr<Et))break e;for(_r=gr-280,t(Dt!=null);it<Mt;)gr=Y[it++],Dt.X[(506832829*gr&4294967295)>>>Dt.Mb]=gr;gr=Mt,t(!(_r>>>(Xn=Dt).Xa)),Y[gr]=Xn.X[_r],_r=!0}_r||t(at.h==te(at))}if(z.Pb&&at.h&&Mt<Oe)t(z.m.h),z.a=5,z.m=z.wd,z.$=z.xd,0<z.s.ua&&wt(z.s.vb,z.s.Wa);else{if(at.h)break e;$e!=null&&$e(z,qe>Le?Le:qe),z.a=0,z.$=Mt-me}return 1}return z.a=3,0}function Ot(z){t(z!=null),z.vc=null,z.yc=null,z.Ya=null;var Y=z.Wa;Y!=null&&(Y.X=null),z.vb=null,t(z!=null)}function St(){var z=new ba;return z==null?null:(z.a=0,z.xb=Ou,ti("Predictor","VP8LPredictors"),ti("Predictor","VP8LPredictors_C"),ti("PredictorAdd","VP8LPredictorsAdd"),ti("PredictorAdd","VP8LPredictorsAdd_C"),y=Un,Z=ca,oe=ms,be=Zn,Te=sr,De=ln,et=Fn,U.VP8LMapColor32b=E,U.VP8LMapColor8b=D,z)}function Pt(z,Y,me,we,Oe){var Le=1,$e=[z],qe=[Y],Ze=we.m,at=we.s,xt=null,Mt=0;e:for(;;){if(me)for(;Le&&ye(Ze,1);){var it=$e,bt=qe,Et=we,Qt=1,Dt=Et.m,rr=Et.gc[Et.ab],ur=ye(Dt,2);if(Et.Oc&1<<ur)Le=0;else{switch(Et.Oc|=1<<ur,rr.hc=ur,rr.Ea=it[0],rr.nc=bt[0],rr.K=[null],++Et.ab,t(4>=Et.ab),ur){case 0:case 1:rr.b=ye(Dt,3)+2,Qt=Pt(Tt(rr.Ea,rr.b),Tt(rr.nc,rr.b),0,Et,rr.K),rr.K=rr.K[0];break;case 3:var _r,gr=ye(Dt,8)+1,Xn=16<gr?0:4<gr?1:2<gr?2:3;if(it[0]=Tt(rr.Ea,Xn),rr.b=Xn,_r=Qt=Pt(gr,1,0,Et,rr.K)){var _n,qa=gr,Pn=rr,ui=1<<(8>>Pn.b),Mo=i(ui);if(Mo==null)_r=0;else{var Ba=Pn.K[0],Rn=Pn.w;for(Mo[0]=Pn.K[0][0],_n=1;_n<1*qa;++_n)Mo[_n]=sn(Ba[Rn+_n],Mo[_n-1]);for(;_n<4*ui;++_n)Mo[_n]=0;Pn.K[0]=null,Pn.K[0]=Mo,_r=1}}Qt=_r;break;case 2:break;default:t(0)}Le=Qt}}if($e=$e[0],qe=qe[0],Le&&ye(Ze,1)&&!(Le=1<=(Mt=ye(Ze,4))&&11>=Mt)){we.a=3;break e}var Yr;if(Yr=Le)t:{var Wi,Ua,di,Cs=we,yl=$e,oc=qe,Ls=Mt,Ll=me,Bl=Cs.m,uo=Cs.s,oi=[null],Hi=1,Js=0,rs=R3[Ls];r:for(;;){if(Ll&&ye(Bl,1)){var Ul=ye(Bl,3)+2,id=Tt(yl,Ul),Bs=Tt(oc,Ul),lc=id*Bs;if(!Pt(id,Bs,0,Cs,oi))break r;for(oi=oi[0],uo.xc=Ul,Wi=0;Wi<lc;++Wi){var ns=oi[Wi]>>8&65535;oi[Wi]=ns,ns>=Hi&&(Hi=ns+1)}}if(Bl.h)break r;for(Ua=0;5>Ua;++Ua){var Lo=pv[Ua];!Ua&&0<Ls&&(Lo+=1<<Ls),Js<Lo&&(Js=Lo)}var il=o(Hi*rs,re),cc=Hi,Oc=o(cc,X);if(Oc==null)var uc=null;else t(65536>=cc),uc=Oc;var Ic=i(Js);if(uc==null||Ic==null||il==null){Cs.a=1;break r}var bl=il;for(Wi=di=0;Wi<Hi;++Wi){var qi=uc[Wi],nu=qi.G,sd=qi.H,r0=0,bf=1,wl=0;for(Ua=0;5>Ua;++Ua){Lo=pv[Ua],nu[Ua]=bl,sd[Ua]=di,!Ua&&0<Ls&&(Lo+=1<<Ls);a:{var lg,yv=Lo,bv=Cs,cg=Ic,Y3=bl,QT=di,Jb=0,n0=bv.m,e8=ye(n0,1);if(a(cg,0,0,yv),e8){var t8=ye(n0,1)+1,Qb=ye(n0,1),X3=ye(n0,Qb==0?1:8);cg[X3]=1,t8==2&&(cg[X3=ye(n0,8)]=1);var wv=1}else{var Z3=i(19),J3=ye(n0,4)+4;if(19<J3){bv.a=3;var ug=0;break a}for(lg=0;lg<J3;++lg)Z3[F3[lg]]=ye(n0,3);var ew=void 0,dg=void 0,tw=bv,lh=Z3,_v=yv,Q3=cg,Nv=0,ch=tw.m,eN=8,Sv=o(128,re);n:for(;G(Sv,0,7,lh,19);){if(ye(ch,1)){var rw=2+2*ye(ch,3);if((ew=2+ye(ch,rw))>_v)break n}else ew=_v;for(dg=0;dg<_v&&ew--;){ue(ch);var nw=Sv[0+(127&se(ch))];ge(ch,ch.u+nw.g);var tm=nw.value;if(16>tm)Q3[dg++]=tm,tm!=0&&(eN=tm);else{var tN=tm==16,rm=tm-16,r8=I3[rm],rN=ye(ch,O3[rm])+r8;if(dg+rN>_v)break n;for(var nN=tN?eN:0;0<rN--;)Q3[dg++]=nN}}Nv=1;break n}Nv||(tw.a=3),wv=Nv}(wv=wv&&!n0.h)&&(Jb=G(Y3,QT,8,cg,yv)),wv&&Jb!=0?ug=Jb:(bv.a=3,ug=0)}if(ug==0)break r;if(bf&&Gb[Ua]==1&&(bf=bl[di].g==0),r0+=bl[di].g,di+=ug,3>=Ua){var dp,fp=Ic[0];for(dp=1;dp<Lo;++dp)Ic[dp]>fp&&(fp=Ic[dp]);wl+=fp}}if(qi.nd=bf,qi.Qb=0,bf&&(qi.qb=(nu[3][sd[3]+0].value<<24|nu[1][sd[1]+0].value<<16|nu[2][sd[2]+0].value)>>>0,r0==0&&256>nu[0][sd[0]+0].value&&(qi.Qb=1,qi.qb+=nu[0][sd[0]+0].value<<8)),qi.jc=!qi.Qb&&6>wl,qi.jc){var a0,od=qi;for(a0=0;a0<nl;++a0){var uh=a0,i0=od.pd[uh],Cv=od.G[0][od.H[0]+uh];256<=Cv.value?(i0.g=Cv.g+256,i0.value=Cv.value):(i0.g=0,i0.value=0,uh>>=Zi(Cv,8,i0),uh>>=Zi(od.G[1][od.H[1]+uh],16,i0),uh>>=Zi(od.G[2][od.H[2]+uh],0,i0),Zi(od.G[3][od.H[3]+uh],24,i0))}}}uo.vc=oi,uo.Wb=Hi,uo.Ya=uc,uo.yc=il,Yr=1;break t}Yr=0}if(!(Le=Yr)){we.a=3;break e}if(0<Mt){if(at.ua=1<<Mt,!Me(at.Wa,Mt)){we.a=1,Le=0;break e}}else at.ua=0;var _l=we,hp=$e,fg=qe,mp=_l.s,hg=mp.xc;if(_l.c=hp,_l.i=fg,mp.md=Tt(hp,hg),mp.wc=hg==0?-1:(1<<hg)-1,me){we.xb=Ro;break e}if((xt=i($e*qe))==null){we.a=1,Le=0;break e}Le=(Le=yt(we,xt,0,$e,qe,qe,null))&&!Ze.h;break e}return Le?(Oe!=null?Oe[0]=xt:(t(xt==null),t(me)),we.$=0,me||Ot(at)):Ot(at),Le}function It(z,Y){var me=z.c*z.i,we=me+Y+16*Y;return t(z.c<=Y),z.V=i(we),z.V==null?(z.Ta=null,z.Ua=0,z.a=1,0):(z.Ta=z.V,z.Ua=z.Ba+me+Y,1)}function mr(z,Y){var me=z.C,we=Y-me,Oe=z.V,Le=z.Ba+z.c*me;for(t(Y<=z.l.o);0<we;){var $e=16<we?16:we,qe=z.l.ma,Ze=z.l.width,at=Ze*$e,xt=qe.ca,Mt=qe.tb+Ze*me,it=z.Ta,bt=z.Ua;ze(z,$e,Oe,Le),Q1(it,bt,xt,Mt,at),Xe(qe,me,me+$e,xt,Mt,Ze),we-=$e,Oe+=$e*z.c,me+=$e}t(me==Y),z.C=z.Ma=Y}function br(){this.ub=this.yd=this.td=this.Rb=0}function wr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Tr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Sr(){this.Yb=function(){var z=[];return function Y(me,we,Oe){for(var Le=Oe[we],$e=0;$e<Le&&(me.push(Oe.length>we+1?[]:0),!(Oe.length<we+1));$e++)Y(me[$e],we+1,Oe)}(z,0,[3,11]),z}()}function ua(){this.jb=i(3),this.Wc=l([4,8],Sr),this.Xc=l([4,17],Sr)}function Ut(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function va(){this.ld=this.La=this.dd=this.tc=0}function Ta(){this.Na=this.la=0}function ea(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Cc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wa(){this.uc=this.M=this.Nb=0,this.wa=Array(new va),this.Y=0,this.ya=Array(new Cc),this.aa=0,this.l=new Ts}function Sa(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Tn(){this.cb=this.a=0,this.sc="",this.m=new ee,this.Od=new br,this.Kc=new wr,this.ed=new Ut,this.Qa=new Tr,this.Ic=this.$c=this.Aa=0,this.D=new Wa,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ee),this.ia=0,this.pb=o(4,ea),this.Pa=new ua,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Sa),this.Hd=0,this.rb=Array(new Ta),this.sb=0,this.wa=Array(new va),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Cc),this.L=this.aa=0,this.gd=l([4,2],va),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rs(z,Y){return 0>z?0:z>Y?Y:z}function Ts(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Z0(){var z=new Tn;return z!=null&&(z.a=0,z.sc="OK",z.cb=0,z.Xb=0,op||(op=Ji)),z}function ri(z,Y,me){return z.a==0&&(z.a=Y,z.sc=me,z.cb=0),0}function Wn(z,Y,me){return 3<=me&&z[Y+0]==157&&z[Y+1]==1&&z[Y+2]==42}function bo(z,Y){if(z==null)return 0;if(z.a=0,z.sc="OK",Y==null)return ri(z,2,"null VP8Io passed to VP8GetHeaders()");var me=Y.data,we=Y.w,Oe=Y.ha;if(4>Oe)return ri(z,7,"Truncated header.");var Le=me[we+0]|me[we+1]<<8|me[we+2]<<16,$e=z.Od;if($e.Rb=!(1&Le),$e.td=Le>>1&7,$e.yd=Le>>4&1,$e.ub=Le>>5,3<$e.td)return ri(z,3,"Incorrect keyframe parameters.");if(!$e.yd)return ri(z,4,"Frame not displayable.");we+=3,Oe-=3;var qe=z.Kc;if($e.Rb){if(7>Oe)return ri(z,7,"cannot parse picture header");if(!Wn(me,we,Oe))return ri(z,3,"Bad code word");qe.c=16383&(me[we+4]<<8|me[we+3]),qe.Td=me[we+4]>>6,qe.i=16383&(me[we+6]<<8|me[we+5]),qe.Ud=me[we+6]>>6,we+=7,Oe-=7,z.za=qe.c+15>>4,z.Ub=qe.i+15>>4,Y.width=qe.c,Y.height=qe.i,Y.Da=0,Y.j=0,Y.v=0,Y.va=Y.width,Y.o=Y.height,Y.da=0,Y.ib=Y.width,Y.hb=Y.height,Y.U=Y.width,Y.T=Y.height,a((Le=z.Pa).jb,0,255,Le.jb.length),t((Le=z.Qa)!=null),Le.Cb=0,Le.Bb=0,Le.Fb=1,a(Le.Zb,0,0,Le.Zb.length),a(Le.Lb,0,0,Le.Lb)}if($e.ub>Oe)return ri(z,7,"bad partition length");ne(Le=z.m,me,we,$e.ub),we+=$e.ub,Oe-=$e.ub,$e.Rb&&(qe.Ld=Ne(Le),qe.Kd=Ne(Le)),qe=z.Qa;var Ze,at=z.Pa;if(t(Le!=null),t(qe!=null),qe.Cb=Ne(Le),qe.Cb){if(qe.Bb=Ne(Le),Ne(Le)){for(qe.Fb=Ne(Le),Ze=0;4>Ze;++Ze)qe.Zb[Ze]=Ne(Le)?le(Le,7):0;for(Ze=0;4>Ze;++Ze)qe.Lb[Ze]=Ne(Le)?le(Le,6):0}if(qe.Bb)for(Ze=0;3>Ze;++Ze)at.jb[Ze]=Ne(Le)?de(Le,8):255}else qe.Bb=0;if(Le.Ka)return ri(z,3,"cannot parse segment header");if((qe=z.ed).zd=Ne(Le),qe.Tb=de(Le,6),qe.wb=de(Le,3),qe.Pc=Ne(Le),qe.Pc&&Ne(Le)){for(at=0;4>at;++at)Ne(Le)&&(qe.vd[at]=le(Le,6));for(at=0;4>at;++at)Ne(Le)&&(qe.od[at]=le(Le,6))}if(z.L=qe.Tb==0?0:qe.zd?1:2,Le.Ka)return ri(z,3,"cannot parse filter header");var xt=Oe;if(Oe=Ze=we,we=Ze+xt,qe=xt,z.Xb=(1<<de(z.m,2))-1,xt<3*(at=z.Xb))me=7;else{for(Ze+=3*at,qe-=3*at,xt=0;xt<at;++xt){var Mt=me[Oe+0]|me[Oe+1]<<8|me[Oe+2]<<16;Mt>qe&&(Mt=qe),ne(z.Jc[+xt],me,Ze,Mt),Ze+=Mt,qe-=Mt,Oe+=3}ne(z.Jc[+at],me,Ze,qe),me=Ze<we?0:5}if(me!=0)return ri(z,me,"cannot parse partitions");for(me=de(Ze=z.m,7),Oe=Ne(Ze)?le(Ze,4):0,we=Ne(Ze)?le(Ze,4):0,qe=Ne(Ze)?le(Ze,4):0,at=Ne(Ze)?le(Ze,4):0,Ze=Ne(Ze)?le(Ze,4):0,xt=z.Qa,Mt=0;4>Mt;++Mt){if(xt.Cb){var it=xt.Zb[Mt];xt.Fb||(it+=me)}else{if(0<Mt){z.pb[Mt]=z.pb[0];continue}it=me}var bt=z.pb[Mt];bt.Sc[0]=Kb[Rs(it+Oe,127)],bt.Sc[1]=gv[Rs(it+0,127)],bt.Eb[0]=2*Kb[Rs(it+we,127)],bt.Eb[1]=101581*gv[Rs(it+qe,127)]>>16,8>bt.Eb[1]&&(bt.Eb[1]=8),bt.Qc[0]=Kb[Rs(it+at,117)],bt.Qc[1]=gv[Rs(it+Ze,127)],bt.lc=it+Ze}if(!$e.Rb)return ri(z,4,"Not a key frame.");for(Ne(Le),$e=z.Pa,me=0;4>me;++me){for(Oe=0;8>Oe;++Oe)for(we=0;3>we;++we)for(qe=0;11>qe;++qe)at=Ee(Le,$3[me][Oe][we][qe])?de(Le,8):B3[me][Oe][we][qe],$e.Wc[me][Oe].Yb[we][qe]=at;for(Oe=0;17>Oe;++Oe)$e.Xc[me][Oe]=$e.Wc[me][z3[Oe]]}return z.kc=Ne(Le),z.kc&&(z.Bd=de(Le,8)),z.cb=1}function Ji(z,Y,me,we,Oe,Le,$e){var qe=Y[Oe].Yb[me];for(me=0;16>Oe;++Oe){if(!Ee(z,qe[me+0]))return Oe;for(;!Ee(z,qe[me+1]);)if(qe=Y[++Oe].Yb[0],me=0,Oe==16)return 16;var Ze=Y[Oe+1].Yb;if(Ee(z,qe[me+2])){var at=z,xt=0;if(Ee(at,(it=qe)[(Mt=me)+3]))if(Ee(at,it[Mt+6])){for(qe=0,Mt=2*(xt=Ee(at,it[Mt+8]))+(it=Ee(at,it[Mt+9+xt])),xt=0,it=xv[Mt];it[qe];++qe)xt+=xt+Ee(at,it[qe]);xt+=3+(8<<Mt)}else Ee(at,it[Mt+7])?(xt=7+2*Ee(at,165),xt+=Ee(at,145)):xt=5+Ee(at,159);else xt=Ee(at,it[Mt+4])?3+Ee(at,it[Mt+5]):2;qe=Ze[2]}else xt=1,qe=Ze[1];Ze=$e+L3[Oe],0>(at=z).b&&Ce(at);var Mt,it=at.b,bt=(Mt=at.Ca>>1)-(at.I>>it)>>31;--at.b,at.Ca+=bt,at.Ca|=1,at.I-=(Mt+1&bt)<<it,Le[Ze]=((xt^bt)-bt)*we[(0<Oe)+0]}return 16}function Qc(z){var Y=z.rb[z.sb-1];Y.la=0,Y.Na=0,a(z.zc,0,0,z.zc.length),z.ja=0}function Ac(z,Y,me,we,Oe){Oe=z[Y+me+32*we]+(Oe>>3),z[Y+me+32*we]=-256&Oe?0>Oe?0:255:Oe}function ds(z,Y,me,we,Oe,Le){Ac(z,Y,0,me,we+Oe),Ac(z,Y,1,me,we+Le),Ac(z,Y,2,me,we-Le),Ac(z,Y,3,me,we-Oe)}function vn(z){return(20091*z>>16)+z}function Ks(z,Y,me,we){var Oe,Le=0,$e=i(16);for(Oe=0;4>Oe;++Oe){var qe=z[Y+0]+z[Y+8],Ze=z[Y+0]-z[Y+8],at=(35468*z[Y+4]>>16)-vn(z[Y+12]),xt=vn(z[Y+4])+(35468*z[Y+12]>>16);$e[Le+0]=qe+xt,$e[Le+1]=Ze+at,$e[Le+2]=Ze-at,$e[Le+3]=qe-xt,Le+=4,Y++}for(Oe=Le=0;4>Oe;++Oe)qe=(z=$e[Le+0]+4)+$e[Le+8],Ze=z-$e[Le+8],at=(35468*$e[Le+4]>>16)-vn($e[Le+12]),Ac(me,we,0,0,qe+(xt=vn($e[Le+4])+(35468*$e[Le+12]>>16))),Ac(me,we,1,0,Ze+at),Ac(me,we,2,0,Ze-at),Ac(me,we,3,0,qe-xt),Le++,we+=32}function kt(z,Y,me,we){var Oe=z[Y+0]+4,Le=35468*z[Y+4]>>16,$e=vn(z[Y+4]),qe=35468*z[Y+1]>>16;ds(me,we,0,Oe+$e,z=vn(z[Y+1]),qe),ds(me,we,1,Oe+Le,z,qe),ds(me,we,2,Oe-Le,z,qe),ds(me,we,3,Oe-$e,z,qe)}function Ke(z,Y,me,we,Oe){Ks(z,Y,me,we),Oe&&Ks(z,Y+16,me,we+4)}function yn(z,Y,me,we){pt(z,Y+0,me,we,1),pt(z,Y+32,me,we+128,1)}function Ms(z,Y,me,we){var Oe;for(z=z[Y+0]+4,Oe=0;4>Oe;++Oe)for(Y=0;4>Y;++Y)Ac(me,we,Y,Oe,z)}function tl(z,Y,me,we){z[Y+0]&&Gt(z,Y+0,me,we),z[Y+16]&&Gt(z,Y+16,me,we+4),z[Y+32]&&Gt(z,Y+32,me,we+128),z[Y+48]&&Gt(z,Y+48,me,we+128+4)}function eh(z,Y,me,we){var Oe,Le=i(16);for(Oe=0;4>Oe;++Oe){var $e=z[Y+0+Oe]+z[Y+12+Oe],qe=z[Y+4+Oe]+z[Y+8+Oe],Ze=z[Y+4+Oe]-z[Y+8+Oe],at=z[Y+0+Oe]-z[Y+12+Oe];Le[0+Oe]=$e+qe,Le[8+Oe]=$e-qe,Le[4+Oe]=at+Ze,Le[12+Oe]=at-Ze}for(Oe=0;4>Oe;++Oe)$e=(z=Le[0+4*Oe]+3)+Le[3+4*Oe],qe=Le[1+4*Oe]+Le[2+4*Oe],Ze=Le[1+4*Oe]-Le[2+4*Oe],at=z-Le[3+4*Oe],me[we+0]=$e+qe>>3,me[we+16]=at+Ze>>3,me[we+32]=$e-qe>>3,me[we+48]=at-Ze>>3,we+=64}function nd(z,Y,me){var we,Oe=Y-32,Le=ku,$e=255-z[Oe-1];for(we=0;we<me;++we){var qe,Ze=Le,at=$e+z[Y-1];for(qe=0;qe<me;++qe)z[Y+qe]=Ze[at+z[Oe+qe]];Y+=32}}function nc(z,Y){nd(z,Y,4)}function Jr(z,Y){nd(z,Y,8)}function Qi(z,Y){nd(z,Y,16)}function th(z,Y){var me;for(me=0;16>me;++me)n(z,Y+32*me,z,Y-32,16)}function J0(z,Y){var me;for(me=16;0<me;--me)a(z,Y,z[Y-1],16),Y+=32}function Dl(z,Y,me){var we;for(we=0;16>we;++we)a(Y,me+32*we,z,16)}function Pd(z,Y){var me,we=16;for(me=0;16>me;++me)we+=z[Y-1+32*me]+z[Y+me-32];Dl(we>>5,z,Y)}function eu(z,Y){var me,we=8;for(me=0;16>me;++me)we+=z[Y-1+32*me];Dl(we>>4,z,Y)}function wi(z,Y){var me,we=8;for(me=0;16>me;++me)we+=z[Y+me-32];Dl(we>>4,z,Y)}function Ri(z,Y){Dl(128,z,Y)}function sa(z,Y,me){return z+2*Y+me+2>>2}function Au(z,Y){var me,we=Y-32;for(we=new Uint8Array([sa(z[we-1],z[we+0],z[we+1]),sa(z[we+0],z[we+1],z[we+2]),sa(z[we+1],z[we+2],z[we+3]),sa(z[we+2],z[we+3],z[we+4])]),me=0;4>me;++me)n(z,Y+32*me,we,0,we.length)}function fa(z,Y){var me=z[Y-1],we=z[Y-1+32],Oe=z[Y-1+64],Le=z[Y-1+96];Ge(z,Y+0,16843009*sa(z[Y-1-32],me,we)),Ge(z,Y+32,16843009*sa(me,we,Oe)),Ge(z,Y+64,16843009*sa(we,Oe,Le)),Ge(z,Y+96,16843009*sa(Oe,Le,Le))}function J1(z,Y){var me,we=4;for(me=0;4>me;++me)we+=z[Y+me-32]+z[Y-1+32*me];for(we>>=3,me=0;4>me;++me)a(z,Y+32*me,we,4)}function ya(z,Y){var me=z[Y-1+0],we=z[Y-1+32],Oe=z[Y-1+64],Le=z[Y-1-32],$e=z[Y+0-32],qe=z[Y+1-32],Ze=z[Y+2-32],at=z[Y+3-32];z[Y+0+96]=sa(we,Oe,z[Y-1+96]),z[Y+1+96]=z[Y+0+64]=sa(me,we,Oe),z[Y+2+96]=z[Y+1+64]=z[Y+0+32]=sa(Le,me,we),z[Y+3+96]=z[Y+2+64]=z[Y+1+32]=z[Y+0+0]=sa($e,Le,me),z[Y+3+64]=z[Y+2+32]=z[Y+1+0]=sa(qe,$e,Le),z[Y+3+32]=z[Y+2+0]=sa(Ze,qe,$e),z[Y+3+0]=sa(at,Ze,qe)}function fs(z,Y){var me=z[Y+1-32],we=z[Y+2-32],Oe=z[Y+3-32],Le=z[Y+4-32],$e=z[Y+5-32],qe=z[Y+6-32],Ze=z[Y+7-32];z[Y+0+0]=sa(z[Y+0-32],me,we),z[Y+1+0]=z[Y+0+32]=sa(me,we,Oe),z[Y+2+0]=z[Y+1+32]=z[Y+0+64]=sa(we,Oe,Le),z[Y+3+0]=z[Y+2+32]=z[Y+1+64]=z[Y+0+96]=sa(Oe,Le,$e),z[Y+3+32]=z[Y+2+64]=z[Y+1+96]=sa(Le,$e,qe),z[Y+3+64]=z[Y+2+96]=sa($e,qe,Ze),z[Y+3+96]=sa(qe,Ze,Ze)}function np(z,Y){var me=z[Y-1+0],we=z[Y-1+32],Oe=z[Y-1+64],Le=z[Y-1-32],$e=z[Y+0-32],qe=z[Y+1-32],Ze=z[Y+2-32],at=z[Y+3-32];z[Y+0+0]=z[Y+1+64]=Le+$e+1>>1,z[Y+1+0]=z[Y+2+64]=$e+qe+1>>1,z[Y+2+0]=z[Y+3+64]=qe+Ze+1>>1,z[Y+3+0]=Ze+at+1>>1,z[Y+0+96]=sa(Oe,we,me),z[Y+0+64]=sa(we,me,Le),z[Y+0+32]=z[Y+1+96]=sa(me,Le,$e),z[Y+1+32]=z[Y+2+96]=sa(Le,$e,qe),z[Y+2+32]=z[Y+3+96]=sa($e,qe,Ze),z[Y+3+32]=sa(qe,Ze,at)}function Ys(z,Y){var me=z[Y+0-32],we=z[Y+1-32],Oe=z[Y+2-32],Le=z[Y+3-32],$e=z[Y+4-32],qe=z[Y+5-32],Ze=z[Y+6-32],at=z[Y+7-32];z[Y+0+0]=me+we+1>>1,z[Y+1+0]=z[Y+0+64]=we+Oe+1>>1,z[Y+2+0]=z[Y+1+64]=Oe+Le+1>>1,z[Y+3+0]=z[Y+2+64]=Le+$e+1>>1,z[Y+0+32]=sa(me,we,Oe),z[Y+1+32]=z[Y+0+96]=sa(we,Oe,Le),z[Y+2+32]=z[Y+1+96]=sa(Oe,Le,$e),z[Y+3+32]=z[Y+2+96]=sa(Le,$e,qe),z[Y+3+64]=sa($e,qe,Ze),z[Y+3+96]=sa(qe,Ze,at)}function Eu(z,Y){var me=z[Y-1+0],we=z[Y-1+32],Oe=z[Y-1+64],Le=z[Y-1+96];z[Y+0+0]=me+we+1>>1,z[Y+2+0]=z[Y+0+32]=we+Oe+1>>1,z[Y+2+32]=z[Y+0+64]=Oe+Le+1>>1,z[Y+1+0]=sa(me,we,Oe),z[Y+3+0]=z[Y+1+32]=sa(we,Oe,Le),z[Y+3+32]=z[Y+1+64]=sa(Oe,Le,Le),z[Y+3+64]=z[Y+2+64]=z[Y+0+96]=z[Y+1+96]=z[Y+2+96]=z[Y+3+96]=Le}function Er(z,Y){var me=z[Y-1+0],we=z[Y-1+32],Oe=z[Y-1+64],Le=z[Y-1+96],$e=z[Y-1-32],qe=z[Y+0-32],Ze=z[Y+1-32],at=z[Y+2-32];z[Y+0+0]=z[Y+2+32]=me+$e+1>>1,z[Y+0+32]=z[Y+2+64]=we+me+1>>1,z[Y+0+64]=z[Y+2+96]=Oe+we+1>>1,z[Y+0+96]=Le+Oe+1>>1,z[Y+3+0]=sa(qe,Ze,at),z[Y+2+0]=sa($e,qe,Ze),z[Y+1+0]=z[Y+3+32]=sa(me,$e,qe),z[Y+1+32]=z[Y+3+64]=sa(we,me,$e),z[Y+1+64]=z[Y+3+96]=sa(Oe,we,me),z[Y+1+96]=sa(Le,Oe,we)}function Od(z,Y){var me;for(me=0;8>me;++me)n(z,Y+32*me,z,Y-32,8)}function Id(z,Y){var me;for(me=0;8>me;++me)a(z,Y,z[Y-1],8),Y+=32}function rl(z,Y,me){var we;for(we=0;8>we;++we)a(Y,me+32*we,z,8)}function ps(z,Y){var me,we=8;for(me=0;8>me;++me)we+=z[Y+me-32]+z[Y-1+32*me];rl(we>>4,z,Y)}function tu(z,Y){var me,we=4;for(me=0;8>me;++me)we+=z[Y+me-32];rl(we>>3,z,Y)}function Xs(z,Y){var me,we=4;for(me=0;8>me;++me)we+=z[Y-1+32*me];rl(we>>3,z,Y)}function Fd(z,Y){rl(128,z,Y)}function ks(z,Y,me){var we=z[Y-me],Oe=z[Y+0],Le=3*(Oe-we)+Jh[1020+z[Y-2*me]-z[Y+me]],$e=Ii[112+(Le+4>>3)];z[Y-me]=ku[255+we+Ii[112+(Le+3>>3)]],z[Y+0]=ku[255+Oe-$e]}function rh(z,Y,me,we){var Oe=z[Y+0],Le=z[Y+me];return Pu[255+z[Y-2*me]-z[Y-me]]>we||Pu[255+Le-Oe]>we}function gf(z,Y,me,we){return 4*Pu[255+z[Y-me]-z[Y+0]]+Pu[255+z[Y-2*me]-z[Y+me]]<=we}function nh(z,Y,me,we,Oe){var Le=z[Y-3*me],$e=z[Y-2*me],qe=z[Y-me],Ze=z[Y+0],at=z[Y+me],xt=z[Y+2*me],Mt=z[Y+3*me];return 4*Pu[255+qe-Ze]+Pu[255+$e-at]>we?0:Pu[255+z[Y-4*me]-Le]<=Oe&&Pu[255+Le-$e]<=Oe&&Pu[255+$e-qe]<=Oe&&Pu[255+Mt-xt]<=Oe&&Pu[255+xt-at]<=Oe&&Pu[255+at-Ze]<=Oe}function xf(z,Y,me,we){var Oe=2*we+1;for(we=0;16>we;++we)gf(z,Y+we,me,Oe)&&ks(z,Y+we,me)}function Xh(z,Y,me,we){var Oe=2*we+1;for(we=0;16>we;++we)gf(z,Y+we*me,1,Oe)&&ks(z,Y+we*me,1)}function Q0(z,Y,me,we){var Oe;for(Oe=3;0<Oe;--Oe)xf(z,Y+=4*me,me,we)}function _i(z,Y,me,we){var Oe;for(Oe=3;0<Oe;--Oe)Xh(z,Y+=4,me,we)}function ju(z,Y,me,we,Oe,Le,$e,qe){for(Le=2*Le+1;0<Oe--;){if(nh(z,Y,me,Le,$e))if(rh(z,Y,me,qe))ks(z,Y,me);else{var Ze=z,at=Y,xt=me,Mt=Ze[at-2*xt],it=Ze[at-xt],bt=Ze[at+0],Et=Ze[at+xt],Qt=Ze[at+2*xt],Dt=27*(ur=Jh[1020+3*(bt-it)+Jh[1020+Mt-Et]])+63>>7,rr=18*ur+63>>7,ur=9*ur+63>>7;Ze[at-3*xt]=ku[255+Ze[at-3*xt]+ur],Ze[at-2*xt]=ku[255+Mt+rr],Ze[at-xt]=ku[255+it+Dt],Ze[at+0]=ku[255+bt-Dt],Ze[at+xt]=ku[255+Et-rr],Ze[at+2*xt]=ku[255+Qt-ur]}Y+=we}}function Ec(z,Y,me,we,Oe,Le,$e,qe){for(Le=2*Le+1;0<Oe--;){if(nh(z,Y,me,Le,$e))if(rh(z,Y,me,qe))ks(z,Y,me);else{var Ze=z,at=Y,xt=me,Mt=Ze[at-xt],it=Ze[at+0],bt=Ze[at+xt],Et=Ii[112+(4+(Qt=3*(it-Mt))>>3)],Qt=Ii[112+(Qt+3>>3)],Dt=Et+1>>1;Ze[at-2*xt]=ku[255+Ze[at-2*xt]+Dt],Ze[at-xt]=ku[255+Mt+Qt],Ze[at+0]=ku[255+it-Et],Ze[at+xt]=ku[255+bt-Dt]}Y+=we}}function ac(z,Y,me,we,Oe,Le){ju(z,Y,me,1,16,we,Oe,Le)}function vf(z,Y,me,we,Oe,Le){ju(z,Y,1,me,16,we,Oe,Le)}function $t(z,Y,me,we,Oe,Le){var $e;for($e=3;0<$e;--$e)Ec(z,Y+=4*me,me,1,16,we,Oe,Le)}function ie(z,Y,me,we,Oe,Le){var $e;for($e=3;0<$e;--$e)Ec(z,Y+=4,1,me,16,we,Oe,Le)}function Pe(z,Y,me,we,Oe,Le,$e,qe){ju(z,Y,Oe,1,8,Le,$e,qe),ju(me,we,Oe,1,8,Le,$e,qe)}function rt(z,Y,me,we,Oe,Le,$e,qe){ju(z,Y,1,Oe,8,Le,$e,qe),ju(me,we,1,Oe,8,Le,$e,qe)}function ft(z,Y,me,we,Oe,Le,$e,qe){Ec(z,Y+4*Oe,Oe,1,8,Le,$e,qe),Ec(me,we+4*Oe,Oe,1,8,Le,$e,qe)}function Ct(z,Y,me,we,Oe,Le,$e,qe){Ec(z,Y+4,1,Oe,8,Le,$e,qe),Ec(me,we+4,1,Oe,8,Le,$e,qe)}function tr(){this.ba=new ia,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ir,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function dn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ur(){this.ua=0,this.Wa=new _t,this.vb=new _t,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new re}function ba(){this.xb=this.a=0,this.l=new Ts,this.ca=new ia,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new he,this.Pb=0,this.wd=new he,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ur,this.ab=0,this.gc=o(4,dn),this.Oc=0}function Kr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ts,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ma(z,Y,me,we,Oe,Le,$e){for(z=z==null?0:z[Y+0],Y=0;Y<$e;++Y)Oe[Le+Y]=z+me[we+Y]&255,z=Oe[Le+Y]}function Mi(z,Y,me,we,Oe,Le,$e){var qe;if(z==null)Ma(null,null,me,we,Oe,Le,$e);else for(qe=0;qe<$e;++qe)Oe[Le+qe]=z[Y+qe]+me[we+qe]&255}function ma(z,Y,me,we,Oe,Le,$e){if(z==null)Ma(null,null,me,we,Oe,Le,$e);else{var qe,Ze=z[Y+0],at=Ze,xt=Ze;for(qe=0;qe<$e;++qe)at=xt+(Ze=z[Y+qe])-at,xt=me[we+qe]+(-256&at?0>at?0:255:at)&255,at=Ze,Oe[Le+qe]=xt}}function an(z,Y,me,we){var Oe=Y.width,Le=Y.o;if(t(z!=null&&Y!=null),0>me||0>=we||me+we>Le)return null;if(!z.Cc){if(z.ga==null){var $e;if(z.ga=new Kr,($e=z.ga==null)||($e=Y.width*Y.o,t(z.Gb.length==0),z.Gb=i($e),z.Uc=0,z.Gb==null?$e=0:(z.mb=z.Gb,z.nb=z.Uc,z.rc=null,$e=1),$e=!$e),!$e){$e=z.ga;var qe=z.Fa,Ze=z.P,at=z.qc,xt=z.mb,Mt=z.nb,it=Ze+1,bt=at-1,Et=$e.l;if(t(qe!=null&&xt!=null&&Y!=null),oh[0]=null,oh[1]=Ma,oh[2]=Mi,oh[3]=ma,$e.ca=xt,$e.tb=Mt,$e.c=Y.width,$e.i=Y.height,t(0<$e.c&&0<$e.i),1>=at)Y=0;else if($e.$a=3&qe[Ze+0],$e.Z=qe[Ze+0]>>2&3,$e.Lc=qe[Ze+0]>>4&3,Ze=qe[Ze+0]>>6&3,0>$e.$a||1<$e.$a||4<=$e.Z||1<$e.Lc||Ze)Y=0;else if(Et.put=Vn,Et.ac=Io,Et.bc=js,Et.ma=$e,Et.width=Y.width,Et.height=Y.height,Et.Da=Y.Da,Et.v=Y.v,Et.va=Y.va,Et.j=Y.j,Et.o=Y.o,$e.$a)e:{t($e.$a==1),Y=St();t:for(;;){if(Y==null){Y=0;break e}if(t($e!=null),$e.mc=Y,Y.c=$e.c,Y.i=$e.i,Y.l=$e.l,Y.l.ma=$e,Y.l.width=$e.c,Y.l.height=$e.i,Y.a=0,xe(Y.m,qe,it,bt),!Pt($e.c,$e.i,1,Y,null)||(Y.ab==1&&Y.gc[0].hc==3&&Qe(Y.s)?($e.ic=1,qe=Y.c*Y.i,Y.Ta=null,Y.Ua=0,Y.V=i(qe),Y.Ba=0,Y.V==null?(Y.a=1,Y=0):Y=1):($e.ic=0,Y=It(Y,$e.c)),!Y))break t;Y=1;break e}$e.mc=null,Y=0}else Y=bt>=$e.c*$e.i;$e=!Y}if($e)return null;z.ga.Lc!=1?z.Ga=0:we=Le-me}t(z.ga!=null),t(me+we<=Le);e:{if(Y=(qe=z.ga).c,Le=qe.l.o,qe.$a==0){if(it=z.rc,bt=z.Vc,Et=z.Fa,Ze=z.P+1+me*Y,at=z.mb,xt=z.nb+me*Y,t(Ze<=z.P+z.qc),qe.Z!=0)for(t(oh[qe.Z]!=null),$e=0;$e<we;++$e)oh[qe.Z](it,bt,Et,Ze,at,xt,Y),it=at,bt=xt,xt+=Y,Ze+=Y;else for($e=0;$e<we;++$e)n(at,xt,Et,Ze,Y),it=at,bt=xt,xt+=Y,Ze+=Y;z.rc=it,z.Vc=bt}else{if(t(qe.mc!=null),Y=me+we,t(($e=qe.mc)!=null),t(Y<=$e.i),$e.C>=Y)Y=1;else if(qe.ic||es(),qe.ic){qe=$e.V,it=$e.Ba,bt=$e.c;var Qt=$e.i,Dt=(Et=1,Ze=$e.$/bt,at=$e.$%bt,xt=$e.m,Mt=$e.s,$e.$),rr=bt*Qt,ur=bt*Y,_r=Mt.wc,gr=Dt<ur?Ie(Mt,at,Ze):null;t(Dt<=rr),t(Y<=Qt),t(Qe(Mt));t:for(;;){for(;!xt.h&&Dt<ur;){if(at&_r||(gr=Ie(Mt,at,Ze)),t(gr!=null),ue(xt),256>(Qt=ii(gr.G[0],gr.H[0],xt)))qe[it+Dt]=Qt,++Dt,++at>=bt&&(at=0,++Ze<=Y&&!(Ze%16)&&nt($e,Ze));else{if(!(280>Qt)){Et=0;break t}Qt=Va(Qt-256,xt);var Xn,_n=ii(gr.G[4],gr.H[4],xt);if(ue(xt),!(Dt>=(_n=yo(bt,_n=Va(_n,xt)))&&rr-Dt>=Qt)){Et=0;break t}for(Xn=0;Xn<Qt;++Xn)qe[it+Dt+Xn]=qe[it+Dt+Xn-_n];for(Dt+=Qt,at+=Qt;at>=bt;)at-=bt,++Ze<=Y&&!(Ze%16)&&nt($e,Ze);Dt<ur&&at&_r&&(gr=Ie(Mt,at,Ze))}t(xt.h==te(xt))}nt($e,Ze>Y?Y:Ze);break t}!Et||xt.h&&Dt<rr?(Et=0,$e.a=xt.h?5:3):$e.$=Dt,Y=Et}else Y=yt($e,$e.V,$e.Ba,$e.c,$e.i,Y,mr);if(!Y){we=0;break e}}me+we>=Le&&(z.Cc=1),we=1}if(!we)return null;if(z.Cc&&((we=z.ga)!=null&&(we.mc=null),z.ga=null,0<z.Ga))return alert("todo:WebPDequantizeLevels"),null}return z.nb+me*Oe}function wo(z,Y,me,we,Oe,Le){for(;0<Oe--;){var $e,qe=z,Ze=Y+(me?1:0),at=z,xt=Y+(me?0:3);for($e=0;$e<we;++$e){var Mt=at[xt+4*$e];Mt!=255&&(Mt*=32897,qe[Ze+4*$e+0]=qe[Ze+4*$e+0]*Mt>>23,qe[Ze+4*$e+1]=qe[Ze+4*$e+1]*Mt>>23,qe[Ze+4*$e+2]=qe[Ze+4*$e+2]*Mt>>23)}Y+=Le}}function ka(z,Y,me,we,Oe){for(;0<we--;){var Le;for(Le=0;Le<me;++Le){var $e=z[Y+2*Le+0],qe=15&(at=z[Y+2*Le+1]),Ze=4369*qe,at=(240&at|at>>4)*Ze>>16;z[Y+2*Le+0]=(240&$e|$e>>4)*Ze>>16&240|(15&$e|$e<<4)*Ze>>16>>4&15,z[Y+2*Le+1]=240&at|qe}Y+=Oe}}function Ps(z,Y,me,we,Oe,Le,$e,qe){var Ze,at,xt=255;for(at=0;at<Oe;++at){for(Ze=0;Ze<we;++Ze){var Mt=z[Y+Ze];Le[$e+4*Ze]=Mt,xt&=Mt}Y+=me,$e+=qe}return xt!=255}function Rl(z,Y,me,we,Oe){var Le;for(Le=0;Le<Oe;++Le)me[we+Le]=z[Y+Le]>>8}function es(){Tc=wo,Wb=ka,uv=Ps,Q1=Rl}function gi(z,Y,me){U[z]=function(we,Oe,Le,$e,qe,Ze,at,xt,Mt,it,bt,Et,Qt,Dt,rr,ur,_r){var gr,Xn=_r-1>>1,_n=qe[Ze+0]|at[xt+0]<<16,qa=Mt[it+0]|bt[Et+0]<<16;t(we!=null);var Pn=3*_n+qa+131074>>2;for(Y(we[Oe+0],255&Pn,Pn>>16,Qt,Dt),Le!=null&&(Pn=3*qa+_n+131074>>2,Y(Le[$e+0],255&Pn,Pn>>16,rr,ur)),gr=1;gr<=Xn;++gr){var ui=qe[Ze+gr]|at[xt+gr]<<16,Mo=Mt[it+gr]|bt[Et+gr]<<16,Ba=_n+ui+qa+Mo+524296,Rn=Ba+2*(ui+qa)>>3;Pn=Rn+_n>>1,_n=(Ba=Ba+2*(_n+Mo)>>3)+ui>>1,Y(we[Oe+2*gr-1],255&Pn,Pn>>16,Qt,Dt+(2*gr-1)*me),Y(we[Oe+2*gr-0],255&_n,_n>>16,Qt,Dt+(2*gr-0)*me),Le!=null&&(Pn=Ba+qa>>1,_n=Rn+Mo>>1,Y(Le[$e+2*gr-1],255&Pn,Pn>>16,rr,ur+(2*gr-1)*me),Y(Le[$e+2*gr+0],255&_n,_n>>16,rr,ur+(2*gr+0)*me)),_n=ui,qa=Mo}1&_r||(Pn=3*_n+qa+131074>>2,Y(we[Oe+_r-1],255&Pn,Pn>>16,Qt,Dt+(_r-1)*me),Le!=null&&(Pn=3*qa+_n+131074>>2,Y(Le[$e+_r-1],255&Pn,Pn>>16,rr,ur+(_r-1)*me)))}}function Kt(){Iu[eg]=ng,Iu[kc]=lp,Iu[P3]=em,Iu[tg]=e0,Iu[sp]=Xb,Iu[fv]=V3,Iu[Qh]=vv,Iu[hv]=lp,Iu[mv]=e0,Iu[rg]=Xb,Iu[qb]=V3}function Ml(z){return z&~W3?0>z?0:255:z>>t0}function Os(z,Y){return Ml((19077*z>>8)+(26149*Y>>8)-14234)}function hr(z,Y,me){return Ml((19077*z>>8)-(6419*Y>>8)-(13320*me>>8)+8708)}function ru(z,Y){return Ml((19077*z>>8)+(33050*Y>>8)-17685)}function Dd(z,Y,me,we,Oe){we[Oe+0]=Os(z,me),we[Oe+1]=hr(z,Y,me),we[Oe+2]=ru(z,Y)}function hs(z,Y,me,we,Oe){we[Oe+0]=ru(z,Y),we[Oe+1]=hr(z,Y,me),we[Oe+2]=Os(z,me)}function Tu(z,Y,me,we,Oe){var Le=hr(z,Y,me);Y=Le<<3&224|ru(z,Y)>>3,we[Oe+0]=248&Os(z,me)|Le>>5,we[Oe+1]=Y}function Rd(z,Y,me,we,Oe){var Le=240&ru(z,Y)|15;we[Oe+0]=240&Os(z,me)|hr(z,Y,me)>>4,we[Oe+1]=Le}function Oi(z,Y,me,we,Oe){we[Oe+0]=255,Dd(z,Y,me,we,Oe+1)}function ah(z,Y,me,we,Oe){hs(z,Y,me,we,Oe),we[Oe+3]=255}function Ca(z,Y,me,we,Oe){Dd(z,Y,me,we,Oe),we[Oe+3]=255}function ci(z,Y,me){U[z]=function(we,Oe,Le,$e,qe,Ze,at,xt,Mt){for(var it=xt+(-2&Mt)*me;xt!=it;)Y(we[Oe+0],Le[$e+0],qe[Ze+0],at,xt),Y(we[Oe+1],Le[$e+0],qe[Ze+0],at,xt+me),Oe+=2,++$e,++Ze,xt+=2*me;1&Mt&&Y(we[Oe+0],Le[$e+0],qe[Ze+0],at,xt)}}function wn(z,Y,me){return me==0?z==0?Y==0?6:5:Y==0?4:0:me}function _o(z,Y,me,we,Oe){switch(z>>>30){case 3:pt(Y,me,we,Oe,0);break;case 2:Nt(Y,me,we,Oe);break;case 1:Gt(Y,me,we,Oe)}}function kn(z,Y){var me,we,Oe=Y.M,Le=Y.Nb,$e=z.oc,qe=z.pc+40,Ze=z.oc,at=z.pc+584,xt=z.oc,Mt=z.pc+600;for(me=0;16>me;++me)$e[qe+32*me-1]=129;for(me=0;8>me;++me)Ze[at+32*me-1]=129,xt[Mt+32*me-1]=129;for(0<Oe?$e[qe-1-32]=Ze[at-1-32]=xt[Mt-1-32]=129:(a($e,qe-32-1,127,21),a(Ze,at-32-1,127,9),a(xt,Mt-32-1,127,9)),we=0;we<z.za;++we){var it=Y.ya[Y.aa+we];if(0<we){for(me=-1;16>me;++me)n($e,qe+32*me-4,$e,qe+32*me+12,4);for(me=-1;8>me;++me)n(Ze,at+32*me-4,Ze,at+32*me+4,4),n(xt,Mt+32*me-4,xt,Mt+32*me+4,4)}var bt=z.Gd,Et=z.Hd+we,Qt=it.ad,Dt=it.Hc;if(0<Oe&&(n($e,qe-32,bt[Et].y,0,16),n(Ze,at-32,bt[Et].f,0,8),n(xt,Mt-32,bt[Et].ea,0,8)),it.Za){var rr=$e,ur=qe-32+16;for(0<Oe&&(we>=z.za-1?a(rr,ur,bt[Et].y[15],4):n(rr,ur,bt[Et+1].y,0,4)),me=0;4>me;me++)rr[ur+128+me]=rr[ur+256+me]=rr[ur+384+me]=rr[ur+0+me];for(me=0;16>me;++me,Dt<<=2)rr=$e,ur=qe+og[me],Li[it.Ob[me]](rr,ur),_o(Dt,Qt,16*+me,rr,ur)}else if(rr=wn(we,Oe,it.Ob[0]),Pc[rr]($e,qe),Dt!=0)for(me=0;16>me;++me,Dt<<=2)_o(Dt,Qt,16*+me,$e,qe+og[me]);for(me=it.Gc,rr=wn(we,Oe,it.Dd),Zs[rr](Ze,at),Zs[rr](xt,Mt),Dt=Qt,rr=Ze,ur=at,255&(it=0|me)&&(170&it?Rt(Dt,256,rr,ur):or(Dt,256,rr,ur)),it=xt,Dt=Mt,255&(me>>=8)&&(170&me?Rt(Qt,320,it,Dt):or(Qt,320,it,Dt)),Oe<z.Ub-1&&(n(bt[Et].y,0,$e,qe+480,16),n(bt[Et].f,0,Ze,at+224,8),n(bt[Et].ea,0,xt,Mt+224,8)),me=8*Le*z.B,bt=z.sa,Et=z.ta+16*we+16*Le*z.R,Qt=z.qa,it=z.ra+8*we+me,Dt=z.Ha,rr=z.Ia+8*we+me,me=0;16>me;++me)n(bt,Et+me*z.R,$e,qe+32*me,16);for(me=0;8>me;++me)n(Qt,it+me*z.B,Ze,at+32*me,8),n(Dt,rr+me*z.B,xt,Mt+32*me,8)}}function La(z,Y,me,we,Oe,Le,$e,qe,Ze){var at=[0],xt=[0],Mt=0,it=Ze!=null?Ze.kd:0,bt=Ze??new pr;if(z==null||12>me)return 7;bt.data=z,bt.w=Y,bt.ha=me,Y=[Y],me=[me],bt.gb=[bt.gb];e:{var Et=Y,Qt=me,Dt=bt.gb;if(t(z!=null),t(Qt!=null),t(Dt!=null),Dt[0]=0,12<=Qt[0]&&!r(z,Et[0],"RIFF")){if(r(z,Et[0]+8,"WEBP")){Dt=3;break e}var rr=lt(z,Et[0]+4);if(12>rr||4294967286<rr){Dt=3;break e}if(it&&rr>Qt[0]-8){Dt=7;break e}Dt[0]=rr,Et[0]+=12,Qt[0]-=12}Dt=0}if(Dt!=0)return Dt;for(rr=0<bt.gb[0],me=me[0];;){e:{var ur=z;Qt=Y,Dt=me;var _r=at,gr=xt,Xn=Et=[0];if((Pn=Mt=[Mt])[0]=0,8>Dt[0])Dt=7;else{if(!r(ur,Qt[0],"VP8X")){if(lt(ur,Qt[0]+4)!=10){Dt=3;break e}if(18>Dt[0]){Dt=7;break e}var _n=lt(ur,Qt[0]+8),qa=1+st(ur,Qt[0]+12);if(2147483648<=qa*(ur=1+st(ur,Qt[0]+15))){Dt=3;break e}Xn!=null&&(Xn[0]=_n),_r!=null&&(_r[0]=qa),gr!=null&&(gr[0]=ur),Qt[0]+=18,Dt[0]-=18,Pn[0]=1}Dt=0}}if(Mt=Mt[0],Et=Et[0],Dt!=0)return Dt;if(Qt=!!(2&Et),!rr&&Mt)return 3;if(Le!=null&&(Le[0]=!!(16&Et)),$e!=null&&($e[0]=Qt),qe!=null&&(qe[0]=0),$e=at[0],Et=xt[0],Mt&&Qt&&Ze==null){Dt=0;break}if(4>me){Dt=7;break}if(rr&&Mt||!rr&&!Mt&&!r(z,Y[0],"ALPH")){me=[me],bt.na=[bt.na],bt.P=[bt.P],bt.Sa=[bt.Sa];e:{_n=z,Dt=Y,rr=me;var Pn=bt.gb;_r=bt.na,gr=bt.P,Xn=bt.Sa,qa=22,t(_n!=null),t(rr!=null),ur=Dt[0];var ui=rr[0];for(t(_r!=null),t(Xn!=null),_r[0]=null,gr[0]=null,Xn[0]=0;;){if(Dt[0]=ur,rr[0]=ui,8>ui){Dt=7;break e}var Mo=lt(_n,ur+4);if(4294967286<Mo){Dt=3;break e}var Ba=8+Mo+1&-2;if(qa+=Ba,0<Pn&&qa>Pn){Dt=3;break e}if(!r(_n,ur,"VP8 ")||!r(_n,ur,"VP8L")){Dt=0;break e}if(ui[0]<Ba){Dt=7;break e}r(_n,ur,"ALPH")||(_r[0]=_n,gr[0]=ur+8,Xn[0]=Mo),ur+=Ba,ui-=Ba}}if(me=me[0],bt.na=bt.na[0],bt.P=bt.P[0],bt.Sa=bt.Sa[0],Dt!=0)break}me=[me],bt.Ja=[bt.Ja],bt.xa=[bt.xa];e:if(Pn=z,Dt=Y,rr=me,_r=bt.gb[0],gr=bt.Ja,Xn=bt.xa,_n=Dt[0],ur=!r(Pn,_n,"VP8 "),qa=!r(Pn,_n,"VP8L"),t(Pn!=null),t(rr!=null),t(gr!=null),t(Xn!=null),8>rr[0])Dt=7;else{if(ur||qa){if(Pn=lt(Pn,_n+4),12<=_r&&Pn>_r-12){Dt=3;break e}if(it&&Pn>rr[0]-8){Dt=7;break e}gr[0]=Pn,Dt[0]+=8,rr[0]-=8,Xn[0]=qa}else Xn[0]=5<=rr[0]&&Pn[_n+0]==47&&!(Pn[_n+4]>>5),gr[0]=rr[0];Dt=0}if(me=me[0],bt.Ja=bt.Ja[0],bt.xa=bt.xa[0],Y=Y[0],Dt!=0)break;if(4294967286<bt.Ja)return 3;if(qe==null||Qt||(qe[0]=bt.xa?2:1),$e=[$e],Et=[Et],bt.xa){if(5>me){Dt=7;break}qe=$e,it=Et,Qt=Le,z==null||5>me?z=0:5<=me&&z[Y+0]==47&&!(z[Y+4]>>5)?(rr=[0],Pn=[0],_r=[0],xe(gr=new he,z,Y,me),rc(gr,rr,Pn,_r)?(qe!=null&&(qe[0]=rr[0]),it!=null&&(it[0]=Pn[0]),Qt!=null&&(Qt[0]=_r[0]),z=1):z=0):z=0}else{if(10>me){Dt=7;break}qe=Et,z==null||10>me||!Wn(z,Y+3,me-3)?z=0:(it=z[Y+0]|z[Y+1]<<8|z[Y+2]<<16,Qt=16383&(z[Y+7]<<8|z[Y+6]),z=16383&(z[Y+9]<<8|z[Y+8]),1&it||3<(it>>1&7)||!(it>>4&1)||it>>5>=bt.Ja||!Qt||!z?z=0:($e&&($e[0]=Qt),qe&&(qe[0]=z),z=1))}if(!z||($e=$e[0],Et=Et[0],Mt&&(at[0]!=$e||xt[0]!=Et)))return 3;Ze!=null&&(Ze[0]=bt,Ze.offset=Y-Ze.w,t(4294967286>Y-Ze.w),t(Ze.offset==Ze.ha-me));break}return Dt==0||Dt==7&&Mt&&Ze==null?(Le!=null&&(Le[0]|=bt.na!=null&&0<bt.na.length),we!=null&&(we[0]=$e),Oe!=null&&(Oe[0]=Et),0):Dt}function ih(z,Y,me){var we=Y.width,Oe=Y.height,Le=0,$e=0,qe=we,Ze=Oe;if(Y.Da=z!=null&&0<z.Da,Y.Da&&(qe=z.cd,Ze=z.bd,Le=z.v,$e=z.j,11>me||(Le&=-2,$e&=-2),0>Le||0>$e||0>=qe||0>=Ze||Le+qe>we||$e+Ze>Oe))return 0;if(Y.v=Le,Y.j=$e,Y.va=Le+qe,Y.o=$e+Ze,Y.U=qe,Y.T=Ze,Y.da=z!=null&&0<z.da,Y.da){if(!ar(qe,Ze,me=[z.ib],Le=[z.hb]))return 0;Y.ib=me[0],Y.hb=Le[0]}return Y.ob=z!=null&&z.ob,Y.Kb=z==null||!z.Sd,Y.da&&(Y.ob=Y.ib<3*we/4&&Y.hb<3*Oe/4,Y.Kb=0),1}function ic(z){if(z==null)return 2;if(11>z.S){var Y=z.f.RGBA;Y.fb+=(z.height-1)*Y.A,Y.A=-Y.A}else Y=z.f.kb,z=z.height,Y.O+=(z-1)*Y.fa,Y.fa=-Y.fa,Y.N+=(z-1>>1)*Y.Ab,Y.Ab=-Y.Ab,Y.W+=(z-1>>1)*Y.Db,Y.Db=-Y.Db,Y.F!=null&&(Y.J+=(z-1)*Y.lb,Y.lb=-Y.lb);return 0}function xl(z,Y,me,we){if(we==null||0>=z||0>=Y)return 2;if(me!=null){if(me.Da){var Oe=me.cd,Le=me.bd,$e=-2&me.v,qe=-2&me.j;if(0>$e||0>qe||0>=Oe||0>=Le||$e+Oe>z||qe+Le>Y)return 2;z=Oe,Y=Le}if(me.da){if(!ar(z,Y,Oe=[me.ib],Le=[me.hb]))return 2;z=Oe[0],Y=Le[0]}}we.width=z,we.height=Y;e:{var Ze=we.width,at=we.height;if(z=we.S,0>=Ze||0>=at||!(z>=eg&&13>z))z=2;else{if(0>=we.Rd&&we.sd==null){$e=Le=Oe=Y=0;var xt=(qe=Ze*Zb[z])*at;if(11>z||(Le=(at+1)/2*(Y=(Ze+1)/2),z==12&&($e=(Oe=Ze)*at)),(at=i(xt+2*Le+$e))==null){z=1;break e}we.sd=at,11>z?((Ze=we.f.RGBA).eb=at,Ze.fb=0,Ze.A=qe,Ze.size=xt):((Ze=we.f.kb).y=at,Ze.O=0,Ze.fa=qe,Ze.Fd=xt,Ze.f=at,Ze.N=0+xt,Ze.Ab=Y,Ze.Cd=Le,Ze.ea=at,Ze.W=0+xt+Le,Ze.Db=Y,Ze.Ed=Le,z==12&&(Ze.F=at,Ze.J=0+xt+2*Le),Ze.Tc=$e,Ze.lb=Oe)}if(Y=1,Oe=we.S,Le=we.width,$e=we.height,Oe>=eg&&13>Oe)if(11>Oe)z=we.f.RGBA,Y&=(qe=Math.abs(z.A))*($e-1)+Le<=z.size,Y&=qe>=Le*Zb[Oe],Y&=z.eb!=null;else{z=we.f.kb,qe=(Le+1)/2,xt=($e+1)/2,Ze=Math.abs(z.fa),at=Math.abs(z.Ab);var Mt=Math.abs(z.Db),it=Math.abs(z.lb),bt=it*($e-1)+Le;Y&=Ze*($e-1)+Le<=z.Fd,Y&=at*(xt-1)+qe<=z.Cd,Y=(Y&=Mt*(xt-1)+qe<=z.Ed)&Ze>=Le&at>=qe&Mt>=qe,Y&=z.y!=null,Y&=z.f!=null,Y&=z.ea!=null,Oe==12&&(Y&=it>=Le,Y&=bt<=z.Tc,Y&=z.F!=null)}else Y=0;z=Y?0:2}}return z!=0||me!=null&&me.fd&&(z=ic(we)),z}var nl=64,Fo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gs=24,ts=32,Hn=8,jc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ct("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(z){return z},U.Predictor2=function(z,Y,me){return Y[me+0]},U.Predictor3=function(z,Y,me){return Y[me+1]},U.Predictor4=function(z,Y,me){return Y[me-1]},U.Predictor5=function(z,Y,me){return jr(jr(z,Y[me+1]),Y[me+0])},U.Predictor6=function(z,Y,me){return jr(z,Y[me-1])},U.Predictor7=function(z,Y,me){return jr(z,Y[me+0])},U.Predictor8=function(z,Y,me){return jr(Y[me-1],Y[me+0])},U.Predictor9=function(z,Y,me){return jr(Y[me+0],Y[me+1])},U.Predictor10=function(z,Y,me){return jr(jr(z,Y[me-1]),jr(Y[me+0],Y[me+1]))},U.Predictor11=function(z,Y,me){var we=Y[me+0];return 0>=mn(we>>24&255,z>>24&255,(Y=Y[me-1])>>24&255)+mn(we>>16&255,z>>16&255,Y>>16&255)+mn(we>>8&255,z>>8&255,Y>>8&255)+mn(255&we,255&z,255&Y)?we:z},U.Predictor12=function(z,Y,me){var we=Y[me+0];return(tn((z>>24&255)+(we>>24&255)-((Y=Y[me-1])>>24&255))<<24|tn((z>>16&255)+(we>>16&255)-(Y>>16&255))<<16|tn((z>>8&255)+(we>>8&255)-(Y>>8&255))<<8|tn((255&z)+(255&we)-(255&Y)))>>>0},U.Predictor13=function(z,Y,me){var we=Y[me-1];return(ha((z=jr(z,Y[me+0]))>>24&255,we>>24&255)<<24|ha(z>>16&255,we>>16&255)<<16|ha(z>>8&255,we>>8&255)<<8|ha(255&z,255&we))>>>0};var ke=U.PredictorAdd0;U.PredictorAdd1=xa,ct("Predictor2","PredictorAdd2"),ct("Predictor3","PredictorAdd3"),ct("Predictor4","PredictorAdd4"),ct("Predictor5","PredictorAdd5"),ct("Predictor6","PredictorAdd6"),ct("Predictor7","PredictorAdd7"),ct("Predictor8","PredictorAdd8"),ct("Predictor9","PredictorAdd9"),ct("Predictor10","PredictorAdd10"),ct("Predictor11","PredictorAdd11"),ct("Predictor12","PredictorAdd12"),ct("Predictor13","PredictorAdd13");var m=U.PredictorAdd2;Cn("ColorIndexInverseTransform","MapARGB","32b",function(z){return z>>8&255},function(z){return z}),Cn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(z){return z},function(z){return z>>8&255});var y,w=U.ColorIndexInverseTransform,E=U.MapARGB,P=U.VP8LColorIndexInverseTransformAlpha,D=U.MapAlpha,V=U.VP8LPredictorsAdd=[];V.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var Z,oe,be,Te,De,et,dt,pt,Nt,Rt,Gt,or,ir,ta,da,Ti,al,Do,Vi,co,vl,yf,sh,Zh,Tc,Wb,uv,Q1,dv=i(511),Hb=i(2041),Ha=i(225),ap=i(767),ip=0,Jh=Hb,Ii=Ha,ku=ap,Pu=dv,eg=0,kc=1,P3=2,tg=3,sp=4,fv=5,Qh=6,hv=7,mv=8,rg=9,qb=10,O3=[2,3,7],I3=[3,3,11],pv=[280,256,256,256,40],Gb=[0,1,1,1,0],F3=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],D3=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],R3=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],M3=8,Kb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],gv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],op=null,xv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],L3=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Yb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],B3=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],U3=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$3=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],z3=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Pc=[],Li=[],Zs=[],Ro=1,Ou=2,oh=[],Iu=[];gi("UpsampleRgbLinePair",Dd,3),gi("UpsampleBgrLinePair",hs,3),gi("UpsampleRgbaLinePair",Ca,4),gi("UpsampleBgraLinePair",ah,4),gi("UpsampleArgbLinePair",Oi,4),gi("UpsampleRgba4444LinePair",Rd,2),gi("UpsampleRgb565LinePair",Tu,2);var ng=U.UpsampleRgbLinePair,em=U.UpsampleBgrLinePair,lp=U.UpsampleRgbaLinePair,e0=U.UpsampleBgraLinePair,Xb=U.UpsampleArgbLinePair,V3=U.UpsampleRgba4444LinePair,vv=U.UpsampleRgb565LinePair,ag=16,ig=1<<ag-1,cp=-227,ad=482,t0=6,W3=(256<<t0)-1,sg=0,H3=i(256),q3=i(256),XT=i(256),G3=i(256),sc=i(ad-cp),ZT=i(ad-cp);ci("YuvToRgbRow",Dd,3),ci("YuvToBgrRow",hs,3),ci("YuvToRgbaRow",Ca,4),ci("YuvToBgraRow",ah,4),ci("YuvToArgbRow",Oi,4),ci("YuvToRgba4444Row",Rd,2),ci("YuvToRgb565Row",Tu,2);var og=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],up=[0,2,8],JT=[8,7,6,4,4,2,2,2,1,1,1,1],K3=1;this.WebPDecodeRGBA=function(z,Y,me,we,Oe){var Le=kc,$e=new tr,qe=new ia;$e.ba=qe,qe.S=Le,qe.width=[qe.width],qe.height=[qe.height];var Ze=qe.width,at=qe.height,xt=new Jn;if(xt==null||z==null)var Mt=2;else t(xt!=null),Mt=La(z,Y,me,xt.width,xt.height,xt.Pd,xt.Qd,xt.format,null);if(Mt!=0?Ze=0:(Ze!=null&&(Ze[0]=xt.width[0]),at!=null&&(at[0]=xt.height[0]),Ze=1),Ze){qe.width=qe.width[0],qe.height=qe.height[0],we!=null&&(we[0]=qe.width),Oe!=null&&(Oe[0]=qe.height);e:{if(we=new Ts,(Oe=new pr).data=z,Oe.w=Y,Oe.ha=me,Oe.kd=1,Y=[0],t(Oe!=null),((z=La(Oe.data,Oe.w,Oe.ha,null,null,null,Y,null,Oe))==0||z==7)&&Y[0]&&(z=4),(Y=z)==0){if(t($e!=null),we.data=Oe.data,we.w=Oe.w+Oe.offset,we.ha=Oe.ha-Oe.offset,we.put=Vn,we.ac=Io,we.bc=js,we.ma=$e,Oe.xa){if((z=St())==null){$e=1;break e}if(function(it,bt){var Et=[0],Qt=[0],Dt=[0];t:for(;;){if(it==null)return 0;if(bt==null)return it.a=2,0;if(it.l=bt,it.a=0,xe(it.m,bt.data,bt.w,bt.ha),!rc(it.m,Et,Qt,Dt)){it.a=3;break t}if(it.xb=Ou,bt.width=Et[0],bt.height=Qt[0],!Pt(Et[0],Qt[0],1,it,null))break t;return 1}return t(it.a!=0),0}(z,we)){if(we=(Y=xl(we.width,we.height,$e.Oa,$e.ba))==0){t:{we=z;r:for(;;){if(we==null){we=0;break t}if(t(we.s.yc!=null),t(we.s.Ya!=null),t(0<we.s.Wb),t((me=we.l)!=null),t((Oe=me.ma)!=null),we.xb!=0){if(we.ca=Oe.ba,we.tb=Oe.tb,t(we.ca!=null),!ih(Oe.Oa,me,tg)){we.a=2;break r}if(!It(we,me.width)||me.da)break r;if((me.da||Qn(we.ca.S))&&es(),11>we.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),we.ca.f.kb.F!=null&&es()),we.Pb&&0<we.s.ua&&we.s.vb.X==null&&!Me(we.s.vb,we.s.Wa.Xa)){we.a=1;break r}we.xb=0}if(!yt(we,we.V,we.Ba,we.c,we.i,me.o,Ye))break r;Oe.Dc=we.Ma,we=1;break t}t(we.a!=0),we=0}we=!we}we&&(Y=z.a)}else Y=z.a}else{if((z=new Z0)==null){$e=1;break e}if(z.Fa=Oe.na,z.P=Oe.P,z.qc=Oe.Sa,bo(z,we)){if((Y=xl(we.width,we.height,$e.Oa,$e.ba))==0){if(z.Aa=0,me=$e.Oa,t((Oe=z)!=null),me!=null){if(0<(Ze=0>(Ze=me.Md)?0:100<Ze?255:255*Ze/100)){for(at=xt=0;4>at;++at)12>(Mt=Oe.pb[at]).lc&&(Mt.ia=Ze*JT[0>Mt.lc?0:Mt.lc]>>3),xt|=Mt.ia;xt&&(alert("todo:VP8InitRandom"),Oe.ia=1)}Oe.Ga=me.Id,100<Oe.Ga?Oe.Ga=100:0>Oe.Ga&&(Oe.Ga=0)}(function(it,bt){if(it==null)return 0;if(bt==null)return ri(it,2,"NULL VP8Io parameter in VP8Decode().");if(!it.cb&&!bo(it,bt))return 0;if(t(it.cb),bt.ac==null||bt.ac(bt)){bt.ob&&(it.L=0);var Et=up[it.L];if(it.L==2?(it.yb=0,it.zb=0):(it.yb=bt.v-Et>>4,it.zb=bt.j-Et>>4,0>it.yb&&(it.yb=0),0>it.zb&&(it.zb=0)),it.Va=bt.o+15+Et>>4,it.Hb=bt.va+15+Et>>4,it.Hb>it.za&&(it.Hb=it.za),it.Va>it.Ub&&(it.Va=it.Ub),0<it.L){var Qt=it.ed;for(Et=0;4>Et;++Et){var Dt;if(it.Qa.Cb){var rr=it.Qa.Lb[Et];it.Qa.Fb||(rr+=Qt.Tb)}else rr=Qt.Tb;for(Dt=0;1>=Dt;++Dt){var ur=it.gd[Et][Dt],_r=rr;if(Qt.Pc&&(_r+=Qt.vd[0],Dt&&(_r+=Qt.od[0])),0<(_r=0>_r?0:63<_r?63:_r)){var gr=_r;0<Qt.wb&&(gr=4<Qt.wb?gr>>2:gr>>1)>9-Qt.wb&&(gr=9-Qt.wb),1>gr&&(gr=1),ur.dd=gr,ur.tc=2*_r+gr,ur.ld=40<=_r?2:15<=_r?1:0}else ur.tc=0;ur.La=Dt}}}Et=0}else ri(it,6,"Frame setup failed"),Et=it.a;if(Et=Et==0){if(Et){it.$c=0,0<it.Aa||(it.Ic=K3);t:{Et=it.Ic,Qt=4*(gr=it.za);var Xn=32*gr,_n=gr+1,qa=0<it.L?gr*(0<it.Aa?2:1):0,Pn=(it.Aa==2?2:1)*gr;if((ur=Qt+832+(Dt=3*(16*Et+up[it.L])/2*Xn)+(rr=it.Fa!=null&&0<it.Fa.length?it.Kc.c*it.Kc.i:0))!=ur)Et=0;else{if(ur>it.Vb){if(it.Vb=0,it.Ec=i(ur),it.Fc=0,it.Ec==null){Et=ri(it,1,"no memory during frame initialization.");break t}it.Vb=ur}ur=it.Ec,_r=it.Fc,it.Ac=ur,it.Bc=_r,_r+=Qt,it.Gd=o(Xn,Sa),it.Hd=0,it.rb=o(_n+1,Ta),it.sb=1,it.wa=qa?o(qa,va):null,it.Y=0,it.D.Nb=0,it.D.wa=it.wa,it.D.Y=it.Y,0<it.Aa&&(it.D.Y+=gr),t(!0),it.oc=ur,it.pc=_r,_r+=832,it.ya=o(Pn,Cc),it.aa=0,it.D.ya=it.ya,it.D.aa=it.aa,it.Aa==2&&(it.D.aa+=gr),it.R=16*gr,it.B=8*gr,gr=(Xn=up[it.L])*it.R,Xn=Xn/2*it.B,it.sa=ur,it.ta=_r+gr,it.qa=it.sa,it.ra=it.ta+16*Et*it.R+Xn,it.Ha=it.qa,it.Ia=it.ra+8*Et*it.B+Xn,it.$c=0,_r+=Dt,it.mb=rr?ur:null,it.nb=rr?_r:null,t(_r+rr<=it.Fc+it.Vb),Qc(it),a(it.Ac,it.Bc,0,Qt),Et=1}}if(Et){if(bt.ka=0,bt.y=it.sa,bt.O=it.ta,bt.f=it.qa,bt.N=it.ra,bt.ea=it.Ha,bt.Vd=it.Ia,bt.fa=it.R,bt.Rc=it.B,bt.F=null,bt.J=0,!ip){for(Et=-255;255>=Et;++Et)dv[255+Et]=0>Et?-Et:Et;for(Et=-1020;1020>=Et;++Et)Hb[1020+Et]=-128>Et?-128:127<Et?127:Et;for(Et=-112;112>=Et;++Et)Ha[112+Et]=-16>Et?-16:15<Et?15:Et;for(Et=-255;510>=Et;++Et)ap[255+Et]=0>Et?0:255<Et?255:Et;ip=1}dt=eh,pt=Ke,Rt=yn,Gt=Ms,or=tl,Nt=kt,ir=ac,ta=vf,da=Pe,Ti=rt,al=$t,Do=ie,Vi=ft,co=Ct,vl=xf,yf=Xh,sh=Q0,Zh=_i,Li[0]=J1,Li[1]=nc,Li[2]=Au,Li[3]=fa,Li[4]=ya,Li[5]=np,Li[6]=fs,Li[7]=Ys,Li[8]=Er,Li[9]=Eu,Pc[0]=Pd,Pc[1]=Qi,Pc[2]=th,Pc[3]=J0,Pc[4]=eu,Pc[5]=wi,Pc[6]=Ri,Zs[0]=ps,Zs[1]=Jr,Zs[2]=Od,Zs[3]=Id,Zs[4]=Xs,Zs[5]=tu,Zs[6]=Fd,Et=1}else Et=0}Et&&(Et=function(ui,Mo){for(ui.M=0;ui.M<ui.Va;++ui.M){var Ba,Rn=ui.Jc[ui.M&ui.Xb],Yr=ui.m,Wi=ui;for(Ba=0;Ba<Wi.za;++Ba){var Ua=Yr,di=Wi,Cs=di.Ac,yl=di.Bc+4*Ba,oc=di.zc,Ls=di.ya[di.aa+Ba];if(di.Qa.Bb?Ls.$b=Ee(Ua,di.Pa.jb[0])?2+Ee(Ua,di.Pa.jb[2]):Ee(Ua,di.Pa.jb[1]):Ls.$b=0,di.kc&&(Ls.Ad=Ee(Ua,di.Bd)),Ls.Za=!Ee(Ua,145)+0,Ls.Za){var Ll=Ls.Ob,Bl=0;for(di=0;4>di;++di){var uo,oi=oc[0+di];for(uo=0;4>uo;++uo){oi=U3[Cs[yl+uo]][oi];for(var Hi=Yb[Ee(Ua,oi[0])];0<Hi;)Hi=Yb[2*Hi+Ee(Ua,oi[Hi])];oi=-Hi,Cs[yl+uo]=oi}n(Ll,Bl,Cs,yl,4),Bl+=4,oc[0+di]=oi}}else oi=Ee(Ua,156)?Ee(Ua,128)?1:3:Ee(Ua,163)?2:0,Ls.Ob[0]=oi,a(Cs,yl,oi,4),a(oc,0,oi,4);Ls.Dd=Ee(Ua,142)?Ee(Ua,114)?Ee(Ua,183)?1:3:2:0}if(Wi.m.Ka)return ri(ui,7,"Premature end-of-partition0 encountered.");for(;ui.ja<ui.za;++ui.ja){if(Wi=Rn,Ua=(Yr=ui).rb[Yr.sb-1],Cs=Yr.rb[Yr.sb+Yr.ja],Ba=Yr.ya[Yr.aa+Yr.ja],yl=Yr.kc?Ba.Ad:0)Ua.la=Cs.la=0,Ba.Za||(Ua.Na=Cs.Na=0),Ba.Hc=0,Ba.Gc=0,Ba.ia=0;else{var Js,rs;if(Ua=Cs,Cs=Wi,yl=Yr.Pa.Xc,oc=Yr.ya[Yr.aa+Yr.ja],Ls=Yr.pb[oc.$b],di=oc.ad,Ll=0,Bl=Yr.rb[Yr.sb-1],oi=uo=0,a(di,Ll,0,384),oc.Za)var Ul=0,id=yl[3];else{Hi=i(16);var Bs=Ua.Na+Bl.Na;if(Bs=op(Cs,yl[1],Bs,Ls.Eb,0,Hi,0),Ua.Na=Bl.Na=(0<Bs)+0,1<Bs)dt(Hi,0,di,Ll);else{var lc=Hi[0]+3>>3;for(Hi=0;256>Hi;Hi+=16)di[Ll+Hi]=lc}Ul=1,id=yl[0]}var ns=15&Ua.la,Lo=15&Bl.la;for(Hi=0;4>Hi;++Hi){var il=1&Lo;for(lc=rs=0;4>lc;++lc)ns=ns>>1|(il=(Bs=op(Cs,id,Bs=il+(1&ns),Ls.Sc,Ul,di,Ll))>Ul)<<7,rs=rs<<2|(3<Bs?3:1<Bs?2:di[Ll+0]!=0),Ll+=16;ns>>=4,Lo=Lo>>1|il<<7,uo=(uo<<8|rs)>>>0}for(id=ns,Ul=Lo>>4,Js=0;4>Js;Js+=2){for(rs=0,ns=Ua.la>>4+Js,Lo=Bl.la>>4+Js,Hi=0;2>Hi;++Hi){for(il=1&Lo,lc=0;2>lc;++lc)Bs=il+(1&ns),ns=ns>>1|(il=0<(Bs=op(Cs,yl[2],Bs,Ls.Qc,0,di,Ll)))<<3,rs=rs<<2|(3<Bs?3:1<Bs?2:di[Ll+0]!=0),Ll+=16;ns>>=2,Lo=Lo>>1|il<<5}oi|=rs<<4*Js,id|=ns<<4<<Js,Ul|=(240&Lo)<<Js}Ua.la=id,Bl.la=Ul,oc.Hc=uo,oc.Gc=oi,oc.ia=43690&oi?0:Ls.ia,yl=!(uo|oi)}if(0<Yr.L&&(Yr.wa[Yr.Y+Yr.ja]=Yr.gd[Ba.$b][Ba.Za],Yr.wa[Yr.Y+Yr.ja].La|=!yl),Wi.Ka)return ri(ui,7,"Premature end-of-file encountered.")}if(Qc(ui),Yr=Mo,Wi=1,Ba=(Rn=ui).D,Ua=0<Rn.L&&Rn.M>=Rn.zb&&Rn.M<=Rn.Va,Rn.Aa==0)t:{if(Ba.M=Rn.M,Ba.uc=Ua,kn(Rn,Ba),Wi=1,Ba=(rs=Rn.D).Nb,Ua=(oi=up[Rn.L])*Rn.R,Cs=oi/2*Rn.B,Hi=16*Ba*Rn.R,lc=8*Ba*Rn.B,yl=Rn.sa,oc=Rn.ta-Ua+Hi,Ls=Rn.qa,di=Rn.ra-Cs+lc,Ll=Rn.Ha,Bl=Rn.Ia-Cs+lc,Lo=(ns=rs.M)==0,uo=ns>=Rn.Va-1,Rn.Aa==2&&kn(Rn,rs),rs.uc)for(il=(Bs=Rn).D.M,t(Bs.D.uc),rs=Bs.yb;rs<Bs.Hb;++rs){Ul=rs,id=il;var cc=(Oc=(wl=Bs).D).Nb;Js=wl.R;var Oc=Oc.wa[Oc.Y+Ul],uc=wl.sa,Ic=wl.ta+16*cc*Js+16*Ul,bl=Oc.dd,qi=Oc.tc;if(qi!=0)if(t(3<=qi),wl.L==1)0<Ul&&yf(uc,Ic,Js,qi+4),Oc.La&&Zh(uc,Ic,Js,qi),0<id&&vl(uc,Ic,Js,qi+4),Oc.La&&sh(uc,Ic,Js,qi);else{var nu=wl.B,sd=wl.qa,r0=wl.ra+8*cc*nu+8*Ul,bf=wl.Ha,wl=wl.Ia+8*cc*nu+8*Ul;cc=Oc.ld,0<Ul&&(ta(uc,Ic,Js,qi+4,bl,cc),Ti(sd,r0,bf,wl,nu,qi+4,bl,cc)),Oc.La&&(Do(uc,Ic,Js,qi,bl,cc),co(sd,r0,bf,wl,nu,qi,bl,cc)),0<id&&(ir(uc,Ic,Js,qi+4,bl,cc),da(sd,r0,bf,wl,nu,qi+4,bl,cc)),Oc.La&&(al(uc,Ic,Js,qi,bl,cc),Vi(sd,r0,bf,wl,nu,qi,bl,cc))}}if(Rn.ia&&alert("todo:DitherRow"),Yr.put!=null){if(rs=16*ns,ns=16*(ns+1),Lo?(Yr.y=Rn.sa,Yr.O=Rn.ta+Hi,Yr.f=Rn.qa,Yr.N=Rn.ra+lc,Yr.ea=Rn.Ha,Yr.W=Rn.Ia+lc):(rs-=oi,Yr.y=yl,Yr.O=oc,Yr.f=Ls,Yr.N=di,Yr.ea=Ll,Yr.W=Bl),uo||(ns-=oi),ns>Yr.o&&(ns=Yr.o),Yr.F=null,Yr.J=null,Rn.Fa!=null&&0<Rn.Fa.length&&rs<ns&&(Yr.J=an(Rn,Yr,rs,ns-rs),Yr.F=Rn.mb,Yr.F==null&&Yr.F.length==0)){Wi=ri(Rn,3,"Could not decode alpha data.");break t}rs<Yr.j&&(oi=Yr.j-rs,rs=Yr.j,t(!(1&oi)),Yr.O+=Rn.R*oi,Yr.N+=Rn.B*(oi>>1),Yr.W+=Rn.B*(oi>>1),Yr.F!=null&&(Yr.J+=Yr.width*oi)),rs<ns&&(Yr.O+=Yr.v,Yr.N+=Yr.v>>1,Yr.W+=Yr.v>>1,Yr.F!=null&&(Yr.J+=Yr.v),Yr.ka=rs-Yr.j,Yr.U=Yr.va-Yr.v,Yr.T=ns-rs,Wi=Yr.put(Yr))}Ba+1!=Rn.Ic||uo||(n(Rn.sa,Rn.ta-Ua,yl,oc+16*Rn.R,Ua),n(Rn.qa,Rn.ra-Cs,Ls,di+8*Rn.B,Cs),n(Rn.Ha,Rn.Ia-Cs,Ll,Bl+8*Rn.B,Cs))}if(!Wi)return ri(ui,6,"Output aborted.")}return 1}(it,bt)),bt.bc!=null&&bt.bc(bt),Et&=1}return Et?(it.cb=0,Et):0})(z,we)||(Y=z.a)}}else Y=z.a}Y==0&&$e.Oa!=null&&$e.Oa.fd&&(Y=ic($e.ba))}$e=Y}Le=$e!=0?null:11>Le?qe.f.RGBA.eb:qe.f.kb.y}else Le=null;return Le};var Zb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(U,J){for(var K="",G=0;G<4;G++)K+=String.fromCharCode(U[J++]);return K}function f(U,J){return U[J+0]|U[J+1]<<8}function h(U,J){return(U[J+0]|U[J+1]<<8|U[J+2]<<16)>>>0}function g(U,J){return(U[J+0]|U[J+1]<<8|U[J+2]<<16|U[J+3]<<24)>>>0}new c;var p=[0],N=[0],b=[],S=new c,C=e,j=function(U,J){var K={},G=0,re=!1,ae=0,X=0;if(K.frames=[],!function(ee,he){for(var se=0;se<4;se++)if(ee[he+se]!="RIFF".charCodeAt(se))return!0;return!1}(U,J)){for(g(U,J+=4),J+=8;J<U.length;){var ne=u(U,J),de=g(U,J+=4);J+=4;var le=de+(1&de);switch(ne){case"VP8 ":case"VP8L":K.frames[G]===void 0&&(K.frames[G]={}),(ye=K.frames[G]).src_off=re?X:J-8,ye.src_size=ae+de+8,G++,re&&(re=!1,ae=0,X=0);break;case"VP8X":(ye=K.header={}).feature_flags=U[J];var xe=J+4;ye.canvas_width=1+h(U,xe),xe+=3,ye.canvas_height=1+h(U,xe),xe+=3;break;case"ALPH":re=!0,ae=le+8,X=J-8;break;case"ANIM":(ye=K.header).bgcolor=g(U,J),xe=J+4,ye.loop_count=f(U,xe),xe+=2;break;case"ANMF":var Se,ye;(ye=K.frames[G]={}).offset_x=2*h(U,J),J+=3,ye.offset_y=2*h(U,J),J+=3,ye.width=1+h(U,J),J+=3,ye.height=1+h(U,J),J+=3,ye.duration=h(U,J),J+=3,Se=U[J++],ye.dispose=1&Se,ye.blend=Se>>1&1}ne!="ANMF"&&(J+=le)}return K}}(C,0);j.response=C,j.rgbaoutput=!0,j.dataurl=!1;var T=j.header?j.header:null,O=j.frames?j.frames:null;if(T){T.loop_counter=T.loop_count,p=[T.canvas_height],N=[T.canvas_width];for(var M=0;M<O.length&&O[M].blend!=0;M++);}var B=O[0],L=S.WebPDecodeRGBA(C,B.src_off,B.src_size,N,p);B.rgba=L,B.imgwidth=N[0],B.imgheight=p[0];for(var H=0;H<N[0]*p[0]*4;H++)b[H]=L[H];return this.width=N,this.height=p,this.data=b,this}(function(e){var t,r,n,a,i,o,l,c,u,f=function(ee){return ee=ee||{},this.isStrokeTransparent=ee.isStrokeTransparent||!1,this.strokeOpacity=ee.strokeOpacity||1,this.strokeStyle=ee.strokeStyle||"#000000",this.fillStyle=ee.fillStyle||"#000000",this.isFillTransparent=ee.isFillTransparent||!1,this.fillOpacity=ee.fillOpacity||1,this.font=ee.font||"10px sans-serif",this.textBaseline=ee.textBaseline||"alphabetic",this.textAlign=ee.textAlign||"left",this.lineWidth=ee.lineWidth||1,this.lineJoin=ee.lineJoin||"miter",this.lineCap=ee.lineCap||"butt",this.path=ee.path||[],this.transform=ee.transform!==void 0?ee.transform.clone():new c,this.globalCompositeOperation=ee.globalCompositeOperation||"normal",this.globalAlpha=ee.globalAlpha||1,this.clip_path=ee.clip_path||[],this.currentPoint=ee.currentPoint||new o,this.miterLimit=ee.miterLimit||10,this.lastPoint=ee.lastPoint||new o,this.lineDashOffset=ee.lineDashOffset||0,this.lineDash=ee.lineDash||[],this.margin=ee.margin||[0,0,0,0],this.prevPageLastElemOffset=ee.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ee.ignoreClearRect!="boolean"||ee.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var h=function(ee){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var he=ee;Object.defineProperty(this,"pdf",{get:function(){return he}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(Me){se=!!Me}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Me){te=!!Me}});var ge=0;Object.defineProperty(this,"posX",{get:function(){return ge},set:function(Me){isNaN(Me)||(ge=Me)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(Me){isNaN(Me)||(ue=Me)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Me){var wt;typeof Me=="number"?wt=[Me,Me,Me,Me]:((wt=new Array(4))[0]=Me[0],wt[1]=Me.length>=2?Me[1]:wt[0],wt[2]=Me.length>=3?Me[2]:wt[0],wt[3]=Me.length>=4?Me[3]:wt[1]),u.margin=wt}});var Ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ce},set:function(Me){Ce=Me}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(Me){Ne=Me}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(Me){Ee=Me}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Me){Me instanceof f&&(u=Me)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Me){u.path=Me}});var Ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ge},set:function(Me){Ge=Me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Me){var wt;wt=g(Me),this.ctx.fillStyle=wt.style,this.ctx.isFillTransparent=wt.a===0,this.ctx.fillOpacity=wt.a,this.pdf.setFillColor(wt.r,wt.g,wt.b,{a:wt.a}),this.pdf.setTextColor(wt.r,wt.g,wt.b,{a:wt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Me){var wt=g(Me);this.ctx.strokeStyle=wt.style,this.ctx.isStrokeTransparent=wt.a===0,this.ctx.strokeOpacity=wt.a,wt.a===0?this.pdf.setDrawColor(255,255,255):(wt.a,this.pdf.setDrawColor(wt.r,wt.g,wt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Me){["butt","round","square"].indexOf(Me)!==-1&&(this.ctx.lineCap=Me,this.pdf.setLineCap(Me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Me){isNaN(Me)||(this.ctx.lineWidth=Me,this.pdf.setLineWidth(Me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Me){["bevel","round","miter"].indexOf(Me)!==-1&&(this.ctx.lineJoin=Me,this.pdf.setLineJoin(Me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Me){isNaN(Me)||(this.ctx.miterLimit=Me,this.pdf.setMiterLimit(Me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Me){this.ctx.textBaseline=Me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Me){["right","end","center","left","start"].indexOf(Me)!==-1&&(this.ctx.textAlign=Me)}});var Be=null,st=null,lt=null;Object.defineProperty(this,"fontFaces",{get:function(){return lt},set:function(Me){Be=null,st=null,lt=Me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Me){var wt;if(this.ctx.font=Me,(wt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Me))!==null){var _t=wt[1];wt[2];var ar=wt[3],Tt=wt[4];wt[5];var sn=wt[6],ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Tt)[2];Tt=Math.floor(ct==="px"?parseFloat(Tt)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat(Tt)*this.pdf.getFontSize():parseFloat(Tt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Tt);var Ar=function(Cn){var ms,Zn,sr=[],ln=Cn.trim();if(ln==="")return mP;if(ln in xq)return[xq[ln]];for(;ln!=="";){switch(Zn=null,ms=(ln=yq(ln)).charAt(0)){case'"':case"'":Zn=NMe(ln.substring(1),ms);break;default:Zn=SMe(ln)}if(Zn===null||(sr.push(Zn[0]),(ln=yq(Zn[1]))!==""&&ln.charAt(0)!==","))return mP;ln=ln.replace(/^,/,"")}return sr}(sn);if(this.fontFaces){var jr=function(Cn,ms){var Zn=Cn.getFontList(),sr=JSON.stringify(Zn);if(Be===null||st!==sr){var ln=function(Fn){var Gr=[];return Object.keys(Fn).forEach(function(ti){Fn[ti].forEach(function(Qn){var _a=null;switch(Qn){case"bold":_a={family:ti,weight:"bold"};break;case"italic":_a={family:ti,style:"italic"};break;case"bolditalic":_a={family:ti,weight:"bold",style:"italic"};break;case"":case"normal":_a={family:ti}}_a!==null&&(_a.ref={name:ti,style:Qn},Gr.push(_a))})}),Gr}(Zn);Be=function(Fn){for(var Gr={},ti=0;ti<Fn.length;++ti){var Qn=hP(Fn[ti]),_a=Qn.family,Yn=Qn.stretch,ia=Qn.style,Jn=Qn.weight;Gr[_a]=Gr[_a]||{},Gr[_a][Yn]=Gr[_a][Yn]||{},Gr[_a][Yn][ia]=Gr[_a][Yn][ia]||{},Gr[_a][Yn][ia][Jn]=Qn}return Gr}(ln.concat(ms)),st=sr}return Be}(this.pdf,this.fontFaces),tn=Ar.map(function(Cn){return{family:Cn,stretch:"normal",weight:ar,style:_t}}),ha=function(Cn,ms,Zn){for(var sr=(Zn=Zn||{}).defaultFontFamily||"times",ln=Object.assign({},_Me,Zn.genericFontFamilies||{}),Fn=null,Gr=null,ti=0;ti<ms.length;++ti)if(ln[(Fn=hP(ms[ti])).family]&&(Fn.family=ln[Fn.family]),Cn.hasOwnProperty(Fn.family)){Gr=Cn[Fn.family];break}if(!(Gr=Gr||Cn[sr]))throw new Error("Could not find a font-family for the rule '"+vq(Fn)+"' and default family '"+sr+"'.");if(Gr=function(Qn,_a){if(_a[Qn])return _a[Qn];var Yn=jF[Qn],ia=Yn<=jF.normal?-1:1,Jn=gq(_a,Rce,Yn,ia);if(!Jn)throw new Error("Could not find a matching font-stretch value for "+Qn);return Jn}(Fn.stretch,Gr),Gr=function(Qn,_a){if(_a[Qn])return _a[Qn];for(var Yn=Dce[Qn],ia=0;ia<Yn.length;++ia)if(_a[Yn[ia]])return _a[Yn[ia]];throw new Error("Could not find a matching font-style for "+Qn)}(Fn.style,Gr),!(Gr=function(Qn,_a){if(_a[Qn])return _a[Qn];if(Qn===400&&_a[500])return _a[500];if(Qn===500&&_a[400])return _a[400];var Yn=wMe[Qn],ia=gq(_a,Mce,Yn,Qn<400?-1:1);if(!ia)throw new Error("Could not find a matching font-weight for value "+Qn);return ia}(Fn.weight,Gr)))throw new Error("Failed to resolve a font for the rule '"+vq(Fn)+"'.");return Gr}(jr,tn);this.pdf.setFont(ha.ref.name,ha.ref.style)}else{var mn="";(ar==="bold"||parseInt(ar,10)>=700||_t==="bold")&&(mn="bold"),_t==="italic"&&(mn+="italic"),mn.length===0&&(mn="normal");for(var xa="",Un={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},nn=0;nn<Ar.length;nn++){if(this.pdf.internal.getFont(Ar[nn],mn,{noFallback:!0,disableWarning:!0})!==void 0){xa=Ar[nn];break}if(mn==="bolditalic"&&this.pdf.internal.getFont(Ar[nn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xa=Ar[nn],mn="bold";else if(this.pdf.internal.getFont(Ar[nn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xa=Ar[nn],mn="normal";break}}if(xa===""){for(var ca=0;ca<Ar.length;ca++)if(Un[Ar[ca]]){xa=Un[Ar[ca]];break}}xa=xa===""?"Times":xa,this.pdf.setFont(xa,mn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Me){this.ctx.globalCompositeOperation=Me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Me){this.ctx.globalAlpha=Me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Me){this.ctx.lineDashOffset=Me,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Me){this.ctx.lineDash=Me,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Me){this.ctx.ignoreClearRect=!!Me}})};h.prototype.setLineDash=function(ee){this.lineDash=ee},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){O.call(this,"fill",!1)},h.prototype.stroke=function(){O.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(ee,he){if(isNaN(ee)||isNaN(he))throw Fs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var se=this.ctx.transform.applyToPoint(new o(ee,he));this.path.push({type:"mt",x:se.x,y:se.y}),this.ctx.lastPoint=new o(ee,he)},h.prototype.closePath=function(){var ee=new o(0,0),he=0;for(he=this.path.length-1;he!==-1;he--)if(this.path[he].type==="begin"&&Yi(this.path[he+1])==="object"&&typeof this.path[he+1].x=="number"){ee=new o(this.path[he+1].x,this.path[he+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(ee.x,ee.y)},h.prototype.lineTo=function(ee,he){if(isNaN(ee)||isNaN(he))throw Fs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var se=this.ctx.transform.applyToPoint(new o(ee,he));this.path.push({type:"lt",x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},h.prototype.quadraticCurveTo=function(ee,he,se,te){if(isNaN(se)||isNaN(te)||isNaN(ee)||isNaN(he))throw Fs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ge=this.ctx.transform.applyToPoint(new o(se,te)),ue=this.ctx.transform.applyToPoint(new o(ee,he));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},h.prototype.bezierCurveTo=function(ee,he,se,te,ge,ue){if(isNaN(ge)||isNaN(ue)||isNaN(ee)||isNaN(he)||isNaN(se)||isNaN(te))throw Fs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ce=this.ctx.transform.applyToPoint(new o(ge,ue)),Ne=this.ctx.transform.applyToPoint(new o(ee,he)),Ee=this.ctx.transform.applyToPoint(new o(se,te));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:Ee.x,y2:Ee.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new o(Ce.x,Ce.y)},h.prototype.arc=function(ee,he,se,te,ge,ue){if(isNaN(ee)||isNaN(he)||isNaN(se)||isNaN(te)||isNaN(ge))throw Fs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var Ce=this.ctx.transform.applyToPoint(new o(ee,he));ee=Ce.x,he=Ce.y;var Ne=this.ctx.transform.applyToPoint(new o(0,se)),Ee=this.ctx.transform.applyToPoint(new o(0,0));se=Math.sqrt(Math.pow(Ne.x-Ee.x,2)+Math.pow(Ne.y-Ee.y,2))}Math.abs(ge-te)>=2*Math.PI&&(te=0,ge=2*Math.PI),this.path.push({type:"arc",x:ee,y:he,radius:se,startAngle:te,endAngle:ge,counterclockwise:ue})},h.prototype.arcTo=function(ee,he,se,te,ge){throw new Error("arcTo not implemented.")},h.prototype.rect=function(ee,he,se,te){if(isNaN(ee)||isNaN(he)||isNaN(se)||isNaN(te))throw Fs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ee,he),this.lineTo(ee+se,he),this.lineTo(ee+se,he+te),this.lineTo(ee,he+te),this.lineTo(ee,he),this.lineTo(ee+se,he),this.lineTo(ee,he)},h.prototype.fillRect=function(ee,he,se,te){if(isNaN(ee)||isNaN(he)||isNaN(se)||isNaN(te))throw Fs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ge={};this.lineCap!=="butt"&&(ge.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ge.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ee,he,se,te),this.fill(),ge.hasOwnProperty("lineCap")&&(this.lineCap=ge.lineCap),ge.hasOwnProperty("lineJoin")&&(this.lineJoin=ge.lineJoin)}},h.prototype.strokeRect=function(ee,he,se,te){if(isNaN(ee)||isNaN(he)||isNaN(se)||isNaN(te))throw Fs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(ee,he,se,te),this.stroke())},h.prototype.clearRect=function(ee,he,se,te){if(isNaN(ee)||isNaN(he)||isNaN(se)||isNaN(te))throw Fs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ee,he,se,te))},h.prototype.save=function(ee){ee=typeof ee!="boolean"||ee;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("q");if(this.pdf.setPage(he),ee){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},h.prototype.restore=function(ee){ee=typeof ee!="boolean"||ee;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("Q");this.pdf.setPage(he),ee&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(ee){var he,se,te,ge;if(ee.isCanvasGradient===!0&&(ee=ee.getColor()),!ee)return{r:0,g:0,b:0,a:0,style:ee};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ee))he=0,se=0,te=0,ge=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ee);if(ue!==null)he=parseInt(ue[1]),se=parseInt(ue[2]),te=parseInt(ue[3]),ge=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ee))!==null)he=parseInt(ue[1]),se=parseInt(ue[2]),te=parseInt(ue[3]),ge=parseFloat(ue[4]);else{if(ge=1,typeof ee=="string"&&ee.charAt(0)!=="#"){var Ce=new jce(ee);ee=Ce.ok?Ce.toHex():"#000000"}ee.length===4?(he=ee.substring(1,2),he+=he,se=ee.substring(2,3),se+=se,te=ee.substring(3,4),te+=te):(he=ee.substring(1,3),se=ee.substring(3,5),te=ee.substring(5,7)),he=parseInt(he,16),se=parseInt(se,16),te=parseInt(te,16)}}return{r:he,g:se,b:te,a:ge,style:ee}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(ee,he,se,te){if(isNaN(he)||isNaN(se)||typeof ee!="string")throw Fs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!p.call(this)){var ge=le(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;G.call(this,{text:ee,x:he,y:se,scale:ue,angle:ge,align:this.textAlign,maxWidth:te})}},h.prototype.strokeText=function(ee,he,se,te){if(isNaN(he)||isNaN(se)||typeof ee!="string")throw Fs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){te=isNaN(te)?void 0:te;var ge=le(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;G.call(this,{text:ee,x:he,y:se,scale:ue,renderingMode:"stroke",angle:ge,align:this.textAlign,maxWidth:te})}},h.prototype.measureText=function(ee){if(typeof ee!="string")throw Fs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var he=this.pdf,se=this.pdf.internal.scaleFactor,te=he.internal.getFontSize(),ge=he.getStringUnitWidth(ee)*te/he.internal.scaleFactor;return new function(ue){var Ce=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this}({width:ge*=Math.round(96*se/72*1e4)/1e4})},h.prototype.scale=function(ee,he){if(isNaN(ee)||isNaN(he))throw Fs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var se=new c(ee,0,0,he,0,0);this.ctx.transform=this.ctx.transform.multiply(se)},h.prototype.rotate=function(ee){if(isNaN(ee))throw Fs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var he=new c(Math.cos(ee),Math.sin(ee),-Math.sin(ee),Math.cos(ee),0,0);this.ctx.transform=this.ctx.transform.multiply(he)},h.prototype.translate=function(ee,he){if(isNaN(ee)||isNaN(he))throw Fs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var se=new c(1,0,0,1,ee,he);this.ctx.transform=this.ctx.transform.multiply(se)},h.prototype.transform=function(ee,he,se,te,ge,ue){if(isNaN(ee)||isNaN(he)||isNaN(se)||isNaN(te)||isNaN(ge)||isNaN(ue))throw Fs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ce=new c(ee,he,se,te,ge,ue);this.ctx.transform=this.ctx.transform.multiply(Ce)},h.prototype.setTransform=function(ee,he,se,te,ge,ue){ee=isNaN(ee)?1:ee,he=isNaN(he)?0:he,se=isNaN(se)?0:se,te=isNaN(te)?1:te,ge=isNaN(ge)?0:ge,ue=isNaN(ue)?0:ue,this.ctx.transform=new c(ee,he,se,te,ge,ue)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(ee,he,se,te,ge,ue,Ce,Ne,Ee){var Ge=this.pdf.getImageProperties(ee),Be=1,st=1,lt=1,Me=1;te!==void 0&&Ne!==void 0&&(lt=Ne/te,Me=Ee/ge,Be=Ge.width/te*Ne/te,st=Ge.height/ge*Ee/ge),ue===void 0&&(ue=he,Ce=se,he=0,se=0),te!==void 0&&Ne===void 0&&(Ne=te,Ee=ge),te===void 0&&Ne===void 0&&(Ne=Ge.width,Ee=Ge.height);var wt=this.ctx.transform.decompose(),_t=le(wt.rotate.shx),ar=new c,Tt=(ar=(ar=(ar=ar.multiply(wt.translate)).multiply(wt.skew)).multiply(wt.scale)).applyToRectangle(new l(ue-he*lt,Ce-se*Me,te*Be,ge*st));if(this.autoPaging){for(var sn,ct=S.call(this,Tt),Ar=[],jr=0;jr<ct.length;jr+=1)Ar.indexOf(ct[jr])===-1&&Ar.push(ct[jr]);T(Ar);for(var tn=Ar[0],ha=Ar[Ar.length-1],mn=tn;mn<ha+1;mn++){this.pdf.setPage(mn);var xa=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Un=mn===1?this.posY+this.margin[0]:this.margin[0],nn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ca=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Cn=mn===1?0:nn+(mn-2)*ca;if(this.ctx.clip_path.length!==0){var ms=this.path;sn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(sn,this.posX+this.margin[3],-Cn+Un+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=ms}var Zn=JSON.parse(JSON.stringify(Tt));Zn=j([Zn],this.posX+this.margin[3],-Cn+Un+this.ctx.prevPageLastElemOffset)[0];var sr=(mn>tn||mn<ha)&&b.call(this);sr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xa,ca,null).clip().discardPath()),this.pdf.addImage(ee,"JPEG",Zn.x,Zn.y,Zn.w,Zn.h,null,null,_t),sr&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(ee,"JPEG",Tt.x,Tt.y,Tt.w,Tt.h,null,null,_t)};var S=function(ee,he,se){var te=[];he=he||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ge=this.posY+this.ctx.prevPageLastElemOffset;switch(ee.type){default:case"mt":case"lt":te.push(Math.floor((ee.y+ge)/se)+1);break;case"arc":te.push(Math.floor((ee.y+ge-ee.radius)/se)+1),te.push(Math.floor((ee.y+ge+ee.radius)/se)+1);break;case"qct":var ue=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ee.x1,ee.y1,ee.x,ee.y);te.push(Math.floor((ue.y+ge)/se)+1),te.push(Math.floor((ue.y+ue.h+ge)/se)+1);break;case"bct":var Ce=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ee.x1,ee.y1,ee.x2,ee.y2,ee.x,ee.y);te.push(Math.floor((Ce.y+ge)/se)+1),te.push(Math.floor((Ce.y+Ce.h+ge)/se)+1);break;case"rect":te.push(Math.floor((ee.y+ge)/se)+1),te.push(Math.floor((ee.y+ee.h+ge)/se)+1)}for(var Ne=0;Ne<te.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<te[Ne];)C.call(this);return te},C=function(){var ee=this.fillStyle,he=this.strokeStyle,se=this.font,te=this.lineCap,ge=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=ee,this.strokeStyle=he,this.font=se,this.lineCap=te,this.lineWidth=ge,this.lineJoin=ue},j=function(ee,he,se){for(var te=0;te<ee.length;te++)switch(ee[te].type){case"bct":ee[te].x2+=he,ee[te].y2+=se;case"qct":ee[te].x1+=he,ee[te].y1+=se;default:ee[te].x+=he,ee[te].y+=se}return ee},T=function(ee){return ee.sort(function(he,se){return he-se})},O=function(ee,he){var se=this.fillStyle,te=this.strokeStyle,ge=this.lineCap,ue=this.lineWidth,Ce=Math.abs(ue*this.ctx.transform.scaleX),Ne=this.lineJoin;if(this.autoPaging){for(var Ee,Ge,Be=JSON.parse(JSON.stringify(this.path)),st=JSON.parse(JSON.stringify(this.path)),lt=[],Me=0;Me<st.length;Me++)if(st[Me].x!==void 0)for(var wt=S.call(this,st[Me]),_t=0;_t<wt.length;_t+=1)lt.indexOf(wt[_t])===-1&&lt.push(wt[_t]);for(var ar=0;ar<lt.length;ar++)for(;this.pdf.internal.getNumberOfPages()<lt[ar];)C.call(this);T(lt);for(var Tt=lt[0],sn=lt[lt.length-1],ct=Tt;ct<sn+1;ct++){this.pdf.setPage(ct),this.fillStyle=se,this.strokeStyle=te,this.lineCap=ge,this.lineWidth=Ce,this.lineJoin=Ne;var Ar=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jr=ct===1?this.posY+this.margin[0]:this.margin[0],tn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ha=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mn=ct===1?0:tn+(ct-2)*ha;if(this.ctx.clip_path.length!==0){var xa=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ee,this.posX+this.margin[3],-mn+jr+this.ctx.prevPageLastElemOffset),M.call(this,ee,!0),this.path=xa}if(Ge=JSON.parse(JSON.stringify(Be)),this.path=j(Ge,this.posX+this.margin[3],-mn+jr+this.ctx.prevPageLastElemOffset),he===!1||ct===0){var Un=(ct>Tt||ct<sn)&&b.call(this);Un&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ar,ha,null).clip().discardPath()),M.call(this,ee,he),Un&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}this.path=Be}else this.lineWidth=Ce,M.call(this,ee,he),this.lineWidth=ue},M=function(ee,he){if((ee!=="stroke"||he||!N.call(this))&&(ee==="stroke"||he||!p.call(this))){for(var se,te,ge=[],ue=this.path,Ce=0;Ce<ue.length;Ce++){var Ne=ue[Ce];switch(Ne.type){case"begin":ge.push({begin:!0});break;case"close":ge.push({close:!0});break;case"mt":ge.push({start:Ne,deltas:[],abs:[]});break;case"lt":var Ee=ge.length;if(ue[Ce-1]&&!isNaN(ue[Ce-1].x)&&(se=[Ne.x-ue[Ce-1].x,Ne.y-ue[Ce-1].y],Ee>0)){for(;Ee>=0;Ee--)if(ge[Ee-1].close!==!0&&ge[Ee-1].begin!==!0){ge[Ee-1].deltas.push(se),ge[Ee-1].abs.push(Ne);break}}break;case"bct":se=[Ne.x1-ue[Ce-1].x,Ne.y1-ue[Ce-1].y,Ne.x2-ue[Ce-1].x,Ne.y2-ue[Ce-1].y,Ne.x-ue[Ce-1].x,Ne.y-ue[Ce-1].y],ge[ge.length-1].deltas.push(se);break;case"qct":var Ge=ue[Ce-1].x+2/3*(Ne.x1-ue[Ce-1].x),Be=ue[Ce-1].y+2/3*(Ne.y1-ue[Ce-1].y),st=Ne.x+2/3*(Ne.x1-Ne.x),lt=Ne.y+2/3*(Ne.y1-Ne.y),Me=Ne.x,wt=Ne.y;se=[Ge-ue[Ce-1].x,Be-ue[Ce-1].y,st-ue[Ce-1].x,lt-ue[Ce-1].y,Me-ue[Ce-1].x,wt-ue[Ce-1].y],ge[ge.length-1].deltas.push(se);break;case"arc":ge.push({deltas:[],abs:[],arc:!0}),Array.isArray(ge[ge.length-1].abs)&&ge[ge.length-1].abs.push(Ne)}}te=he?null:ee==="stroke"?"stroke":"fill";for(var _t=!1,ar=0;ar<ge.length;ar++)if(ge[ar].arc)for(var Tt=ge[ar].abs,sn=0;sn<Tt.length;sn++){var ct=Tt[sn];ct.type==="arc"?H.call(this,ct.x,ct.y,ct.radius,ct.startAngle,ct.endAngle,ct.counterclockwise,void 0,he,!_t):re.call(this,ct.x,ct.y),_t=!0}else if(ge[ar].close===!0)this.pdf.internal.out("h"),_t=!1;else if(ge[ar].begin!==!0){var Ar=ge[ar].start.x,jr=ge[ar].start.y;ae.call(this,ge[ar].deltas,Ar,jr),_t=!0}te&&U.call(this,te),he&&J.call(this)}},B=function(ee){var he=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=he*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ee-se;case"top":return ee+he-se;case"hanging":return ee+he-2*se;case"middle":return ee+he/2-se;default:return ee}},L=function(ee){return ee+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var ee=function(){};return ee.colorStops=[],ee.addColorStop=function(he,se){this.colorStops.push([he,se])},ee.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ee.isCanvasGradient=!0,ee},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var H=function(ee,he,se,te,ge,ue,Ce,Ne,Ee){for(var Ge=ne.call(this,se,te,ge,ue),Be=0;Be<Ge.length;Be++){var st=Ge[Be];Be===0&&(Ee?K.call(this,st.x1+ee,st.y1+he):re.call(this,st.x1+ee,st.y1+he)),X.call(this,ee,he,st.x2,st.y2,st.x3,st.y3,st.x4,st.y4)}Ne?J.call(this):U.call(this,Ce)},U=function(ee){switch(ee){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},K=function(ee,he){this.pdf.internal.out(r(ee)+" "+n(he)+" m")},G=function(ee){var he;switch(ee.align){case"right":case"end":he="right";break;case"center":he="center";break;default:he="left"}var se,te,ge,ue=this.pdf.getTextDimensions(ee.text),Ce=B.call(this,ee.y),Ne=L.call(this,Ce)-ue.h,Ee=this.ctx.transform.applyToPoint(new o(ee.x,Ce));if(this.autoPaging){var Ge=this.ctx.transform.decompose(),Be=new c;Be=(Be=(Be=Be.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale);for(var st=this.ctx.transform.applyToRectangle(new l(ee.x,Ce,ue.w,ue.h)),lt=Be.applyToRectangle(new l(ee.x,Ne,ue.w,ue.h)),Me=S.call(this,lt),wt=[],_t=0;_t<Me.length;_t+=1)wt.indexOf(Me[_t])===-1&&wt.push(Me[_t]);T(wt);for(var ar=wt[0],Tt=wt[wt.length-1],sn=ar;sn<Tt+1;sn++){this.pdf.setPage(sn);var ct=sn===1?this.posY+this.margin[0]:this.margin[0],Ar=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jr=this.pdf.internal.pageSize.height-this.margin[2],tn=jr-this.margin[0],ha=this.pdf.internal.pageSize.width-this.margin[1],mn=ha-this.margin[3],xa=sn===1?0:Ar+(sn-2)*tn;if(this.ctx.clip_path.length!==0){var Un=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(se,this.posX+this.margin[3],-1*xa+ct),M.call(this,"fill",!0),this.path=Un}var nn=j([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-xa+ct+this.ctx.prevPageLastElemOffset)[0];ee.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*ee.scale),ge=this.lineWidth,this.lineWidth=ge*ee.scale);var ca=this.autoPaging!=="text";if(ca||nn.y+nn.h<=jr){if(ca||nn.y>=ct&&nn.x<=ha){var Cn=ca?ee.text:this.pdf.splitTextToSize(ee.text,ee.maxWidth||ha-nn.x)[0],ms=j([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-xa+ct+this.ctx.prevPageLastElemOffset)[0],Zn=ca&&(sn>ar||sn<Tt)&&b.call(this);Zn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mn,tn,null).clip().discardPath()),this.pdf.text(Cn,ms.x,ms.y,{angle:ee.angle,align:he,renderingMode:ee.renderingMode}),Zn&&this.pdf.restoreGraphicsState()}}else nn.y<jr&&(this.ctx.prevPageLastElemOffset+=jr-nn.y);ee.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=ge)}}else ee.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*ee.scale),ge=this.lineWidth,this.lineWidth=ge*ee.scale),this.pdf.text(ee.text,Ee.x+this.posX,Ee.y+this.posY,{angle:ee.angle,align:he,renderingMode:ee.renderingMode,maxWidth:ee.maxWidth}),ee.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=ge)},re=function(ee,he,se,te){se=se||0,te=te||0,this.pdf.internal.out(r(ee+se)+" "+n(he+te)+" l")},ae=function(ee,he,se){return this.pdf.lines(ee,he,se,null,null)},X=function(ee,he,se,te,ge,ue,Ce,Ne){this.pdf.internal.out([t(a(se+ee)),t(i(te+he)),t(a(ge+ee)),t(i(ue+he)),t(a(Ce+ee)),t(i(Ne+he)),"c"].join(" "))},ne=function(ee,he,se,te){for(var ge=2*Math.PI,ue=Math.PI/2;he>se;)he-=ge;var Ce=Math.abs(se-he);Ce<ge&&te&&(Ce=ge-Ce);for(var Ne=[],Ee=te?-1:1,Ge=he;Ce>1e-5;){var Be=Ge+Ee*Math.min(Ce,ue);Ne.push(de.call(this,ee,Ge,Be)),Ce-=Math.abs(Be-Ge),Ge=Be}return Ne},de=function(ee,he,se){var te=(se-he)/2,ge=ee*Math.cos(te),ue=ee*Math.sin(te),Ce=ge,Ne=-ue,Ee=Ce*Ce+Ne*Ne,Ge=Ee+Ce*ge+Ne*ue,Be=4/3*(Math.sqrt(2*Ee*Ge)-Ge)/(Ce*ue-Ne*ge),st=Ce-Be*Ne,lt=Ne+Be*Ce,Me=st,wt=-lt,_t=te+he,ar=Math.cos(_t),Tt=Math.sin(_t);return{x1:ee*Math.cos(he),y1:ee*Math.sin(he),x2:st*ar-lt*Tt,y2:st*Tt+lt*ar,x3:Me*ar-wt*Tt,y3:Me*Tt+wt*ar,x4:ee*Math.cos(se),y4:ee*Math.sin(se)}},le=function(ee){return 180*ee/Math.PI},xe=function(ee,he,se,te,ge,ue){var Ce=ee+.5*(se-ee),Ne=he+.5*(te-he),Ee=ge+.5*(se-ge),Ge=ue+.5*(te-ue),Be=Math.min(ee,ge,Ce,Ee),st=Math.max(ee,ge,Ce,Ee),lt=Math.min(he,ue,Ne,Ge),Me=Math.max(he,ue,Ne,Ge);return new l(Be,lt,st-Be,Me-lt)},Se=function(ee,he,se,te,ge,ue,Ce,Ne){var Ee,Ge,Be,st,lt,Me,wt,_t,ar,Tt,sn,ct,Ar,jr,tn=se-ee,ha=te-he,mn=ge-se,xa=ue-te,Un=Ce-ge,nn=Ne-ue;for(Ge=0;Ge<41;Ge++)ar=(wt=(Be=ee+(Ee=Ge/40)*tn)+Ee*((lt=se+Ee*mn)-Be))+Ee*(lt+Ee*(ge+Ee*Un-lt)-wt),Tt=(_t=(st=he+Ee*ha)+Ee*((Me=te+Ee*xa)-st))+Ee*(Me+Ee*(ue+Ee*nn-Me)-_t),Ge==0?(sn=ar,ct=Tt,Ar=ar,jr=Tt):(sn=Math.min(sn,ar),ct=Math.min(ct,Tt),Ar=Math.max(Ar,ar),jr=Math.max(jr,Tt));return new l(Math.round(sn),Math.round(ct),Math.round(Ar-sn),Math.round(jr-ct))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ee,he,se=(ee=this.ctx.lineDash,he=this.ctx.lineDashOffset,JSON.stringify({lineDash:ee,lineDashOffset:he}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(na.API),function(e){var t=function(o){var l,c,u,f,h,g,p,N,b,S;for(c=[],u=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>u;u+=4)(h=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(g=(h=((h=((h=((h=(h-(S=h%85))/85)-(b=h%85))/85)-(N=h%85))/85)-(p=h%85))/85)%85,c.push(g+33,p+33,N+33,b+33,S+33)):c.push(122);return function(C,j){for(var T=j;T>0;T--)C.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,f,h,g=String,p="length",N=255,b="charCodeAt",S="slice",C="replace";for(o[S](-2),o=o[S](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),u=[],f=0,h=(o+=l="uuuuu"[S](o[p]%5||5))[p];h>f;f+=5)c=52200625*(o[b](f)-33)+614125*(o[b](f+1)-33)+7225*(o[b](f+2)-33)+85*(o[b](f+3)-33)+(o[b](f+4)-33),u.push(N&c>>24,N&c>>16,N&c>>8,N&c);return function(j,T){for(var O=T;O>0;O--)j.pop()}(u,l[p]),g.fromCharCode.apply(g,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=pF(l)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(na.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,f){var h=new XMLHttpRequest,g=0,p=function(N){var b=N.length,S=[],C=String.fromCharCode;for(g=0;g<b;g+=1)S.push(C(255&N.charCodeAt(g)));return S.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?f(p(this.responseText)):f(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)}(a,i,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(na.API),function(e){function t(){return(Da.html2canvas?Promise.resolve(Da.html2canvas):tC(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Da.DOMPurify?Promise.resolve(Da.DOMPurify):tC(()=>import("./purify.es-96e69d58.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Yi(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var f in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[f]=c.style[f];return u},i=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),u);return(f=f.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var N=f[p],b=N.src.find(function(S){return S.format==="truetype"});b&&u.addFont(b.url,N.ref.name,N.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(l=l||na.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,f){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(f,h){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,f),g}).then(f,h).then(function(g){return u.updateProgress(1),g})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),c&&(c=c.bind(f));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),g=u.call(h,l,c);return o.convert(g,f.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,na.getPageSize=function(l,c,u){if(Yi(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,u=f.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var h,g=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var N,b=0,S=0;if(p.hasOwnProperty(g))b=p[g][1]/h,S=p[g][0]/h;else try{b=u[1],S=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",S>b&&(N=S,S=b,b=N);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",b>S&&(N=S,S=b,b=N)}return{width:S,height:b,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(hP):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(na.API),na.API.addJS=function(e){return wq=e,this.internal.events.subscribe("postPutResources",function(){cS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(cS+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bq=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+wq+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){cS!==void 0&&bq!==void 0&&this.internal.out("/Names <</JavaScript "+cS+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(i=0;i<u;i++){var h=r.internal.newObject();f.push(h);var g=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(na.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,l){var c,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(h){for(var g,p=256*h.charCodeAt(4)+h.charCodeAt(5),N=h.length,b={width:0,height:0,numcomponents:1},S=4;S<N;S+=2){if(S+=p,t.indexOf(h.charCodeAt(S+1))!==-1){g=256*h.charCodeAt(S+5)+h.charCodeAt(S+6),b={width:256*h.charCodeAt(S+7)+h.charCodeAt(S+8),height:g,numcomponents:h.charCodeAt(S+9)};break}p=256*h.charCodeAt(S+2)+h.charCodeAt(S+3)}return b}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return f}}(na.API),na.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=oMe(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,u=i.palette,f=i.depth;a=u&&c===1?function(H){for(var U=H.width,J=H.height,K=H.data,G=H.palette,re=H.depth,ae=!1,X=[],ne=[],de=void 0,le=!1,xe=0,Se=0;Se<G.length;Se++){var ye=pH(G[Se],4),ee=ye[0],he=ye[1],se=ye[2],te=ye[3];X.push(ee,he,se),te!=null&&(te===0?(xe++,ne.length<1&&ne.push(Se)):te<255&&(le=!0))}if(le||xe>1){ae=!0,ne=void 0;var ge=U*J;de=new Uint8Array(ge);for(var ue=new DataView(K.buffer),Ce=0;Ce<ge;Ce++){var Ne=pP(ue,Ce,re),Ee=pH(G[Ne],4)[3];de[Ce]=Ee}}else xe===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ae?8:void 0,colorBytes:K,alphaBytes:de,needSMask:ae,palette:X,mask:ne}}(i):c===2||c===4?function(H){for(var U=H.data,J=H.width,K=H.height,G=H.channels,re=H.depth,ae=G===2?"DeviceGray":"DeviceRGB",X=G-1,ne=J*K,de=X,le=ne*de,xe=1*ne,Se=Math.ceil(le*re/8),ye=Math.ceil(xe*re/8),ee=new Uint8Array(Se),he=new Uint8Array(ye),se=new DataView(U.buffer),te=new DataView(ee.buffer),ge=new DataView(he.buffer),ue=!1,Ce=0;Ce<ne;Ce++){for(var Ne=Ce*G,Ee=0;Ee<de;Ee++)kq(te,pP(se,Ne+Ee,re),Ce*de+Ee,re);var Ge=pP(se,Ne+de,re);Ge<(1<<re)-1&&(ue=!0),kq(ge,Ge,1*Ce,re)}return{colorSpace:ae,colorsPerPixel:X,sMaskBitsPerComponent:ue?re:void 0,colorBytes:ee,alphaBytes:he,needSMask:ue}}(i):function(H){var U=H.data,J=H.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:J,colorsPerPixel:J==="DeviceGray"?1:3,colorBytes:U instanceof Uint16Array?function(K){for(var G=K.length,re=new Uint8Array(2*G),ae=new DataView(re.buffer,re.byteOffset,re.byteLength),X=0;X<G;X++)ae.setUint16(2*X,K[X],!1);return re}(U):U,needSMask:!1}}(i);var h,g,p,N=a,b=N.colorSpace,S=N.colorsPerPixel,C=N.sMaskBitsPerComponent,j=N.colorBytes,T=N.alphaBytes,O=N.needSMask,M=N.palette,B=N.mask,L=null;return n!==na.API.image_compression.NONE&&typeof pF=="function"?(L=function(H){var U;switch(H){case na.API.image_compression.FAST:U=11;break;case na.API.image_compression.MEDIUM:U=13;break;case na.API.image_compression.SLOW:U=14;break;default:U=12}return U}(n),h=this.decode.FLATE_DECODE,g="/Predictor ".concat(L," /Colors ").concat(S," /BitsPerComponent ").concat(f," /Columns ").concat(o),e=Cq(j,Math.ceil(o*S*f/8),S,f,n),O&&(p=Cq(T,Math.ceil(o*C/8),1,C,n))):(h=void 0,g=void 0,e=j,O&&(p=T)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:h,decodeParameters:g,transparency:B,palette:M,sMask:p,predictor:L,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:C,colorSpace:b}}},function(e){e.processGIF89A=function(t,r,n,a){var i=new jMe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},f=new gP(100).encode(u,100);return e.processJPEG.call(this,f,r,n,a)},e.processGIF87A=e.processGIF89A}(na.API),mh.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},mh.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Fs.log("bit decode error:"+r)}},mh.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},mh.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},mh.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},mh.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,f=n*this.width*4+4*a;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=u}this.pos+=e}},mh.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,f=a*this.width*4+4*i;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},mh.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},mh.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},mh.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new mh(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new gP(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(na.API),Oq.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new Oq(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new gP(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(na.API),na.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var f=n[u],h=n[u+1],g=n[u+2],p=n[u+3];i[l++]=f,i[l++]=h,i[l++]=g,o[c++]=p}var N=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:N,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},na.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zv=na.API,uS=zv.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,f=u.fof?u.fof:1,h=t.doKerning!==!1,g=0,p=e.length,N=0,b=l[0]||c,S=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?S.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(g=h&&Yi(u[n])==="object"&&!isNaN(parseInt(u[n][N],10))?u[n][N]/f:0,S.push((l[n]||b)/c+g)),N=n;return S},_q=zv.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return zv.processArabic&&(e=zv.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:uS.apply(this,arguments).reduce(function(i,o){return i+o},0)},Nq=function(e,t,r,n){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},Sq=function(e,t,r){r||(r={});var n,a,i,o,l,c,u,f=[],h=[f],g=r.textIndent||0,p=0,N=0,b=e.split(" "),S=uS.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var C=Array(c).join(" "),j=[];b.map(function(O){(O=O.split(/\s*\n/)).length>1?j=j.concat(O.map(function(M,B){return(B&&M.length?`
`:"")+M})):j.push(O[0])}),b=j,c=_q.apply(this,[C,r])}for(i=0,o=b.length;i<o;i++){var T=0;if(n=b[i],c&&n[0]==`
`&&(n=n.substr(1),T=1),g+p+(N=(a=uS.apply(this,[n,r])).reduce(function(O,M){return O+M},0))>t||T){if(N>t){for(l=Nq.apply(this,[n,a,t-(g+p),t]),f.push(l.shift()),f=[l.pop()];l.length;)h.push([l.shift()]);N=a.slice(n.length-(f[0]?f[0].length:0)).reduce(function(O,M){return O+M},0)}else f=[n];h.push(f),g=N+c,p=S}else f.push(n),g+=p+N,p=S}return u=c?function(O,M){return(M?C:"")+O.join(" ")}:function(O){return O.join(" ")},h.map(u)},zv.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle),g="Unicode";return h.metadata[g]?{widths:h.metadata[g].widths||{0:1},kerning:h.metadata[g].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(Sq.apply(this,[n[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var o=function(g){return"0x"+parseInt(g,10).toString(16)},l=e.__fontmetrics__.compress=function(g){var p,N,b,S,C=["{"];for(var j in g){if(p=g[j],isNaN(parseInt(j,10))?N="'"+j+"'":(j=parseInt(j,10),N=(N=o(j).slice(2)).slice(0,-1)+a[N.slice(-1)]),typeof p=="number")p<0?(b=o(p).slice(3),S="-"):(b=o(p).slice(2),S=""),b=S+b.slice(0,-1)+a[b.slice(-1)];else{if(Yi(p)!=="object")throw new Error("Don't know what to do with value type "+Yi(p)+".");b=l(p)}C.push(N+b)}return C.push("}"),C.join("")},c=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,N,b,S,C={},j=1,T=C,O=[],M="",B="",L=g.length-1,H=1;H<L;H+=1)(S=g[H])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(S):S=="{"?(O.push([T,b]),T={},b=void 0):S=="}"?((N=O.pop())[0][N[1]]=T,b=void 0,T=N[0]):S=="-"?j=-1:b===void 0?n.hasOwnProperty(S)?(M+=n[S],b=parseInt(M,16)*j,j=1,M=""):M+=S:n.hasOwnProperty(S)?(B+=n[S],T[b]=parseInt(B,16)*j,j=1,b=void 0,B=""):B+=S;return C},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var p=g.font,N=h.Unicode[p.postScriptName];N&&(p.metadata.Unicode={},p.metadata.Unicode.widths=N.widths,p.metadata.Unicode.kerning=N.kerning);var b=f.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(na.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(gC(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(na),na.API.addSvgAsImage=function(e,t,r,n,a,i,o,l){if(isNaN(t)||isNaN(r))throw Fs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Fs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Da.canvg?Promise.resolve(Da.canvg):tC(()=>import("./index.es-5fb19987.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,n,a,o,l)})},na.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},na.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,f=0,h=0;function g(N,b){var S,C=!1;for(S=0;S<N.length;S+=1)N[S]===b&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(h=0;h<p;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(Yi(e)==="object"){for(a in e)if(i=e[a],g(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&g(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(f=0;f<i[u].length;f+=1)typeof i[u][f]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,b=[];for(N in r)r[N].explicitSet===!0&&(r[N].type==="name"?b.push("/"+N+" /"+r[N].value):b.push("/"+N+" "+r[N].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(na.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],h=0,g=i.length;h<g;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(u[4-l.length],l)}return f.join("")},n=function(i){var o,l,c,u,f,h,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,g=(l=Object.keys(i).sort(function(p,N){return p-N})).length;h<g;h++)o=l[h],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",N=0;N<g.length;N++)p+=String.fromCharCode(g[N]);var b=u();f({data:p,addLength1:!0,objectId:b}),c("endobj");var S=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var C=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Qv(l.fontName)),c("/FontFile2 "+b+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Qv(l.fontName)),c("/FontDescriptor "+C+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+S+" 0 R"),c("/BaseFont /"+Qv(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,g="",p=0;p<h.length;p++)g+=String.fromCharCode(h[p]);var N=u();f({data:g,addLength1:!0,objectId:N}),c("endobj");var b=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var S=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+N+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Qv(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var C=0;C<l.metadata.hmtx.widths.length;C++)l.metadata.hmtx.widths[C]=parseInt(l.metadata.hmtx.widths[C]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Qv(l.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,f=i.options||{},h=i.mutex||{},g=h.pdfEscape,p=h.activeFontKey,N=h.fonts,b=p,S="",C=0,j="",T=N[b].encoding;if(N[b].encoding!=="Identity-H")return{text:l,x:c,y:u,options:f,mutex:h};for(j=l,b=p,Array.isArray(l)&&(j=l[0]),C=0;C<j.length;C+=1)N[b].metadata.hasOwnProperty("cmap")&&(o=N[b].metadata.cmap.unicode.codeMap[j[C].charCodeAt(0)]),o||j[C].charCodeAt(0)<256&&N[b].metadata.hasOwnProperty("Unicode")?S+=j[C]:S+="";var O="";return parseInt(b.slice(1))<14||T==="WinAnsiEncoding"?O=g(S,b).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(O=r(S,N[b])),h.isHex=!0,{text:O,x:c,y:u,options:f,mutex:h}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(na),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(na.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,l,c,u,f,h=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,T=0;this.__bidiEngine__={};var O=function(K){var G=K.charCodeAt(),re=G>>8,ae=b[re];return ae!==void 0?h[256*ae+(255&G)]:re===252||re===253?"AL":C.test(re)?"L":re===8?"R":"N"},M=function(K){for(var G,re=0;re<K.length;re++){if((G=O(K.charAt(re)))==="L")return!1;if(G==="R")return!0}return!1},B=function(K,G,re,ae){var X,ne,de,le,xe=G[ae];switch(xe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(xe="AN");break;case"AL":j=!0,xe="R";break;case"WS":case"BN":xe="N";break;case"CS":ae<1||ae+1>=G.length||(X=re[ae-1])!=="EN"&&X!=="AN"||(ne=G[ae+1])!=="EN"&&ne!=="AN"?xe="N":j&&(ne="AN"),xe=ne===X?ne:"N";break;case"ES":xe=(X=ae>0?re[ae-1]:"B")==="EN"&&ae+1<G.length&&G[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&re[ae-1]==="EN"){xe="EN";break}if(j){xe="N";break}for(de=ae+1,le=G.length;de<le&&G[de]==="ET";)de++;xe=de<le&&G[de]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(le=G.length,de=ae+1;de<le&&G[de]==="NSM";)de++;if(de<le){var Se=K[ae],ye=Se>=1425&&Se<=2303||Se===64286;if(X=G[de],ye&&(X==="R"||X==="AL")){xe="R";break}}}xe=ae<1||(X=G[ae-1])==="B"?"N":re[ae-1];break;case"B":j=!1,a=!0,xe=T;break;case"S":i=!0,xe="N"}return xe},L=function(K,G,re){var ae=K.split("");return re&&H(ae,re,{hiLevel:T}),ae.reverse(),G&&G.reverse(),ae.join("")},H=function(K,G,re){var ae,X,ne,de,le,xe=-1,Se=K.length,ye=0,ee=[],he=T?p:g,se=[];for(j=!1,a=!1,i=!1,X=0;X<Se;X++)se[X]=O(K[X]);for(ne=0;ne<Se;ne++){if(le=ye,ee[ne]=B(K,se,ee,ne),ae=240&(ye=he[le][N[ee[ne]]]),ye&=15,G[ne]=de=he[ye][5],ae>0)if(ae===16){for(X=xe;X<ne;X++)G[X]=1;xe=-1}else xe=-1;if(he[ye][6])xe===-1&&(xe=ne);else if(xe>-1){for(X=xe;X<ne;X++)G[X]=de;xe=-1}se[ne]==="B"&&(G[ne]=0),re.hiLevel|=de}i&&function(te,ge,ue){for(var Ce=0;Ce<ue;Ce++)if(te[Ce]==="S"){ge[Ce]=T;for(var Ne=Ce-1;Ne>=0&&te[Ne]==="WS";Ne--)ge[Ne]=T}}(se,G,Se)},U=function(K,G,re,ae,X){if(!(X.hiLevel<K)){if(K===1&&T===1&&!a)return G.reverse(),void(re&&re.reverse());for(var ne,de,le,xe,Se=G.length,ye=0;ye<Se;){if(ae[ye]>=K){for(le=ye+1;le<Se&&ae[le]>=K;)le++;for(xe=ye,de=le-1;xe<de;xe++,de--)ne=G[xe],G[xe]=G[de],G[de]=ne,re&&(ne=re[xe],re[xe]=re[de],re[de]=ne);ye=le}ye++}}},J=function(K,G,re){var ae=K.split(""),X={hiLevel:T};return re||(re=[]),H(ae,re,X),function(ne,de,le){if(le.hiLevel!==0&&f)for(var xe,Se=0;Se<ne.length;Se++)de[Se]===1&&(xe=S.indexOf(ne[Se]))>=0&&(ne[Se]=S[xe+1])}(ae,re,X),U(2,ae,G,re,X),U(1,ae,G,re,X),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(K,G,re){if(function(X,ne){if(ne)for(var de=0;de<X.length;de++)ne[de]=de;l===void 0&&(l=M(X)),u===void 0&&(u=M(X))}(K,G),o||!c||u)if(o&&c&&l^u)T=l?1:0,K=L(K,G,re);else if(!o&&c&&u)T=l?1:0,K=J(K,G,re),K=L(K,G);else if(!o||l||c||u){if(o&&!c&&l^u)K=L(K,G),l?(T=0,K=J(K,G,re)):(T=1,K=J(K,G,re),K=L(K,G));else if(o&&l&&!c&&u)T=1,K=J(K,G,re),K=L(K,G);else if(!o&&!c&&l^u){var ae=f;l?(T=1,K=J(K,G,re),T=0,f=!1,K=J(K,G,re),f=ae):(T=0,K=J(K,G,re),K=L(K,G),T=1,f=!1,K=J(K,G,re),f=ae,K=L(K,G))}}else T=0,K=J(K,G,re);else T=l?1:0,K=J(K,G,re);return K},this.__bidiEngine__.setOptions=function(K){K&&(o=K.isInputVisual,c=K.isOutputVisual,l=K.isInputRtl,u=K.isOutputRtl,f=K.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(na),na.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new k1(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new VMe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new TMe(this.contents),this.head=new PMe(this),this.name=new RMe(this),this.cmap=new Bce(this),this.toUnicode={},this.hhea=new OMe(this),this.maxp=new MMe(this),this.hmtx=new LMe(this),this.post=new FMe(this),this.os2=new IMe(this),this.loca=new zMe(this),this.glyf=new BMe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Gh,k1=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),TMe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,l,c,u,f,h,g,p,N,b;for(b in p=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),o=Math.floor(h/c),f=16*p-h,(a=new k1).writeInt(this.scalarType),a.writeShort(p),a.writeShort(h),a.writeShort(o),a.writeShort(f),i=16*p,u=a.pos+i,l=null,N=[],r)for(g=r[b],a.writeString(b),a.writeInt(e(g)),a.writeInt(u),a.writeInt(g.length),N=N.concat(g),b==="head"&&(l=u),u+=g.length;u%4;)N.push(0),u++;return a.write(N),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=Uce.call(r);r.length%4;)r.push(0);for(i=new k1(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),kMe={}.hasOwnProperty,q0=function(e,t){for(var r in t)kMe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Gh=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var PMe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return q0(e,Gh),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new k1).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),Iq=function(){function e(t,r){var n,a,i,o,l,c,u,f,h,g,p,N,b,S,C,j,T;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),g=p/2,t.pos+=6,i=function(){var O,M;for(M=[],c=O=0;0<=g?O<g:O>g;c=0<=g?++O:--O)M.push(t.readUInt16());return M}(),t.pos+=2,b=function(){var O,M;for(M=[],c=O=0;0<=g?O<g:O>g;c=0<=g?++O:--O)M.push(t.readUInt16());return M}(),u=function(){var O,M;for(M=[],c=O=0;0<=g?O<g:O>g;c=0<=g?++O:--O)M.push(t.readUInt16());return M}(),f=function(){var O,M;for(M=[],c=O=0;0<=g?O<g:O>g;c=0<=g?++O:--O)M.push(t.readUInt16());return M}(),a=(this.length-t.pos+this.offset)/2,l=function(){var O,M;for(M=[],c=O=0;0<=a?O<a:O>a;c=0<=a?++O:--O)M.push(t.readUInt16());return M}(),c=C=0,T=i.length;C<T;c=++C)for(S=i[c],n=j=N=b[c];N<=S?j<=S:j>=S;n=N<=S?++j:--j)f[c]===0?o=n+u[c]:(o=l[f[c]/2+(n-N)-(g-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=h}return e.encode=function(t,r){var n,a,i,o,l,c,u,f,h,g,p,N,b,S,C,j,T,O,M,B,L,H,U,J,K,G,re,ae,X,ne,de,le,xe,Se,ye,ee,he,se,te,ge,ue,Ce,Ne,Ee,Ge,Be;switch(ae=new k1,o=Object.keys(t).sort(function(st,lt){return st-lt}),r){case"macroman":for(b=0,S=function(){var st=[];for(N=0;N<256;++N)st.push(0);return st}(),j={0:0},i={},X=0,xe=o.length;X<xe;X++)j[Ne=t[a=o[X]]]==null&&(j[Ne]=++b),i[a]={old:t[a],new:j[t[a]]},S[a]=j[t[a]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(S),{charMap:i,subtable:ae.data,maxGlyphID:b+1};case"unicode":for(G=[],h=[],T=0,j={},n={},C=u=null,ne=0,Se=o.length;ne<Se;ne++)j[M=t[a=o[ne]]]==null&&(j[M]=++T),n[a]={old:M,new:j[M]},l=j[M]-a,C!=null&&l===u||(C&&h.push(C),G.push(a),u=l),C=a;for(C&&h.push(C),h.push(65535),G.push(65535),J=2*(U=G.length),H=2*Math.pow(Math.log(U)/Math.LN2,2),g=Math.log(H/2)/Math.LN2,L=2*U-H,c=[],B=[],p=[],N=de=0,ye=G.length;de<ye;N=++de){if(K=G[N],f=h[N],K===65535){c.push(0),B.push(0);break}if(K-(re=n[K].new)>=32768)for(c.push(0),B.push(2*(p.length+U-N)),a=le=K;K<=f?le<=f:le>=f;a=K<=f?++le:--le)p.push(n[a].new);else c.push(re-K),B.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*U+2*p.length),ae.writeUInt16(0),ae.writeUInt16(J),ae.writeUInt16(H),ae.writeUInt16(g),ae.writeUInt16(L),ue=0,ee=h.length;ue<ee;ue++)a=h[ue],ae.writeUInt16(a);for(ae.writeUInt16(0),Ce=0,he=G.length;Ce<he;Ce++)a=G[Ce],ae.writeUInt16(a);for(Ee=0,se=c.length;Ee<se;Ee++)l=c[Ee],ae.writeUInt16(l);for(Ge=0,te=B.length;Ge<te;Ge++)O=B[Ge],ae.writeUInt16(O);for(Be=0,ge=p.length;Be<ge;Be++)b=p[Be],ae.writeUInt16(b);return{charMap:n,subtable:ae.data,maxGlyphID:T+1}}},e}(),Bce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return q0(e,Gh),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new Iq(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=Iq.encode(t,r),(a=new k1).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),OMe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return q0(e,Gh),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),IMe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return q0(e,Gh),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),FMe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return q0(e,Gh),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),DMe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},RMe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return q0(e,Gh),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,o,l,c,u,f,h,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=f=0,h=n.length;f<h;i=++f)a=n[i],t.pos=a.offset,u=t.readString(a.length),o=new DMe(u,a),c[g=a.nameID]==null&&(c[g]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),MMe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return q0(e,Gh),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),LMe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return q0(e,Gh),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)f.push(t.readInt16());return f}(),this.widths=(function(){var u,f,h,g;for(g=[],u=0,f=(h=this.metrics).length;u<f;u++)i=h[u],g.push(i.advance);return g}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),Uce=[].slice,BMe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return q0(e,Gh),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,o,l,c,u,f,h;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new k1(r.read(a))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[t]=o===-1?new $Me(l,u,h,c,f):new UMe(l,o,u,h,c,f),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=t[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),UMe=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),$Me=function(){function e(t,r,n,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new k1(Uce.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),zMe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return q0(e,Gh),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<n.length;++o)if(n[o]=a,i<r.length&&r[i]==o){++i,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),f=0;f<n.length;++f)u[4*f+3]=255&n[f],u[4*f+2]=(65280&n[f])>>8,u[4*f+1]=(16711680&n[f])>>16,u[4*f]=(4278190080&n[f])>>24;return u},e}(),VMe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,l,c,u,f,h,g,p,N,b,S,C;for(a in n=Bce.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},C=n.charMap)p[(c=C[a]).old]=c.new;for(N in g=n.maxGlyphID,o)N in p||(p[N]=g++);return f=function(j){var T,O;for(T in O={},j)O[j[T]]=T;return O}(p),h=Object.keys(f).sort(function(j,T){return j-T}),b=function(){var j,T,O;for(O=[],j=0,T=h.length;j<T;j++)l=h[j],O.push(f[l]);return O}(),i=this.font.glyf.encode(o,b,p),u=this.font.loca.encode(i.offsets,b),S={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},e}();na.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();var d3={},WMe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},$ce={},pf={};let jL;const HMe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];pf.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};pf.getSymbolTotalCodewords=function(t){return HMe[t]};pf.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};pf.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');jL=t};pf.isKanjiModeEnabled=function(){return typeof jL<"u"};pf.toSJIS=function(t){return jL(t)};var E6={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,a){if(e.isValid(n))return n;try{return t(n)}catch{return a}}})(E6);function zce(){this.buffer=[],this.length=0}zce.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var qMe=zce;function f3(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}f3.prototype.set=function(e,t,r,n){const a=e*this.size+t;this.data[a]=r,n&&(this.reservedBit[a]=!0)};f3.prototype.get=function(e,t){return this.data[e*this.size+t]};f3.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};f3.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var GMe=f3,Vce={};(function(e){const t=pf.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,i=t(n),o=i===145?26:Math.ceil((i-13)/(2*a-2))*2,l=[i-7];for(let c=1;c<a-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},e.getPositions=function(n){const a=[],i=e.getRowColCoords(n),o=i.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||a.push([i[l],i[c]]);return a}})(Vce);var Wce={};const KMe=pf.getSymbolSize,Fq=7;Wce.getPositions=function(t){const r=KMe(t);return[[0,0],[r-Fq,0],[0,r-Fq]]};var Hce={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){const i=a.size;let o=0,l=0,c=0,u=null,f=null;for(let h=0;h<i;h++){l=c=0,u=f=null;for(let g=0;g<i;g++){let p=a.get(h,g);p===u?l++:(l>=5&&(o+=t.N1+(l-5)),u=p,l=1),p=a.get(g,h),p===f?c++:(c>=5&&(o+=t.N1+(c-5)),f=p,c=1)}l>=5&&(o+=t.N1+(l-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(a){const i=a.size;let o=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const u=a.get(l,c)+a.get(l,c+1)+a.get(l+1,c)+a.get(l+1,c+1);(u===4||u===0)&&o++}return o*t.N2},e.getPenaltyN3=function(a){const i=a.size;let o=0,l=0,c=0;for(let u=0;u<i;u++){l=c=0;for(let f=0;f<i;f++)l=l<<1&2047|a.get(u,f),f>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|a.get(f,u),f>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(a){let i=0;const o=a.data.length;for(let c=0;c<o;c++)i+=a.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function r(n,a,i){switch(n){case e.Patterns.PATTERN000:return(a+i)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(a+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return a*i%2+a*i%3===0;case e.Patterns.PATTERN110:return(a*i%2+a*i%3)%2===0;case e.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(a,i){const o=i.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)i.isReserved(c,l)||i.xor(c,l,r(a,c,l))},e.getBestMask=function(a,i){const o=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<o;u++){i(u),e.applyMask(u,a);const f=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(u,a),f<c&&(c=f,l=u)}return l}})(Hce);var j6={};const qp=E6,dS=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],fS=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];j6.getBlocksCount=function(t,r){switch(r){case qp.L:return dS[(t-1)*4+0];case qp.M:return dS[(t-1)*4+1];case qp.Q:return dS[(t-1)*4+2];case qp.H:return dS[(t-1)*4+3];default:return}};j6.getTotalCodewordsCount=function(t,r){switch(r){case qp.L:return fS[(t-1)*4+0];case qp.M:return fS[(t-1)*4+1];case qp.Q:return fS[(t-1)*4+2];case qp.H:return fS[(t-1)*4+3];default:return}};var qce={},T6={};const O_=new Uint8Array(512),PA=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)O_[r]=t,PA[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)O_[r]=O_[r-255]})();T6.log=function(t){if(t<1)throw new Error("log("+t+")");return PA[t]};T6.exp=function(t){return O_[t]};T6.mul=function(t,r){return t===0||r===0?0:O_[PA[t]+PA[r]]};(function(e){const t=T6;e.mul=function(n,a){const i=new Uint8Array(n.length+a.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<a.length;l++)i[o+l]^=t.mul(n[o],a[l]);return i},e.mod=function(n,a){let i=new Uint8Array(n);for(;i.length-a.length>=0;){const o=i[0];for(let c=0;c<a.length;c++)i[c]^=t.mul(a[c],o);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},e.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let i=0;i<n;i++)a=e.mul(a,new Uint8Array([1,t.exp(i)]));return a}})(qce);const Gce=qce;function TL(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}TL.prototype.initialize=function(t){this.degree=t,this.genPoly=Gce.generateECPolynomial(this.degree)};TL.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=Gce.mod(r,this.genPoly),a=this.degree-n.length;if(a>0){const i=new Uint8Array(this.degree);return i.set(n,a),i}return n};var YMe=TL,Kce={},W1={},kL={};kL.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var G0={};const Yce="[0-9]+",XMe="[A-Z $%*+\\-./:]+";let D4="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";D4=D4.replace(/u/g,"\\u");const ZMe="(?:(?![A-Z0-9 $%*+\\-./:]|"+D4+`)(?:.|[\r
]))+`;G0.KANJI=new RegExp(D4,"g");G0.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");G0.BYTE=new RegExp(ZMe,"g");G0.NUMERIC=new RegExp(Yce,"g");G0.ALPHANUMERIC=new RegExp(XMe,"g");const JMe=new RegExp("^"+D4+"$"),QMe=new RegExp("^"+Yce+"$"),eLe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");G0.testKanji=function(t){return JMe.test(t)};G0.testNumeric=function(t){return QMe.test(t)};G0.testAlphanumeric=function(t){return eLe.test(t)};(function(e){const t=kL,r=G0;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return r.testNumeric(i)?e.NUMERIC:r.testAlphanumeric(i)?e.ALPHANUMERIC:r.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(i,o){if(e.isValid(i))return i;try{return n(i)}catch{return o}}})(W1);(function(e){const t=pf,r=j6,n=E6,a=W1,i=kL,o=7973,l=t.getBCHDigit(o);function c(g,p,N){for(let b=1;b<=40;b++)if(p<=e.getCapacity(b,N,g))return b}function u(g,p){return a.getCharCountIndicator(g,p)+4}function f(g,p){let N=0;return g.forEach(function(b){const S=u(b.mode,p);N+=S+b.getBitsLength()}),N}function h(g,p){for(let N=1;N<=40;N++)if(f(g,N)<=e.getCapacity(N,p,a.MIXED))return N}e.from=function(p,N){return i.isValid(p)?parseInt(p,10):N},e.getCapacity=function(p,N,b){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=a.BYTE);const S=t.getSymbolTotalCodewords(p),C=r.getTotalCodewordsCount(p,N),j=(S-C)*8;if(b===a.MIXED)return j;const T=j-u(b,p);switch(b){case a.NUMERIC:return Math.floor(T/10*3);case a.ALPHANUMERIC:return Math.floor(T/11*2);case a.KANJI:return Math.floor(T/13);case a.BYTE:default:return Math.floor(T/8)}},e.getBestVersionForData=function(p,N){let b;const S=n.from(N,n.M);if(Array.isArray(p)){if(p.length>1)return h(p,S);if(p.length===0)return 1;b=p[0]}else b=p;return c(b.mode,b.getLength(),S)},e.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let N=p<<12;for(;t.getBCHDigit(N)-l>=0;)N^=o<<t.getBCHDigit(N)-l;return p<<12|N}})(Kce);var Xce={};const TF=pf,Zce=1335,tLe=21522,Dq=TF.getBCHDigit(Zce);Xce.getEncodedBits=function(t,r){const n=t.bit<<3|r;let a=n<<10;for(;TF.getBCHDigit(a)-Dq>=0;)a^=Zce<<TF.getBCHDigit(a)-Dq;return(n<<10|a)^tLe};var Jce={};const rLe=W1;function Ey(e){this.mode=rLe.NUMERIC,this.data=e.toString()}Ey.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Ey.prototype.getLength=function(){return this.data.length};Ey.prototype.getBitsLength=function(){return Ey.getBitsLength(this.data.length)};Ey.prototype.write=function(t){let r,n,a;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),a=parseInt(n,10),t.put(a,10);const i=this.data.length-r;i>0&&(n=this.data.substr(r),a=parseInt(n,10),t.put(a,i*3+1))};var nLe=Ey;const aLe=W1,xP=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function jy(e){this.mode=aLe.ALPHANUMERIC,this.data=e}jy.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};jy.prototype.getLength=function(){return this.data.length};jy.prototype.getBitsLength=function(){return jy.getBitsLength(this.data.length)};jy.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=xP.indexOf(this.data[r])*45;n+=xP.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(xP.indexOf(this.data[r]),6)};var iLe=jy;const sLe=W1;function Ty(e){this.mode=sLe.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Ty.getBitsLength=function(t){return t*8};Ty.prototype.getLength=function(){return this.data.length};Ty.prototype.getBitsLength=function(){return Ty.getBitsLength(this.data.length)};Ty.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var oLe=Ty;const lLe=W1,cLe=pf;function ky(e){this.mode=lLe.KANJI,this.data=e}ky.getBitsLength=function(t){return t*13};ky.prototype.getLength=function(){return this.data.length};ky.prototype.getBitsLength=function(){return ky.getBitsLength(this.data.length)};ky.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=cLe.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var uLe=ky,Qce={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,a){var i={},o={};o[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,u,f,h,g,p,N,b,S;!l.empty();){c=l.pop(),u=c.value,h=c.cost,g=r[u]||{};for(f in g)g.hasOwnProperty(f)&&(p=g[f],N=h+p,b=o[f],S=typeof o[f]>"u",(S||b>N)&&(o[f]=N,l.push(f,N),i[f]=u))}if(typeof a<"u"&&typeof o[a]>"u"){var C=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(C)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],i=n;i;)a.push(i),r[i],i=r[i];return a.reverse(),a},find_path:function(r,n,a){var i=t.single_source_shortest_paths(r,n,a);return t.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,a={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(a[i]=n[i]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Qce);var dLe=Qce.exports;(function(e){const t=W1,r=nLe,n=iLe,a=oLe,i=uLe,o=G0,l=pf,c=dLe;function u(C){return unescape(encodeURIComponent(C)).length}function f(C,j,T){const O=[];let M;for(;(M=C.exec(T))!==null;)O.push({data:M[0],index:M.index,mode:j,length:M[0].length});return O}function h(C){const j=f(o.NUMERIC,t.NUMERIC,C),T=f(o.ALPHANUMERIC,t.ALPHANUMERIC,C);let O,M;return l.isKanjiModeEnabled()?(O=f(o.BYTE,t.BYTE,C),M=f(o.KANJI,t.KANJI,C)):(O=f(o.BYTE_KANJI,t.BYTE,C),M=[]),j.concat(T,O,M).sort(function(L,H){return L.index-H.index}).map(function(L){return{data:L.data,mode:L.mode,length:L.length}})}function g(C,j){switch(j){case t.NUMERIC:return r.getBitsLength(C);case t.ALPHANUMERIC:return n.getBitsLength(C);case t.KANJI:return i.getBitsLength(C);case t.BYTE:return a.getBitsLength(C)}}function p(C){return C.reduce(function(j,T){const O=j.length-1>=0?j[j.length-1]:null;return O&&O.mode===T.mode?(j[j.length-1].data+=T.data,j):(j.push(T),j)},[])}function N(C){const j=[];for(let T=0;T<C.length;T++){const O=C[T];switch(O.mode){case t.NUMERIC:j.push([O,{data:O.data,mode:t.ALPHANUMERIC,length:O.length},{data:O.data,mode:t.BYTE,length:O.length}]);break;case t.ALPHANUMERIC:j.push([O,{data:O.data,mode:t.BYTE,length:O.length}]);break;case t.KANJI:j.push([O,{data:O.data,mode:t.BYTE,length:u(O.data)}]);break;case t.BYTE:j.push([{data:O.data,mode:t.BYTE,length:u(O.data)}])}}return j}function b(C,j){const T={},O={start:{}};let M=["start"];for(let B=0;B<C.length;B++){const L=C[B],H=[];for(let U=0;U<L.length;U++){const J=L[U],K=""+B+U;H.push(K),T[K]={node:J,lastCount:0},O[K]={};for(let G=0;G<M.length;G++){const re=M[G];T[re]&&T[re].node.mode===J.mode?(O[re][K]=g(T[re].lastCount+J.length,J.mode)-g(T[re].lastCount,J.mode),T[re].lastCount+=J.length):(T[re]&&(T[re].lastCount=J.length),O[re][K]=g(J.length,J.mode)+4+t.getCharCountIndicator(J.mode,j))}}M=H}for(let B=0;B<M.length;B++)O[M[B]].end=0;return{map:O,table:T}}function S(C,j){let T;const O=t.getBestModeForData(C);if(T=t.from(j,O),T!==t.BYTE&&T.bit<O.bit)throw new Error('"'+C+'" cannot be encoded with mode '+t.toString(T)+`.
 Suggested mode is: `+t.toString(O));switch(T===t.KANJI&&!l.isKanjiModeEnabled()&&(T=t.BYTE),T){case t.NUMERIC:return new r(C);case t.ALPHANUMERIC:return new n(C);case t.KANJI:return new i(C);case t.BYTE:return new a(C)}}e.fromArray=function(j){return j.reduce(function(T,O){return typeof O=="string"?T.push(S(O,null)):O.data&&T.push(S(O.data,O.mode)),T},[])},e.fromString=function(j,T){const O=h(j,l.isKanjiModeEnabled()),M=N(O),B=b(M,T),L=c.find_path(B.map,"start","end"),H=[];for(let U=1;U<L.length-1;U++)H.push(B.table[L[U]].node);return e.fromArray(p(H))},e.rawSplit=function(j){return e.fromArray(h(j,l.isKanjiModeEnabled()))}})(Jce);const k6=pf,vP=E6,fLe=qMe,hLe=GMe,mLe=Vce,pLe=Wce,kF=Hce,PF=j6,gLe=YMe,OA=Kce,xLe=Xce,vLe=W1,yP=Jce;function yLe(e,t){const r=e.size,n=pLe.getPositions(t);for(let a=0;a<n.length;a++){const i=n[a][0],o=n[a][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||r<=i+l))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(i+l,o+c,!0,!0):e.set(i+l,o+c,!1,!0))}}function bLe(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function wLe(e,t){const r=mLe.getPositions(t);for(let n=0;n<r.length;n++){const a=r[n][0],i=r[n][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?e.set(a+o,i+l,!0,!0):e.set(a+o,i+l,!1,!0)}}function _Le(e,t){const r=e.size,n=OA.getEncodedBits(t);let a,i,o;for(let l=0;l<18;l++)a=Math.floor(l/3),i=l%3+r-8-3,o=(n>>l&1)===1,e.set(a,i,o,!0),e.set(i,a,o,!0)}function bP(e,t,r){const n=e.size,a=xLe.getEncodedBits(t,r);let i,o;for(i=0;i<15;i++)o=(a>>i&1)===1,i<6?e.set(i,8,o,!0):i<8?e.set(i+1,8,o,!0):e.set(n-15+i,8,o,!0),i<8?e.set(8,n-i-1,o,!0):i<9?e.set(8,15-i-1+1,o,!0):e.set(8,15-i-1,o,!0);e.set(n-8,8,1,!0)}function NLe(e,t){const r=e.size;let n=-1,a=r-1,i=7,o=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(a,l-c)){let u=!1;o<t.length&&(u=(t[o]>>>i&1)===1),e.set(a,l-c,u),i--,i===-1&&(o++,i=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}function SLe(e,t,r){const n=new fLe;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),vLe.getCharCountIndicator(c.mode,e)),c.write(n)});const a=k6.getSymbolTotalCodewords(e),i=PF.getTotalCodewordsCount(e,t),o=(a-i)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(o-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return CLe(n,e,t)}function CLe(e,t,r){const n=k6.getSymbolTotalCodewords(t),a=PF.getTotalCodewordsCount(t,r),i=n-a,o=PF.getBlocksCount(t,r),l=n%o,c=o-l,u=Math.floor(n/o),f=Math.floor(i/o),h=f+1,g=u-f,p=new gLe(g);let N=0;const b=new Array(o),S=new Array(o);let C=0;const j=new Uint8Array(e.buffer);for(let L=0;L<o;L++){const H=L<c?f:h;b[L]=j.slice(N,N+H),S[L]=p.encode(b[L]),N+=H,C=Math.max(C,H)}const T=new Uint8Array(n);let O=0,M,B;for(M=0;M<C;M++)for(B=0;B<o;B++)M<b[B].length&&(T[O++]=b[B][M]);for(M=0;M<g;M++)for(B=0;B<o;B++)T[O++]=S[B][M];return T}function ALe(e,t,r,n){let a;if(Array.isArray(e))a=yP.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const f=yP.rawSplit(e);u=OA.getBestVersionForData(f,r)}a=yP.fromString(e,u||40)}else throw new Error("Invalid data");const i=OA.getBestVersionForData(a,r);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=SLe(t,r,a),l=k6.getSymbolSize(t),c=new hLe(l);return yLe(c,t),bLe(c),wLe(c,t),bP(c,r,0),t>=7&&_Le(c,t),NLe(c,o),isNaN(n)&&(n=kF.getBestMask(c,bP.bind(null,c,r))),kF.applyMask(n,c),bP(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:a}}$ce.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=vP.M,a,i;return typeof r<"u"&&(n=vP.from(r.errorCorrectionLevel,vP.M),a=OA.from(r.version),i=kF.from(r.maskPattern),r.toSJISFunc&&k6.setToSJISFunction(r.toSJISFunc)),ALe(t,a,n,i)};var eue={},PL={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:a,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},e.getImageWidth=function(n,a){const i=e.getScale(n,a);return Math.floor((n+a.margin*2)*i)},e.qrToImageData=function(n,a,i){const o=a.modules.size,l=a.modules.data,c=e.getScale(o,i),u=Math.floor((o+i.margin*2)*c),f=i.margin*c,h=[i.color.light,i.color.dark];for(let g=0;g<u;g++)for(let p=0;p<u;p++){let N=(g*u+p)*4,b=i.color.light;if(g>=f&&p>=f&&g<u-f&&p<u-f){const S=Math.floor((g-f)/c),C=Math.floor((p-f)/c);b=h[l[S*o+C]?1:0]}n[N++]=b.r,n[N++]=b.g,n[N++]=b.b,n[N]=b.a}}})(PL);(function(e){const t=PL;function r(a,i,o){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,o,l){let c=l,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=n()),c=t.getOptions(c);const f=t.getImageWidth(i.modules.size,c),h=u.getContext("2d"),g=h.createImageData(f,f);return t.qrToImageData(g.data,i,c),r(h,u,f),h.putImageData(g,0,0),u},e.renderToDataURL=function(i,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=e.render(i,o,c),f=c.type||"image/png",h=c.rendererOpts||{};return u.toDataURL(f,h.quality)}})(eue);var tue={};const ELe=PL;function Rq(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function wP(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function jLe(e,t,r){let n="",a=0,i=!1,o=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);!c&&!i&&(i=!0),e[l]?(o++,l>0&&c>0&&e[l-1]||(n+=i?wP("M",c+r,.5+u+r):wP("m",a,0),a=0,i=!1),c+1<t&&e[l+1]||(n+=wP("h",o),o=0)):a++}return n}tue.render=function(t,r,n){const a=ELe.getOptions(r),i=t.modules.size,o=t.modules.data,l=i+a.margin*2,c=a.color.light.a?"<path "+Rq(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+Rq(a.color.dark,"stroke")+' d="'+jLe(o,i,a.margin)+'"/>',f='viewBox="0 0 '+l+" "+l+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+f+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,g),g};const TLe=WMe,OF=$ce,rue=eue,kLe=tue;function OL(e,t,r,n,a){const i=[].slice.call(arguments,1),o=i.length,l=typeof i[o-1]=="function";if(!l&&!TLe())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(a=r,r=t,t=n=void 0):o===3&&(t.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=r,r=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=t,t=n=void 0):o===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const f=OF.create(r,n);c(e(f,t,n))}catch(f){u(f)}})}try{const c=OF.create(r,n);a(null,e(c,t,n))}catch(c){a(c)}}d3.create=OF.create;d3.toCanvas=OL.bind(null,rue.render);d3.toDataURL=OL.bind(null,rue.renderToDataURL);d3.toString=OL.bind(null,function(e,t,r){return kLe.render(e,r)});const PLe=e=>new Promise((t,r)=>{const n=new Image;n.crossOrigin="Anonymous",n.onload=()=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height,i.getContext("2d").drawImage(n,0,0);const l=i.toDataURL("image/png");t(l)},n.onerror=i=>{console.error("Image load error for URL:",e,i),t(null)};const a=e+(e.includes("?")?"&":"?")+"t="+Date.now();n.src=a}),Mq={primary:[255,140,0],secondary:[30,30,30],accent:[240,240,240],white:[255,255,255],black:[0,0,0],green:[34,197,94],blue:[59,130,246]},Cp={Standard:[255,140,0],VIP:[128,0,128],Premium:[255,215,0],"Early Bird":[0,128,0],Invit:[0,100,255],Gold:[255,215,0],Silver:[192,192,192],Bronze:[205,127,50]},OLe=e=>{if(!e)return Mq.primary;const t=e.trim();if(Cp[t])return Cp[t];const r=t.toLowerCase();return r.includes("vip")?Cp.VIP:r.includes("premium")||r.includes("or")||r.includes("gold")?Cp.Gold:r.includes("silver")||r.includes("argent")?Cp.Silver:r.includes("bronze")?Cp.Bronze:r.includes("early")||r.includes("pre")?Cp["Early Bird"]:r.includes("invit")?Cp.Invit:Mq.primary},ILe=async(e,t=300)=>{try{const r=JSON.stringify({evt:e.eventId||"unknown",tkt:e.ticketNumber||"000000",code:e.ticketCode||"XXXXXX",uid:e.userId||"anonymous",name:e.userName||"",type:e.ticketType||"Standard",date:new Date().toISOString(),ts:Date.now()});return await d3.toDataURL(r,{width:t,margin:1,color:{dark:"#000000FF",light:"#FFFFFFFF"},errorCorrectionLevel:"H"})}catch(r){return console.error("QR Code generation error:",r),null}},Vv=e=>{if(e==null)return"";let t=String(e);return t=t.replace(/[^\x00-\xFF\u00C0-\u017F\s\-\.,;:!?@#$%&*()\[\]{}'"\d\w]/g,""),t=t.replace(/[&]/g,"&"),t=t.replace(/[]/g,"th"),t=t.replace(/[]/g,"O"),t=t.replace(/[]/g,"U"),t=t.replace(/[]/g,"n"),t=t.replace(/[]/g,"Y"),t=t.replace(/[]/g,""),t.substring(0,100)},FLe=e=>{if(!e)return"Date non dfinie";try{return new Date(e).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e}},e2=(e,t,r,n)=>e.getStringUnitWidth(t)*r/e.internal.scaleFactor<=n,DLe=(e,t,r,n)=>{const a=t.split(" "),i=[];let o="";for(const l of a){const c=o?`${o} ${l}`:l;e2(e,c,r,n)?o=c:(o&&i.push(o),o=l)}return o&&i.push(o),i},nue=async(e,t,r)=>{var n;console.log("Generating PDF for:",{eventTitle:e==null?void 0:e.title,ticketsCount:t==null?void 0:t.length,userName:r==null?void 0:r.full_name});try{const a=new na({orientation:"portrait",unit:"mm",format:"a6",compress:!0}),i=a.internal.pageSize.getWidth(),o=a.internal.pageSize.getHeight(),l=5,c=i-l*2,f=await PLe("https://api.dicebear.com/7.x/initials/svg?seed=BPI&backgroundColor=ff8c00&textColor=ffffff&size=64");for(let p=0;p<t.length;p++){p>0&&a.addPage();const N=t[p],b=Number(N.price)||0,S=Number(N.price_fcfa)||b*10||0,C=Vv(N.ticket_number||`TKT${Date.now()}${p}`),j=Vv(N.ticket_code_short||C.slice(-6).toUpperCase()),T=Vv((r==null?void 0:r.full_name)||((n=r==null?void 0:r.email)==null?void 0:n.split("@")[0])||"Invit"),O=Vv((e==null?void 0:e.title)||"vnement BonPlanInfos"),M=FLe(e==null?void 0:e.event_date),B=Vv((e==null?void 0:e.location)||(e==null?void 0:e.city)||"Lieu  confirmer"),L=Vv(N.type_name||"Standard"),H=OLe(L);let U=0;a.setFillColor(...H),a.roundedRect(0,0,i,15,0,0,"F"),f&&a.addImage(f,"PNG",l,2,10,10),a.setTextColor(255,255,255),a.setFontSize(9),a.setFont("helvetica","bold");const J="BON PLAN INFOS",K=f?l+12:l;e2(a,J,9,c-20)||a.setFontSize(8),a.text(J,K,8),a.setFontSize(6),a.setFont("helvetica","normal"),a.text("BILLET LECTRONIQUE",i-l,8,{align:"right"}),U=20,a.setTextColor(0,0,0),a.setFontSize(14),a.setFont("helvetica","bold");const G=a.splitTextToSize(O,c-10);a.text(G,i/2,U,{align:"center"}),U+=G.length*4+4,a.setFontSize(8),a.setFont("helvetica","normal"),a.setTextColor(80,80,80),a.setFont("helvetica","bold"),a.text("DATE:",l,U),a.setFont("helvetica","normal");const re=DLe(a,M,8,c-20);re.forEach((_t,ar)=>{a.text(_t,l+15,U+ar*3)}),U+=re.length*3+2,a.setFont("helvetica","bold"),a.text("LIEU:",l,U),a.setFont("helvetica","normal");const ae=a.splitTextToSize(B,c-20);ae.forEach((_t,ar)=>{a.text(_t,l+15,U+ar*3)}),U+=ae.length*3+6,a.setFillColor(245,245,245),a.setDrawColor(220,220,220),a.roundedRect(l,U,c,12,2,2,"FD"),U+=4,a.setFontSize(9),a.setTextColor(...H),a.setFont("helvetica","bold");let X=L.toUpperCase();e2(a,X,9,c/2-10)||a.setFontSize(8),a.text(X,l+5,U),a.setTextColor(0,0,0),a.setFont("helvetica","normal"),a.setFontSize(8);let ne=T;e2(a,T,8,c/2-10)||(ne=T.substring(0,15)+"..."),a.text(ne,i-l-5,U,{align:"right"}),U+=8,a.setFontSize(10),a.setTextColor(0,0,0),a.setFont("helvetica","bold");const de=`${b.toFixed(2)}  (${S.toLocaleString()} FCFA)`;e2(a,de,10,c)||a.setFontSize(9),a.text(de,i/2,U,{align:"center"}),U+=8;const le=12,xe=10,Se=o-U-le-xe-8,ye=Math.min(c*.7,Se,70),ee=(i-ye)/2,he={eventId:(e==null?void 0:e.id)||"evt",ticketNumber:C,ticketCode:j,userId:(r==null?void 0:r.id)||"usr",userName:T,ticketType:L,timestamp:Date.now()},se=await ILe(he,500);se?(a.addImage(se,"PNG",ee,U,ye,ye),a.setDrawColor(255,255,255),a.setLineWidth(2),a.rect(ee-1,U-1,ye+2,ye+2),a.setTextColor(100,100,100),a.setFontSize(6),a.setFont("helvetica","normal"),a.text("Scanner ce code  l'entre",i/2,U+ye+3,{align:"center"})):(a.setFillColor(230,230,230),a.roundedRect(ee,U,ye,ye,2,2,"F"),a.setTextColor(150,150,150),a.setFontSize(8),a.text("QR Code",ee+ye/2,U+ye/2,{align:"center"})),U+=ye+8,a.setTextColor(0,0,0),a.setFontSize(14),a.setFont("courier","bold");const te=(j||"------").split("").join(" ");a.getStringUnitWidth(te)*14/a.internal.scaleFactor>c&&a.setFontSize(12),a.text(te,i/2,U,{align:"center"}),a.setFontSize(8),a.setFont("helvetica","normal"),a.setTextColor(120,120,120);let ue=`N ${C}`;e2(a,ue,8,c)||(ue=`N ${C.substring(0,15)}...`),a.text(ue,i/2,U+5,{align:"center"}),U+=10,a.setFontSize(6),a.setFont("helvetica","normal"),a.setTextColor(80,80,80);const Ce=[" Billet personnel - Non transfrable"," Prsenter sur mobile ou imprim"," Usage unique - Reproduction interdite"],Ne=3,Ee=Ce.length*Ne;U+Ee>o-le?(Ce.forEach((_t,ar)=>{a.text(_t,l,U+ar*2.5)}),U+=Ce.length*2.5):(Ce.forEach((_t,ar)=>{a.text(_t,l,U+ar*Ne)}),U+=Ee);const Ge=o-3;a.setFontSize(6),a.setFont("helvetica","italic"),a.setTextColor(100,100,100);const Be=new Date,st=Be.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}),lt=Be.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),Me=`Gnr le ${st}  ${lt}  www.bonplaninfos.net`;a.getStringUnitWidth(Me)*6/a.internal.scaleFactor>c?(a.text(`Gnr le ${st}  ${lt}`,i/2,Ge-3,{align:"center"}),a.text("www.bonplaninfos.net",i/2,Ge,{align:"center"})):a.text(Me,i/2,Ge,{align:"center"}),t.length>1&&(a.setFontSize(6),a.text(`Billet ${p+1}/${t.length}`,l,Ge-3))}const g=`Billet_${((e==null?void 0:e.title)||"billet").replace(/[^a-z0-9]/gi,"_").substring(0,20)}_${Date.now()}.pdf`;return a.save(g),console.log("PDF generated successfully:",g),!0}catch(a){return console.error("Error generating PDF:",a),alert("Erreur lors de la gnration du PDF. Veuillez ressayer ou contacter le support."),!1}},RLe=()=>{const{user:e}=bn(),[t,r]=A.useState([]),[n,a]=A.useState(!0),[i,o]=A.useState(null),[l,c]=A.useState(null),[u,f]=A.useState(0),h=async(N=!1)=>{if(!e){a(!1);return}a(!0),c(null);try{console.log(" Fetching tickets for user:",e.id);let b=Je.from("event_tickets").select(`
                    id,
                    ticket_number,
                    ticket_code_short,
                    status,
                    purchase_amount_pi,
                    purchase_amount_fcfa,
                    purchased_at,
                    user_id,
                    ticket_type_id,
                    event_id
                `).eq("user_id",e.id).order("purchased_at",{ascending:!1});const{data:S,error:C}=await b;if(C)throw console.error(" Basic query error:",C),C;if(console.log(" Basic tickets data:",S),!S||S.length===0){r([]),a(!1);return}const j=[...new Set(S.map(L=>L.event_id).filter(L=>L))],T=[...new Set(S.map(L=>L.ticket_type_id).filter(L=>L))];let O={};if(j.length>0){const{data:L,error:H}=await Je.from("events").select("*").in("id",j);!H&&L&&L.forEach(U=>{O[U.id]=U})}let M={};if(T.length>0){const{data:L,error:H}=await Je.from("ticket_types").select("*").in("id",T);!H&&L&&L.forEach(U=>{M[U.id]=U})}const B=S.map(L=>{const H=O[L.event_id]||{id:L.event_id||"unknown",title:"vnement non disponible",event_date:null,location:"Lieu inconnu",city:"Inconnu",cover_image:null},U=M[L.ticket_type_id]||{name:"Standard",color:"blue",description:null};return{...L,events:H,ticket_types:U}});console.log(" Enriched tickets:",B),r(B)}catch(b){console.error(" Error fetching tickets:",b);let S="Impossible de charger vos billets. Veuillez ressayer.";b.message.includes("JWT")?S="Session expire. Veuillez vous reconnecter.":b.message.includes("network")||b.message.includes("fetch")?S="Problme de connexion rseau. Vrifiez votre internet.":(b.message.includes("permission")||b.message.includes("auth"))&&(S="Permissions insuffisantes. Vrifiez votre connexion."),c(S),ot({title:"Erreur",description:S,variant:"destructive"})}finally{a(!1)}};A.useEffect(()=>{if(!e){a(!1),c("Veuillez vous connecter pour voir vos billets.");return}h(),(async()=>{try{const b=Je.channel("tickets-changes").on("postgres_changes",{event:"*",schema:"public",table:"event_tickets",filter:`user_id=eq.${e.id}`},S=>{console.log(" Ticket change detected:",S),h()}).subscribe(S=>{console.log("Realtime subscription status:",S)});return()=>{Je.removeChannel(b)}}catch(b){console.warn("Realtime subscription failed:",b)}})()},[e,u]);const g=()=>{f(N=>N+1),c(null),ot({title:"Tentative de reconnexion",description:"Rechargement des billets..."})},p=async N=>{var b,S,C,j;o(N.id);try{const T=N.events||{},O={ticket_number:String(N.ticket_number||""),ticket_code_short:String(N.ticket_code_short||((b=N.ticket_number)==null?void 0:b.slice(-6))||""),type_name:((S=N.ticket_types)==null?void 0:S.name)||"Standard",price:Number(N.purchase_amount_pi)||0,price_fcfa:Number(N.purchase_amount_fcfa)||Number(N.purchase_amount_pi)*10||0},M={full_name:((C=e==null?void 0:e.user_metadata)==null?void 0:C.full_name)||((j=e==null?void 0:e.email)==null?void 0:j.split("@")[0])||"Utilisateur",email:e==null?void 0:e.email,id:e==null?void 0:e.id};if(await nue(T,[O],M))ot({title:" Succs",description:"Billet tlcharg avec succs !"});else throw new Error("Generation failed")}catch(T){console.error("Download error",T),ot({title:"Erreur",description:"Impossible de gnrer le PDF. Veuillez ressayer.",variant:"destructive"})}finally{o(null)}};return n?s.jsxs("div",{className:"flex flex-col items-center justify-center p-12 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Jt,{className:"w-12 h-12 animate-spin text-primary mb-4"}),s.jsx("div",{className:"absolute inset-0 animate-ping bg-primary/20 rounded-full"})]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Chargement de vos billets..."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Cela peut prendre quelques instants"})]}):l?s.jsxs("div",{className:"animate-in fade-in duration-500 space-y-4",children:[s.jsxs(zc,{variant:"destructive",className:"border-red-300 bg-red-50",children:[s.jsx(wu,{className:"h-5 w-5 text-red-600"}),s.jsxs(mu,{className:"text-red-700",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Erreur de chargement"}),s.jsx("div",{className:"mb-4",children:l}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Ue,{variant:"outline",size:"sm",onClick:g,className:"bg-white border-red-300 text-red-700 hover:bg-red-50",children:[s.jsx(qc,{className:"w-4 h-4 mr-2"}),"Ressayer"]}),s.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),className:"border-red-300 text-red-700 hover:bg-red-50",children:"Recharger la page"}),l.includes("session")&&s.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>window.location.href="/login",className:"border-red-300 text-red-700 hover:bg-red-50",children:"Se reconnecter"})]})]})]}),s.jsx(qt,{className:"border-dashed border-2",children:s.jsxs(Xt,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-muted/50 rounded-full flex items-center justify-center mb-4",children:s.jsx(wu,{className:"w-8 h-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Impossible de charger les billets"}),s.jsx("p",{className:"text-muted-foreground text-center max-w-sm mb-6",children:"Veuillez ressayer ou contacter le support si le problme persiste."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Ue,{onClick:g,variant:"default",children:[s.jsx(qc,{className:"w-4 h-4 mr-2"}),"Ressayer"]}),s.jsx(Ue,{onClick:()=>window.location.href="/events",variant:"outline",children:"Voir les vnements"})]})]})})]}):t.length===0?s.jsx(qt,{className:"border-dashed border-2 animate-in fade-in duration-500",children:s.jsxs(Xt,{className:"flex flex-col items-center justify-center py-16",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary/10 to-purple-500/10 rounded-full flex items-center justify-center mb-4",children:s.jsx(ul,{className:"w-10 h-10 text-primary"})}),s.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Aucun billet trouv"}),s.jsx("p",{className:"text-muted-foreground text-center max-w-md mb-8",children:"Vous n'avez pas encore achet de billets. Parcourez nos vnements passionnants et rservez votre place ds maintenant !"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(Ue,{onClick:()=>window.location.href="/events",className:"bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90 animate-pulse hover:animate-none px-8",size:"lg",children:"Explorer les vnements"}),s.jsxs(Ue,{onClick:g,variant:"outline",size:"lg",children:[s.jsx(qc,{className:"w-4 h-4 mr-2"}),"Vrifier  nouveau"]})]})]})}):s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[s.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-primary/10 to-purple-500/10 rounded-xl border border-primary/20 shadow-sm",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(ul,{className:"text-primary h-6 w-6"}),"Mes Billets"]}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Vous avez ",t.length," billet",t.length>1?"s":""," dans votre collection"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Ue,{onClick:g,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(qc,{className:"w-4 h-4"}),"Actualiser"]}),s.jsxs(Vr,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20",children:[t.filter(N=>N.status==="active").length," actifs"]})]})]})}),s.jsx("div",{className:"grid gap-4",children:t.map(N=>{var b,S,C,j,T,O,M;return s.jsxs(qt,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 border-border/50 group",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row",children:[s.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-purple-500/10 lg:w-32 flex flex-col items-center justify-center p-5 border-b lg:border-b-0 lg:border-r border-border/50",children:[s.jsx(oo,{className:"w-7 h-7 text-primary mb-3"}),s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"block text-3xl font-bold text-primary",children:(b=N.events)!=null&&b.event_date?new Date(N.events.event_date).getDate():"--"}),s.jsx("span",{className:"block text-sm uppercase font-bold text-muted-foreground tracking-wider",children:(S=N.events)!=null&&S.event_date?new Date(N.events.event_date).toLocaleDateString("fr-FR",{month:"short"}).toUpperCase():"---"}),s.jsx("span",{className:"block text-xs text-muted-foreground mt-1",children:(C=N.events)!=null&&C.event_date?new Date(N.events.event_date).getFullYear():""})]})]}),s.jsx("div",{className:"flex-1 p-5 lg:p-6 flex flex-col justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-3 mb-3",children:[s.jsx("h3",{className:"font-bold text-xl line-clamp-2 group-hover:text-primary transition-colors",children:((j=N.events)==null?void 0:j.title)||"vnement"}),s.jsx(Vr,{variant:N.status==="used"?"secondary":"default",className:`whitespace-nowrap ${N.status==="active"?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white":""}`,children:N.status==="active"?" Valide":N.status==="used"?" Utilis":N.status==="cancelled"?" Annul":N.status})]}),s.jsxs("div",{className:"flex items-start text-sm text-muted-foreground mb-4",children:[s.jsx(Eo,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"line-clamp-2",children:((T=N.events)==null?void 0:T.location)||((O=N.events)==null?void 0:O.city)||"Lieu non spcifi"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 text-sm items-center mb-3",children:[s.jsxs("span",{className:"flex items-center text-primary font-bold bg-primary/10 px-3 py-1.5 rounded-lg",children:[s.jsx(za,{className:"w-4 h-4 mr-1.5"}),Number(N.purchase_amount_pi||0).toFixed(2)," "]}),s.jsx("span",{className:"text-muted-foreground hidden sm:inline",children:"/"}),s.jsxs("span",{className:"font-medium text-gray-600 bg-muted/50 px-3 py-1.5 rounded-lg",children:[Number(N.purchase_amount_fcfa||N.purchase_amount_pi*10||0).toLocaleString()," FCFA"]}),s.jsxs("span",{className:"flex items-center text-xs font-medium text-muted-foreground px-3 py-1 bg-muted rounded-full ml-auto",children:[s.jsx("span",{className:"hidden sm:inline mr-1",children:"N"}),N.ticket_number||"N/A"]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center",children:[s.jsx(oo,{className:"w-3 h-3 mr-1"}),"Achet le ",new Date(N.purchased_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})}),s.jsx("div",{className:"p-5 lg:p-6 flex items-center justify-center bg-gradient-to-t lg:bg-gradient-to-l from-muted/10 to-transparent lg:w-48 border-t lg:border-t-0 lg:border-l border-border/50",children:s.jsx(Ue,{onClick:()=>p(N),disabled:i===N.id||!N.events,className:"w-full lg:w-auto min-w-[140px] group relative overflow-hidden",variant:"outline",size:"lg",children:s.jsx("span",{className:"relative z-10 flex items-center justify-center",children:i===N.id?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"w-5 h-5 animate-spin mr-2"}),"Gnration..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ym,{className:"w-5 h-5 mr-2 group-hover:animate-bounce"}),"Tlcharger PDF"]})})})})]}),((M=N.ticket_types)==null?void 0:M.name)&&s.jsx("div",{className:"px-5 py-3 bg-gradient-to-r from-muted/30 to-transparent border-t border-border/30",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[s.jsx("span",{className:"font-semibold text-foreground",children:"Type :"})," ",N.ticket_types.name]}),N.ticket_code_short&&s.jsxs("code",{className:"text-xs font-mono bg-muted px-2 py-1 rounded",children:["Code : ",N.ticket_code_short]})]})})]},N.id)})}),s.jsx("div",{className:"text-center pt-4 border-t",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vous avez ",t.length," billet",t.length>1?"s":""," au total"]})})]})},MLe=()=>{const{user:e}=bn(),{userProfile:t,forceRefreshUserProfile:r,appSettings:n,loading:a}=ai(),[i,o]=A.useState(""),[l,c]=A.useState(""),[u,f]=A.useState(""),[h,g]=A.useState(!1),[p,N]=A.useState([]),[b,S]=A.useState(!0),C=(n==null?void 0:n.min_withdrawal_pi)||50,j=(n==null?void 0:n.coin_to_fcfa_rate)||10,T=(t==null?void 0:t.available_earnings)||0,O=A.useCallback(async()=>{if(e){S(!0);try{const{data:B,error:L}=await Je.from("organizer_withdrawal_requests").select("*").eq("organizer_id",e.id).order("requested_at",{ascending:!1});if(L)throw L;N(B||[])}catch(B){console.error("Erreur chargement historique:",B),ot({title:"Erreur historique",description:"Impossible de charger l'historique.",variant:"destructive"})}finally{S(!1)}}},[e]);A.useEffect(()=>{O()},[O]);const M=async B=>{if(B.preventDefault(),!e)return;const L=parseInt(i);if(isNaN(L)||L<=0){ot({title:"Montant invalide",description:"Veuillez entrer un montant positif.",variant:"destructive"});return}if(L<C){ot({title:"Minimum non atteint",description:`Le retrait minimum est de ${C}.`,variant:"destructive"});return}if(L>T){ot({title:"Solde insuffisant",description:"Vous dpassez vos gains disponibles.",variant:"destructive"});return}if(!l||!u.trim()){ot({title:"Dtails manquants",description:"Veuillez remplir les informations de paiement.",variant:"destructive"});return}g(!0);try{const{data:H,error:U}=await Je.rpc("request_organizer_withdrawal",{p_amount_pi:L,p_payment_details:{method:l,number:u.trim()}});if(U)throw U;if(H&&!H.success)throw new Error(H.message);ot({title:"Demande envoye !",description:"Votre demande de retrait est en cours de traitement.",variant:"success"}),o(""),c(""),f(""),r&&await r(),await O()}catch(H){console.error("Erreur retrait:",H),ot({title:"Erreur",description:H.message||"chec de la demande de retrait.",variant:"destructive"})}finally{g(!1)}};return a&&!t?s.jsxs("div",{className:"flex flex-col justify-center items-center h-64 space-y-4",children:[s.jsx(Jt,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Chargement des donnes financires..."})]}):s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs(qt,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-background shadow-md",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"flex items-center gap-2",children:[s.jsx(Eh,{className:"h-5 w-5 text-primary"}),"Gains Disponibles"]}),s.jsx(Ya,{children:"Convertibles en FCFA selon le taux en vigueur"})]}),s.jsx(Xt,{children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end gap-4 md:gap-8",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-4xl font-bold text-primary tracking-tight",children:[T.toLocaleString("fr-FR")," ",s.jsx("span",{className:"text-2xl",children:""})]}),s.jsxs("p",{className:"text-muted-foreground font-medium mt-1",children:[" ",(T*j).toLocaleString("fr-FR")," FCFA"]})]}),T<C&&s.jsxs(zc,{variant:"warning",className:"bg-yellow-500/10 text-yellow-700 border-yellow-500/20 py-2",children:[s.jsx(wu,{className:"h-4 w-4"}),s.jsxs(Rf,{className:"text-sm font-semibold",children:["Minimum requis: ",C,""]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs(qt,{className:"shadow-sm h-full",children:[s.jsxs(zr,{children:[s.jsx(Wr,{children:"Nouvelle Demande"}),s.jsx(Ya,{children:"Initiez un transfert vers votre compte"})]}),s.jsxs("form",{onSubmit:M,children:[s.jsxs(Xt,{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"amount",children:"Montant  retirer ()"}),s.jsxs("div",{className:"relative",children:[s.jsx(er,{id:"amount",type:"number",value:i,onChange:B=>o(B.target.value),placeholder:`Min. ${C}`,min:C,max:T,className:"pl-9"}),s.jsx("div",{className:"absolute left-3 top-2.5 text-muted-foreground text-sm",children:""})]}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Correspondance: ",i?(parseInt(i)*j).toLocaleString():0," FCFA"]}),s.jsxs("button",{type:"button",onClick:()=>o(T),className:"text-primary hover:underline font-medium",children:["Max: ",T]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"paymentMethod",children:"Mthode de paiement"}),s.jsxs(Ai,{onValueChange:c,value:l,children:[s.jsx(vi,{id:"paymentMethod",children:s.jsx(Ei,{placeholder:"Choisir..."})}),s.jsxs(yi,{children:[s.jsx(on,{value:"Orange Money",children:"Orange Money"}),s.jsx(on,{value:"Moov Money",children:"Moov Money"}),s.jsx(on,{value:"Wave",children:"Wave"}),s.jsx(on,{value:"MTN Money",children:"MTN Money"}),s.jsx(on,{value:"Virement Bancaire",children:"Virement Bancaire"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"accountNumber",children:"Numro / RIB"}),s.jsx(er,{id:"accountNumber",value:u,onChange:B=>f(B.target.value),placeholder:"Ex: +225 07..."})]})]}),s.jsx(wx,{children:s.jsxs(Ue,{type:"submit",className:"w-full font-bold",disabled:h||T<C||!i||!l,children:[h?s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Eh,{className:"mr-2 h-4 w-4"}),"Confirmer le retrait"]})})]})]}),s.jsxs(qt,{className:"shadow-sm h-full flex flex-col",children:[s.jsxs(zr,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsxs("div",{children:[s.jsx(Wr,{children:"Historique"}),s.jsx(Ya,{children:"Vos dernires demandes"})]}),s.jsx(Ue,{variant:"ghost",size:"icon",onClick:O,disabled:b,children:s.jsx(qc,{className:`h-4 w-4 ${b?"animate-spin":""}`})})]}),s.jsx(Xt,{className:"flex-1 overflow-auto max-h-[400px] pr-2",children:b&&p.length===0?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Jt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):p.length>0?s.jsx("div",{className:"space-y-3",children:p.map(B=>{var L,H;return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-bold text-primary",children:[B.amount_pi," "]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(B.amount_pi*j).toLocaleString()," FCFA)"]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(nx,{className:"h-3 w-3"}),new Date(B.requested_at).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})]}),s.jsxs("div",{className:"text-xs font-medium text-foreground/80",children:[(L=B.payment_details)==null?void 0:L.method,"  ",(H=B.payment_details)==null?void 0:H.number]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[s.jsx(Vr,{variant:B.status==="approved"||B.status==="paid"?"success":B.status==="rejected"?"destructive":"secondary",children:B.status==="approved"?"Valid":B.status==="paid"?"Pay":B.status==="rejected"?"Rejet":"En attente"}),B.rejection_reason&&s.jsx("span",{className:"text-[10px] text-red-500 max-w-[100px] truncate",title:B.rejection_reason,children:B.rejection_reason})]})]},B.id)})}):s.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[s.jsx(nx,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Aucun historique disponible"})]})})]})]})]})},LLe=({userProfile:e,userEvents:t,userTransactions:r,loadingEvents:n,referralData:a,loadingOrganizerStats:i})=>{const[o,l]=I5(),c=o.get("tab")||"events",u=h=>{l({tab:h})},f=["organizer","admin","super_admin"].includes(e==null?void 0:e.user_type);return s.jsxs(H0,{value:c,onValueChange:u,className:"w-full",children:[s.jsxs(Hh,{className:"grid w-full grid-cols-2 md:grid-cols-5 lg:grid-cols-5 mb-8 h-auto p-1 bg-muted/50 rounded-xl gap-1",children:[s.jsxs(Gn,{value:"events",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3",children:[s.jsx(oo,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"vnements"}),s.jsx("span",{className:"sm:hidden",children:"Events"})]}),s.jsxs(Gn,{value:"tickets",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3",children:[s.jsx(ul,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Mes Billets"}),s.jsx("span",{className:"sm:hidden",children:"Billets"})]}),s.jsxs(Gn,{value:"transactions",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3",children:[s.jsx(nx,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Historique"}),s.jsx("span",{className:"sm:hidden",children:"Hist."})]}),s.jsxs(Gn,{value:"referral",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3",children:[s.jsx(ao,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Parrainage"}),s.jsx("span",{className:"sm:hidden",children:"Parrain."})]}),f&&s.jsxs(Gn,{value:"withdrawals",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3",children:[s.jsx(qo,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Retraits"}),s.jsx("span",{className:"sm:hidden",children:"Retraits"})]})]}),s.jsx(Kn,{value:"events",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(DFe,{userProfile:e,userEvents:t,loadingEvents:n})}),s.jsx(Kn,{value:"tickets",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(RLe,{})}),s.jsx(Kn,{value:"transactions",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(RFe,{transactions:r})}),s.jsx(Kn,{value:"referral",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(zFe,{userProfile:e,referralData:a})}),f&&s.jsx(Kn,{value:"withdrawals",className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsx(MLe,{userProfile:e})})]})},BLe=e=>{switch(e){case"tombolas":return ul;case"votes":return w1;case"billetterie":return ul;case"stands":return M0;default:return $u}},ULe=e=>{switch(e){case"tombolas":return"purple";case"votes":return"blue";case"billetterie":return"green";case"stands":return"orange";default:return"gray"}},$Le=({isOpen:e,onClose:t,category:r,transactions:n=[],split95_5:a=!0})=>{const i=BLe(r),o=ULe(r),l={purple:"bg-purple-50 text-purple-700 border-purple-200",blue:"bg-blue-50 text-blue-700 border-blue-200",green:"bg-green-50 text-green-700 border-green-200",orange:"bg-orange-50 text-orange-700 border-orange-200",gray:"bg-gray-50 text-gray-700 border-gray-200"},c=Array.isArray(n)?n:[],f=(()=>{let h=0,g=0,p=0;return c.forEach(N=>{h+=N.brut||N.amount||0,g+=N.net||(N.amount||0)*.95,p+=N.fees||(N.amount||0)*.05}),{totalBrut:h,totalNet:g,totalFees:p}})();return s.jsx(To,{open:e,onOpenChange:t,children:s.jsxs(xo,{className:"sm:max-w-3xl max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsxs(ko,{children:[s.jsxs(Po,{className:"flex items-center gap-2",children:[s.jsx(i,{className:"w-5 h-5"}),"Dtails des gains - ",r,s.jsxs(Vr,{className:`ml-2 ${l[o]}`,children:[c.length," transaction",c.length>1?"s":""]})]}),s.jsx(dl,{children:"Liste dtaille des gains en attente avec rpartition 95%/5%"})]}),a&&s.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-lg border mb-4",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"p-3 bg-white rounded border",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Total brut"}),s.jsxs("div",{className:"text-xl font-bold text-gray-800",children:[Math.floor(f.totalBrut)," "]})]}),s.jsxs("div",{className:"p-3 bg-green-50 rounded border border-green-200",children:[s.jsx("div",{className:"text-sm text-green-600",children:"Net (95%)"}),s.jsxs("div",{className:"text-xl font-bold text-green-700",children:[Math.floor(f.totalNet)," "]})]}),s.jsxs("div",{className:"p-3 bg-red-50 rounded border border-red-200",children:[s.jsx("div",{className:"text-sm text-red-600",children:"Frais (5%)"}),s.jsxs("div",{className:"text-xl font-bold text-red-700",children:[Math.floor(f.totalFees)," "]})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",children:c.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:s.jsx("p",{children:"Aucune transaction disponible"})}):c.map(h=>s.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:h.description||`Transaction #${h.id.slice(0,8)}`}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[s.jsx(oo,{className:"w-3 h-3"}),h.date?mi(new Date(h.date),"dd/MM/yyyy HH:mm",{locale:Vc}):"Date inconnue"]})]}),s.jsx(Vr,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:"En attente"})]}),a?s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-100 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(za,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm",children:"Montant brut :"})]}),s.jsxs("span",{className:"font-semibold",children:[h.brut||h.amount," "]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("div",{className:"p-2 bg-green-50 rounded border border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(nA,{className:"w-3 h-3 text-green-600"}),s.jsx("span",{className:"text-xs text-green-700",children:"Net (95%) :"})]}),s.jsxs("span",{className:"font-bold text-green-700",children:[h.net||Math.floor((h.brut||h.amount)*.95)," "]})]})}),s.jsx("div",{className:"p-2 bg-red-50 rounded border border-red-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(nA,{className:"w-3 h-3 text-red-600"}),s.jsx("span",{className:"text-xs text-red-700",children:"Frais (5%) :"})]}),s.jsxs("span",{className:"font-bold text-red-700",children:[h.fees||Math.floor((h.brut||h.amount)*.05)," "]})]})})]})]}):s.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(za,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Montant :"})]}),s.jsxs("span",{className:"font-bold text-blue-700",children:[h.amount," "]})]})})]},h.id))}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsx("div",{className:"flex justify-end",children:s.jsx(Ue,{onClick:t,variant:"outline",children:"Fermer"})})})]})})};function zLe(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let IF=1;class VLe{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:IF++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const l=a.then(async u=>{if(o=["resolve",u],Ve.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(HLe(u)&&!u.ok){i=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,N=typeof h=="object"&&!Ve.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:g,...N})}else if(u instanceof Error){i=!1;const h=typeof r.error=="function"?await r.error(u):r.error,g=typeof r.description=="function"?await r.description(u):r.description,N=typeof h=="object"&&!Ve.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:g,...N})}else if(r.success!==void 0){i=!1;const h=typeof r.success=="function"?await r.success(u):r.success,g=typeof r.description=="function"?await r.description(u):r.description,N=typeof h=="object"&&!Ve.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:g,...N})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;const f=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,p=typeof f=="object"&&!Ve.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...p})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,f)=>l.then(()=>o[0]==="reject"?f(o[1]):u(o[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||IF++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Pf=new VLe,WLe=(e,t)=>{const r=(t==null?void 0:t.id)||IF++;return Pf.addToast({title:e,...t,id:r}),r},HLe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",qLe=WLe,GLe=()=>Pf.toasts,KLe=()=>Pf.getActiveToasts(),_P=Object.assign(qLe,{success:Pf.success,info:Pf.info,warning:Pf.warning,error:Pf.error,custom:Pf.custom,message:Pf.message,promise:Pf.promise,dismiss:Pf.dismiss,loading:Pf.loading},{getHistory:GLe,getToasts:KLe});zLe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const YLe=({isOpen:e,onClose:t,transactions:r=[],totalAmount:n=0,loading:a=!1,onConfirm:i})=>{const[o,l]=A.useState(!1),[c,u]=A.useState(!1),[f,h]=A.useState(!1),p=(()=>{let M=0,B=0,L=0;return r.length>0?r.forEach(H=>{const U=H.brut||H.amount||0,J=Math.floor(U*.95),K=Math.floor(U*.05);M+=U,B+=J,L+=K}):(M=n,B=Math.floor(n*.95),L=Math.floor(n*.05)),{totalBrut:M,totalNet:B,totalFees:L}})();A.useEffect(()=>{e&&(h(!1),u(!1))},[e]);const N=async()=>{if(p.totalNet<=0){_P.error("Aucun montant  transfrer");return}l(!0);try{if(i)await i();else{const{data:{user:M},error:B}=await Je.auth.getUser();if(B)throw B}h(!0),_P.success(`Transfert russi : ${p.totalNet}  transfrs`)}catch(M){console.error("Transfer error:",M),_P.error(`Erreur lors du transfert: ${M.message}`)}finally{l(!1)}},b=()=>{u(!0)},S=()=>{u(!1)},C=()=>{h(!1),u(!1),t()},j=()=>a?s.jsxs("div",{className:"flex justify-center items-center h-64",children:[s.jsx(Jt,{className:"w-8 h-8 animate-spin text-gray-400"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Chargement des transactions..."})]}):p.totalBrut<=0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(za,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucune transaction en attente de transfert"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-lg border mb-6",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"p-3 bg-white rounded border",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Total brut"}),s.jsxs("div",{className:"text-xl font-bold text-gray-800",children:[p.totalBrut," "]})]}),s.jsxs("div",{className:"p-3 bg-green-50 rounded border border-green-200",children:[s.jsx("div",{className:"text-sm text-green-600",children:"Net (95%)"}),s.jsxs("div",{className:"text-xl font-bold text-green-700",children:[p.totalNet," "]})]}),s.jsxs("div",{className:"p-3 bg-red-50 rounded border border-red-200",children:[s.jsx("div",{className:"text-sm text-red-600",children:"Frais (5%)"}),s.jsxs("div",{className:"text-xl font-bold text-red-700",children:[p.totalFees," "]})]})]})}),r.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(of,{className:"w-4 h-4"}),"Dtails des transactions (",r.length,")"]}),s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto pr-2",children:r.map((M,B)=>{var J;const L=M.brut||M.amount||0,H=Math.floor(L*.95),U=Math.floor(L*.05);return s.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:M.description||`Transaction #${((J=M.id)==null?void 0:J.slice(0,8))||B+1}`}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[s.jsx(oo,{className:"w-3 h-3"}),M.date?mi(new Date(M.date),"dd/MM/yyyy HH:mm",{locale:Vc}):"Date non disponible"]})]}),s.jsx(Vr,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:" transfrer"})]}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-100 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(za,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm",children:"Montant brut :"})]}),s.jsxs("span",{className:"font-semibold",children:[L," "]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("div",{className:"p-2 bg-green-50 rounded border border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(nA,{className:"w-3 h-3 text-green-600"}),s.jsx("span",{className:"text-xs text-green-700",children:"Net (95%) :"})]}),s.jsxs("span",{className:"font-bold text-green-700",children:[H," "]})]})}),s.jsx("div",{className:"p-2 bg-red-50 rounded border border-red-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(nA,{className:"w-3 h-3 text-red-600"}),s.jsx("span",{className:"text-xs text-red-700",children:"Frais (5%) :"})]}),s.jsxs("span",{className:"font-bold text-red-700",children:[U," "]})]})})]})]})]},M.id||B)})})]}),s.jsxs(zc,{className:"mb-2 border-amber-200 bg-amber-50",children:[s.jsx(wu,{className:"h-4 w-4 text-amber-600"}),s.jsxs(mu,{className:"text-amber-700",children:[s.jsx("strong",{children:"Note :"})," Seuls les gains nets (95%) seront crdits dans votre portefeuille. Les frais (5%) seront retenus."]})]})]}),T=()=>s.jsxs("div",{className:"text-center space-y-6 py-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(gc,{className:"w-8 h-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Confirmer le transfert"}),s.jsx("div",{className:"space-y-4 mb-6",children:s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Montant total brut :"}),s.jsxs("span",{className:"font-bold",children:[p.totalBrut," "]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Frais (5%) :"}),s.jsxs("span",{className:"font-bold text-red-600",children:["-",p.totalFees," "]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t",children:[s.jsx("span",{className:"text-gray-700 font-semibold",children:"Montant net  transfrer :"}),s.jsxs("span",{className:"text-xl font-bold text-green-600",children:[p.totalNet," "]})]})]})}),s.jsxs(zc,{variant:"destructive",children:[s.jsx(wu,{className:"h-4 w-4"}),s.jsx(mu,{children:"Cette action est irrversible. Une fois confirm, les gains seront transfrs vers votre solde disponible."})]})]})]}),O=()=>s.jsxs("div",{className:"text-center space-y-6 py-4",children:[s.jsx("div",{className:"mx-auto w-20 h-20 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Vp,{className:"w-10 h-10 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Transfert russi !"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Vos gains ont t transfrs vers votre solde disponible"}),s.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("span",{className:"text-gray-700",children:"Montant transfr :"}),s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[p.totalNet," "]})]}),s.jsxs("div",{className:"text-sm text-gray-600 text-left space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total brut :"}),s.jsxs("span",{children:[p.totalBrut," "]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Frais retenus (5%) :"}),s.jsxs("span",{className:"text-red-600",children:["-",p.totalFees," "]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{children:"Nombre de transactions :"}),s.jsx("span",{children:r.length>0?r.length:"1"})]})]})]}),s.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mh,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"Montant net transfr :"})]}),s.jsxs("span",{className:"text-xl font-bold text-blue-800",children:[p.totalNet," "]})]})})]})]})]});return s.jsx(To,{open:e,onOpenChange:C,children:s.jsxs(xo,{className:"sm:max-w-lg max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(ko,{children:[s.jsx(Po,{className:"flex items-center gap-2",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Vp,{className:"w-5 h-5 text-green-600"}),"Transfert termin"]}):c?s.jsxs(s.Fragment,{children:[s.jsx(gc,{className:"w-5 h-5 text-blue-600"}),"Confirmation"]}):s.jsxs(s.Fragment,{children:[s.jsx(Um,{className:"w-5 h-5"}),"Transfert des gains"]})}),s.jsx(dl,{children:f?"Vos gains ont t transfrs vers votre solde disponible":c?"Vrifiez les dtails avant de confirmer":`Transfrer ${p.totalBrut}  vers votre solde disponible`})]}),s.jsx("div",{className:"flex-1 overflow-y-auto pr-1",children:f?O():c?T():j()}),s.jsx(Jc,{className:"mt-6 pt-4 border-t",children:f?s.jsxs(Ue,{onClick:C,className:"w-full gap-2 bg-green-600 hover:bg-green-700",children:[s.jsx(Vp,{className:"w-4 h-4"}),"Fermer"]}):c?s.jsxs(s.Fragment,{children:[s.jsx(Ue,{variant:"outline",onClick:S,disabled:o,children:"Retour"}),s.jsx(Ue,{onClick:N,disabled:o,className:"gap-2 bg-green-600 hover:bg-green-700",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"w-4 h-4 animate-spin"}),"Traitement..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Vp,{className:"w-4 h-4"}),"Confirmer le transfert"]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ue,{variant:"outline",onClick:C,children:"Annuler"}),s.jsxs(Ue,{onClick:b,disabled:a||p.totalBrut<=0,className:"gap-2 bg-green-600 hover:bg-green-700",children:[s.jsx(Um,{className:"w-4 h-4"}),"Continuer"]})]})})]})})},XLe=()=>{Xa();const{user:e,loading:t}=bn(),{userProfile:r,loadingProfile:n,getEvents:a,forceRefreshUserProfile:i}=ai(),[o,l]=A.useState([]),[c,u]=A.useState([]),[f,h]=A.useState({count:0,coins:0}),[g,p]=A.useState({raffle:[],vote:[],ticket:[],stand:[],protected:[],legacy_raffle:[]}),[N,b]=A.useState(0),[S,C]=A.useState(!1),[j,T]=A.useState(!1),[O,M]=A.useState(null),[B,L]=A.useState(!0),[H,U]=A.useState(!0),[J,K]=A.useState(!1),[G,re]=A.useState(null),[ae,X]=A.useState(!1),{toast:ne}=qs(),[de]=I5(),le=de.get("tab")||"events",xe=A.useRef(null),Se=A.useCallback(async()=>{if(e){U(!0);try{const{data:Ee,error:Ge}=await Qd(()=>Je.from("organizer_earnings").select("earnings_coins, transaction_type, created_at, status, id, raffle_event_id, event_type, description, amount_pi").eq("organizer_id",e.id).eq("status","pending").order("created_at",{ascending:!1}));if(Ge)throw Ge;const Be={raffle:[],vote:[],ticket:[],stand:[],protected:[],legacy_raffle:[]};let st=0;Ee==null||Ee.forEach(lt=>{const Me=lt.earnings_coins||0,wt={id:lt.id,amount:Me,brut:lt.amount_pi||Math.floor(Me/.95),date:lt.created_at,source:lt.transaction_type,description:lt.description,status:lt.status};st+=Me;const _t=(lt.event_type||lt.transaction_type||"").toLowerCase();_t.includes("vote")?Be.vote.push(wt):_t.includes("ticket")||_t.includes("billeterie")?Be.ticket.push(wt):_t.includes("stand")?Be.stand.push(wt):_t.includes("protected")||_t.includes("interaction")||_t==="protected_event"||_t==="event_access"?Be.protected.push(wt):_t.includes("raffle")||_t.includes("tombola")||lt.transaction_type==="raffle_ticket_sale"?Be.raffle.push(wt):Be.ticket.push(wt)}),p(Be),b(st)}catch(Ee){console.error("Error fetching earnings:",Ee)}finally{U(!1)}}},[e]),ye=A.useCallback(async()=>{if(e){L(!0),re(null),X(!1),xe.current&&clearTimeout(xe.current),xe.current=setTimeout(()=>{L&&(X(!0),L(!1))},1e4);try{const[Ee,Ge,Be]=await Promise.all([a({organizer_id:e.id}),Qd(()=>Je.from("transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(50)),Qd(()=>Je.from("referral_rewards").select("referrer_reward",{count:"exact"}).eq("referrer_id",e.id))]);if(xe.current&&clearTimeout(xe.current),l(Ee||[]),u(Ge.data||[]),Be.data){const st=Be.count||Be.data.length,lt=Be.data.reduce((Me,wt)=>Me+(wt.referrer_reward||0),0);h({count:st,coins:lt})}}catch(Ee){console.error("Profile page load error:",Ee),re(Ee.message||"Erreur de chargement")}finally{L(!1)}}},[e,r,a]);A.useEffect(()=>(!t&&e&&(Se(),ye()),()=>{xe.current&&clearTimeout(xe.current)}),[t,e,ye,Se]);const ee=Ee=>{M(Ee),C(!0)},he=(Ee=null)=>{M(Ee),T(!0)},se=async()=>{K(!0);try{let Ee="all";O==="vote"&&(Ee="vote"),O==="ticket"&&(Ee="ticket"),O==="raffle"&&(Ee="raffle"),O==="stand"&&(Ee="stand"),O==="protected"&&(Ee="protected_event"),console.log(` Transfert des gains (${Ee})...`);const{data:Ge,error:Be}=await Qd(()=>Je.rpc("transfer_pending_earnings_with_commission",{p_organizer_id:e.id,p_event_type:Ee}));if(Be)throw Be;te(Ge),typeof i=="function"&&await i(),await Promise.all([Se(),ye()]),T(!1)}catch(Ee){console.error(" Erreur transfert:",Ee),ne({title:" Erreur",description:Ee.message,variant:"destructive"})}finally{K(!1)}},te=Ee=>{if(Ee!=null&&Ee.success){const Be=(Ee.details||{}).net_transferred||0;ne({title:" Transfert russi",description:s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-emerald-600",children:["+",Be,"  transfrs"]}),s.jsx("p",{className:"text-xs mt-1",children:"Vos gains sont maintenant disponibles dans votre solde."})]})})}else ne({title:" Information",description:(Ee==null?void 0:Ee.message)||"Aucun gain  transfrer",variant:"default"})},ge=()=>{typeof i=="function"&&i(),ye(),Se()},ue=Ee=>Ee.reduce((Ge,Be)=>Ge+Be.amount,0),Ce=({category:Ee,label:Ge,icon:Be,list:st,colorClass:lt,btnColor:Me})=>{const wt=ue(st);return s.jsx(qt,{className:`border-l-4 ${lt} shadow-sm hover:shadow-md transition-all`,children:s.jsxs(Xt,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:`p-2 rounded-full bg-opacity-10 ${Me.replace("text-","bg-")}`,children:s.jsx(Be,{className:`w-4 h-4 ${Me}`})}),s.jsx("span",{className:"font-medium text-sm text-gray-600",children:Ge})]}),s.jsx(Vr,{variant:"secondary",className:"text-xs font-normal bg-yellow-50 text-yellow-700 border-yellow-200",children:"En attente"})]}),s.jsxs("div",{className:"flex flex-col gap-1 mt-2",children:[s.jsxs("div",{className:"text-2xl font-bold",children:[wt," ",s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:""})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Ue,{variant:"ghost",size:"sm",className:"h-7 text-xs px-2",onClick:()=>ee(Ee),disabled:wt===0,children:"Dtails"}),wt>0&&s.jsxs(Ue,{variant:"outline",size:"sm",className:"h-7 text-xs px-2 ml-auto border-emerald-200 text-emerald-700 hover:bg-emerald-50 hover:text-emerald-800",onClick:()=>he(Ee),children:[s.jsx(Dte,{className:"w-3 h-3 mr-1"})," Transfrer"]})]})]})]})})},Ne=()=>s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[...Array(4)].map((Ee,Ge)=>s.jsx($c,{className:"h-24 w-full rounded-xl"},Ge))});return t?s.jsx("div",{className:"h-screen flex items-center justify-center",children:s.jsx(Jt,{className:"animate-spin w-10 h-10 text-primary"})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Di,{children:s.jsxs("title",{children:[(r==null?void 0:r.full_name)||"Profil"," - BonPlanInfos"]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-24",children:[s.jsx(kFe,{}),(G||ae)&&s.jsxs(zc,{variant:"destructive",className:"mb-6",children:[s.jsx(wu,{className:"h-4 w-4"}),s.jsx(Rf,{children:"Problme de chargement"}),s.jsxs(mu,{className:"flex items-center justify-between",children:[s.jsx("span",{children:ae?"Le chargement prend trop de temps. Vrifiez votre connexion.":"Une erreur est survenue lors du chargement des donnes."}),s.jsxs(Ue,{variant:"outline",size:"sm",onClick:ge,className:"bg-white/10 hover:bg-white/20 text-white border-white/20",children:[s.jsx(m4,{className:"w-4 h-4 mr-2"})," Ressayer"]})]})]}),s.jsx("div",{className:"my-8",children:n?s.jsx(Ne,{}):s.jsx(PFe,{userProfile:r,eventCount:o.length})}),r&&["organizer","admin","super_admin"].includes(r.user_type)&&s.jsxs("div",{className:"mb-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(jj,{className:"text-primary"}),"Tableau de Bord Gains"]}),s.jsx(Ue,{onClick:()=>Se(),variant:"ghost",size:"icon",disabled:H,children:s.jsx(m4,{className:`w-4 h-4 ${H?"animate-spin":""}`})})]}),H?s.jsxs("div",{className:"space-y-4",children:[s.jsx($c,{className:"h-32 w-full rounded-xl"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[...Array(5)].map((Ee,Ge)=>s.jsx($c,{className:"h-32 w-full rounded-xl"},Ge))})]}):s.jsxs(s.Fragment,{children:[s.jsxs(qt,{className:"border-none shadow-lg bg-gradient-to-r from-primary/90 to-primary text-primary-foreground overflow-hidden relative mb-6",children:[s.jsx("div",{className:"absolute top-0 right-0 p-10 bg-white/5 rounded-full -mr-10 -mt-10 blur-2xl"}),s.jsx(Xt,{className:"p-6 sm:p-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[s.jsxs("h3",{className:"text-lg font-medium opacity-90 flex items-center justify-center md:justify-start gap-2",children:[s.jsx(Yf,{className:"w-5 h-5"}),"Total Gains en Attente"]}),s.jsxs("div",{className:"text-5xl font-bold tracking-tight",children:[N," ",s.jsx("span",{className:"text-3xl opacity-80",children:""})]}),s.jsx("p",{className:"text-sm opacity-75",children:"Ces gains sont stocks temporairement. Transfrez-les pour pouvoir les retirer."})]}),s.jsx("div",{className:"flex flex-col gap-3 w-full md:w-auto",children:s.jsxs(Ue,{size:"lg",variant:"secondary",className:"w-full md:w-auto font-bold shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5",onClick:()=>he("all"),disabled:N===0,children:[s.jsx(qo,{className:"mr-2 h-5 w-5"}),"Tout transfrer (",N," )"]})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx(Ce,{category:"vote",label:"Gains Votes",icon:w1,list:g.vote,colorClass:"border-l-blue-500",btnColor:"text-blue-600"}),s.jsx(Ce,{category:"raffle",label:"Gains Tombolas",icon:ul,list:g.raffle,colorClass:"border-l-purple-500",btnColor:"text-purple-600"}),s.jsx(Ce,{category:"ticket",label:"Gains Billeterie",icon:ul,list:g.ticket,colorClass:"border-l-green-500",btnColor:"text-green-600"}),s.jsx(Ce,{category:"stand",label:"Gains Stands",icon:M0,list:g.stand,colorClass:"border-l-orange-500",btnColor:"text-orange-600"}),s.jsx(Ce,{category:"protected",label:"Gains Ev.Protgs",icon:R0,list:g.protected,colorClass:"border-l-indigo-500",btnColor:"text-indigo-600"})]})]})]}),B?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[...Array(4)].map((Ee,Ge)=>s.jsx($c,{className:"h-10 w-32 rounded-md flex-shrink-0"},Ge))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((Ee,Ge)=>s.jsx($c,{className:"h-64 w-full rounded-xl"},Ge))})]}):s.jsx(LLe,{userProfile:r,userEvents:o,userTransactions:c,loadingEvents:B,referralData:f,activeTab:le,loadingOrganizerStats:!1})]}),s.jsx($Le,{isOpen:S,onClose:()=>C(!1),category:O,transactions:O?g[O]:[]}),s.jsx(YLe,{isOpen:j,onClose:()=>T(!1),transactions:O&&O!=="all"?g[O]:[],totalAmount:O&&O!=="all"?ue(g[O]):N,loading:J,onConfirm:se})]})},ZLe=Ve.memo(XLe),P6=({isOpen:e,onClose:t,amountFcfa:r,packId:n,action:a})=>{const{user:i}=bn(),{toast:o}=qs(),[l,c]=A.useState(!1),[u,f]=A.useState([]),[h,g]=A.useState(null),[p,N]=A.useState("");A.useEffect(()=>{e?(async()=>{c(!0);const{data:M,error:B}=await Je.from("coin_packs").select("*").eq("is_active",!0).order("display_order");if(B)console.error("Error fetching coin packs:",B),o({title:"Erreur",description:"Impossible de charger les packs.",variant:"destructive"}),f([]);else if(f(M),n){const L=M.find(H=>H.id===n);L&&b(L)}else if(r){const L={id:"custom",name:"Recharge Personnalise",fcfa_price:r,coin_amount:Yl.convertFcfaToCoins(r),bonus_coins:0};b(L)}c(!1)})():(g(null),N(""))},[e,o,n,r]);const b=O=>{if(!i){o({variant:"destructive",title:"Erreur",description:"Veuillez vous connecter."});return}g(O);const M=Yl.generateMoneyFusionLink({userId:i.id,amountFcfa:O.fcfa_price,action:a||"buy_coins",packId:O.id!=="custom"?O.id:null,email:i.email,phone:i.phone||""});N(M)},S=()=>{p?window.open(p,"_blank","noopener,noreferrer"):o({title:"Veuillez slectionner un pack",description:"Choisissez un pack de pices pour continuer.",variant:"default"})},C=()=>{navigator.clipboard.writeText(p),o({title:"Copi!",description:"Le lien de paiement a t copi."})},j=()=>s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 max-h-[60vh] overflow-y-auto",children:u.map(O=>s.jsxs("div",{className:`relative p-4 rounded-lg border-2 transition-all duration-300 cursor-pointer flex flex-col justify-between ${O.name.includes("Premium")||O.name.includes("Standard")?"border-primary bg-primary/10":"border-gray-700 bg-gray-800"} hover:border-primary`,onClick:()=>b(O),children:[(O.name.includes("Premium")||O.name.includes("Standard"))&&s.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-lg",children:[s.jsx(Ku,{size:12})," Populaire"]}),s.jsxs("div",{className:"flex flex-col items-center text-center pt-4",children:[s.jsx("h3",{className:"text-xl font-semibold mb-1 text-white",children:O.name}),s.jsxs("p",{className:"text-4xl font-bold text-primary my-2 flex items-center gap-2",children:[s.jsx(F7,{size:28}),O.coin_amount+(O.bonus_coins||0)]}),O.bonus_coins>0&&s.jsxs("p",{className:"text-sm text-primary/80 font-semibold",children:["dont ",O.bonus_coins," pices bonus !"]}),s.jsxs("p",{className:"text-lg font-medium text-white mt-3 bg-black/20 px-4 py-1 rounded-full",children:[O.fcfa_price.toLocaleString("fr-FR")," FCFA"]})]})]},O.id))}),T=()=>s.jsxs("div",{className:"p-4 space-y-6 text-center max-h-[70vh] overflow-y-auto",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Finalisez votre paiement de ",h.fcfa_price.toLocaleString("fr-FR")," FCFA"]}),s.jsx("p",{className:"text-muted-foreground",children:"Scannez le QR code avec votre tlphone ou utilisez le lien ci-dessous."}),s.jsx("div",{className:"p-4 bg-white rounded-lg inline-block",children:s.jsx($Fe,{value:p,size:192})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs(Ue,{onClick:C,variant:"outline",className:"w-full",children:[s.jsx(dy,{className:"w-4 h-4 mr-2"})," Copier le lien"]}),s.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"w-full",children:s.jsxs(Ue,{className:"w-full",children:[s.jsx(O7,{className:"w-4 h-4 mr-2"})," Ouvrir le lien"]})})]}),s.jsx(Ue,{variant:"ghost",onClick:()=>{g(null),N("")},children:"Retour au choix des packs"})]});return s.jsx(To,{open:e,onOpenChange:t,children:s.jsxs(xo,{className:"sm:max-w-[800px] bg-gray-900 border-gray-700 text-white",children:[s.jsxs(ko,{children:[s.jsxs(Po,{className:"text-2xl font-bold flex items-center gap-2 text-primary",children:[s.jsx(za,{})," ",h?"Finaliser le Paiement":"Acheter des Pices"]}),s.jsx(dl,{className:"text-gray-400",children:h?"Suivez les instructions pour recharger votre compte.":"Rechargez votre compte pour profiter de toutes les fonctionnalits."})]}),l?s.jsx("div",{className:"flex justify-center items-center h-48",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})}):h?T():j(),s.jsxs(Jc,{className:"flex flex-col sm:flex-row items-center justify-between w-full pt-6 border-t border-gray-200 dark:border-gray-700 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hy,{size:16,className:"text-green-500"}),s.jsx("span",{children:"Scuris par"}),s.jsx("span",{className:"font-semibold text-foreground",children:"MoneyFusion"})]}),s.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jm,{size:14}),s.jsx(x_e,{size:14}),s.jsx(v1,{size:14})]})]}),s.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[s.jsx(Ue,{variant:"ghost",onClick:t,disabled:l,size:"sm",children:"Plus tard"}),s.jsx(Ue,{onClick:S,disabled:l||!h,size:"sm",className:"bg-primary hover:bg-primary/90",children:l?s.jsx(Jt,{size:16,className:"animate-spin"}):"Payer maintenant"})]})]})]})})},JLe=()=>{var ee,he;const{t:e}=Xa(),[t,r]=A.useState([]),[n,a]=A.useState([]),[i,o]=A.useState(!0),[l,c]=A.useState(""),[u,f]=A.useState({selectedCategories:[],selectedCountries:[],selectedCities:[],selectedEventTypes:[],priceRange:[0,5e4],quickFilter:null}),h=ed(),g=Ia(),{userProfile:p,adminConfig:N,forceRefreshUserProfile:b,hasFetchError:S}=ai(),{user:C}=bn(),[j,T]=A.useState(!1),[O,M]=A.useState(!1),[B,L]=A.useState(new Set),[H,U]=A.useState({isOpen:!1,event:null,cost:0,costFcfa:0,breakdown:null,onConfirm:null}),J=A.useMemo(()=>[{label:e("events_page.quick_filters.trending"),value:"trending"},{label:e("events_page.quick_filters.popular_by_category"),value:"popular_by_category"},{label:e("events_page.quick_filters.free_weekend"),value:"free_weekend"},{label:e("events_page.quick_filters.ending_soon"),value:"ending_soon",icon:Kc}],[e]),K=A.useCallback(async()=>{if(C)try{const{data:se,error:te}=await Qd(()=>Je.from("protected_event_access").select("event_id").eq("user_id",C.id).eq("status","active"));if(te)throw te;const ge=new Set(se.map(ue=>ue.event_id));L(ge)}catch(se){console.error("Error fetching unlocked events:",se)}},[C]),G=A.useCallback(async()=>{if(S){o(!1);return}o(!0);try{const[se,te]=await Promise.all([Qd(()=>Je.from("events_with_categories").select("*").eq("status","active")),Qd(()=>Je.from("event_categories").select("*").eq("is_active",!0).order("name"))]);if(se.error)throw se.error;if(te.error)throw te.error;r(se.data||[]),a(te.data||[])}catch{ot({title:e("common.error_title"),description:"Impossible de charger les vnements.",variant:"destructive"})}finally{o(!1)}},[S,e]);A.useEffect(()=>{G(),K()},[G,K]),A.useEffect(()=>{var se;(se=h.state)!=null&&se.preselectedEventTypes&&(f(te=>({...te,selectedEventTypes:h.state.preselectedEventTypes})),g(h.pathname,{replace:!0,state:{}}))},[h.state,g]);const re=(se,te)=>f(ge=>({...ge,[se]:ge[se].includes(te)?ge[se].filter(ue=>ue!==te):[...ge[se],te]})),ae=se=>f(te=>({...te,quickFilter:te.quickFilter===se?null:se})),X=()=>{f({selectedCategories:[],selectedCountries:[],selectedCities:[],selectedEventTypes:[],priceRange:[0,5e4],quickFilter:null}),c("")},ne=A.useMemo(()=>{let se=t.filter(ge=>{const ue=l===""||ge.title.toLowerCase().includes(l.toLowerCase())||ge.description&&ge.description.toLowerCase().includes(l.toLowerCase()),Ce=u.selectedCategories.length===0||u.selectedCategories.includes(ge.category_slug),Ne=u.selectedCountries.length===0||u.selectedCountries.includes(ge.country),Ee=u.selectedCities.length===0||u.selectedCities.includes(ge.city),Ge=u.selectedEventTypes.length===0||u.selectedEventTypes.includes(ge.event_type);return ue&&Ce&&Ne&&Ee&&Ge});u.quickFilter;const te=new Date;return te.setDate(te.getDate()-1),se.sort((ge,ue)=>{const Ce=B.has(ge.id),Ne=B.has(ue.id);if(Ce&&!Ne)return 1;if(!Ce&&Ne)return-1;const Ee=new Date(ge.created_at)>te,Ge=new Date(ue.created_at)>te;return Ee&&!Ge?-1:!Ee&&Ge?1:new Date(ge.event_date)-new Date(ue.event_date)})},[t,l,u,B]),de=async se=>{try{const{data:te,error:ge}=await Qd(()=>Je.rpc("access_protected_event",{p_event_id:se.id,p_user_id:C.id},{method:"POST"}));if(ge)throw ge;if(!te.success)throw new Error(te.message);L(ue=>new Set(ue).add(se.id)),await b(),ot({title:e("events_page.unlock_modal.success_title"),description:e("events_page.unlock_modal.success_desc",{title:se.title}),className:"bg-green-600 text-white"}),g(`/event/${se.id}`)}catch(te){te.message.includes("Solde insuffisant")?T(!0):ot({title:e("common.error_title"),description:te.message,variant:"destructive"})}},le=async se=>{if(!C){g("/auth");return}if(!B.has(se.id)&&se.event_type!=="protected")try{await Je.from("user_interactions").insert({user_id:C.id,event_id:se.id,interaction_type:"view"})}catch(Ce){console.error("Failed to log view interaction:",Ce)}const te=p&&["super_admin","admin","secretary"].includes(p.user_type),ge=C&&se.organizer_id===C.id;if(B.has(se.id)||ge||te||se.event_type!=="protected")g(`/event/${se.id}`);else{const Ne=2*((N==null?void 0:N.coin_to_fcfa_rate)||10),Ee=await Yl.getWalletBalances(C.id);if(Ee.total<2){T(!0);return}const Ge=Math.min(Ee.free_coin_balance,2),Be=2-Ge;U({isOpen:!0,event:se,cost:2,costFcfa:Ne,breakdown:{free:Ge,paid:Be},onConfirm:()=>de(se)})}},xe=A.useMemo(()=>u.selectedCountries.length===0?Object.values(Ny).flat().slice(0,100):u.selectedCountries.reduce((se,te)=>se.concat(Ny[te]||[]),[]),[u.selectedCountries]),Se=[{name:e("home_page.event_types.standard"),value:"standard"},{name:e("home_page.event_types.raffles"),value:"raffle"},{name:e("home_page.event_types.voting"),value:"voting"},{name:e("home_page.event_types.stands"),value:"stand_rental"},{name:e("home_page.event_types.ticketing"),value:"ticketing"},{name:"Protg",value:"protected"}],ye=u.selectedCategories.length+u.selectedCountries.length+u.selectedCities.length+u.selectedEventTypes.length+(u.quickFilter?1:0);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(Di,{children:[s.jsxs("title",{children:[e("events_page.title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("events_page.subtitle")})]}),s.jsxs("main",{className:"container mx-auto max-w-7xl px-4 py-8",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:e("events_page.title")}),s.jsx("p",{className:"text-muted-foreground mb-6",children:e("events_page.subtitle")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-grow",children:[s.jsx(Il,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),s.jsx(er,{placeholder:e("events_page.search_placeholder"),value:l,onChange:se=>c(se.target.value),className:"pl-12 h-12 rounded-full bg-card border-border focus-visible:ring-primary"})]}),s.jsxs(Bae,{children:[s.jsx(Uae,{asChild:!0,children:s.jsxs(Ue,{variant:"outline",className:"h-12 rounded-full relative",children:[s.jsx(g_e,{className:"w-4 h-4 mr-2"}),e("events_page.filters")," ",ye>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-primary text-primary-foreground text-xs",children:ye})]})}),s.jsxs(EM,{side:"right",className:"w-[300px] sm:w-[400px] flex flex-col",children:[s.jsx(jM,{children:s.jsx(kM,{children:e("events_page.filters")})}),s.jsxs("div",{className:"py-4 space-y-6 flex-grow overflow-y-auto pr-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("events_page.event_types")}),s.jsx("div",{className:"space-y-2",children:Se.map(se=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zu,{id:`type-${se.value}`,checked:u.selectedEventTypes.includes(se.value),onCheckedChange:()=>re("selectedEventTypes",se.value)}),s.jsx(jt,{htmlFor:`type-${se.value}`,className:"cursor-pointer",children:se.name})]},se.value))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("events_page.categories")}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:n.map(se=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zu,{id:`cat-${se.id}`,checked:u.selectedCategories.includes(se.slug),onCheckedChange:()=>re("selectedCategories",se.slug)}),s.jsx(jt,{htmlFor:`cat-${se.id}`,className:"cursor-pointer",children:se.name})]},se.id))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("events_page.countries")}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s3.map(se=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zu,{id:`country-${se.code}`,checked:u.selectedCountries.includes(se.name),onCheckedChange:()=>re("selectedCountries",se.name)}),s.jsx(jt,{htmlFor:`country-${se.code}`,className:"cursor-pointer",children:se.name})]},se.code))})]}),xe.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:e("events_page.cities")}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:xe.map(se=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zu,{id:`city-${se}`,checked:u.selectedCities.includes(se),onCheckedChange:()=>re("selectedCities",se)}),s.jsx(jt,{htmlFor:`city-${se}`,className:"cursor-pointer",children:se})]},se))})]})]}),s.jsx(TM,{children:s.jsx(Ue,{variant:"outline",onClick:X,children:e("events_page.reset")})})]})]})]}),s.jsx("div",{className:"flex gap-2 flex-wrap mb-6",children:J.map(se=>s.jsxs(Ue,{variant:u.quickFilter===se.value?"default":"secondary",size:"sm",onClick:()=>ae(se.value),className:"rounded-full",children:[se.icon&&s.jsx(se.icon,{className:`w-4 h-4 mr-2 ${se.value==="ending_soon"?"text-red-400":""}`})," ",se.label]},se.value))})]}),i?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})}):S?s.jsxs("div",{className:"text-center py-16 flex flex-col items-center",children:[s.jsx(Kc,{className:"w-16 h-16 text-destructive mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2 text-destructive",children:e("home_page.loading_error.title")}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:e("home_page.loading_error.description")}),s.jsxs(Ue,{onClick:()=>window.location.reload(),children:[s.jsx(m4,{className:"w-4 h-4 mr-2"}),e("common.retry")]})]}):ne.length>0?s.jsx(Zt.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.05},children:ne.map(se=>s.jsx(g6,{event:se,onClick:()=>le(se),isUnlocked:B.has(se.id)||C&&se.organizer_id===C.id||p&&["super_admin","admin","secretary"].includes(p.user_type)},se.id))}):s.jsxs("div",{className:"text-center py-16 flex flex-col items-center",children:[s.jsx(Kc,{className:"w-16 h-16 text-muted-foreground/50 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("events_page.no_events_found.title")}),s.jsx("p",{className:"text-muted-foreground mb-6",children:e("events_page.no_events_found.description")}),s.jsxs(Ue,{onClick:X,children:[s.jsx(m4,{className:"w-4 h-4 mr-2"}),e("events_page.no_events_found.reset_button")]})]})]}),s.jsx(W0,{isOpen:j,onClose:()=>T(!1),onProceed:()=>{T(!1),M(!0)}}),s.jsx(P6,{isOpen:O,onClose:()=>M(!1)}),s.jsx(hl,{open:H.isOpen,onOpenChange:se=>!se&&U({isOpen:!1,event:null,cost:0,costFcfa:0,breakdown:null,onConfirm:null}),children:s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:e("events_page.unlock_modal.title")}),s.jsx(el,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-4",children:[s.jsx(za,{className:"w-12 h-12 text-primary mb-4"}),s.jsx("p",{className:"text-lg font-bold mb-2",children:e("events_page.unlock_modal.description",{title:(ee=H.event)==null?void 0:ee.title,cost:H.cost,costFcfa:(he=H.costFcfa)==null?void 0:he.toLocaleString("fr-FR")})}),H.breakdown&&s.jsxs("div",{className:"w-full text-sm bg-muted/50 p-3 rounded border border-border mt-2 mb-2 text-left",children:[s.jsx("p",{className:"font-semibold mb-2 text-xs text-muted-foreground uppercase",children:"Dtail du paiement :"}),s.jsxs("ul",{className:"space-y-1",children:[H.breakdown.free>0&&s.jsxs("li",{className:"flex justify-between text-green-600 font-medium",children:[s.jsx("span",{children:" Pices gratuites :"}),s.jsxs("span",{children:["-",H.breakdown.free,""]})]}),H.breakdown.paid>0&&s.jsxs("li",{className:"flex justify-between text-blue-600 font-medium",children:[s.jsx("span",{children:" Pices achetes :"}),s.jsxs("span",{children:["-",H.breakdown.paid,""]})]})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground flex items-start gap-2 mt-2",children:[s.jsx(of,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:e("events_page.unlock_modal.info")})]})]})})]}),s.jsxs(ml,{children:[s.jsx(gl,{children:e("common.cancel")}),s.jsx(pl,{onClick:H.onConfirm,className:"bg-primary",children:e("common.confirm")})]})]})})]})},QLe=()=>{const e=Ia(),{t}=Xa(),r=[{type:"simple",title:t("create_event_page.types.simple.title")||"vnement Simple",description:t("create_event_page.types.simple.desc")||"Crez un vnement basique sans options avances pour informer votre communaut.",icon:$u,path:"/create-simple-event",bgColor:"bg-gradient-to-br from-blue-500 to-blue-600",shadowColor:"shadow-blue-500/20",textColor:"text-white",iconColor:"text-white"},{type:"ticketing",title:t("create_event_page.types.ticketing.title")||"Billetterie",description:t("create_event_page.types.ticketing.desc")||"Vendez des billets (QR code), grez les entres et suivez vos ventes en temps rel.",icon:ul,path:"/create-ticketing-event",bgColor:"bg-gradient-to-br from-red-500 to-red-600",shadowColor:"shadow-red-500/20",textColor:"text-white",iconColor:"text-white"},{type:"voting",title:t("create_event_page.types.voting.title")||"Vote & Comptition",description:t("create_event_page.types.voting.desc")||"Organisez des concours, lections ou sondages payants ou gratuits.",icon:w1,path:"/create-voting-event",bgColor:"bg-gradient-to-br from-green-500 to-green-600",shadowColor:"shadow-green-500/20",textColor:"text-white",iconColor:"text-white"},{type:"raffle",title:t("create_event_page.types.raffle.title")||"Tombola",description:t("create_event_page.types.raffle.desc")||"Lancez une tombola avec tirage au sort automatique et quitable.",icon:gx,path:"/create-raffle-event",bgColor:"bg-gradient-to-br from-purple-500 to-purple-600",shadowColor:"shadow-purple-500/20",textColor:"text-white",iconColor:"text-white"},{type:"stand_rental",title:t("create_event_page.types.stand.title")||"Location de Stands",description:t("create_event_page.types.stand.desc")||"Grez la location d'espaces pour vos exposants lors de foires ou salons.",icon:M0,path:"/create-stand-event",bgColor:"bg-gradient-to-br from-teal-500 to-teal-600",shadowColor:"shadow-teal-500/20",textColor:"text-white",iconColor:"text-white"}],n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return s.jsxs("div",{className:"min-h-screen bg-gray-50/50 dark:bg-background/50",children:[s.jsxs(Di,{children:[s.jsx("title",{children:t("create_event_page.meta.title")||"Crer un vnement | BonPlanInfos"}),s.jsx("meta",{name:"description",content:t("create_event_page.meta.description")||"Choisissez le type d'vnement que vous souhaitez organiser."})]}),s.jsxs("main",{className:"container mx-auto max-w-6xl px-4 py-12",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col items-center text-center mb-12",children:[s.jsxs("div",{className:"flex items-center justify-center w-full relative mb-6",children:[s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"absolute left-0 lg:left-auto lg:-ml-16",children:s.jsx(_u,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:t("create_event_page.title")||"Crer un vnement"})]}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl",children:t("create_event_page.subtitle")||"Slectionnez le format qui correspond le mieux  vos besoins parmi nos 5 options disponibles."})]}),s.jsx(Zt.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",variants:n,initial:"hidden",animate:"visible",children:r.map(i=>s.jsx(Zt.div,{variants:a,className:"h-full",children:s.jsxs(qt,{className:`group cursor-pointer h-full overflow-hidden border-0 relative transition-all duration-300 hover:-translate-y-1 hover:shadow-xl ${i.bgColor} ${i.shadowColor}`,onClick:()=>e(i.path),children:[s.jsx("div",{className:"absolute top-0 right-0 -mr-8 -mt-8 w-24 h-24 rounded-full bg-white/10 blur-2xl transition-transform duration-500 group-hover:scale-150"}),s.jsx("div",{className:"absolute bottom-0 left-0 -ml-8 -mb-8 w-20 h-20 rounded-full bg-black/10 blur-2xl transition-transform duration-500 group-hover:scale-150"}),s.jsxs(Xt,{className:"p-6 sm:p-8 flex flex-col items-start text-left h-full relative z-10",children:[s.jsx("div",{className:"p-3 rounded-2xl bg-white/20 backdrop-blur-sm mb-6 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-3",children:s.jsx(i.icon,{className:`w-8 h-8 ${i.iconColor}`})}),s.jsx("h3",{className:`font-bold text-xl sm:text-2xl mb-3 ${i.textColor}`,children:i.title}),s.jsx("p",{className:"text-white/90 text-sm sm:text-base leading-relaxed",children:i.description}),s.jsxs("div",{className:"mt-auto pt-6 w-full flex items-center justify-between opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[s.jsx("span",{className:"text-xs font-medium uppercase tracking-wider text-white/80",children:"Commencer"}),s.jsx(_u,{className:"w-4 h-4 text-white rotate-180"})]})]})]})},i.type))}),s.jsx(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-16",children:s.jsx(qt,{className:"bg-card border-muted",children:s.jsxs(Xt,{className:"p-8 flex flex-col md:flex-row items-center gap-6 text-center md:text-left",children:[s.jsx("div",{className:"p-4 rounded-full bg-primary/10 text-primary",children:s.jsx(wd,{className:"w-8 h-8"})}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:t("create_event_page.help.title")||"Besoin d'aide pour choisir ?"}),s.jsx("p",{className:"text-muted-foreground",children:t("create_event_page.help.description")||"Consultez notre guide dtaill pour comprendre les fonctionnalits de chaque type d'vnement et maximiser votre impact."})]}),s.jsxs(Ue,{size:"lg",onClick:()=>e("/guide-utilisation"),className:"whitespace-nowrap",children:[s.jsx($u,{className:"w-4 h-4 mr-2"}),t("create_event_page.help.button")||"Voir le guide"]})]})})})]})]})},e9e=["fr","en"],t9e=(e,t,r={})=>{var u;const n="BonPlanInfos",a={fr:"La plateforme qui rcompense vos dcouvertes d'vnements en Afrique. Trouvez des bons plans, gagnez de l'argent et vivez des expriences uniques.",en:"The platform that rewards your event discoveries in Africa. Find great deals, earn money and live unique experiences."},i={fr:"bons plans, vnements afrique, promotions, sorties, concerts, festivals, gagner de l'argent, Abidjan, Dakar, Cotonou, Lom, Ouagadougou, rcompenses, pices, tlchargement",en:"deals, africa events, promotions, outings, concerts, festivals, earn money, Abidjan, Dakar, Cotonou, Lom, Ouagadougou, rewards, coins, downloads"},o=t("language")||"fr",l=i[o]||i.fr;return{"/":{title:`${t("nav.home","Accueil")} - ${n}`,description:t("home.meta.description",a[o]),keywords:l},"/events":{title:`${t("nav.events","vnements")} - ${n}`,description:o==="fr"?"Dcouvrez tous les vnements, concerts et activits prs de chez vous en Afrique. Rservez vos places et gagnez des rcompenses.":"Discover all events, concerts and activities near you in Africa. Book your tickets and earn rewards.",keywords:`vnements, concerts, activits, ${l}`},"/discover":{title:`Dcouvrir - ${n}`,description:o==="fr"?"Explorez les meilleurs vnements et promotions dans votre ville. Ne manquez plus jamais une occasion de vous amuser.":"Explore the best events and promotions in your city. Never miss a chance to have fun again.",keywords:`dcouvrir, explorer, ${l}`},"/event":{title:`${r.title||t("nav.event","vnement")} - ${n}`,description:r.description||(o==="fr"?"Dcouvrez tous les dtails de cet vnement exclusif. Rservez maintenant et ne manquez pas cette exprience unique.":"Discover all the details of this exclusive event. Book now and don't miss this unique experience."),keywords:`${r.title||""}, ${r.category||""}, ${r.city||""}, ${l}`},"/marketing":{title:`Partenariat - ${n}`,description:o==="fr"?"Devenez partenaire BonPlanInfos et lancez un business digital rentable dans votre rgion. Rejoignez notre rseau d'ambassadeurs.":"Become a BonPlanInfos partner and launch a profitable digital business in your region. Join our ambassador network.",keywords:`partenariat, franchise, business, ${l}`},"/partner-signup":{title:`Devenir Partenaire - ${n}`,description:o==="fr"?"Rejoignez le rseau BonPlanInfos en tant que partenaire. Dveloppez votre business et gnrez des revenus dans le digital.":"Join the BonPlanInfos network as a partner. Develop your business and generate digital income.",keywords:`devenir partenaire, inscription, ${l}`},"/pricing":{title:`Tarifs & Packs - ${n}`,description:o==="fr"?"Dcouvrez nos packs de pices et nos offres pour les organisateurs et les partenaires. Choisissez la formule qui vous convient.":"Discover our coin packs and offers for organizers and partners. Choose the plan that suits you.",keywords:`tarifs, prix, packs, abonnements, ${l}`},"/about":{title:` Propos - ${n}`,description:o==="fr"?"Dcouvrez la mission, l'quipe et les valeurs de BonPlanInfos, la plateforme d'vnements qui vous rcompense en Afrique.":"Discover the mission, team and values of BonPlanInfos, the event platform that rewards you in Africa.",keywords:` propos, mission, quipe, valeurs, ${l}`},"/wallet":{title:`Portefeuille - ${n}`,description:o==="fr"?"Grez votre portefeuille BonPlanInfos. Consultez votre solde de pices, vos transactions et retirez vos gains.":"Manage your BonPlanInfos wallet. Check your coin balance, transactions and withdraw your earnings.",keywords:`portefeuille, pices, transactions, retraits, ${l}`},"/profile":{title:`Profil - ${n}`,description:o==="fr"?"Grez votre profil BonPlanInfos. Personnalisez vos prfrences et consultez votre activit.":"Manage your BonPlanInfos profile. Customize your preferences and view your activity.",keywords:`profil, compte, paramtres, ${l}`}}[e]||{title:`${n} - ${(u=a[o])==null?void 0:u.split(".")[0]}`,description:a[o],keywords:l}},O6=({pageData:e={}})=>{const{i18n:t}=Xa(),r=ed(),n=r.pathname.split("/").filter(S=>S),a=n[0]?`/${n[0]}`:"/",i=n[0]==="event"&&n[1],l=t9e(i?"/event":a,t.t,e),c=e.title||l.title,u=e.description||l.description,f=e.keywords||l.keywords,g=(()=>e.ogImage?`https://bonplaninfos.imgix.net/${e.ogImage.split("/").pop()}?auto=format&fit=max&w=1200&h=630`:e.cover_image?`https://bonplaninfos.imgix.net/${e.cover_image.split("/").pop()}?auto=format&fit=max&w=1200&h=630`:"https://horizons-cdn.hostinger.com/b046caa6-31e1-44c9-b7bb-4c0c24e49566/08e3ecec378eb185b9bc3412f675f660.png")(),p=`https://bonplaninfos.net${r.pathname}`,N=t.language||"fr",b=()=>{const S={"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://bonplaninfos.net/#website",url:"https://bonplaninfos.net",name:"BonPlanInfos",description:l.description,inLanguage:N,potentialAction:{"@type":"SearchAction",target:"https://bonplaninfos.net/events?q={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"Organization","@id":"https://bonplaninfos.net/#organization",name:"BonPlanInfos",url:"https://bonplaninfos.net",logo:{"@type":"ImageObject",url:"https://bonplaninfos.net/logo.png",width:200,height:200},description:l.description}]};return i&&e&&S["@graph"].push({"@type":"Event",name:e.title,description:e.description,startDate:e.event_date,endDate:e.end_date,location:{"@type":"Place",name:e.venue||e.city,address:{"@type":"PostalAddress",addressLocality:e.city,addressCountry:e.country}},organizer:{"@type":"Organization",name:e.organizer_name||"BonPlanInfos"},image:g}),S};return s.jsxs(Di,{children:[s.jsx("html",{lang:N}),s.jsx("title",{children:c}),s.jsx("meta",{name:"description",content:u}),s.jsx("meta",{name:"keywords",content:f}),s.jsx("meta",{name:"robots",content:"index, follow"}),s.jsx("link",{rel:"canonical",href:p}),e9e.map(S=>s.jsx("link",{rel:"alternate",hrefLang:S,href:`https://bonplaninfos.net/${S}${r.pathname}`},S)),s.jsx("link",{rel:"alternate",hrefLang:"x-default",href:p}),s.jsx("meta",{property:"og:title",content:c}),s.jsx("meta",{property:"og:description",content:u}),s.jsx("meta",{property:"og:url",content:p}),s.jsx("meta",{property:"og:site_name",content:"BonPlanInfos"}),s.jsx("meta",{property:"og:image",content:g}),s.jsx("meta",{property:"og:image:width",content:"1200"}),s.jsx("meta",{property:"og:image:height",content:"630"}),s.jsx("meta",{property:"og:type",content:i?"event":"website"}),s.jsx("meta",{property:"og:locale",content:N==="fr"?"fr_FR":"en_US"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:c}),s.jsx("meta",{name:"twitter:description",content:u}),s.jsx("meta",{name:"twitter:image",content:g}),s.jsx("meta",{name:"twitter:site",content:"@bonplaninfos"}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(b())}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s.jsx("meta",{name:"theme-color",content:"#3B82F6"}),s.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),s.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"})]})};function Lq(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function aue(...e){return t=>{let r=!1;const n=e.map(a=>{const i=Lq(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Lq(e[a],null)}}}}function ev(...e){return A.useCallback(aue(...e),e)}var iue=A.forwardRef((e,t)=>{const{children:r,...n}=e,a=A.Children.toArray(r),i=a.find(n9e);if(i){const o=i.props.children,l=a.map(c=>c===i?A.Children.count(o)>1?A.Children.only(null):A.isValidElement(o)?o.props.children:null:c);return s.jsx(FF,{...n,ref:t,children:A.isValidElement(o)?A.cloneElement(o,void 0,l):null})}return s.jsx(FF,{...n,ref:t,children:r})});iue.displayName="Slot";var FF=A.forwardRef((e,t)=>{const{children:r,...n}=e;if(A.isValidElement(r)){const a=i9e(r);return A.cloneElement(r,{...a9e(n,r.props),ref:t?aue(t,a):a})}return A.Children.count(r)>1?A.Children.only(null):null});FF.displayName="SlotClone";var r9e=({children:e})=>s.jsx(s.Fragment,{children:e});function n9e(e){return A.isValidElement(e)&&e.type===r9e}function a9e(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function i9e(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var s9e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],h3=s9e.reduce((e,t)=>{const r=A.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?iue:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),DF=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{};function o9e(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var m3=e=>{const{present:t,children:r}=e,n=l9e(t),a=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),i=ev(n.ref,c9e(a));return typeof r=="function"||n.isPresent?A.cloneElement(a,{ref:i}):null};m3.displayName="Presence";function l9e(e){const[t,r]=A.useState(),n=A.useRef({}),a=A.useRef(e),i=A.useRef("none"),o=e?"mounted":"unmounted",[l,c]=o9e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const u=hS(n.current);i.current=l==="mounted"?u:"none"},[l]),DF(()=>{const u=n.current,f=a.current;if(f!==e){const g=i.current,p=hS(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&g!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),DF(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=p=>{const b=hS(n.current).includes(p.animationName);if(p.target===t&&b&&(c("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=p=>{p.target===t&&(i.current=hS(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:A.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function hS(e){return(e==null?void 0:e.animationName)||"none"}function c9e(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function u9e(e,t=[]){let r=[];function n(i,o){const l=A.createContext(o),c=r.length;r=[...r,o];const u=h=>{var C;const{scope:g,children:p,...N}=h,b=((C=g==null?void 0:g[e])==null?void 0:C[c])||l,S=A.useMemo(()=>N,Object.values(N));return s.jsx(b.Provider,{value:S,children:p})};u.displayName=i+"Provider";function f(h,g){var b;const p=((b=g==null?void 0:g[e])==null?void 0:b[c])||l,N=A.useContext(p);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,f]}const a=()=>{const i=r.map(o=>A.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return A.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,d9e(a,...t)]}function d9e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Lg(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var f9e=A.createContext(void 0);function h9e(e){const t=A.useContext(f9e);return e||t||"ltr"}function m9e(e,[t,r]){return Math.min(r,Math.max(t,e))}function sx(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function p9e(e,t){return A.useReducer((r,n)=>t[r][n]??r,e)}var IL="ScrollArea",[sue,b5t]=u9e(IL),[g9e,Xf]=sue(IL),oue=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=A.useState(null),[u,f]=A.useState(null),[h,g]=A.useState(null),[p,N]=A.useState(null),[b,S]=A.useState(null),[C,j]=A.useState(0),[T,O]=A.useState(0),[M,B]=A.useState(!1),[L,H]=A.useState(!1),U=ev(t,K=>c(K)),J=h9e(a);return s.jsx(g9e,{scope:r,type:n,dir:J,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:f,content:h,onContentChange:g,scrollbarX:p,onScrollbarXChange:N,scrollbarXEnabled:M,onScrollbarXEnabledChange:B,scrollbarY:b,onScrollbarYChange:S,scrollbarYEnabled:L,onScrollbarYEnabledChange:H,onCornerWidthChange:j,onCornerHeightChange:O,children:s.jsx(h3.div,{dir:J,...o,ref:U,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":T+"px",...e.style}})})});oue.displayName=IL;var lue="ScrollAreaViewport",cue=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Xf(lue,r),l=A.useRef(null),c=ev(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(h3.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});cue.displayName=lue;var K0="ScrollAreaScrollbar",FL=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xf(K0,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return A.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(x9e,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(v9e,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(uue,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(DL,{...n,ref:t}):null});FL.displayName=K0;var x9e=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xf(K0,e.__scopeScrollArea),[i,o]=A.useState(!1);return A.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(m3,{present:r||i,children:s.jsx(uue,{"data-state":i?"visible":"hidden",...n,ref:t})})}),v9e=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xf(K0,e.__scopeScrollArea),i=e.orientation==="horizontal",o=F6(()=>c("SCROLL_END"),100),[l,c]=p9e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return A.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),A.useEffect(()=>{const u=a.viewport,f=i?"scrollLeft":"scrollTop";if(u){let h=u[f];const g=()=>{const p=u[f];h!==p&&(c("SCROLL"),o()),h=p};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[a.viewport,i,c,o]),s.jsx(m3,{present:r||l!=="hidden",children:s.jsx(DL,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:sx(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:sx(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),uue=A.forwardRef((e,t)=>{const r=Xf(K0,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=A.useState(!1),l=e.orientation==="horizontal",c=F6(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:f)}},10);return Py(r.viewport,c),Py(r.content,c),s.jsx(m3,{present:n||i,children:s.jsx(DL,{"data-state":i?"visible":"hidden",...a,ref:t})})}),DL=A.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Xf(K0,e.__scopeScrollArea),i=A.useRef(null),o=A.useRef(0),[l,c]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=pue(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function h(g,p){return S9e(g,o.current,l,p)}return r==="horizontal"?s.jsx(y9e,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const g=a.viewport.scrollLeft,p=Bq(g,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollLeft=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollLeft=h(g,a.dir))}}):r==="vertical"?s.jsx(b9e,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const g=a.viewport.scrollTop,p=Bq(g,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollTop=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollTop=h(g))}}):null}),y9e=A.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Xf(K0,e.__scopeScrollArea),[o,l]=A.useState(),c=A.useRef(null),u=ev(t,c,i.onScrollbarXChange);return A.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(fue,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":I6(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(i.viewport){const g=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(g),xue(g,h)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:FA(o.paddingLeft),paddingEnd:FA(o.paddingRight)}})}})}),b9e=A.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Xf(K0,e.__scopeScrollArea),[o,l]=A.useState(),c=A.useRef(null),u=ev(t,c,i.onScrollbarYChange);return A.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(fue,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":I6(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(i.viewport){const g=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(g),xue(g,h)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:FA(o.paddingTop),paddingEnd:FA(o.paddingBottom)}})}})}),[w9e,due]=sue(K0),fue=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:h,...g}=e,p=Xf(K0,r),[N,b]=A.useState(null),S=ev(t,U=>b(U)),C=A.useRef(null),j=A.useRef(""),T=p.viewport,O=n.content-n.viewport,M=Lg(f),B=Lg(c),L=F6(h,10);function H(U){if(C.current){const J=U.clientX-C.current.left,K=U.clientY-C.current.top;u({x:J,y:K})}}return A.useEffect(()=>{const U=J=>{const K=J.target;(N==null?void 0:N.contains(K))&&M(J,O)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[T,N,O,M]),A.useEffect(B,[n,B]),Py(N,L),Py(p.content,L),s.jsx(w9e,{scope:r,scrollbar:N,hasThumb:a,onThumbChange:Lg(i),onThumbPointerUp:Lg(o),onThumbPositionChange:B,onThumbPointerDown:Lg(l),children:s.jsx(h3.div,{...g,ref:S,style:{position:"absolute",...g.style},onPointerDown:sx(e.onPointerDown,U=>{U.button===0&&(U.target.setPointerCapture(U.pointerId),C.current=N.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),H(U))}),onPointerMove:sx(e.onPointerMove,H),onPointerUp:sx(e.onPointerUp,U=>{const J=U.target;J.hasPointerCapture(U.pointerId)&&J.releasePointerCapture(U.pointerId),document.body.style.webkitUserSelect=j.current,p.viewport&&(p.viewport.style.scrollBehavior=""),C.current=null})})})}),IA="ScrollAreaThumb",hue=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=due(IA,e.__scopeScrollArea);return s.jsx(m3,{present:r||a.hasThumb,children:s.jsx(_9e,{ref:t,...n})})}),_9e=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Xf(IA,r),o=due(IA,r),{onThumbPositionChange:l}=o,c=ev(t,h=>o.onThumbChange(h)),u=A.useRef(void 0),f=F6(()=>{u.current&&(u.current(),u.current=void 0)},100);return A.useEffect(()=>{const h=i.viewport;if(h){const g=()=>{if(f(),!u.current){const p=C9e(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[i.viewport,f,l]),s.jsx(h3.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:sx(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),N=h.clientX-p.left,b=h.clientY-p.top;o.onThumbPointerDown({x:N,y:b})}),onPointerUp:sx(e.onPointerUp,o.onThumbPointerUp)})});hue.displayName=IA;var RL="ScrollAreaCorner",mue=A.forwardRef((e,t)=>{const r=Xf(RL,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(N9e,{...e,ref:t}):null});mue.displayName=RL;var N9e=A.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Xf(RL,r),[i,o]=A.useState(0),[l,c]=A.useState(0),u=!!(i&&l);return Py(a.scrollbarX,()=>{var h;const f=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(f),c(f)}),Py(a.scrollbarY,()=>{var h;const f=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(f),o(f)}),u?s.jsx(h3.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function FA(e){return e?parseInt(e,10):0}function pue(e,t){const r=e/t;return isNaN(r)?0:r}function I6(e){const t=pue(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function S9e(e,t,r,n="ltr"){const a=I6(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,h=n==="ltr"?[0,f]:[f*-1,0];return gue([c,u],h)(e)}function Bq(e,t,r="ltr"){const n=I6(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=m9e(e,c);return gue([0,o],[0,l])(u)}function gue(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function xue(e,t){return e>0&&e<t}var C9e=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function F6(e,t){const r=Lg(e),n=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),A.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Py(e,t){const r=Lg(t);DF(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var vue=oue,A9e=cue,E9e=mue;const R4=Ve.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(vue,{ref:n,className:kr("relative overflow-hidden",e),...r,children:[s.jsx(A9e,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(yue,{}),s.jsx(E9e,{})]}));R4.displayName=vue.displayName;const yue=Ve.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(FL,{ref:n,orientation:t,className:kr("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(hue,{className:"relative flex-1 rounded-full bg-border"})}));yue.displayName=FL.displayName;const j9e=({event:e,isUnlocked:t,handleShare:r})=>{const{user:n}=bn(),{userProfile:a,forceRefreshUserProfile:i}=ai(),[o,l]=A.useState({views:e.views_count||0,likes:0,comments:0,shares:0}),[c,u]=A.useState({liked:!1}),[f,h]=A.useState([]),[g,p]=A.useState(""),[N,b]=A.useState({like:!1,comment:!1,action:null}),[S,C]=A.useState(null),j=n&&e.organizer_id===n.id,T=(a==null?void 0:a.user_type)==="super_admin",O=j||T,M=e.event_type==="protected";A.useEffect(()=>{(async()=>{if(!(e!=null&&e.id))return;const{count:J,error:K}=await Je.from("user_interactions").select("*",{count:"exact",head:!0}).eq("event_id",e.id).eq("interaction_type","like"),{data:G,error:re}=await Je.from("event_comments").select("*, user:profiles(full_name, avatar_url, username)").eq("event_id",e.id).order("created_at",{ascending:!1});if(K||re?console.error("Error fetching interactions:",K||re):(l(ae=>({...ae,likes:J||0,comments:(G==null?void 0:G.length)||0})),h(G||[])),n){const{data:ae,error:X}=await Je.from("user_interactions").select("id").eq("event_id",e.id).eq("user_id",n.id).eq("interaction_type","like").maybeSingle();X||u(ne=>({...ne,liked:!!ae}))}})()},[e.id,n]);const B=async()=>{if(!n){ot({title:"Connexion requise",description:"Vous devez tre connect pour aimer.",variant:"destructive"});return}if(!t&&M){ot({title:"Contenu verrouill",description:"Dbloquez l'vnement pour interagir.",variant:"destructive"});return}b(U=>({...U,like:!0}));try{const{data:U,error:J}=await Je.rpc("protected_event_interaction",{p_event_id:e.id,p_user_id:n.id,p_interaction_type:"like"});if(J)throw J;if(U.success){const K=U.message.includes("retire");l(G=>({...G,likes:K?Math.max(0,G.likes-1):G.likes+1})),u(G=>({...G,liked:!K})),i()}else ot({title:"Erreur",description:U.message,variant:"destructive"})}catch(U){ot({title:"Erreur",description:U.message,variant:"destructive"})}finally{b(U=>({...U,like:!1}))}},L=async U=>{if(U.preventDefault(),!!g.trim()){if(!n){ot({title:"Connexion requise",description:"Vous devez tre connect pour commenter.",variant:"destructive"});return}if(!t&&M&&!O){ot({title:"Contenu verrouill",description:"Dbloquez l'vnement pour commenter.",variant:"destructive"});return}b(J=>({...J,comment:!0}));try{const{data:J,error:K}=await Je.from("event_comments").insert({event_id:e.id,user_id:n.id,comment_text:g.trim(),is_approved:!0,rating:5}).select("*, user:profiles(full_name, avatar_url, username)").single();if(K)throw K;J&&(h(G=>[J,...G]),l(G=>({...G,comments:G.comments+1})),ot({title:"Succs",description:"Commentaire ajout !"}),p(""),i())}catch(J){console.error(J),ot({title:"Erreur",description:"Impossible d'ajouter le commentaire.",variant:"destructive"})}finally{b(J=>({...J,comment:!1}))}}},H=async()=>{if(S){b(U=>({...U,action:S})),console.log("Action: Suppression du commentaire par l'utilisateur role:",a==null?void 0:a.user_type);try{const{error:U}=await Je.from("event_comments").delete().eq("id",S);if(U)throw U;h(J=>J.filter(K=>K.id!==S)),l(J=>({...J,comments:Math.max(0,J.comments-1)})),ot({title:"Succs",description:"Commentaire supprim"})}catch(U){console.error("Delete error:",U),ot({title:"Erreur",description:"Impossible de supprimer le commentaire.",variant:"destructive"})}finally{b(U=>({...U,action:null})),C(null)}}};return s.jsxs("div",{className:"flex items-center justify-around",children:[s.jsx("div",{className:"text-center",children:s.jsxs(Ue,{variant:"ghost",className:"flex items-center space-x-2 text-muted-foreground cursor-default hover:bg-transparent",children:[s.jsx(Xm,{className:"w-5 h-5"}),s.jsx("span",{children:o.views})]})}),s.jsx("div",{className:"text-center",children:s.jsxs(Ue,{variant:"ghost",onClick:B,disabled:N.like,className:`flex items-center space-x-2 transition-colors ${c.liked?"text-red-500 hover:text-red-600":"text-muted-foreground hover:text-primary"}`,children:[N.like?s.jsx(Jt,{className:"w-5 h-5 animate-spin"}):s.jsx(Oj,{className:`w-5 h-5 ${c.liked?"fill-current":""}`}),s.jsx("span",{children:o.likes})]})}),s.jsxs(To,{children:[s.jsx(i3,{asChild:!0,children:s.jsx("div",{className:"text-center",children:s.jsxs(Ue,{variant:"ghost",className:"flex items-center space-x-2 text-muted-foreground hover:text-primary",children:[s.jsx(d4,{className:"w-5 h-5"}),s.jsx("span",{children:o.comments})]})})}),s.jsxs(xo,{className:"sm:max-w-lg",children:[s.jsxs(ko,{children:[s.jsxs(Po,{children:["Commentaires ",f.length>0&&`(${f.length})`]}),s.jsx(dl,{className:"hidden",children:"Espace de discussion"})]}),s.jsx(R4,{className:"h-[300px] pr-4 mt-2",children:f.length>0?s.jsx("div",{className:"space-y-4",children:f.map(U=>{var J,K,G,re,ae,X;return s.jsx("div",{className:"p-3 rounded-lg bg-muted/50 group relative",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 text-primary flex items-center justify-center font-bold text-xs shrink-0",children:((K=(J=U.user)==null?void 0:J.full_name)==null?void 0:K.charAt(0))||((re=(G=U.user)==null?void 0:G.username)==null?void 0:re.charAt(0))||"U"}),s.jsxs("div",{className:"flex-grow min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("p",{className:"text-sm font-semibold truncate",children:((ae=U.user)==null?void 0:ae.full_name)||((X=U.user)==null?void 0:X.username)||"Anonyme"}),O&&s.jsx(Ue,{size:"icon",variant:"ghost",className:"h-6 w-6 text-muted-foreground hover:text-red-600 hover:bg-red-50 opacity-0 group-hover:opacity-100 transition-opacity absolute top-2 right-2",onClick:()=>C(U.id),disabled:N.action===U.id,children:N.action===U.id?s.jsx(Jt,{className:"w-3 h-3 animate-spin"}):s.jsx(Yo,{className:"w-3 h-3"})})]}),s.jsx("p",{className:"text-sm text-foreground mt-1 break-words pr-6",children:U.comment_text})]})]})},U.id)})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground",children:[s.jsx(d4,{className:"w-12 h-12 mb-2 opacity-20"}),s.jsx("p",{children:"Aucun commentaire pour le moment."}),s.jsx("p",{className:"text-sm opacity-70",children:"Soyez le premier  donner votre avis !"})]})}),s.jsx(Jc,{className:"mt-4",children:s.jsxs("form",{onSubmit:L,className:"w-full flex items-center space-x-2",children:[s.jsx(ec,{value:g,onChange:U=>p(U.target.value),placeholder:"Ajouter un commentaire...",className:"flex-grow min-h-[40px] max-h-[100px]",rows:1}),s.jsx(Ue,{type:"submit",disabled:N.comment,className:"shrink-0",children:N.comment?s.jsx(Jt,{className:"w-4 h-4 animate-spin"}):"Envoyer"})]})})]})]}),s.jsx(hl,{open:!!S,onOpenChange:()=>C(null),children:s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:"tes-vous sr de vouloir supprimer ce commentaire ?"}),s.jsx(el,{children:"Cette action est irrversible."})]}),s.jsxs(ml,{children:[s.jsx(gl,{children:"Annuler"}),s.jsx(pl,{onClick:H,className:"bg-red-600 hover:bg-red-700 text-white",children:"Supprimer"})]})]})}),s.jsx("div",{className:"text-center",children:s.jsxs(Ue,{variant:"ghost",onClick:r,className:"flex items-center space-x-2 text-muted-foreground hover:text-primary",children:[s.jsx(b1,{className:"w-5 h-5"}),s.jsx("span",{children:o.shares})]})})]})},T9e=({winners:e})=>{var a,i,o,l,c,u,f,h,g,p,N,b;if(!e||e.length===0)return null;const t=e.find(S=>S.rank===1),r=e.find(S=>S.rank===2),n=e.find(S=>S.rank===3);return s.jsxs("div",{className:"flex justify-center items-end gap-2 sm:gap-4 my-8 min-h-[250px]",children:[r&&s.jsxs(Zt.div,{initial:{height:0,opacity:0},animate:{height:"140px",opacity:1},transition:{delay:.5,duration:.5},className:"flex flex-col items-center w-24 sm:w-32",children:[s.jsxs("div",{className:"mb-2 text-center",children:[(a=r.profiles)!=null&&a.avatar_url?s.jsx("img",{src:r.profiles.avatar_url,alt:"",className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full border-4 border-gray-300 object-cover"}):s.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-gray-300 flex items-center justify-center font-bold text-gray-700 text-xl",children:(o=(i=r.profiles)==null?void 0:i.full_name)==null?void 0:o.charAt(0)}),s.jsx("p",{className:"text-xs sm:text-sm text-white font-bold mt-1 truncate max-w-[100px]",children:(l=r.profiles)==null?void 0:l.full_name}),s.jsxs("div",{className:"text-[10px] text-gray-300",children:["Ticket #",r.ticket_number]})]}),s.jsx("div",{className:"w-full h-full bg-gradient-to-t from-gray-700 to-gray-500 rounded-t-lg flex flex-col items-center justify-end p-2 border-t-4 border-gray-300 shadow-[0_0_15px_rgba(192,192,192,0.3)]",children:s.jsx("span",{className:"text-3xl font-bold text-gray-200",children:"2"})})]}),t&&s.jsxs(Zt.div,{initial:{height:0,opacity:0},animate:{height:"180px",opacity:1},transition:{delay:.2,duration:.6},className:"flex flex-col items-center w-28 sm:w-40 z-10",children:[s.jsxs("div",{className:"mb-2 text-center relative",children:[s.jsx(y1,{className:"w-8 h-8 text-yellow-400 absolute -top-8 left-1/2 -translate-x-1/2 animate-bounce"}),(c=t.profiles)!=null&&c.avatar_url?s.jsx("img",{src:t.profiles.avatar_url,alt:"",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-4 border-yellow-400 object-cover shadow-lg"}):s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-yellow-400 flex items-center justify-center font-bold text-yellow-900 text-2xl shadow-lg",children:(f=(u=t.profiles)==null?void 0:u.full_name)==null?void 0:f.charAt(0)}),s.jsx("p",{className:"text-sm sm:text-base text-yellow-300 font-bold mt-1 truncate max-w-[120px]",children:(h=t.profiles)==null?void 0:h.full_name}),s.jsxs("div",{className:"text-xs text-yellow-200",children:["Ticket #",t.ticket_number]})]}),s.jsx("div",{className:"w-full h-full bg-gradient-to-t from-yellow-700 to-yellow-500 rounded-t-lg flex flex-col items-center justify-end p-2 border-t-4 border-yellow-300 shadow-[0_0_25px_rgba(234,179,8,0.5)]",children:s.jsx("span",{className:"text-5xl font-bold text-yellow-100",children:"1"})})]}),n&&s.jsxs(Zt.div,{initial:{height:0,opacity:0},animate:{height:"110px",opacity:1},transition:{delay:.8,duration:.5},className:"flex flex-col items-center w-24 sm:w-32",children:[s.jsxs("div",{className:"mb-2 text-center",children:[(g=n.profiles)!=null&&g.avatar_url?s.jsx("img",{src:n.profiles.avatar_url,alt:"",className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full border-4 border-amber-600 object-cover"}):s.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-amber-600 flex items-center justify-center font-bold text-amber-100 text-xl",children:(N=(p=n.profiles)==null?void 0:p.full_name)==null?void 0:N.charAt(0)}),s.jsx("p",{className:"text-xs sm:text-sm text-white font-bold mt-1 truncate max-w-[100px]",children:(b=n.profiles)==null?void 0:b.full_name}),s.jsxs("div",{className:"text-[10px] text-amber-300",children:["Ticket #",n.ticket_number]})]}),s.jsx("div",{className:"w-full h-full bg-gradient-to-t from-amber-800 to-amber-600 rounded-t-lg flex flex-col items-center justify-end p-2 border-t-4 border-amber-500 shadow-[0_0_15px_rgba(217,119,6,0.3)]",children:s.jsx("span",{className:"text-3xl font-bold text-amber-200",children:"3"})})]})]})},k9e=({raffleId:e,onClose:t})=>{const{user:r}=bn(),[n,a]=A.useState([]),[i,o]=A.useState(!1),[l,c]=A.useState(["Initialisation du tirage..."]),[u,f]=A.useState([]),[h,g]=A.useState(!1);A.useEffect(()=>{if(i)return;const N=setInterval(()=>{const b=Array.from({length:5},()=>Math.floor(Math.random()*1e4).toString().padStart(4,"0"));a(b)},80);return()=>clearInterval(N)},[i]),A.useEffect(()=>{if(i)return;const N=[" Mlange des tickets..."," Vrification des participations..."," Calcul des probabilits..."," Le moment de vrit approche..."," Slection des gagnants..."];let b=0;const S=setInterval(()=>{b<N.length&&(c(C=>[...C.slice(-2),N[b]]),b++)},1500);return()=>clearInterval(S)},[i]);const p=A.useCallback(async()=>{g(!0);try{const{data:N,error:b}=await Je.from("raffle_tickets").select(`
                rank,
                ticket_number,
                user_id,
                profiles:user_id (
                    id,
                    full_name,
                    username,
                    avatar_url
                )
            `).eq("raffle_event_id",e).not("rank","is",null).order("rank",{ascending:!0});if(b)throw b;const S=new Map;N==null||N.forEach(j=>{const T=j.user_id,O=S.get(T);(!O||j.rank<O.rank)&&S.set(T,j)});const C=Array.from(S.values()).sort((j,T)=>j.rank-T.rank).map((j,T)=>({...j,rank:T+1}));f(C),o(!0)}catch(N){console.error("Error fetching rankings",N)}finally{g(!1)}},[e]);return A.useEffect(()=>{(async()=>{const{data:S}=await Je.from("raffle_events").select("status").eq("id",e).single();(S==null?void 0:S.status)==="completed"&&p()})();const b=Je.channel(`draw-listener-${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"raffle_events",filter:`id=eq.${e}`},S=>{S.new.status==="completed"&&setTimeout(p,2e3)}).subscribe();return()=>{Je.removeChannel(b)}},[e,p]),s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-md p-4 overflow-y-auto",children:s.jsxs(Zt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-4xl relative",children:[s.jsx(Ue,{onClick:t,variant:"ghost",className:"absolute -top-12 right-0 text-white hover:bg-white/20",children:s.jsx(kl,{className:"w-6 h-6"})}),s.jsxs(qt,{className:"border-4 border-yellow-500 bg-gradient-to-br from-indigo-900 to-black text-white shadow-2xl overflow-hidden min-h-[500px]",children:[s.jsxs("div",{className:"text-center py-6 border-b border-white/10 relative",children:[s.jsx(wd,{className:"absolute top-4 left-4 text-yellow-400 w-6 h-6 animate-spin-slow"}),s.jsx(wd,{className:"absolute top-4 right-4 text-yellow-400 w-6 h-6 animate-spin-slow"}),s.jsx("h2",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-yellow-600 uppercase tracking-widest",children:i?"RSULTATS OFFICIELS":"TIRAGE EN COURS"})]}),s.jsx(Xt,{className:"p-6",children:i?s.jsx("div",{className:"space-y-8",children:h?s.jsx(Jt,{className:"w-10 h-10 mx-auto animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h3",{className:"text-2xl font-bold text-yellow-400",children:"Flicitations aux gagnants !"}),s.jsx("p",{className:"text-gray-300",children:"Voici le classement officiel certifi."}),s.jsxs("p",{className:"text-sm text-gray-400",children:[s.jsx(Ku,{className:"w-4 h-4 inline mr-1"}),"Chaque participant n'apparat qu'une seule fois avec son meilleur ticket gagnant."]})]}),s.jsx(T9e,{winners:u}),s.jsxs("div",{className:"bg-white/5 rounded-xl border border-white/10 overflow-hidden mt-6",children:[s.jsxs("div",{className:"p-3 bg-black/20 font-bold text-gray-400 text-sm uppercase flex justify-between px-6",children:[s.jsx("span",{children:"Position"}),s.jsx("span",{children:"Participant"}),s.jsx("span",{children:"Ticket"})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:u.map(N=>{var b,S,C,j,T,O;return s.jsxs("div",{className:`flex items-center justify-between p-3 px-6 border-b border-white/5 transition-colors ${r&&((b=N.profiles)==null?void 0:b.id)===r.id?"bg-yellow-500/20 border-yellow-500/50":"hover:bg-white/5"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Vr,{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm ${N.rank<=3?"bg-yellow-500 text-black":"bg-gray-700"}`,children:N.rank}),s.jsxs("div",{className:"flex items-center gap-3",children:[(S=N.profiles)!=null&&S.avatar_url?s.jsx("img",{src:N.profiles.avatar_url,className:"w-8 h-8 rounded-full object-cover",alt:""}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center text-xs",children:(j=(C=N.profiles)==null?void 0:C.full_name)==null?void 0:j.charAt(0)}),s.jsxs("span",{className:N.rank<=3?"text-yellow-200 font-bold":"text-gray-300",children:[((T=N.profiles)==null?void 0:T.full_name)||"Anonyme",r&&((O=N.profiles)==null?void 0:O.id)===r.id&&s.jsx("span",{className:"ml-2 text-xs text-yellow-500",children:"(Moi)"})]})]})]}),s.jsxs("span",{className:"font-mono text-blue-300",children:["#",N.ticket_number]})]},`${N.user_id}-${N.rank}`)})})]})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-8 py-10",children:[s.jsx("div",{className:"flex flex-wrap gap-4 justify-center items-center",children:n.map((N,b)=>s.jsx(Zt.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:b*.1},className:"w-20 h-24 bg-black/50 rounded-xl border-2 border-yellow-500/50 flex items-center justify-center shadow-[0_0_15px_rgba(234,179,8,0.3)]",children:s.jsx("span",{className:"text-4xl font-mono font-bold text-yellow-400 tabular-nums",children:N})},b))}),s.jsx("div",{className:"h-16 flex items-center justify-center",children:s.jsx(Su,{mode:"wait",children:s.jsx(Zt.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-xl text-blue-200 text-center",children:l[l.length-1]},l[l.length-1])})}),s.jsx(Jt,{className:"w-12 h-12 text-yellow-500 animate-spin"}),s.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"Les numros dfilent alatoirement pendant que le systme slectionne les gagnants..."})]})})]})]})})},P9e=({raffleData:e,eventId:t,isOrganizer:r,onDrawComplete:n})=>{bn();const{toast:a}=qs(),[i,o]=A.useState(!1);A.useEffect(()=>{e==null||e.status},[e]);const l=async()=>{if(r)try{const{data:c,error:u}=await Je.rpc("conduct_raffle_draw",{p_raffle_event_id:e.id});if(u)throw u;c.success?(a({title:"Tirage lanc !",description:"Les rsultats sont en cours de gnration. Les participants verront le dfilement des numros.",duration:5e3}),o(!0),n&&n()):a({title:"Attention",description:c.message,variant:"warning"})}catch(c){console.error("Draw error:",c),a({title:"Erreur",description:"Impossible de lancer le tirage.",variant:"destructive"})}};return s.jsxs(s.Fragment,{children:[i&&s.jsx(k9e,{raffleId:e.id,onClose:()=>o(!1)}),r?s.jsxs(qt,{className:"border-2 border-yellow-500 bg-gradient-to-r from-orange-50 to-yellow-50",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"flex items-center gap-2",children:[s.jsx(y1,{className:"w-5 h-5 text-orange-600"}),"Zone Organisateur"]}),s.jsx(Ya,{children:"Contrle du tirage au sort"})]}),s.jsxs(Xt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white p-3 rounded border text-center",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Tickets Vendus"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.tickets_sold||0})]}),s.jsxs("div",{className:"bg-white p-3 rounded border text-center",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Revenu Est."}),s.jsxs("div",{className:"text-xl font-bold text-green-600",children:[e.tickets_sold*(e.calculated_price_pi||0)," "]}),s.jsxs("div",{className:"text-[10px] text-gray-400",children:["~",(e.tickets_sold*(e.calculated_price_pi||0)*10).toLocaleString()," CFA"]})]})]}),e.status!=="completed"?s.jsxs(Ue,{onClick:l,className:"w-full h-12 text-lg font-bold bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white shadow-lg",disabled:e.tickets_sold===0,children:[s.jsx(p_e,{className:"w-5 h-5 mr-2"}),"LANCER LE TIRAGE"]}):s.jsxs(Ue,{onClick:()=>o(!0),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white shadow-lg",children:[s.jsx(Mh,{className:"w-5 h-5 mr-2"}),"VOIR LES RSULTATS"]}),e.tickets_sold===0&&s.jsx("p",{className:"text-center text-xs text-red-500",children:"Au moins 1 ticket vendu est requis pour lancer le tirage."})]})]}):s.jsx(s.Fragment,{children:e.status==="completed"&&s.jsx(qt,{className:"border-green-200 bg-green-50 animate-pulse-slow",children:s.jsxs(Xt,{className:"p-4 text-center",children:[s.jsx("h3",{className:"font-bold text-green-800 mb-2",children:" Le tirage est termin !"}),s.jsxs(Ue,{onClick:()=>o(!0),className:"bg-green-600 hover:bg-green-700 text-white w-full",children:[s.jsx(Mh,{className:"w-4 h-4 mr-2"}),"Voir le classement complet"]})]})})})]})},cf=A.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:kr("w-full caption-bottom text-sm",e),...t})}));cf.displayName="Table";const uf=A.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:kr("[&_tr]:border-b",e),...t}));uf.displayName="TableHeader";const df=A.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:kr("[&_tr:last-child]:border-0",e),...t}));df.displayName="TableBody";const O9e=A.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:kr("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));O9e.displayName="TableFooter";const pi=A.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:kr("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));pi.displayName="TableRow";const Sn=A.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:kr("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Sn.displayName="TableHead";const rn=A.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:kr("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));rn.displayName="TableCell";const I9e=A.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:kr("mt-4 text-sm text-muted-foreground",e),...t}));I9e.displayName="TableCaption";function F9e(e,t=[]){let r=[];function n(i,o){const l=A.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=h=>{var C;const{scope:g,children:p,...N}=h,b=((C=g==null?void 0:g[e])==null?void 0:C[c])||l,S=A.useMemo(()=>N,Object.values(N));return s.jsx(b.Provider,{value:S,children:p})};u.displayName=i+"Provider";function f(h,g){var b;const p=((b=g==null?void 0:g[e])==null?void 0:b[c])||l,N=A.useContext(p);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,f]}const a=()=>{const i=r.map(o=>A.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return A.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,D9e(a,...t)]}function D9e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var R9e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bue=R9e.reduce((e,t)=>{const r=$j(`Primitive.${t}`),n=A.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ML="Progress",LL=100,[M9e,w5t]=F9e(ML),[L9e,B9e]=M9e(ML),wue=A.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=$9e,...o}=e;(a||a===0)&&!Uq(a)&&console.error(z9e(`${a}`,"Progress"));const l=Uq(a)?a:LL;n!==null&&!$q(n,l)&&console.error(V9e(`${n}`,"Progress"));const c=$q(n,l)?n:null,u=DA(c)?i(c,l):void 0;return s.jsx(L9e,{scope:r,value:c,max:l,children:s.jsx(bue.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":DA(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Nue(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});wue.displayName=ML;var _ue="ProgressIndicator",U9e=A.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=B9e(_ue,r);return s.jsx(bue.div,{"data-state":Nue(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});U9e.displayName=_ue;function $9e(e,t){return`${Math.round(e/t*100)}%`}function Nue(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function DA(e){return typeof e=="number"}function Uq(e){return DA(e)&&!isNaN(e)&&e>0}function $q(e,t){return DA(e)&&!isNaN(e)&&e<=t&&e>=0}function z9e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${LL}\`.`}function V9e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${LL} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Sue=wue;const M4=A.forwardRef(({className:e,value:t,...r},n)=>s.jsx(Sue,{ref:n,className:kr("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(Zt.div,{className:"h-full w-full flex-1 bg-gradient-to-r from-green-400 via-blue-500 to-purple-600",style:{scaleX:(t||0)/100,originX:0},initial:{scaleX:0},animate:{scaleX:(t||0)/100},transition:{duration:.8,ease:"easeInOut"}})}));M4.displayName=Sue.displayName;const W9e=({raffleData:e,eventId:t,onPurchaseSuccess:r,isUnlocked:n,isOwner:a})=>{const{user:i}=bn(),{forceRefreshUserProfile:o,userProfile:l}=ai(),[c,u]=A.useState(1),[f,h]=A.useState(!1),[g,p]=A.useState([]),[N,b]=A.useState(!1),[S,C]=A.useState([]),[j,T]=A.useState(!1),[O,M]=A.useState({totalTickets:0,myTicketsCount:0,participantsCount:0}),B=Ia(),L=a||i&&e&&i.id===e.organizer_id,H=(e==null?void 0:e.calculated_price_pi)||1,U=A.useMemo(()=>H*c,[H,c]),J=(e==null?void 0:e.max_tickets_per_user)||10,K=O.myTicketsCount>0?Math.min(100,O.myTicketsCount/J*100):0;A.useEffect(()=>{(async()=>{if(!(!i||!e))try{const{data:X,error:ne}=await Je.from("raffle_tickets").select("ticket_number, purchased_at, purchase_price_pi").eq("raffle_event_id",e.id).eq("user_id",i.id).order("ticket_number",{ascending:!0});if(ne)throw ne;if(C(X||[]),L){const{data:de,error:le}=await Je.from("raffle_tickets").select("*, profiles:user_id(full_name, email, avatar_url)").eq("raffle_event_id",e.id).order("purchased_at",{ascending:!1});if(le)throw le;p(de||[]);const xe=new Set((de==null?void 0:de.map(Se=>Se.user_id))||[]);M(Se=>({...Se,totalTickets:(de==null?void 0:de.length)||0,participantsCount:xe.size}))}else{const{count:de,error:le}=await Je.from("raffle_tickets").select("user_id",{count:"exact",distinct:!0}).eq("raffle_event_id",e.id);le||M(xe=>({...xe,totalTickets:e.tickets_sold||0,myTicketsCount:(X==null?void 0:X.length)||0,participantsCount:de||0}))}}catch(X){console.error("Error fetching tickets:",X),ot({title:"Erreur de chargement",description:"Impossible de charger les tickets",variant:"destructive"})}})();const ae=Je.channel(`raffle_tickets_${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"raffle_tickets",filter:`raffle_event_id=eq.${e.id}`},X=>{X.new.user_id===(i==null?void 0:i.id)&&(C(ne=>[...ne,{ticket_number:X.new.ticket_number,purchased_at:X.new.purchased_at,purchase_price_pi:X.new.purchase_price_pi}]),M(ne=>({...ne,myTicketsCount:ne.myTicketsCount+1,totalTickets:ne.totalTickets+1})))}).subscribe();return()=>{Je.removeChannel(ae)}},[i,t,e,L]);const G=async()=>{if(!i){B("/auth");return}if(c<1)return;if(O.myTicketsCount+c>J){ot({title:"Limite de tickets atteinte",description:`Vous ne pouvez pas acheter plus de ${J} tickets.`,variant:"destructive"});return}if(((l==null?void 0:l.coin_balance)||0)<U){T(!0);return}h(!0);try{const{data:ae,error:X}=await Je.rpc("purchase_raffle_tickets",{p_raffle_id:e.id,p_user_id:i.id,p_quantity:c});if(X)throw X;if(!ae.success)throw new Error(ae.message);ot({title:" Tickets achets !",description:`Vous avez obtenu ${c} ticket(s). Bonne chance !`,className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white border-0"}),await o(),r&&r();const{data:ne}=await Je.from("raffle_tickets").select("ticket_number, purchased_at, purchase_price_pi").eq("raffle_event_id",e.id).eq("user_id",i.id);C(ne||[]),u(1)}catch(ae){ae.message&&ae.message.includes("Solde insuffisant")?T(!0):ot({title:"Erreur d'achat",description:ae.message,variant:"destructive"})}finally{h(!1)}};return e?s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(qt,{className:"bg-gradient-to-r from-blue-900/20 to-blue-900/5 border-blue-800/30",children:s.jsx(Xt,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Tickets vendus"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:O.totalTickets})]}),s.jsx(ul,{className:"w-8 h-8 text-blue-400"})]})})}),s.jsx(qt,{className:"bg-gradient-to-r from-purple-900/20 to-purple-900/5 border-purple-800/30",children:s.jsx(Xt,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Participants"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:O.participantsCount})]}),s.jsx(ao,{className:"w-8 h-8 text-purple-400"})]})})}),s.jsx(qt,{className:"bg-gradient-to-r from-green-900/20 to-green-900/5 border-green-800/30",children:s.jsxs(Xt,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Mes tickets"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:O.myTicketsCount})]}),s.jsx(jj,{className:"w-8 h-8 text-green-400"})]}),J>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx(M4,{value:K,className:"h-2"}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[O.myTicketsCount," / ",J," tickets max"]})]})]})})]}),s.jsx(P9e,{raffleData:e,eventId:t,isOrganizer:L,onDrawComplete:r}),L&&s.jsxs(qt,{className:"border-2 border-yellow-500/20 bg-gradient-to-b from-gray-900/50 to-black/50",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(LN,{className:"w-5 h-5 text-yellow-500"}),s.jsx("span",{children:"Liste des Participants"})]}),s.jsxs(Ue,{variant:"outline",onClick:()=>b(!0),className:"bg-gradient-to-r from-gray-800 to-black border-yellow-500/30 hover:bg-yellow-500/10",children:[s.jsx(LN,{className:"w-4 h-4 mr-2"}),"Voir tout (",g.length,")"]})]}),s.jsxs(Ya,{className:"text-gray-400",children:[O.participantsCount," participants uniques  ",O.totalTickets," tickets vendus"]})]}),s.jsx(Xt,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:g.slice(0,8).map(re=>{var ae,X,ne,de;return s.jsx("div",{className:"bg-gray-800/30 rounded-lg p-3 border border-white/10",children:s.jsxs("div",{className:"flex items-center gap-3",children:[(ae=re.profiles)!=null&&ae.avatar_url?s.jsx("img",{src:re.profiles.avatar_url,className:"w-8 h-8 rounded-full",alt:re.profiles.full_name}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-white text-xs",children:((ne=(X=re.profiles)==null?void 0:X.full_name)==null?void 0:ne.charAt(0))||"?"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-white truncate max-w-[100px]",children:((de=re.profiles)==null?void 0:de.full_name)||"Inconnu"}),s.jsxs("p",{className:"text-xs text-gray-400",children:["#",re.ticket_number]})]})]})},re.id)})})})]}),(!L||e.status==="active")&&e.status!=="completed"&&s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.status==="active"&&s.jsxs(qt,{className:"border-2 border-primary/30 bg-gradient-to-br from-primary/5 via-transparent to-primary/5 shadow-xl",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"flex items-center gap-3",children:[s.jsx(ul,{className:"w-6 h-6 text-primary"}),"Acheter des Tickets"]}),s.jsx(Ya,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Prix unitaire: ",H," "]}),s.jsxs(Vr,{variant:"outline",className:"text-xs",children:["Max: ",J," tickets"]})]})})]}),s.jsxs(Xt,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-800/50 to-black/50 rounded-xl border border-white/10",children:[s.jsx("span",{className:"font-medium text-white",children:"Quantit"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ue,{variant:"outline",size:"icon",onClick:()=>u(Math.max(1,c-1)),className:"rounded-full w-10 h-10",disabled:c<=1,children:"-"}),s.jsx("span",{className:"w-12 text-center font-bold text-2xl text-white",children:c}),s.jsx(Ue,{variant:"outline",size:"icon",onClick:()=>{O.myTicketsCount+c+1<=J?u(c+1):ot({title:"Limite atteinte",description:`Vous ne pouvez pas dpasser ${J} tickets.`,variant:"destructive"})},className:"rounded-full w-10 h-10",disabled:O.myTicketsCount+c>=J,children:"+"})]})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-900/50 to-black/50 rounded-xl border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-white",children:[U," "]})]}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Solde disponible: ",(l==null?void 0:l.coin_balance)||0," "]})]})]}),s.jsxs(Ue,{className:"w-full h-14 text-lg font-bold bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 shadow-xl",onClick:G,disabled:f||O.myTicketsCount>=J,children:[f?s.jsx(Jt,{className:"w-5 h-5 animate-spin mr-2"}):null,f?"Achat en cours...":`Payer ${U} `]}),O.myTicketsCount>=J&&s.jsx("div",{className:"p-3 bg-gradient-to-r from-amber-900/20 to-transparent rounded-lg border border-amber-700/30",children:s.jsxs("p",{className:"text-center text-amber-300 text-sm",children:[" Vous avez atteint la limite de ",J," tickets"]})})]})]}),s.jsxs(qt,{className:"border-2 border-blue-500/20 bg-gradient-to-br from-blue-900/10 via-transparent to-blue-900/10",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"text-white flex items-center gap-3",children:[s.jsx(LN,{className:"w-5 h-5 text-blue-400"}),"Mes Tickets (",O.myTicketsCount,")"]}),s.jsx(Ya,{className:"text-blue-300",children:"Chaque ticket a une chance gale de gagner"})]}),s.jsxs(Xt,{children:[S.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 max-h-64 overflow-y-auto pr-2",children:S.map(re=>s.jsxs("div",{className:"bg-gradient-to-br from-blue-900/30 to-blue-800/20 border border-blue-700/30 rounded-xl p-4 text-center hover:scale-[1.02] transition-transform duration-300",children:[s.jsx("div",{className:"text-xs text-blue-300 mb-2",children:"Ticket n"}),s.jsxs("div",{className:"font-mono font-bold text-3xl text-white mb-2",children:["#",re.ticket_number]}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Achet le ",new Date(re.purchased_at).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})]})]},re.ticket_number))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ul,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"Vous n'avez pas encore de tickets."}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Achetez vos premiers tickets pour participer au tirage !"})]}),S.length>0&&s.jsxs("div",{className:"mt-6 pt-4 border-t border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Vos chances de gagner"}),s.jsx("span",{className:"text-sm font-medium text-white",children:O.totalTickets>0?`${(O.myTicketsCount/O.totalTickets*100).toFixed(1)}%`:"0%"})]}),s.jsx(M4,{value:O.totalTickets>0?O.myTicketsCount/O.totalTickets*100:0,className:"h-2 mt-2"})]})]})]})]}),s.jsx(To,{open:N,onOpenChange:b,children:s.jsxs(xo,{className:"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col bg-gradient-to-b from-gray-900 to-black border-2 border-yellow-500/20",children:[s.jsxs(ko,{children:[s.jsxs(Po,{className:"flex items-center gap-3",children:[s.jsx(LN,{className:"w-5 h-5 text-yellow-500"}),"Liste complte des tickets vendus"]}),s.jsxs(dl,{className:"text-gray-400",children:["Total: ",g.length," tickets  ",O.participantsCount," participants  Revenu: ",g.length*H," "]})]}),s.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar",children:s.jsxs(cf,{children:[s.jsx(uf,{className:"sticky top-0 bg-gray-900",children:s.jsxs(pi,{children:[s.jsx(Sn,{className:"text-yellow-400",children:"Ticket #"}),s.jsx(Sn,{className:"text-yellow-400",children:"Participant"}),s.jsx(Sn,{className:"text-yellow-400",children:"Date d'achat"}),s.jsx(Sn,{className:"text-yellow-400",children:"Montant"})]})}),s.jsx(df,{children:g.map(re=>{var ae,X,ne,de,le;return s.jsxs(pi,{className:"hover:bg-white/5 border-b border-white/10",children:[s.jsxs(rn,{className:"font-mono font-bold text-white",children:["#",re.ticket_number]}),s.jsx(rn,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[(ae=re.profiles)!=null&&ae.avatar_url?s.jsx("img",{src:re.profiles.avatar_url,className:"w-8 h-8 rounded-full",alt:re.profiles.full_name}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-white text-sm",children:((ne=(X=re.profiles)==null?void 0:X.full_name)==null?void 0:ne.charAt(0))||"?"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-white",children:((de=re.profiles)==null?void 0:de.full_name)||"Inconnu"}),s.jsx("div",{className:"text-xs text-gray-400",children:(le=re.profiles)==null?void 0:le.email})]})]})}),s.jsx(rn,{className:"text-gray-300",children:new Date(re.purchased_at).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsxs(rn,{className:"font-bold text-yellow-400",children:[re.purchase_price_pi," "]})]},re.id)})})]})})]})}),s.jsx(W0,{isOpen:j,onClose:()=>T(!1),requiredAmount:U,currentBalance:(l==null?void 0:l.coin_balance)||0})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})})},H9e=({event:e,isUnlocked:t,onRefresh:r})=>{var j,T;const{user:n}=bn(),[a,i]=A.useState([]),[o,l]=A.useState(null),[c,u]=A.useState(!0),[f,h]=A.useState(null),[g,p]=A.useState(!1),[N,b]=A.useState({companyName:"",contactPerson:"",email:(n==null?void 0:n.email)||"",phone:"",description:""});A.useEffect(()=>{e!=null&&e.id&&S()},[e==null?void 0:e.id,n==null?void 0:n.id]);const S=async()=>{u(!0);try{const{data:O,error:M}=await Je.from("stand_types").select("*").eq("event_id",e.id).eq("is_active",!0).order("calculated_price_pi",{ascending:!0});if(M)throw M;if(i(O||[]),n){const{data:B,error:L}=await Je.from("stand_rentals").select("*, stand_types(name, size, amenities)").eq("user_id",n.id).in("stand_event_id",(await Je.from("stand_events").select("id").eq("event_id",e.id)).data.map(H=>H.id)).maybeSingle();L||l(B)}}catch(O){console.error("Error fetching stand data:",O)}finally{u(!1)}},C=async()=>{if(!n){ot({title:"Connexion requise",description:"Veuillez vous connecter pour louer un stand.",variant:"destructive"});return}if(f){p(!0);try{const{data:O}=await Je.from("profiles").select("coin_balance").eq("id",n.id).single();if(O.coin_balance<f.calculated_price_pi)throw new Error(`Solde insuffisant. Il vous faut ${f.calculated_price_pi} .`);const{data:M,error:B}=await Je.rpc("rent_stand",{p_event_id:e.id,p_user_id:n.id,p_stand_type_id:f.id,company_name:N.companyName,contact_person:N.contactPerson,contact_email:N.email,contact_phone:N.phone,business_description:N.description});if(B)throw B;if(!M.success)throw new Error(M.message);ot({title:"Rservation russie !",description:`Votre stand ${M.stand_number} a t rserv.`,className:"bg-green-600 text-white"}),h(null),S(),r&&r()}catch(O){console.error("Rental error:",O),ot({title:"Erreur",description:O.message,variant:"destructive"})}finally{p(!1)}}};return c?s.jsx("div",{className:"p-8 flex justify-center",children:s.jsx(Jt,{className:"animate-spin"})}):o?s.jsxs(qt,{className:"border-green-500/50 bg-green-50/10",children:[s.jsxs(zr,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-600 mb-2",children:[s.jsx(jl,{className:"w-6 h-6"}),s.jsx("span",{className:"font-bold uppercase tracking-wider",children:"Rservation Confirme"})]}),s.jsxs(Wr,{className:"text-2xl",children:["Votre Stand: ",o.stand_number]}),s.jsx(Ya,{children:"Dtails de votre location pour cet vnement."})]}),s.jsxs(Xt,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(jt,{className:"text-muted-foreground",children:"Type de Stand"}),s.jsxs("div",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(M0,{className:"w-4 h-4"})," ",(j=o.stand_types)==null?void 0:j.name]})]}),s.jsxs("div",{children:[s.jsx(jt,{className:"text-muted-foreground",children:"Dimensions"}),s.jsxs("div",{className:"font-medium flex items-center gap-2",children:[s.jsx(zz,{className:"w-4 h-4"})," ",(T=o.stand_types)==null?void 0:T.size]})]}),s.jsxs("div",{children:[s.jsx(jt,{className:"text-muted-foreground",children:"Cot total pay"}),s.jsxs("div",{className:"font-bold text-primary text-xl",children:[o.rental_amount_pi," "]})]})]}),s.jsxs("div",{className:"space-y-4 border-l pl-0 md:pl-6 border-border",children:[s.jsxs("div",{children:[s.jsx(jt,{className:"text-muted-foreground",children:"Entreprise enregistre"}),s.jsx("div",{className:"font-medium",children:o.company_name})]}),s.jsxs("div",{children:[s.jsx(jt,{className:"text-muted-foreground",children:"Contact"}),s.jsx("div",{className:"font-medium",children:o.contact_person}),s.jsx("div",{className:"text-sm text-muted-foreground",children:o.contact_email}),s.jsx("div",{className:"text-sm text-muted-foreground",children:o.contact_phone})]})]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(of,{className:"w-4 h-4"})," Instructions"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Veuillez prsenter ce rcapitulatif  l'organisateur lors de votre arrive pour prendre possession de votre stand. Un email de confirmation a t envoy  ",o.contact_email,"."]})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(M0,{className:"w-6 h-6 text-primary"}),"Louer un Stand"]}),s.jsx("p",{className:"text-muted-foreground",children:"Choisissez parmi les emplacements disponibles pour exposer lors de l'vnement."})]}),t?a.length===0?s.jsx(qt,{className:"bg-muted/30",children:s.jsx(Xt,{className:"p-8 text-center",children:s.jsx("p",{children:"Aucun stand n'est disponible  la location pour le moment."})})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(O=>{const M=O.quantity_available-(O.quantity_rented||0),B=M<=0;return s.jsxs(qt,{className:`flex flex-col ${B?"opacity-70 grayscale":"hover:border-primary/50 transition-colors"}`,children:[s.jsx(zr,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(Wr,{children:O.name}),s.jsxs(Ya,{className:"flex items-center gap-1 mt-1",children:[s.jsx(zz,{className:"w-3 h-3"})," ",O.size]})]}),s.jsx(Vr,{variant:B?"destructive":"secondary",children:B?"COMPLET":`${M} dispo.`})]})}),s.jsxs(Xt,{className:"flex-1 space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-3",children:O.description}),O.amenities&&Object.keys(O.amenities).length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(O.amenities).filter(([,L])=>L).map(([L])=>s.jsx(Vr,{variant:"outline",className:"text-xs bg-background",children:L.replace(/_/g," ")},L))})]}),s.jsxs(wx,{className:"border-t pt-4 bg-muted/10 flex justify-between items-center",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Prix de location"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:[O.calculated_price_pi," "]})]}),s.jsxs(To,{children:[s.jsx(i3,{asChild:!0,children:s.jsx(Ue,{disabled:B,onClick:()=>h(O),children:B?"Indisponible":"Rserver"})}),s.jsxs(xo,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(ko,{children:[s.jsxs(Po,{children:["Rserver le stand : ",O.name]}),s.jsxs(dl,{children:["Remplissez les informations de votre entreprise pour valider la location.",s.jsx("br",{}),s.jsxs("strong",{children:["Cot : ",O.calculated_price_pi," "]})]})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(jt,{htmlFor:"company",children:"Nom de l'entreprise / Marque *"}),s.jsx(er,{id:"company",value:N.companyName,onChange:L=>b({...N,companyName:L.target.value}),placeholder:"Ex: Ma Boutique Bio"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(jt,{htmlFor:"contact",children:"Personne  contacter *"}),s.jsx(er,{id:"contact",value:N.contactPerson,onChange:L=>b({...N,contactPerson:L.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(jt,{htmlFor:"phone",children:"Tlphone *"}),s.jsx(er,{id:"phone",value:N.phone,onChange:L=>b({...N,phone:L.target.value}),placeholder:"+225..."})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(jt,{htmlFor:"email",children:"Email *"}),s.jsx(er,{id:"email",type:"email",value:N.email,onChange:L=>b({...N,email:L.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(jt,{htmlFor:"desc",children:"Activit / Produits exposs"}),s.jsx(ec,{id:"desc",value:N.description,onChange:L=>b({...N,description:L.target.value}),placeholder:"Dcrivez brivement ce que vous allez vendre ou exposer..."})]})]}),s.jsx(Jc,{children:s.jsxs(Ue,{onClick:C,disabled:g||!N.companyName||!N.contactPerson||!N.phone,className:"w-full",children:[g?s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(jl,{className:"mr-2 h-4 w-4"}),"Confirmer la rservation (",O.calculated_price_pi," )"]})})]})]})]})]},O.id)})}):s.jsx(qt,{className:"border-dashed",children:s.jsxs(Xt,{className:"p-8 text-center text-muted-foreground",children:[s.jsx(of,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{children:"Veuillez dbloquer l'vnement pour voir les stands disponibles."})]})})]})},zq={blue:{bg:"bg-gradient-to-br from-blue-600 to-blue-700",border:"border-blue-700",hover:"hover:from-blue-700 hover:to-blue-800",text:"text-white",badge:"bg-blue-500 text-white"},bronze:{bg:"bg-gradient-to-br from-amber-700 to-amber-800",border:"border-amber-800",hover:"hover:from-amber-800 hover:to-amber-900",text:"text-white",badge:"bg-amber-600 text-white"},silver:{bg:"bg-gradient-to-br from-slate-500 to-slate-600",border:"border-slate-600",hover:"hover:from-slate-600 hover:to-slate-700",text:"text-white",badge:"bg-slate-400 text-slate-900"},gold:{bg:"bg-gradient-to-br from-yellow-600 to-yellow-700",border:"border-yellow-700",hover:"hover:from-yellow-700 hover:to-yellow-800",text:"text-white",badge:"bg-yellow-500 text-slate-900"},purple:{bg:"bg-gradient-to-br from-purple-600 to-purple-700",border:"border-purple-700",hover:"hover:from-purple-700 hover:to-purple-800",text:"text-white",badge:"bg-purple-500 text-white"},red:{bg:"bg-gradient-to-br from-red-600 to-red-700",border:"border-red-700",hover:"hover:from-red-700 hover:to-red-800",text:"text-white",badge:"bg-red-500 text-white"},green:{bg:"bg-gradient-to-br from-green-600 to-green-700",border:"border-green-700",hover:"hover:from-green-700 hover:to-green-800",text:"text-white",badge:"bg-green-500 text-white"},black:{bg:"bg-gradient-to-br from-slate-800 to-slate-900",border:"border-slate-900",hover:"hover:from-slate-900 hover:to-black",text:"text-white",badge:"bg-slate-700 text-white"}},q9e=({event:e,ticketingData:t,ticketTypes:r,isUnlocked:n,onRefresh:a})=>{const{user:i}=bn(),[o,l]=A.useState(()=>{try{const ue=localStorage.getItem(`cart_${e==null?void 0:e.id}`);return ue?JSON.parse(ue):{}}catch{return{}}}),[c,u]=A.useState(!1),[f,h]=A.useState(null),[g,p]=A.useState(!1),[N,b]=A.useState(!1),[S,C]=A.useState(!1),[j,T]=A.useState(!1),[O,M]=A.useState(!1),[B,L]=A.useState(0),[H,U]=A.useState(!1);A.useEffect(()=>{e!=null&&e.id&&localStorage.setItem(`cart_${e.id}`,JSON.stringify(o))},[o,e==null?void 0:e.id]),A.useEffect(()=>{(N||j)&&(async()=>{if(i){U(!0);try{const{data:Ce,error:Ne}=await Je.from("profiles").select("balance").eq("id",i.id).single();if(Ne)throw Ne;L(Ce.balance||0)}catch(Ce){console.error("Error fetching user balance:",Ce)}finally{U(!1)}}})()},[i,N,j]);const J=A.useMemo(()=>!e||!e.event_date?!1:new Date<new Date(e.event_date),[e]),K=(ue,Ce)=>{l(Ne=>{const Ee=Ne[ue]||0,Ge=r==null?void 0:r.find(Me=>Me.id===ue);if(!Ge)return Ne;const Be=(Ge.quantity_available||0)-(Ge.quantity_sold||0);let st;Ce>0?st=Math.min(Ee+Ce,Be):st=Math.max(0,Ee+Ce);const lt={...Ne};return st===0?(delete lt[ue],ot({title:"Retir du panier",description:`${Ge.name} a t retir de votre panier`})):(lt[ue]=st,Ce>0&&st>Ee?ot({title:"Ajout au panier",description:`${Ce} x ${Ge.name} ajout(s)`}):Ce<0&&st<Ee&&ot({title:"Retir du panier",description:`${Math.abs(Ce)} x ${Ge.name} retir(s)`})),lt})},G=(ue,Ce)=>{const Ne=r==null?void 0:r.find(st=>st.id===ue);if(!Ne)return;const Ee=(Ne.quantity_available||0)-(Ne.quantity_sold||0),Ge=o[ue]||0;if(Ce<=0){l(st=>{const lt={...st};return delete lt[ue],lt}),ot({title:"Retir du panier",description:`${Ne.name} a t retir de votre panier`});return}const Be=Math.min(Ce,Ee-Ge);if(Be<=0){ot({title:"Quantit non disponible",description:`Seulement ${Ee} places disponibles pour ${Ne.name}`,variant:"destructive"});return}l(st=>({...st,[ue]:(st[ue]||0)+Be})),ot({title:"Ajout au panier",description:`${Be} x ${Ne.name} ajout(s)`})},re=ue=>{const Ce=r==null?void 0:r.find(Ne=>Ne.id===ue);l(Ne=>{const Ee={...Ne};return delete Ee[ue],Ee}),Ce&&ot({title:"Retir du panier",description:`${Ce.name} a t retir de votre panier`})},ae=()=>{Object.keys(o).length!==0&&(l({}),ot({title:"Panier vid",description:"Tous les billets ont t retirs de votre panier"}))},X=ue=>ue?J&&ue.presale_price_pi&&ue.presale_price_pi>0?ue.presale_price_pi:ue.price_coins||ue.price_pi||0:0,ne=A.useMemo(()=>r?Object.entries(o).map(([ue,Ce])=>{const Ne=r.find(st=>st.id===ue);if(!Ne)return null;const Ee=X(Ne),Ge=Ee*Ce,Be=Ge*10;return{id:ue,type:Ne,quantity:Ce,unitPrice:Ee,total:Ge,totalFcfa:Be}}).filter(Boolean):[],[o,r,J]),de=A.useMemo(()=>ne.reduce((ue,Ce)=>ue+Ce.total,0),[ne]),le=A.useMemo(()=>de*10,[de]),xe=A.useMemo(()=>ne.reduce((ue,Ce)=>ue+Ce.quantity,0),[ne]),Se=A.useMemo(()=>B>=de,[B,de]),ye=A.useMemo(()=>Math.max(0,de-B),[B,de]),ee=()=>{M(!1),b(!1),window.location.href="/packs"},he=async()=>{if(!i){ot({title:"Connexion requise",description:"Veuillez vous connecter pour acheter des billets",variant:"destructive"}),b(!1);return}if(xe===0){ot({title:"Panier vide",description:"Veuillez ajouter des billets  votre panier",variant:"destructive"});return}if(!Se){M(!0);return}u(!0);try{const{data:ue,error:Ce}=await Je.rpc("purchase_tickets_v2",{p_user_id:i.id,p_event_id:e.id,p_cart:o});if(Ce)throw Ce;if(!ue.success)throw new Error(ue.message);const Ee=(ue.tickets||[]).map(Ge=>({ticket_number:Ge.number,type_name:Ge.type,price:Ge.price,price_fcfa:Ge.price_fcfa||Ge.price*10,ticket_code_short:Ge.short_code,qr_code:Ge.number}));h(Ee),b(!1),ae(),ot({title:" Commande valide !",description:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{children:"Votre commande a t effectue avec succs."}),s.jsxs("span",{className:"font-medium text-primary",children:[s.jsx(E0,{className:"w-3 h-3 inline mr-1"}),"Vos billets sont disponibles dans votre profil !"]})]}),duration:5e3}),setTimeout(()=>{p(!0)},1e3),C(!0),setTimeout(()=>C(!1),5e3),a&&a()}catch(ue){console.error("Purchase error:",ue),ot({title:"Erreur d'achat",description:ue.message||"Une erreur est survenue lors de l'achat",variant:"destructive"})}finally{u(!1)}},se=async()=>{if(f&&f.length>0){ot({title:"Gnration en cours...",description:"Prparation de votre PDF de billets."});try{await nue(e,f,i),ot({title:" Succs",description:"Vos billets ont t tlchargs."})}catch{ot({title:"Erreur",description:"Impossible de tlcharger les billets",variant:"destructive"})}}},te=ue=>{switch(ue){case"gold":return s.jsx(y1,{className:"w-5 h-5 text-yellow-300"});case"silver":return s.jsx(Ku,{className:"w-5 h-5 text-slate-300"});default:return s.jsx(ul,{className:"w-5 h-5 text-white"})}},ge=[1,2,3,5];return n?s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 relative",children:[S&&s.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 animate-in slide-in-from-top duration-500",children:s.jsxs(zc,{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white border-0 shadow-xl max-w-md",children:[s.jsx(Vp,{className:"h-5 w-5"}),s.jsx(Rf,{className:"text-white",children:"Commande confirme !"}),s.jsxs(mu,{className:"text-white/90",children:["Vos billets sont disponibles dans l'onglet ",s.jsx("strong",{children:'"Mes Billets"'})," de votre profil."]})]})}),s.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-r from-primary/10 to-purple-500/10 p-6 rounded-xl border border-primary/20",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-foreground",children:[s.jsx(ul,{className:"text-primary h-6 w-6"})," Billetterie"]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Slectionnez vos billets ci-dessous"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[J?s.jsx(Vr,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-300 animate-pulse",children:" Prvente"}):s.jsx(Vr,{variant:"outline",children:"Tarif Normal"}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-primary/10 rounded-lg",children:[s.jsx(qo,{className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-sm font-medium",children:["Solde: ",s.jsxs("span",{className:"font-bold",children:[B.toFixed(2)," "]})]})]})]})]}),!r||r.length===0?s.jsxs(zc,{children:[s.jsx(Rf,{children:"Aucun billet disponible"}),s.jsx(mu,{children:"La billetterie est ferme ou les billets sont puiss."})]}):s.jsx("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2 xl:grid-cols-3",children:r.map(ue=>{const Ce=X(ue),Ne=(ue.quantity_available||0)-(ue.quantity_sold||0),Ee=Ne<=0,Ge=o[ue.id]||0,Be=zq[ue.color]||zq.blue;return s.jsx(qt,{className:`relative overflow-hidden transition-all hover:shadow-xl ${Be.bg} ${Be.border} ${Ee?"opacity-80 grayscale":"hover:scale-[1.02]"} group`,children:s.jsxs(Xt,{className:"p-6 flex flex-col h-full justify-between gap-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[te(ue.color),s.jsx("h3",{className:`font-bold text-xl ${Be.text}`,children:ue.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`font-bold text-2xl ${Be.text} flex items-center justify-end`,children:[Ce.toFixed(2)," ",s.jsx(za,{className:"w-5 h-5 ml-1 text-yellow-300"})]}),s.jsxs("div",{className:`text-sm ${Be.text} opacity-80`,children:[(Ce*10).toLocaleString()," FCFA"]})]})]}),ue.description&&s.jsx("p",{className:`text-sm ${Be.text} opacity-90 mt-2`,children:ue.description}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-xs ${Be.text} font-medium ${Ee?"text-red-200":""}`,children:Ee?" puis":` ${Ne} places disponibles`}),Ge>0&&s.jsxs(Vr,{variant:"secondary",className:`${Be.badge} text-xs`,children:[Ge," dans le panier"]})]}),!Ee&&s.jsx("div",{className:"flex flex-wrap gap-1",children:ge.map(st=>s.jsxs(Ue,{size:"sm",variant:"outline",className:`h-7 px-2 text-xs ${Be.text} border-white/30 hover:bg-white/20`,onClick:()=>G(ue.id,st),disabled:Ne<Ge+st,children:["+",st]},st))}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 bg-black/20 p-1 rounded-lg backdrop-blur-sm",children:[s.jsx(Ue,{size:"icon",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 transition-colors",onClick:()=>K(ue.id,-1),disabled:!Ge||Ee,children:s.jsx(rA,{className:"w-3 h-3"})}),s.jsx("span",{className:`w-8 text-center font-bold ${Be.text} text-lg`,children:Ge||0}),s.jsx(Ue,{size:"icon",variant:"ghost",className:"h-8 w-8 text-white hover:bg-white/20 transition-colors",onClick:()=>K(ue.id,1),disabled:Ne<=Ge||Ee,children:s.jsx(Ql,{className:"w-3 h-3"})})]}),Ge>0&&s.jsxs(Ue,{size:"sm",variant:"ghost",className:`h-7 px-2 text-xs ${Be.text} hover:bg-white/20`,onClick:()=>re(ue.id),children:[s.jsx(kl,{className:"w-3 h-3 mr-1"}),"Retirer"]})]})]})]})},ue.id)})}),xe>0&&s.jsxs(s.Fragment,{children:[j&&s.jsx("div",{className:"fixed inset-0 z-40 bg-black/50",onClick:()=>T(!1),children:s.jsx("div",{className:"fixed bottom-24 left-1/2 transform -translate-x-1/2 w-full max-w-md",onClick:ue=>ue.stopPropagation(),children:s.jsx(qt,{className:"bg-card shadow-2xl border-t-4 border-t-primary",children:s.jsxs(Xt,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"font-bold text-lg",children:["Votre panier (",xe," billet",xe>1?"s":"",")"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-primary/10 rounded text-sm",children:[s.jsx(qo,{className:"w-3 h-3"}),s.jsxs("span",{className:"font-medium",children:[B.toFixed(2)," "]})]}),s.jsxs(Ue,{variant:"ghost",size:"sm",onClick:ae,className:"text-destructive hover:text-destructive",children:[s.jsx(Yo,{className:"w-4 h-4 mr-1"}),"Vider"]})]})]}),s.jsx(R4,{className:"h-64 pr-4",children:ne.map(ue=>s.jsxs("div",{className:"flex items-center justify-between p-3 mb-2 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:ue.type.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[ue.unitPrice.toFixed(2),"   ",ue.quantity]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-bold",children:[ue.total.toFixed(2)," "]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[ue.totalFcfa.toLocaleString()," FCFA"]})]}),s.jsx(Ue,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>re(ue.id),children:s.jsx(kl,{className:"w-4 h-4"})})]})]},ue.id))}),s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[!Se&&s.jsxs(zc,{variant:"destructive",className:"mb-3",children:[s.jsx(Rf,{className:"text-sm",children:"Solde insuffisant"}),s.jsxs(mu,{className:"text-xs",children:["Il vous manque ",ye.toFixed(2)," "]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-bold",children:"Total"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Solde disponible: ",B.toFixed(2)," "]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-primary",children:[de.toFixed(2)," "]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[le.toLocaleString()," FCFA"]})]})]}),s.jsx(Ue,{onClick:()=>{T(!1),Se?b(!0):M(!0)},className:"w-full",size:"lg",disabled:H,children:H?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"w-5 h-5 mr-2 animate-spin"}),"Vrification..."]}):Se?s.jsxs(s.Fragment,{children:[s.jsx(wm,{className:"w-5 h-5 mr-2"}),"Commander maintenant"]}):s.jsxs(s.Fragment,{children:[s.jsx(p2,{className:"w-5 h-5 mr-2"}),"Recharger mon solde"]})})]})]})})})}),s.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-50 flex justify-center px-4 animate-in slide-in-from-bottom duration-500",children:s.jsxs("div",{className:"flex items-center gap-2 bg-card/95 backdrop-blur-md rounded-full shadow-2xl border-t-4 border-t-primary p-2 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(wm,{className:"w-6 h-6 text-primary"}),xe>0&&s.jsx(Vr,{className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center",children:xe})]}),s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"text-sm font-medium",children:[xe," billet",xe>1?"s":""]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"text-xs font-bold text-primary",children:[de.toFixed(2)," "]}),!Se&&s.jsx(Vr,{variant:"destructive",className:"h-4 px-1 text-[10px]",children:"Solde insuffisant"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>T(!0),className:"h-9 rounded-full",children:"Voir dtails"}),s.jsx(Ue,{size:"lg",onClick:()=>{Se?b(!0):M(!0)},className:`rounded-full ${Se?"bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90":"bg-destructive hover:bg-destructive/90"}`,children:Se?"Commander":"Recharger"})]})]})})]}),xe===0&&s.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-50 flex justify-center px-4",children:s.jsx(qt,{className:"bg-card/95 backdrop-blur-md border-t-4 border-t-primary shadow-lg",children:s.jsx(Xt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(wm,{className:"w-6 h-6 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Votre panier est vide"}),s.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Ajouter des billets"})]})})})}),s.jsx(To,{open:N,onOpenChange:b,children:s.jsxs(xo,{className:"sm:max-w-lg",children:[s.jsxs(ko,{children:[s.jsx(Po,{className:"text-xl",children:"Validation de commande"}),s.jsx(dl,{children:"Vrifiez et modifiez votre commande avant de finaliser"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(qo,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Votre solde"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[B.toFixed(2)," "]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium",children:"Total panier"}),s.jsxs("p",{className:`text-2xl font-bold ${Se?"text-green-600":"text-destructive"}`,children:[de.toFixed(2)," "]})]})]}),!Se&&s.jsxs(zc,{variant:"destructive",className:"mt-3",children:[s.jsx(Rf,{children:"Solde insuffisant"}),s.jsxs(mu,{children:["Il vous manque ",ye.toFixed(2),"  pour valider cette commande."]})]})]}),s.jsx(R4,{className:"max-h-[50vh] pr-4",children:s.jsx("div",{className:"space-y-4 py-2",children:ne.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(wm,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Votre panier est vide"})]}):ne.map(ue=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-lg",children:ue.type.name}),s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:ue.type.description||"Billet standard"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ue,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>K(ue.id,-1),disabled:ue.quantity<=1,children:s.jsx(rA,{className:"w-3 h-3"})}),s.jsx("span",{className:"font-bold w-8 text-center",children:ue.quantity}),s.jsx(Ue,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>K(ue.id,1),disabled:(ue.type.quantity_available||0)-(ue.type.quantity_sold||0)<=ue.quantity,children:s.jsx(Ql,{className:"w-3 h-3"})})]}),s.jsx(Ue,{size:"sm",variant:"destructive",className:"h-8",onClick:()=>re(ue.id),children:s.jsx(Yo,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-bold",children:[ue.total.toFixed(2)," "]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[ue.totalFcfa.toLocaleString()," FCFA"]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[ue.unitPrice.toFixed(2),"  / billet"]})]})]},ue.id))})}),ne.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-lg font-bold",children:["Total (",xe," billet",xe>1?"s":"",")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[ne.length," type",ne.length>1?"s":""," de billet"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"text-2xl font-bold text-primary block",children:[de.toFixed(2)," "]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[le.toLocaleString()," FCFA"]})]})]}),!Se&&s.jsx(zc,{className:"bg-amber-50 border-amber-200",children:s.jsxs(mu,{className:"text-sm text-amber-800",children:[s.jsx(p2,{className:"w-4 h-4 inline mr-2"}),"Votre solde est insuffisant. ",s.jsx("strong",{children:"Rechargez vos  pour continuer."})]})}),s.jsx(zc,{className:"bg-blue-50 border-blue-200",children:s.jsxs(mu,{className:"text-sm text-blue-700",children:[s.jsx(E0,{className:"w-4 h-4 inline mr-2"}),"Aprs paiement, vos billets seront disponibles dans votre profil."]})})]}),s.jsxs(Jc,{className:"flex flex-col sm:flex-row gap-2 pt-4",children:[s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(Ue,{variant:"destructive",onClick:ae,className:"flex-1",disabled:ne.length===0,children:[s.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Vider le panier"]}),s.jsx(Ue,{variant:"outline",onClick:()=>b(!1),className:"flex-1",children:"Continuer mes achats"})]}),s.jsx(Ue,{onClick:Se?he:()=>M(!0),disabled:c||ne.length===0||!Se,className:`w-full sm:w-48 ${Se?"bg-green-600 hover:bg-green-700":"bg-amber-600 hover:bg-amber-700"}`,size:"lg",children:c?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"animate-spin mr-2 w-5 h-5"}),"Traitement..."]}):Se?s.jsxs(s.Fragment,{children:[s.jsx(Hx,{className:"mr-2 w-5 h-5"}),"Payer ",de.toFixed(2)," "]}):s.jsxs(s.Fragment,{children:[s.jsx(p2,{className:"mr-2 w-5 h-5"}),"Recharger mon solde"]})})]})]})]})}),s.jsx(To,{open:O,onOpenChange:M,children:s.jsxs(xo,{className:"sm:max-w-md",children:[s.jsxs(ko,{children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-amber-100 to-orange-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(qo,{className:"w-10 h-10 text-amber-600"})}),s.jsx(Po,{className:"text-2xl text-center text-amber-700",children:"Solde insuffisant"}),s.jsxs(dl,{className:"text-center text-base",children:["Votre solde actuel de ",s.jsxs("strong",{children:[B.toFixed(2)," "]})," ne permet pas d'acheter le panier de ",s.jsxs("strong",{children:[de.toFixed(2)," "]}),".",s.jsx("br",{}),s.jsx("br",{}),"Il vous manque ",s.jsxs("strong",{className:"text-destructive",children:[ye.toFixed(2)," "]}),"."]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs(zc,{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-amber-200",children:[s.jsx(Rf,{className:"text-amber-800",children:" Solution rapide"}),s.jsx(mu,{className:"text-amber-700",children:"Rechargez votre compte avec un pack de  pour finaliser votre achat et profiter de l'vnement !"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(Ue,{variant:"outline",className:"h-16 flex-col gap-1",onClick:()=>M(!1),children:[s.jsx(kl,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Annuler"})]}),s.jsxs(Ue,{onClick:ee,className:"h-16 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 flex-col gap-1",children:[s.jsx(p2,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs font-bold",children:"Voir les packs"})]})]}),s.jsx("div",{className:"text-xs text-muted-foreground text-center pt-4 border-t",children:s.jsxs("p",{children:[" Les packs  vous permettent d'acheter des billets et de participer  tous les vnements.",s.jsx("br",{})," Profitez de promotions exclusives sur les gros packs !"]})})]})]})}),s.jsx(To,{open:g,onOpenChange:p,children:s.jsxs(xo,{className:"sm:max-w-md text-center",children:[s.jsxs(ko,{children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-green-100 to-emerald-100 rounded-full flex items-center justify-center mb-4 animate-in zoom-in duration-500",children:s.jsx(Vp,{className:"w-10 h-10 text-green-600"})}),s.jsx(Po,{className:"text-2xl text-green-700",children:" Flicitations !"}),s.jsxs(dl,{className:"text-base",children:["Votre commande a t effectue avec succs !",s.jsx("br",{}),s.jsx("strong",{className:"text-primary font-semibold",children:`Vos billets sont disponibles dans l'onglet "Mes Billets" de votre profil`})," pour un tlchargement ultrieur."]})]}),s.jsxs("div",{className:"py-6 space-y-3",children:[s.jsxs(Ue,{onClick:se,className:"w-full h-14 text-lg font-bold shadow-lg bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90",children:[s.jsx(Ym,{className:"mr-2 h-6 w-6"}),"Tlcharger les Billets (PDF)"]}),s.jsx(Ue,{variant:"outline",className:"w-full",onClick:()=>p(!1),children:"Continuer la navigation"})]}),s.jsx("div",{className:"text-xs text-muted-foreground pt-4 border-t",children:s.jsxs("p",{children:[" Les billets sont galement sauvegards dans votre compte.",s.jsx("br",{})," Vous pouvez y accder  tout moment depuis votre profil."]})})]})})]}):null},G9e=({className:e="",orientation:t="horizontal",...r})=>s.jsx("div",{className:`${t==="horizontal"?"w-full h-[1px]":"h-full w-[1px]"} bg-gray-700 ${e}`,...r}),K9e=({endDate:e,onTimerEnd:t})=>{const[r,n]=A.useState({days:0,hours:0,minutes:0,seconds:0,expired:!1});return A.useEffect(()=>{const a=()=>{const o=new Date().getTime(),c=new Date(e).getTime()-o;if(c<0){n({days:0,hours:0,minutes:0,seconds:0,expired:!0}),t&&t();return}n({days:Math.floor(c/864e5),hours:Math.floor(c%864e5/36e5),minutes:Math.floor(c%36e5/6e4),seconds:Math.floor(c%6e4/1e3),expired:!1})};a();const i=setInterval(a,1e3);return()=>clearInterval(i)},[e,t]),r.expired?s.jsx("div",{className:"text-center py-4 bg-gradient-to-r from-red-900/50 to-red-800/30 border border-red-700/50 rounded-xl",children:s.jsx("p",{className:"text-red-300 font-bold text-lg",children:" Le vote est termin !"})}):s.jsxs("div",{className:"text-center py-4 bg-gradient-to-r from-blue-900/30 to-indigo-900/20 border border-blue-700/30 rounded-xl",children:[s.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center justify-center gap-2 text-blue-300",children:[s.jsx(xx,{className:"w-5 h-5 text-blue-400"})," Temps restant"]}),s.jsx("div",{className:"flex justify-center gap-2",children:[{v:r.days,l:"J"},{v:r.hours,l:"H"},{v:r.minutes,l:"M"},{v:r.seconds,l:"S"}].map((a,i)=>s.jsxs("div",{className:"bg-gradient-to-b from-blue-600 to-cyan-500 p-3 rounded-xl shadow-lg min-w-[60px]",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:a.v}),s.jsx("div",{className:"text-xs text-white/80",children:a.l})]},i))})]})},Y9e=({candidate:e,totalVotes:t,votePrice:r,onVote:n,settings:a,isFinished:i,index:o,isSelected:l,onSelect:c,event:u,rank:f})=>{const[h,g]=A.useState(1),[p,N]=A.useState(!1),[b,S]=A.useState(!1),C=Ia(),[j,T]=A.useState({isOpen:!1,onConfirm:null}),{user:O}=bn(),[M,B]=A.useState(!1),[L,H]=A.useState(e.vote_count||0),U=t>0?(L||0)/t*100:0,J=h*r;A.useEffect(()=>{H(e.vote_count||0)},[e.vote_count]);const K=async()=>{if(T({isOpen:!1,onConfirm:null}),!O){C("/auth");return}N(!0);try{const{data:re,error:ae}=await Je.from("profiles").select("coin_balance").eq("id",O.id).single();if(ae)throw ae;if(((re==null?void 0:re.coin_balance)||0)<J){S(!0),N(!1);return}const{data:X,error:ne}=await Je.rpc("cast_vote",{p_user_id:O.id,p_candidate_id:e.id,p_vote_count:h});if(ne)throw new Error(ne.message);let de=Array.isArray(X)?X[0]:X;if(!(de!=null&&de.success))throw new Error((de==null?void 0:de.message)||"Erreur");ot({title:" Vote enregistr !",description:`Vous avez donn ${h} voix  ${e.name}.`}),H(le=>le+h),n()}catch(re){ot({title:"Erreur",description:re.message,variant:"destructive"})}finally{N(!1)}},G=async re=>{if(re.stopPropagation(),navigator.share)try{await navigator.share({title:`Votez pour ${e.name}`,text:`Soutenez ${e.name} dans l'vnement ${u.title} sur BonPlanInfos !`,url:window.location.href})}catch(ae){console.log("Error sharing",ae)}else navigator.clipboard.writeText(window.location.href),ot({title:"Lien copi",description:"Le lien a t copi dans le presse-papier."})};return s.jsxs(s.Fragment,{children:[s.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gradient-to-br from-gray-900 to-gray-800 border border-gray-700 rounded-2xl p-4 ${l?"ring-2 ring-emerald-500":""} relative overflow-hidden`,children:[e.category&&e.category!=="Gnral"&&s.jsx("div",{className:"absolute top-0 right-0",children:s.jsx(Vr,{variant:"secondary",className:"bg-emerald-900/80 text-emerald-200 border-0 rounded-bl-xl rounded-tr-none text-[10px] px-2",children:e.category})}),s.jsxs("div",{className:"flex items-start gap-3 mb-3 mt-2",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden border-2 border-emerald-500/50 cursor-pointer shrink-0",onClick:()=>B(!0),children:s.jsx("img",{src:e.photo_url||"/api/placeholder/64/64",alt:e.name,className:"w-full h-full object-cover transition-transform hover:scale-110"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:"font-bold text-white truncate pr-2 cursor-pointer hover:text-emerald-400 transition-colors",onClick:()=>B(!0),children:e.name}),s.jsx("div",{className:"flex gap-1",children:s.jsx(Ue,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-gray-700",onClick:()=>B(!0),children:s.jsx(Xm,{className:"w-4 h-4 text-gray-400"})})})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1 text-emerald-400",children:[s.jsxs("span",{className:"font-semibold",children:[L," voix"]}),s.jsxs("span",{children:[U.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1.5 overflow-hidden",children:s.jsx("div",{className:"bg-emerald-500 h-1.5 rounded-full transition-all duration-500",style:{width:`${Math.max(5,U)}%`}})})]})]})]}),!i&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between bg-gray-800 p-1.5 rounded-lg border border-gray-700/50",children:[s.jsx(Ue,{variant:"ghost",size:"icon",className:"h-7 w-7 hover:text-emerald-400",onClick:()=>g(re=>Math.max(1,re-1)),children:s.jsx(rA,{className:"w-3 h-3"})}),s.jsx("span",{className:"text-white font-bold font-mono text-lg min-w-[2ch] text-center",children:h}),s.jsx(Ue,{variant:"ghost",size:"icon",className:"h-7 w-7 hover:text-emerald-400",onClick:()=>g(re=>re+1),children:s.jsx(Ql,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[s.jsxs(Ue,{onClick:()=>c(e,h),variant:"outline",size:"sm",className:"col-span-4 text-xs bg-transparent border-gray-600 hover:bg-gray-800 hover:text-white p-0",children:[s.jsx(wm,{className:"w-3 h-3 mr-1"})," Panier"]}),s.jsx(Ue,{onClick:G,variant:"outline",size:"sm",className:"col-span-3 text-xs bg-transparent border-gray-600 hover:bg-gray-800 hover:text-white p-0",children:s.jsx(b1,{className:"w-3 h-3"})}),s.jsx(Ue,{onClick:()=>T({isOpen:!0,onConfirm:K}),disabled:p,size:"sm",className:"col-span-5 bg-emerald-600 hover:bg-emerald-700 text-xs text-white border-0",children:p?s.jsx(Jt,{className:"animate-spin w-3 h-3"}):`Voter ${J}`})]})]})]}),s.jsx(hl,{open:M,onOpenChange:B,children:s.jsxs(Zo,{className:"bg-gradient-to-b from-gray-900 to-gray-950 border-gray-700 max-w-sm",children:[s.jsxs(Jo,{children:[s.jsxs("div",{className:"relative mx-auto mb-4",children:[s.jsx("div",{className:"w-32 h-32 rounded-full p-1 bg-gradient-to-tr from-emerald-500 via-teal-500 to-cyan-500",children:s.jsx("img",{src:e.photo_url||"/api/placeholder/128/128",className:"w-full h-full rounded-full object-cover border-4 border-gray-900",alt:e.name})}),s.jsx("div",{className:"absolute -bottom-2 -right-2 bg-gray-900 rounded-full p-1 border border-gray-700",children:s.jsxs("div",{className:"bg-emerald-600 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center",children:[s.jsx(Mh,{className:"w-3 h-3 mr-1"})," #",f]})})]}),s.jsx(Qo,{className:"text-2xl font-bold text-white text-center mb-1",children:e.name}),e.category&&s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx(Vr,{variant:"outline",className:"border-emerald-500 text-emerald-400 bg-emerald-950/30",children:e.category})}),s.jsxs(el,{className:"text-center space-y-4",children:[s.jsx("div",{className:"text-gray-400 text-sm line-clamp-3",children:e.description||"Aucune description disponible pour ce candidat."}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 my-4",children:[s.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-xl border border-gray-700/50",children:[s.jsx("div",{className:"text-emerald-400 font-bold text-xl",children:L}),s.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-semibold",children:"Votes"})]}),s.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-xl border border-gray-700/50",children:[s.jsxs("div",{className:"text-blue-400 font-bold text-xl",children:["#",f]}),s.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-semibold",children:"Rang"})]}),s.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-xl border border-gray-700/50",children:[s.jsxs("div",{className:"text-purple-400 font-bold text-xl",children:[U.toFixed(1),"%"]}),s.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-semibold",children:"Score"})]})]}),s.jsx("div",{className:"p-4 bg-emerald-900/20 border border-emerald-800/30 rounded-xl",children:s.jsx("p",{className:"text-emerald-200 font-medium italic",children:'"Votez pour moi et aidez-moi  atteindre la premire place ! Chaque voix compte."'})})]})]}),s.jsxs(ml,{className:"flex-col sm:flex-row gap-2",children:[s.jsxs(Ue,{onClick:G,variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-800 hover:text-white",children:[s.jsx(b1,{className:"w-4 h-4 mr-2"})," Partager"]}),s.jsx(Ue,{onClick:()=>B(!1),className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white border-0",children:"Fermer"})]})]})}),s.jsx(W0,{isOpen:b,onClose:()=>S(!1),onProceed:()=>{S(!1),C("/packs")}}),s.jsx(hl,{open:j.isOpen,onOpenChange:re=>!re&&T({isOpen:!1,onConfirm:null}),children:s.jsxs(Zo,{className:"bg-gray-900 text-white border-gray-700",children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:"Confirmer le vote"}),s.jsxs(el,{className:"text-gray-400",children:["Voter pour ",e.name," (",h," voix) pour ",J," (pices achetes uniquement)?"]})]}),s.jsxs(ml,{children:[s.jsx(gl,{className:"text-black",children:"Annuler"}),s.jsx(pl,{onClick:j.onConfirm,className:"bg-emerald-600 text-white",children:"Confirmer"})]})]})})]})},X9e=({event:e,isUnlocked:t,onRefresh:r})=>{const[n,a]=A.useState([]),[i,o]=A.useState(null),{user:l}=bn(),[c,u]=A.useState(0),[f,h]=A.useState([]),[g,p]=A.useState("candidates"),[N,b]=A.useState("Tous"),[S,C]=A.useState(["Tous"]),[j,T]=A.useState("Tous"),O=A.useCallback(async()=>{const{data:G}=await Je.from("candidates").select("*").eq("event_id",e.id).order("vote_count",{ascending:!1}),{data:re}=await Je.from("event_settings").select("*").eq("event_id",e.id).single();if(l){const{data:ae}=await Je.from("profiles").select("coin_balance").eq("id",l.id).single();u((ae==null?void 0:ae.coin_balance)||0)}if(G){a(G);const ae=[...new Set(G.map(X=>X.category).filter(Boolean))];ae.length>0&&C(["Tous",...ae.sort()])}o(re||{vote_price_pi:1,end_date:new Date(Date.now()+864e5).toISOString()})},[e.id,l]);A.useEffect(()=>{O()},[O]);const M=async()=>{if(l)try{for(const G of f)await Je.rpc("cast_vote",{p_user_id:l.id,p_candidate_id:G.candidate.id,p_vote_count:G.quantity});ot({title:"Succs",description:"Votes du panier enregistrs!"}),h([]),O(),r&&r()}catch(G){ot({title:"Erreur",description:G.message})}},B=n.reduce((G,re)=>G+(re.vote_count||0),0),L=A.useMemo(()=>N==="Tous"?n:n.filter(G=>G.category===N),[n,N]),H=A.useMemo(()=>[...n].sort((G,re)=>(re.vote_count||0)-(G.vote_count||0)),[n]),U=G=>H.findIndex(re=>re.id===G)+1,J=A.useMemo(()=>j==="Tous"?H:n.filter(G=>G.category===j).sort((G,re)=>(re.vote_count||0)-(G.vote_count||0)),[n,j,H]),K=()=>{const G=new na,re=J;G.setFillColor(16,185,129),G.rect(0,0,210,40,"F"),G.setTextColor(255,255,255),G.setFontSize(22),G.setFont("helvetica","bold"),G.text("CLASSEMENT OFFICIEL",105,20,{align:"center"}),G.setFontSize(12),G.setFont("helvetica","normal"),G.text(e.title.toUpperCase()+(j!=="Tous"?` - CATGORIE: ${j.toUpperCase()}`:""),105,30,{align:"center"}),G.setTextColor(100,100,100),G.setFontSize(10),G.text(`Gnr le ${new Date().toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}  ${new Date().toLocaleTimeString("fr-FR")}`,105,50,{align:"center"});let ae=60;G.setFillColor(240,240,240),G.setDrawColor(200,200,200),G.rect(15,ae,180,10,"FD"),G.setTextColor(50,50,50),G.setFont("helvetica","bold"),G.text("RANG",25,ae+7),G.text("CANDIDAT",60,ae+7),G.text("CATGORIE",110,ae+7),G.text("VOTES",160,ae+7,{align:"right"}),G.text("SCORE",190,ae+7,{align:"right"}),ae+=10,G.setFont("helvetica","normal"),re.forEach((X,ne)=>{const de=B>0?((X.vote_count||0)/B*100).toFixed(1):"0.0",le=ne+1;ne%2===1&&(G.setFillColor(250,250,250),G.rect(15,ae,180,12,"F")),ae>270&&(G.addPage(),ae=20),G.setFont("helvetica","bold"),le===1?G.setTextColor(212,175,55):le===2?G.setTextColor(120,120,120):le===3?G.setTextColor(165,80,30):G.setTextColor(50,50,50),G.text(`#${le}`,25,ae+8),G.setTextColor(0,0,0),G.setFont("helvetica","bold"),G.text(X.name,60,ae+8),G.setFont("helvetica","normal"),G.setTextColor(100,100,100),G.text(X.category||"-",110,ae+8),G.setTextColor(80,80,80),G.text(`${X.vote_count||0}`,160,ae+8,{align:"right"}),G.setFont("helvetica","bold"),G.setTextColor(16,185,129),G.text(`${de}%`,190,ae+8,{align:"right"}),G.setDrawColor(230,230,230),G.line(15,ae+12,195,ae+12),ae+=12}),G.setFontSize(8),G.setTextColor(150,150,150),G.text("Document gnr par BonPlanInfos - Systme de Vote Scuris",105,290,{align:"center"}),G.save(`classement-${j==="Tous"?"general":j.toLowerCase()}-${e.title.substring(0,10).replace(/[^a-z0-9]/gi,"_")}.pdf`),ot({title:"PDF gnr",description:"Le classement a t tlcharg."})};return t?s.jsxs("div",{className:"mt-8 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Vote"}),l&&s.jsxs(Vr,{variant:"outline",className:"text-amber-400 border-amber-400",children:[s.jsx(za,{className:"w-3 h-3 mr-1"})," Solde Achet: ",c,""]})]}),i&&s.jsx(K9e,{endDate:i.end_date}),g==="candidates"&&S.length>1&&s.jsx("div",{className:"overflow-x-auto pb-2 scrollbar-hide",children:s.jsx("div",{className:"flex space-x-2",children:S.map(G=>s.jsx("button",{onClick:()=>b(G),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${N===G?"bg-emerald-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:G},G))})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.jsxs(H0,{value:g,onValueChange:p,className:"w-full",children:[s.jsxs(Hh,{className:"bg-gray-800 w-full border border-gray-700",children:[s.jsxs(Gn,{value:"candidates",className:"flex-1 data-[state=active]:bg-gray-700 data-[state=active]:text-white text-gray-400",children:[s.jsx(b_e,{className:"w-4 h-4 mr-2"})," Candidats"]}),s.jsxs(Gn,{value:"ranking",className:"flex-1 data-[state=active]:bg-gray-700 data-[state=active]:text-white text-gray-400",children:[s.jsx(jj,{className:"w-4 h-4 mr-2"})," Classement"]})]}),s.jsx(Kn,{value:"candidates",children:L.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:L.map((G,re)=>s.jsx(Y9e,{candidate:G,totalVotes:B,votePrice:(i==null?void 0:i.vote_price_pi)||1,onVote:()=>{O(),r&&r()},settings:i,isFinished:!1,index:re,isSelected:f.some(ae=>ae.candidate.id===G.id),onSelect:(ae,X)=>h(ne=>[...ne,{candidate:ae,quantity:X,price:i==null?void 0:i.vote_price_pi}]),event:e,rank:U(G.id)},G.id))}):s.jsxs("div",{className:"text-center py-12 bg-gray-800/50 rounded-xl border border-gray-700 border-dashed",children:[s.jsx(I7,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-400",children:"Aucun candidat dans cette catgorie."})]})}),s.jsx(Kn,{value:"ranking",children:s.jsxs(qt,{className:"bg-gray-800 border-gray-700",children:[s.jsx(zr,{children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs(Wr,{className:"text-white flex items-center gap-2",children:[s.jsx(Mh,{className:"text-yellow-500 w-5 h-5"})," Leaderboard"]}),s.jsx("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto",children:S.length>1&&S.map(G=>s.jsx("button",{onClick:()=>T(G),className:`px-3 py-1 rounded-md text-xs font-medium whitespace-nowrap transition-colors border ${j===G?"bg-emerald-600 text-white border-emerald-600":"bg-transparent text-gray-400 border-gray-600 hover:border-gray-400"}`,children:G==="Tous"?"Gnral":G},G))}),s.jsxs(Ue,{onClick:K,variant:"outline",size:"sm",className:"bg-emerald-600 border-0 text-white hover:bg-emerald-700 whitespace-nowrap",children:[s.jsx(Xwe,{className:"w-4 h-4 mr-2"})," PDF (",j==="Tous"?"Gnral":j,")"]})]})}),s.jsx(Xt,{className:"p-0",children:s.jsx("div",{className:"divide-y divide-gray-700",children:J.length>0?J.map((G,re)=>{const ae=re+1,X=B>0?((G.vote_count||0)/B*100).toFixed(1):0;let ne;return ae===1?ne=s.jsx("div",{className:"bg-yellow-500/20 text-yellow-500 p-2 rounded-full border border-yellow-500/50",children:s.jsx(y1,{className:"w-5 h-5"})}):ae===2?ne=s.jsx("div",{className:"bg-gray-400/20 text-gray-400 p-2 rounded-full border border-gray-400/50",children:s.jsx("span",{className:"font-bold w-5 h-5 flex items-center justify-center",children:"2"})}):ae===3?ne=s.jsx("div",{className:"bg-orange-700/20 text-orange-600 p-2 rounded-full border border-orange-700/50",children:s.jsx("span",{className:"font-bold w-5 h-5 flex items-center justify-center",children:"3"})}):ne=s.jsxs("span",{className:"text-gray-500 font-mono font-bold text-lg w-9 text-center",children:["#",ae]}),s.jsxs("div",{className:"flex items-center p-4 hover:bg-gray-700/50 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0 mr-4 w-10 flex justify-center",children:ne}),s.jsx("div",{className:"flex-shrink-0 mr-4",children:s.jsx("img",{src:G.photo_url||"/api/placeholder/40/40",className:"w-10 h-10 rounded-full object-cover border border-gray-600",alt:G.name})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-white truncate",children:G.name}),s.jsxs("div",{className:"flex items-center mt-1 gap-2",children:[s.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-1.5 max-w-[100px]",children:s.jsx("div",{className:"bg-emerald-500 h-1.5 rounded-full",style:{width:`${X}%`}})}),s.jsxs("span",{className:"text-xs text-gray-400",children:[X,"%"]}),G.category&&s.jsx(Vr,{variant:"outline",className:"text-[10px] border-gray-600 text-gray-400 h-4 px-1",children:G.category})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-bold text-white",children:G.vote_count||0}),s.jsx("div",{className:"text-xs text-gray-500",children:"votes"})]})]},G.id)}):s.jsx("div",{className:"p-8 text-center text-gray-500",children:"Aucun candidat trouv pour ce classement."})})})]})})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(qt,{className:"bg-gray-800 border-gray-700 sticky top-4",children:[s.jsx(zr,{children:s.jsxs(Wr,{className:"text-white text-lg flex items-center",children:[s.jsx(wm,{className:"mr-2"})," Panier (",f.length,")"]})}),s.jsx(Xt,{children:f.length>0?s.jsxs("div",{className:"space-y-3",children:[f.map((G,re)=>s.jsxs("div",{className:"flex justify-between items-center text-sm bg-gray-900/50 p-2 rounded border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-900 flex items-center justify-center text-emerald-400 text-xs font-bold",children:G.quantity}),s.jsx("span",{className:"text-gray-300 truncate max-w-[120px]",children:G.candidate.name})]}),s.jsxs("span",{className:"text-emerald-400 font-mono",children:[G.quantity*G.price,""]})]},re)),s.jsx(G9e,{}),s.jsxs("div",{className:"flex justify-between items-center pt-2",children:[s.jsx("span",{className:"text-gray-400",children:"Total"}),s.jsxs("span",{className:"text-xl font-bold text-emerald-400",children:[f.reduce((G,re)=>G+re.quantity*re.price,0),""]})]}),s.jsx(Ue,{onClick:M,className:"w-full mt-2 bg-emerald-600 hover:bg-emerald-700 text-white",children:"Confirmer le paiement"}),s.jsx(Ue,{onClick:()=>h([]),variant:"ghost",size:"sm",className:"w-full text-gray-500 hover:text-red-400 h-auto py-1 text-xs",children:"Vider le panier"})]}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(wm,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),s.jsx("p",{className:"text-sm",children:"Votre panier est vide"})]})})]})})]})]}):null},Z9e=({isOpen:e,onClose:t,eventId:r,organizerId:n})=>{const[a,i]=A.useState(null),[o,l]=A.useState(!1);return A.useEffect(()=>{e&&r&&(async()=>{l(!0);try{const{data:u,error:f}=await Je.rpc("get_verification_stats",{p_event_id:r,p_organizer_id:n});if(f)throw f;i(u==null?void 0:u.stats)}catch(u){console.error("Error stats:",u)}finally{l(!1)}})()},[e,r,n]),s.jsx(To,{open:e,onOpenChange:t,children:s.jsxs(xo,{className:"sm:max-w-md",children:[s.jsxs(ko,{children:[s.jsxs(Po,{className:"flex items-center gap-2",children:[s.jsx(T7,{className:"w-5 h-5 text-primary"})," Statistiques de Validation"]}),s.jsx(dl,{children:"tat des entres en temps rel"})]}),o?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Jt,{className:"animate-spin"})}):a?s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-muted p-4 rounded-lg text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase font-bold",children:"Billets Vendus"}),s.jsx("p",{className:"text-2xl font-bold",children:a.total_tickets})]}),s.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg text-center border border-primary/20",children:[s.jsx("p",{className:"text-xs text-primary uppercase font-bold",children:"Valids / Entrs"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:a.verified_tickets})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{children:"Taux de prsence"}),s.jsxs("span",{className:"font-bold",children:[a.verification_rate,"%"]})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${a.verification_rate}%`}})})]}),a.duplicate_scans>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-600 bg-yellow-50 p-2 rounded border border-yellow-200",children:[s.jsx(Kc,{className:"w-4 h-4"}),s.jsxs("span",{children:[a.duplicate_scans," tentatives de doublons dtectes"]})]})]}):s.jsx("p",{className:"text-center text-muted-foreground",children:"Aucune donne disponible"})]})})},J9e=({description:e})=>{const[t,r]=A.useState(!1),n=300;if(!e)return null;const a=e.length>n,i=t?e:e.slice(0,n);return s.jsxs("div",{className:"prose dark:prose-invert max-w-none text-gray-600 dark:text-gray-300",children:[s.jsxs("p",{className:"whitespace-pre-line",children:[i,!t&&a&&"..."]}),a&&s.jsx(Ue,{variant:"ghost",onClick:()=>r(!t),className:"mt-2 p-0 h-auto font-semibold text-primary hover:text-primary/80 hover:bg-transparent flex items-center",children:t?s.jsxs(s.Fragment,{children:["Voir moins ",s.jsx(Lte,{className:"ml-1 w-4 h-4"})]}):s.jsxs(s.Fragment,{children:["Voir plus ",s.jsx(Tj,{className:"ml-1 w-4 h-4"})]})})]})},Cue=async(e,t=3,r=1e3)=>{try{return await e()}catch(n){if(t===0)throw n;return await new Promise(a=>setTimeout(a,r)),Cue(e,t-1,r*1.5)}},Q9e=()=>{const{id:e}=w7(),t=Ia(),{userProfile:r,forceRefreshUserProfile:n}=ai(),{user:a}=bn(),[i,o]=A.useState(null),[l,c]=A.useState(null),[u,f]=A.useState([]),[h,g]=A.useState(!0),[p,N]=A.useState(!1),[b,S]=A.useState(!1),[C,j]=A.useState(!1),[T,O]=A.useState({isOpen:!1,type:null,cost:0,breakdown:null,action:null}),[M,B]=A.useState(!1),[L,H]=A.useState(!1),[U,J]=A.useState(!1),[K,G]=A.useState(!1),[re,ae]=A.useState({total_rented:0,gross_revenue:0,organizer_net:0,platform_fee:0,loading:!1}),X=a==null?void 0:a.id,ne=r==null?void 0:r.user_type,de=A.useCallback(async()=>{if(e){g(!0),console.log("Fetching event data for ID:",e);try{const{data:Ce,error:Ne}=await Cue(()=>Je.from("events").select("*, organizer:organizer_id(full_name), category:category_id(name, slug)").eq("id",e).maybeSingle());if(Ne)throw Ne;if(!Ce){console.error("Event not found"),o(null);return}o(Ce);let Ee=null;if(Ce.event_type==="raffle"){const{data:st}=await Je.from("raffle_events").select("*").eq("event_id",e).maybeSingle();Ee=st}else if(Ce.event_type==="stand_rental"){const{data:st}=await Je.from("stand_events").select("*").eq("event_id",e).maybeSingle();Ee=st}else if(Ce.event_type==="ticketing"){const{data:st}=await Je.from("ticketing_events").select("*").eq("event_id",e).maybeSingle();Ee=st;const{data:lt}=await Je.from("ticket_types").select("*").eq("event_id",e).eq("is_active",!0);f(lt||[])}c(Ee);const Ge=X&&Ce.organizer_id===X,Be=ne&&["super_admin","admin","secretary"].includes(ne);if(Ge||Be||Ce.event_type!=="protected")console.log("Access granted: Owner/Admin/Public"),N(!0);else if(X){console.log("Checking protected access for user:",X);const{data:st,error:lt}=await Je.from("protected_event_access").select("status, expires_at").eq("event_id",e).eq("user_id",X).eq("status","active").gt("expires_at",new Date().toISOString()).maybeSingle();lt&&lt.code!=="PGRST116"&&console.error("Error checking access:",lt),console.log("Access data found:",st),N(!!st)}else console.log("Access denied: User not logged in or no access"),N(!1)}catch(Ce){console.error("Error fetching event:",Ce),o(null)}finally{g(!1)}}},[e,X,ne]);A.useEffect(()=>{de()},[de]);const le=a&&(i==null?void 0:i.organizer_id)===a.id;A.useEffect(()=>{le&&(i==null?void 0:i.event_type)==="stand_rental"&&(async()=>{ae(Ne=>({...Ne,loading:!0}));try{const{count:Ne}=await Je.from("stand_rentals").select("*",{count:"exact",head:!0}).in("stand_event_id",(await Je.from("stand_events").select("id").eq("event_id",i.id)).data.map(lt=>lt.id)).eq("status","confirmed"),{data:Ee}=await Je.from("organizer_earnings").select("earnings_coins, platform_commission, amount_pi").eq("event_id",i.id).eq("transaction_type","stand_rental"),Ge=(Ee==null?void 0:Ee.reduce((lt,Me)=>lt+(Me.amount_pi||0),0))||0,Be=(Ee==null?void 0:Ee.reduce((lt,Me)=>lt+(Me.earnings_coins||0),0))||0,st=(Ee==null?void 0:Ee.reduce((lt,Me)=>lt+(Me.platform_commission||0),0))||0;ae({total_rented:Ne||0,gross_revenue:Ge,organizer_net:Be,platform_fee:st,loading:!1})}catch(Ne){console.error("Failed to fetch stand stats",Ne),ae(Ee=>({...Ee,loading:!1}))}})()},[le,i]);const xe=()=>{de(),n&&n()},Se=async()=>{if(!(!a||!i)&&!M){console.log("Executing unlock for event:",i.id),B(!0);try{const{data:Ce,error:Ne}=await Je.rpc("access_protected_event",{p_event_id:i.id,p_user_id:a.id});if(Ne)throw console.error("RPC Error:",Ne),Ne;if(console.log("RPC Success:",Ce),!Ce.success)throw new Error(Ce.message);ot({title:"Succs !",description:"L'vnement a t dbloqu. Bonne visite !",className:"bg-green-600 text-white"}),N(!0),xe()}catch(Ce){console.error("Unlock failed:",Ce),Ce.message&&Ce.message.includes("Solde insuffisant")?j(!0):ot({title:"Erreur",description:Ce.message||"Une erreur est survenue lors du dblocage.",variant:"destructive"})}finally{O({isOpen:!1,type:null,cost:0,breakdown:null,action:null}),B(!1)}}},ye=async()=>{if(i){J(!0);try{if(i.cover_image){const Ne=S7(i.cover_image);Ne&&await Je.storage.from(Ne.bucket).remove([Ne.path])}const{error:Ce}=await Je.rpc("delete_event_completely",{p_event_id:i.id});if(Ce)throw Ce;ot({title:"Succs",description:"vnement supprim avec succs."}),t("/events")}catch{ot({title:"Erreur",description:"Impossible de supprimer l'vnement.",variant:"destructive"})}finally{J(!1),H(!1)}}},ee=async()=>{if(!a){t("/auth");return}console.log("Unlock button clicked for event:",i.id);const Ce=2,Ne=await Yl.getWalletBalances(a.id);if(console.log("User balances:",Ne),Ne.total<Ce){console.log("Insufficient balance"),j(!0);return}const Ee=Math.min(Ne.free_coin_balance,Ce),Ge=Ce-Ee;console.log("Opening confirmation dialog"),O({isOpen:!0,type:"Dbloquer cet vnement",cost:Ce,breakdown:{free:Ee,paid:Ge},action:Se})},he=async Ce=>{Ce.preventDefault(),T.action&&await T.action()},se=()=>{t("/verify-ticket")},te=async()=>{if(!i)return;const Ce={title:i.title,text:i.description?i.description.substring(0,100)+"...":`Dcouvrez ${i.title}`,url:window.location.href};try{navigator.share?await navigator.share(Ce):(await navigator.clipboard.writeText(window.location.href),ot({title:"Lien copi",description:"Lien copi dans le presse-papier."}))}catch(Ne){console.log("Error sharing:",Ne)}};if(h)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(Jt,{className:"w-12 h-12 animate-spin text-primary"})});if(!i)return s.jsx("div",{className:"min-h-screen bg-background text-center p-8",children:s.jsx("h1",{className:"text-2xl text-red-500",children:"vnement non trouv"})});const ge=i.cover_image||"https://images.unsplash.com/photo-1509930854872-0f61005b282e",ue=le||r&&["super_admin","admin","secretary"].includes(r.user_type);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(O6,{pageData:{title:i.title,description:i.description,ogImage:ge}}),s.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[s.jsxs(Ue,{variant:"ghost",onClick:()=>t(-1),children:[s.jsx(_u,{className:"w-4 h-4 mr-2"}),"Retour"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ue,{variant:"outline",size:"sm",onClick:te,children:[s.jsx(b1,{className:"w-4 h-4 mr-2"}),"Partager"]}),ue&&s.jsxs(Ue,{variant:"destructive",size:"sm",onClick:()=>H(!0),children:[s.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"relative rounded-lg overflow-hidden shadow-lg group",children:[s.jsx("img",{className:"w-full h-64 md:h-96 object-cover transition-transform duration-700 group-hover:scale-105",alt:i.title,src:ge}),!p&&s.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center backdrop-blur-sm p-6 text-center",children:[s.jsx(R0,{className:"w-16 h-16 text-primary mb-4 animate-bounce"}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Contenu Verrouill"}),s.jsx("p",{className:"text-gray-200 mb-6 max-w-md",children:"Cet vnement est protg. Dbloquez-le pour accder aux dtails."}),s.jsxs(Ue,{onClick:ee,size:"lg",className:"bg-yellow-500 text-black hover:bg-yellow-400 font-bold shadow-lg transform hover:scale-105 transition-all",children:[s.jsx(za,{className:"mr-2 h-5 w-5"})," Dbloquer (2)"]})]})]}),p&&i.event_date&&s.jsx("div",{className:"flex justify-center mt-4",children:s.jsx(aoe,{eventDate:i.event_date,showMotivation:!0,size:"large",className:"justify-center"})}),p?s.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s.jsx(qt,{className:"border-none shadow-md overflow-hidden",children:s.jsxs(Xt,{className:"p-8",children:[s.jsx("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-6",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-primary to-purple-600",children:i.title}),s.jsxs("div",{className:"flex flex-wrap gap-3 text-muted-foreground mt-3",children:[s.jsxs(Vr,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(oo,{className:"w-3 h-3"})," ",new Date(i.event_date).toLocaleDateString()]}),s.jsxs(Vr,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(Eo,{className:"w-3 h-3"})," ",i.city,", ",i.country]})]})]})}),s.jsx(J9e,{description:i.description})]})}),i.event_type==="voting"&&s.jsx(X9e,{event:i,isUnlocked:p,onRefresh:xe}),i.event_type==="raffle"&&s.jsx(W9e,{raffleData:l,eventId:i.id,isUnlocked:p,onPurchaseSuccess:xe}),i.event_type==="stand_rental"&&s.jsx(H9e,{event:i,isUnlocked:p,onRefresh:xe}),i.event_type==="ticketing"&&s.jsx("div",{id:"tickets-section",className:"scroll-mt-20",children:s.jsx(q9e,{event:i,ticketingData:l,ticketTypes:u,isUnlocked:p,onRefresh:xe})})]}):s.jsx(qt,{className:"border-dashed border-2 border-muted",children:s.jsx(Xt,{className:"p-12 text-center text-muted-foreground",children:s.jsx("p",{children:"Dbloquez l'vnement pour voir le programme complet."})})})]}),s.jsxs("div",{className:"space-y-6",children:[le&&i.event_type==="ticketing"&&s.jsxs(qt,{className:"border-primary/50 bg-primary/5 shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-primary/10 p-3 border-b border-primary/20 flex items-center justify-between",children:s.jsxs("h3",{className:"font-bold text-primary flex items-center gap-2",children:[s.jsx(R0,{className:"w-4 h-4"})," Espace Organisateur"]})}),s.jsxs(Xt,{className:"p-4 space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Grez les entres pour cet vnement."}),s.jsxs(Ue,{onClick:se,className:"w-full font-bold",size:"lg",children:[s.jsx(U7,{className:"w-5 h-5 mr-2"})," Scanner Billets"]}),s.jsxs(Ue,{onClick:()=>G(!0),variant:"outline",className:"w-full",children:[s.jsx(T7,{className:"w-4 h-4 mr-2"})," Statistiques Entres"]})]})]}),le&&i.event_type==="stand_rental"&&s.jsxs(qt,{className:"border-blue-500/50 bg-blue-50/10 shadow-lg overflow-hidden animate-in fade-in",children:[s.jsx("div",{className:"bg-blue-500/10 p-3 border-b border-blue-500/20",children:s.jsxs("h3",{className:"font-bold text-blue-700 flex items-center gap-2",children:[s.jsx(Cd,{className:"w-4 h-4"})," Tableau de bord Stands"]})}),s.jsx(Xt,{className:"p-4 space-y-4",children:re.loading?s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(Jt,{className:"animate-spin text-blue-500"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Stands Lous"}),s.jsx(Vr,{variant:"outline",className:"bg-blue-100 text-blue-700 border-blue-200 text-lg px-3",children:re.total_rented})]}),s.jsxs("div",{className:"space-y-2 pt-2 border-t border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Revenus Bruts"}),s.jsxs("span",{className:"font-medium",children:[re.gross_revenue," "]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-red-500 flex items-center gap-1",children:[s.jsx(d_e,{className:"w-3 h-3"})," Frais (5%)"]}),s.jsxs("span",{className:"text-red-500",children:["-",re.platform_fee," "]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-dashed border-gray-200",children:[s.jsx("span",{className:"font-bold text-green-700",children:"Vos Gains Nets (95%)"}),s.jsxs("span",{className:"font-bold text-xl text-green-700",children:[re.organizer_net," "]})]})]})]})})]}),s.jsx(j9e,{event:i,isUnlocked:p}),i.organizer&&s.jsx(qt,{children:s.jsxs(Xt,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Organis par"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:i.organizer.full_name.charAt(0)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:i.organizer.full_name}),i.contact_phone&&s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(D5,{className:"w-3 h-3"})," ",i.contact_phone]})]})]})]})})]})]})]}),s.jsx(W0,{isOpen:C,onClose:()=>j(!1),onProceed:()=>{j(!1),S(!0)}}),s.jsx(P6,{isOpen:b,onClose:()=>S(!1)}),s.jsx(hl,{open:T.isOpen,onOpenChange:Ce=>!Ce&&O({isOpen:!1,action:null}),children:s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:T.type}),s.jsx(el,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{children:["Cot total : ",s.jsxs("span",{className:"font-bold text-primary text-lg",children:[T.cost,""]})]}),T.breakdown&&s.jsxs("div",{className:"text-sm bg-muted p-3 rounded-md border border-border/50",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Dtail du paiement :"}),s.jsxs("ul",{className:"space-y-1",children:[T.breakdown.free>0&&s.jsxs("li",{className:"flex justify-between text-green-600 font-medium",children:[s.jsx("span",{children:" Pices gratuites :"}),s.jsxs("span",{children:["-",T.breakdown.free,""]})]}),T.breakdown.paid>0&&s.jsxs("li",{className:"flex justify-between text-blue-600 font-medium",children:[s.jsx("span",{children:" Pices achetes :"}),s.jsxs("span",{children:["-",T.breakdown.paid,""]})]})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2 flex items-center gap-1",children:[s.jsx(za,{className:"w-3 h-3"})," Le dblocage est dfinitif pour cet vnement."]})]})})]}),s.jsxs(ml,{children:[s.jsx(gl,{children:"Annuler"}),s.jsx(pl,{onClick:he,disabled:M,className:"bg-primary",children:M?s.jsx(Jt,{className:"animate-spin mr-2"}):"Confirmer"})]})]})}),s.jsx(hl,{open:L,onOpenChange:H,children:s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{className:"text-destructive",children:"Supprimer dfinitivement ?"}),s.jsx(el,{children:"tes-vous sr de vouloir supprimer cet vnement ? Cette action est irrversible."})]}),s.jsxs(ml,{children:[s.jsx(gl,{disabled:U,children:"Annuler"}),s.jsxs(pl,{onClick:ye,className:"bg-destructive hover:bg-destructive/90",disabled:U,children:[U?s.jsx(Jt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})]})}),s.jsx(Z9e,{isOpen:K,onClose:()=>G(!1),eventId:i==null?void 0:i.id,organizerId:a==null?void 0:a.id})]})},eBe=({userToEdit:e,onSave:t,onCancel:r})=>{const{toast:n}=qs(),{user:a}=bn(),[i,o]=A.useState({full_name:"",email:"",phone:"",user_type:"user",country:"",city:""}),[l,c]=A.useState(!1);A.useEffect(()=>{e&&o({full_name:e.full_name||"",email:e.email||"",phone:e.phone||"",user_type:e.user_type||"user",country:e.country||"",city:e.city||""})},[e]);const u=h=>o(g=>({...g,[h.target.name]:h.target.value})),f=async h=>{h.preventDefault(),c(!0);try{if(e){const{error:g}=await Je.rpc("update_user_role_securely",{p_user_id:e.id,p_new_role:i.user_type,p_caller_id:a.id});if(g)throw g;const{error:p}=await Je.from("profiles").update({full_name:i.full_name,phone:i.phone,country:i.country,city:i.city}).eq("id",e.id);if(p)throw p}else throw new Error("La cration directe d'utilisateur n'est pas supporte depuis cette interface.");n({title:"Succs",description:"Utilisateur mis  jour avec succs."}),t()}catch(g){n({title:"Erreur",description:g.message,variant:"destructive"})}finally{c(!1)}};return s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsx(er,{name:"full_name",placeholder:"Nom complet",value:i.full_name,onChange:u,required:!0}),s.jsx(er,{name:"email",type:"email",placeholder:"Email",value:i.email,onChange:u,required:!0,disabled:!!e}),s.jsx(er,{name:"phone",placeholder:"Tlphone",value:i.phone,onChange:u}),s.jsxs(Ai,{name:"user_type",value:i.user_type,onValueChange:h=>o(g=>({...g,user_type:h})),children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Type d'utilisateur"})}),s.jsxs(yi,{children:[s.jsx(on,{value:"user",children:"Utilisateur"}),s.jsx(on,{value:"organizer",children:"Organisateur"}),s.jsx(on,{value:"admin",children:"Admin"}),s.jsx(on,{value:"secretary",children:"Secrtaire"})]})]}),s.jsx(er,{name:"country",placeholder:"Pays",value:i.country,onChange:u}),s.jsx(er,{name:"city",placeholder:"Ville",value:i.city,onChange:u}),s.jsxs(Jc,{children:[s.jsx(Ue,{type:"button",variant:"outline",onClick:r,children:"Annuler"}),s.jsx(Ue,{type:"submit",disabled:l,children:l?s.jsx(Jt,{className:"animate-spin"}):"Mettre  jour"})]})]})},Vq=({onRefresh:e})=>{const{toast:t}=qs(),{userProfile:r}=ai(),{invokeFunction:n}=bn(),[a,i]=A.useState("users"),[o,l]=A.useState([]),[c,u]=A.useState(!0),[f,h]=A.useState(""),[g,p]=A.useState(!1),[N,b]=A.useState(null),[S,C]=A.useState(!1),[j,T]=A.useState(null),[O,M]=A.useState(!1),[B,L]=A.useState({page:0,size:20}),[H,U]=A.useState(0),[J,K]=A.useState({user_type:"all"}),[G,re]=A.useState(null),[ae,X]=A.useState([]),[ne,de]=A.useState(!1),[le,xe]=A.useState(null),[Se,ye]=A.useState(!1),[ee,he]=A.useState(null),[se,te]=A.useState(""),[ge,ue]=A.useState(!1),[Ce,Ne]=A.useState(!1),Ee=(r==null?void 0:r.user_type)==="super_admin",Ge=A.useCallback(async()=>{u(!0);let ct=Je.from("profiles").select("*",{count:"exact"});f&&(ct=ct.or(`full_name.ilike.%${f}%,email.ilike.%${f}%,affiliate_code.ilike.%${f}%`)),J.user_type!=="all"&&(ct=ct.eq("user_type",J.user_type));const{data:Ar,error:jr,count:tn}=await ct.order("created_at",{ascending:!1}).range(B.page*B.size,(B.page+1)*B.size-1);jr?(console.error("Fetch users error:",jr),t({title:"Erreur",description:"Impossible de charger les utilisateurs",variant:"destructive"})):(l(Ar||[]),U(tn||0)),u(!1)},[f,J,B,t]),Be=A.useCallback(async()=>{de(!0);try{const{data:ct,error:Ar}=await Je.from("reactivation_requests").select(`
                *,
                user:user_id (id, full_name, email, avatar_url, user_type)
            `).eq("status","pending").order("created_at",{ascending:!1});if(Ar)throw Ar;X(ct||[])}catch(ct){console.error("Fetch requests error:",ct),t({title:"Erreur",description:"Impossible de charger les demandes",variant:"destructive"})}finally{de(!1)}},[t]);A.useEffect(()=>{Ge(),Be()},[Ge,Be]);const st=()=>{p(!1),Ge(),e&&e()},lt=async ct=>{if(ct.user_type==="super_admin"){t({title:"Action interdite",description:"Le Super Admin ne peut pas tre dsactiv.",variant:"destructive"});return}try{C(!0);const Ar=!ct.is_active,{error:jr}=await Je.from("profiles").update({is_active:Ar}).eq("id",ct.id);if(jr)throw jr;t({title:Ar?"Utilisateur ractiv":"Utilisateur dsactiv",description:`Le compte de ${ct.full_name||ct.email} est maintenant ${Ar?"actif":"inactif"}.`,variant:Ar?"success":"destructive"}),Ge()}catch(Ar){console.error("Toggle status error:",Ar),t({title:"Erreur",description:Ar.message,variant:"destructive"})}finally{C(!1)}},Me=async()=>{if(j){if((r==null?void 0:r.user_type)!=="super_admin"){t({title:"Non autoris",description:"Seul le Super Admin peut supprimer un utilisateur.",variant:"destructive"});return}M(!0);try{const{error:ct}=await Je.rpc("delete_user_securely",{p_user_id:j.id,p_caller_id:r.id});if(ct)throw ct;t({title:"Succs",description:"Utilisateur supprim dfinitivement."}),Ge(),T(null)}catch(ct){console.error("Delete error:",ct),t({title:"Erreur",description:ct.message,variant:"destructive"})}finally{M(!1)}}},wt=async(ct,Ar,jr)=>{xe(ct);try{if(jr==="approve"){const{error:tn}=await Je.from("profiles").update({is_active:!0}).eq("id",Ar);if(tn)throw tn;const{error:ha}=await Je.from("reactivation_requests").update({status:"approved",reviewed_by:r.id,reviewed_at:new Date().toISOString()}).eq("id",ct);if(ha)throw ha;t({title:"Approuv",description:"Utilisateur ractiv avec succs.",variant:"success"})}else{const{error:tn}=await Je.from("reactivation_requests").update({status:"rejected",reviewed_by:r.id,reviewed_at:new Date().toISOString()}).eq("id",ct);if(tn)throw tn;t({title:"Rejet",description:"Demande de ractivation rejete."})}Be(),Ge()}catch(tn){console.error("Request action error:",tn),t({title:"Erreur",description:tn.message,variant:"destructive"})}finally{xe(null)}},_t=ct=>{he(ct),te("000000"),ye(!0)},ar=async()=>{if(!(!ee||!se)){Ne(!0);try{console.log("Invoking admin-reset-password for user:",ee.id);const{data:ct,error:Ar}=await n("admin-reset-password",{body:JSON.stringify({userId:ee.id,newPassword:se})});if(Ar)throw console.error("Invoke function returned error:",Ar),Ar;if(ct&&ct.error)throw console.error("Function data contained error:",ct.error),new Error(ct.error);t({title:"Mot de passe rinitialis",description:`Le mot de passe de ${ee.full_name||ee.email} a t dfini sur : ${se}. L'email de l'utilisateur a galement t confirm.`,variant:"success",duration:1e4}),ye(!1)}catch(ct){console.error("Reset password error catch:",ct),t({title:"Erreur technique",description:ct.message||"Impossible de joindre le serveur. Vrifiez votre connexion ou ressayez.",variant:"destructive"})}finally{Ne(!1)}}},Tt=ct=>{ct&&(navigator.clipboard.writeText(ct),t({title:"Copi",description:"Code copi"}))},sn=Math.ceil(H/B.size);return s.jsxs("div",{children:[G&&s.jsx(rL,{user:G,onRevert:()=>window.location.reload()}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Gestion des Utilisateurs"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>{Ge(),Be()},children:[s.jsx(qc,{className:`h-4 w-4 mr-2 ${c||ne?"animate-spin":""}`}),"Actualiser"]})})]}),s.jsxs(H0,{value:a,onValueChange:i,className:"w-full",children:[s.jsxs(Hh,{className:"grid w-full grid-cols-2 lg:w-[400px] mb-4",children:[s.jsxs(Gn,{value:"users",children:["Utilisateurs",s.jsx(Vr,{variant:"secondary",className:"ml-2 text-xs",children:H})]}),s.jsxs(Gn,{value:"requests",className:"relative",children:["Demandes Ractivation",ae.length>0&&s.jsx(Vr,{variant:"destructive",className:"ml-2 text-xs animate-pulse",children:ae.length})]})]}),s.jsxs(Kn,{value:"users",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[s.jsx(er,{placeholder:"Rechercher (nom, email, code)...",value:f,onChange:ct=>h(ct.target.value),className:"max-w-sm"}),s.jsxs(Ai,{value:J.user_type,onValueChange:ct=>K({user_type:ct}),children:[s.jsx(vi,{className:"w-[180px]",children:s.jsx(Ei,{placeholder:"Rle"})}),s.jsxs(yi,{children:[s.jsx(on,{value:"all",children:"Tous"}),s.jsx(on,{value:"user",children:"Utilisateur"}),s.jsx(on,{value:"organizer",children:"Organisateur"}),s.jsx(on,{value:"admin",children:"Admin"}),s.jsx(on,{value:"secretary",children:"Secrtaire"})]})]})]}),s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(cf,{children:[s.jsx(uf,{children:s.jsxs(pi,{children:[s.jsx(Sn,{children:"Utilisateur"}),s.jsx(Sn,{children:"Statut"}),s.jsx(Sn,{children:"Rle"}),s.jsx(Sn,{children:"Code Parrainage"}),s.jsx(Sn,{children:"Filleuls"}),s.jsx(Sn,{children:"Date d'inscription"}),s.jsx(Sn,{className:"text-right",children:"Actions"})]})}),s.jsx(df,{children:c&&o.length===0?s.jsx(pi,{children:s.jsx(rn,{colSpan:7,className:"h-24 text-center",children:s.jsx(Jt,{className:"mx-auto h-6 w-6 animate-spin"})})}):o.length===0?s.jsx(pi,{children:s.jsx(rn,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:"Aucun utilisateur trouv."})}):o.map(ct=>s.jsxs(pi,{children:[s.jsxs(rn,{children:[s.jsx("div",{className:"font-medium",children:ct.full_name||"Sans nom"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:ct.email}),s.jsxs("div",{className:"text-xs text-muted-foreground flex gap-1 items-center",children:[ct.country," ",ct.city&&` ${ct.city}`]})]}),s.jsx(rn,{children:s.jsx(Vr,{variant:ct.is_active?"success":"destructive",className:"text-[10px]",children:ct.is_active?"Actif":"Inactif"})}),s.jsx(rn,{children:s.jsxs(Vr,{variant:ct.user_type==="super_admin"?"destructive":"outline",className:"gap-1",children:[ct.user_type,ct.admin_type&&` (${ct.admin_type})`]})}),s.jsx(rn,{children:ct.affiliate_code?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs font-mono",children:ct.affiliate_code}),s.jsx(Ue,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Tt(ct.affiliate_code),children:s.jsx(dy,{className:"h-3 w-3"})})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Non gnr"})}),s.jsx(rn,{children:s.jsx("div",{className:"flex items-center gap-1",children:s.jsx("span",{className:"font-bold",children:ct.referral_count||0})})}),s.jsx(rn,{className:"text-xs text-muted-foreground",children:new Date(ct.created_at).toLocaleDateString()}),s.jsx(rn,{className:"text-right",children:s.jsxs(q5,{children:[s.jsx(G5,{asChild:!0,children:s.jsx(Ue,{variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(Hte,{className:"h-4 w-4"})})}),s.jsxs(vb,{align:"end",children:[s.jsx(K5,{children:"Actions"}),s.jsx(E1,{}),s.jsxs(md,{onClick:()=>{b(ct),p(!0)},children:[s.jsx(f4,{className:"mr-2 h-4 w-4"})," Modifier"]}),Ee&&s.jsxs(md,{onClick:()=>_t(ct),children:[s.jsx(r_e,{className:"mr-2 h-4 w-4"})," Rinit. mot de passe"]}),s.jsx(md,{onClick:()=>lt(ct),disabled:S||ct.user_type==="super_admin",children:ct.is_active?s.jsxs(s.Fragment,{children:[s.jsx(Mte,{className:"mr-2 h-4 w-4 text-orange-500"}),s.jsx("span",{className:"text-orange-500",children:"Dsactiver"})]}):s.jsxs(s.Fragment,{children:[s.jsx(jl,{className:"mr-2 h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-green-500",children:"Ractiver"})]})}),Ee&&s.jsxs(s.Fragment,{children:[s.jsx(E1,{}),s.jsxs(md,{className:"text-red-600 focus:text-red-600 focus:bg-red-100 dark:focus:bg-red-900/20",onClick:()=>T(ct),disabled:ct.user_type==="super_admin",children:[s.jsx(Yo,{className:"mr-2 h-4 w-4"})," Supprimer"]})]})]})]})})]},ct.id))})]})}),s.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[s.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>L(ct=>({...ct,page:Math.max(0,ct.page-1)})),disabled:B.page===0,children:"Prcdent"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",B.page+1," sur ",sn||1]}),s.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>L(ct=>({...ct,page:Math.min(sn-1,ct.page+1)})),disabled:B.page>=sn-1,children:"Suivant"})]})]}),s.jsx(Kn,{value:"requests",children:s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(cf,{children:[s.jsx(uf,{children:s.jsxs(pi,{children:[s.jsx(Sn,{children:"Utilisateur"}),s.jsx(Sn,{children:"Message / Motif"}),s.jsx(Sn,{children:"Date de la demande"}),s.jsx(Sn,{className:"text-right",children:"Actions"})]})}),s.jsx(df,{children:ne?s.jsx(pi,{children:s.jsx(rn,{colSpan:4,className:"h-24 text-center",children:s.jsx(Jt,{className:"mx-auto h-6 w-6 animate-spin"})})}):ae.length===0?s.jsx(pi,{children:s.jsx(rn,{colSpan:4,className:"h-24 text-center text-muted-foreground",children:"Aucune demande de ractivation en attente."})}):ae.map(ct=>{var Ar,jr,tn;return s.jsxs(pi,{children:[s.jsxs(rn,{children:[s.jsx("div",{className:"font-medium",children:((Ar=ct.user)==null?void 0:Ar.full_name)||"Inconnu"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:(jr=ct.user)==null?void 0:jr.email}),s.jsx(Vr,{variant:"outline",className:"mt-1",children:(tn=ct.user)==null?void 0:tn.user_type})]}),s.jsx(rn,{className:"max-w-[300px]",children:s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsx(d4,{className:"h-4 w-4 mt-1 text-muted-foreground shrink-0"}),s.jsxs("span",{className:"text-sm italic text-muted-foreground",children:['"',ct.request_message||"Pas de message",'"']})]})}),s.jsx(rn,{className:"text-sm text-muted-foreground",children:mi(new Date(ct.created_at),"dd MMM yyyy HH:mm",{locale:Vc})}),s.jsx(rn,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(Ue,{size:"sm",variant:"outline",className:"text-green-600 border-green-200 hover:bg-green-50 hover:text-green-700",onClick:()=>wt(ct.id,ct.user_id,"approve"),disabled:!!le,children:[le===ct.id?s.jsx(Jt,{className:"h-4 w-4 animate-spin"}):s.jsx(my,{className:"h-4 w-4 mr-1"}),"Approuver"]}),s.jsxs(Ue,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50 hover:text-red-700",onClick:()=>wt(ct.id,ct.user_id,"reject"),disabled:!!le,children:[le===ct.id?s.jsx(Jt,{className:"h-4 w-4 animate-spin"}):s.jsx(Dj,{className:"h-4 w-4 mr-1"}),"Rejeter"]})]})})]},ct.id)})})]})})})]}),s.jsx(To,{open:g,onOpenChange:p,children:s.jsxs(xo,{children:[s.jsx(ko,{children:s.jsxs(Po,{children:[N?"Modifier":"Crer"," un utilisateur"]})}),s.jsx(eBe,{userToEdit:N,onSave:st,onCancel:()=>p(!1)})]})}),s.jsx(hl,{open:!!j,onOpenChange:ct=>!ct&&T(null),children:s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsxs(Qo,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(Kc,{className:"h-5 w-5"}),"Confirmer la suppression"]}),s.jsxs(el,{children:["tes-vous sr de vouloir supprimer l'utilisateur ",s.jsx("strong",{children:(j==null?void 0:j.full_name)||(j==null?void 0:j.email)})," ?",s.jsx("br",{}),s.jsx("br",{}),"Cette action est irrversible et supprimera toutes les donnes associes (transactions, vnements, etc.)."]})]}),s.jsxs(ml,{children:[s.jsx(gl,{disabled:O,children:"Annuler"}),s.jsxs(pl,{onClick:Me,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",disabled:O,children:[O?s.jsx(Jt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Yo,{className:"h-4 w-4 mr-2"}),"Supprimer dfinitivement"]})]})]})}),s.jsx(To,{open:Se,onOpenChange:ye,children:s.jsxs(xo,{children:[s.jsxs(ko,{children:[s.jsx(Po,{children:"Rinitialiser le mot de passe"}),s.jsxs(dl,{children:["Dfinissez un mot de passe temporaire pour ",s.jsx("strong",{children:(ee==null?void 0:ee.full_name)||(ee==null?void 0:ee.email)}),"."]})]}),s.jsxs("div",{className:"py-4 space-y-4",children:[s.jsxs("div",{className:"flex gap-2 relative",children:[s.jsx(er,{value:se,onChange:ct=>te(ct.target.value),placeholder:"Nouveau mot de passe",type:ge?"text":"password"}),s.jsx("button",{type:"button",onClick:()=>ue(!ge),className:"absolute right-24 top-1/2 -translate-y-1/2 text-muted-foreground px-2",children:ge?s.jsx(Ute,{className:"h-4 w-4"}):s.jsx(Xm,{className:"h-4 w-4"})}),s.jsx(Ue,{variant:"outline",onClick:()=>te("Temp"+Math.floor(1e3+Math.random()*9e3)+"!"),children:"Gnrer"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(Ue,{variant:"secondary",size:"sm",className:"w-full",onClick:()=>Tt(se),disabled:!se,children:[s.jsx(dy,{className:"h-3 w-3 mr-2"})," Copier le mot de passe"]})}),s.jsxs("div",{className:"text-xs text-muted-foreground p-3 bg-muted/50 rounded-md",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Important :"}),s.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[s.jsxs("li",{children:["Le mot de passe par dfaut est ",s.jsx("strong",{children:"000000"})]}),s.jsx("li",{children:"Communiquez ce mot de passe  l'utilisateur de manire scurise."}),s.jsx("li",{children:"L'email de l'utilisateur sera automatiquement marqu comme confirm."})]})]})]}),s.jsxs(Jc,{children:[s.jsx(Ue,{variant:"outline",onClick:()=>ye(!1),children:"Annuler"}),s.jsx(Ue,{onClick:ar,disabled:Ce,children:Ce?s.jsx(Jt,{className:"h-4 w-4 animate-spin"}):"Confirmer la rinitialisation"})]})]})})]})},tBe=({open:e,onOpenChange:t,onSuccess:r})=>{const{user:n}=bn(),{toast:a}=qs(),[i,o]=A.useState(!1),[l,c]=A.useState(""),[u,f]=A.useState(0),[h,g]=A.useState("selection"),[p,N]=A.useState({transactions:!1,revenues:!1,tickets:!1,balances:!1}),[b,S]=A.useState(null),C=()=>{g("selection"),f(0),c(""),N({transactions:!1,revenues:!1,tickets:!1,balances:!1}),S(null),t(!1)},j=U=>{N(J=>({...J,[U]:!J[U]}))},T=()=>{const U=Object.values(p).every(Boolean);N({transactions:!U,revenues:!U,tickets:!U,balances:!U})},O=Object.values(p).filter(Boolean).length,M=l==="SUPPRIMER",B=()=>{O!==0&&g("confirmation")},L=async()=>{if(n){console.log("Reset initiated:",p),o(!0),g("processing"),f(10);try{const U=setInterval(()=>{f(G=>G>=90?90:G+10)},300),{data:J,error:K}=await Je.rpc("reset_selective_data",{p_admin_id:n.id,p_reset_transactions:p.transactions,p_reset_revenues:p.revenues,p_reset_tickets:p.tickets,p_reset_balances:p.balances});if(clearInterval(U),f(100),K)throw K;if(J&&!J.success)throw new Error(J.message);console.log("Reset completed successfully",J),J.counts&&S(J.counts),g("success"),a({title:"Rinitialisation russie",description:"Les donnes slectionnes ont t supprimes.",variant:"success"}),r&&r()}catch(U){console.error("Reset error:",U),g("selection"),f(0),a({title:"Erreur critique",description:U.message||"Impossible de rinitialiser les donnes.",variant:"destructive"})}finally{o(!1)}}},H=()=>{const U=[];return p.tickets&&U.push("Billets & Participations"),p.revenues&&U.push("Revenus & Gains"),p.transactions&&U.push("Historique Transactions"),p.balances&&U.push("Soldes Utilisateurs"),U};return s.jsx(To,{open:e,onOpenChange:U=>!i&&(U?null:C()),children:s.jsxs(xo,{className:"sm:max-w-[550px] border-destructive/20",children:[s.jsxs(ko,{children:[s.jsxs(Po,{className:"text-destructive flex items-center gap-2 text-xl",children:[s.jsx(Kc,{className:"h-6 w-6"}),"Nettoyage Slectif des Donnes"]}),s.jsxs(dl,{className:"text-base",children:["Slectionnez les catgories de donnes  supprimer dfinitivement. Cette action est ",s.jsx("strong",{className:"text-destructive",children:"IRRVERSIBLE"}),"."]})]}),h==="selection"&&s.jsxs("div",{className:"space-y-6 py-2",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[O," catgories slectionnes"]}),s.jsxs(Ue,{variant:"ghost",size:"sm",onClick:T,className:"h-8 text-xs",children:[s.jsx(i_e,{className:"w-3 h-3 mr-2"}),O===4?"Tout dslectionner":"Tout slectionner"]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsx(qt,{className:`p-4 border-l-4 cursor-pointer transition-all hover:bg-accent/50 ${p.tickets?"border-l-destructive bg-destructive/5":"border-l-transparent"}`,onClick:()=>j("tickets"),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(zu,{checked:p.tickets,onCheckedChange:()=>j("tickets")}),s.jsxs("div",{children:[s.jsx(jt,{className:"font-bold cursor-pointer",children:"Billets, Votes & Participations"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supprime tous les tickets, scans, votes, participations et remet  zro les compteurs d'vnements."})]})]})}),s.jsx(qt,{className:`p-4 border-l-4 cursor-pointer transition-all hover:bg-accent/50 ${p.revenues?"border-l-destructive bg-destructive/5":"border-l-transparent"}`,onClick:()=>j("revenues"),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(zu,{checked:p.revenues,onCheckedChange:()=>j("revenues")}),s.jsxs("div",{children:[s.jsx(jt,{className:"font-bold cursor-pointer",children:"Revenus & Gains"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supprime l'historique des gains organisateurs, les demandes de retrait et les commissions admin."})]})]})}),s.jsx(qt,{className:`p-4 border-l-4 cursor-pointer transition-all hover:bg-accent/50 ${p.transactions?"border-l-destructive bg-destructive/5":"border-l-transparent"}`,onClick:()=>j("transactions"),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(zu,{checked:p.transactions,onCheckedChange:()=>j("transactions")}),s.jsxs("div",{children:[s.jsx(jt,{className:"font-bold cursor-pointer",children:"Historique des Transactions"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supprime toutes les traces d'achats de pices, transferts et dpenses dans les logs."})]})]})}),s.jsx(qt,{className:`p-4 border-l-4 cursor-pointer transition-all hover:bg-accent/50 ${p.balances?"border-l-destructive bg-destructive/5":"border-l-transparent"}`,onClick:()=>j("balances"),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(zu,{checked:p.balances,onCheckedChange:()=>j("balances")}),s.jsxs("div",{children:[s.jsx(jt,{className:"font-bold cursor-pointer",children:"Soldes & Portefeuilles"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Remet  zro tous les soldes de pices utilisateurs et les portefeuilles organisateurs."})]})]})})]})]}),h==="confirmation"&&s.jsxs("div",{className:"space-y-6 py-4 animate-in fade-in slide-in-from-right-4",children:[s.jsxs("div",{className:"bg-destructive/10 p-4 rounded-lg border border-destructive/20",children:[s.jsxs("h4",{className:"font-bold text-destructive flex items-center gap-2 mb-2",children:[s.jsx(Kc,{className:"w-5 h-5"})," Attention Action Destructrice"]}),s.jsx("p",{className:"text-sm mb-2",children:"Vous tes sur le point de supprimer dfinitivement :"}),s.jsx("ul",{className:"list-disc list-inside text-sm space-y-1 mb-4 font-medium",children:H().map((U,J)=>s.jsx("li",{children:U},J))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Les utilisateurs et les vnements eux-mmes ne seront PAS supprims, seules leurs donnes associes le seront."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(jt,{className:"text-foreground font-semibold",children:["Pour confirmer, crivez ",s.jsx("span",{className:"text-destructive font-black",children:"SUPPRIMER"})," ci-dessous :"]}),s.jsx(er,{value:l,onChange:U=>c(U.target.value),className:"border-destructive focus-visible:ring-destructive font-mono tracking-wider",placeholder:"SUPPRIMER",autoFocus:!0})]})]}),h==="processing"&&s.jsxs("div",{className:"py-12 flex flex-col items-center justify-center space-y-6",children:[s.jsxs("div",{className:"relative w-24 h-24 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 border-4 border-muted rounded-full"}),s.jsx("div",{className:"absolute inset-0 border-4 border-destructive rounded-full border-t-transparent animate-spin",style:{animationDuration:"1s"}}),s.jsxs("span",{className:"font-bold text-xl",children:[u,"%"]})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Nettoyage en cours..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Veuillez ne pas fermer cette fentre."})]})]}),h==="success"&&s.jsxs("div",{className:"py-8 flex flex-col items-center justify-center space-y-6 text-center animate-in zoom-in-95 duration-300",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-2 shadow-lg",children:s.jsx(Vp,{className:"w-12 h-12 text-green-600"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-2xl font-bold text-green-700",children:"Nettoyage Termin !"}),s.jsx("p",{className:"text-muted-foreground",children:"La base de donnes a t mise  jour avec succs."})]}),b&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full bg-muted/30 p-4 rounded-lg text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Transactions:"})," ",s.jsx(Vr,{variant:"outline",children:b.transactions||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Revenus:"})," ",s.jsx(Vr,{variant:"outline",children:b.revenues||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tickets:"})," ",s.jsx(Vr,{variant:"outline",children:b.tickets||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Comptes Reset:"})," ",s.jsx(Vr,{variant:"outline",children:b.balances||0})]})]})]}),s.jsx(Jc,{className:"sm:justify-between gap-2 pt-4 border-t mt-2",children:h==="selection"?s.jsxs(s.Fragment,{children:[s.jsx(Ue,{variant:"outline",onClick:C,children:"Annuler"}),s.jsxs(Ue,{variant:"default",disabled:O===0,onClick:B,className:"w-full sm:w-auto",children:["Continuer (",O,")"]})]}):h==="confirmation"?s.jsxs(s.Fragment,{children:[s.jsx(Ue,{variant:"outline",onClick:()=>g("selection"),children:"Retour"}),s.jsxs(Ue,{variant:"destructive",disabled:!M,onClick:L,className:"bg-destructive hover:bg-destructive/90 w-full sm:w-auto shadow-lg hover:shadow-xl transition-all",children:[s.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Confirmer la suppression"]})]}):h==="success"?s.jsx(Ue,{className:"w-full bg-green-600 hover:bg-green-700 text-white",onClick:C,children:"Fermer et Actualiser"}):null})]})})},rBe=()=>{const{appSettings:e,loading:t,refreshData:r}=ai(),{user:n}=bn(),[a,i]=A.useState(null),[o,l]=A.useState(!1),[c,u]=A.useState(!1),[f,h]=A.useState(""),[g,p]=A.useState(!1),[N,b]=A.useState(!1),[S,C]=A.useState(null);A.useEffect(()=>{e&&(i(e),h(e.logo_url||"")),j()},[e]);const j=async()=>{try{const{data:L,error:H}=await Je.from("admin_logs").select("created_at").eq("action_type","reset_data").order("created_at",{ascending:!1}).limit(1).maybeSingle();L&&C(new Date(L.created_at))}catch(L){console.error("Failed to fetch reset log",L)}},T=async L=>{if(L){p(!0);try{const H=L.name.split(".").pop(),U=`public/logo-${Date.now()}.${H}`,{error:J}=await Je.storage.from("media").upload(U,L,{upsert:!0});if(J)throw J;const{data:{publicUrl:K}}=Je.storage.from("media").getPublicUrl(U);h(K),i(G=>({...G,logo_url:K})),ot({title:"Logo tlvers avec succs"})}catch(H){ot({title:"Erreur de tlversement",description:H.message,variant:"destructive"})}finally{p(!1)}}},O=async()=>{if(l(!0),!a)return;const{id:L,...H}=a,U={...H,coin_to_fcfa_rate:Number(H.coin_to_fcfa_rate)||10,min_withdrawal_pi:Number(H.min_withdrawal_pi)||50,commission_rate_starter:Number(H.commission_rate_starter)||20,commission_rate_business:Number(H.commission_rate_business)||30,commission_rate_premium:Number(H.commission_rate_premium)||40,platform_fee_percentage:Number(H.platform_fee_percentage)||5,currency_eur_rate:Number(H.currency_eur_rate)||.0015,currency_usd_rate:Number(H.currency_usd_rate)||.0016,logo_url:f};delete U.coin_packs,delete U.promotion_packs,delete U.created_at,delete U.updated_at,delete U.updated_by;try{let J;if(L){const{error:K}=await Je.from("app_settings").update(U).eq("id",L);J=K}else{const{error:K}=await Je.from("app_settings").insert([U]);J=K}if(J)throw J;ot({title:"Configuration mise  jour",description:"Les paramtres ont t sauvegards.",variant:"success"}),r&&r()}catch(J){console.error("Config save error:",J),ot({title:"Erreur lors de la mise  jour",description:J.message,variant:"destructive"})}finally{l(!1)}},M=async()=>{u(!0);try{const{data:L,error:H}=await Je.rpc("reset_application_data",{p_admin_id:n.id});if(H)throw H;if(L&&!L.success)throw new Error(L.message);ot({title:"Application Rinitialise !",description:L.message,duration:9e3}),window.location.reload()}catch(L){ot({title:"Erreur lors de la rinitialisation",description:L.message,variant:"destructive"})}finally{u(!1)}};if(t&&!a)return s.jsxs("div",{className:"flex flex-col justify-center items-center p-12 space-y-4",children:[s.jsx(Jt,{className:"w-10 h-10 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Chargement de la configuration..."})]});const B=(L,H)=>{i(U=>({...U,[L]:H}))};return s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs(qt,{className:"shadow-lg rounded-xl",children:[s.jsx(zr,{children:s.jsx(Wr,{children:"Configuration de la plateforme"})}),s.jsxs(Xt,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"logo",children:"Logo de la page d'accueil"}),s.jsxs("div",{className:"flex items-center gap-4",children:[f?s.jsx("img",{src:f,alt:"Logo actuel",className:"w-16 h-16 object-contain rounded-md bg-gray-100 p-1 border"}):s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-md flex items-center justify-center text-gray-400 border",children:s.jsx(vx,{className:"w-6 h-6"})}),s.jsx(er,{id:"logo",type:"file",onChange:L=>T(L.target.files[0]),className:"hidden"}),s.jsx(Ue,{asChild:!0,variant:"outline",children:s.jsxs(jt,{htmlFor:"logo",className:"cursor-pointer",children:[g?s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(vx,{className:"mr-2 h-4 w-4"}),"Changer le logo"]})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"platformFee",children:"Frais de plateforme sur les transactions (%)"}),s.jsx(er,{id:"platformFee",type:"number",value:(a==null?void 0:a.platform_fee_percentage)||5,onChange:L=>B("platform_fee_percentage",L.target.value)})]})]}),s.jsx("h3",{className:"text-lg font-semibold pt-4 border-t mt-6",children:"Valeurs Montaires"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Conversion Pices"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"1 Pice ="}),s.jsx(er,{type:"number",value:(a==null?void 0:a.coin_to_fcfa_rate)||10,onChange:L=>B("coin_to_fcfa_rate",L.target.value),className:"w-24"}),s.jsx("span",{children:"FCFA"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"minWithdrawal",children:"Retrait minimum (pices)"}),s.jsx(er,{id:"minWithdrawal",type:"number",value:(a==null?void 0:a.min_withdrawal_pi)||50,onChange:L=>B("min_withdrawal_pi",L.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"eurRate",children:"Taux EUR (pour 1 FCFA)"}),s.jsx(er,{id:"eurRate",type:"number",step:"0.0001",value:(a==null?void 0:a.currency_eur_rate)||.0015,onChange:L=>B("currency_eur_rate",L.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"usdRate",children:"Taux USD (pour 1 FCFA)"}),s.jsx(er,{id:"usdRate",type:"number",step:"0.0001",value:(a==null?void 0:a.currency_usd_rate)||.0016,onChange:L=>B("currency_usd_rate",L.target.value)})]})]}),s.jsx("h3",{className:"text-lg font-semibold pt-4 border-t mt-6",children:"Commissions Partenaires (%)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"commissionStarter",children:"Licence Starter"}),s.jsx(er,{id:"commissionStarter",type:"number",value:(a==null?void 0:a.commission_rate_starter)||20,onChange:L=>B("commission_rate_starter",L.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"commissionBusiness",children:"Licence Business"}),s.jsx(er,{id:"commissionBusiness",type:"number",value:(a==null?void 0:a.commission_rate_business)||30,onChange:L=>B("commission_rate_business",L.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"commissionPremium",children:"Licence Premium"}),s.jsx(er,{id:"commissionPremium",type:"number",value:(a==null?void 0:a.commission_rate_premium)||40,onChange:L=>B("commission_rate_premium",L.target.value)})]})]}),s.jsxs(Ue,{onClick:O,disabled:o||g,className:"w-full md:w-auto",children:[o?s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Sauvegarder la configuration"]})]})]}),s.jsxs(qt,{className:"border-orange-500/50 shadow-lg rounded-xl mt-8 bg-orange-500/5",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"flex items-center gap-2 text-orange-600",children:[s.jsx(Pj,{className:"h-5 w-5"})," Nettoyage des Donnes"]}),s.jsxs(Ya,{children:["Utile aprs une priode de test. Cela supprimera toutes les transactions et remettra  zro les compteurs, mais ",s.jsx("strong",{children:"gardera les utilisateurs et les vnements"}),"."]})]}),s.jsxs(Xt,{children:[S&&s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mb-4",children:[s.jsx(Yf,{className:"w-3 h-3"})," Dernier nettoyage : ",S.toLocaleString("fr-FR")]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Cette action est idale pour passer de la phase de test  la production sans devoir recrer tous les comptes et contenus."}),s.jsxs(Ue,{variant:"outline",className:"border-orange-500 text-orange-600 hover:bg-orange-500 hover:text-white",onClick:()=>b(!0),children:[s.jsx(m4,{className:"mr-2 h-4 w-4"}),"Nettoyer les Transactions & Donnes"]})]})]}),s.jsxs(qt,{className:"border-destructive shadow-lg rounded-xl mt-8 bg-destructive/5",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(Kc,{className:"h-5 w-5"})," Zone de danger absolue"]}),s.jsx(Ya,{children:"Suppression totale de l'application."})]}),s.jsxs(Xt,{children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Cette action supprimera ",s.jsx("strong",{children:"TOUT"})," : utilisateurs (sauf admins), vnements, configurations, historiques. L'application repartira de zro."]}),s.jsxs(hl,{children:[s.jsx(nL,{asChild:!0,children:s.jsx(Ue,{variant:"destructive",children:"Rinitialiser TOTALEMENT l'Application"})}),s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:"tes-vous absolument certain ?"}),s.jsxs(el,{children:["Cette action est ",s.jsx("strong",{children:"IRREVERSIBLE"}),". Elle supprimera dfinitivement toutes les donnes de l'application (utilisateurs, vnements, transactions, etc.)  l'exception des comptes administrateurs."]})]}),s.jsxs(ml,{children:[s.jsx(gl,{children:"Annuler"}),s.jsxs(pl,{onClick:M,disabled:c,className:"bg-destructive hover:bg-destructive/90",children:[c?s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Oui, TOUT supprimer"]})]})]})]})]})]}),s.jsx(tBe,{open:N,onOpenChange:b,onSuccess:()=>{j(),r&&r()}})]})};var nBe=Array.isArray,kd=nBe,aBe=typeof Vs=="object"&&Vs&&Vs.Object===Object&&Vs,Aue=aBe,iBe=Aue,sBe=typeof self=="object"&&self&&self.Object===Object&&self,oBe=iBe||sBe||Function("return this")(),Y0=oBe,lBe=Y0,cBe=lBe.Symbol,p3=cBe,Wq=p3,Eue=Object.prototype,uBe=Eue.hasOwnProperty,dBe=Eue.toString,Mw=Wq?Wq.toStringTag:void 0;function fBe(e){var t=uBe.call(e,Mw),r=e[Mw];try{e[Mw]=void 0;var n=!0}catch{}var a=dBe.call(e);return n&&(t?e[Mw]=r:delete e[Mw]),a}var hBe=fBe,mBe=Object.prototype,pBe=mBe.toString;function gBe(e){return pBe.call(e)}var xBe=gBe,Hq=p3,vBe=hBe,yBe=xBe,bBe="[object Null]",wBe="[object Undefined]",qq=Hq?Hq.toStringTag:void 0;function _Be(e){return e==null?e===void 0?wBe:bBe:qq&&qq in Object(e)?vBe(e):yBe(e)}var Jm=_Be;function NBe(e){return e!=null&&typeof e=="object"}var Qm=NBe,SBe=Jm,CBe=Qm,ABe="[object Symbol]";function EBe(e){return typeof e=="symbol"||CBe(e)&&SBe(e)==ABe}var Cb=EBe,jBe=kd,TBe=Cb,kBe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PBe=/^\w*$/;function OBe(e,t){if(jBe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||TBe(e)?!0:PBe.test(e)||!kBe.test(e)||t!=null&&e in Object(t)}var BL=OBe;function IBe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var H1=IBe;const Ab=ji(H1);var FBe=Jm,DBe=H1,RBe="[object AsyncFunction]",MBe="[object Function]",LBe="[object GeneratorFunction]",BBe="[object Proxy]";function UBe(e){if(!DBe(e))return!1;var t=FBe(e);return t==MBe||t==LBe||t==RBe||t==BBe}var UL=UBe;const ja=ji(UL);var $Be=Y0,zBe=$Be["__core-js_shared__"],VBe=zBe,NP=VBe,Gq=function(){var e=/[^.]+$/.exec(NP&&NP.keys&&NP.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function WBe(e){return!!Gq&&Gq in e}var HBe=WBe,qBe=Function.prototype,GBe=qBe.toString;function KBe(e){if(e!=null){try{return GBe.call(e)}catch{}try{return e+""}catch{}}return""}var jue=KBe,YBe=UL,XBe=HBe,ZBe=H1,JBe=jue,QBe=/[\\^$.*+?()[\]{}|]/g,eUe=/^\[object .+?Constructor\]$/,tUe=Function.prototype,rUe=Object.prototype,nUe=tUe.toString,aUe=rUe.hasOwnProperty,iUe=RegExp("^"+nUe.call(aUe).replace(QBe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sUe(e){if(!ZBe(e)||XBe(e))return!1;var t=YBe(e)?iUe:eUe;return t.test(JBe(e))}var oUe=sUe;function lUe(e,t){return e==null?void 0:e[t]}var cUe=lUe,uUe=oUe,dUe=cUe;function fUe(e,t){var r=dUe(e,t);return uUe(r)?r:void 0}var tv=fUe,hUe=tv,mUe=hUe(Object,"create"),D6=mUe,Kq=D6;function pUe(){this.__data__=Kq?Kq(null):{},this.size=0}var gUe=pUe;function xUe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var vUe=xUe,yUe=D6,bUe="__lodash_hash_undefined__",wUe=Object.prototype,_Ue=wUe.hasOwnProperty;function NUe(e){var t=this.__data__;if(yUe){var r=t[e];return r===bUe?void 0:r}return _Ue.call(t,e)?t[e]:void 0}var SUe=NUe,CUe=D6,AUe=Object.prototype,EUe=AUe.hasOwnProperty;function jUe(e){var t=this.__data__;return CUe?t[e]!==void 0:EUe.call(t,e)}var TUe=jUe,kUe=D6,PUe="__lodash_hash_undefined__";function OUe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=kUe&&t===void 0?PUe:t,this}var IUe=OUe,FUe=gUe,DUe=vUe,RUe=SUe,MUe=TUe,LUe=IUe;function Eb(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Eb.prototype.clear=FUe;Eb.prototype.delete=DUe;Eb.prototype.get=RUe;Eb.prototype.has=MUe;Eb.prototype.set=LUe;var BUe=Eb;function UUe(){this.__data__=[],this.size=0}var $Ue=UUe;function zUe(e,t){return e===t||e!==e&&t!==t}var $L=zUe,VUe=$L;function WUe(e,t){for(var r=e.length;r--;)if(VUe(e[r][0],t))return r;return-1}var R6=WUe,HUe=R6,qUe=Array.prototype,GUe=qUe.splice;function KUe(e){var t=this.__data__,r=HUe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():GUe.call(t,r,1),--this.size,!0}var YUe=KUe,XUe=R6;function ZUe(e){var t=this.__data__,r=XUe(t,e);return r<0?void 0:t[r][1]}var JUe=ZUe,QUe=R6;function e$e(e){return QUe(this.__data__,e)>-1}var t$e=e$e,r$e=R6;function n$e(e,t){var r=this.__data__,n=r$e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var a$e=n$e,i$e=$Ue,s$e=YUe,o$e=JUe,l$e=t$e,c$e=a$e;function jb(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jb.prototype.clear=i$e;jb.prototype.delete=s$e;jb.prototype.get=o$e;jb.prototype.has=l$e;jb.prototype.set=c$e;var M6=jb,u$e=tv,d$e=Y0,f$e=u$e(d$e,"Map"),zL=f$e,Yq=BUe,h$e=M6,m$e=zL;function p$e(){this.size=0,this.__data__={hash:new Yq,map:new(m$e||h$e),string:new Yq}}var g$e=p$e;function x$e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var v$e=x$e,y$e=v$e;function b$e(e,t){var r=e.__data__;return y$e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var L6=b$e,w$e=L6;function _$e(e){var t=w$e(this,e).delete(e);return this.size-=t?1:0,t}var N$e=_$e,S$e=L6;function C$e(e){return S$e(this,e).get(e)}var A$e=C$e,E$e=L6;function j$e(e){return E$e(this,e).has(e)}var T$e=j$e,k$e=L6;function P$e(e,t){var r=k$e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var O$e=P$e,I$e=g$e,F$e=N$e,D$e=A$e,R$e=T$e,M$e=O$e;function Tb(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Tb.prototype.clear=I$e;Tb.prototype.delete=F$e;Tb.prototype.get=D$e;Tb.prototype.has=R$e;Tb.prototype.set=M$e;var VL=Tb,Tue=VL,L$e="Expected a function";function WL(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(L$e);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(WL.Cache||Tue),r}WL.Cache=Tue;var kue=WL;const B$e=ji(kue);var U$e=kue,$$e=500;function z$e(e){var t=U$e(e,function(n){return r.size===$$e&&r.clear(),n}),r=t.cache;return t}var V$e=z$e,W$e=V$e,H$e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q$e=/\\(\\)?/g,G$e=W$e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(H$e,function(r,n,a,i){t.push(a?i.replace(q$e,"$1"):n||r)}),t}),K$e=G$e;function Y$e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var HL=Y$e,Xq=p3,X$e=HL,Z$e=kd,J$e=Cb,Q$e=1/0,Zq=Xq?Xq.prototype:void 0,Jq=Zq?Zq.toString:void 0;function Pue(e){if(typeof e=="string")return e;if(Z$e(e))return X$e(e,Pue)+"";if(J$e(e))return Jq?Jq.call(e):"";var t=e+"";return t=="0"&&1/e==-Q$e?"-0":t}var eze=Pue,tze=eze;function rze(e){return e==null?"":tze(e)}var Oue=rze,nze=kd,aze=BL,ize=K$e,sze=Oue;function oze(e,t){return nze(e)?e:aze(e,t)?[e]:ize(sze(e))}var Iue=oze,lze=Cb,cze=1/0;function uze(e){if(typeof e=="string"||lze(e))return e;var t=e+"";return t=="0"&&1/e==-cze?"-0":t}var B6=uze,dze=Iue,fze=B6;function hze(e,t){t=dze(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[fze(t[r++])];return r&&r==n?e:void 0}var qL=hze,mze=qL;function pze(e,t,r){var n=e==null?void 0:mze(e,t);return n===void 0?r:n}var Fue=pze;const af=ji(Fue);function gze(e){return e==null}var xze=gze;const ei=ji(xze);var vze=Jm,yze=kd,bze=Qm,wze="[object String]";function _ze(e){return typeof e=="string"||!yze(e)&&bze(e)&&vze(e)==wze}var Nze=_ze;const Tx=ji(Nze);var Due={exports:{}},Ns={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GL=Symbol.for("react.element"),KL=Symbol.for("react.portal"),U6=Symbol.for("react.fragment"),$6=Symbol.for("react.strict_mode"),z6=Symbol.for("react.profiler"),V6=Symbol.for("react.provider"),W6=Symbol.for("react.context"),Sze=Symbol.for("react.server_context"),H6=Symbol.for("react.forward_ref"),q6=Symbol.for("react.suspense"),G6=Symbol.for("react.suspense_list"),K6=Symbol.for("react.memo"),Y6=Symbol.for("react.lazy"),Cze=Symbol.for("react.offscreen"),Rue;Rue=Symbol.for("react.module.reference");function Zf(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case GL:switch(e=e.type,e){case U6:case z6:case $6:case q6:case G6:return e;default:switch(e=e&&e.$$typeof,e){case Sze:case W6:case H6:case Y6:case K6:case V6:return e;default:return t}}case KL:return t}}}Ns.ContextConsumer=W6;Ns.ContextProvider=V6;Ns.Element=GL;Ns.ForwardRef=H6;Ns.Fragment=U6;Ns.Lazy=Y6;Ns.Memo=K6;Ns.Portal=KL;Ns.Profiler=z6;Ns.StrictMode=$6;Ns.Suspense=q6;Ns.SuspenseList=G6;Ns.isAsyncMode=function(){return!1};Ns.isConcurrentMode=function(){return!1};Ns.isContextConsumer=function(e){return Zf(e)===W6};Ns.isContextProvider=function(e){return Zf(e)===V6};Ns.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===GL};Ns.isForwardRef=function(e){return Zf(e)===H6};Ns.isFragment=function(e){return Zf(e)===U6};Ns.isLazy=function(e){return Zf(e)===Y6};Ns.isMemo=function(e){return Zf(e)===K6};Ns.isPortal=function(e){return Zf(e)===KL};Ns.isProfiler=function(e){return Zf(e)===z6};Ns.isStrictMode=function(e){return Zf(e)===$6};Ns.isSuspense=function(e){return Zf(e)===q6};Ns.isSuspenseList=function(e){return Zf(e)===G6};Ns.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===U6||e===z6||e===$6||e===q6||e===G6||e===Cze||typeof e=="object"&&e!==null&&(e.$$typeof===Y6||e.$$typeof===K6||e.$$typeof===V6||e.$$typeof===W6||e.$$typeof===H6||e.$$typeof===Rue||e.getModuleId!==void 0)};Ns.typeOf=Zf;Due.exports=Ns;var Aze=Due.exports,Eze=Jm,jze=Qm,Tze="[object Number]";function kze(e){return typeof e=="number"||jze(e)&&Eze(e)==Tze}var Mue=kze;const Pze=ji(Mue);var Oze=Mue;function Ize(e){return Oze(e)&&e!=+e}var Fze=Ize;const kb=ji(Fze);var Wu=function(t){return t===0?0:t>0?1:-1},Xg=function(t){return Tx(t)&&t.indexOf("%")===t.length-1},Dr=function(t){return Pze(t)&&!kb(t)},Dze=function(t){return ei(t)},Jl=function(t){return Dr(t)||Tx(t)},Rze=0,Pb=function(t){var r=++Rze;return"".concat(t||"").concat(r)},Hu=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Dr(t)&&!Tx(t))return n;var i;if(Xg(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return kb(i)&&(i=n),a&&i>r&&(i=r),i},Bp=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Mze=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},fd=function(t,r){return Dr(t)&&Dr(r)?function(n){return t+n*(r-t)}:function(){return r}};function RA(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):af(n,t))===r})}var Lze=function(t,r){return Dr(t)&&Dr(r)?t-r:Tx(t)&&Tx(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function K2(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function RF(e){"@babel/helpers - typeof";return RF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RF(e)}var Bze=["viewBox","children"],Uze=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Qq=["points","pathLength"],SP={svg:Bze,polygon:Qq,polyline:Qq},YL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],MA=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),!Ab(n))return null;var a={};return Object.keys(n).forEach(function(i){YL.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},$ze=function(t,r,n){return function(a){return t(r,n,a),null}},kx=function(t,r,n){if(!Ab(t)||RF(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];YL.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=$ze(o,r,n))}),a},zze=["children"],Vze=["children"];function eG(e,t){if(e==null)return{};var r=Wze(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MF(e){"@babel/helpers - typeof";return MF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MF(e)}var tG={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},km=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},rG=null,CP=null,XL=function e(t){if(t===rG&&Array.isArray(CP))return CP;var r=[];return A.Children.forEach(t,function(n){ei(n)||(Aze.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),CP=r,rG=t,r};function Wf(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return km(a)}):n=[km(t)],XL(e).forEach(function(a){var i=af(a,"type.displayName")||af(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Vd(e,t){var r=Wf(e,t);return r&&r[0]}var nG=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Dr(n)||n<=0||!Dr(a)||a<=0)},Hze=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qze=function(t){return t&&t.type&&Tx(t.type)&&Hze.indexOf(t.type)>=0},Gze=function(t){return t&&MF(t)==="object"&&"clipDot"in t},Kze=function(t,r,n,a){var i,o=(i=SP==null?void 0:SP[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ja(t)&&(a&&o.includes(r)||Uze.includes(r))||n&&YL.includes(r)},ga=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(A.isValidElement(t)&&(a=t.props),!Ab(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Kze((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},LF=function e(t,r){if(t===r)return!0;var n=A.Children.count(t);if(n!==A.Children.count(r))return!1;if(n===0)return!0;if(n===1)return aG(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!aG(i,o))return!1}return!0},aG=function(t,r){if(ei(t)&&ei(r))return!0;if(!ei(t)&&!ei(r)){var n=t.props||{},a=n.children,i=eG(n,zze),o=r.props||{},l=o.children,c=eG(o,Vze);return a&&l?K2(i,c)&&LF(a,l):!a&&!l?K2(i,c):!1}return!1},iG=function(t,r){var n=[],a={};return XL(t).forEach(function(i,o){if(qze(i))n.push(i);else if(i){var l=km(i.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var h=u(i,l,o);n.push(h),a[l]=!0}}}),n},Yze=function(t){var r=t&&t.type;return r&&tG[r]?tG[r]:null},Xze=function(t,r){return XL(r).indexOf(t)},Zze=["children","width","height","viewBox","className","style","title","desc"];function BF(){return BF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BF.apply(this,arguments)}function Jze(e,t){if(e==null)return{};var r=Qze(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UF(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Jze(e,Zze),f=a||{width:r,height:n,x:0,y:0},h=Qa("recharts-surface",i);return Ve.createElement("svg",BF({},ga(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Ve.createElement("title",null,l),Ve.createElement("desc",null,c),t)}var eVe=["children","className"];function $F(){return $F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$F.apply(this,arguments)}function tVe(e,t){if(e==null)return{};var r=rVe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Fi=Ve.forwardRef(function(e,t){var r=e.children,n=e.className,a=tVe(e,eVe),i=Qa("recharts-layer",n);return Ve.createElement("g",$F({className:i},ga(a,!0),{ref:t}),r)}),Fh=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function nVe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var aVe=nVe,iVe=aVe;function sVe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:iVe(e,t,r)}var oVe=sVe,lVe="\\ud800-\\udfff",cVe="\\u0300-\\u036f",uVe="\\ufe20-\\ufe2f",dVe="\\u20d0-\\u20ff",fVe=cVe+uVe+dVe,hVe="\\ufe0e\\ufe0f",mVe="\\u200d",pVe=RegExp("["+mVe+lVe+fVe+hVe+"]");function gVe(e){return pVe.test(e)}var Lue=gVe;function xVe(e){return e.split("")}var vVe=xVe,Bue="\\ud800-\\udfff",yVe="\\u0300-\\u036f",bVe="\\ufe20-\\ufe2f",wVe="\\u20d0-\\u20ff",_Ve=yVe+bVe+wVe,NVe="\\ufe0e\\ufe0f",SVe="["+Bue+"]",zF="["+_Ve+"]",VF="\\ud83c[\\udffb-\\udfff]",CVe="(?:"+zF+"|"+VF+")",Uue="[^"+Bue+"]",$ue="(?:\\ud83c[\\udde6-\\uddff]){2}",zue="[\\ud800-\\udbff][\\udc00-\\udfff]",AVe="\\u200d",Vue=CVe+"?",Wue="["+NVe+"]?",EVe="(?:"+AVe+"(?:"+[Uue,$ue,zue].join("|")+")"+Wue+Vue+")*",jVe=Wue+Vue+EVe,TVe="(?:"+[Uue+zF+"?",zF,$ue,zue,SVe].join("|")+")",kVe=RegExp(VF+"(?="+VF+")|"+TVe+jVe,"g");function PVe(e){return e.match(kVe)||[]}var OVe=PVe,IVe=vVe,FVe=Lue,DVe=OVe;function RVe(e){return FVe(e)?DVe(e):IVe(e)}var MVe=RVe,LVe=oVe,BVe=Lue,UVe=MVe,$Ve=Oue;function zVe(e){return function(t){t=$Ve(t);var r=BVe(t)?UVe(t):void 0,n=r?r[0]:t.charAt(0),a=r?LVe(r,1).join(""):t.slice(1);return n[e]()+a}}var VVe=zVe,WVe=VVe,HVe=WVe("toUpperCase"),qVe=HVe;const X6=ji(qVe);function zs(e){return function(){return e}}const Hue=Math.cos,LA=Math.sin,Kh=Math.sqrt,BA=Math.PI,Z6=2*BA,WF=Math.PI,HF=2*WF,Pg=1e-6,GVe=HF-Pg;function que(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function KVe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return que;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class YVe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?que:KVe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,f=o-t,h=l-r,g=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>Pg)if(!(Math.abs(h*c-u*f)>Pg)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,N=a-l,b=c*c+u*u,S=p*p+N*N,C=Math.sqrt(b),j=Math.sqrt(g),T=i*Math.tan((WF-Math.acos((b+g-S)/(2*C*j)))/2),O=T/j,M=T/C;Math.abs(O-1)>Pg&&this._append`L${t+O*f},${r+O*h}`,this._append`A${i},${i},0,0,${+(h*p>f*N)},${this._x1=t+M*c},${this._y1=r+M*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,f=r+c,h=1^o,g=o?a-i:i-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Pg||Math.abs(this._y1-f)>Pg)&&this._append`L${u},${f}`,n&&(g<0&&(g=g%HF+HF),g>GVe?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=f}`:g>Pg&&this._append`A${n},${n},0,${+(g>=WF)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function ZL(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new YVe(t)}function JL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Gue(e){this._context=e}Gue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function J6(e){return new Gue(e)}function Kue(e){return e[0]}function Yue(e){return e[1]}function Xue(e,t){var r=zs(!0),n=null,a=J6,i=null,o=ZL(l);e=typeof e=="function"?e:e===void 0?Kue:zs(e),t=typeof t=="function"?t:t===void 0?Yue:zs(t);function l(c){var u,f=(c=JL(c)).length,h,g=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=f;++u)!(u<f&&r(h=c[u],u,c))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(h,u,c),+t(h,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:zs(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:zs(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:zs(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function mS(e,t,r){var n=null,a=zs(!0),i=null,o=J6,l=null,c=ZL(u);e=typeof e=="function"?e:e===void 0?Kue:zs(+e),t=typeof t=="function"?t:zs(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Yue:zs(+r);function u(h){var g,p,N,b=(h=JL(h)).length,S,C=!1,j,T=new Array(b),O=new Array(b);for(i==null&&(l=o(j=c())),g=0;g<=b;++g){if(!(g<b&&a(S=h[g],g,h))===C)if(C=!C)p=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),N=g-1;N>=p;--N)l.point(T[N],O[N]);l.lineEnd(),l.areaEnd()}C&&(T[g]=+e(S,g,h),O[g]=+t(S,g,h),l.point(n?+n(S,g,h):T[g],r?+r(S,g,h):O[g]))}if(j)return l=null,j+""||null}function f(){return Xue().defined(a).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:zs(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:zs(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:zs(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:zs(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:zs(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:zs(+h),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:zs(!!h),u):a},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class Zue{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function XVe(e){return new Zue(e,!0)}function ZVe(e){return new Zue(e,!1)}const QL={draw(e,t){const r=Kh(t/BA);e.moveTo(r,0),e.arc(0,0,r,0,Z6)}},JVe={draw(e,t){const r=Kh(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Jue=Kh(1/3),QVe=Jue*2,eWe={draw(e,t){const r=Kh(t/QVe),n=r*Jue;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},tWe={draw(e,t){const r=Kh(t),n=-r/2;e.rect(n,n,r,r)}},rWe=.8908130915292852,Que=LA(BA/10)/LA(7*BA/10),nWe=LA(Z6/10)*Que,aWe=-Hue(Z6/10)*Que,iWe={draw(e,t){const r=Kh(t*rWe),n=nWe*r,a=aWe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Z6*i/5,l=Hue(o),c=LA(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},AP=Kh(3),sWe={draw(e,t){const r=-Kh(t/(AP*3));e.moveTo(0,r*2),e.lineTo(-AP*r,-r),e.lineTo(AP*r,-r),e.closePath()}},Af=-.5,Ef=Kh(3)/2,qF=1/Kh(12),oWe=(qF/2+1)*3,lWe={draw(e,t){const r=Kh(t/oWe),n=r/2,a=r*qF,i=n,o=r*qF+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Af*n-Ef*a,Ef*n+Af*a),e.lineTo(Af*i-Ef*o,Ef*i+Af*o),e.lineTo(Af*l-Ef*c,Ef*l+Af*c),e.lineTo(Af*n+Ef*a,Af*a-Ef*n),e.lineTo(Af*i+Ef*o,Af*o-Ef*i),e.lineTo(Af*l+Ef*c,Af*c-Ef*l),e.closePath()}};function cWe(e,t){let r=null,n=ZL(a);e=typeof e=="function"?e:zs(e||QL),t=typeof t=="function"?t:zs(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:zs(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:zs(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function UA(){}function $A(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ede(e){this._context=e}ede.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$A(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$A(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uWe(e){return new ede(e)}function tde(e){this._context=e}tde.prototype={areaStart:UA,areaEnd:UA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$A(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dWe(e){return new tde(e)}function rde(e){this._context=e}rde.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$A(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fWe(e){return new rde(e)}function nde(e){this._context=e}nde.prototype={areaStart:UA,areaEnd:UA,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function hWe(e){return new nde(e)}function sG(e){return e<0?-1:1}function oG(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(sG(i)+sG(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function lG(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function EP(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function zA(e){this._context=e}zA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:EP(this,this._t0,lG(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,EP(this,lG(this,r=oG(this,e,t)),r);break;default:EP(this,this._t0,r=oG(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ade(e){this._context=new ide(e)}(ade.prototype=Object.create(zA.prototype)).point=function(e,t){zA.prototype.point.call(this,t,e)};function ide(e){this._context=e}ide.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function mWe(e){return new zA(e)}function pWe(e){return new ade(e)}function sde(e){this._context=e}sde.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=cG(e),a=cG(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cG(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function gWe(e){return new sde(e)}function Q6(e,t){this._context=e,this._t=t}Q6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function xWe(e){return new Q6(e,.5)}function vWe(e){return new Q6(e,0)}function yWe(e){return new Q6(e,1)}function Oy(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function GF(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function bWe(e,t){return e[t]}function wWe(e){const t=[];return t.key=e,t}function _We(){var e=zs([]),t=GF,r=Oy,n=bWe;function a(i){var o=Array.from(e.apply(this,arguments),wWe),l,c=o.length,u=-1,f;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,i)]).data=h;for(l=0,f=JL(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:zs(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:zs(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?GF:typeof i=="function"?i:zs(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Oy,a):r},a}function NWe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Oy(e,t)}}function SWe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Oy(e,t)}}function CWe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],h=f[n][1]||0,g=f[n-1][1]||0,p=(h-g)/2,N=0;N<l;++N){var b=e[t[N]],S=b[n][1]||0,C=b[n-1][1]||0;p+=S-C}c+=h,u+=p*h}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Oy(e,t)}}function L4(e){"@babel/helpers - typeof";return L4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L4(e)}var AWe=["type","size","sizeType"];function KF(){return KF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KF.apply(this,arguments)}function uG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uG(Object(r),!0).forEach(function(n){EWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EWe(e,t,r){return t=jWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jWe(e){var t=TWe(e,"string");return L4(t)=="symbol"?t:t+""}function TWe(e,t){if(L4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(L4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kWe(e,t){if(e==null)return{};var r=PWe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ode={symbolCircle:QL,symbolCross:JVe,symbolDiamond:eWe,symbolSquare:tWe,symbolStar:iWe,symbolTriangle:sWe,symbolWye:lWe},OWe=Math.PI/180,IWe=function(t){var r="symbol".concat(X6(t));return ode[r]||QL},FWe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*OWe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},DWe=function(t,r){ode["symbol".concat(X6(t))]=r},e9=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=kWe(t,AWe),u=dG(dG({},c),{},{type:n,size:i,sizeType:l}),f=function(){var S=IWe(n),C=cWe().type(S).size(FWe(i,l,n));return C()},h=u.className,g=u.cx,p=u.cy,N=ga(u,!0);return g===+g&&p===+p&&i===+i?Ve.createElement("path",KF({},N,{className:Qa("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(p,")"),d:f()})):null};e9.registerSymbol=DWe;function Iy(e){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iy(e)}function YF(){return YF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YF.apply(this,arguments)}function fG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RWe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fG(Object(r),!0).forEach(function(n){B4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cde(n.key),n)}}function LWe(e,t,r){return t&&hG(e.prototype,t),r&&hG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BWe(e,t,r){return t=VA(t),UWe(e,lde()?Reflect.construct(t,r||[],VA(e).constructor):t.apply(e,r))}function UWe(e,t){if(t&&(Iy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $We(e)}function $We(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lde=function(){return!!e})()}function VA(e){return VA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},VA(e)}function zWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XF(e,t)}function XF(e,t){return XF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XF(e,t)}function B4(e,t,r){return t=cde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cde(e){var t=VWe(e,"string");return Iy(t)=="symbol"?t:t+""}function VWe(e,t){if(Iy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jf=32,t9=function(e){function t(){return MWe(this,t),BWe(this,t,arguments)}return zWe(t,e),LWe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=jf/2,o=jf/6,l=jf/3,c=n.inactive?a:n.color;if(n.type==="plainline")return Ve.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:jf,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ve.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(jf,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ve.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(jf/8,"h").concat(jf,"v").concat(jf*3/4,"h").concat(-jf,"z"),className:"recharts-legend-icon"});if(Ve.isValidElement(n.legendIcon)){var u=RWe({},n);return delete u.legendIcon,Ve.cloneElement(n.legendIcon,u)}return Ve.createElement(e9,{fill:c,cx:i,cy:i,size:jf,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:jf,height:jf},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,N){var b=p.formatter||c,S=Qa(B4(B4({"recharts-legend-item":!0},"legend-item-".concat(N),!0),"inactive",p.inactive));if(p.type==="none")return null;var C=ja(p.value)?null:p.value;Fh(!ja(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=p.inactive?u:p.color;return Ve.createElement("li",YF({className:S,style:h,key:"legend-item-".concat(N)},kx(n.props,p,N)),Ve.createElement(UF,{width:o,height:o,viewBox:f,style:g},n.renderIcon(p)),Ve.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},b?b(C,p,N):C))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Ve.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(A.PureComponent);B4(t9,"displayName","Legend");B4(t9,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var WWe=M6;function HWe(){this.__data__=new WWe,this.size=0}var qWe=HWe;function GWe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var KWe=GWe;function YWe(e){return this.__data__.get(e)}var XWe=YWe;function ZWe(e){return this.__data__.has(e)}var JWe=ZWe,QWe=M6,eHe=zL,tHe=VL,rHe=200;function nHe(e,t){var r=this.__data__;if(r instanceof QWe){var n=r.__data__;if(!eHe||n.length<rHe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new tHe(n)}return r.set(e,t),this.size=r.size,this}var aHe=nHe,iHe=M6,sHe=qWe,oHe=KWe,lHe=XWe,cHe=JWe,uHe=aHe;function Ob(e){var t=this.__data__=new iHe(e);this.size=t.size}Ob.prototype.clear=sHe;Ob.prototype.delete=oHe;Ob.prototype.get=lHe;Ob.prototype.has=cHe;Ob.prototype.set=uHe;var ude=Ob,dHe="__lodash_hash_undefined__";function fHe(e){return this.__data__.set(e,dHe),this}var hHe=fHe;function mHe(e){return this.__data__.has(e)}var pHe=mHe,gHe=VL,xHe=hHe,vHe=pHe;function WA(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new gHe;++t<r;)this.add(e[t])}WA.prototype.add=WA.prototype.push=xHe;WA.prototype.has=vHe;var dde=WA;function yHe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var fde=yHe;function bHe(e,t){return e.has(t)}var hde=bHe,wHe=dde,_He=fde,NHe=hde,SHe=1,CHe=2;function AHe(e,t,r,n,a,i){var o=r&SHe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var h=-1,g=!0,p=r&CHe?new wHe:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var N=e[h],b=t[h];if(n)var S=o?n(b,N,h,t,e,i):n(N,b,h,e,t,i);if(S!==void 0){if(S)continue;g=!1;break}if(p){if(!_He(t,function(C,j){if(!NHe(p,j)&&(N===C||a(N,C,r,n,i)))return p.push(j)})){g=!1;break}}else if(!(N===b||a(N,b,r,n,i))){g=!1;break}}return i.delete(e),i.delete(t),g}var mde=AHe,EHe=Y0,jHe=EHe.Uint8Array,THe=jHe;function kHe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var PHe=kHe;function OHe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var r9=OHe,mG=p3,pG=THe,IHe=$L,FHe=mde,DHe=PHe,RHe=r9,MHe=1,LHe=2,BHe="[object Boolean]",UHe="[object Date]",$He="[object Error]",zHe="[object Map]",VHe="[object Number]",WHe="[object RegExp]",HHe="[object Set]",qHe="[object String]",GHe="[object Symbol]",KHe="[object ArrayBuffer]",YHe="[object DataView]",gG=mG?mG.prototype:void 0,jP=gG?gG.valueOf:void 0;function XHe(e,t,r,n,a,i,o){switch(r){case YHe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case KHe:return!(e.byteLength!=t.byteLength||!i(new pG(e),new pG(t)));case BHe:case UHe:case VHe:return IHe(+e,+t);case $He:return e.name==t.name&&e.message==t.message;case WHe:case qHe:return e==t+"";case zHe:var l=DHe;case HHe:var c=n&MHe;if(l||(l=RHe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=LHe,o.set(e,t);var f=FHe(l(e),l(t),n,a,i,o);return o.delete(e),f;case GHe:if(jP)return jP.call(e)==jP.call(t)}return!1}var ZHe=XHe;function JHe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var pde=JHe,QHe=pde,eqe=kd;function tqe(e,t,r){var n=t(e);return eqe(e)?n:QHe(n,r(e))}var rqe=tqe;function nqe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var aqe=nqe;function iqe(){return[]}var sqe=iqe,oqe=aqe,lqe=sqe,cqe=Object.prototype,uqe=cqe.propertyIsEnumerable,xG=Object.getOwnPropertySymbols,dqe=xG?function(e){return e==null?[]:(e=Object(e),oqe(xG(e),function(t){return uqe.call(e,t)}))}:lqe,fqe=dqe;function hqe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var mqe=hqe,pqe=Jm,gqe=Qm,xqe="[object Arguments]";function vqe(e){return gqe(e)&&pqe(e)==xqe}var yqe=vqe,vG=yqe,bqe=Qm,gde=Object.prototype,wqe=gde.hasOwnProperty,_qe=gde.propertyIsEnumerable,Nqe=vG(function(){return arguments}())?vG:function(e){return bqe(e)&&wqe.call(e,"callee")&&!_qe.call(e,"callee")},n9=Nqe,HA={exports:{}};function Sqe(){return!1}var Cqe=Sqe;HA.exports;(function(e,t){var r=Y0,n=Cqe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(HA,HA.exports);var xde=HA.exports,Aqe=9007199254740991,Eqe=/^(?:0|[1-9]\d*)$/;function jqe(e,t){var r=typeof e;return t=t??Aqe,!!t&&(r=="number"||r!="symbol"&&Eqe.test(e))&&e>-1&&e%1==0&&e<t}var a9=jqe,Tqe=9007199254740991;function kqe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Tqe}var i9=kqe,Pqe=Jm,Oqe=i9,Iqe=Qm,Fqe="[object Arguments]",Dqe="[object Array]",Rqe="[object Boolean]",Mqe="[object Date]",Lqe="[object Error]",Bqe="[object Function]",Uqe="[object Map]",$qe="[object Number]",zqe="[object Object]",Vqe="[object RegExp]",Wqe="[object Set]",Hqe="[object String]",qqe="[object WeakMap]",Gqe="[object ArrayBuffer]",Kqe="[object DataView]",Yqe="[object Float32Array]",Xqe="[object Float64Array]",Zqe="[object Int8Array]",Jqe="[object Int16Array]",Qqe="[object Int32Array]",eGe="[object Uint8Array]",tGe="[object Uint8ClampedArray]",rGe="[object Uint16Array]",nGe="[object Uint32Array]",ro={};ro[Yqe]=ro[Xqe]=ro[Zqe]=ro[Jqe]=ro[Qqe]=ro[eGe]=ro[tGe]=ro[rGe]=ro[nGe]=!0;ro[Fqe]=ro[Dqe]=ro[Gqe]=ro[Rqe]=ro[Kqe]=ro[Mqe]=ro[Lqe]=ro[Bqe]=ro[Uqe]=ro[$qe]=ro[zqe]=ro[Vqe]=ro[Wqe]=ro[Hqe]=ro[qqe]=!1;function aGe(e){return Iqe(e)&&Oqe(e.length)&&!!ro[Pqe(e)]}var iGe=aGe;function sGe(e){return function(t){return e(t)}}var vde=sGe,qA={exports:{}};qA.exports;(function(e,t){var r=Aue,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(qA,qA.exports);var oGe=qA.exports,lGe=iGe,cGe=vde,yG=oGe,bG=yG&&yG.isTypedArray,uGe=bG?cGe(bG):lGe,yde=uGe,dGe=mqe,fGe=n9,hGe=kd,mGe=xde,pGe=a9,gGe=yde,xGe=Object.prototype,vGe=xGe.hasOwnProperty;function yGe(e,t){var r=hGe(e),n=!r&&fGe(e),a=!r&&!n&&mGe(e),i=!r&&!n&&!a&&gGe(e),o=r||n||a||i,l=o?dGe(e.length,String):[],c=l.length;for(var u in e)(t||vGe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||pGe(u,c)))&&l.push(u);return l}var bGe=yGe,wGe=Object.prototype;function _Ge(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||wGe;return e===r}var NGe=_Ge;function SGe(e,t){return function(r){return e(t(r))}}var bde=SGe,CGe=bde,AGe=CGe(Object.keys,Object),EGe=AGe,jGe=NGe,TGe=EGe,kGe=Object.prototype,PGe=kGe.hasOwnProperty;function OGe(e){if(!jGe(e))return TGe(e);var t=[];for(var r in Object(e))PGe.call(e,r)&&r!="constructor"&&t.push(r);return t}var IGe=OGe,FGe=UL,DGe=i9;function RGe(e){return e!=null&&DGe(e.length)&&!FGe(e)}var g3=RGe,MGe=bGe,LGe=IGe,BGe=g3;function UGe(e){return BGe(e)?MGe(e):LGe(e)}var eT=UGe,$Ge=rqe,zGe=fqe,VGe=eT;function WGe(e){return $Ge(e,VGe,zGe)}var HGe=WGe,wG=HGe,qGe=1,GGe=Object.prototype,KGe=GGe.hasOwnProperty;function YGe(e,t,r,n,a,i){var o=r&qGe,l=wG(e),c=l.length,u=wG(t),f=u.length;if(c!=f&&!o)return!1;for(var h=c;h--;){var g=l[h];if(!(o?g in t:KGe.call(t,g)))return!1}var p=i.get(e),N=i.get(t);if(p&&N)return p==t&&N==e;var b=!0;i.set(e,t),i.set(t,e);for(var S=o;++h<c;){g=l[h];var C=e[g],j=t[g];if(n)var T=o?n(j,C,g,t,e,i):n(C,j,g,e,t,i);if(!(T===void 0?C===j||a(C,j,r,n,i):T)){b=!1;break}S||(S=g=="constructor")}if(b&&!S){var O=e.constructor,M=t.constructor;O!=M&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof M=="function"&&M instanceof M)&&(b=!1)}return i.delete(e),i.delete(t),b}var XGe=YGe,ZGe=tv,JGe=Y0,QGe=ZGe(JGe,"DataView"),eKe=QGe,tKe=tv,rKe=Y0,nKe=tKe(rKe,"Promise"),aKe=nKe,iKe=tv,sKe=Y0,oKe=iKe(sKe,"Set"),wde=oKe,lKe=tv,cKe=Y0,uKe=lKe(cKe,"WeakMap"),dKe=uKe,ZF=eKe,JF=zL,QF=aKe,eD=wde,tD=dKe,_de=Jm,Ib=jue,_G="[object Map]",fKe="[object Object]",NG="[object Promise]",SG="[object Set]",CG="[object WeakMap]",AG="[object DataView]",hKe=Ib(ZF),mKe=Ib(JF),pKe=Ib(QF),gKe=Ib(eD),xKe=Ib(tD),Og=_de;(ZF&&Og(new ZF(new ArrayBuffer(1)))!=AG||JF&&Og(new JF)!=_G||QF&&Og(QF.resolve())!=NG||eD&&Og(new eD)!=SG||tD&&Og(new tD)!=CG)&&(Og=function(e){var t=_de(e),r=t==fKe?e.constructor:void 0,n=r?Ib(r):"";if(n)switch(n){case hKe:return AG;case mKe:return _G;case pKe:return NG;case gKe:return SG;case xKe:return CG}return t});var vKe=Og,TP=ude,yKe=mde,bKe=ZHe,wKe=XGe,EG=vKe,jG=kd,TG=xde,_Ke=yde,NKe=1,kG="[object Arguments]",PG="[object Array]",pS="[object Object]",SKe=Object.prototype,OG=SKe.hasOwnProperty;function CKe(e,t,r,n,a,i){var o=jG(e),l=jG(t),c=o?PG:EG(e),u=l?PG:EG(t);c=c==kG?pS:c,u=u==kG?pS:u;var f=c==pS,h=u==pS,g=c==u;if(g&&TG(e)){if(!TG(t))return!1;o=!0,f=!1}if(g&&!f)return i||(i=new TP),o||_Ke(e)?yKe(e,t,r,n,a,i):bKe(e,t,c,r,n,a,i);if(!(r&NKe)){var p=f&&OG.call(e,"__wrapped__"),N=h&&OG.call(t,"__wrapped__");if(p||N){var b=p?e.value():e,S=N?t.value():t;return i||(i=new TP),a(b,S,r,n,i)}}return g?(i||(i=new TP),wKe(e,t,r,n,a,i)):!1}var AKe=CKe,EKe=AKe,IG=Qm;function Nde(e,t,r,n,a){return e===t?!0:e==null||t==null||!IG(e)&&!IG(t)?e!==e&&t!==t:EKe(e,t,r,n,Nde,a)}var s9=Nde,jKe=ude,TKe=s9,kKe=1,PKe=2;function OKe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],f=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new jKe;if(n)var g=n(u,f,c,e,t,h);if(!(g===void 0?TKe(f,u,kKe|PKe,n,h):g))return!1}}return!0}var IKe=OKe,FKe=H1;function DKe(e){return e===e&&!FKe(e)}var Sde=DKe,RKe=Sde,MKe=eT;function LKe(e){for(var t=MKe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,RKe(a)]}return t}var BKe=LKe;function UKe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Cde=UKe,$Ke=IKe,zKe=BKe,VKe=Cde;function WKe(e){var t=zKe(e);return t.length==1&&t[0][2]?VKe(t[0][0],t[0][1]):function(r){return r===e||$Ke(r,e,t)}}var HKe=WKe;function qKe(e,t){return e!=null&&t in Object(e)}var GKe=qKe,KKe=Iue,YKe=n9,XKe=kd,ZKe=a9,JKe=i9,QKe=B6;function eYe(e,t,r){t=KKe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=QKe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&JKe(a)&&ZKe(o,a)&&(XKe(e)||YKe(e)))}var tYe=eYe,rYe=GKe,nYe=tYe;function aYe(e,t){return e!=null&&nYe(e,t,rYe)}var iYe=aYe,sYe=s9,oYe=Fue,lYe=iYe,cYe=BL,uYe=Sde,dYe=Cde,fYe=B6,hYe=1,mYe=2;function pYe(e,t){return cYe(e)&&uYe(t)?dYe(fYe(e),t):function(r){var n=oYe(r,e);return n===void 0&&n===t?lYe(r,e):sYe(t,n,hYe|mYe)}}var gYe=pYe;function xYe(e){return e}var Fb=xYe;function vYe(e){return function(t){return t==null?void 0:t[e]}}var yYe=vYe,bYe=qL;function wYe(e){return function(t){return bYe(t,e)}}var _Ye=wYe,NYe=yYe,SYe=_Ye,CYe=BL,AYe=B6;function EYe(e){return CYe(e)?NYe(AYe(e)):SYe(e)}var jYe=EYe,TYe=HKe,kYe=gYe,PYe=Fb,OYe=kd,IYe=jYe;function FYe(e){return typeof e=="function"?e:e==null?PYe:typeof e=="object"?OYe(e)?kYe(e[0],e[1]):TYe(e):IYe(e)}var X0=FYe;function DYe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var Ade=DYe;function RYe(e){return e!==e}var MYe=RYe;function LYe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var BYe=LYe,UYe=Ade,$Ye=MYe,zYe=BYe;function VYe(e,t,r){return t===t?zYe(e,t,r):UYe(e,$Ye,r)}var WYe=VYe,HYe=WYe;function qYe(e,t){var r=e==null?0:e.length;return!!r&&HYe(e,t,0)>-1}var GYe=qYe;function KYe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var YYe=KYe;function XYe(){}var ZYe=XYe,kP=wde,JYe=ZYe,QYe=r9,eXe=1/0,tXe=kP&&1/QYe(new kP([,-0]))[1]==eXe?function(e){return new kP(e)}:JYe,rXe=tXe,nXe=dde,aXe=GYe,iXe=YYe,sXe=hde,oXe=rXe,lXe=r9,cXe=200;function uXe(e,t,r){var n=-1,a=aXe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=iXe;else if(i>=cXe){var u=t?null:oXe(e);if(u)return lXe(u);o=!1,a=sXe,c=new nXe}else c=t?[]:l;e:for(;++n<i;){var f=e[n],h=t?t(f):f;if(f=r||f!==0?f:0,o&&h===h){for(var g=c.length;g--;)if(c[g]===h)continue e;t&&c.push(h),l.push(f)}else a(c,h,r)||(c!==l&&c.push(h),l.push(f))}return l}var dXe=uXe,fXe=X0,hXe=dXe;function mXe(e,t){return e&&e.length?hXe(e,fXe(t)):[]}var pXe=mXe;const FG=ji(pXe);function Ede(e,t,r){return t===!0?FG(e,r):ja(t)?FG(e,t):e}function Fy(e){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fy(e)}var gXe=["ref"];function DG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DG(Object(r),!0).forEach(function(n){tT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tde(n.key),n)}}function vXe(e,t,r){return t&&RG(e.prototype,t),r&&RG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yXe(e,t,r){return t=GA(t),bXe(e,jde()?Reflect.construct(t,r||[],GA(e).constructor):t.apply(e,r))}function bXe(e,t){if(t&&(Fy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wXe(e)}function wXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jde=function(){return!!e})()}function GA(e){return GA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},GA(e)}function _Xe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rD(e,t)}function rD(e,t){return rD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rD(e,t)}function tT(e,t,r){return t=Tde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tde(e){var t=NXe(e,"string");return Fy(t)=="symbol"?t:t+""}function NXe(e,t){if(Fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SXe(e,t){if(e==null)return{};var r=CXe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AXe(e){return e.value}function EXe(e,t){if(Ve.isValidElement(e))return Ve.cloneElement(e,t);if(typeof e=="function")return Ve.createElement(e,t);t.ref;var r=SXe(t,gXe);return Ve.createElement(t9,r)}var MG=1,Y2=function(e){function t(){var r;xXe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=yXe(this,t,[].concat(a)),tT(r,"lastBoundingBox",{width:-1,height:-1}),r}return _Xe(t,e),vXe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>MG||Math.abs(a.height-this.lastBoundingBox.height)>MG)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?cm({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,h,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var N=this.getBBoxSnapshot();g={top:((f||0)-N.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return cm(cm({},h),g)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,h=cm(cm({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Ve.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},EXe(i,cm(cm({},this.props),{},{payload:Ede(f,u,AXe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=cm(cm({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Dr(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(A.PureComponent);tT(Y2,"displayName","Legend");tT(Y2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var LG=p3,jXe=n9,TXe=kd,BG=LG?LG.isConcatSpreadable:void 0;function kXe(e){return TXe(e)||jXe(e)||!!(BG&&e&&e[BG])}var PXe=kXe,OXe=pde,IXe=PXe;function kde(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=IXe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?kde(l,t-1,r,n,a):OXe(a,l):n||(a[a.length]=l)}return a}var Pde=kde;function FXe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var DXe=FXe,RXe=DXe,MXe=RXe(),LXe=MXe,BXe=LXe,UXe=eT;function $Xe(e,t){return e&&BXe(e,t,UXe)}var Ode=$Xe,zXe=g3;function VXe(e,t){return function(r,n){if(r==null)return r;if(!zXe(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var WXe=VXe,HXe=Ode,qXe=WXe,GXe=qXe(HXe),o9=GXe,KXe=o9,YXe=g3;function XXe(e,t){var r=-1,n=YXe(e)?Array(e.length):[];return KXe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var Ide=XXe;function ZXe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var JXe=ZXe,UG=Cb;function QXe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=UG(e),o=t!==void 0,l=t===null,c=t===t,u=UG(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var eZe=QXe,tZe=eZe;function rZe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=tZe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var nZe=rZe,PP=HL,aZe=qL,iZe=X0,sZe=Ide,oZe=JXe,lZe=vde,cZe=nZe,uZe=Fb,dZe=kd;function fZe(e,t,r){t.length?t=PP(t,function(i){return dZe(i)?function(o){return aZe(o,i.length===1?i[0]:i)}:i}):t=[uZe];var n=-1;t=PP(t,lZe(iZe));var a=sZe(e,function(i,o,l){var c=PP(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return oZe(a,function(i,o){return cZe(i,o,r)})}var hZe=fZe;function mZe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var pZe=mZe,gZe=pZe,$G=Math.max;function xZe(e,t,r){return t=$G(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=$G(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),gZe(e,this,l)}}var vZe=xZe;function yZe(e){return function(){return e}}var bZe=yZe,wZe=tv,_Ze=function(){try{var e=wZe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Fde=_Ze,NZe=bZe,zG=Fde,SZe=Fb,CZe=zG?function(e,t){return zG(e,"toString",{configurable:!0,enumerable:!1,value:NZe(t),writable:!0})}:SZe,AZe=CZe,EZe=800,jZe=16,TZe=Date.now;function kZe(e){var t=0,r=0;return function(){var n=TZe(),a=jZe-(n-r);if(r=n,a>0){if(++t>=EZe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var PZe=kZe,OZe=AZe,IZe=PZe,FZe=IZe(OZe),DZe=FZe,RZe=Fb,MZe=vZe,LZe=DZe;function BZe(e,t){return LZe(MZe(e,t,RZe),e+"")}var UZe=BZe,$Ze=$L,zZe=g3,VZe=a9,WZe=H1;function HZe(e,t,r){if(!WZe(r))return!1;var n=typeof t;return(n=="number"?zZe(r)&&VZe(t,r.length):n=="string"&&t in r)?$Ze(r[t],e):!1}var rT=HZe,qZe=Pde,GZe=hZe,KZe=UZe,VG=rT,YZe=KZe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&VG(e,t[0],t[1])?t=[]:r>2&&VG(t[0],t[1],t[2])&&(t=[t[0]]),GZe(e,qZe(t,1),[])}),XZe=YZe;const l9=ji(XZe);function U4(e){"@babel/helpers - typeof";return U4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U4(e)}function nD(){return nD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nD.apply(this,arguments)}function ZZe(e,t){return tJe(e)||eJe(e,t)||QZe(e,t)||JZe()}function JZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QZe(e,t){if(e){if(typeof e=="string")return WG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WG(e,t)}}function WG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eJe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tJe(e){if(Array.isArray(e))return e}function HG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HG(Object(r),!0).forEach(function(n){rJe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rJe(e,t,r){return t=nJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nJe(e){var t=aJe(e,"string");return U4(t)=="symbol"?t:t+""}function aJe(e,t){if(U4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(U4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iJe(e){return Array.isArray(e)&&Jl(e[0])&&Jl(e[1])?e.join(" ~ "):e}var sJe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,h=t.formatter,g=t.itemSorter,p=t.wrapperClassName,N=t.labelClassName,b=t.label,S=t.labelFormatter,C=t.accessibilityLayer,j=C===void 0?!1:C,T=function(){if(f&&f.length){var G={padding:0,margin:0},re=(g?l9(f,g):f).map(function(ae,X){if(ae.type==="none")return null;var ne=OP({display:"block",paddingTop:4,paddingBottom:4,color:ae.color||"#000"},l),de=ae.formatter||h||iJe,le=ae.value,xe=ae.name,Se=le,ye=xe;if(de&&Se!=null&&ye!=null){var ee=de(le,xe,ae,X,f);if(Array.isArray(ee)){var he=ZZe(ee,2);Se=he[0],ye=he[1]}else Se=ee}return Ve.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:ne},Jl(ye)?Ve.createElement("span",{className:"recharts-tooltip-item-name"},ye):null,Jl(ye)?Ve.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ve.createElement("span",{className:"recharts-tooltip-item-value"},Se),Ve.createElement("span",{className:"recharts-tooltip-item-unit"},ae.unit||""))});return Ve.createElement("ul",{className:"recharts-tooltip-item-list",style:G},re)}return null},O=OP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),M=OP({margin:0},u),B=!ei(b),L=B?b:"",H=Qa("recharts-default-tooltip",p),U=Qa("recharts-tooltip-label",N);B&&S&&f!==void 0&&f!==null&&(L=S(b,f));var J=j?{role:"status","aria-live":"assertive"}:{};return Ve.createElement("div",nD({className:H,style:O},J),Ve.createElement("p",{className:U,style:M},Ve.isValidElement(L)?L:"".concat(L)),T())};function $4(e){"@babel/helpers - typeof";return $4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$4(e)}function gS(e,t,r){return t=oJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oJe(e){var t=lJe(e,"string");return $4(t)=="symbol"?t:t+""}function lJe(e,t){if($4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lw="recharts-tooltip-wrapper",cJe={visibility:"hidden"};function uJe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Qa(Lw,gS(gS(gS(gS({},"".concat(Lw,"-right"),Dr(r)&&t&&Dr(t.x)&&r>=t.x),"".concat(Lw,"-left"),Dr(r)&&t&&Dr(t.x)&&r<t.x),"".concat(Lw,"-bottom"),Dr(n)&&t&&Dr(t.y)&&n>=t.y),"".concat(Lw,"-top"),Dr(n)&&t&&Dr(t.y)&&n<t.y))}function qG(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Dr(i[n]))return i[n];var f=r[n]-l-a,h=r[n]+a;if(t[n])return o[n]?f:h;if(o[n]){var g=f,p=c[n];return g<p?Math.max(h,c[n]):Math.max(f,c[n])}var N=h+l,b=c[n]+u;return N>b?Math.max(f,c[n]):Math.max(h,c[n])}function dJe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function fJe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,h;return o.height>0&&o.width>0&&r?(f=qG({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=qG({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=dJe({translateX:f,translateY:h,useTranslate3d:l})):u=cJe,{cssProperties:u,cssClasses:uJe({translateX:f,translateY:h,coordinate:r})}}function Dy(e){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dy(e)}function GG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GG(Object(r),!0).forEach(function(n){iD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rde(n.key),n)}}function mJe(e,t,r){return t&&YG(e.prototype,t),r&&YG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pJe(e,t,r){return t=KA(t),gJe(e,Dde()?Reflect.construct(t,r||[],KA(e).constructor):t.apply(e,r))}function gJe(e,t){if(t&&(Dy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xJe(e)}function xJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dde=function(){return!!e})()}function KA(e){return KA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},KA(e)}function vJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aD(e,t)}function aD(e,t){return aD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aD(e,t)}function iD(e,t,r){return t=Rde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rde(e){var t=yJe(e,"string");return Dy(t)=="symbol"?t:t+""}function yJe(e,t){if(Dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XG=1,bJe=function(e){function t(){var r;hJe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=pJe(this,t,[].concat(a)),iD(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),iD(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return vJe(t,e),mJe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>XG||Math.abs(n.height-this.state.lastBoundingBox.height)>XG)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,h=a.hasPayload,g=a.isAnimationActive,p=a.offset,N=a.position,b=a.reverseDirection,S=a.useTranslate3d,C=a.viewBox,j=a.wrapperStyle,T=fJe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:N,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:S,viewBox:C}),O=T.cssClasses,M=T.cssProperties,B=KG(KG({transition:g&&i?"transform ".concat(l,"ms ").concat(c):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},j);return Ve.createElement("div",{tabIndex:-1,className:O,style:B,ref:function(H){n.wrapperNode=H}},u)}}])}(A.PureComponent),wJe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},I0={isSsr:wJe(),get:function(t){return I0[t]},set:function(t,r){if(typeof t=="string")I0[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){I0[a]=t[a]})}}};function Ry(e){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(e)}function ZG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZG(Object(r),!0).forEach(function(n){c9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lde(n.key),n)}}function NJe(e,t,r){return t&&QG(e.prototype,t),r&&QG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SJe(e,t,r){return t=YA(t),CJe(e,Mde()?Reflect.construct(t,r||[],YA(e).constructor):t.apply(e,r))}function CJe(e,t){if(t&&(Ry(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AJe(e)}function AJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mde=function(){return!!e})()}function YA(e){return YA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},YA(e)}function EJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sD(e,t)}function sD(e,t){return sD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sD(e,t)}function c9(e,t,r){return t=Lde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lde(e){var t=jJe(e,"string");return Ry(t)=="symbol"?t:t+""}function jJe(e,t){if(Ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TJe(e){return e.dataKey}function kJe(e,t){return Ve.isValidElement(e)?Ve.cloneElement(e,t):typeof e=="function"?Ve.createElement(e,t):Ve.createElement(sJe,t)}var _h=function(e){function t(){return _Je(this,t),SJe(this,t,arguments)}return EJe(t,e),NJe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,h=a.filterNull,g=a.isAnimationActive,p=a.offset,N=a.payload,b=a.payloadUniqBy,S=a.position,C=a.reverseDirection,j=a.useTranslate3d,T=a.viewBox,O=a.wrapperStyle,M=N??[];h&&M.length&&(M=Ede(N.filter(function(L){return L.value!=null&&(L.hide!==!0||n.props.includeHidden)}),b,TJe));var B=M.length>0;return Ve.createElement(bJe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:i,coordinate:f,hasPayload:B,offset:p,position:S,reverseDirection:C,useTranslate3d:j,viewBox:T,wrapperStyle:O},kJe(u,JG(JG({},this.props),{},{payload:M})))}}])}(A.PureComponent);c9(_h,"displayName","Tooltip");c9(_h,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!I0.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var PJe=Y0,OJe=function(){return PJe.Date.now()},IJe=OJe,FJe=/\s/;function DJe(e){for(var t=e.length;t--&&FJe.test(e.charAt(t)););return t}var RJe=DJe,MJe=RJe,LJe=/^\s+/;function BJe(e){return e&&e.slice(0,MJe(e)+1).replace(LJe,"")}var UJe=BJe,$Je=UJe,eK=H1,zJe=Cb,tK=0/0,VJe=/^[-+]0x[0-9a-f]+$/i,WJe=/^0b[01]+$/i,HJe=/^0o[0-7]+$/i,qJe=parseInt;function GJe(e){if(typeof e=="number")return e;if(zJe(e))return tK;if(eK(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=eK(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$Je(e);var r=WJe.test(e);return r||HJe.test(e)?qJe(e.slice(2),r?2:8):VJe.test(e)?tK:+e}var Bde=GJe,KJe=H1,IP=IJe,rK=Bde,YJe="Expected a function",XJe=Math.max,ZJe=Math.min;function JJe(e,t,r){var n,a,i,o,l,c,u=0,f=!1,h=!1,g=!0;if(typeof e!="function")throw new TypeError(YJe);t=rK(t)||0,KJe(r)&&(f=!!r.leading,h="maxWait"in r,i=h?XJe(rK(r.maxWait)||0,t):i,g="trailing"in r?!!r.trailing:g);function p(B){var L=n,H=a;return n=a=void 0,u=B,o=e.apply(H,L),o}function N(B){return u=B,l=setTimeout(C,t),f?p(B):o}function b(B){var L=B-c,H=B-u,U=t-L;return h?ZJe(U,i-H):U}function S(B){var L=B-c,H=B-u;return c===void 0||L>=t||L<0||h&&H>=i}function C(){var B=IP();if(S(B))return j(B);l=setTimeout(C,b(B))}function j(B){return l=void 0,g&&n?p(B):(n=a=void 0,o)}function T(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function O(){return l===void 0?o:j(IP())}function M(){var B=IP(),L=S(B);if(n=arguments,a=this,c=B,L){if(l===void 0)return N(c);if(h)return clearTimeout(l),l=setTimeout(C,t),p(c)}return l===void 0&&(l=setTimeout(C,t)),o}return M.cancel=T,M.flush=O,M}var QJe=JJe,eQe=QJe,tQe=H1,rQe="Expected a function";function nQe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(rQe);return tQe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),eQe(e,t,{leading:n,maxWait:t,trailing:a})}var aQe=nQe;const Ude=ji(aQe);function z4(e){"@babel/helpers - typeof";return z4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z4(e)}function nK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nK(Object(r),!0).forEach(function(n){iQe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iQe(e,t,r){return t=sQe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sQe(e){var t=oQe(e,"string");return z4(t)=="symbol"?t:t+""}function oQe(e,t){if(z4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(z4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lQe(e,t){return fQe(e)||dQe(e,t)||uQe(e,t)||cQe()}function cQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQe(e,t){if(e){if(typeof e=="string")return aK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aK(e,t)}}function aK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dQe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fQe(e){if(Array.isArray(e))return e}var iK=A.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,h=e.minHeight,g=e.maxHeight,p=e.children,N=e.debounce,b=N===void 0?0:N,S=e.id,C=e.className,j=e.onResize,T=e.style,O=T===void 0?{}:T,M=A.useRef(null),B=A.useRef();B.current=j,A.useImperativeHandle(t,function(){return Object.defineProperty(M.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),M.current},configurable:!0})});var L=A.useState({containerWidth:a.width,containerHeight:a.height}),H=lQe(L,2),U=H[0],J=H[1],K=A.useCallback(function(re,ae){J(function(X){var ne=Math.round(re),de=Math.round(ae);return X.containerWidth===ne&&X.containerHeight===de?X:{containerWidth:ne,containerHeight:de}})},[]);A.useEffect(function(){var re=function(xe){var Se,ye=xe[0].contentRect,ee=ye.width,he=ye.height;K(ee,he),(Se=B.current)===null||Se===void 0||Se.call(B,ee,he)};b>0&&(re=Ude(re,b,{trailing:!0,leading:!1}));var ae=new ResizeObserver(re),X=M.current.getBoundingClientRect(),ne=X.width,de=X.height;return K(ne,de),ae.observe(M.current),function(){ae.disconnect()}},[K,b]);var G=A.useMemo(function(){var re=U.containerWidth,ae=U.containerHeight;if(re<0||ae<0)return null;Fh(Xg(o)||Xg(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Fh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=Xg(o)?re:o,ne=Xg(c)?ae:c;r&&r>0&&(X?ne=X/r:ne&&(X=ne*r),g&&ne>g&&(ne=g)),Fh(X>0||ne>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,ne,o,c,f,h,r);var de=!Array.isArray(p)&&km(p.type).endsWith("Chart");return Ve.Children.map(p,function(le){return Ve.isValidElement(le)?A.cloneElement(le,xS({width:X,height:ne},de?{style:xS({height:"100%",width:"100%",maxHeight:ne,maxWidth:X},le.props.style)}:{})):le})},[r,p,c,g,h,f,U,o]);return Ve.createElement("div",{id:S?"".concat(S):void 0,className:Qa("recharts-responsive-container",C),style:xS(xS({},O),{},{width:o,height:c,minWidth:f,minHeight:h,maxHeight:g}),ref:M},G)}),nT=function(t){return null};nT.displayName="Cell";function V4(e){"@babel/helpers - typeof";return V4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V4(e)}function sK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sK(Object(r),!0).forEach(function(n){hQe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hQe(e,t,r){return t=mQe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mQe(e){var t=pQe(e,"string");return V4(t)=="symbol"?t:t+""}function pQe(e,t){if(V4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(V4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wv={widthCache:{},cacheCount:0},gQe=2e3,xQe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oK="recharts_measurement_span";function vQe(e){var t=oD({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var I_=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||I0.isSsr)return{width:0,height:0};var n=vQe(r),a=JSON.stringify({text:t,copyStyle:n});if(Wv.widthCache[a])return Wv.widthCache[a];try{var i=document.getElementById(oK);i||(i=document.createElement("span"),i.setAttribute("id",oK),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=oD(oD({},xQe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Wv.widthCache[a]=c,++Wv.cacheCount>gQe&&(Wv.cacheCount=0,Wv.widthCache={}),c}catch{return{width:0,height:0}}},yQe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function W4(e){"@babel/helpers - typeof";return W4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W4(e)}function XA(e,t){return NQe(e)||_Qe(e,t)||wQe(e,t)||bQe()}function bQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wQe(e,t){if(e){if(typeof e=="string")return lK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lK(e,t)}}function lK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Qe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function NQe(e){if(Array.isArray(e))return e}function SQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AQe(n.key),n)}}function CQe(e,t,r){return t&&cK(e.prototype,t),r&&cK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AQe(e){var t=EQe(e,"string");return W4(t)=="symbol"?t:t+""}function EQe(e,t){if(W4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(W4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uK=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dK=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jQe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TQe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$de={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kQe=Object.keys($de),S2="NaN";function PQe(e,t){return e*$de[t]}var vS=function(){function e(t,r){SQe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!jQe.test(r)&&(this.num=NaN,this.unit=""),kQe.includes(r)&&(this.num=PQe(t,r),this.unit="px")}return CQe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=TQe.exec(r))!==null&&n!==void 0?n:[],i=XA(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function zde(e){if(e.includes(S2))return S2;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=uK.exec(t))!==null&&r!==void 0?r:[],a=XA(n,4),i=a[1],o=a[2],l=a[3],c=vS.parse(i??""),u=vS.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return S2;t=t.replace(uK,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,g=(h=dK.exec(t))!==null&&h!==void 0?h:[],p=XA(g,4),N=p[1],b=p[2],S=p[3],C=vS.parse(N??""),j=vS.parse(S??""),T=b==="+"?C.add(j):C.subtract(j);if(T.isNaN())return S2;t=t.replace(dK,T.toString())}return t}var fK=/\(([^()]*)\)/;function OQe(e){for(var t=e;t.includes("(");){var r=fK.exec(t),n=XA(r,2),a=n[1];t=t.replace(fK,zde(a))}return t}function IQe(e){var t=e.replace(/\s+/g,"");return t=OQe(t),t=zde(t),t}function FQe(e){try{return IQe(e)}catch{return S2}}function FP(e){var t=FQe(e.slice(5,-1));return t===S2?"":t}var DQe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],RQe=["dx","dy","angle","className","breakAll"];function lD(){return lD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lD.apply(this,arguments)}function hK(e,t){if(e==null)return{};var r=MQe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MQe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mK(e,t){return $Qe(e)||UQe(e,t)||BQe(e,t)||LQe()}function LQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BQe(e,t){if(e){if(typeof e=="string")return pK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pK(e,t)}}function pK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UQe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $Qe(e){if(Array.isArray(e))return e}var Vde=/[ \f\n\r\t\v\u2028\u2029]+/,Wde=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];ei(r)||(n?i=r.toString().split(""):i=r.toString().split(Vde));var o=i.map(function(c){return{word:c,width:I_(c,a).width}}),l=n?0:I_("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},zQe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=Dr(o),h=l,g=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(ne,de){var le=de.word,xe=de.width,Se=ne[ne.length-1];if(Se&&(a==null||i||Se.width+xe+n<Number(a)))Se.words.push(le),Se.width+=xe+n;else{var ye={words:[le],width:xe};ne.push(ye)}return ne},[])},p=g(r),N=function(X){return X.reduce(function(ne,de){return ne.width>de.width?ne:de})};if(!f)return p;for(var b="",S=function(X){var ne=h.slice(0,X),de=Wde({breakAll:u,style:c,children:ne+b}).wordsWithComputedWidth,le=g(de),xe=le.length>o||N(le).width>Number(a);return[xe,le]},C=0,j=h.length-1,T=0,O;C<=j&&T<=h.length-1;){var M=Math.floor((C+j)/2),B=M-1,L=S(B),H=mK(L,2),U=H[0],J=H[1],K=S(M),G=mK(K,1),re=G[0];if(!U&&!re&&(C=M+1),U&&re&&(j=M-1),!U&&re){O=J;break}T++}return O||p},gK=function(t){var r=ei(t)?[]:t.toString().split(Vde);return[{words:r}]},VQe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!I0.isSsr){var c,u,f=Wde({breakAll:o,children:a,style:i});if(f){var h=f.wordsWithComputedWidth,g=f.spaceWidth;c=h,u=g}else return gK(a);return zQe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return gK(a)},xK="#808080",Px=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,h=f===void 0?!1:f,g=t.textAnchor,p=g===void 0?"start":g,N=t.verticalAnchor,b=N===void 0?"end":N,S=t.fill,C=S===void 0?xK:S,j=hK(t,DQe),T=A.useMemo(function(){return VQe({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:h,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,h,j.style,j.width]),O=j.dx,M=j.dy,B=j.angle,L=j.className,H=j.breakAll,U=hK(j,RQe);if(!Jl(n)||!Jl(i))return null;var J=n+(Dr(O)?O:0),K=i+(Dr(M)?M:0),G;switch(b){case"start":G=FP("calc(".concat(u,")"));break;case"middle":G=FP("calc(".concat((T.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:G=FP("calc(".concat(T.length-1," * -").concat(l,")"));break}var re=[];if(h){var ae=T[0].width,X=j.width;re.push("scale(".concat((Dr(X)?X/ae:1)/ae,")"))}return B&&re.push("rotate(".concat(B,", ").concat(J,", ").concat(K,")")),re.length&&(U.transform=re.join(" ")),Ve.createElement("text",lD({},ga(U,!0),{x:J,y:K,className:Qa("recharts-text",L),textAnchor:p,fill:C.includes("url")?xK:C}),T.map(function(ne,de){var le=ne.words.join(H?"":" ");return Ve.createElement("tspan",{x:J,dy:de===0?G:l,key:"".concat(le,"-").concat(de)},le)}))};function m1(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function WQe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function u9(e){let t,r,n;e.length!==2?(t=m1,r=(l,c)=>m1(e(l),c),n=(l,c)=>e(l)-c):(t=e===m1||e===WQe?e:HQe,r=e,n=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const h=u+f>>>1;r(l[h],c)<0?u=h+1:f=h}while(u<f)}return u}function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const h=u+f>>>1;r(l[h],c)<=0?u=h+1:f=h}while(u<f)}return u}function o(l,c,u=0,f=l.length){const h=a(l,c,u,f-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function HQe(){return 0}function Hde(e){return e===null?NaN:+e}function*qQe(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const GQe=u9(m1),KQe=GQe.right;u9(Hde).center;const x3=KQe;class vK extends Map{constructor(t,r=ZQe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(yK(this,t))}has(t){return super.has(yK(this,t))}set(t,r){return super.set(YQe(this,t),r)}delete(t){return super.delete(XQe(this,t))}}function yK({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function YQe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function XQe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function ZQe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function JQe(e=m1){if(e===m1)return qde;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function qde(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const QQe=Math.sqrt(50),eet=Math.sqrt(10),tet=Math.sqrt(2);function ZA(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=QQe?10:i>=eet?5:i>=tet?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ZA(e,t,r*2):[l,c,u]}function cD(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?ZA(t,e,r):ZA(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function uD(e,t,r){return t=+t,e=+e,r=+r,ZA(e,t,r)[2]}function dD(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?uD(t,e,r):uD(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function bK(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function wK(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function Gde(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?qde:JQe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),h=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*h/c+g)),N=Math.min(n,Math.floor(t+(c-u)*h/c+g));Gde(e,t,p,N,a)}const i=e[t];let o=r,l=n;for(Bw(e,r,t),a(e[n],i)>0&&Bw(e,r,n);o<l;){for(Bw(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Bw(e,r,l):(++l,Bw(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Bw(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ret(e,t,r){if(e=Float64Array.from(qQe(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return wK(e);if(t>=1)return bK(e);var n,a=(n-1)*t,i=Math.floor(a),o=bK(Gde(e,i).subarray(0,i+1)),l=wK(e.subarray(i+1));return o+(l-o)*(a-i)}}function net(e,t,r=Hde){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function aet(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Jf(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ep(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const fD=Symbol("implicit");function d9(){var e=new vK,t=[],r=[],n=fD;function a(i){let o=e.get(i);if(o===void 0){if(n!==fD)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new vK;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return d9(t,r).unknown(n)},Jf.apply(a,arguments),a}function H4(){var e=d9().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function h(){var g=t().length,p=a<n,N=p?a:n,b=p?n:a;i=(b-N)/Math.max(1,g-c+u*2),l&&(i=Math.floor(i)),N+=(b-N-i*(g-c))*f,o=i*(1-c),l&&(N=Math.round(N),o=Math.round(o));var S=aet(g).map(function(C){return N+i*C});return r(p?S.reverse():S)}return e.domain=function(g){return arguments.length?(t(g),h()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(g){return arguments.length?(l=!!g,h()):l},e.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),h()):c},e.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),h()):c},e.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),h()):f},e.copy=function(){return H4(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},Jf.apply(h(),arguments)}function Kde(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Kde(t())},e}function F_(){return Kde(H4.apply(null,arguments).paddingInner(1))}function f9(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Yde(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function v3(){}var q4=.7,JA=1/q4,X2="\\s*([+-]?\\d+)\\s*",G4="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",F0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iet=/^#([0-9a-f]{3,8})$/,set=new RegExp(`^rgb\\(${X2},${X2},${X2}\\)$`),oet=new RegExp(`^rgb\\(${F0},${F0},${F0}\\)$`),cet=new RegExp(`^rgba\\(${X2},${X2},${X2},${G4}\\)$`),uet=new RegExp(`^rgba\\(${F0},${F0},${F0},${G4}\\)$`),det=new RegExp(`^hsl\\(${G4},${F0},${F0}\\)$`),fet=new RegExp(`^hsla\\(${G4},${F0},${F0},${G4}\\)$`),_K={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};f9(v3,K4,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:NK,formatHex:NK,formatHex8:het,formatHsl:met,formatRgb:SK,toString:SK});function NK(){return this.rgb().formatHex()}function het(){return this.rgb().formatHex8()}function met(){return Xde(this).formatHsl()}function SK(){return this.rgb().formatRgb()}function K4(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=iet.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?CK(t):r===3?new xd(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?yS(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?yS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=set.exec(e))?new xd(t[1],t[2],t[3],1):(t=oet.exec(e))?new xd(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cet.exec(e))?yS(t[1],t[2],t[3],t[4]):(t=uet.exec(e))?yS(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=det.exec(e))?jK(t[1],t[2]/100,t[3]/100,1):(t=fet.exec(e))?jK(t[1],t[2]/100,t[3]/100,t[4]):_K.hasOwnProperty(e)?CK(_K[e]):e==="transparent"?new xd(NaN,NaN,NaN,0):null}function CK(e){return new xd(e>>16&255,e>>8&255,e&255,1)}function yS(e,t,r,n){return n<=0&&(e=t=r=NaN),new xd(e,t,r,n)}function pet(e){return e instanceof v3||(e=K4(e)),e?(e=e.rgb(),new xd(e.r,e.g,e.b,e.opacity)):new xd}function hD(e,t,r,n){return arguments.length===1?pet(e):new xd(e,t,r,n??1)}function xd(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}f9(xd,hD,Yde(v3,{brighter(e){return e=e==null?JA:Math.pow(JA,e),new xd(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?q4:Math.pow(q4,e),new xd(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xd(ox(this.r),ox(this.g),ox(this.b),QA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AK,formatHex:AK,formatHex8:get,formatRgb:EK,toString:EK}));function AK(){return`#${Zg(this.r)}${Zg(this.g)}${Zg(this.b)}`}function get(){return`#${Zg(this.r)}${Zg(this.g)}${Zg(this.b)}${Zg((isNaN(this.opacity)?1:this.opacity)*255)}`}function EK(){const e=QA(this.opacity);return`${e===1?"rgb(":"rgba("}${ox(this.r)}, ${ox(this.g)}, ${ox(this.b)}${e===1?")":`, ${e})`}`}function QA(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ox(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zg(e){return e=ox(e),(e<16?"0":"")+e.toString(16)}function jK(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ch(e,t,r,n)}function Xde(e){if(e instanceof Ch)return new Ch(e.h,e.s,e.l,e.opacity);if(e instanceof v3||(e=K4(e)),!e)return new Ch;if(e instanceof Ch)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ch(o,l,c,e.opacity)}function xet(e,t,r,n){return arguments.length===1?Xde(e):new Ch(e,t,r,n??1)}function Ch(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}f9(Ch,xet,Yde(v3,{brighter(e){return e=e==null?JA:Math.pow(JA,e),new Ch(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?q4:Math.pow(q4,e),new Ch(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new xd(DP(e>=240?e-240:e+120,a,n),DP(e,a,n),DP(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ch(TK(this.h),bS(this.s),bS(this.l),QA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=QA(this.opacity);return`${e===1?"hsl(":"hsla("}${TK(this.h)}, ${bS(this.s)*100}%, ${bS(this.l)*100}%${e===1?")":`, ${e})`}`}}));function TK(e){return e=(e||0)%360,e<0?e+360:e}function bS(e){return Math.max(0,Math.min(1,e||0))}function DP(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const h9=e=>()=>e;function vet(e,t){return function(r){return e+r*t}}function yet(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function bet(e){return(e=+e)==1?Zde:function(t,r){return r-t?yet(t,r,e):h9(isNaN(t)?r:t)}}function Zde(e,t){var r=t-e;return r?vet(e,r):h9(isNaN(e)?t:e)}const kK=function e(t){var r=bet(t);function n(a,i){var o=r((a=hD(a)).r,(i=hD(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=Zde(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function wet(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function _et(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Net(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Db(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function Cet(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function eE(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Aet(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Db(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var mD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,RP=new RegExp(mD.source,"g");function Eet(e){return function(){return e}}function jet(e){return function(t){return e(t)+""}}function Tet(e,t){var r=mD.lastIndex=RP.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=mD.exec(e))&&(a=RP.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:eE(n,a)})),r=RP.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?jet(c[0].x):Eet(t):(t=c.length,function(u){for(var f=0,h;f<t;++f)l[(h=c[f]).i]=h.x(u);return l.join("")})}function Db(e,t){var r=typeof t,n;return t==null||r==="boolean"?h9(t):(r==="number"?eE:r==="string"?(n=K4(t))?(t=n,kK):Tet:t instanceof K4?kK:t instanceof Date?Cet:_et(t)?wet:Array.isArray(t)?Net:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Aet:eE)(e,t)}function m9(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ket(e,t){t===void 0&&(t=e,e=Db);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Pet(e){return function(){return e}}function tE(e){return+e}var PK=[0,1];function qu(e){return e}function pD(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Pet(isNaN(t)?NaN:.5)}function Oet(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Iet(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=pD(a,n),i=r(o,i)):(n=pD(n,a),i=r(i,o)),function(l){return i(n(l))}}function Fet(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=pD(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=x3(e,l,1,n)-1;return i[c](a[c](l))}}function y3(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function aT(){var e=PK,t=PK,r=Db,n,a,i,o=qu,l,c,u;function f(){var g=Math.min(e.length,t.length);return o!==qu&&(o=Oet(e[0],e[g-1])),l=g>2?Fet:Iet,c=u=null,h}function h(g){return g==null||isNaN(g=+g)?i:(c||(c=l(e.map(n),t,r)))(n(o(g)))}return h.invert=function(g){return o(a((u||(u=l(t,e.map(n),eE)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,tE),f()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),r=m9,f()},h.clamp=function(g){return arguments.length?(o=g?!0:qu,f()):o!==qu},h.interpolate=function(g){return arguments.length?(r=g,f()):r},h.unknown=function(g){return arguments.length?(i=g,h):i},function(g,p){return n=g,a=p,f()}}function p9(){return aT()(qu,qu)}function Det(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rE(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function My(e){return e=rE(Math.abs(e)),e?e[1]:NaN}function Ret(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Met(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Let=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Y4(e){if(!(t=Let.exec(e)))throw new Error("invalid format: "+e);var t;return new g9({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Y4.prototype=g9.prototype;function g9(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}g9.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bet(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Jde;function Uet(e,t){var r=rE(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Jde=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+rE(e,Math.max(0,t+i-1))[0]}function OK(e,t){var r=rE(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const IK={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Det,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>OK(e*100,t),r:OK,s:Uet,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function FK(e){return e}var DK=Array.prototype.map,RK=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $et(e){var t=e.grouping===void 0||e.thousands===void 0?FK:Ret(DK.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?FK:Met(DK.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=Y4(h);var g=h.fill,p=h.align,N=h.sign,b=h.symbol,S=h.zero,C=h.width,j=h.comma,T=h.precision,O=h.trim,M=h.type;M==="n"?(j=!0,M="g"):IK[M]||(T===void 0&&(T=12),O=!0,M="g"),(S||g==="0"&&p==="=")&&(S=!0,g="0",p="=");var B=b==="$"?r:b==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",L=b==="$"?n:/[%p]/.test(M)?o:"",H=IK[M],U=/[defgprs%]/.test(M);T=T===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function J(K){var G=B,re=L,ae,X,ne;if(M==="c")re=H(K)+re,K="";else{K=+K;var de=K<0||1/K<0;if(K=isNaN(K)?c:H(Math.abs(K),T),O&&(K=Bet(K)),de&&+K==0&&N!=="+"&&(de=!1),G=(de?N==="("?N:l:N==="-"||N==="("?"":N)+G,re=(M==="s"?RK[8+Jde/3]:"")+re+(de&&N==="("?")":""),U){for(ae=-1,X=K.length;++ae<X;)if(ne=K.charCodeAt(ae),48>ne||ne>57){re=(ne===46?a+K.slice(ae+1):K.slice(ae))+re,K=K.slice(0,ae);break}}}j&&!S&&(K=t(K,1/0));var le=G.length+K.length+re.length,xe=le<C?new Array(C-le+1).join(g):"";switch(j&&S&&(K=t(xe+K,xe.length?C-re.length:1/0),xe=""),p){case"<":K=G+K+re+xe;break;case"=":K=G+xe+K+re;break;case"^":K=xe.slice(0,le=xe.length>>1)+G+K+re+xe.slice(le);break;default:K=xe+G+K+re;break}return i(K)}return J.toString=function(){return h+""},J}function f(h,g){var p=u((h=Y4(h),h.type="f",h)),N=Math.max(-8,Math.min(8,Math.floor(My(g)/3)))*3,b=Math.pow(10,-N),S=RK[8+N/3];return function(C){return p(b*C)+S}}return{format:u,formatPrefix:f}}var wS,x9,Qde;zet({thousands:",",grouping:[3],currency:["$",""]});function zet(e){return wS=$et(e),x9=wS.format,Qde=wS.formatPrefix,wS}function Vet(e){return Math.max(0,-My(Math.abs(e)))}function Wet(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(My(t)/3)))*3-My(Math.abs(e)))}function Het(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,My(t)-My(e))+1}function efe(e,t,r,n){var a=dD(e,t,r),i;switch(n=Y4(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Wet(a,o))&&(n.precision=i),Qde(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Het(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Vet(a))&&(n.precision=i-(n.type==="%")*2);break}}return x9(n)}function q1(e){var t=e.domain;return e.ticks=function(r){var n=t();return cD(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return efe(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);f-- >0;){if(u=uD(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function nE(){var e=p9();return e.copy=function(){return y3(e,nE())},Jf.apply(e,arguments),q1(e)}function tfe(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,tE),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return tfe(e).unknown(t)},e=arguments.length?Array.from(e,tE):[0,1],q1(r)}function rfe(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function MK(e){return Math.log(e)}function LK(e){return Math.exp(e)}function qet(e){return-Math.log(-e)}function Get(e){return-Math.exp(-e)}function Ket(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Yet(e){return e===10?Ket:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Xet(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function BK(e){return(t,r)=>-e(-t,r)}function v9(e){const t=e(MK,LK),r=t.domain;let n=10,a,i;function o(){return a=Xet(n),i=Yet(n),r()[0]<0?(a=BK(a),i=BK(i),e(qet,Get)):e(MK,LK),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const h=f<u;h&&([u,f]=[f,u]);let g=a(u),p=a(f),N,b;const S=l==null?10:+l;let C=[];if(!(n%1)&&p-g<S){if(g=Math.floor(g),p=Math.ceil(p),u>0){for(;g<=p;++g)for(N=1;N<n;++N)if(b=g<0?N/i(-g):N*i(g),!(b<u)){if(b>f)break;C.push(b)}}else for(;g<=p;++g)for(N=n-1;N>=1;--N)if(b=g>0?N/i(-g):N*i(g),!(b<u)){if(b>f)break;C.push(b)}C.length*2<S&&(C=cD(u,f,S))}else C=cD(g,p,Math.min(p-g,S)).map(i);return h?C.reverse():C},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Y4(c)).precision==null&&(c.trim=!0),c=x9(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let h=f/i(Math.round(a(f)));return h*n<n-.5&&(h*=n),h<=u?c(f):""}},t.nice=()=>r(rfe(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function nfe(){const e=v9(aT()).domain([1,10]);return e.copy=()=>y3(e,nfe()).base(e.base()),Jf.apply(e,arguments),e}function UK(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $K(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function y9(e){var t=1,r=e(UK(t),$K(t));return r.constant=function(n){return arguments.length?e(UK(t=+n),$K(t)):t},q1(r)}function afe(){var e=y9(aT());return e.copy=function(){return y3(e,afe()).constant(e.constant())},Jf.apply(e,arguments)}function zK(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Zet(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Jet(e){return e<0?-e*e:e*e}function b9(e){var t=e(qu,qu),r=1;function n(){return r===1?e(qu,qu):r===.5?e(Zet,Jet):e(zK(r),zK(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},q1(t)}function w9(){var e=b9(aT());return e.copy=function(){return y3(e,w9()).exponent(e.exponent())},Jf.apply(e,arguments),e}function Qet(){return w9.apply(null,arguments).exponent(.5)}function VK(e){return Math.sign(e)*e*e}function ett(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ife(){var e=p9(),t=[0,1],r=!1,n;function a(i){var o=ett(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(VK(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,tE)).map(VK)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ife(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Jf.apply(a,arguments),q1(a)}function sfe(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=net(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[x3(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(m1),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return sfe().domain(e).range(t).unknown(n)},Jf.apply(i,arguments)}function ofe(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[x3(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return ofe().domain([e,t]).range(a).unknown(i)},Jf.apply(q1(o),arguments)}function lfe(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[x3(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return lfe().domain(e).range(t).unknown(r)},Jf.apply(a,arguments)}const MP=new Date,LP=new Date;function tc(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>tc(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(MP.setTime(+i),LP.setTime(+o),e(MP),e(LP),Math.floor(r(MP,LP))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const aE=tc(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);aE.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?tc(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):aE);aE.range;const Nm=1e3,Uf=Nm*60,Sm=Uf*60,Vm=Sm*24,_9=Vm*7,WK=Vm*30,BP=Vm*365,Jg=tc(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Nm)},(e,t)=>(t-e)/Nm,e=>e.getUTCSeconds());Jg.range;const N9=tc(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nm)},(e,t)=>{e.setTime(+e+t*Uf)},(e,t)=>(t-e)/Uf,e=>e.getMinutes());N9.range;const S9=tc(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Uf)},(e,t)=>(t-e)/Uf,e=>e.getUTCMinutes());S9.range;const C9=tc(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nm-e.getMinutes()*Uf)},(e,t)=>{e.setTime(+e+t*Sm)},(e,t)=>(t-e)/Sm,e=>e.getHours());C9.range;const A9=tc(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Sm)},(e,t)=>(t-e)/Sm,e=>e.getUTCHours());A9.range;const b3=tc(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Uf)/Vm,e=>e.getDate()-1);b3.range;const iT=tc(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vm,e=>e.getUTCDate()-1);iT.range;const cfe=tc(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vm,e=>Math.floor(e/Vm));cfe.range;function rv(e){return tc(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Uf)/_9)}const sT=rv(0),iE=rv(1),ttt=rv(2),rtt=rv(3),Ly=rv(4),ntt=rv(5),att=rv(6);sT.range;iE.range;ttt.range;rtt.range;Ly.range;ntt.range;att.range;function nv(e){return tc(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/_9)}const oT=nv(0),sE=nv(1),itt=nv(2),stt=nv(3),By=nv(4),ott=nv(5),ltt=nv(6);oT.range;sE.range;itt.range;stt.range;By.range;ott.range;ltt.range;const E9=tc(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());E9.range;const j9=tc(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());j9.range;const Wm=tc(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wm.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tc(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Wm.range;const Hm=tc(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hm.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tc(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Hm.range;function ufe(e,t,r,n,a,i){const o=[[Jg,1,Nm],[Jg,5,5*Nm],[Jg,15,15*Nm],[Jg,30,30*Nm],[i,1,Uf],[i,5,5*Uf],[i,15,15*Uf],[i,30,30*Uf],[a,1,Sm],[a,3,3*Sm],[a,6,6*Sm],[a,12,12*Sm],[n,1,Vm],[n,2,2*Vm],[r,1,_9],[t,1,WK],[t,3,3*WK],[e,1,BP]];function l(u,f,h){const g=f<u;g&&([u,f]=[f,u]);const p=h&&typeof h.range=="function"?h:c(u,f,h),N=p?p.range(u,+f+1):[];return g?N.reverse():N}function c(u,f,h){const g=Math.abs(f-u)/h,p=u9(([,,S])=>S).right(o,g);if(p===o.length)return e.every(dD(u/BP,f/BP,h));if(p===0)return aE.every(Math.max(dD(u,f,h),1));const[N,b]=o[g/o[p-1][2]<o[p][2]/g?p-1:p];return N.every(b)}return[l,c]}const[ctt,utt]=ufe(Hm,j9,oT,cfe,A9,S9),[dtt,ftt]=ufe(Wm,E9,sT,b3,C9,N9);function UP(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $P(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Uw(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function htt(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=$w(a),f=zw(a),h=$w(i),g=zw(i),p=$w(o),N=zw(o),b=$w(l),S=zw(l),C=$w(c),j=zw(c),T={a:de,A:le,b:xe,B:Se,c:null,d:XK,e:XK,f:Rtt,g:qtt,G:Ktt,H:Itt,I:Ftt,j:Dtt,L:dfe,m:Mtt,M:Ltt,p:ye,q:ee,Q:QK,s:eY,S:Btt,u:Utt,U:$tt,V:ztt,w:Vtt,W:Wtt,x:null,X:null,y:Htt,Y:Gtt,Z:Ytt,"%":JK},O={a:he,A:se,b:te,B:ge,c:null,d:ZK,e:ZK,f:Qtt,g:crt,G:drt,H:Xtt,I:Ztt,j:Jtt,L:hfe,m:ert,M:trt,p:ue,q:Ce,Q:QK,s:eY,S:rrt,u:nrt,U:art,V:irt,w:srt,W:ort,x:null,X:null,y:lrt,Y:urt,Z:frt,"%":JK},M={a:J,A:K,b:G,B:re,c:ae,d:KK,e:KK,f:Ttt,g:GK,G:qK,H:YK,I:YK,j:Ctt,L:jtt,m:Stt,M:Att,p:U,q:Ntt,Q:Ptt,s:Ott,S:Ett,u:vtt,U:ytt,V:btt,w:xtt,W:wtt,x:X,X:ne,y:GK,Y:qK,Z:_tt,"%":ktt};T.x=B(r,T),T.X=B(n,T),T.c=B(t,T),O.x=B(r,O),O.X=B(n,O),O.c=B(t,O);function B(Ne,Ee){return function(Ge){var Be=[],st=-1,lt=0,Me=Ne.length,wt,_t,ar;for(Ge instanceof Date||(Ge=new Date(+Ge));++st<Me;)Ne.charCodeAt(st)===37&&(Be.push(Ne.slice(lt,st)),(_t=HK[wt=Ne.charAt(++st)])!=null?wt=Ne.charAt(++st):_t=wt==="e"?" ":"0",(ar=Ee[wt])&&(wt=ar(Ge,_t)),Be.push(wt),lt=st+1);return Be.push(Ne.slice(lt,st)),Be.join("")}}function L(Ne,Ee){return function(Ge){var Be=Uw(1900,void 0,1),st=H(Be,Ne,Ge+="",0),lt,Me;if(st!=Ge.length)return null;if("Q"in Be)return new Date(Be.Q);if("s"in Be)return new Date(Be.s*1e3+("L"in Be?Be.L:0));if(Ee&&!("Z"in Be)&&(Be.Z=0),"p"in Be&&(Be.H=Be.H%12+Be.p*12),Be.m===void 0&&(Be.m="q"in Be?Be.q:0),"V"in Be){if(Be.V<1||Be.V>53)return null;"w"in Be||(Be.w=1),"Z"in Be?(lt=$P(Uw(Be.y,0,1)),Me=lt.getUTCDay(),lt=Me>4||Me===0?sE.ceil(lt):sE(lt),lt=iT.offset(lt,(Be.V-1)*7),Be.y=lt.getUTCFullYear(),Be.m=lt.getUTCMonth(),Be.d=lt.getUTCDate()+(Be.w+6)%7):(lt=UP(Uw(Be.y,0,1)),Me=lt.getDay(),lt=Me>4||Me===0?iE.ceil(lt):iE(lt),lt=b3.offset(lt,(Be.V-1)*7),Be.y=lt.getFullYear(),Be.m=lt.getMonth(),Be.d=lt.getDate()+(Be.w+6)%7)}else("W"in Be||"U"in Be)&&("w"in Be||(Be.w="u"in Be?Be.u%7:"W"in Be?1:0),Me="Z"in Be?$P(Uw(Be.y,0,1)).getUTCDay():UP(Uw(Be.y,0,1)).getDay(),Be.m=0,Be.d="W"in Be?(Be.w+6)%7+Be.W*7-(Me+5)%7:Be.w+Be.U*7-(Me+6)%7);return"Z"in Be?(Be.H+=Be.Z/100|0,Be.M+=Be.Z%100,$P(Be)):UP(Be)}}function H(Ne,Ee,Ge,Be){for(var st=0,lt=Ee.length,Me=Ge.length,wt,_t;st<lt;){if(Be>=Me)return-1;if(wt=Ee.charCodeAt(st++),wt===37){if(wt=Ee.charAt(st++),_t=M[wt in HK?Ee.charAt(st++):wt],!_t||(Be=_t(Ne,Ge,Be))<0)return-1}else if(wt!=Ge.charCodeAt(Be++))return-1}return Be}function U(Ne,Ee,Ge){var Be=u.exec(Ee.slice(Ge));return Be?(Ne.p=f.get(Be[0].toLowerCase()),Ge+Be[0].length):-1}function J(Ne,Ee,Ge){var Be=p.exec(Ee.slice(Ge));return Be?(Ne.w=N.get(Be[0].toLowerCase()),Ge+Be[0].length):-1}function K(Ne,Ee,Ge){var Be=h.exec(Ee.slice(Ge));return Be?(Ne.w=g.get(Be[0].toLowerCase()),Ge+Be[0].length):-1}function G(Ne,Ee,Ge){var Be=C.exec(Ee.slice(Ge));return Be?(Ne.m=j.get(Be[0].toLowerCase()),Ge+Be[0].length):-1}function re(Ne,Ee,Ge){var Be=b.exec(Ee.slice(Ge));return Be?(Ne.m=S.get(Be[0].toLowerCase()),Ge+Be[0].length):-1}function ae(Ne,Ee,Ge){return H(Ne,t,Ee,Ge)}function X(Ne,Ee,Ge){return H(Ne,r,Ee,Ge)}function ne(Ne,Ee,Ge){return H(Ne,n,Ee,Ge)}function de(Ne){return o[Ne.getDay()]}function le(Ne){return i[Ne.getDay()]}function xe(Ne){return c[Ne.getMonth()]}function Se(Ne){return l[Ne.getMonth()]}function ye(Ne){return a[+(Ne.getHours()>=12)]}function ee(Ne){return 1+~~(Ne.getMonth()/3)}function he(Ne){return o[Ne.getUTCDay()]}function se(Ne){return i[Ne.getUTCDay()]}function te(Ne){return c[Ne.getUTCMonth()]}function ge(Ne){return l[Ne.getUTCMonth()]}function ue(Ne){return a[+(Ne.getUTCHours()>=12)]}function Ce(Ne){return 1+~~(Ne.getUTCMonth()/3)}return{format:function(Ne){var Ee=B(Ne+="",T);return Ee.toString=function(){return Ne},Ee},parse:function(Ne){var Ee=L(Ne+="",!1);return Ee.toString=function(){return Ne},Ee},utcFormat:function(Ne){var Ee=B(Ne+="",O);return Ee.toString=function(){return Ne},Ee},utcParse:function(Ne){var Ee=L(Ne+="",!0);return Ee.toString=function(){return Ne},Ee}}}var HK={"-":"",_:" ",0:"0"},Sc=/^\s*\d+/,mtt=/^%/,ptt=/[\\^$*+?|[\]().{}]/g;function Xi(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function gtt(e){return e.replace(ptt,"\\$&")}function $w(e){return new RegExp("^(?:"+e.map(gtt).join("|")+")","i")}function zw(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function xtt(e,t,r){var n=Sc.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function vtt(e,t,r){var n=Sc.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ytt(e,t,r){var n=Sc.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function btt(e,t,r){var n=Sc.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function wtt(e,t,r){var n=Sc.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function qK(e,t,r){var n=Sc.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function GK(e,t,r){var n=Sc.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _tt(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ntt(e,t,r){var n=Sc.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Stt(e,t,r){var n=Sc.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function KK(e,t,r){var n=Sc.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Ctt(e,t,r){var n=Sc.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function YK(e,t,r){var n=Sc.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Att(e,t,r){var n=Sc.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Ett(e,t,r){var n=Sc.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function jtt(e,t,r){var n=Sc.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Ttt(e,t,r){var n=Sc.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ktt(e,t,r){var n=mtt.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Ptt(e,t,r){var n=Sc.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Ott(e,t,r){var n=Sc.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function XK(e,t){return Xi(e.getDate(),t,2)}function Itt(e,t){return Xi(e.getHours(),t,2)}function Ftt(e,t){return Xi(e.getHours()%12||12,t,2)}function Dtt(e,t){return Xi(1+b3.count(Wm(e),e),t,3)}function dfe(e,t){return Xi(e.getMilliseconds(),t,3)}function Rtt(e,t){return dfe(e,t)+"000"}function Mtt(e,t){return Xi(e.getMonth()+1,t,2)}function Ltt(e,t){return Xi(e.getMinutes(),t,2)}function Btt(e,t){return Xi(e.getSeconds(),t,2)}function Utt(e){var t=e.getDay();return t===0?7:t}function $tt(e,t){return Xi(sT.count(Wm(e)-1,e),t,2)}function ffe(e){var t=e.getDay();return t>=4||t===0?Ly(e):Ly.ceil(e)}function ztt(e,t){return e=ffe(e),Xi(Ly.count(Wm(e),e)+(Wm(e).getDay()===4),t,2)}function Vtt(e){return e.getDay()}function Wtt(e,t){return Xi(iE.count(Wm(e)-1,e),t,2)}function Htt(e,t){return Xi(e.getFullYear()%100,t,2)}function qtt(e,t){return e=ffe(e),Xi(e.getFullYear()%100,t,2)}function Gtt(e,t){return Xi(e.getFullYear()%1e4,t,4)}function Ktt(e,t){var r=e.getDay();return e=r>=4||r===0?Ly(e):Ly.ceil(e),Xi(e.getFullYear()%1e4,t,4)}function Ytt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xi(t/60|0,"0",2)+Xi(t%60,"0",2)}function ZK(e,t){return Xi(e.getUTCDate(),t,2)}function Xtt(e,t){return Xi(e.getUTCHours(),t,2)}function Ztt(e,t){return Xi(e.getUTCHours()%12||12,t,2)}function Jtt(e,t){return Xi(1+iT.count(Hm(e),e),t,3)}function hfe(e,t){return Xi(e.getUTCMilliseconds(),t,3)}function Qtt(e,t){return hfe(e,t)+"000"}function ert(e,t){return Xi(e.getUTCMonth()+1,t,2)}function trt(e,t){return Xi(e.getUTCMinutes(),t,2)}function rrt(e,t){return Xi(e.getUTCSeconds(),t,2)}function nrt(e){var t=e.getUTCDay();return t===0?7:t}function art(e,t){return Xi(oT.count(Hm(e)-1,e),t,2)}function mfe(e){var t=e.getUTCDay();return t>=4||t===0?By(e):By.ceil(e)}function irt(e,t){return e=mfe(e),Xi(By.count(Hm(e),e)+(Hm(e).getUTCDay()===4),t,2)}function srt(e){return e.getUTCDay()}function ort(e,t){return Xi(sE.count(Hm(e)-1,e),t,2)}function lrt(e,t){return Xi(e.getUTCFullYear()%100,t,2)}function crt(e,t){return e=mfe(e),Xi(e.getUTCFullYear()%100,t,2)}function urt(e,t){return Xi(e.getUTCFullYear()%1e4,t,4)}function drt(e,t){var r=e.getUTCDay();return e=r>=4||r===0?By(e):By.ceil(e),Xi(e.getUTCFullYear()%1e4,t,4)}function frt(){return"+0000"}function JK(){return"%"}function QK(e){return+e}function eY(e){return Math.floor(+e/1e3)}var Hv,pfe,gfe;hrt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hrt(e){return Hv=htt(e),pfe=Hv.format,Hv.parse,gfe=Hv.utcFormat,Hv.utcParse,Hv}function mrt(e){return new Date(e)}function prt(e){return e instanceof Date?+e:+new Date(+e)}function T9(e,t,r,n,a,i,o,l,c,u){var f=p9(),h=f.invert,g=f.domain,p=u(".%L"),N=u(":%S"),b=u("%I:%M"),S=u("%I %p"),C=u("%a %d"),j=u("%b %d"),T=u("%B"),O=u("%Y");function M(B){return(c(B)<B?p:l(B)<B?N:o(B)<B?b:i(B)<B?S:n(B)<B?a(B)<B?C:j:r(B)<B?T:O)(B)}return f.invert=function(B){return new Date(h(B))},f.domain=function(B){return arguments.length?g(Array.from(B,prt)):g().map(mrt)},f.ticks=function(B){var L=g();return e(L[0],L[L.length-1],B??10)},f.tickFormat=function(B,L){return L==null?M:u(L)},f.nice=function(B){var L=g();return(!B||typeof B.range!="function")&&(B=t(L[0],L[L.length-1],B??10)),B?g(rfe(L,B)):f},f.copy=function(){return y3(f,T9(e,t,r,n,a,i,o,l,c,u))},f}function grt(){return Jf.apply(T9(dtt,ftt,Wm,E9,sT,b3,C9,N9,Jg,pfe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xrt(){return Jf.apply(T9(ctt,utt,Hm,j9,oT,iT,A9,S9,Jg,gfe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lT(){var e=0,t=1,r,n,a,i,o=qu,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function f(h){return function(g){var p,N;return arguments.length?([p,N]=g,o=h(p,N),u):[o(0),o(1)]}}return u.range=f(Db),u.rangeRound=f(m9),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),u}}function G1(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xfe(){var e=q1(lT()(qu));return e.copy=function(){return G1(e,xfe())},ep.apply(e,arguments)}function vfe(){var e=v9(lT()).domain([1,10]);return e.copy=function(){return G1(e,vfe()).base(e.base())},ep.apply(e,arguments)}function yfe(){var e=y9(lT());return e.copy=function(){return G1(e,yfe()).constant(e.constant())},ep.apply(e,arguments)}function k9(){var e=b9(lT());return e.copy=function(){return G1(e,k9()).exponent(e.exponent())},ep.apply(e,arguments)}function vrt(){return k9.apply(null,arguments).exponent(.5)}function bfe(){var e=[],t=qu;function r(n){if(n!=null&&!isNaN(n=+n))return t((x3(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(m1),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>ret(e,i/n))},r.copy=function(){return bfe(t).domain(e)},ep.apply(r,arguments)}function cT(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=qu,f,h=!1,g;function p(b){return isNaN(b=+b)?g:(b=.5+((b=+f(b))-i)*(n*b<n*i?l:c),u(h?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([e,t,r]=b,a=f(e=+e),i=f(t=+t),o=f(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(b){return arguments.length?(h=!!b,p):h},p.interpolator=function(b){return arguments.length?(u=b,p):u};function N(b){return function(S){var C,j,T;return arguments.length?([C,j,T]=S,u=ket(b,[C,j,T]),p):[u(0),u(.5),u(1)]}}return p.range=N(Db),p.rangeRound=N(m9),p.unknown=function(b){return arguments.length?(g=b,p):g},function(b){return f=b,a=b(e),i=b(t),o=b(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function wfe(){var e=q1(cT()(qu));return e.copy=function(){return G1(e,wfe())},ep.apply(e,arguments)}function _fe(){var e=v9(cT()).domain([.1,1,10]);return e.copy=function(){return G1(e,_fe()).base(e.base())},ep.apply(e,arguments)}function Nfe(){var e=y9(cT());return e.copy=function(){return G1(e,Nfe()).constant(e.constant())},ep.apply(e,arguments)}function P9(){var e=b9(cT());return e.copy=function(){return G1(e,P9()).exponent(e.exponent())},ep.apply(e,arguments)}function yrt(){return P9.apply(null,arguments).exponent(.5)}const tY=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:H4,scaleDiverging:wfe,scaleDivergingLog:_fe,scaleDivergingPow:P9,scaleDivergingSqrt:yrt,scaleDivergingSymlog:Nfe,scaleIdentity:tfe,scaleImplicit:fD,scaleLinear:nE,scaleLog:nfe,scaleOrdinal:d9,scalePoint:F_,scalePow:w9,scaleQuantile:sfe,scaleQuantize:ofe,scaleRadial:ife,scaleSequential:xfe,scaleSequentialLog:vfe,scaleSequentialPow:k9,scaleSequentialQuantile:bfe,scaleSequentialSqrt:vrt,scaleSequentialSymlog:yfe,scaleSqrt:Qet,scaleSymlog:afe,scaleThreshold:lfe,scaleTime:grt,scaleUtc:xrt,tickFormat:efe},Symbol.toStringTag,{value:"Module"}));var brt=Cb;function wrt(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!brt(o):r(o,l)))var l=o,c=i}return c}var uT=wrt;function _rt(e,t){return e>t}var Sfe=_rt,Nrt=uT,Srt=Sfe,Crt=Fb;function Art(e){return e&&e.length?Nrt(e,Crt,Srt):void 0}var Ert=Art;const Gp=ji(Ert);function jrt(e,t){return e<t}var Cfe=jrt,Trt=uT,krt=Cfe,Prt=Fb;function Ort(e){return e&&e.length?Trt(e,Prt,krt):void 0}var Irt=Ort;const dT=ji(Irt);var Frt=HL,Drt=X0,Rrt=Ide,Mrt=kd;function Lrt(e,t){var r=Mrt(e)?Frt:Rrt;return r(e,Drt(t))}var Brt=Lrt,Urt=Pde,$rt=Brt;function zrt(e,t){return Urt($rt(e,t),1)}var Vrt=zrt;const Wrt=ji(Vrt);var Hrt=s9;function qrt(e,t){return Hrt(e,t)}var Grt=qrt;const Uy=ji(Grt);var Rb=1e9,Krt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},I9,go=!0,Kf="[DecimalError] ",lx=Kf+"Invalid argument: ",O9=Kf+"Exponent out of range: ",Mb=Math.floor,Ig=Math.pow,Yrt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xd,hc=1e7,no=7,Afe=9007199254740991,oE=Mb(Afe/no),In={};In.absoluteValue=In.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};In.comparedTo=In.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};In.decimalPlaces=In.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*no;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};In.dividedBy=In.div=function(e){return Pm(this,new this.constructor(e))};In.dividedToIntegerBy=In.idiv=function(e){var t=this,r=t.constructor;return Ds(Pm(t,new r(e),0,1),r.precision)};In.equals=In.eq=function(e){return!this.cmp(e)};In.exponent=function(){return Pl(this)};In.greaterThan=In.gt=function(e){return this.cmp(e)>0};In.greaterThanOrEqualTo=In.gte=function(e){return this.cmp(e)>=0};In.isInteger=In.isint=function(){return this.e>this.d.length-2};In.isNegative=In.isneg=function(){return this.s<0};In.isPositive=In.ispos=function(){return this.s>0};In.isZero=function(){return this.s===0};In.lessThan=In.lt=function(e){return this.cmp(e)<0};In.lessThanOrEqualTo=In.lte=function(e){return this.cmp(e)<1};In.logarithm=In.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Xd))throw Error(Kf+"NaN");if(r.s<1)throw Error(Kf+(r.s?"NaN":"-Infinity"));return r.eq(Xd)?new n(0):(go=!1,t=Pm(X4(r,i),X4(e,i),i),go=!0,Ds(t,a))};In.minus=In.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Tfe(t,e):Efe(t,(e.s=-e.s,e))};In.modulo=In.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Kf+"NaN");return r.s?(go=!1,t=Pm(r,e,0,1).times(e),go=!0,r.minus(t)):Ds(new n(r),a)};In.naturalExponential=In.exp=function(){return jfe(this)};In.naturalLogarithm=In.ln=function(){return X4(this)};In.negated=In.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};In.plus=In.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Efe(t,e):Tfe(t,(e.s=-e.s,e))};In.precision=In.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(lx+e);if(t=Pl(a)+1,n=a.d.length-1,r=n*no+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};In.squareRoot=In.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Kf+"NaN")}for(e=Pl(l),go=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=_0(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Mb((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Pm(l,i,o+2)).times(.5),_0(i.d).slice(0,o)===(t=_0(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ds(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return go=!0,Ds(n,r)};In.times=In.mul=function(e){var t,r,n,a,i,o,l,c,u,f=this,h=f.constructor,g=f.d,p=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,r=f.e+e.e,c=g.length,u=p.length,c<u&&(i=g,g=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*g[a-n-1]+t,i[a--]=l%hc|0,t=l/hc|0;i[a]=(i[a]+t)%hc|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,go?Ds(e,h.precision):e};In.toDecimalPlaces=In.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(U0(e,0,Rb),t===void 0?t=n.rounding:U0(t,0,8),Ds(r,e+Pl(r)+1,t))};In.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ox(n,!0):(U0(e,0,Rb),t===void 0?t=a.rounding:U0(t,0,8),n=Ds(new a(n),e+1,t),r=Ox(n,!0,e+1)),r};In.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Ox(a):(U0(e,0,Rb),t===void 0?t=i.rounding:U0(t,0,8),n=Ds(new i(a),e+Pl(a)+1,t),r=Ox(n.abs(),!1,e+Pl(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};In.toInteger=In.toint=function(){var e=this,t=e.constructor;return Ds(new t(e),Pl(e)+1,t.rounding)};In.toNumber=function(){return+this};In.toPower=In.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Xd);if(l=new c(l),!l.s){if(e.s<1)throw Error(Kf+"Infinity");return l}if(l.eq(Xd))return l;if(n=c.precision,e.eq(Xd))return Ds(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=f<0?-f:f)<=Afe){for(a=new c(Xd),t=Math.ceil(n/no+4),go=!1;r%2&&(a=a.times(l),nY(a.d,t)),r=Mb(r/2),r!==0;)l=l.times(l),nY(l.d,t);return go=!0,e.s<0?new c(Xd).div(a):Ds(a,n)}}else if(i<0)throw Error(Kf+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,go=!1,a=e.times(X4(l,n+u)),go=!0,a=jfe(a),a.s=i,a};In.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Pl(a),n=Ox(a,r<=i.toExpNeg||r>=i.toExpPos)):(U0(e,1,Rb),t===void 0?t=i.rounding:U0(t,0,8),a=Ds(new i(a),e,t),r=Pl(a),n=Ox(a,e<=r||r<=i.toExpNeg,e)),n};In.toSignificantDigits=In.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(U0(e,1,Rb),t===void 0?t=n.rounding:U0(t,0,8)),Ds(new n(r),e,t)};In.toString=In.valueOf=In.val=In.toJSON=In[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pl(e),r=e.constructor;return Ox(e,t<=r.toExpNeg||t>=r.toExpPos)};function Efe(e,t){var r,n,a,i,o,l,c,u,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),go?Ds(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(h/no),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/hc|0,c[i]%=hc;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,go?Ds(t,h):t}function U0(e,t,r){if(e!==~~e||e<t||e>r)throw Error(lx+e)}function _0(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=no-n.length,r&&(i+=Fp(r)),i+=n;o=e[t],n=o+"",r=no-n.length,r&&(i+=Fp(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Pm=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%hc|0,o=i/hc|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*hc+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,f,h,g,p,N,b,S,C,j,T,O,M,B,L,H,U=n.constructor,J=n.s==a.s?1:-1,K=n.d,G=a.d;if(!n.s)return new U(n);if(!a.s)throw Error(Kf+"Division by zero");for(c=n.e-a.e,L=G.length,M=K.length,p=new U(J),N=p.d=[],u=0;G[u]==(K[u]||0);)++u;if(G[u]>(K[u]||0)&&--c,i==null?j=i=U.precision:o?j=i+(Pl(n)-Pl(a))+1:j=i,j<0)return new U(0);if(j=j/no+2|0,u=0,L==1)for(f=0,G=G[0],j++;(u<M||f)&&j--;u++)T=f*hc+(K[u]||0),N[u]=T/G|0,f=T%G|0;else{for(f=hc/(G[0]+1)|0,f>1&&(G=e(G,f),K=e(K,f),L=G.length,M=K.length),O=L,b=K.slice(0,L),S=b.length;S<L;)b[S++]=0;H=G.slice(),H.unshift(0),B=G[0],G[1]>=hc/2&&++B;do f=0,l=t(G,b,L,S),l<0?(C=b[0],L!=S&&(C=C*hc+(b[1]||0)),f=C/B|0,f>1?(f>=hc&&(f=hc-1),h=e(G,f),g=h.length,S=b.length,l=t(h,b,g,S),l==1&&(f--,r(h,L<g?H:G,g))):(f==0&&(l=f=1),h=G.slice()),g=h.length,g<S&&h.unshift(0),r(b,h,S),l==-1&&(S=b.length,l=t(G,b,L,S),l<1&&(f++,r(b,L<S?H:G,S))),S=b.length):l===0&&(f++,b=[0]),N[u++]=f,l&&b[0]?b[S++]=K[O]||0:(b=[K[O]],S=1);while((O++<M||b[0]!==void 0)&&j--)}return N[0]||N.shift(),p.e=c,Ds(p,o?i+Pl(p)+1:i)}}();function jfe(e,t){var r,n,a,i,o,l,c=0,u=0,f=e.constructor,h=f.precision;if(Pl(e)>16)throw Error(O9+Pl(e));if(!e.s)return new f(Xd);for(t==null?(go=!1,l=h):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Ig(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new f(Xd),f.precision=l;;){if(a=Ds(a.times(e),l),r=r.times(++c),o=i.plus(Pm(a,r,l)),_0(o.d).slice(0,l)===_0(i.d).slice(0,l)){for(;u--;)i=Ds(i.times(i),l);return f.precision=h,t==null?(go=!0,Ds(i,h)):i}i=o}}function Pl(e){for(var t=e.e*no,r=e.d[0];r>=10;r/=10)t++;return t}function zP(e,t,r){if(t>e.LN10.sd())throw go=!0,r&&(e.precision=r),Error(Kf+"LN10 precision limit exceeded");return Ds(new e(e.LN10),t)}function Fp(e){for(var t="";e--;)t+="0";return t}function X4(e,t){var r,n,a,i,o,l,c,u,f,h=1,g=10,p=e,N=p.d,b=p.constructor,S=b.precision;if(p.s<1)throw Error(Kf+(p.s?"NaN":"-Infinity"));if(p.eq(Xd))return new b(0);if(t==null?(go=!1,u=S):u=t,p.eq(10))return t==null&&(go=!0),zP(b,u);if(u+=g,b.precision=u,r=_0(N),n=r.charAt(0),i=Pl(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=_0(p.d),n=r.charAt(0),h++;i=Pl(p),n>1?(p=new b("0."+r),i++):p=new b(n+"."+r.slice(1))}else return c=zP(b,u+2,S).times(i+""),p=X4(new b(n+"."+r.slice(1)),u-g).plus(c),b.precision=S,t==null?(go=!0,Ds(p,S)):p;for(l=o=p=Pm(p.minus(Xd),p.plus(Xd),u),f=Ds(p.times(p),u),a=3;;){if(o=Ds(o.times(f),u),c=l.plus(Pm(o,new b(a),u)),_0(c.d).slice(0,u)===_0(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(zP(b,u+2,S).times(i+""))),l=Pm(l,new b(h),u),b.precision=S,t==null?(go=!0,Ds(l,S)):l;l=c,a+=2}}function rY(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Mb(r/no),e.d=[],n=(r+1)%no,r<0&&(n+=no),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=no;n<a;)e.d.push(+t.slice(n,n+=no));t=t.slice(n),n=no-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),go&&(e.e>oE||e.e<-oE))throw Error(O9+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ds(e,t,r){var n,a,i,o,l,c,u,f,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=no,a=t,u=h[f=0];else{if(f=Math.ceil((n+1)/no),i=h.length,f>=i)return e;for(u=i=h[f],o=1;i>=10;i/=10)o++;n%=no,a=n-no+o}if(r!==void 0&&(i=Ig(10,o-a-1),l=u/i%10|0,c=t<0||h[f+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ig(10,o-a):0:h[f-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=Pl(e),h.length=1,t=t-i-1,h[0]=Ig(10,(no-t%no)%no),e.e=Mb(-t/no)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=f,i=1,f--):(h.length=f+1,i=Ig(10,no-n),h[f]=a>0?(u/Ig(10,o-a)%Ig(10,a)|0)*i:0),c)for(;;)if(f==0){(h[0]+=i)==hc&&(h[0]=1,++e.e);break}else{if(h[f]+=i,h[f]!=hc)break;h[f--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(go&&(e.e>oE||e.e<-oE))throw Error(O9+Pl(e));return e}function Tfe(e,t){var r,n,a,i,o,l,c,u,f,h,g=e.constructor,p=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),go?Ds(t,p):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),a=Math.max(Math.ceil(p/no),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){f=c[a]<h[a];break}o=0}for(f&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=hc-1;--c[i],c[a]+=hc}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,go?Ds(t,p):t):new g(0)}function Ox(e,t,r){var n,a=Pl(e),i=_0(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Fp(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Fp(-a-1)+i,r&&(n=r-o)>0&&(i+=Fp(n))):a>=o?(i+=Fp(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Fp(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Fp(n))),e.s<0?"-"+i:i}function nY(e,t){if(e.length>t)return e.length=t,!0}function kfe(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(lx+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return rY(o,i.toString())}else if(typeof i!="string")throw Error(lx+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Yrt.test(i))rY(o,i);else throw Error(lx+i)}if(a.prototype=In,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=kfe,a.config=a.set=Xrt,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Xrt(e){if(!e||typeof e!="object")throw Error(Kf+"Object expected");var t,r,n,a=["precision",1,Rb,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Mb(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(lx+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(lx+r+": "+n);return this}var I9=kfe(Krt);Xd=new I9(1);const As=I9;function Zrt(e){return tnt(e)||ent(e)||Qrt(e)||Jrt()}function Jrt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qrt(e,t){if(e){if(typeof e=="string")return gD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gD(e,t)}}function ent(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function tnt(e){if(Array.isArray(e))return gD(e)}function gD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rnt=function(t){return t},Pfe={"@@functional/placeholder":!0},Ofe=function(t){return t===Pfe},aY=function(t){return function r(){return arguments.length===0||arguments.length===1&&Ofe(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},nnt=function e(t,r){return t===1?r:aY(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==Pfe}).length;return o>=t?r.apply(void 0,a):e(t-o,aY(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(h){return Ofe(h)?c.shift():h});return r.apply(void 0,Zrt(f).concat(c))}))})},fT=function(t){return nnt(t.length,t)},xD=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},ant=fT(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),int=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return rnt;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},vD=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Ife=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function snt(e){var t;return e===0?t=1:t=Math.floor(new As(e).abs().log(10).toNumber())+1,t}function ont(e,t,r){for(var n=new As(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var lnt=fT(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),cnt=fT(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),unt=fT(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const hT={rangeStep:ont,getDigitCount:snt,interpolateNumber:lnt,uninterpolateNumber:cnt,uninterpolateTruncation:unt};function yD(e){return hnt(e)||fnt(e)||Ffe(e)||dnt()}function dnt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fnt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function hnt(e){if(Array.isArray(e))return bD(e)}function Z4(e,t){return gnt(e)||pnt(e,t)||Ffe(e,t)||mnt()}function mnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ffe(e,t){if(e){if(typeof e=="string")return bD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bD(e,t)}}function bD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pnt(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function gnt(e){if(Array.isArray(e))return e}function Dfe(e){var t=Z4(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Rfe(e,t,r){if(e.lte(0))return new As(0);var n=hT.getDigitCount(e.toNumber()),a=new As(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new As(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new As(Math.ceil(c))}function xnt(e,t,r){var n=1,a=new As(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new As(10).pow(hT.getDigitCount(e)-1),a=new As(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new As(Math.floor(e)))}else e===0?a=new As(Math.floor((t-1)/2)):r||(a=new As(Math.floor(e)));var o=Math.floor((t-1)/2),l=int(ant(function(c){return a.add(new As(c-o).mul(n)).toNumber()}),xD);return l(0,t)}function Mfe(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new As(0),tickMin:new As(0),tickMax:new As(0)};var i=Rfe(new As(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new As(0):(o=new As(e).add(t).div(2),o=o.sub(new As(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new As(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?Mfe(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new As(l).mul(i)),tickMax:o.add(new As(c).mul(i))})}function vnt(e){var t=Z4(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Dfe([r,n]),c=Z4(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var h=f===1/0?[u].concat(yD(xD(0,a-1).map(function(){return 1/0}))):[].concat(yD(xD(0,a-1).map(function(){return-1/0})),[f]);return r>n?vD(h):h}if(u===f)return xnt(u,a,i);var g=Mfe(u,f,o,i),p=g.step,N=g.tickMin,b=g.tickMax,S=hT.rangeStep(N,b.add(new As(.1).mul(p)),p);return r>n?vD(S):S}function ynt(e,t){var r=Z4(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Dfe([n,a]),l=Z4(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(t,2),h=Rfe(new As(u).sub(c).div(f-1),i,0),g=[].concat(yD(hT.rangeStep(new As(c),new As(u).sub(new As(.99).mul(h)),h)),[u]);return n>a?vD(g):g}var bnt=Ife(vnt),wnt=Ife(ynt),_nt=!0,VP="Invariant failed";function Ix(e,t){if(!e){if(_nt)throw new Error(VP);var r=typeof t=="function"?t():t,n=r?"".concat(VP,": ").concat(r):VP;throw new Error(n)}}var Nnt=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $y(e){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$y(e)}function lE(){return lE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lE.apply(this,arguments)}function Snt(e,t){return jnt(e)||Ent(e,t)||Ant(e,t)||Cnt()}function Cnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ant(e,t){if(e){if(typeof e=="string")return iY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iY(e,t)}}function iY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ent(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jnt(e){if(Array.isArray(e))return e}function Tnt(e,t){if(e==null)return{};var r=knt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function knt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pnt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ufe(n.key),n)}}function Ont(e,t,r){return t&&sY(e.prototype,t),r&&sY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Int(e,t,r){return t=cE(t),Fnt(e,Lfe()?Reflect.construct(t,r||[],cE(e).constructor):t.apply(e,r))}function Fnt(e,t){if(t&&($y(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dnt(e)}function Dnt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lfe=function(){return!!e})()}function cE(e){return cE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cE(e)}function Rnt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wD(e,t)}function wD(e,t){return wD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wD(e,t)}function Bfe(e,t,r){return t=Ufe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ufe(e){var t=Mnt(e,"string");return $y(t)=="symbol"?t:t+""}function Mnt(e,t){if($y(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mT=function(e){function t(){return Pnt(this,t),Int(this,t,arguments)}return Rnt(t,e),Ont(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,h=n.yAxis,g=Tnt(n,Nnt),p=ga(g,!1);this.props.direction==="x"&&f.type!=="number"&&Ix(!1);var N=c.map(function(b){var S=u(b,l),C=S.x,j=S.y,T=S.value,O=S.errorVal;if(!O)return null;var M=[],B,L;if(Array.isArray(O)){var H=Snt(O,2);B=H[0],L=H[1]}else B=L=O;if(i==="vertical"){var U=f.scale,J=j+a,K=J+o,G=J-o,re=U(T-B),ae=U(T+L);M.push({x1:ae,y1:K,x2:ae,y2:G}),M.push({x1:re,y1:J,x2:ae,y2:J}),M.push({x1:re,y1:K,x2:re,y2:G})}else if(i==="horizontal"){var X=h.scale,ne=C+a,de=ne-o,le=ne+o,xe=X(T-B),Se=X(T+L);M.push({x1:de,y1:Se,x2:le,y2:Se}),M.push({x1:ne,y1:xe,x2:ne,y2:Se}),M.push({x1:de,y1:xe,x2:le,y2:xe})}return Ve.createElement(Fi,lE({className:"recharts-errorBar",key:"bar-".concat(M.map(function(ye){return"".concat(ye.x1,"-").concat(ye.x2,"-").concat(ye.y1,"-").concat(ye.y2)}))},p),M.map(function(ye){return Ve.createElement("line",lE({},ye,{key:"line-".concat(ye.x1,"-").concat(ye.x2,"-").concat(ye.y1,"-").concat(ye.y2)}))}))});return Ve.createElement(Fi,{className:"recharts-errorBars"},N)}}])}(Ve.Component);Bfe(mT,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Bfe(mT,"displayName","ErrorBar");function J4(e){"@babel/helpers - typeof";return J4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J4(e)}function oY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oY(Object(r),!0).forEach(function(n){Lnt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lnt(e,t,r){return t=Bnt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bnt(e){var t=Unt(e,"string");return J4(t)=="symbol"?t:t+""}function Unt(e,t){if(J4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(J4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $fe=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Vd(r,Y2);if(!o)return null;var l=Y2.defaultProps,c=l!==void 0?wg(wg({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(f,h){var g=h.item,p=h.props,N=p.sectors||p.data||[];return f.concat(N.map(function(b){return{type:o.props.iconType||g.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(n||[]).map(function(f){var h=f.item,g=h.type.defaultProps,p=g!==void 0?wg(wg({},g),h.props):{},N=p.dataKey,b=p.name,S=p.legendType,C=p.hide;return{inactive:C,dataKey:N,type:c.iconType||S||"square",color:F9(h),value:b||N,payload:p}}),wg(wg(wg({},c),Y2.getWithHeight(o,a)),{},{payload:u,item:o})};function Q4(e){"@babel/helpers - typeof";return Q4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q4(e)}function lY(e){return Wnt(e)||Vnt(e)||znt(e)||$nt()}function $nt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function znt(e,t){if(e){if(typeof e=="string")return _D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _D(e,t)}}function Vnt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wnt(e){if(Array.isArray(e))return _D(e)}function _D(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cY(Object(r),!0).forEach(function(n){Z2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z2(e,t,r){return t=Hnt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hnt(e){var t=qnt(e,"string");return Q4(t)=="symbol"?t:t+""}function qnt(e,t){if(Q4(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Q4(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xl(e,t,r){return ei(e)||ei(t)?r:Jl(t)?af(e,t,r):ja(t)?t(e):r}function D_(e,t,r,n){var a=Wrt(e,function(l){return Xl(l,t)});if(r==="number"){var i=a.filter(function(l){return Dr(l)||parseFloat(l)});return i.length?[dT(i),Gp(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!ei(l)}):a;return o.map(function(l){return Jl(l)||l instanceof Date?l:""})}var Gnt=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,h=a[u].coordinate,g=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Wu(h-f)!==Wu(g-h)){var N=[];if(Wu(g-h)===Wu(c[1]-c[0])){p=g;var b=h+c[1]-c[0];N[0]=Math.min(b,(b+f)/2),N[1]=Math.max(b,(b+f)/2)}else{p=f;var S=g+c[1]-c[0];N[0]=Math.min(h,(S+h)/2),N[1]=Math.max(h,(S+h)/2)}var C=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(t>C[0]&&t<=C[1]||t>=N[0]&&t<=N[1]){o=a[u].index;break}}else{var j=Math.min(f,g),T=Math.max(f,g);if(t>(j+h)/2&&t<=(T+h)/2){o=a[u].index;break}}}else for(var O=0;O<l;O++)if(O===0&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<l-1&&t>(n[O].coordinate+n[O-1].coordinate)/2&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O===l-1&&t>(n[O].coordinate+n[O-1].coordinate)/2){o=n[O].index;break}return o},F9=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Vo(Vo({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Knt=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var f=i[l[c]].stackGroups,h=Object.keys(f),g=0,p=h.length;g<p;g++){var N=f[h[g]],b=N.items,S=N.cateAxisId,C=b.filter(function(L){return km(L.type).indexOf("Bar")>=0});if(C&&C.length){var j=C[0].type.defaultProps,T=j!==void 0?Vo(Vo({},j),C[0].props):C[0].props,O=T.barSize,M=T[S];o[M]||(o[M]=[]);var B=ei(O)?r:O;o[M].push({item:C[0],stackList:C.slice(1),barSize:ei(B)?void 0:Hu(B,n,0)})}}return o},Ynt=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Hu(r,a,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var g=!1,p=a/c,N=o.reduce(function(O,M){return O+M.barSize||0},0);N+=(c-1)*u,N>=a&&(N-=(c-1)*u,u=0),N>=a&&p>0&&(g=!0,p*=.9,N=c*p);var b=(a-N)/2>>0,S={offset:b-u,size:0};f=o.reduce(function(O,M){var B={item:M.item,position:{offset:S.offset+S.size+u,size:g?p:M.barSize}},L=[].concat(lY(O),[B]);return S=L[L.length-1].position,M.stackList&&M.stackList.length&&M.stackList.forEach(function(H){L.push({item:H,position:S})}),L},h)}else{var C=Hu(n,a,0,!0);a-2*C-(c-1)*u<=0&&(u=0);var j=(a-2*C-(c-1)*u)/c;j>1&&(j>>=0);var T=l===+l?Math.min(j,l):j;f=o.reduce(function(O,M,B){var L=[].concat(lY(O),[{item:M.item,position:{offset:C+(j+u)*B+(j-T)/2,size:T}}]);return M.stackList&&M.stackList.length&&M.stackList.forEach(function(H){L.push({item:H,position:L[L.length-1].position})}),L},h)}return f},Xnt=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=$fe({children:i,legendWidth:c});if(u){var f=a||{},h=f.width,g=f.height,p=u.align,N=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&N==="middle")&&p!=="center"&&Dr(t[p]))return Vo(Vo({},t),{},Z2({},p,t[p]+(h||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&N!=="middle"&&Dr(t[N]))return Vo(Vo({},t),{},Z2({},N,t[N]+(g||0)))}return t},Znt=function(t,r,n){return ei(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},zfe=function(t,r,n,a,i){var o=r.props.children,l=Wf(o,mT).filter(function(u){return Znt(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var h=Xl(f,n);if(ei(h))return u;var g=Array.isArray(h)?[dT(h),Gp(h)]:[h,h],p=c.reduce(function(N,b){var S=Xl(f,b,0),C=g[0]-Math.abs(Array.isArray(S)?S[0]:S),j=g[1]+Math.abs(Array.isArray(S)?S[1]:S);return[Math.min(C,N[0]),Math.max(j,N[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Jnt=function(t,r,n,a,i){var o=r.map(function(l){return zfe(t,l,n,i,a)}).filter(function(l){return!ei(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Vfe=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&zfe(t,c,u,a)||D_(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,h=u.length;f<h;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},Wfe=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Hfe=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Cm=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Wu(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(h){var g=i?i.indexOf(h):h;return{coordinate:a(g)+u,value:h,offset:u}});return f.filter(function(h){return!kb(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,g){return{coordinate:a(h)+u,value:h,index:g,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+u,value:h,offset:u}}):a.domain().map(function(h,g){return{coordinate:a(h)+u,value:i?i[h]:h,index:g,offset:u}})},WP=new WeakMap,_S=function(t,r){if(typeof r!="function")return t;WP.has(t)||WP.set(t,new WeakMap);var n=WP.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},qfe=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:H4(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:nE(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:F_(),realScaleType:"point"}:i==="category"?{scale:H4(),realScaleType:"band"}:{scale:nE(),realScaleType:"linear"};if(Tx(a)){var c="scale".concat(X6(a));return{scale:(tY[c]||F_)(),realScaleType:tY[c]?c:"point"}}return ja(a)?{scale:a}:{scale:F_(),realScaleType:"point"}},uY=1e-4,Gfe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-uY,o=Math.max(a[0],a[1])+uY,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},Qnt=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},eat=function(t,r){if(!r||r.length!==2||!Dr(r[0])||!Dr(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Dr(t[0])||t[0]<n)&&(i[0]=n),(!Dr(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},tat=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=kb(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},rat=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=kb(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},nat={sign:tat,expand:NWe,none:Oy,silhouette:SWe,wiggle:CWe,positive:rat},aat=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=nat[n],o=_We().keys(a).value(function(l,c){return+Xl(l,c,0)}).order(GF).offset(i);return o(t)},iat=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,g){var p,N=(p=g.type)!==null&&p!==void 0&&p.defaultProps?Vo(Vo({},g.type.defaultProps),g.props):g.props,b=N.stackId,S=N.hide;if(S)return h;var C=N[n],j=h[C]||{hasStack:!1,stackGroups:{}};if(Jl(b)){var T=j.stackGroups[b]||{numericAxisId:n,cateAxisId:a,items:[]};T.items.push(g),j.hasStack=!0,j.stackGroups[b]=T}else j.stackGroups[Pb("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[g]};return Vo(Vo({},h),{},Z2({},C,j))},c),f={};return Object.keys(u).reduce(function(h,g){var p=u[g];if(p.hasStack){var N={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,S){var C=p.stackGroups[S];return Vo(Vo({},b),{},Z2({},S,{numericAxisId:n,cateAxisId:a,items:C.items,stackedData:aat(t,C.items,i)}))},N)}return Vo(Vo({},h),{},Z2({},g,p))},f)},Kfe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=bnt(u,i,l);return t.domain([dT(f),Gp(f)]),{niceTicks:f}}if(i&&a==="number"){var h=t.domain(),g=wnt(h,i,l);return{niceTicks:g}}return null};function dY(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ei(a[t.dataKey])){var l=RA(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Xl(a,ei(o)?t.dataKey:o);return ei(c)?null:t.scale(c)}var fY=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Xl(o,r.dataKey,r.domain[l]);return ei(c)?null:r.scale(c)-i/2+a},sat=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},oat=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Vo(Vo({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Jl(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},lat=function(t){return t.reduce(function(r,n){return[dT(n.concat([r[0]]).filter(Dr)),Gp(n.concat([r[1]]).filter(Dr))]},[1/0,-1/0])},Yfe=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,f){var h=lat(f.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},hY=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mY=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ND=function(t,r,n){if(ja(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Dr(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(hY.test(t[0])){var i=+hY.exec(t[0])[1];a[0]=r[0]-i}else ja(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Dr(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(mY.test(t[1])){var o=+mY.exec(t[1])[1];a[1]=r[1]+o}else ja(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},uE=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=l9(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},pY=function(t,r,n){return!t||!t.length||Uy(t,af(n,"type.defaultProps.domain"))?r:t},Xfe=function(t,r){var n=t.type.defaultProps?Vo(Vo({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return Vo(Vo({},ga(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:F9(t),value:Xl(r,a),type:c,payload:r,chartType:u,hide:f})};function e5(e){"@babel/helpers - typeof";return e5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e5(e)}function gY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gY(Object(r),!0).forEach(function(n){Zfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zfe(e,t,r){return t=cat(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cat(e){var t=uat(e,"string");return e5(t)=="symbol"?t:t+""}function uat(e,t){if(e5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(e5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dat(e,t){return pat(e)||mat(e,t)||hat(e,t)||fat()}function fat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hat(e,t){if(e){if(typeof e=="string")return xY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xY(e,t)}}function xY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mat(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function pat(e){if(Array.isArray(e))return e}var dE=Math.PI/180,gat=function(t){return t*180/Math.PI},Hs=function(t,r,n,a){return{x:t+Math.cos(-dE*a)*n,y:r+Math.sin(-dE*a)*n}},Jfe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},xat=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=Hu(t.cx,o,o/2),h=Hu(t.cy,l,l/2),g=Jfe(o,l,n),p=Hu(t.innerRadius,g,0),N=Hu(t.outerRadius,g,g*.8),b=Object.keys(r);return b.reduce(function(S,C){var j=r[C],T=j.domain,O=j.reversed,M;if(ei(j.range))a==="angleAxis"?M=[c,u]:a==="radiusAxis"&&(M=[p,N]),O&&(M=[M[1],M[0]]);else{M=j.range;var B=M,L=dat(B,2);c=L[0],u=L[1]}var H=qfe(j,i),U=H.realScaleType,J=H.scale;J.domain(T).range(M),Gfe(J);var K=Kfe(J,pm(pm({},j),{},{realScaleType:U})),G=pm(pm(pm({},j),K),{},{range:M,radius:N,realScaleType:U,scale:J,cx:f,cy:h,innerRadius:p,outerRadius:N,startAngle:c,endAngle:u});return pm(pm({},S),{},Zfe({},C,G))},{})},vat=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},yat=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=vat({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:gat(u),angleInRadian:u}},bat=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},wat=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},vY=function(t,r){var n=t.x,a=t.y,i=yat({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=bat(r),h=f.startAngle,g=f.endAngle,p=l,N;if(h<=g){for(;p>g;)p-=360;for(;p<h;)p+=360;N=p>=h&&p<=g}else{for(;p>h;)p-=360;for(;p<g;)p+=360;N=p>=g&&p<=h}return N?pm(pm({},r),{},{radius:o,angle:wat(p,r)}):null},Qfe=function(t){return!A.isValidElement(t)&&!ja(t)&&typeof t!="boolean"?t.className:""};function t5(e){"@babel/helpers - typeof";return t5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t5(e)}var _at=["offset"];function Nat(e){return Eat(e)||Aat(e)||Cat(e)||Sat()}function Sat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cat(e,t){if(e){if(typeof e=="string")return SD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SD(e,t)}}function Aat(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eat(e){if(Array.isArray(e))return SD(e)}function SD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jat(e,t){if(e==null)return{};var r=Tat(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tat(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yY(Object(r),!0).forEach(function(n){kat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kat(e,t,r){return t=Pat(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pat(e){var t=Oat(e,"string");return t5(t)=="symbol"?t:t+""}function Oat(e,t){if(t5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(t5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r5(){return r5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r5.apply(this,arguments)}var Iat=function(t){var r=t.value,n=t.formatter,a=ei(t.children)?r:t.children;return ja(n)?n(a):a},Fat=function(t,r){var n=Wu(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Dat=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,f=c.cy,h=c.innerRadius,g=c.outerRadius,p=c.startAngle,N=c.endAngle,b=c.clockWise,S=(h+g)/2,C=Fat(p,N),j=C>=0?1:-1,T,O;a==="insideStart"?(T=p+j*o,O=b):a==="insideEnd"?(T=N-j*o,O=!b):a==="end"&&(T=N+j*o,O=b),O=C<=0?O:!O;var M=Hs(u,f,S,T),B=Hs(u,f,S,T+(O?1:-1)*359),L="M".concat(M.x,",").concat(M.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(O?0:1,`,
    `).concat(B.x,",").concat(B.y),H=ei(t.id)?Pb("recharts-radial-line-"):t.id;return Ve.createElement("text",r5({},n,{dominantBaseline:"central",className:Qa("recharts-radial-bar-label",l)}),Ve.createElement("defs",null,Ve.createElement("path",{id:H,d:L})),Ve.createElement("textPath",{xlinkHref:"#".concat(H)},r))},Rat=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,h=i.endAngle,g=(f+h)/2;if(a==="outside"){var p=Hs(o,l,u+n,g),N=p.x,b=p.y;return{x:N,y:b,textAnchor:N>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var S=(c+u)/2,C=Hs(o,l,S,g),j=C.x,T=C.y;return{x:j,y:T,textAnchor:"middle",verticalAnchor:"middle"}},Mat=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,h=f>=0?1:-1,g=h*a,p=h>0?"end":"start",N=h>0?"start":"end",b=u>=0?1:-1,S=b*a,C=b>0?"end":"start",j=b>0?"start":"end";if(i==="top"){var T={x:l+u/2,y:c-h*a,textAnchor:"middle",verticalAnchor:p};return Wl(Wl({},T),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var O={x:l+u/2,y:c+f+g,textAnchor:"middle",verticalAnchor:N};return Wl(Wl({},O),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(i==="left"){var M={x:l-S,y:c+f/2,textAnchor:C,verticalAnchor:"middle"};return Wl(Wl({},M),n?{width:Math.max(M.x-n.x,0),height:f}:{})}if(i==="right"){var B={x:l+u+S,y:c+f/2,textAnchor:j,verticalAnchor:"middle"};return Wl(Wl({},B),n?{width:Math.max(n.x+n.width-B.x,0),height:f}:{})}var L=n?{width:u,height:f}:{};return i==="insideLeft"?Wl({x:l+S,y:c+f/2,textAnchor:j,verticalAnchor:"middle"},L):i==="insideRight"?Wl({x:l+u-S,y:c+f/2,textAnchor:C,verticalAnchor:"middle"},L):i==="insideTop"?Wl({x:l+u/2,y:c+g,textAnchor:"middle",verticalAnchor:N},L):i==="insideBottom"?Wl({x:l+u/2,y:c+f-g,textAnchor:"middle",verticalAnchor:p},L):i==="insideTopLeft"?Wl({x:l+S,y:c+g,textAnchor:j,verticalAnchor:N},L):i==="insideTopRight"?Wl({x:l+u-S,y:c+g,textAnchor:C,verticalAnchor:N},L):i==="insideBottomLeft"?Wl({x:l+S,y:c+f-g,textAnchor:j,verticalAnchor:p},L):i==="insideBottomRight"?Wl({x:l+u-S,y:c+f-g,textAnchor:C,verticalAnchor:p},L):Ab(i)&&(Dr(i.x)||Xg(i.x))&&(Dr(i.y)||Xg(i.y))?Wl({x:l+Hu(i.x,u),y:c+Hu(i.y,f),textAnchor:"end",verticalAnchor:"end"},L):Wl({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},L)},Lat=function(t){return"cx"in t&&Dr(t.cx)};function xc(e){var t=e.offset,r=t===void 0?5:t,n=jat(e,_at),a=Wl({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,f=a.className,h=f===void 0?"":f,g=a.textBreakAll;if(!i||ei(l)&&ei(c)&&!A.isValidElement(u)&&!ja(u))return null;if(A.isValidElement(u))return A.cloneElement(u,a);var p;if(ja(u)){if(p=A.createElement(u,a),A.isValidElement(p))return p}else p=Iat(a);var N=Lat(i),b=ga(a,!0);if(N&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Dat(a,p,b);var S=N?Rat(a):Mat(a);return Ve.createElement(Px,r5({className:Qa("recharts-label",h)},b,S,{breakAll:g}),p)}xc.displayName="Label";var ehe=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,h=t.x,g=t.y,p=t.top,N=t.left,b=t.width,S=t.height,C=t.clockWise,j=t.labelViewBox;if(j)return j;if(Dr(b)&&Dr(S)){if(Dr(h)&&Dr(g))return{x:h,y:g,width:b,height:S};if(Dr(p)&&Dr(N))return{x:p,y:N,width:b,height:S}}return Dr(h)&&Dr(g)?{x:h,y:g,width:0,height:0}:Dr(r)&&Dr(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:C}:t.viewBox?t.viewBox:{}},Bat=function(t,r){return t?t===!0?Ve.createElement(xc,{key:"label-implicit",viewBox:r}):Jl(t)?Ve.createElement(xc,{key:"label-implicit",viewBox:r,value:t}):A.isValidElement(t)?t.type===xc?A.cloneElement(t,{key:"label-implicit",viewBox:r}):Ve.createElement(xc,{key:"label-implicit",content:t,viewBox:r}):ja(t)?Ve.createElement(xc,{key:"label-implicit",content:t,viewBox:r}):Ab(t)?Ve.createElement(xc,r5({viewBox:r},t,{key:"label-implicit"})):null:null},Uat=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=ehe(t),o=Wf(a,xc).map(function(c,u){return A.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=Bat(t.label,r||i);return[l].concat(Nat(o))};xc.parseViewBox=ehe;xc.renderCallByParent=Uat;function $at(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var zat=$at;const Vat=ji(zat);function n5(e){"@babel/helpers - typeof";return n5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n5(e)}var Wat=["valueAccessor"],Hat=["data","dataKey","clockWise","id","textBreakAll"];function qat(e){return Xat(e)||Yat(e)||Kat(e)||Gat()}function Gat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kat(e,t){if(e){if(typeof e=="string")return CD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CD(e,t)}}function Yat(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xat(e){if(Array.isArray(e))return CD(e)}function CD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fE(){return fE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fE.apply(this,arguments)}function bY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bY(Object(r),!0).forEach(function(n){Zat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zat(e,t,r){return t=Jat(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jat(e){var t=Qat(e,"string");return n5(t)=="symbol"?t:t+""}function Qat(e,t){if(n5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(n5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Y(e,t){if(e==null)return{};var r=eit(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eit(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tit=function(t){return Array.isArray(t.value)?Vat(t.value):t.value};function Om(e){var t=e.valueAccessor,r=t===void 0?tit:t,n=_Y(e,Wat),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=_Y(n,Hat);return!a||!a.length?null:Ve.createElement(Fi,{className:"recharts-label-list"},a.map(function(f,h){var g=ei(i)?r(f,h):Xl(f&&f.payload,i),p=ei(l)?{}:{id:"".concat(l,"-").concat(h)};return Ve.createElement(xc,fE({},ga(f,!0),u,p,{parentViewBox:f.parentViewBox,value:g,textBreakAll:c,viewBox:xc.parseViewBox(ei(o)?f:wY(wY({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Om.displayName="LabelList";function rit(e,t){return e?e===!0?Ve.createElement(Om,{key:"labelList-implicit",data:t}):Ve.isValidElement(e)||ja(e)?Ve.createElement(Om,{key:"labelList-implicit",data:t,content:e}):Ab(e)?Ve.createElement(Om,fE({data:t},e,{key:"labelList-implicit"})):null:null}function nit(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Wf(n,Om).map(function(o,l){return A.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=rit(e.label,t);return[i].concat(qat(a))}Om.renderCallByParent=nit;function a5(e){"@babel/helpers - typeof";return a5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a5(e)}function AD(){return AD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AD.apply(this,arguments)}function NY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NY(Object(r),!0).forEach(function(n){ait(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ait(e,t,r){return t=iit(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iit(e){var t=sit(e,"string");return a5(t)=="symbol"?t:t+""}function sit(e,t){if(a5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(a5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oit=function(t,r){var n=Wu(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},NS=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+a,h=Math.asin(c/f)/dE,g=u?i:i+o*h,p=Hs(r,n,f,g),N=Hs(r,n,a,g),b=u?i-o*h:i,S=Hs(r,n,f*Math.cos(h*dE),b);return{center:p,circleTangency:N,lineTangency:S,theta:h}},the=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=oit(o,l),u=o+c,f=Hs(r,n,i,o),h=Hs(r,n,i,u),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var p=Hs(r,n,a,o),N=Hs(r,n,a,u);g+="L ".concat(N.x,",").concat(N.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},lit=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,h=Wu(f-u),g=NS({cx:r,cy:n,radius:i,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),p=g.circleTangency,N=g.lineTangency,b=g.theta,S=NS({cx:r,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:c}),C=S.circleTangency,j=S.lineTangency,T=S.theta,O=c?Math.abs(u-f):Math.abs(u-f)-b-T;if(O<0)return l?"M ".concat(N.x,",").concat(N.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):the({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:f});var M="M ".concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
  `);if(a>0){var B=NS({cx:r,cy:n,radius:a,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=B.circleTangency,H=B.lineTangency,U=B.theta,J=NS({cx:r,cy:n,radius:a,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),K=J.circleTangency,G=J.lineTangency,re=J.theta,ae=c?Math.abs(u-f):Math.abs(u-f)-U-re;if(ae<0&&o===0)return"".concat(M,"L").concat(r,",").concat(n,"Z");M+="L".concat(G.x,",").concat(G.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(K.x,",").concat(K.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(ae>180),",").concat(+(h>0),",").concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(H.x,",").concat(H.y,"Z")}else M+="L".concat(r,",").concat(n,"Z");return M},cit={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rhe=function(t){var r=SY(SY({},cit),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,h=r.endAngle,g=r.className;if(o<i||f===h)return null;var p=Qa("recharts-sector",g),N=o-i,b=Hu(l,N,0,!0),S;return b>0&&Math.abs(f-h)<360?S=lit({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(b,N/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}):S=the({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),Ve.createElement("path",AD({},ga(r,!0),{className:p,d:S,role:"img"}))};function i5(e){"@babel/helpers - typeof";return i5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i5(e)}function ED(){return ED=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ED.apply(this,arguments)}function CY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CY(Object(r),!0).forEach(function(n){uit(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uit(e,t,r){return t=dit(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dit(e){var t=fit(e,"string");return i5(t)=="symbol"?t:t+""}function fit(e,t){if(i5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(i5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EY={curveBasisClosed:dWe,curveBasisOpen:fWe,curveBasis:uWe,curveBumpX:XVe,curveBumpY:ZVe,curveLinearClosed:hWe,curveLinear:J6,curveMonotoneX:mWe,curveMonotoneY:pWe,curveNatural:gWe,curveStep:xWe,curveStepAfter:yWe,curveStepBefore:vWe},SS=function(t){return t.x===+t.x&&t.y===+t.y},Vw=function(t){return t.x},Ww=function(t){return t.y},hit=function(t,r){if(ja(t))return t;var n="curve".concat(X6(t));return(n==="curveMonotone"||n==="curveBump")&&r?EY["".concat(n).concat(r==="vertical"?"Y":"X")]:EY[n]||J6},mit=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=hit(n,l),h=u?i.filter(function(b){return SS(b)}):i,g;if(Array.isArray(o)){var p=u?o.filter(function(b){return SS(b)}):o,N=h.map(function(b,S){return AY(AY({},b),{},{base:p[S]})});return l==="vertical"?g=mS().y(Ww).x1(Vw).x0(function(b){return b.base.x}):g=mS().x(Vw).y1(Ww).y0(function(b){return b.base.y}),g.defined(SS).curve(f),g(N)}return l==="vertical"&&Dr(o)?g=mS().y(Ww).x1(Vw).x0(o):Dr(o)?g=mS().x(Vw).y1(Ww).y0(o):g=Xue().x(Vw).y(Ww),g.defined(SS).curve(f),g(h)},J2=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?mit(t):a;return A.createElement("path",ED({},ga(t,!1),MA(t),{className:Qa("recharts-curve",r),d:o,ref:i}))},pit=Object.getOwnPropertyNames,git=Object.getOwnPropertySymbols,xit=Object.prototype.hasOwnProperty;function jY(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function CS(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function vit(e){return e!=null?e[Symbol.toStringTag]:void 0}function TY(e){return pit(e).concat(git(e))}var yit=Object.hasOwn||function(e,t){return xit.call(e,t)};function av(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var bit="__v",wit="__o",_it="_owner",kY=Object.getOwnPropertyDescriptor,PY=Object.keys;function Nit(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Sit(e,t){return av(e.getTime(),t.getTime())}function Cit(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ait(e,t){return e===t}function OY(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),f=!1,h=0;(l=u.next())&&!l.done;){if(a[h]){h++;continue}var g=o.value,p=l.value;if(r.equals(g[0],p[0],c,h,e,t,r)&&r.equals(g[1],p[1],g[0],p[0],e,t,r)){f=a[h]=!0;break}h++}if(!f)return!1;c++}return!0}var Eit=av;function jit(e,t,r){var n=PY(e),a=n.length;if(PY(t).length!==a)return!1;for(;a-- >0;)if(!nhe(e,t,r,n[a]))return!1;return!0}function Hw(e,t,r){var n=TY(e),a=n.length;if(TY(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!nhe(e,t,r,i)||(o=kY(e,i),l=kY(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Tit(e,t){return av(e.valueOf(),t.valueOf())}function kit(e,t){return e.source===t.source&&e.flags===t.flags}function IY(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!a[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function Pit(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Oit(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function nhe(e,t,r,n){return(n===_it||n===wit||n===bit)&&(e.$$typeof||t.$$typeof)?!0:yit(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Iit="[object Arguments]",Fit="[object Boolean]",Dit="[object Date]",Rit="[object Error]",Mit="[object Map]",Lit="[object Number]",Bit="[object Object]",Uit="[object RegExp]",$it="[object Set]",zit="[object String]",Vit="[object URL]",Wit=Array.isArray,FY=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,DY=Object.assign,Hit=Object.prototype.toString.call.bind(Object.prototype.toString);function qit(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,h=e.areTypedArraysEqual,g=e.areUrlsEqual,p=e.unknownTagComparators;return function(b,S,C){if(b===S)return!0;if(b==null||S==null)return!1;var j=typeof b;if(j!==typeof S)return!1;if(j!=="object")return j==="number"?o(b,S,C):j==="function"?a(b,S,C):!1;var T=b.constructor;if(T!==S.constructor)return!1;if(T===Object)return l(b,S,C);if(Wit(b))return t(b,S,C);if(FY!=null&&FY(b))return h(b,S,C);if(T===Date)return r(b,S,C);if(T===RegExp)return u(b,S,C);if(T===Map)return i(b,S,C);if(T===Set)return f(b,S,C);var O=Hit(b);if(O===Dit)return r(b,S,C);if(O===Uit)return u(b,S,C);if(O===Mit)return i(b,S,C);if(O===$it)return f(b,S,C);if(O===Bit)return typeof b.then!="function"&&typeof S.then!="function"&&l(b,S,C);if(O===Vit)return g(b,S,C);if(O===Rit)return n(b,S,C);if(O===Iit)return l(b,S,C);if(O===Fit||O===Lit||O===zit)return c(b,S,C);if(p){var M=p[O];if(!M){var B=vit(b);B&&(M=p[B])}if(M)return M(b,S,C)}return!1}}function Git(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Hw:Nit,areDatesEqual:Sit,areErrorsEqual:Cit,areFunctionsEqual:Ait,areMapsEqual:n?jY(OY,Hw):OY,areNumbersEqual:Eit,areObjectsEqual:n?Hw:jit,arePrimitiveWrappersEqual:Tit,areRegExpsEqual:kit,areSetsEqual:n?jY(IY,Hw):IY,areTypedArraysEqual:n?Hw:Pit,areUrlsEqual:Oit,unknownTagComparators:void 0};if(r&&(a=DY({},a,r(a))),t){var i=CS(a.areArraysEqual),o=CS(a.areMapsEqual),l=CS(a.areObjectsEqual),c=CS(a.areSetsEqual);a=DY({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Kit(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function Yit(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var f=n(),h=f.cache,g=h===void 0?t?new WeakMap:void 0:h,p=f.meta;return r(c,u,{cache:g,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var Xit=K1();K1({strict:!0});K1({circular:!0});K1({circular:!0,strict:!0});K1({createInternalComparator:function(){return av}});K1({strict:!0,createInternalComparator:function(){return av}});K1({circular:!0,createInternalComparator:function(){return av}});K1({circular:!0,createInternalComparator:function(){return av},strict:!0});function K1(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=Git(e),c=qit(l),u=n?n(c):Kit(c);return Yit({circular:r,comparator:c,createState:a,equals:u,strict:o})}function Zit(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function RY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Zit(a)};requestAnimationFrame(n)}function jD(e){"@babel/helpers - typeof";return jD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jD(e)}function Jit(e){return rst(e)||tst(e)||est(e)||Qit()}function Qit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function est(e,t){if(e){if(typeof e=="string")return MY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MY(e,t)}}function MY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tst(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rst(e){if(Array.isArray(e))return e}function nst(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Jit(o),c=l[0],u=l.slice(1);if(typeof c=="number"){RY(a.bind(null,u),c);return}a(c),RY(a.bind(null,u));return}jD(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function s5(e){"@babel/helpers - typeof";return s5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s5(e)}function LY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LY(Object(r),!0).forEach(function(n){ahe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ahe(e,t,r){return t=ast(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ast(e){var t=ist(e,"string");return s5(t)==="symbol"?t:String(t)}function ist(e,t){if(s5(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(s5(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sst=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},ost=function(t){return t},lst=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},R_=function(t,r){return Object.keys(r).reduce(function(n,a){return BY(BY({},n),{},ahe({},a,t(a,r[a])))},{})},UY=function(t,r,n){return t.map(function(a){return"".concat(lst(a)," ").concat(r,"ms ").concat(n)}).join(",")};function cst(e,t){return fst(e)||dst(e,t)||ihe(e,t)||ust()}function ust(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dst(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fst(e){if(Array.isArray(e))return e}function hst(e){return gst(e)||pst(e)||ihe(e)||mst()}function mst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ihe(e,t){if(e){if(typeof e=="string")return TD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TD(e,t)}}function pst(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gst(e){if(Array.isArray(e))return TD(e)}function TD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hE=1e-4,she=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},ohe=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},$Y=function(t,r){return function(n){var a=she(t,r);return ohe(a,n)}},xst=function(t,r){return function(n){var a=she(t,r),i=[].concat(hst(a.map(function(o,l){return o*l}).slice(1)),[0]);return ohe(i,n)}},zY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(S){return parseFloat(S)}),f=cst(u,4);a=f[0],i=f[1],o=f[2],l=f[3]}}}var h=$Y(a,o),g=$Y(i,l),p=xst(a,o),N=function(C){return C>1?1:C<0?0:C},b=function(C){for(var j=C>1?1:C,T=j,O=0;O<8;++O){var M=h(T)-j,B=p(T);if(Math.abs(M-j)<hE||B<hE)return g(T);T=N(T-M/B)}return g(T)};return b.isStepper=!1,b},vst=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(f,h,g){var p=-(f-h)*n,N=g*i,b=g+(p-N)*l/1e3,S=g*l/1e3+f;return Math.abs(S-h)<hE&&Math.abs(b)<hE?[h,0]:[S,b]};return c.isStepper=!0,c.dt=l,c},yst=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zY(a);case"spring":return vst();default:if(a.split("(")[0]==="cubic-bezier")return zY(a)}return typeof a=="function"?a:null};function o5(e){"@babel/helpers - typeof";return o5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o5(e)}function VY(e){return _st(e)||wst(e)||lhe(e)||bst()}function bst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wst(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _st(e){if(Array.isArray(e))return PD(e)}function WY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WY(Object(r),!0).forEach(function(n){kD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kD(e,t,r){return t=Nst(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nst(e){var t=Sst(e,"string");return o5(t)==="symbol"?t:String(t)}function Sst(e,t){if(o5(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(o5(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cst(e,t){return jst(e)||Est(e,t)||lhe(e,t)||Ast()}function Ast(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lhe(e,t){if(e){if(typeof e=="string")return PD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PD(e,t)}}function PD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Est(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jst(e){if(Array.isArray(e))return e}var mE=function(t,r,n){return t+(r-t)*n},OD=function(t){var r=t.from,n=t.to;return r!==n},Tst=function e(t,r,n){var a=R_(function(i,o){if(OD(o)){var l=t(o.from,o.to,o.velocity),c=Cst(l,2),u=c[0],f=c[1];return Mc(Mc({},o),{},{from:u,velocity:f})}return o},r);return n<1?R_(function(i,o){return OD(o)?Mc(Mc({},o),{},{velocity:mE(o.velocity,a[i].velocity,n),from:mE(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const kst=function(e,t,r,n,a){var i=sst(e,t),o=i.reduce(function(S,C){return Mc(Mc({},S),{},kD({},C,[e[C],t[C]]))},{}),l=i.reduce(function(S,C){return Mc(Mc({},S),{},kD({},C,{from:e[C],velocity:0,to:t[C]}))},{}),c=-1,u,f,h=function(){return null},g=function(){return R_(function(C,j){return j.from},l)},p=function(){return!Object.values(l).filter(OD).length},N=function(C){u||(u=C);var j=C-u,T=j/r.dt;l=Tst(r,l,T),a(Mc(Mc(Mc({},e),t),g())),u=C,p()||(c=requestAnimationFrame(h))},b=function(C){f||(f=C);var j=(C-f)/n,T=R_(function(M,B){return mE.apply(void 0,VY(B).concat([r(j)]))},o);if(a(Mc(Mc(Mc({},e),t),T)),j<1)c=requestAnimationFrame(h);else{var O=R_(function(M,B){return mE.apply(void 0,VY(B).concat([r(1)]))},o);a(Mc(Mc(Mc({},e),t),O))}};return h=r.isStepper?N:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function zy(e){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zy(e)}var Pst=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ost(e,t){if(e==null)return{};var r=Ist(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ist(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function HP(e){return Mst(e)||Rst(e)||Dst(e)||Fst()}function Fst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dst(e,t){if(e){if(typeof e=="string")return ID(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ID(e,t)}}function Rst(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mst(e){if(Array.isArray(e))return ID(e)}function ID(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HY(Object(r),!0).forEach(function(n){l_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l_(e,t,r){return t=che(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,che(n.key),n)}}function Bst(e,t,r){return t&&qY(e.prototype,t),r&&qY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function che(e){var t=Ust(e,"string");return zy(t)==="symbol"?t:String(t)}function Ust(e,t){if(zy(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $st(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FD(e,t)}function FD(e,t){return FD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FD(e,t)}function zst(e){var t=Vst();return function(){var n=pE(e),a;if(t){var i=pE(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return DD(this,a)}}function DD(e,t){if(t&&(zy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RD(e)}function RD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vst(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pE(e){return pE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pE(e)}var pT=function(e){$st(r,e);var t=zst(r);function r(n,a){var i;Lst(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,h=o.steps,g=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(RD(i)),i.changeStyle=i.changeStyle.bind(RD(i)),!l||p<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:f}),DD(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof g=="function")return i.state={style:u},DD(i);i.state={style:c?l_({},c,u):u}}else i.state={style:{}};return i}return Bst(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,h=i.from,g=this.state.style;if(l){if(!o){var p={style:c?l_({},c,f):f};this.state&&g&&(c&&g[c]!==f||!c&&g!==f)&&this.setState(p);return}if(!(Xit(a.to,f)&&a.canBegin&&a.isActive)){var N=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=N||u?h:a.to;if(this.state&&g){var S={style:c?l_({},c,b):b};(c&&g[c]!==b||!c&&g!==b)&&this.setState(S)}this.runAnimation(ph(ph({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,h=a.onAnimationEnd,g=a.onAnimationStart,p=kst(o,l,yst(u),c,this.changeStyle),N=function(){i.stopJSAnimation=p()};this.manager.start([g,f,N,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],f=u.style,h=u.duration,g=h===void 0?0:h,p=function(b,S,C){if(C===0)return b;var j=S.duration,T=S.easing,O=T===void 0?"ease":T,M=S.style,B=S.properties,L=S.onAnimationEnd,H=C>0?o[C-1]:S,U=B||Object.keys(M);if(typeof O=="function"||O==="spring")return[].concat(HP(b),[i.runJSAnimation.bind(i,{from:H.style,to:M,duration:j,easing:O}),j]);var J=UY(U,j,O),K=ph(ph(ph({},H.style),M),{},{transition:J});return[].concat(HP(b),[K,j,L]).filter(ost)};return this.manager.start([c].concat(HP(o.reduce(p,[f,Math.max(g,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=nst());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,h=a.onAnimationEnd,g=a.steps,p=a.children,N=this.manager;if(this.unSubscribe=N.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(g.length>1){this.runStepAnimation(a);return}var b=l?l_({},l,c):c,S=UY(Object.keys(b),o,u);N.start([f,i,ph(ph({},b),{},{transition:S}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Ost(a,Pst),u=A.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||o<=0)return i;var h=function(p){var N=p.props,b=N.style,S=b===void 0?{}:b,C=N.className,j=A.cloneElement(p,ph(ph({},c),{},{style:ph(ph({},S),f),className:C}));return j};return u===1?h(A.Children.only(i)):Ve.createElement("div",null,A.Children.map(i,function(g){return h(g)}))}}]),r}(A.PureComponent);pT.displayName="Animate";pT.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pT.propTypes={from:pa.oneOfType([pa.object,pa.string]),to:pa.oneOfType([pa.object,pa.string]),attributeName:pa.string,duration:pa.number,begin:pa.number,easing:pa.oneOfType([pa.string,pa.func]),steps:pa.arrayOf(pa.shape({duration:pa.number.isRequired,style:pa.object.isRequired,easing:pa.oneOfType([pa.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),pa.func]),properties:pa.arrayOf("string"),onAnimationEnd:pa.func})),children:pa.oneOfType([pa.node,pa.func]),isActive:pa.bool,canBegin:pa.bool,onAnimationEnd:pa.func,shouldReAnimate:pa.bool,onAnimationStart:pa.func,onAnimationReStart:pa.func};const Fx=pT;function l5(e){"@babel/helpers - typeof";return l5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l5(e)}function gE(){return gE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gE.apply(this,arguments)}function Wst(e,t){return Kst(e)||Gst(e,t)||qst(e,t)||Hst()}function Hst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qst(e,t){if(e){if(typeof e=="string")return GY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GY(e,t)}}function GY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gst(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Kst(e){if(Array.isArray(e))return e}function KY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KY(Object(r),!0).forEach(function(n){Yst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yst(e,t,r){return t=Xst(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xst(e){var t=Zst(e,"string");return l5(t)=="symbol"?t:t+""}function Zst(e,t){if(l5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(l5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XY=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],g=0,p=4;g<p;g++)h[g]=i[g]>o?o:i[g];f="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(r)),f+="L ".concat(t+n-c*h[1],",").concat(r),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*h[1])),f+="L ".concat(t+n,",").concat(r+a-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+n-c*h[2],",").concat(r+a)),f+="L ".concat(t+c*h[3],",").concat(r+a),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var N=Math.min(o,i);f="M ".concat(t,",").concat(r+l*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(u,",").concat(t+c*N,",").concat(r,`
            L `).concat(t+n-c*N,",").concat(r,`
            A `).concat(N,",").concat(N,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*N,`
            L `).concat(t+n,",").concat(r+a-l*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(u,",").concat(t+n-c*N,",").concat(r+a,`
            L `).concat(t+c*N,",").concat(r+a,`
            A `).concat(N,",").concat(N,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*N," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},Jst=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),h=Math.min(o,o+c),g=Math.max(o,o+c);return n>=u&&n<=f&&a>=h&&a<=g}return!1},Qst={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},D9=function(t){var r=YY(YY({},Qst),t),n=A.useRef(),a=A.useState(-1),i=Wst(a,2),o=i[0],l=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&l(O)}catch{}},[]);var c=r.x,u=r.y,f=r.width,h=r.height,g=r.radius,p=r.className,N=r.animationEasing,b=r.animationDuration,S=r.animationBegin,C=r.isAnimationActive,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var T=Qa("recharts-rectangle",p);return j?Ve.createElement(Fx,{canBegin:o>0,from:{width:f,height:h,x:c,y:u},to:{width:f,height:h,x:c,y:u},duration:b,animationEasing:N,isActive:j},function(O){var M=O.width,B=O.height,L=O.x,H=O.y;return Ve.createElement(Fx,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:b,isActive:C,easing:N},Ve.createElement("path",gE({},ga(r,!0),{className:T,d:XY(L,H,M,B,g),ref:n})))}):Ve.createElement("path",gE({},ga(r,!0),{className:T,d:XY(c,u,f,h,g)}))},eot=["points","className","baseLinePoints","connectNulls"];function C2(){return C2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C2.apply(this,arguments)}function tot(e,t){if(e==null)return{};var r=rot(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rot(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZY(e){return sot(e)||iot(e)||aot(e)||not()}function not(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aot(e,t){if(e){if(typeof e=="string")return MD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MD(e,t)}}function iot(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sot(e){if(Array.isArray(e))return MD(e)}function MD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var JY=function(t){return t&&t.x===+t.x&&t.y===+t.y},oot=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){JY(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),JY(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},M_=function(t,r){var n=oot(t);r&&(n=[n.reduce(function(i,o){return[].concat(ZY(i),ZY(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},lot=function(t,r,n){var a=M_(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(M_(r.reverse(),n).slice(1))},cot=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=tot(t,eot);if(!r||!r.length)return null;var l=Qa("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=lot(r,a,i);return Ve.createElement("g",{className:l},Ve.createElement("path",C2({},ga(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?Ve.createElement("path",C2({},ga(o,!0),{fill:"none",d:M_(r,i)})):null,c?Ve.createElement("path",C2({},ga(o,!0),{fill:"none",d:M_(a,i)})):null)}var f=M_(r,i);return Ve.createElement("path",C2({},ga(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function LD(){return LD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LD.apply(this,arguments)}var gT=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Qa("recharts-dot",i);return r===+r&&n===+n&&a===+a?A.createElement("circle",LD({},ga(t,!1),MA(t),{className:o,cx:r,cy:n,r:a})):null};function c5(e){"@babel/helpers - typeof";return c5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c5(e)}var uot=["x","y","top","left","width","height","className"];function BD(){return BD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BD.apply(this,arguments)}function QY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QY(Object(r),!0).forEach(function(n){fot(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fot(e,t,r){return t=hot(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hot(e){var t=mot(e,"string");return c5(t)=="symbol"?t:t+""}function mot(e,t){if(c5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(c5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pot(e,t){if(e==null)return{};var r=got(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function got(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xot=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},vot=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,h=f===void 0?0:f,g=t.height,p=g===void 0?0:g,N=t.className,b=pot(t,uot),S=dot({x:n,y:i,top:l,left:u,width:h,height:p},b);return!Dr(n)||!Dr(i)||!Dr(h)||!Dr(p)||!Dr(l)||!Dr(u)?null:Ve.createElement("path",BD({},ga(S,!0),{className:Qa("recharts-cross",N),d:xot(n,i,h,p,l,u)}))},yot=uT,bot=Sfe,wot=X0;function _ot(e,t){return e&&e.length?yot(e,wot(t),bot):void 0}var Not=_ot;const Sot=ji(Not);var Cot=uT,Aot=X0,Eot=Cfe;function jot(e,t){return e&&e.length?Cot(e,Aot(t),Eot):void 0}var Tot=jot;const kot=ji(Tot);var Pot=["cx","cy","angle","ticks","axisLine"],Oot=["ticks","tick","angle","tickFormatter","stroke"];function Vy(e){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vy(e)}function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L_.apply(this,arguments)}function eX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _g(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eX(Object(r),!0).forEach(function(n){xT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tX(e,t){if(e==null)return{};var r=Iot(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iot(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dhe(n.key),n)}}function Dot(e,t,r){return t&&rX(e.prototype,t),r&&rX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rot(e,t,r){return t=xE(t),Mot(e,uhe()?Reflect.construct(t,r||[],xE(e).constructor):t.apply(e,r))}function Mot(e,t){if(t&&(Vy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lot(e)}function Lot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uhe=function(){return!!e})()}function xE(e){return xE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xE(e)}function Bot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UD(e,t)}function UD(e,t){return UD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UD(e,t)}function xT(e,t,r){return t=dhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dhe(e){var t=Uot(e,"string");return Vy(t)=="symbol"?t:t+""}function Uot(e,t){if(Vy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vT=function(e){function t(){return Fot(this,t),Rot(this,t,arguments)}return Bot(t,e),Dot(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Hs(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=Sot(l,function(f){return f.coordinate||0}),u=kot(l,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=tX(n,Pot),f=l.reduce(function(N,b){return[Math.min(N[0],b.coordinate),Math.max(N[1],b.coordinate)]},[1/0,-1/0]),h=Hs(a,i,f[0],o),g=Hs(a,i,f[1],o),p=_g(_g(_g({},ga(u,!1)),{},{fill:"none"},ga(c,!1)),{},{x1:h.x,y1:h.y,x2:g.x,y2:g.y});return Ve.createElement("line",L_({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,f=tX(a,Oot),h=this.getTickTextAnchor(),g=ga(f,!1),p=ga(o,!1),N=i.map(function(b,S){var C=n.getTickValueCoord(b),j=_g(_g(_g(_g({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(C.x,", ").concat(C.y,")")},g),{},{stroke:"none",fill:u},p),{},{index:S},C),{},{payload:b});return Ve.createElement(Fi,L_({className:Qa("recharts-polar-radius-axis-tick",Qfe(o)),key:"tick-".concat(b.coordinate)},kx(n.props,b,S)),t.renderTickItem(o,j,c?c(b.value,S):b.value))});return Ve.createElement(Fi,{className:"recharts-polar-radius-axis-ticks"},N)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:Ve.createElement(Fi,{className:Qa("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),xc.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ve.isValidElement(n)?o=Ve.cloneElement(n,a):ja(n)?o=n(a):o=Ve.createElement(Px,L_({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(A.PureComponent);xT(vT,"displayName","PolarRadiusAxis");xT(vT,"axisType","radiusAxis");xT(vT,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Wy(e){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wy(e)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}function nX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ng(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nX(Object(r),!0).forEach(function(n){yT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hhe(n.key),n)}}function zot(e,t,r){return t&&aX(e.prototype,t),r&&aX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vot(e,t,r){return t=vE(t),Wot(e,fhe()?Reflect.construct(t,r||[],vE(e).constructor):t.apply(e,r))}function Wot(e,t){if(t&&(Wy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hot(e)}function Hot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fhe=function(){return!!e})()}function vE(e){return vE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vE(e)}function qot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$D(e,t)}function $D(e,t){return $D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$D(e,t)}function yT(e,t,r){return t=hhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hhe(e){var t=Got(e,"string");return Wy(t)=="symbol"?t:t+""}function Got(e,t){if(Wy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kot=Math.PI/180,iX=1e-5,bT=function(e){function t(){return $ot(this,t),Vot(this,t,arguments)}return qot(t,e),zot(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,f=u||8,h=Hs(i,o,l,n.coordinate),g=Hs(i,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:h.x,y1:h.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Kot),o;return i>iX?o=a==="outer"?"start":"end":i<-iX?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Ng(Ng({},ga(this.props,!1)),{},{fill:"none"},ga(l,!1));if(c==="circle")return Ve.createElement(gT,Bg({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var f=this.props.ticks,h=f.map(function(g){return Hs(a,i,o,g.coordinate)});return Ve.createElement(cot,Bg({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,f=ga(this.props,!1),h=ga(o,!1),g=Ng(Ng({},f),{},{fill:"none"},ga(l,!1)),p=i.map(function(N,b){var S=n.getTickLineCoord(N),C=n.getTickTextAnchor(N),j=Ng(Ng(Ng({textAnchor:C},f),{},{stroke:"none",fill:u},h),{},{index:b,payload:N,x:S.x2,y:S.y2});return Ve.createElement(Fi,Bg({className:Qa("recharts-polar-angle-axis-tick",Qfe(o)),key:"tick-".concat(N.coordinate)},kx(n.props,N,b)),l&&Ve.createElement("line",Bg({className:"recharts-polar-angle-axis-tick-line"},g,S)),o&&t.renderTickItem(o,j,c?c(N.value,b):N.value))});return Ve.createElement(Fi,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:Ve.createElement(Fi,{className:Qa("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ve.isValidElement(n)?o=Ve.cloneElement(n,a):ja(n)?o=n(a):o=Ve.createElement(Px,Bg({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(A.PureComponent);yT(bT,"displayName","PolarAngleAxis");yT(bT,"axisType","angleAxis");yT(bT,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Yot=bde,Xot=Yot(Object.getPrototypeOf,Object),Zot=Xot,Jot=Jm,Qot=Zot,elt=Qm,tlt="[object Object]",rlt=Function.prototype,nlt=Object.prototype,mhe=rlt.toString,alt=nlt.hasOwnProperty,ilt=mhe.call(Object);function slt(e){if(!elt(e)||Jot(e)!=tlt)return!1;var t=Qot(e);if(t===null)return!0;var r=alt.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&mhe.call(r)==ilt}var olt=slt;const llt=ji(olt);var clt=Jm,ult=Qm,dlt="[object Boolean]";function flt(e){return e===!0||e===!1||ult(e)&&clt(e)==dlt}var hlt=flt;const mlt=ji(hlt);function u5(e){"@babel/helpers - typeof";return u5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u5(e)}function yE(){return yE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yE.apply(this,arguments)}function plt(e,t){return ylt(e)||vlt(e,t)||xlt(e,t)||glt()}function glt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xlt(e,t){if(e){if(typeof e=="string")return sX(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sX(e,t)}}function sX(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vlt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ylt(e){if(Array.isArray(e))return e}function oX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oX(Object(r),!0).forEach(function(n){blt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function blt(e,t,r){return t=wlt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wlt(e){var t=_lt(e,"string");return u5(t)=="symbol"?t:t+""}function _lt(e,t){if(u5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(u5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cX=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},Nlt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Slt=function(t){var r=lX(lX({},Nlt),t),n=A.useRef(),a=A.useState(-1),i=plt(a,2),o=i[0],l=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&l(T)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,h=r.lowerWidth,g=r.height,p=r.className,N=r.animationEasing,b=r.animationDuration,S=r.animationBegin,C=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||g!==+g||f===0&&h===0||g===0)return null;var j=Qa("recharts-trapezoid",p);return C?Ve.createElement(Fx,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:u},to:{upperWidth:f,lowerWidth:h,height:g,x:c,y:u},duration:b,animationEasing:N,isActive:C},function(T){var O=T.upperWidth,M=T.lowerWidth,B=T.height,L=T.x,H=T.y;return Ve.createElement(Fx,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:b,easing:N},Ve.createElement("path",yE({},ga(r,!0),{className:j,d:cX(L,H,O,M,B),ref:n})))}):Ve.createElement("g",null,Ve.createElement("path",yE({},ga(r,!0),{className:j,d:cX(c,u,f,h,g)})))},Clt=["option","shapeType","propTransformer","activeClassName","isActive"];function d5(e){"@babel/helpers - typeof";return d5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d5(e)}function Alt(e,t){if(e==null)return{};var r=Elt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Elt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uX(Object(r),!0).forEach(function(n){jlt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jlt(e,t,r){return t=Tlt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tlt(e){var t=klt(e,"string");return d5(t)=="symbol"?t:t+""}function klt(e,t){if(d5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(d5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Plt(e,t){return bE(bE({},t),e)}function Olt(e,t){return e==="symbols"}function dX(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ve.createElement(D9,r);case"trapezoid":return Ve.createElement(Slt,r);case"sector":return Ve.createElement(rhe,r);case"symbols":if(Olt(t))return Ve.createElement(e9,r);break;default:return null}}function Ilt(e){return A.isValidElement(e)?e.props:e}function phe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Plt:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Alt(e,Clt),u;if(A.isValidElement(t))u=A.cloneElement(t,bE(bE({},c),Ilt(t)));else if(ja(t))u=t(c);else if(llt(t)&&!mlt(t)){var f=a(t,c);u=Ve.createElement(dX,{shapeType:r,elementProps:f})}else{var h=c;u=Ve.createElement(dX,{shapeType:r,elementProps:h})}return l?Ve.createElement(Fi,{className:o},u):u}function wT(e,t){return t!=null&&"trapezoids"in e.props}function _T(e,t){return t!=null&&"sectors"in e.props}function f5(e,t){return t!=null&&"points"in e.props}function Flt(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Dlt(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Rlt(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Mlt(e,t){var r;return wT(e,t)?r=Flt:_T(e,t)?r=Dlt:f5(e,t)&&(r=Rlt),r}function Llt(e,t){var r;return wT(e,t)?r="trapezoids":_T(e,t)?r="sectors":f5(e,t)&&(r="points"),r}function Blt(e,t){if(wT(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(_T(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return f5(e,t)?t.payload:{}}function Ult(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Llt(r,t),i=Blt(r,t),o=n.filter(function(c,u){var f=Uy(i,c),h=r.props[a].filter(function(N){var b=Mlt(r,t);return b(N,t)}),g=r.props[a].indexOf(h[h.length-1]),p=u===g;return f&&p}),l=n.indexOf(o[o.length-1]);return l}var wC;function Hy(e){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hy(e)}function A2(){return A2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A2.apply(this,arguments)}function fX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fX(Object(r),!0).forEach(function(n){Lf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xhe(n.key),n)}}function zlt(e,t,r){return t&&hX(e.prototype,t),r&&hX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vlt(e,t,r){return t=wE(t),Wlt(e,ghe()?Reflect.construct(t,r||[],wE(e).constructor):t.apply(e,r))}function Wlt(e,t){if(t&&(Hy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hlt(e)}function Hlt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ghe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ghe=function(){return!!e})()}function wE(e){return wE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wE(e)}function qlt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zD(e,t)}function zD(e,t){return zD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zD(e,t)}function Lf(e,t,r){return t=xhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xhe(e){var t=Glt(e,"string");return Hy(t)=="symbol"?t:t+""}function Glt(e,t){if(Hy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tp=function(e){function t(r){var n;return $lt(this,t),n=Vlt(this,t,[r]),Lf(n,"pieRef",null),Lf(n,"sectorRefs",[]),Lf(n,"id",Pb("recharts-pie-")),Lf(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ja(a)&&a()}),Lf(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ja(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return qlt(t,e),zlt(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,f=ga(this.props,!1),h=ga(o,!1),g=ga(l,!1),p=o&&o.offsetRadius||20,N=n.map(function(b,S){var C=(b.startAngle+b.endAngle)/2,j=Hs(b.cx,b.cy,b.outerRadius+p,C),T=$s($s($s($s({},f),b),{},{stroke:"none"},h),{},{index:S,textAnchor:t.getTextAnchor(j.x,b.cx)},j),O=$s($s($s($s({},f),b),{},{fill:"none",stroke:b.fill},g),{},{index:S,points:[Hs(b.cx,b.cy,b.outerRadius,C),j]}),M=c;return ei(c)&&ei(u)?M="value":ei(c)&&(M=u),Ve.createElement(Fi,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(S)},l&&t.renderLabelLineItem(l,O,"line"),t.renderLabelItem(o,T,Xl(b,M)))});return Ve.createElement(Fi,{className:"recharts-pie-labels"},N)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=a.isActiveIndex(f),g=c&&a.hasActiveIndex()?c:null,p=h?o:g,N=$s($s({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return Ve.createElement(Fi,A2({ref:function(S){S&&!a.sectorRefs.includes(S)&&a.sectorRefs.push(S)},tabIndex:-1,className:"recharts-pie-sector"},kx(a.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),Ve.createElement(phe,A2({option:p,isActive:h,shapeType:"sector"},N)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state,g=h.prevSectors,p=h.prevIsAnimationActive;return Ve.createElement(Fx,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(N){var b=N.t,S=[],C=i&&i[0],j=C.startAngle;return i.forEach(function(T,O){var M=g&&g[O],B=O>0?af(T,"paddingAngle",0):0;if(M){var L=fd(M.endAngle-M.startAngle,T.endAngle-T.startAngle),H=$s($s({},T),{},{startAngle:j+B,endAngle:j+L(b)+B});S.push(H),j=H.endAngle}else{var U=T.endAngle,J=T.startAngle,K=fd(0,U-J),G=K(b),re=$s($s({},T),{},{startAngle:j+B,endAngle:j+G+B});S.push(re),j=re.endAngle}}),Ve.createElement(Fi,null,n.renderSectorsStatically(S))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Uy(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,f=a.cy,h=a.innerRadius,g=a.outerRadius,p=a.isAnimationActive,N=this.state.isAnimationFinished;if(i||!o||!o.length||!Dr(u)||!Dr(f)||!Dr(h)||!Dr(g))return null;var b=Qa("recharts-pie",l);return Ve.createElement(Fi,{tabIndex:this.props.rootTabIndex,className:b,ref:function(C){n.pieRef=C}},this.renderSectors(),c&&this.renderLabels(o),xc.renderCallByParent(this.props,null,!1),(!p||N)&&Om.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(Ve.isValidElement(n))return Ve.cloneElement(n,a);if(ja(n))return n(a);var o=Qa("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Ve.createElement(J2,A2({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(Ve.isValidElement(n))return Ve.cloneElement(n,a);var o=i;if(ja(n)&&(o=n(a),Ve.isValidElement(o)))return o;var l=Qa("recharts-pie-label-text",typeof n!="boolean"&&!ja(n)?n.className:"");return Ve.createElement(Px,A2({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(A.PureComponent);wC=tp;Lf(tp,"displayName","Pie");Lf(tp,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!I0.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Lf(tp,"parseDeltaAngle",function(e,t){var r=Wu(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Lf(tp,"getRealPieData",function(e){var t=e.data,r=e.children,n=ga(e,!1),a=Wf(r,nT);return t&&t.length?t.map(function(i,o){return $s($s($s({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return $s($s({},n),i.props)}):[]});Lf(tp,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=Jfe(a,i),l=n+Hu(e.cx,a,a/2),c=r+Hu(e.cy,i,i/2),u=Hu(e.innerRadius,o,0),f=Hu(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:h}});Lf(tp,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?$s($s({},t.type.defaultProps),t.props):t.props,a=wC.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,h=n.valueKey,g=n.tooltipType,p=Math.abs(n.minAngle),N=wC.parseCoordinateOfPie(n,r),b=wC.parseDeltaAngle(o,l),S=Math.abs(b),C=u;ei(u)&&ei(h)?(Fh(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C="value"):ei(u)&&(Fh(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C=h);var j=a.filter(function(H){return Xl(H,C,0)!==0}).length,T=(S>=360?j:j-1)*c,O=S-j*p-T,M=a.reduce(function(H,U){var J=Xl(U,C,0);return H+(Dr(J)?J:0)},0),B;if(M>0){var L;B=a.map(function(H,U){var J=Xl(H,C,0),K=Xl(H,f,U),G=(Dr(J)?J:0)/M,re;U?re=L.endAngle+Wu(b)*c*(J!==0?1:0):re=o;var ae=re+Wu(b)*((J!==0?p:0)+G*O),X=(re+ae)/2,ne=(N.innerRadius+N.outerRadius)/2,de=[{name:K,value:J,payload:H,dataKey:C,type:g}],le=Hs(N.cx,N.cy,ne,X);return L=$s($s($s({percent:G,cornerRadius:i,name:K,tooltipPayload:de,midAngle:X,middleRadius:ne,tooltipPosition:le},H),N),{},{value:Xl(H,C),startAngle:re,endAngle:ae,payload:H,paddingAngle:Wu(b)*c}),L})}return $s($s({},N),{},{sectors:B,data:a})});var Klt=Math.ceil,Ylt=Math.max;function Xlt(e,t,r,n){for(var a=-1,i=Ylt(Klt((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var Zlt=Xlt,Jlt=Bde,mX=1/0,Qlt=17976931348623157e292;function ect(e){if(!e)return e===0?e:0;if(e=Jlt(e),e===mX||e===-mX){var t=e<0?-1:1;return t*Qlt}return e===e?e:0}var vhe=ect,tct=Zlt,rct=rT,qP=vhe;function nct(e){return function(t,r,n){return n&&typeof n!="number"&&rct(t,r,n)&&(r=n=void 0),t=qP(t),r===void 0?(r=t,t=0):r=qP(r),n=n===void 0?t<r?1:-1:qP(n),tct(t,r,n,e)}}var act=nct,ict=act,sct=ict(),oct=sct;const _E=ji(oct);function h5(e){"@babel/helpers - typeof";return h5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h5(e)}function pX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pX(Object(r),!0).forEach(function(n){yhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yhe(e,t,r){return t=lct(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lct(e){var t=cct(e,"string");return h5(t)=="symbol"?t:t+""}function cct(e,t){if(h5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(h5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uct=["Webkit","Moz","O","ms"],dct=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=uct.reduce(function(i,o){return gX(gX({},i),{},yhe({},o+n,r))},{});return a[t]=r,a};function qy(e){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qy(e)}function NE(){return NE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NE.apply(this,arguments)}function xX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xX(Object(r),!0).forEach(function(n){Ud(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,whe(n.key),n)}}function hct(e,t,r){return t&&vX(e.prototype,t),r&&vX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mct(e,t,r){return t=SE(t),pct(e,bhe()?Reflect.construct(t,r||[],SE(e).constructor):t.apply(e,r))}function pct(e,t){if(t&&(qy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gct(e)}function gct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bhe=function(){return!!e})()}function SE(e){return SE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},SE(e)}function xct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VD(e,t)}function VD(e,t){return VD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VD(e,t)}function Ud(e,t,r){return t=whe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function whe(e){var t=vct(e,"string");return qy(t)=="symbol"?t:t+""}function vct(e,t){if(qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yct=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=F_().domain(_E(0,c)).range([i,i+o-l]),f=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},yX=function(t){return t.changedTouches&&!!t.changedTouches.length},Gy=function(e){function t(r){var n;return fct(this,t),n=mct(this,t,[r]),Ud(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ud(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ud(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Ud(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ud(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ud(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ud(n,"handleSlideDragStart",function(a){var i=yX(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return xct(t,e),hct(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,h=Math.min(a,i),g=Math.max(a,i),p=t.getIndexInRange(o,h),N=t.getIndexInRange(o,g);return{startIndex:p-p%c,endIndex:N===f?f:N-N%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Xl(i[n],l,n);return ja(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,h=c.travellerWidth,g=c.startIndex,p=c.endIndex,N=c.onChange,b=n.pageX-i;b>0?b=Math.min(b,u+f-h-l,u+f-h-o):b<0&&(b=Math.max(b,u-o,u-l));var S=this.getIndex({startX:o+b,endX:l+b});(S.startIndex!==g||S.endIndex!==p)&&N&&N(S),this.setState({startX:o+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=yX(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],f=this.props,h=f.x,g=f.width,p=f.travellerWidth,N=f.onChange,b=f.gap,S=f.data,C={startX:this.state.startX,endX:this.state.endX},j=n.pageX-i;j>0?j=Math.min(j,h+g-p-u):j<0&&(j=Math.max(j,h-u)),C[o]=u+j;var T=this.getIndex(C),O=T.startIndex,M=T.endIndex,B=function(){var H=S.length-1;return o==="startX"&&(l>c?O%b===0:M%b===0)||l<c&&M===H||o==="endX"&&(l>c?M%b===0:O%b===0)||l>c&&M===H};this.setState(Ud(Ud({},o,u+j),"brushMoveStartX",n.pageX),function(){N&&B()&&N(T)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[a],h=l.indexOf(f);if(h!==-1){var g=h+n;if(!(g===-1||g>=l.length)){var p=l[g];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Ud({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return Ve.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,h=A.Children.only(u);return h?Ve.cloneElement(h,{x:a,y:i,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,h=c.height,g=c.traveller,p=c.ariaLabel,N=c.data,b=c.startIndex,S=c.endIndex,C=Math.max(n,this.props.x),j=GP(GP({},ga(this.props,!1)),{},{x:C,y:u,width:f,height:h}),T=p||"Min value: ".concat((i=N[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=N[S])===null||o===void 0?void 0:o.name);return Ve.createElement(Fi,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(M){["ArrowLeft","ArrowRight"].includes(M.key)&&(M.preventDefault(),M.stopPropagation(),l.handleTravellerMoveKeyboard(M.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,j))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(n,a)+u,h=Math.max(Math.abs(a-n)-u,0);return Ve.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,h=f.startX,g=f.endX,p=5,N={pointerEvents:"none",fill:u};return Ve.createElement(Fi,{className:"recharts-brush-texts"},Ve.createElement(Px,NE({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-p,y:o+l/2},N),this.getTextOfTick(a)),Ve.createElement(Px,NE({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+c+p,y:o+l/2},N),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,h=n.alwaysShowText,g=this.state,p=g.startX,N=g.endX,b=g.isTextActive,S=g.isSlideMoving,C=g.isTravellerMoving,j=g.isTravellerFocused;if(!a||!a.length||!Dr(l)||!Dr(c)||!Dr(u)||!Dr(f)||u<=0||f<=0)return null;var T=Qa("recharts-brush",i),O=Ve.Children.count(o)===1,M=dct("userSelect","none");return Ve.createElement(Fi,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:M},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,N),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(N,"endX"),(b||S||C||j||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return Ve.createElement(Ve.Fragment,null,Ve.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),Ve.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),Ve.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ve.isValidElement(n)?i=Ve.cloneElement(n,a):ja(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,h=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return GP({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?yct({data:i,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var g=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(A.PureComponent);Ud(Gy,"displayName","Brush");Ud(Gy,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var bct=o9;function wct(e,t){var r;return bct(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var _ct=wct,Nct=fde,Sct=X0,Cct=_ct,Act=kd,Ect=rT;function jct(e,t,r){var n=Act(e)?Nct:Cct;return r&&Ect(e,t,r)&&(t=void 0),n(e,Sct(t))}var Tct=jct;const kct=ji(Tct);var D0=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},bX=Fde;function Pct(e,t,r){t=="__proto__"&&bX?bX(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Oct=Pct,Ict=Oct,Fct=Ode,Dct=X0;function Rct(e,t){var r={};return t=Dct(t),Fct(e,function(n,a,i){Ict(r,a,t(n,a,i))}),r}var Mct=Rct;const Lct=ji(Mct);function Bct(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Uct=Bct,$ct=o9;function zct(e,t){var r=!0;return $ct(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Vct=zct,Wct=Uct,Hct=Vct,qct=X0,Gct=kd,Kct=rT;function Yct(e,t,r){var n=Gct(e)?Wct:Hct;return r&&Kct(e,t,r)&&(t=void 0),n(e,qct(t))}var Xct=Yct;const _he=ji(Xct);var Zct=["x","y"];function m5(e){"@babel/helpers - typeof";return m5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m5(e)}function WD(){return WD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WD.apply(this,arguments)}function wX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wX(Object(r),!0).forEach(function(n){Jct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jct(e,t,r){return t=Qct(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qct(e){var t=eut(e,"string");return m5(t)=="symbol"?t:t+""}function eut(e,t){if(m5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tut(e,t){if(e==null)return{};var r=rut(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rut(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nut(e,t){var r=e.x,n=e.y,a=tut(e,Zct),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),f=parseInt(u,10),h="".concat(t.width||a.width),g=parseInt(h,10);return qw(qw(qw(qw(qw({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:g,name:t.name,radius:t.radius})}function _X(e){return Ve.createElement(phe,WD({shapeType:"rectangle",propTransformer:nut,activeClassName:"recharts-active-bar"},e))}var aut=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Dr(n)||Dze(n);return i?t(n,a):(i||Ix(!1),r)}},iut=["value","background"],Nhe;function Ky(e){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ky(e)}function sut(e,t){if(e==null)return{};var r=out(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function out(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CE(){return CE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CE.apply(this,arguments)}function NX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function El(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NX(Object(r),!0).forEach(function(n){Kp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Che(n.key),n)}}function cut(e,t,r){return t&&SX(e.prototype,t),r&&SX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uut(e,t,r){return t=AE(t),dut(e,She()?Reflect.construct(t,r||[],AE(e).constructor):t.apply(e,r))}function dut(e,t){if(t&&(Ky(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fut(e)}function fut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function She(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(She=function(){return!!e})()}function AE(e){return AE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},AE(e)}function hut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HD(e,t)}function HD(e,t){return HD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HD(e,t)}function Kp(e,t,r){return t=Che(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Che(e){var t=mut(e,"string");return Ky(t)=="symbol"?t:t+""}function mut(e,t){if(Ky(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w3=function(e){function t(){var r;lut(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=uut(this,t,[].concat(a)),Kp(r,"state",{isAnimationFinished:!1}),Kp(r,"id",Pb("recharts-bar-")),Kp(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Kp(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return hut(t,e),cut(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,f=ga(this.props,!1);return n&&n.map(function(h,g){var p=g===c,N=p?u:o,b=El(El(El({},f),h),{},{isActive:p,option:N,index:g,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ve.createElement(Fi,CE({className:"recharts-bar-rectangle"},kx(a.props,h,g),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(g)}),Ve.createElement(_X,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,h=a.animationId,g=this.state.prevData;return Ve.createElement(Fx,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var N=p.t,b=i.map(function(S,C){var j=g&&g[C];if(j){var T=fd(j.x,S.x),O=fd(j.y,S.y),M=fd(j.width,S.width),B=fd(j.height,S.height);return El(El({},S),{},{x:T(N),y:O(N),width:M(N),height:B(N)})}if(o==="horizontal"){var L=fd(0,S.height),H=L(N);return El(El({},S),{},{y:S.y+S.height-H,height:H})}var U=fd(0,S.width),J=U(N);return El(El({},S),{},{width:J})});return Ve.createElement(Fi,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Uy(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=ga(this.props.background,!1);return i.map(function(u,f){u.value;var h=u.background,g=sut(u,iut);if(!h)return null;var p=El(El(El(El(El({},g),{},{fill:"#eee"},h),c),kx(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return Ve.createElement(_X,CE({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,h=Wf(f,mT);if(!h)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,p=function(S,C){var j=Array.isArray(S.value)?S.value[1]:S.value;return{x:S.x,y:S.y,value:j,errorVal:Xl(S,C)}},N={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ve.createElement(Fi,N,h.map(function(b){return Ve.cloneElement(b,{key:"error-bar-".concat(a,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:g,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,h=n.width,g=n.height,p=n.isAnimationActive,N=n.background,b=n.id;if(a||!i||!i.length)return null;var S=this.state.isAnimationFinished,C=Qa("recharts-bar",o),j=l&&l.allowDataOverflow,T=c&&c.allowDataOverflow,O=j||T,M=ei(b)?this.id:b;return Ve.createElement(Fi,{className:C},j||T?Ve.createElement("defs",null,Ve.createElement("clipPath",{id:"clipPath-".concat(M)},Ve.createElement("rect",{x:j?u:u-h/2,y:T?f:f-g/2,width:j?h:h*2,height:T?g:g*2}))):null,Ve.createElement(Fi,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(M,")"):null},N?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,M),(!p||S)&&Om.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(A.PureComponent);Nhe=w3;Kp(w3,"displayName","Bar");Kp(w3,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!I0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Kp(w3,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,h=e.displayedData,g=e.offset,p=Qnt(n,r);if(!p)return null;var N=t.layout,b=r.type.defaultProps,S=b!==void 0?El(El({},b),r.props):r.props,C=S.dataKey,j=S.children,T=S.minPointSize,O=N==="horizontal"?o:i,M=u?O.scale.domain():null,B=sat({numericAxis:O}),L=Wf(j,nT),H=h.map(function(U,J){var K,G,re,ae,X,ne;u?K=eat(u[f+J],M):(K=Xl(U,C),Array.isArray(K)||(K=[B,K]));var de=aut(T,Nhe.defaultProps.minPointSize)(K[1],J);if(N==="horizontal"){var le,xe=[o.scale(K[0]),o.scale(K[1])],Se=xe[0],ye=xe[1];G=fY({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:U,index:J}),re=(le=ye??Se)!==null&&le!==void 0?le:void 0,ae=p.size;var ee=Se-ye;if(X=Number.isNaN(ee)?0:ee,ne={x:G,y:o.y,width:ae,height:o.height},Math.abs(de)>0&&Math.abs(X)<Math.abs(de)){var he=Wu(X||de)*(Math.abs(de)-Math.abs(X));re-=he,X+=he}}else{var se=[i.scale(K[0]),i.scale(K[1])],te=se[0],ge=se[1];if(G=te,re=fY({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:U,index:J}),ae=ge-te,X=p.size,ne={x:i.x,y:re,width:i.width,height:X},Math.abs(de)>0&&Math.abs(ae)<Math.abs(de)){var ue=Wu(ae||de)*(Math.abs(de)-Math.abs(ae));ae+=ue}}return El(El(El({},U),{},{x:G,y:re,width:ae,height:X,value:u?K:K[1],payload:U,background:ne},L&&L[J]&&L[J].props),{},{tooltipPayload:[Xfe(r,U)],tooltipPosition:{x:G+ae/2,y:re+X/2}})});return El({data:H,layout:N},g)});function p5(e){"@babel/helpers - typeof";return p5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p5(e)}function put(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ahe(n.key),n)}}function gut(e,t,r){return t&&CX(e.prototype,t),r&&CX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AX(Object(r),!0).forEach(function(n){NT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NT(e,t,r){return t=Ahe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ahe(e){var t=xut(e,"string");return p5(t)=="symbol"?t:t+""}function xut(e,t){if(p5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vut=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!Vd(u,w3);return f.reduce(function(p,N){var b=r[N],S=b.orientation,C=b.domain,j=b.padding,T=j===void 0?{}:j,O=b.mirror,M=b.reversed,B="".concat(S).concat(O?"Mirror":""),L,H,U,J,K;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var G=C[1]-C[0],re=1/0,ae=b.categoricalDomain.sort(Lze);if(ae.forEach(function(se,te){te>0&&(re=Math.min((se||0)-(ae[te-1]||0),re))}),Number.isFinite(re)){var X=re/G,ne=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(L=X*ne/2),b.padding==="no-gap"){var de=Hu(t.barCategoryGap,X*ne),le=X*ne/2;L=le-de-(le-de)/ne*de}}}a==="xAxis"?H=[n.left+(T.left||0)+(L||0),n.left+n.width-(T.right||0)-(L||0)]:a==="yAxis"?H=c==="horizontal"?[n.top+n.height-(T.bottom||0),n.top+(T.top||0)]:[n.top+(T.top||0)+(L||0),n.top+n.height-(T.bottom||0)-(L||0)]:H=b.range,M&&(H=[H[1],H[0]]);var xe=qfe(b,i,g),Se=xe.scale,ye=xe.realScaleType;Se.domain(C).range(H),Gfe(Se);var ee=Kfe(Se,Nh(Nh({},b),{},{realScaleType:ye}));a==="xAxis"?(K=S==="top"&&!O||S==="bottom"&&O,U=n.left,J=h[B]-K*b.height):a==="yAxis"&&(K=S==="left"&&!O||S==="right"&&O,U=h[B]-K*b.width,J=n.top);var he=Nh(Nh(Nh({},b),ee),{},{realScaleType:ye,x:U,y:J,scale:Se,width:a==="xAxis"?n.width:b.width,height:a==="yAxis"?n.height:b.height});return he.bandSize=uE(he,ee),!b.hide&&a==="xAxis"?h[B]+=(K?-1:1)*he.height:b.hide||(h[B]+=(K?-1:1)*he.width),Nh(Nh({},p),{},NT({},N,he))},{})},Ehe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},yut=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Ehe({x:r,y:n},{x:a,y:i})},jhe=function(){function e(t){put(this,e),this.scale=t}return gut(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();NT(jhe,"EPS",1e-4);var R9=function(t){var r=Object.keys(t).reduce(function(n,a){return Nh(Nh({},n),{},NT({},a,jhe.create(t[a])))},{});return Nh(Nh({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Lct(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return _he(a,function(i,o){return r[o].isInRange(i)})}})};function but(e){return(e%180+180)%180}var wut=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=but(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},_ut=X0,Nut=g3,Sut=eT;function Cut(e){return function(t,r,n){var a=Object(t);if(!Nut(t)){var i=_ut(r);t=Sut(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var Aut=Cut,Eut=vhe;function jut(e){var t=Eut(e),r=t%1;return t===t?r?t-r:t:0}var Tut=jut,kut=Ade,Put=X0,Out=Tut,Iut=Math.max;function Fut(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Out(r);return a<0&&(a=Iut(n+a,0)),kut(e,Put(t),a)}var Dut=Fut,Rut=Aut,Mut=Dut,Lut=Rut(Mut),But=Lut;const Uut=ji(But);var $ut=B$e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),M9=A.createContext(void 0),L9=A.createContext(void 0),The=A.createContext(void 0),khe=A.createContext({}),Phe=A.createContext(void 0),Ohe=A.createContext(0),Ihe=A.createContext(0),EX=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=$ut(i);return Ve.createElement(M9.Provider,{value:n},Ve.createElement(L9.Provider,{value:a},Ve.createElement(khe.Provider,{value:i},Ve.createElement(The.Provider,{value:f},Ve.createElement(Phe.Provider,{value:o},Ve.createElement(Ohe.Provider,{value:u},Ve.createElement(Ihe.Provider,{value:c},l)))))))},zut=function(){return A.useContext(Phe)},Fhe=function(t){var r=A.useContext(M9);r==null&&Ix(!1);var n=r[t];return n==null&&Ix(!1),n},Vut=function(){var t=A.useContext(M9);return Bp(t)},Wut=function(){var t=A.useContext(L9),r=Uut(t,function(n){return _he(n.domain,Number.isFinite)});return r||Bp(t)},Dhe=function(t){var r=A.useContext(L9);r==null&&Ix(!1);var n=r[t];return n==null&&Ix(!1),n},Hut=function(){var t=A.useContext(The);return t},qut=function(){return A.useContext(khe)},B9=function(){return A.useContext(Ihe)},U9=function(){return A.useContext(Ohe)};function Yy(e){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yy(e)}function Gut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mhe(n.key),n)}}function Kut(e,t,r){return t&&jX(e.prototype,t),r&&jX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yut(e,t,r){return t=EE(t),Xut(e,Rhe()?Reflect.construct(t,r||[],EE(e).constructor):t.apply(e,r))}function Xut(e,t){if(t&&(Yy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zut(e)}function Zut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rhe=function(){return!!e})()}function EE(e){return EE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},EE(e)}function Jut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qD(e,t)}function qD(e,t){return qD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qD(e,t)}function TX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TX(Object(r),!0).forEach(function(n){$9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $9(e,t,r){return t=Mhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mhe(e){var t=Qut(e,"string");return Yy(t)=="symbol"?t:t+""}function Qut(e,t){if(Yy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function edt(e,t){return adt(e)||ndt(e,t)||rdt(e,t)||tdt()}function tdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rdt(e,t){if(e){if(typeof e=="string")return PX(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PX(e,t)}}function PX(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ndt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function adt(e){if(Array.isArray(e))return e}function GD(){return GD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GD.apply(this,arguments)}var idt=function(t,r){var n;return Ve.isValidElement(t)?n=Ve.cloneElement(t,r):ja(t)?n=t(r):n=Ve.createElement("line",GD({},r,{className:"recharts-reference-line-line"})),n},sdt=function(t,r,n,a,i,o,l,c,u){var f=i.x,h=i.y,g=i.width,p=i.height;if(n){var N=u.y,b=t.y.apply(N,{position:o});if(D0(u,"discard")&&!t.y.isInRange(b))return null;var S=[{x:f+g,y:b},{x:f,y:b}];return c==="left"?S.reverse():S}if(r){var C=u.x,j=t.x.apply(C,{position:o});if(D0(u,"discard")&&!t.x.isInRange(j))return null;var T=[{x:j,y:h+p},{x:j,y:h}];return l==="top"?T.reverse():T}if(a){var O=u.segment,M=O.map(function(B){return t.apply(B,{position:o})});return D0(u,"discard")&&kct(M,function(B){return!t.isInRange(B)})?null:M}return null};function odt(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=zut(),f=Fhe(a),h=Dhe(i),g=Hut();if(!u||!g)return null;Fh(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=R9({x:f.scale,y:h.scale}),N=Jl(t),b=Jl(r),S=n&&n.length===2,C=sdt(p,N,b,S,g,e.position,f.orientation,h.orientation,e);if(!C)return null;var j=edt(C,2),T=j[0],O=T.x,M=T.y,B=j[1],L=B.x,H=B.y,U=D0(e,"hidden")?"url(#".concat(u,")"):void 0,J=kX(kX({clipPath:U},ga(e,!0)),{},{x1:O,y1:M,x2:L,y2:H});return Ve.createElement(Fi,{className:Qa("recharts-reference-line",l)},idt(o,J),xc.renderCallByParent(e,yut({x1:O,y1:M,x2:L,y2:H})))}var z9=function(e){function t(){return Gut(this,t),Yut(this,t,arguments)}return Jut(t,e),Kut(t,[{key:"render",value:function(){return Ve.createElement(odt,this.props)}}])}(Ve.Component);$9(z9,"displayName","ReferenceLine");$9(z9,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function KD(){return KD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KD.apply(this,arguments)}function Xy(e){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xy(e)}function OX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OX(Object(r),!0).forEach(function(n){ST(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ldt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bhe(n.key),n)}}function cdt(e,t,r){return t&&FX(e.prototype,t),r&&FX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function udt(e,t,r){return t=jE(t),ddt(e,Lhe()?Reflect.construct(t,r||[],jE(e).constructor):t.apply(e,r))}function ddt(e,t){if(t&&(Xy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fdt(e)}function fdt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lhe=function(){return!!e})()}function jE(e){return jE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jE(e)}function hdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YD(e,t)}function YD(e,t){return YD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YD(e,t)}function ST(e,t,r){return t=Bhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bhe(e){var t=mdt(e,"string");return Xy(t)=="symbol"?t:t+""}function mdt(e,t){if(Xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pdt=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=R9({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return D0(t,"discard")&&!o.isInRange(l)?null:l},CT=function(e){function t(){return ldt(this,t),udt(this,t,arguments)}return hdt(t,e),cdt(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Jl(a),f=Jl(i);if(Fh(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var h=pdt(this.props);if(!h)return null;var g=h.x,p=h.y,N=this.props,b=N.shape,S=N.className,C=D0(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=IX(IX({clipPath:C},ga(this.props,!0)),{},{cx:g,cy:p});return Ve.createElement(Fi,{className:Qa("recharts-reference-dot",S)},t.renderDot(b,j),xc.renderCallByParent(this.props,{x:g-o,y:p-o,width:2*o,height:2*o}))}}])}(Ve.Component);ST(CT,"displayName","ReferenceDot");ST(CT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ST(CT,"renderDot",function(e,t){var r;return Ve.isValidElement(e)?r=Ve.cloneElement(e,t):ja(e)?r=e(t):r=Ve.createElement(gT,KD({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function XD(){return XD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XD.apply(this,arguments)}function Zy(e){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zy(e)}function DX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DX(Object(r),!0).forEach(function(n){AT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gdt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$he(n.key),n)}}function xdt(e,t,r){return t&&MX(e.prototype,t),r&&MX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vdt(e,t,r){return t=TE(t),ydt(e,Uhe()?Reflect.construct(t,r||[],TE(e).constructor):t.apply(e,r))}function ydt(e,t){if(t&&(Zy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bdt(e)}function bdt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uhe=function(){return!!e})()}function TE(e){return TE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},TE(e)}function wdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZD(e,t)}function ZD(e,t){return ZD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZD(e,t)}function AT(e,t,r){return t=$he(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $he(e){var t=_dt(e,"string");return Zy(t)=="symbol"?t:t+""}function _dt(e,t){if(Zy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ndt=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,f=i.xAxis,h=i.yAxis;if(!f||!h)return null;var g=R9({x:f.scale,y:h.scale}),p={x:t?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},N={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:a?g.y.apply(u,{position:"end"}):g.y.rangeMax};return D0(i,"discard")&&(!g.isInRange(p)||!g.isInRange(N))?null:Ehe(p,N)},ET=function(e){function t(){return gdt(this,t),vdt(this,t,arguments)}return wdt(t,e),xdt(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;Fh(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Jl(a),g=Jl(i),p=Jl(o),N=Jl(l),b=this.props.shape;if(!h&&!g&&!p&&!N&&!b)return null;var S=Ndt(h,g,p,N,this.props);if(!S&&!b)return null;var C=D0(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Ve.createElement(Fi,{className:Qa("recharts-reference-area",c)},t.renderRect(b,RX(RX({clipPath:C},ga(this.props,!0)),S)),xc.renderCallByParent(this.props,S))}}])}(Ve.Component);AT(ET,"displayName","ReferenceArea");AT(ET,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});AT(ET,"renderRect",function(e,t){var r;return Ve.isValidElement(e)?r=Ve.cloneElement(e,t):ja(e)?r=e(t):r=Ve.createElement(D9,XD({},t,{className:"recharts-reference-area-rect"})),r});function zhe(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)if(r===void 0||r(e[a])===!0)n.push(e[a]);else return;return n}function Sdt(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return wut(n,r)}function Cdt(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function kE(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Adt(e,t){return zhe(e,t+1)}function Edt(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,h=function(){var N=n==null?void 0:n[c];if(N===void 0)return{v:zhe(n,u)};var b=c,S,C=function(){return S===void 0&&(S=r(N,b)),S},j=N.coordinate,T=c===0||kE(e,j,C,f,l);T||(c=0,f=o,u+=1),T&&(f=j+e*(C()/2+a),c+=u)},g;u<=i.length;)if(g=h(),g)return g.v;return[]}function g5(e){"@babel/helpers - typeof";return g5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g5(e)}function LX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LX(Object(r),!0).forEach(function(n){jdt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jdt(e,t,r){return t=Tdt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tdt(e){var t=kdt(e,"string");return g5(t)=="symbol"?t:t+""}function kdt(e,t){if(g5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pdt(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(g){var p=i[g],N,b=function(){return N===void 0&&(N=r(p,g)),N};if(g===o-1){var S=e*(p.coordinate+e*b()/2-c);i[g]=p=fu(fu({},p),{},{tickCoord:S>0?p.coordinate-S*e:p.coordinate})}else i[g]=p=fu(fu({},p),{},{tickCoord:p.coordinate});var C=kE(e,p.tickCoord,b,l,c);C&&(c=p.tickCoord-e*(b()/2+a),i[g]=fu(fu({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return i}function Odt(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var f=n[l-1],h=r(f,l-1),g=e*(f.coordinate+e*h/2-u);o[l-1]=f=fu(fu({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate});var p=kE(e,f.tickCoord,function(){return h},c,u);p&&(u=f.tickCoord-e*(h/2+a),o[l-1]=fu(fu({},f),{},{isShow:!0}))}for(var N=i?l-1:l,b=function(j){var T=o[j],O,M=function(){return O===void 0&&(O=r(T,j)),O};if(j===0){var B=e*(T.coordinate-e*M()/2-c);o[j]=T=fu(fu({},T),{},{tickCoord:B<0?T.coordinate-B*e:T.coordinate})}else o[j]=T=fu(fu({},T),{},{tickCoord:T.coordinate});var L=kE(e,T.tickCoord,M,c,u);L&&(c=T.tickCoord+e*(M()/2+a),o[j]=fu(fu({},T),{},{isShow:!0}))},S=0;S<N;S++)b(S);return o}function V9(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,h=e.angle;if(!a||!a.length||!n)return[];if(Dr(c)||I0.isSsr)return Adt(a,typeof c=="number"&&Dr(c)?c:0);var g=[],p=l==="top"||l==="bottom"?"width":"height",N=f&&p==="width"?I_(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(T,O){var M=ja(u)?u(T.value,O):T.value;return p==="width"?Sdt(I_(M,{fontSize:t,letterSpacing:r}),N,h):I_(M,{fontSize:t,letterSpacing:r})[p]},S=a.length>=2?Wu(a[1].coordinate-a[0].coordinate):1,C=Cdt(i,S,p);return c==="equidistantPreserveStart"?Edt(S,C,b,a,o):(c==="preserveStart"||c==="preserveStartEnd"?g=Odt(S,C,b,a,o,c==="preserveStartEnd"):g=Pdt(S,C,b,a,o),g.filter(function(j){return j.isShow}))}var Idt=["viewBox"],Fdt=["viewBox"],Ddt=["ticks"];function Jy(e){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jy(e)}function E2(){return E2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E2.apply(this,arguments)}function BX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BX(Object(r),!0).forEach(function(n){W9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KP(e,t){if(e==null)return{};var r=Rdt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rdt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mdt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Whe(n.key),n)}}function Ldt(e,t,r){return t&&UX(e.prototype,t),r&&UX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bdt(e,t,r){return t=PE(t),Udt(e,Vhe()?Reflect.construct(t,r||[],PE(e).constructor):t.apply(e,r))}function Udt(e,t){if(t&&(Jy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $dt(e)}function $dt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vhe=function(){return!!e})()}function PE(e){return PE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},PE(e)}function zdt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JD(e,t)}function JD(e,t){return JD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JD(e,t)}function W9(e,t,r){return t=Whe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Whe(e){var t=Vdt(e,"string");return Jy(t)=="symbol"?t:t+""}function Vdt(e,t){if(Jy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lb=function(e){function t(r){var n;return Mdt(this,t),n=Bdt(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return zdt(t,e),Ldt(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=KP(n,Idt),l=this.props,c=l.viewBox,u=KP(l,Fdt);return!K2(i,c)||!K2(o,u)||!K2(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,h=a.mirror,g=a.tickMargin,p,N,b,S,C,j,T=h?-1:1,O=n.tickSize||f,M=Dr(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=N=n.coordinate,S=o+ +!h*c,b=S-T*O,j=b-T*g,C=M;break;case"left":b=S=n.coordinate,N=i+ +!h*l,p=N-T*O,C=p-T*g,j=M;break;case"right":b=S=n.coordinate,N=i+ +h*l,p=N+T*O,C=p+T*g,j=M;break;default:p=N=n.coordinate,S=o+ +h*c,b=S+T*O,j=b+T*g,C=M;break}return{line:{x1:p,y1:b,x2:N,y2:S},tick:{x:C,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,h=Vl(Vl(Vl({},ga(this.props,!1)),ga(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!u||c==="bottom"&&u);h=Vl(Vl({},h),{},{x1:a,y1:i+g*l,x2:a+o,y2:i+g*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);h=Vl(Vl({},h),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return Ve.createElement("line",E2({},h,{className:Qa("recharts-cartesian-axis-line",af(f,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,h=l.tickFormatter,g=l.unit,p=V9(Vl(Vl({},this.props),{},{ticks:n}),a,i),N=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),S=ga(this.props,!1),C=ga(f,!1),j=Vl(Vl({},S),{},{fill:"none"},ga(c,!1)),T=p.map(function(O,M){var B=o.getTickLineCoord(O),L=B.line,H=B.tick,U=Vl(Vl(Vl(Vl({textAnchor:N,verticalAnchor:b},S),{},{stroke:"none",fill:u},C),H),{},{index:M,payload:O,visibleTicksCount:p.length,tickFormatter:h});return Ve.createElement(Fi,E2({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},kx(o.props,O,M)),c&&Ve.createElement("line",E2({},j,L,{className:Qa("recharts-cartesian-axis-tick-line",af(c,"className"))})),f&&t.renderTickItem(f,U,"".concat(ja(h)?h(O.value,M):O.value).concat(g||"")))});return Ve.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var h=this.props,g=h.ticks,p=KP(h,Ddt),N=g;return ja(c)&&(N=g&&g.length>0?c(this.props):c(p)),o<=0||l<=0||!N||!N.length?null:Ve.createElement(Fi,{className:Qa("recharts-cartesian-axis",u),ref:function(S){n.layerReference=S}},i&&this.renderAxisLine(),this.renderTicks(N,this.state.fontSize,this.state.letterSpacing),xc.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Qa(a.className,"recharts-cartesian-axis-tick-value");return Ve.isValidElement(n)?o=Ve.cloneElement(n,Vl(Vl({},a),{},{className:l})):ja(n)?o=n(Vl(Vl({},a),{},{className:l})):o=Ve.createElement(Px,E2({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(A.Component);W9(Lb,"displayName","CartesianAxis");W9(Lb,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Wdt=["x1","y1","x2","y2","key"],Hdt=["offset"];function Dx(e){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dx(e)}function $X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$X(Object(r),!0).forEach(function(n){qdt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$X(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qdt(e,t,r){return t=Gdt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gdt(e){var t=Kdt(e,"string");return Dx(t)=="symbol"?t:t+""}function Kdt(e,t){if(Dx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(this,arguments)}function zX(e,t){if(e==null)return{};var r=Ydt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ydt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Xdt=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return Ve.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Hhe(e,t){var r;if(Ve.isValidElement(e))r=Ve.cloneElement(e,t);else if(ja(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=zX(t,Wdt),u=ga(c,!1);u.offset;var f=zX(u,Hdt);r=Ve.createElement("line",Qg({},f,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Zdt(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=gu(gu({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Hhe(a,u)});return Ve.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Jdt(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=gu(gu({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Hhe(a,u)});return Ve.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Qdt(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(g){return Math.round(g+a-a)}).sort(function(g,p){return g-p});a!==f[0]&&f.unshift(0);var h=f.map(function(g,p){var N=!f[p+1],b=N?a+o-g:f[p+1]-g;if(b<=0)return null;var S=p%t.length;return Ve.createElement("rect",{key:"react-".concat(p),y:g,x:n,height:b,width:i,stroke:"none",fill:t[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ve.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function eft(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(g){return Math.round(g+i-i)}).sort(function(g,p){return g-p});i!==f[0]&&f.unshift(0);var h=f.map(function(g,p){var N=!f[p+1],b=N?i+l-g:f[p+1]-g;if(b<=0)return null;var S=p%n.length;return Ve.createElement("rect",{key:"react-".concat(p),x:g,y:o,width:b,height:c,stroke:"none",fill:n[S],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ve.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var tft=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return Hfe(V9(gu(gu(gu({},Lb.defaultProps),n),{},{ticks:Cm(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},rft=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return Hfe(V9(gu(gu(gu({},Lb.defaultProps),n),{},{ticks:Cm(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},qv={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function qhe(e){var t,r,n,a,i,o,l=B9(),c=U9(),u=qut(),f=gu(gu({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:qv.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:qv.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:qv.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:qv.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:qv.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:qv.verticalFill,x:Dr(e.x)?e.x:u.left,y:Dr(e.y)?e.y:u.top,width:Dr(e.width)?e.width:u.width,height:Dr(e.height)?e.height:u.height}),h=f.x,g=f.y,p=f.width,N=f.height,b=f.syncWithTicks,S=f.horizontalValues,C=f.verticalValues,j=Vut(),T=Wut();if(!Dr(p)||p<=0||!Dr(N)||N<=0||!Dr(h)||h!==+h||!Dr(g)||g!==+g)return null;var O=f.verticalCoordinatesGenerator||tft,M=f.horizontalCoordinatesGenerator||rft,B=f.horizontalPoints,L=f.verticalPoints;if((!B||!B.length)&&ja(M)){var H=S&&S.length,U=M({yAxis:T?gu(gu({},T),{},{ticks:H?S:T.ticks}):void 0,width:l,height:c,offset:u},H?!0:b);Fh(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Dx(U),"]")),Array.isArray(U)&&(B=U)}if((!L||!L.length)&&ja(O)){var J=C&&C.length,K=O({xAxis:j?gu(gu({},j),{},{ticks:J?C:j.ticks}):void 0,width:l,height:c,offset:u},J?!0:b);Fh(Array.isArray(K),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Dx(K),"]")),Array.isArray(K)&&(L=K)}return Ve.createElement("g",{className:"recharts-cartesian-grid"},Ve.createElement(Xdt,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Ve.createElement(Zdt,Qg({},f,{offset:u,horizontalPoints:B,xAxis:j,yAxis:T})),Ve.createElement(Jdt,Qg({},f,{offset:u,verticalPoints:L,xAxis:j,yAxis:T})),Ve.createElement(Qdt,Qg({},f,{horizontalPoints:B})),Ve.createElement(eft,Qg({},f,{verticalPoints:L})))}qhe.displayName="CartesianGrid";var nft=["layout","type","stroke","connectNulls","isRange","ref"],aft=["key"],Ghe;function Qy(e){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(e)}function Khe(e,t){if(e==null)return{};var r=ift(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ift(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(this,arguments)}function VX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VX(Object(r),!0).forEach(function(n){N0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xhe(n.key),n)}}function oft(e,t,r){return t&&WX(e.prototype,t),r&&WX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lft(e,t,r){return t=OE(t),cft(e,Yhe()?Reflect.construct(t,r||[],OE(e).constructor):t.apply(e,r))}function cft(e,t){if(t&&(Qy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uft(e)}function uft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yhe=function(){return!!e})()}function OE(e){return OE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},OE(e)}function dft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QD(e,t)}function QD(e,t){return QD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QD(e,t)}function N0(e,t,r){return t=Xhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xhe(e){var t=fft(e,"string");return Qy(t)=="symbol"?t:t+""}function fft(e,t){if(Qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y1=function(e){function t(){var r;sft(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=lft(this,t,[].concat(a)),N0(r,"state",{isAnimationFinished:!0}),N0(r,"id",Pb("recharts-area-")),N0(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ja(o)&&o()}),N0(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ja(o)&&o()}),r}return dft(t,e),oft(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,f=c.points,h=c.dataKey,g=ga(this.props,!1),p=ga(u,!0),N=f.map(function(S,C){var j=kp(kp(kp({key:"dot-".concat(C),r:3},g),p),{},{index:C,cx:S.x,cy:S.y,dataKey:h,value:S.value,payload:S.payload,points:f});return t.renderDotItem(u,j)}),b={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ve.createElement(Fi,ex({className:"recharts-area-dots"},b),N)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,f=n*Math.abs(c-u),h=Gp(o.map(function(g){return g.y||0}));return Dr(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Gp(i.map(function(g){return g.y||0})),h)),Dr(h)?Ve.createElement("rect",{x:c<u?c:c-f,y:0,width:f,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,f=n*Math.abs(c-u),h=Gp(o.map(function(g){return g.x||0}));return Dr(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Gp(i.map(function(g){return g.x||0})),h)),Dr(h)?Ve.createElement("rect",{x:0,y:c<u?c:c-f,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,u=l.type,f=l.stroke,h=l.connectNulls,g=l.isRange;l.ref;var p=Khe(l,nft);return Ve.createElement(Fi,{clipPath:i?"url(#clipPath-".concat(o,")"):null},Ve.createElement(J2,ex({},ga(p,!0),{points:n,connectNulls:h,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&Ve.createElement(J2,ex({},ga(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:n})),f!=="none"&&g&&Ve.createElement(J2,ex({},ga(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,g=o.animationEasing,p=o.animationId,N=this.state,b=N.prevPoints,S=N.prevBaseLine;return Ve.createElement(Fx,{begin:f,duration:h,isActive:u,easing:g,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var j=C.t;if(b){var T=b.length/l.length,O=l.map(function(H,U){var J=Math.floor(U*T);if(b[J]){var K=b[J],G=fd(K.x,H.x),re=fd(K.y,H.y);return kp(kp({},H),{},{x:G(j),y:re(j)})}return H}),M;if(Dr(c)&&typeof c=="number"){var B=fd(S,c);M=B(j)}else if(ei(c)||kb(c)){var L=fd(S,0);M=L(j)}else M=c.map(function(H,U){var J=Math.floor(U*T);if(S[J]){var K=S[J],G=fd(K.x,H.x),re=fd(K.y,H.y);return kp(kp({},H),{},{x:G(j),y:re(j)})}return H});return i.renderAreaStatically(O,M,n,a)}return Ve.createElement(Fi,null,Ve.createElement("defs",null,Ve.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(j))),Ve.createElement(Fi,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,f=u.prevPoints,h=u.prevBaseLine,g=u.totalLength;return c&&o&&o.length&&(!f&&g>0||!Uy(f,o)||!Uy(h,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,f=a.left,h=a.xAxis,g=a.yAxis,p=a.width,N=a.height,b=a.isAnimationActive,S=a.id;if(i||!l||!l.length)return null;var C=this.state.isAnimationFinished,j=l.length===1,T=Qa("recharts-area",c),O=h&&h.allowDataOverflow,M=g&&g.allowDataOverflow,B=O||M,L=ei(S)?this.id:S,H=(n=ga(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},U=H.r,J=U===void 0?3:U,K=H.strokeWidth,G=K===void 0?2:K,re=Gze(o)?o:{},ae=re.clipDot,X=ae===void 0?!0:ae,ne=J*2+G;return Ve.createElement(Fi,{className:T},O||M?Ve.createElement("defs",null,Ve.createElement("clipPath",{id:"clipPath-".concat(L)},Ve.createElement("rect",{x:O?f:f-p/2,y:M?u:u-N/2,width:O?p:p*2,height:M?N:N*2})),!X&&Ve.createElement("clipPath",{id:"clipPath-dots-".concat(L)},Ve.createElement("rect",{x:f-ne/2,y:u-ne/2,width:p+ne,height:N+ne}))):null,j?null:this.renderArea(B,L),(o||j)&&this.renderDots(B,X,L),(!b||C)&&Om.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(A.PureComponent);Ghe=Y1;N0(Y1,"displayName","Area");N0(Y1,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!I0.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});N0(Y1,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Dr(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});N0(Y1,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,f=e.dataStartIndex,h=e.displayedData,g=e.offset,p=t.layout,N=u&&u.length,b=Ghe.getBaseValue(t,r,n,a),S=p==="horizontal",C=!1,j=h.map(function(O,M){var B;N?B=u[f+M]:(B=Xl(O,c),Array.isArray(B)?C=!0:B=[b,B]);var L=B[1]==null||N&&Xl(O,c)==null;return S?{x:dY({axis:n,ticks:i,bandSize:l,entry:O,index:M}),y:L?null:a.scale(B[1]),value:B,payload:O}:{x:L?null:n.scale(B[1]),y:dY({axis:a,ticks:o,bandSize:l,entry:O,index:M}),value:B,payload:O}}),T;return N||C?T=j.map(function(O){var M=Array.isArray(O.value)?O.value[0]:null;return S?{x:O.x,y:M!=null&&O.y!=null?a.scale(M):null}:{x:M!=null?n.scale(M):null,y:O.y}}):T=S?a.scale(b):n.scale(b),kp({points:j,baseLine:T,layout:p,isRange:C},g)});N0(Y1,"renderDotItem",function(e,t){var r;if(Ve.isValidElement(e))r=Ve.cloneElement(e,t);else if(ja(e))r=e(t);else{var n=Qa("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=Khe(t,aft);r=Ve.createElement(gT,ex({},i,{key:a,className:n}))}return r});function eb(e){"@babel/helpers - typeof";return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eb(e)}function hft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qhe(n.key),n)}}function mft(e,t,r){return t&&HX(e.prototype,t),r&&HX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pft(e,t,r){return t=IE(t),gft(e,Zhe()?Reflect.construct(t,r||[],IE(e).constructor):t.apply(e,r))}function gft(e,t){if(t&&(eb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xft(e)}function xft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zhe=function(){return!!e})()}function IE(e){return IE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},IE(e)}function vft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eR(e,t)}function eR(e,t){return eR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eR(e,t)}function Jhe(e,t,r){return t=Qhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qhe(e){var t=yft(e,"string");return eb(t)=="symbol"?t:t+""}function yft(e,t){if(eb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tR(){return tR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tR.apply(this,arguments)}function bft(e){var t=e.xAxisId,r=B9(),n=U9(),a=Fhe(t);return a==null?null:A.createElement(Lb,tR({},a,{className:Qa("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Cm(o,!0)}}))}var jT=function(e){function t(){return hft(this,t),pft(this,t,arguments)}return vft(t,e),mft(t,[{key:"render",value:function(){return A.createElement(bft,this.props)}}])}(A.Component);Jhe(jT,"displayName","XAxis");Jhe(jT,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function tb(e){"@babel/helpers - typeof";return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tb(e)}function wft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r0e(n.key),n)}}function _ft(e,t,r){return t&&qX(e.prototype,t),r&&qX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nft(e,t,r){return t=FE(t),Sft(e,e0e()?Reflect.construct(t,r||[],FE(e).constructor):t.apply(e,r))}function Sft(e,t){if(t&&(tb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cft(e)}function Cft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e0e=function(){return!!e})()}function FE(e){return FE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},FE(e)}function Aft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rR(e,t)}function rR(e,t){return rR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rR(e,t)}function t0e(e,t,r){return t=r0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r0e(e){var t=Eft(e,"string");return tb(t)=="symbol"?t:t+""}function Eft(e,t){if(tb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nR(){return nR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nR.apply(this,arguments)}var jft=function(t){var r=t.yAxisId,n=B9(),a=U9(),i=Dhe(r);return i==null?null:A.createElement(Lb,nR({},i,{className:Qa("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Cm(l,!0)}}))},TT=function(e){function t(){return wft(this,t),Nft(this,t,arguments)}return Aft(t,e),_ft(t,[{key:"render",value:function(){return A.createElement(jft,this.props)}}])}(A.Component);t0e(TT,"displayName","YAxis");t0e(TT,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function GX(e){return Oft(e)||Pft(e)||kft(e)||Tft()}function Tft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kft(e,t){if(e){if(typeof e=="string")return aR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aR(e,t)}}function Pft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oft(e){if(Array.isArray(e))return aR(e)}function aR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iR=function(t,r,n,a,i){var o=Wf(t,z9),l=Wf(t,CT),c=[].concat(GX(o),GX(l)),u=Wf(t,ET),f="".concat(a,"Id"),h=a[0],g=r;if(c.length&&(g=c.reduce(function(b,S){if(S.props[f]===n&&D0(S.props,"extendDomain")&&Dr(S.props[h])){var C=S.props[h];return[Math.min(b[0],C),Math.max(b[1],C)]}return b},g)),u.length){var p="".concat(h,"1"),N="".concat(h,"2");g=u.reduce(function(b,S){if(S.props[f]===n&&D0(S.props,"extendDomain")&&Dr(S.props[p])&&Dr(S.props[N])){var C=S.props[p],j=S.props[N];return[Math.min(b[0],C,j),Math.max(b[1],C,j)]}return b},g)}return i&&i.length&&(g=i.reduce(function(b,S){return Dr(S)?[Math.min(b[0],S),Math.max(b[1],S)]:b},g)),g},n0e={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,h,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,h||c,g),N=r?r+u:u;return c._events[N]?c._events[N].fn?c._events[N]=[c._events[N],p]:c._events[N].push(p):(c._events[N]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)t.call(f,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,p=h.length,N=new Array(p);g<p;g++)N[g]=h[g].fn;return N},l.prototype.listenerCount=function(u){var f=r?r+u:u,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,f,h,g,p,N){var b=r?r+u:u;if(!this._events[b])return!1;var S=this._events[b],C=arguments.length,j,T;if(S.fn){switch(S.once&&this.removeListener(u,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,f),!0;case 3:return S.fn.call(S.context,f,h),!0;case 4:return S.fn.call(S.context,f,h,g),!0;case 5:return S.fn.call(S.context,f,h,g,p),!0;case 6:return S.fn.call(S.context,f,h,g,p,N),!0}for(T=1,j=new Array(C-1);T<C;T++)j[T-1]=arguments[T];S.fn.apply(S.context,j)}else{var O=S.length,M;for(T=0;T<O;T++)switch(S[T].once&&this.removeListener(u,S[T].fn,void 0,!0),C){case 1:S[T].fn.call(S[T].context);break;case 2:S[T].fn.call(S[T].context,f);break;case 3:S[T].fn.call(S[T].context,f,h);break;case 4:S[T].fn.call(S[T].context,f,h,g);break;default:if(!j)for(M=1,j=new Array(C-1);M<C;M++)j[M-1]=arguments[M];S[T].fn.apply(S[T].context,j)}}return!0},l.prototype.on=function(u,f,h){return i(this,u,f,h,!1)},l.prototype.once=function(u,f,h){return i(this,u,f,h,!0)},l.prototype.removeListener=function(u,f,h,g){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var N=this._events[p];if(N.fn)N.fn===f&&(!g||N.once)&&(!h||N.context===h)&&o(this,p);else{for(var b=0,S=[],C=N.length;b<C;b++)(N[b].fn!==f||g&&!N[b].once||h&&N[b].context!==h)&&S.push(N[b]);S.length?this._events[p]=S.length===1?S[0]:S:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(n0e);var Ift=n0e.exports;const Fft=ji(Ift);var YP=new Fft,XP="recharts.syncMouseEvents";function x5(e){"@babel/helpers - typeof";return x5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x5(e)}function Dft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a0e(n.key),n)}}function Rft(e,t,r){return t&&KX(e.prototype,t),r&&KX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZP(e,t,r){return t=a0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a0e(e){var t=Mft(e,"string");return x5(t)=="symbol"?t:t+""}function Mft(e,t){if(x5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(x5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lft=function(){function e(){Dft(this,e),ZP(this,"activeIndex",0),ZP(this,"coordinateList",[]),ZP(this,"layout","horizontal")}return Rft(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,h=f===void 0?null:f,g=r.mouseHandlerCallback,p=g===void 0?null:g;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+c+u,g=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])}();function Bft(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Dr(n)&&Dr(a))return!0}return!1}function Uft(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function i0e(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Hs(t,r,n,a),l=Hs(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function $ft(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,h=t.angle,g=Hs(l,c,u,h),p=Hs(l,c,f,h);n=g.x,a=g.y,i=p.x,o=p.y}else return i0e(t);return[{x:n,y:a},{x:i,y:o}]}function v5(e){"@babel/helpers - typeof";return v5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v5(e)}function YX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YX(Object(r),!0).forEach(function(n){zft(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zft(e,t,r){return t=Vft(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vft(e){var t=Wft(e,"string");return v5(t)=="symbol"?t:t+""}function Wft(e,t){if(v5(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(v5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hft(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,g=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||g!=="ScatterChart"&&a!=="axis")return null;var N,b=J2;if(g==="ScatterChart")N=o,b=vot;else if(g==="BarChart")N=Uft(h,o,c,f),b=D9;else if(h==="radial"){var S=i0e(o),C=S.cx,j=S.cy,T=S.radius,O=S.startAngle,M=S.endAngle;N={cx:C,cy:j,startAngle:O,endAngle:M,innerRadius:T,outerRadius:T},b=rhe}else N={points:$ft(h,o,c)},b=J2;var B=AS(AS(AS(AS({stroke:"#ccc",pointerEvents:"none"},c),N),ga(p,!1)),{},{payload:l,payloadIndex:u,className:Qa("recharts-tooltip-cursor",p.className)});return A.isValidElement(p)?A.cloneElement(p,B):A.createElement(b,B)}var qft=["item"],Gft=["children","className","width","height","style","compact","title","desc"];function rb(e){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rb(e)}function j2(){return j2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j2.apply(this,arguments)}function XX(e,t){return Xft(e)||Yft(e,t)||o0e(e,t)||Kft()}function Kft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yft(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Xft(e){if(Array.isArray(e))return e}function ZX(e,t){if(e==null)return{};var r=Zft(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zft(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l0e(n.key),n)}}function Qft(e,t,r){return t&&JX(e.prototype,t),r&&JX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eht(e,t,r){return t=DE(t),tht(e,s0e()?Reflect.construct(t,r||[],DE(e).constructor):t.apply(e,r))}function tht(e,t){if(t&&(rb(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rht(e)}function rht(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s0e=function(){return!!e})()}function DE(e){return DE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},DE(e)}function nht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sR(e,t)}function sR(e,t){return sR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sR(e,t)}function nb(e){return sht(e)||iht(e)||o0e(e)||aht()}function aht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o0e(e,t){if(e){if(typeof e=="string")return oR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oR(e,t)}}function iht(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sht(e){if(Array.isArray(e))return oR(e)}function oR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QX(Object(r),!0).forEach(function(n){Aa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aa(e,t,r){return t=l0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l0e(e){var t=oht(e,"string");return rb(t)=="symbol"?t:t+""}function oht(e,t){if(rb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lht={xAxis:["bottom","top"],yAxis:["left","right"]},cht={width:"100%",height:"100%"},c0e={x:0,y:0};function ES(e){return e}var uht=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},dht=function(t,r,n,a){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return cr(cr(cr({},a),Hs(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return cr(cr(cr({},a),Hs(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return c0e},kT=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(nb(l),nb(u)):l},[]);return o.length>0?o:t&&t.length&&Dr(a)&&Dr(i)?t.slice(a,i+1):[]};function u0e(e){return e==="number"?[0,"auto"]:void 0}var lR=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=kT(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var f,h=(f=u.props.data)!==null&&f!==void 0?f:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;g=RA(p,o.dataKey,a)}else g=h&&h[n]||l[n];return g?[].concat(nb(c),[Xfe(u,g)]):c},[])},eZ=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=uht(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=Gnt(o,l,u,c);if(f>=0&&u){var h=u[f]&&u[f].value,g=lR(t,r,f,h),p=dht(n,l,f,i);return{activeTooltipIndex:f,activeLabel:h,activePayload:g,activeCoordinate:p}}return null},fht=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,h=t.children,g=t.stackOffset,p=Wfe(f,i);return n.reduce(function(N,b){var S,C=b.type.defaultProps!==void 0?cr(cr({},b.type.defaultProps),b.props):b.props,j=C.type,T=C.dataKey,O=C.allowDataOverflow,M=C.allowDuplicatedCategory,B=C.scale,L=C.ticks,H=C.includeHidden,U=C[o];if(N[U])return N;var J=kT(t.data,{graphicalItems:a.filter(function(ee){var he,se=o in ee.props?ee.props[o]:(he=ee.type.defaultProps)===null||he===void 0?void 0:he[o];return se===U}),dataStartIndex:c,dataEndIndex:u}),K=J.length,G,re,ae;Bft(C.domain,O,j)&&(G=ND(C.domain,null,O),p&&(j==="number"||B!=="auto")&&(ae=D_(J,T,"category")));var X=u0e(j);if(!G||G.length===0){var ne,de=(ne=C.domain)!==null&&ne!==void 0?ne:X;if(T){if(G=D_(J,T,j),j==="category"&&p){var le=Mze(G);M&&le?(re=G,G=_E(0,K)):M||(G=pY(de,G,b).reduce(function(ee,he){return ee.indexOf(he)>=0?ee:[].concat(nb(ee),[he])},[]))}else if(j==="category")M?G=G.filter(function(ee){return ee!==""&&!ei(ee)}):G=pY(de,G,b).reduce(function(ee,he){return ee.indexOf(he)>=0||he===""||ei(he)?ee:[].concat(nb(ee),[he])},[]);else if(j==="number"){var xe=Jnt(J,a.filter(function(ee){var he,se,te=o in ee.props?ee.props[o]:(he=ee.type.defaultProps)===null||he===void 0?void 0:he[o],ge="hide"in ee.props?ee.props.hide:(se=ee.type.defaultProps)===null||se===void 0?void 0:se.hide;return te===U&&(H||!ge)}),T,i,f);xe&&(G=xe)}p&&(j==="number"||B!=="auto")&&(ae=D_(J,T,"category"))}else p?G=_E(0,K):l&&l[U]&&l[U].hasStack&&j==="number"?G=g==="expand"?[0,1]:Yfe(l[U].stackGroups,c,u):G=Vfe(J,a.filter(function(ee){var he=o in ee.props?ee.props[o]:ee.type.defaultProps[o],se="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return he===U&&(H||!se)}),j,f,!0);if(j==="number")G=iR(h,G,U,i,L),de&&(G=ND(de,G,O));else if(j==="category"&&de){var Se=de,ye=G.every(function(ee){return Se.indexOf(ee)>=0});ye&&(G=Se)}}return cr(cr({},N),{},Aa({},U,cr(cr({},C),{},{axisType:i,domain:G,categoricalDomain:ae,duplicateDomain:re,originalDomain:(S=C.domain)!==null&&S!==void 0?S:X,isCategorical:p,layout:f})))},{})},hht=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,h=t.children,g=kT(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=g.length,N=Wfe(f,i),b=-1;return n.reduce(function(S,C){var j=C.type.defaultProps!==void 0?cr(cr({},C.type.defaultProps),C.props):C.props,T=j[o],O=u0e("number");if(!S[T]){b++;var M;return N?M=_E(0,p):l&&l[T]&&l[T].hasStack?(M=Yfe(l[T].stackGroups,c,u),M=iR(h,M,T,i)):(M=ND(O,Vfe(g,n.filter(function(B){var L,H,U=o in B.props?B.props[o]:(L=B.type.defaultProps)===null||L===void 0?void 0:L[o],J="hide"in B.props?B.props.hide:(H=B.type.defaultProps)===null||H===void 0?void 0:H.hide;return U===T&&!J}),"number",f),a.defaultProps.allowDataOverflow),M=iR(h,M,T,i)),cr(cr({},S),{},Aa({},T,cr(cr({axisType:i},a.defaultProps),{},{hide:!0,orientation:af(lht,"".concat(i,".").concat(b%2),null),domain:M,originalDomain:O,isCategorical:N,layout:f})))}return S},{})},mht=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,h="".concat(a,"Id"),g=Wf(f,i),p={};return g&&g.length?p=fht(t,{axes:g,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=hht(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},pht=function(t){var r=Bp(t),n=Cm(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:l9(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:uE(r,n)}},tZ=function(t){var r=t.children,n=t.defaultShowTooltip,a=Vd(r,Gy),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},ght=function(t){return!t||!t.length?!1:t.some(function(r){var n=km(r&&r.type);return n&&n.indexOf("Bar")>=0})},rZ=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xht=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,h=n.children,g=n.margin||{},p=Vd(h,Gy),N=Vd(h,Y2),b=Object.keys(c).reduce(function(M,B){var L=c[B],H=L.orientation;return!L.mirror&&!L.hide?cr(cr({},M),{},Aa({},H,M[H]+L.width)):M},{left:g.left||0,right:g.right||0}),S=Object.keys(o).reduce(function(M,B){var L=o[B],H=L.orientation;return!L.mirror&&!L.hide?cr(cr({},M),{},Aa({},H,af(M,"".concat(H))+L.height)):M},{top:g.top||0,bottom:g.bottom||0}),C=cr(cr({},S),b),j=C.bottom;p&&(C.bottom+=p.props.height||Gy.defaultProps.height),N&&r&&(C=Xnt(C,a,n,r));var T=u-C.left-C.right,O=f-C.top-C.bottom;return cr(cr({brushBottom:j},C),{},{width:Math.max(T,0),height:Math.max(O,0)})},vht=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},d0e=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,h=t.defaultProps,g=function(C,j){var T=j.graphicalItems,O=j.stackGroups,M=j.offset,B=j.updateId,L=j.dataStartIndex,H=j.dataEndIndex,U=C.barSize,J=C.layout,K=C.barGap,G=C.barCategoryGap,re=C.maxBarSize,ae=rZ(J),X=ae.numericAxisName,ne=ae.cateAxisName,de=ght(T),le=[];return T.forEach(function(xe,Se){var ye=kT(C.data,{graphicalItems:[xe],dataStartIndex:L,dataEndIndex:H}),ee=xe.type.defaultProps!==void 0?cr(cr({},xe.type.defaultProps),xe.props):xe.props,he=ee.dataKey,se=ee.maxBarSize,te=ee["".concat(X,"Id")],ge=ee["".concat(ne,"Id")],ue={},Ce=c.reduce(function(ct,Ar){var jr=j["".concat(Ar.axisType,"Map")],tn=ee["".concat(Ar.axisType,"Id")];jr&&jr[tn]||Ar.axisType==="zAxis"||Ix(!1);var ha=jr[tn];return cr(cr({},ct),{},Aa(Aa({},Ar.axisType,ha),"".concat(Ar.axisType,"Ticks"),Cm(ha)))},ue),Ne=Ce[ne],Ee=Ce["".concat(ne,"Ticks")],Ge=O&&O[te]&&O[te].hasStack&&oat(xe,O[te].stackGroups),Be=km(xe.type).indexOf("Bar")>=0,st=uE(Ne,Ee),lt=[],Me=de&&Knt({barSize:U,stackGroups:O,totalSize:vht(Ce,ne)});if(Be){var wt,_t,ar=ei(se)?re:se,Tt=(wt=(_t=uE(Ne,Ee,!0))!==null&&_t!==void 0?_t:ar)!==null&&wt!==void 0?wt:0;lt=Ynt({barGap:K,barCategoryGap:G,bandSize:Tt!==st?Tt:st,sizeList:Me[ge],maxBarSize:ar}),Tt!==st&&(lt=lt.map(function(ct){return cr(cr({},ct),{},{position:cr(cr({},ct.position),{},{offset:ct.position.offset-Tt/2})})}))}var sn=xe&&xe.type&&xe.type.getComposedData;sn&&le.push({props:cr(cr({},sn(cr(cr({},Ce),{},{displayedData:ye,props:C,dataKey:he,item:xe,bandSize:st,barPosition:lt,offset:M,stackedData:Ge,layout:J,dataStartIndex:L,dataEndIndex:H}))),{},Aa(Aa(Aa({key:xe.key||"item-".concat(Se)},X,Ce[X]),ne,Ce[ne]),"animationId",B)),childIndex:Xze(xe,C.children),item:xe})}),le},p=function(C,j){var T=C.props,O=C.dataStartIndex,M=C.dataEndIndex,B=C.updateId;if(!nG({props:T}))return null;var L=T.children,H=T.layout,U=T.stackOffset,J=T.data,K=T.reverseStackOrder,G=rZ(H),re=G.numericAxisName,ae=G.cateAxisName,X=Wf(L,n),ne=iat(J,X,"".concat(re,"Id"),"".concat(ae,"Id"),U,K),de=c.reduce(function(ee,he){var se="".concat(he.axisType,"Map");return cr(cr({},ee),{},Aa({},se,mht(T,cr(cr({},he),{},{graphicalItems:X,stackGroups:he.axisType===re&&ne,dataStartIndex:O,dataEndIndex:M}))))},{}),le=xht(cr(cr({},de),{},{props:T,graphicalItems:X}),j==null?void 0:j.legendBBox);Object.keys(de).forEach(function(ee){de[ee]=f(T,de[ee],le,ee.replace("Map",""),r)});var xe=de["".concat(ae,"Map")],Se=pht(xe),ye=g(T,cr(cr({},de),{},{dataStartIndex:O,dataEndIndex:M,updateId:B,graphicalItems:X,stackGroups:ne,offset:le}));return cr(cr({formattedGraphicalItems:ye,graphicalItems:X,offset:le,stackGroups:ne},Se),de)},N=function(S){function C(j){var T,O,M;return Jft(this,C),M=eht(this,C,[j]),Aa(M,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Aa(M,"accessibilityManager",new Lft),Aa(M,"handleLegendBBoxUpdate",function(B){if(B){var L=M.state,H=L.dataStartIndex,U=L.dataEndIndex,J=L.updateId;M.setState(cr({legendBBox:B},p({props:M.props,dataStartIndex:H,dataEndIndex:U,updateId:J},cr(cr({},M.state),{},{legendBBox:B}))))}}),Aa(M,"handleReceiveSyncEvent",function(B,L,H){if(M.props.syncId===B){if(H===M.eventEmitterSymbol&&typeof M.props.syncMethod!="function")return;M.applySyncEvent(L)}}),Aa(M,"handleBrushChange",function(B){var L=B.startIndex,H=B.endIndex;if(L!==M.state.dataStartIndex||H!==M.state.dataEndIndex){var U=M.state.updateId;M.setState(function(){return cr({dataStartIndex:L,dataEndIndex:H},p({props:M.props,dataStartIndex:L,dataEndIndex:H,updateId:U},M.state))}),M.triggerSyncEvent({dataStartIndex:L,dataEndIndex:H})}}),Aa(M,"handleMouseEnter",function(B){var L=M.getMouseInfo(B);if(L){var H=cr(cr({},L),{},{isTooltipActive:!0});M.setState(H),M.triggerSyncEvent(H);var U=M.props.onMouseEnter;ja(U)&&U(H,B)}}),Aa(M,"triggeredAfterMouseMove",function(B){var L=M.getMouseInfo(B),H=L?cr(cr({},L),{},{isTooltipActive:!0}):{isTooltipActive:!1};M.setState(H),M.triggerSyncEvent(H);var U=M.props.onMouseMove;ja(U)&&U(H,B)}),Aa(M,"handleItemMouseEnter",function(B){M.setState(function(){return{isTooltipActive:!0,activeItem:B,activePayload:B.tooltipPayload,activeCoordinate:B.tooltipPosition||{x:B.cx,y:B.cy}}})}),Aa(M,"handleItemMouseLeave",function(){M.setState(function(){return{isTooltipActive:!1}})}),Aa(M,"handleMouseMove",function(B){B.persist(),M.throttleTriggeredAfterMouseMove(B)}),Aa(M,"handleMouseLeave",function(B){M.throttleTriggeredAfterMouseMove.cancel();var L={isTooltipActive:!1};M.setState(L),M.triggerSyncEvent(L);var H=M.props.onMouseLeave;ja(H)&&H(L,B)}),Aa(M,"handleOuterEvent",function(B){var L=Yze(B),H=af(M.props,"".concat(L));if(L&&ja(H)){var U,J;/.*touch.*/i.test(L)?J=M.getMouseInfo(B.changedTouches[0]):J=M.getMouseInfo(B),H((U=J)!==null&&U!==void 0?U:{},B)}}),Aa(M,"handleClick",function(B){var L=M.getMouseInfo(B);if(L){var H=cr(cr({},L),{},{isTooltipActive:!0});M.setState(H),M.triggerSyncEvent(H);var U=M.props.onClick;ja(U)&&U(H,B)}}),Aa(M,"handleMouseDown",function(B){var L=M.props.onMouseDown;if(ja(L)){var H=M.getMouseInfo(B);L(H,B)}}),Aa(M,"handleMouseUp",function(B){var L=M.props.onMouseUp;if(ja(L)){var H=M.getMouseInfo(B);L(H,B)}}),Aa(M,"handleTouchMove",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&M.throttleTriggeredAfterMouseMove(B.changedTouches[0])}),Aa(M,"handleTouchStart",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&M.handleMouseDown(B.changedTouches[0])}),Aa(M,"handleTouchEnd",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&M.handleMouseUp(B.changedTouches[0])}),Aa(M,"handleDoubleClick",function(B){var L=M.props.onDoubleClick;if(ja(L)){var H=M.getMouseInfo(B);L(H,B)}}),Aa(M,"handleContextMenu",function(B){var L=M.props.onContextMenu;if(ja(L)){var H=M.getMouseInfo(B);L(H,B)}}),Aa(M,"triggerSyncEvent",function(B){M.props.syncId!==void 0&&YP.emit(XP,M.props.syncId,B,M.eventEmitterSymbol)}),Aa(M,"applySyncEvent",function(B){var L=M.props,H=L.layout,U=L.syncMethod,J=M.state.updateId,K=B.dataStartIndex,G=B.dataEndIndex;if(B.dataStartIndex!==void 0||B.dataEndIndex!==void 0)M.setState(cr({dataStartIndex:K,dataEndIndex:G},p({props:M.props,dataStartIndex:K,dataEndIndex:G,updateId:J},M.state)));else if(B.activeTooltipIndex!==void 0){var re=B.chartX,ae=B.chartY,X=B.activeTooltipIndex,ne=M.state,de=ne.offset,le=ne.tooltipTicks;if(!de)return;if(typeof U=="function")X=U(le,B);else if(U==="value"){X=-1;for(var xe=0;xe<le.length;xe++)if(le[xe].value===B.activeLabel){X=xe;break}}var Se=cr(cr({},de),{},{x:de.left,y:de.top}),ye=Math.min(re,Se.x+Se.width),ee=Math.min(ae,Se.y+Se.height),he=le[X]&&le[X].value,se=lR(M.state,M.props.data,X),te=le[X]?{x:H==="horizontal"?le[X].coordinate:ye,y:H==="horizontal"?ee:le[X].coordinate}:c0e;M.setState(cr(cr({},B),{},{activeLabel:he,activeCoordinate:te,activePayload:se,activeTooltipIndex:X}))}else M.setState(B)}),Aa(M,"renderCursor",function(B){var L,H=M.state,U=H.isTooltipActive,J=H.activeCoordinate,K=H.activePayload,G=H.offset,re=H.activeTooltipIndex,ae=H.tooltipAxisBandSize,X=M.getTooltipEventType(),ne=(L=B.props.active)!==null&&L!==void 0?L:U,de=M.props.layout,le=B.key||"_recharts-cursor";return Ve.createElement(Hft,{key:le,activeCoordinate:J,activePayload:K,activeTooltipIndex:re,chartName:r,element:B,isActive:ne,layout:de,offset:G,tooltipAxisBandSize:ae,tooltipEventType:X})}),Aa(M,"renderPolarAxis",function(B,L,H){var U=af(B,"type.axisType"),J=af(M.state,"".concat(U,"Map")),K=B.type.defaultProps,G=K!==void 0?cr(cr({},K),B.props):B.props,re=J&&J[G["".concat(U,"Id")]];return A.cloneElement(B,cr(cr({},re),{},{className:Qa(U,re.className),key:B.key||"".concat(L,"-").concat(H),ticks:Cm(re,!0)}))}),Aa(M,"renderPolarGrid",function(B){var L=B.props,H=L.radialLines,U=L.polarAngles,J=L.polarRadius,K=M.state,G=K.radiusAxisMap,re=K.angleAxisMap,ae=Bp(G),X=Bp(re),ne=X.cx,de=X.cy,le=X.innerRadius,xe=X.outerRadius;return A.cloneElement(B,{polarAngles:Array.isArray(U)?U:Cm(X,!0).map(function(Se){return Se.coordinate}),polarRadius:Array.isArray(J)?J:Cm(ae,!0).map(function(Se){return Se.coordinate}),cx:ne,cy:de,innerRadius:le,outerRadius:xe,key:B.key||"polar-grid",radialLines:H})}),Aa(M,"renderLegend",function(){var B=M.state.formattedGraphicalItems,L=M.props,H=L.children,U=L.width,J=L.height,K=M.props.margin||{},G=U-(K.left||0)-(K.right||0),re=$fe({children:H,formattedGraphicalItems:B,legendWidth:G,legendContent:u});if(!re)return null;var ae=re.item,X=ZX(re,qft);return A.cloneElement(ae,cr(cr({},X),{},{chartWidth:U,chartHeight:J,margin:K,onBBoxUpdate:M.handleLegendBBoxUpdate}))}),Aa(M,"renderTooltip",function(){var B,L=M.props,H=L.children,U=L.accessibilityLayer,J=Vd(H,_h);if(!J)return null;var K=M.state,G=K.isTooltipActive,re=K.activeCoordinate,ae=K.activePayload,X=K.activeLabel,ne=K.offset,de=(B=J.props.active)!==null&&B!==void 0?B:G;return A.cloneElement(J,{viewBox:cr(cr({},ne),{},{x:ne.left,y:ne.top}),active:de,label:X,payload:de?ae:[],coordinate:re,accessibilityLayer:U})}),Aa(M,"renderBrush",function(B){var L=M.props,H=L.margin,U=L.data,J=M.state,K=J.offset,G=J.dataStartIndex,re=J.dataEndIndex,ae=J.updateId;return A.cloneElement(B,{key:B.key||"_recharts-brush",onChange:_S(M.handleBrushChange,B.props.onChange),data:U,x:Dr(B.props.x)?B.props.x:K.left,y:Dr(B.props.y)?B.props.y:K.top+K.height+K.brushBottom-(H.bottom||0),width:Dr(B.props.width)?B.props.width:K.width,startIndex:G,endIndex:re,updateId:"brush-".concat(ae)})}),Aa(M,"renderReferenceElement",function(B,L,H){if(!B)return null;var U=M,J=U.clipPathId,K=M.state,G=K.xAxisMap,re=K.yAxisMap,ae=K.offset,X=B.type.defaultProps||{},ne=B.props,de=ne.xAxisId,le=de===void 0?X.xAxisId:de,xe=ne.yAxisId,Se=xe===void 0?X.yAxisId:xe;return A.cloneElement(B,{key:B.key||"".concat(L,"-").concat(H),xAxis:G[le],yAxis:re[Se],viewBox:{x:ae.left,y:ae.top,width:ae.width,height:ae.height},clipPathId:J})}),Aa(M,"renderActivePoints",function(B){var L=B.item,H=B.activePoint,U=B.basePoint,J=B.childIndex,K=B.isRange,G=[],re=L.props.key,ae=L.item.type.defaultProps!==void 0?cr(cr({},L.item.type.defaultProps),L.item.props):L.item.props,X=ae.activeDot,ne=ae.dataKey,de=cr(cr({index:J,dataKey:ne,cx:H.x,cy:H.y,r:4,fill:F9(L.item),strokeWidth:2,stroke:"#fff",payload:H.payload,value:H.value},ga(X,!1)),MA(X));return G.push(C.renderActiveDot(X,de,"".concat(re,"-activePoint-").concat(J))),U?G.push(C.renderActiveDot(X,cr(cr({},de),{},{cx:U.x,cy:U.y}),"".concat(re,"-basePoint-").concat(J))):K&&G.push(null),G}),Aa(M,"renderGraphicChild",function(B,L,H){var U=M.filterFormatItem(B,L,H);if(!U)return null;var J=M.getTooltipEventType(),K=M.state,G=K.isTooltipActive,re=K.tooltipAxis,ae=K.activeTooltipIndex,X=K.activeLabel,ne=M.props.children,de=Vd(ne,_h),le=U.props,xe=le.points,Se=le.isRange,ye=le.baseLine,ee=U.item.type.defaultProps!==void 0?cr(cr({},U.item.type.defaultProps),U.item.props):U.item.props,he=ee.activeDot,se=ee.hide,te=ee.activeBar,ge=ee.activeShape,ue=!!(!se&&G&&de&&(he||te||ge)),Ce={};J!=="axis"&&de&&de.props.trigger==="click"?Ce={onClick:_S(M.handleItemMouseEnter,B.props.onClick)}:J!=="axis"&&(Ce={onMouseLeave:_S(M.handleItemMouseLeave,B.props.onMouseLeave),onMouseEnter:_S(M.handleItemMouseEnter,B.props.onMouseEnter)});var Ne=A.cloneElement(B,cr(cr({},U.props),Ce));function Ee(Ar){return typeof re.dataKey=="function"?re.dataKey(Ar.payload):null}if(ue)if(ae>=0){var Ge,Be;if(re.dataKey&&!re.allowDuplicatedCategory){var st=typeof re.dataKey=="function"?Ee:"payload.".concat(re.dataKey.toString());Ge=RA(xe,st,X),Be=Se&&ye&&RA(ye,st,X)}else Ge=xe==null?void 0:xe[ae],Be=Se&&ye&&ye[ae];if(ge||te){var lt=B.props.activeIndex!==void 0?B.props.activeIndex:ae;return[A.cloneElement(B,cr(cr(cr({},U.props),Ce),{},{activeIndex:lt})),null,null]}if(!ei(Ge))return[Ne].concat(nb(M.renderActivePoints({item:U,activePoint:Ge,basePoint:Be,childIndex:ae,isRange:Se})))}else{var Me,wt=(Me=M.getItemByXY(M.state.activeCoordinate))!==null&&Me!==void 0?Me:{graphicalItem:Ne},_t=wt.graphicalItem,ar=_t.item,Tt=ar===void 0?B:ar,sn=_t.childIndex,ct=cr(cr(cr({},U.props),Ce),{},{activeIndex:sn});return[A.cloneElement(Tt,ct),null,null]}return Se?[Ne,null,null]:[Ne,null]}),Aa(M,"renderCustomized",function(B,L,H){return A.cloneElement(B,cr(cr({key:"recharts-customized-".concat(H)},M.props),M.state))}),Aa(M,"renderMap",{CartesianGrid:{handler:ES,once:!0},ReferenceArea:{handler:M.renderReferenceElement},ReferenceLine:{handler:ES},ReferenceDot:{handler:M.renderReferenceElement},XAxis:{handler:ES},YAxis:{handler:ES},Brush:{handler:M.renderBrush,once:!0},Bar:{handler:M.renderGraphicChild},Line:{handler:M.renderGraphicChild},Area:{handler:M.renderGraphicChild},Radar:{handler:M.renderGraphicChild},RadialBar:{handler:M.renderGraphicChild},Scatter:{handler:M.renderGraphicChild},Pie:{handler:M.renderGraphicChild},Funnel:{handler:M.renderGraphicChild},Tooltip:{handler:M.renderCursor,once:!0},PolarGrid:{handler:M.renderPolarGrid,once:!0},PolarAngleAxis:{handler:M.renderPolarAxis},PolarRadiusAxis:{handler:M.renderPolarAxis},Customized:{handler:M.renderCustomized}}),M.clipPathId="".concat((T=j.id)!==null&&T!==void 0?T:Pb("recharts"),"-clip"),M.throttleTriggeredAfterMouseMove=Ude(M.triggeredAfterMouseMove,(O=j.throttleDelay)!==null&&O!==void 0?O:1e3/60),M.state={},M}return nht(C,S),Qft(C,[{key:"componentDidMount",value:function(){var T,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,O=T.children,M=T.data,B=T.height,L=T.layout,H=Vd(O,_h);if(H){var U=H.props.defaultIndex;if(!(typeof U!="number"||U<0||U>this.state.tooltipTicks.length-1)){var J=this.state.tooltipTicks[U]&&this.state.tooltipTicks[U].value,K=lR(this.state,M,U,J),G=this.state.tooltipTicks[U].coordinate,re=(this.state.offset.top+B)/2,ae=L==="horizontal",X=ae?{x:G,y:re}:{y:G,x:re},ne=this.state.formattedGraphicalItems.find(function(le){var xe=le.item;return xe.type.name==="Scatter"});ne&&(X=cr(cr({},X),ne.props.points[U].tooltipPosition),K=ne.props.points[U].tooltipPayload);var de={activeTooltipIndex:U,isTooltipActive:!0,activeLabel:J,activePayload:K,activeCoordinate:X};this.setState(de),this.renderCursor(H),this.accessibilityManager.setIndex(U)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var M,B;this.accessibilityManager.setDetails({offset:{left:(M=this.props.margin.left)!==null&&M!==void 0?M:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0}})}return null}},{key:"componentDidUpdate",value:function(T){LF([Vd(T.children,_h)],[Vd(this.props.children,_h)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=Vd(this.props.children,_h);if(T&&typeof T.props.shared=="boolean"){var O=T.props.shared?"axis":"item";return l.indexOf(O)>=0?O:i}return i}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var O=this.container,M=O.getBoundingClientRect(),B=yQe(M),L={chartX:Math.round(T.pageX-B.left),chartY:Math.round(T.pageY-B.top)},H=M.width/O.offsetWidth||1,U=this.inRange(L.chartX,L.chartY,H);if(!U)return null;var J=this.state,K=J.xAxisMap,G=J.yAxisMap,re=this.getTooltipEventType(),ae=eZ(this.state,this.props.data,this.props.layout,U);if(re!=="axis"&&K&&G){var X=Bp(K).scale,ne=Bp(G).scale,de=X&&X.invert?X.invert(L.chartX):null,le=ne&&ne.invert?ne.invert(L.chartY):null;return cr(cr({},L),{},{xValue:de,yValue:le},ae)}return ae?cr(cr({},L),ae):null}},{key:"inRange",value:function(T,O){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,B=this.props.layout,L=T/M,H=O/M;if(B==="horizontal"||B==="vertical"){var U=this.state.offset,J=L>=U.left&&L<=U.left+U.width&&H>=U.top&&H<=U.top+U.height;return J?{x:L,y:H}:null}var K=this.state,G=K.angleAxisMap,re=K.radiusAxisMap;if(G&&re){var ae=Bp(G);return vY({x:L,y:H},ae)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,O=this.getTooltipEventType(),M=Vd(T,_h),B={};M&&O==="axis"&&(M.props.trigger==="click"?B={onClick:this.handleClick}:B={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var L=MA(this.props,this.handleOuterEvent);return cr(cr({},L),B)}},{key:"addListener",value:function(){YP.on(XP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){YP.removeListener(XP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,O,M){for(var B=this.state.formattedGraphicalItems,L=0,H=B.length;L<H;L++){var U=B[L];if(U.item===T||U.props.key===T.key||O===km(U.item.type)&&M===U.childIndex)return U}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,O=this.state.offset,M=O.left,B=O.top,L=O.height,H=O.width;return Ve.createElement("defs",null,Ve.createElement("clipPath",{id:T},Ve.createElement("rect",{x:M,y:B,height:L,width:H})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(O,M){var B=XX(M,2),L=B[0],H=B[1];return cr(cr({},O),{},Aa({},L,H.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(O,M){var B=XX(M,2),L=B[0],H=B[1];return cr(cr({},O),{},Aa({},L,H.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[T])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(T){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[T])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(T){var O=this.state,M=O.formattedGraphicalItems,B=O.activeItem;if(M&&M.length)for(var L=0,H=M.length;L<H;L++){var U=M[L],J=U.props,K=U.item,G=K.type.defaultProps!==void 0?cr(cr({},K.type.defaultProps),K.props):K.props,re=km(K.type);if(re==="Bar"){var ae=(J.data||[]).find(function(le){return Jst(T,le)});if(ae)return{graphicalItem:U,payload:ae}}else if(re==="RadialBar"){var X=(J.data||[]).find(function(le){return vY(T,le)});if(X)return{graphicalItem:U,payload:X}}else if(wT(U,B)||_T(U,B)||f5(U,B)){var ne=Ult({graphicalItem:U,activeTooltipItem:B,itemData:G.data}),de=G.activeIndex===void 0?ne:G.activeIndex;return{graphicalItem:cr(cr({},U),{},{childIndex:de}),payload:f5(U,B)?G.data[ne]:U.props.data[ne]}}}return null}},{key:"render",value:function(){var T=this;if(!nG(this))return null;var O=this.props,M=O.children,B=O.className,L=O.width,H=O.height,U=O.style,J=O.compact,K=O.title,G=O.desc,re=ZX(O,Gft),ae=ga(re,!1);if(J)return Ve.createElement(EX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ve.createElement(UF,j2({},ae,{width:L,height:H,title:K,desc:G}),this.renderClipPath(),iG(M,this.renderMap)));if(this.props.accessibilityLayer){var X,ne;ae.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,ae.role=(ne=this.props.role)!==null&&ne!==void 0?ne:"application",ae.onKeyDown=function(le){T.accessibilityManager.keyboardEvent(le)},ae.onFocus=function(){T.accessibilityManager.focus()}}var de=this.parseEventsOfWrapper();return Ve.createElement(EX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ve.createElement("div",j2({className:Qa("recharts-wrapper",B),style:cr({position:"relative",cursor:"default",width:L,height:H},U)},de,{ref:function(xe){T.container=xe}}),Ve.createElement(UF,j2({},ae,{width:L,height:H,title:K,desc:G,style:cht}),this.renderClipPath(),iG(M,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(A.Component);Aa(N,"displayName",r),Aa(N,"defaultProps",cr({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Aa(N,"getDerivedStateFromProps",function(S,C){var j=S.dataKey,T=S.data,O=S.children,M=S.width,B=S.height,L=S.layout,H=S.stackOffset,U=S.margin,J=C.dataStartIndex,K=C.dataEndIndex;if(C.updateId===void 0){var G=tZ(S);return cr(cr(cr({},G),{},{updateId:0},p(cr(cr({props:S},G),{},{updateId:0}),C)),{},{prevDataKey:j,prevData:T,prevWidth:M,prevHeight:B,prevLayout:L,prevStackOffset:H,prevMargin:U,prevChildren:O})}if(j!==C.prevDataKey||T!==C.prevData||M!==C.prevWidth||B!==C.prevHeight||L!==C.prevLayout||H!==C.prevStackOffset||!K2(U,C.prevMargin)){var re=tZ(S),ae={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},X=cr(cr({},eZ(C,T,L)),{},{updateId:C.updateId+1}),ne=cr(cr(cr({},re),ae),X);return cr(cr(cr({},ne),p(cr({props:S},ne),C)),{},{prevDataKey:j,prevData:T,prevWidth:M,prevHeight:B,prevLayout:L,prevStackOffset:H,prevMargin:U,prevChildren:O})}if(!LF(O,C.prevChildren)){var de,le,xe,Se,ye=Vd(O,Gy),ee=ye&&(de=(le=ye.props)===null||le===void 0?void 0:le.startIndex)!==null&&de!==void 0?de:J,he=ye&&(xe=(Se=ye.props)===null||Se===void 0?void 0:Se.endIndex)!==null&&xe!==void 0?xe:K,se=ee!==J||he!==K,te=!ei(T),ge=te&&!se?C.updateId:C.updateId+1;return cr(cr({updateId:ge},p(cr(cr({props:S},C),{},{updateId:ge,dataStartIndex:ee,dataEndIndex:he}),C)),{},{prevChildren:O,dataStartIndex:ee,dataEndIndex:he})}return null}),Aa(N,"renderActiveDot",function(S,C,j){var T;return A.isValidElement(S)?T=A.cloneElement(S,C):ja(S)?T=S(C):T=Ve.createElement(gT,C),Ve.createElement(Fi,{className:"recharts-active-dot",key:j},T)});var b=A.forwardRef(function(C,j){return Ve.createElement(N,j2({},C,{ref:j}))});return b.displayName=N.displayName,b},yht=d0e({chartName:"PieChart",GraphicalChild:tp,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:bT},{axisType:"radiusAxis",AxisComp:vT}],formatAxisMap:xat,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),bht=d0e({chartName:"AreaChart",GraphicalChild:Y1,axisComponents:[{axisType:"xAxis",AxisComp:jT},{axisType:"yAxis",AxisComp:TT}],formatAxisMap:vut});const jS=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"],wht=()=>{const[e,t]=A.useState(!0),[r,n]=A.useState(null),[a,i]=A.useState(!1),[o,l]=A.useState({totalCommissions:0,estimatedRevenue:0,totalTransactions:0,pendingWithdrawals:0,totalUsers:0,newUsers:0,activeEvents:0,totalSalesFcfa:0}),[c,u]=A.useState([]),[f,h]=A.useState([]),[g,p]=A.useState([]),N=A.useCallback(async(S=!1)=>{S?i(!0):t(!0),n(null);try{const{data:C,error:j}=await Qd(()=>Je.rpc("get_super_admin_dashboard_stats"));if(j)throw j;const{data:T}=await Qd(()=>Je.from("transactions").select("*, user:user_id(full_name, email)").order("created_at",{ascending:!1}).limit(5)),{data:O}=await Qd(()=>Je.from("profiles").select("created_at").gte("created_at",z2(new Date,30).toISOString())),{data:M}=await Qd(()=>Je.from("coin_spending").select("purpose, amount").gte("created_at",z2(new Date,90).toISOString())),B={},L=new Date;for(let K=29;K>=0;K--){const G=mi(z2(L,K),"yyyy-MM-dd");B[G]=0}(O||[]).forEach(K=>{const G=mi(new Date(K.created_at),"yyyy-MM-dd");B[G]!==void 0&&B[G]++});const H=Object.entries(B).map(([K,G])=>({date:mi(new Date(K),"dd MMM",{locale:Vc}),users:G})),U={};(M||[]).forEach(K=>{const G=K.purpose||"Autre";U[G]=(U[G]||0)+(K.amount||0)});const J=Object.entries(U).map(([K,G])=>({name:K==="ticket_purchase"?"Billetterie":K==="vote_participation"?"Votes":K==="raffle_participation"?"Tombola":K==="stand_rental"?"Stands":K==="event_access"?"v. Protgs":K,value:G})).sort((K,G)=>G.value-K.value);l({totalCommissions:(C==null?void 0:C.total_commissions)||0,estimatedRevenue:(C==null?void 0:C.total_user_balance)||0,totalTransactions:(C==null?void 0:C.total_transactions)||0,pendingWithdrawals:(C==null?void 0:C.pending_withdrawals)||0,totalUsers:(C==null?void 0:C.total_users)||0,newUsers:(C==null?void 0:C.new_users)||0,activeEvents:(C==null?void 0:C.active_events)||0,totalSalesFcfa:(C==null?void 0:C.total_sales_fcfa)||0}),u(T||[]),h(H),p(J)}catch(C){console.error("Dashboard fetch error:",C),n("Impossible de charger les donnes. Vrifiez votre connexion.")}finally{t(!1),i(!1)}},[]);if(A.useEffect(()=>{N()},[N]),r)return s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 border border-destructive/20 rounded-xl bg-destructive/5 text-destructive animate-in fade-in",children:[s.jsx(wu,{className:"w-12 h-12 mb-4"}),s.jsx("h3",{className:"text-xl font-bold",children:"Erreur de chargement"}),s.jsx("p",{className:"mb-4",children:r}),s.jsxs(Ue,{onClick:()=>N(!0),variant:"outline",children:[s.jsx(qc,{className:"w-4 h-4 mr-2"})," Ressayer"]})]});const b=({title:S,value:C,subtext:j,icon:T,colorClass:O,borderClass:M})=>s.jsxs(qt,{className:`relative overflow-hidden ${M?`border-l-4 ${M}`:""}`,children:[s.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Wr,{className:"text-sm font-medium text-muted-foreground",children:S}),T&&s.jsx(T,{className:`h-4 w-4 ${O}`})]}),s.jsxs(Xt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:C}),j&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:j})]})]});return s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Super Admin Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Vue d'ensemble et mtriques cls de la plateforme."})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Ue,{onClick:()=>N(!0),variant:"outline",disabled:a||e,className:"shadow-sm",children:[s.jsx(qc,{className:`w-4 h-4 mr-2 ${a?"animate-spin":""}`}),a?"Mise  jour...":"Actualiser"]})})]}),e&&!a?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(S=>s.jsx($c,{className:"h-32 rounded-xl"},S))}):s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(b,{title:"Commissions Totales",value:`${o.totalCommissions.toLocaleString()} `,subtext:"Cumul commissions plateforme (5%)",icon:za,colorClass:"text-yellow-500",borderClass:"border-l-yellow-500"}),s.jsx(b,{title:"Masse Montaire (Utilisateurs)",value:`${o.estimatedRevenue.toLocaleString()} `,subtext:"Total solde actuel des utilisateurs",icon:qo,colorClass:"text-blue-500",borderClass:"border-l-blue-500"}),s.jsx(b,{title:"Utilisateurs Inscrits",value:o.totalUsers.toLocaleString(),subtext:`+${o.newUsers} nouveaux (30j)`,icon:ao,colorClass:"text-green-500",borderClass:"border-l-green-500"}),s.jsx(b,{title:"Retraits en Attente",value:o.pendingWithdrawals,subtext:"Demandes  traiter",icon:wu,colorClass:"text-red-500",borderClass:"border-l-red-500"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(b,{title:"Chiffre d'Affaires (Ventes)",value:Fbe(o.totalSalesFcfa),subtext:"Total achats de packs et licences",icon:Cd,colorClass:"text-emerald-600"}),s.jsx(b,{title:"Total Transactions",value:o.totalTransactions.toLocaleString(),subtext:"Volume global d'oprations",icon:jm,colorClass:"text-purple-500"}),s.jsx(b,{title:"vnements Actifs",value:o.activeEvents,subtext:"En ligne actuellement",icon:Iwe,colorClass:"text-indigo-500"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-7",children:[s.jsxs(qt,{className:"col-span-4 shadow-md",children:[s.jsxs(zr,{children:[s.jsx(Wr,{children:"Activit Utilisateurs"}),s.jsx(Ya,{children:"Nouvelles inscriptions sur 30 jours"})]}),s.jsx(Xt,{className:"pl-2",children:s.jsx(iK,{width:"100%",height:300,children:s.jsxs(bht,{data:f,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorUsers",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),s.jsx(jT,{dataKey:"date",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,minTickGap:30}),s.jsx(TT,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),s.jsx(qhe,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(255,255,255,0.1)"}),s.jsx(_h,{contentStyle:{backgroundColor:"rgba(0,0,0,0.8)",border:"none",borderRadius:"8px",color:"#fff"}}),s.jsx(Y1,{type:"monotone",dataKey:"users",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorUsers)"})]})})})]}),s.jsxs(qt,{className:"col-span-3 shadow-md",children:[s.jsxs(zr,{children:[s.jsx(Wr,{children:"Sources de Dpenses"}),s.jsx(Ya,{children:"Utilisation des pices par type"})]}),s.jsxs(Xt,{children:[s.jsx(iK,{width:"100%",height:300,children:s.jsxs(yht,{children:[s.jsx(tp,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:g.map((S,C)=>s.jsx(nT,{fill:jS[C%jS.length]},`cell-${C}`))}),s.jsx(_h,{}),s.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"fill-foreground font-bold text-lg",children:"Types"})]})}),s.jsx("div",{className:"mt-4 flex flex-wrap justify-center gap-2",children:g.map((S,C)=>s.jsxs(Vr,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:jS[C%jS.length]}}),S.name]},C))})]})]})]}),s.jsxs(H0,{defaultValue:"recent_tx",className:"space-y-4",children:[s.jsx(Hh,{children:s.jsx(Gn,{value:"recent_tx",children:"Dernires Transactions"})}),s.jsx(Kn,{value:"recent_tx",children:s.jsxs(qt,{children:[s.jsxs(zr,{children:[s.jsx(Wr,{children:"Flux Rcent"}),s.jsx(Ya,{children:"Les 5 dernires oprations financires."})]}),s.jsx(Xt,{children:s.jsx("div",{className:"space-y-4",children:c.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Aucune transaction rcente"}):c.map(S=>{var C;return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card/50 hover:bg-card/80 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-2 rounded-full ${S.amount_pi>0?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:S.amount_pi>0?s.jsx(Cd,{className:"w-4 h-4"}):s.jsx(Rwe,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:S.description||S.transaction_type}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:((C=S.user)==null?void 0:C.full_name)||"Utilisateur"}),s.jsx("span",{children:""}),s.jsx("span",{children:mi(new Date(S.created_at),"dd MMM HH:mm",{locale:Vc})})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`font-bold ${S.amount_pi>0?"text-green-600":"text-red-500"}`,children:[S.amount_pi>0?"+":"",S.amount_pi," "]}),S.amount_fcfa&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[Math.abs(S.amount_fcfa).toLocaleString()," FCFA"]})]})]},S.id)})})})]})})]})]})};var PT="Switch",[_ht,_5t]=Nc(PT),[Nht,Sht]=_ht(PT),f0e=A.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...h}=e,[g,p]=A.useState(null),N=Ra(t,T=>p(T)),b=A.useRef(!1),S=g?f||!!g.closest("form"):!0,[C,j]=_c({prop:a,defaultProp:i??!1,onChange:u,caller:PT});return s.jsxs(Nht,{scope:r,checked:C,disabled:l,children:[s.jsx(Dn.button,{type:"button",role:"switch","aria-checked":C,"aria-required":o,"data-state":g0e(C),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:N,onClick:Rr(e.onClick,T=>{j(O=>!O),S&&(b.current=T.isPropagationStopped(),b.current||T.stopPropagation())})}),S&&s.jsx(p0e,{control:g,bubbles:!b.current,name:n,value:c,checked:C,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});f0e.displayName=PT;var h0e="SwitchThumb",m0e=A.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Sht(h0e,r);return s.jsx(Dn.span,{"data-state":g0e(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});m0e.displayName=h0e;var Cht="SwitchBubbleInput",p0e=A.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=A.useRef(null),l=Ra(o,i),c=x6(r),u=Gj(t);return A.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const N=new Event("click",{bubbles:n});p.call(f,r),f.dispatchEvent(N)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});p0e.displayName=Cht;function g0e(e){return e?"checked":"unchecked"}var x0e=f0e,Aht=m0e;const Zd=Ve.forwardRef(({className:e,...t},r)=>s.jsx(x0e,{className:kr("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(Aht,{className:kr("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Zd.displayName=x0e.displayName;const Eht=()=>{bn();const{toast:e}=qs(),[t,r]=A.useState([]),[n,a]=A.useState(null),[i,o]=A.useState(!0),[l,c]=A.useState(!1),[u,f]=A.useState(!1),[h,g]=A.useState(null),[p,N]=A.useState(null),[b,S]=A.useState({title:"",description:"",video_url:"",thumbnail_url:"",reward_coins:10,is_mandatory:!0,is_active:!1,video_duration:0}),C=A.useCallback(async()=>{o(!0);const{data:U,error:J}=await Je.from("mandatory_videos").select("*").order("created_at",{ascending:!1});J?e({title:"Erreur",description:"Impossible de charger les vidos.",variant:"destructive"}):r(U),o(!1)},[e]);A.useEffect(()=>{C()},[C]);const j=()=>{a(null),N(null),S({title:"",description:"",video_url:"",thumbnail_url:"",reward_coins:10,is_mandatory:!0,is_active:!1,video_duration:0})},T=U=>{a(U),S({title:U.title,description:U.description||"",video_url:U.video_url,thumbnail_url:U.thumbnail_url||"",reward_coins:U.reward_coins||10,is_mandatory:U.is_mandatory,is_active:U.is_active,video_duration:U.video_duration||0})},O=async(U,J)=>{if(!U)return null;const K=U.name.split(".").pop(),G=`${Date.now()}.${K}`,re=`${J}/${G}`,{error:ae}=await Je.storage.from("media").upload(re,U);if(ae)throw ae;const{data:X}=Je.storage.from("media").getPublicUrl(re);return X.publicUrl},M=async U=>{U.preventDefault(),c(!0);try{let J=b.video_url;if(p&&(J=await O(p,"videos")),!J)throw new Error("Une URL de vido ou un fichier est requis.");const K={...b,video_url:J};if(n){const{error:G}=await Je.from("mandatory_videos").update(K).eq("id",n.id);if(G)throw G;e({title:"Succs",description:"Vido mise  jour."})}else{const{error:G}=await Je.from("mandatory_videos").insert([K]);if(G)throw G;e({title:"Succs",description:"Vido cre."})}j(),await C()}catch(J){e({title:"Erreur",description:`La sauvegarde a chou: ${J.message}`,variant:"destructive"})}finally{c(!1)}},B=U=>{g(U),f(!0)},L=async()=>{if(!h)return;const{error:U}=await Je.from("mandatory_videos").delete().eq("id",h);U?e({title:"Erreur",description:"La suppression a chou.",variant:"destructive"}):(e({title:"Succs",description:"Vido supprime."}),await C()),f(!1),g(null)},H=async U=>{const J=!U.is_active;if(J){const{error:G}=await Je.from("mandatory_videos").update({is_active:!1}).eq("is_active",!0);if(G){e({title:"Erreur",description:"Impossible de dsactiver les autres vidos.",variant:"destructive"});return}}const{error:K}=await Je.from("mandatory_videos").update({is_active:J}).eq("id",U.id);K?e({title:"Erreur",description:"Le changement de statut a chou.",variant:"destructive"}):(e({title:"Succs",description:"Statut de la vido mis  jour."}),await C())};return s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs(qt,{className:"shadow-lg rounded-xl",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"flex items-center",children:[n?s.jsx(f4,{className:"mr-2"}):s.jsx(h4,{className:"mr-2"}),n?"Modifier la vido":"Ajouter une vido"]}),s.jsx(Ya,{children:"Grez les vidos de rcompense. Une seule peut tre active."})]}),s.jsx(Xt,{children:s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"title",children:"Titre"}),s.jsx(er,{id:"title",value:b.title,onChange:U=>S({...b,title:U.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"video_upload",children:"Tlverser une vido"}),s.jsx(er,{id:"video_upload",type:"file",accept:"video/*",onChange:U=>N(U.target.files[0])})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"video_url",children:"OU Coller une URL de vido"}),s.jsx(er,{id:"video_url",value:b.video_url,onChange:U=>S({...b,video_url:U.target.value}),placeholder:"https://..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"description",children:"Description"}),s.jsx(ec,{id:"description",value:b.description,onChange:U=>S({...b,description:U.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"reward_coins",children:"Pices en rcompense"}),s.jsx(er,{id:"reward_coins",type:"number",min:"0",value:b.reward_coins,onChange:U=>S({...b,reward_coins:parseInt(U.target.value)||0}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"video_duration",children:"Dure (secondes)"}),s.jsx(er,{id:"video_duration",type:"number",min:"1",value:b.video_duration,onChange:U=>S({...b,video_duration:parseInt(U.target.value)||0}),required:!0})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Zd,{id:"is_active_form",checked:b.is_active,onCheckedChange:U=>S({...b,is_active:U})}),s.jsx(jt,{htmlFor:"is_active_form",children:"Activer (dsactivera les autres)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ue,{type:"submit",disabled:l,children:[l&&s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Mettre  jour":"Enregistrer"]}),n&&s.jsx(Ue,{variant:"ghost",onClick:j,children:"Annuler"})]})]})})]}),s.jsxs(qt,{className:"shadow-lg rounded-xl mt-8",children:[s.jsx(zr,{children:s.jsx(Wr,{children:"Liste des vidos"})}),s.jsx(Xt,{children:i?s.jsx(Jt,{className:"animate-spin"}):s.jsx("div",{className:"space-y-4",children:t.map(U=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-xl shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Qte,{className:U.is_active?"text-green-500":"text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:U.title}),s.jsx("p",{className:`text-sm ${U.is_active?"text-green-500":"text-muted-foreground"}`,children:U.is_active?"Active":"Inactive"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>H(U),title:U.is_active?"Dsactiver":"Activer",children:U.is_active?s.jsx(L7,{className:"h-4 w-4 text-yellow-500"}):s.jsx(B7,{className:"h-4 w-4 text-green-500"})}),s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>T(U),children:s.jsx(f4,{className:"h-4 w-4"})}),s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>B(U.id),children:s.jsx(Yo,{className:"h-4 w-4 text-red-500"})})]})]},U.id))})})]}),s.jsx(hl,{open:u,onOpenChange:f,children:s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:"tes-vous sr ?"}),s.jsx(el,{children:"Cette action est irrversible. La vido sera dfinitivement supprime."})]}),s.jsxs(ml,{children:[s.jsx(gl,{children:"Annuler"}),s.jsx(pl,{onClick:L,className:"bg-destructive hover:bg-destructive/90",children:"Supprimer"})]})]})})]})},jht=({users:e,licenseTypes:t,onCancel:r,onRefresh:n,partnerToEdit:a})=>{bn();const[i,o]=A.useState({partner_id:"",license_id:"",country:"",cities:[]}),[l,c]=A.useState(!1),[u,f]=A.useState([]),[h,g]=A.useState("");A.useEffect(()=>{var b,S;a&&o({partner_id:a.user_id,license_id:a.license_id,country:((b=a.coverage_zone)==null?void 0:b.country)||"",cities:((S=a.coverage_zone)==null?void 0:S.cities)||[]})},[a]);const p=A.useMemo(()=>{if(!h)return e.filter(S=>S.user_type!=="admin"&&S.user_type!=="super_admin");const b=h.toLowerCase();return e.filter(S=>S.user_type!=="admin"&&S.user_type!=="super_admin"&&(S.full_name&&S.full_name.toLowerCase().includes(b)||S.email&&S.email.toLowerCase().includes(b)))},[e,h]);A.useEffect(()=>{i.country?f(Ny[i.country]||[]):f([])},[i.country]);const N=async b=>{if(b.preventDefault(),!i.partner_id||!i.country||!i.license_id){ot({title:"Champs manquants",description:"Veuillez slectionner un utilisateur, un pays et un type de licence.",variant:"destructive"});return}c(!0);try{const S={country:i.country,cities:i.cities};if(a){const{error:C}=await Je.from("partners").update({license_id:i.license_id,coverage_zone:S,updated_at:new Date}).eq("id",a.id);if(C)throw C;ot({title:"Partenaire mis  jour avec succs"})}else{const{error:C}=await Je.from("partners").insert({user_id:i.partner_id,license_id:i.license_id,coverage_zone:S,status:"pending"});if(C)throw C;await Je.from("profiles").update({user_type:"admin"}).eq("id",i.partner_id),ot({title:"Partenaire cr",description:"Le nouveau partenaire est en attente d'approbation."})}n(),r()}catch(S){console.error("Error saving partner:",S),ot({title:"Erreur lors de l'enregistrement",description:S.message,variant:"destructive"})}finally{c(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs(qt,{className:"w-full max-w-xl bg-card text-foreground shadow-lg rounded-xl",children:[s.jsx(zr,{children:s.jsx(Wr,{children:a?"Modifier le partenaire":"Crer un nouveau partenaire"})}),s.jsx(Xt,{children:s.jsxs("form",{onSubmit:N,className:"space-y-4 max-h-[80vh] overflow-y-auto p-2",children:[!a&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Rechercher un utilisateur"}),s.jsx(er,{placeholder:"Rechercher par nom ou email...",value:h,onChange:b=>g(b.target.value)}),s.jsxs(Ai,{onValueChange:b=>o({...i,partner_id:b}),value:i.partner_id,children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Slectionner un utilisateur"})}),s.jsx(yi,{children:p.map(b=>s.jsxs(on,{value:b.id,children:[b.full_name," (",b.email,")"]},b.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Type de licence"}),s.jsxs(Ai,{onValueChange:b=>o({...i,license_id:b}),value:i.license_id,children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Slectionner un type de licence"})}),s.jsx(yi,{children:t.map(b=>s.jsx(on,{value:b.id,children:b.name},b.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Pays"}),s.jsxs(Ai,{onValueChange:b=>o({...i,country:b,cities:[]}),value:i.country,children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Pays de la licence"})}),s.jsx(yi,{children:s3.map(b=>s.jsx(on,{value:b.name,children:b.name},b.name))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Villes couvertes"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 p-2 border rounded-md max-h-40 overflow-y-auto",children:u.map(b=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:`city-${b}`,value:b,checked:i.cities.includes(b),onChange:S=>{const C=S.target.checked?[...i.cities,b]:i.cities.filter(j=>j!==b);o({...i,cities:C})}}),s.jsx(jt,{htmlFor:`city-${b}`,children:b})]},b))})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(Ue,{type:"submit",disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"})," Enregistrement..."]}):"Enregistrer"}),s.jsx(Ue,{type:"button",variant:"outline",onClick:r,children:"Annuler"})]})]})})]})})},Tht=({onRefresh:e})=>{const[t,r]=A.useState([]),[n,a]=A.useState([]),[i,o]=A.useState([]),[l,c]=A.useState(!1),[u,f]=A.useState(null),[h,g]=A.useState(""),[p,N]=A.useState(!0),b=A.useCallback(async()=>{N(!0);try{const{data:T,error:O}=await Je.from("partners").select("*, user:user_id(full_name, email), license:license_id(name, commission_rate)");if(O)throw O;const{data:M,error:B}=await Je.from("profiles").select("*");if(B)throw B;const{data:L,error:H}=await Je.from("partner_licenses").select("*");if(H)throw H;r(T||[]),a(M||[]),o(L||[])}catch{ot({title:"Erreur",description:"Impossible de charger les donnes des partenaires.",variant:"destructive"})}finally{N(!1)}},[]);A.useEffect(()=>{b()},[b]);const S=A.useMemo(()=>{if(!h)return t;const T=h.toLowerCase();return t.filter(O=>{var M,B,L,H,U,J;return((B=(M=O.user)==null?void 0:M.full_name)==null?void 0:B.toLowerCase().includes(T))||((H=(L=O.user)==null?void 0:L.email)==null?void 0:H.toLowerCase().includes(T))||((J=(U=O.license)==null?void 0:U.name)==null?void 0:J.toLowerCase().includes(T))})},[t,h]),C=async(T,O)=>{var M;try{let B={status:O,updated_at:new Date};if(O==="active"){const H=new Date,{data:U}=await Je.from("partners").select("license:license_id(duration_days)").eq("id",T).single(),J=((M=U==null?void 0:U.license)==null?void 0:M.duration_days)||30;H.setDate(H.getDate()+J),B.expiration_date=H.toISOString(),B.activation_date=new Date().toISOString()}const{error:L}=await Je.from("partners").update(B).eq("id",T);if(L)throw L;ot({title:"Statut mis  jour"}),b()}catch{ot({title:"Erreur",description:"Impossible de mettre  jour le statut.",variant:"destructive"})}},j=T=>{const O=new Date,M=T.expiration_date?new Date(T.expiration_date):null;return M&&M<O?"expired":T.status};return p?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin"})}):s.jsxs(s.Fragment,{children:[s.jsxs(qt,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[s.jsxs(zr,{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[s.jsx(Wr,{className:"text-white",children:" Gestion des Partenaires"}),s.jsxs(Ue,{onClick:()=>c(!0),children:[s.jsx(z7,{className:"mr-2 h-4 w-4"})," Crer un partenaire"]})]}),s.jsxs(Xt,{children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Il,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(er,{type:"text",placeholder:"Rechercher un partenaire...",className:"pl-10 w-full",value:h,onChange:T=>g(T.target.value)})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-background/50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Partenaire"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Licence"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Contact"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Validit"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Statut"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),s.jsx("tbody",{children:S.map(T=>{var M,B,L;const O=j(T);return s.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-800/50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("p",{className:"font-semibold text-white",children:((M=T.user)==null?void 0:M.full_name)||"N/A"})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("p",{className:"font-semibold text-white capitalize",children:(B=T.license)==null?void 0:B.name}),s.jsx("p",{className:"text-sm text-gray-400",children:T.coverage_zone.country})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(s1,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:(L=T.user)==null?void 0:L.email})]})})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("p",{className:"text-white",children:T.expiration_date?`Expire le: ${new Date(T.expiration_date).toLocaleDateString()}`:"N/A"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("select",{className:"bg-gray-800 text-sm p-1 rounded-md border border-gray-700",value:O||"pending",onChange:H=>C(T.id,H.target.value),children:[s.jsx("option",{value:"pending",children:"En attente d'approbation"}),s.jsx("option",{value:"active",children:"Actif"}),s.jsx("option",{value:"suspended",children:"Suspendu"}),s.jsx("option",{value:"expired",children:"Expir"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex gap-2",children:s.jsx(Ue,{size:"sm",variant:"outline",onClick:()=>{f(T),c(!0)},title:"Modifier",children:s.jsx(f4,{className:"w-4 h-4"})})})})]},T.id)})})]})})]})]}),(l||u)&&s.jsx(jht,{users:n,licenseTypes:i,partnerToEdit:u,onCancel:()=>{c(!1),f(null)},onRefresh:b})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var RE={};RE.version="0.18.5";var v0e=1252,kht=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],y0e=function(e){kht.indexOf(e)!=-1&&(v0e=e)};function Pht(){y0e(1252)}var y5=function(e){y0e(e)};function Oht(){y5(1200),Pht()}function Iht(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var TS=function(t){return String.fromCharCode(t)},nZ=function(t){return String.fromCharCode(t)},Ug,Yp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b5(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=Yp.charAt(i)+Yp.charAt(o)+Yp.charAt(l)+Yp.charAt(c);return t}function qm(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Yp.indexOf(e.charAt(u++)),o=Yp.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=Yp.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=Yp.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var cs=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),rp=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Rx(e){return cs?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function aZ(e){return cs?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ah=function(t){return cs?rp(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function OT(e){if(typeof ArrayBuffer>"u")return Ah(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function _3(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Fht(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Wc=cs?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:rp(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Dht(e){for(var t=[],r=0,n=e.length+250,a=Rx(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Rx(65535),n=65530)}return t.push(a.slice(0,r)),Wc(t)}var B_=/\u0000/g,kS=/[\u0001-\u0006]/g;function Q2(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ph(e,t){var r=""+e;return r.length>=t?r:Wo("0",t-r.length)+r}function H9(e,t){var r=""+e;return r.length>=t?r:Wo(" ",t-r.length)+r}function ME(e,t){var r=""+e;return r.length>=t?r:r+Wo(" ",t-r.length)}function Rht(e,t){var r=""+Math.round(e);return r.length>=t?r:Wo("0",t-r.length)+r}function Mht(e,t){var r=""+e;return r.length>=t?r:Wo("0",t-r.length)+r}var iZ=Math.pow(2,32);function Gv(e,t){if(e>iZ||e<-iZ)return Rht(e,t);var r=Math.round(e);return Mht(r,t)}function LE(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var sZ=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],JP=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Lht(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Xo={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},oZ={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Bht={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function BE(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,f=0,h=Math.floor(a);u<t&&(h=Math.floor(a),l=h*o+i,f=h*u+c,!(a-h<5e-8));)a=1/(a-h),i=o,o=l,c=u,u=f;if(f>t&&(u>t?(f=c,l=i):(f=u,l=o)),!r)return[0,n*l,f];var g=Math.floor(n*l/f);return[g,n*l-g*f,f]}function PS(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=qht(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var b0e=new Date(1899,11,31,0,0,0),Uht=b0e.getTime(),$ht=new Date(1900,2,1,0,0,0);function w0e(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=$ht&&(r+=24*60*60*1e3),(r-(Uht+(e.getTimezoneOffset()-b0e.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function q9(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function zht(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Vht(e){var t=e<0?12:11,r=q9(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Wht(e){var t=q9(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Hht(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Vht(e):t===10?r=e.toFixed(10).substr(0,12):r=Wht(e),q9(zht(r.toUpperCase()))}function cR(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Hht(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return P1(14,w0e(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function qht(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Ght(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return JP[r.m-1][1];case 5:return JP[r.m-1][0];default:return JP[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return sZ[r.q][0];default:return sZ[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ph(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=Ph(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var f=u>0?Ph(c,u):"";return f}function Xp(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var _0e=/%/g;function Kht(e,t,r){var n=t.replace(_0e,""),a=t.length-n.length;return Im(e,n,r*Math.pow(10,2*a))+Wo("%",a)}function Yht(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Im(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function N0e(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+N0e(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,f){return c+u+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var S0e=/# (\?+)( ?)\/( ?)(\d+)/;function Xht(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Wo(" ",e[1].length+1+e[4].length):H9(o,e[1].length)+e[2]+"/"+e[3]+Ph(l,e[4].length))}function Zht(e,t,r){return r+(t===0?"":""+t)+Wo(" ",e[1].length+2+e[4].length)}var C0e=/^#*0*\.([0#]+)/,A0e=/\).*[0#]/,E0e=/\(###\) ###\\?-####/;function Bu(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function lZ(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function cZ(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Jht(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Qht(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Tf(e,t,r){if(e.charCodeAt(0)===40&&!t.match(A0e)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Tf("n",n,r):"("+Tf("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Yht(e,t,r);if(t.indexOf("%")!==-1)return Kht(e,t,r);if(t.indexOf("E")!==-1)return N0e(t,r);if(t.charCodeAt(0)===36)return"$"+Tf(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Gv(c,t.length);if(t.match(/^[#?]+$/))return a=Gv(r,0),a==="0"&&(a=""),a.length>t.length?a:Bu(t.substr(0,t.length-a.length))+a;if(i=t.match(S0e))return Xht(i,c,u);if(t.match(/^#+0+$/))return u+Gv(c,t.length-t.indexOf("0"));if(i=t.match(C0e))return a=lZ(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Bu(i[1])).replace(/\.$/,"."+Bu(i[1])).replace(/\.(\d*)$/,function(N,b){return"."+b+Wo("0",Bu(i[1]).length-b.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+lZ(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Xp(Gv(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Tf(e,t,-r):Xp(""+(Math.floor(r)+Jht(r,i[1].length)))+"."+Ph(cZ(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Tf(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Q2(Tf(e,t.replace(/[\\-]/g,""),r)),o=0,Q2(Q2(t.replace(/\\/g,"")).replace(/[0#]/g,function(N){return o<a.length?a.charAt(o++):N==="0"?"0":""}));if(t.match(E0e))return a=Tf(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=BE(c,Math.pow(10,o)-1,!1),a=""+u,f=Im("n",i[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=ME(l[2],o),f.length<i[4].length&&(f=Bu(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=BE(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?H9(l[1],o)+i[2]+"/"+i[3]+ME(l[2],o):Wo(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Gv(r,0),t.length<=a.length?a:Bu(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=t.indexOf(".")-o,g=t.length-a.length-h;return Bu(t.substr(0,h)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=cZ(r,i[1].length),r<0?"-"+Tf(e,t,-r):Xp(Qht(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(N){return"00,"+(N.length<3?Ph(0,3-N.length):"")+N})+"."+Ph(o,i[1].length);switch(t){case"###,##0.00":return Tf(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Xp(Gv(c,0));return p!=="0"?u+p:"";case"###,###.00":return Tf(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Tf(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function e0t(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Im(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function t0t(e,t,r){var n=t.replace(_0e,""),a=t.length-n.length;return Im(e,n,r*Math.pow(10,2*a))+Wo("%",a)}function j0e(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+j0e(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,f){return c+u+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function d0(e,t,r){if(e.charCodeAt(0)===40&&!t.match(A0e)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?d0("n",n,r):"("+d0("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return e0t(e,t,r);if(t.indexOf("%")!==-1)return t0t(e,t,r);if(t.indexOf("E")!==-1)return j0e(t,r);if(t.charCodeAt(0)===36)return"$"+d0(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Ph(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Bu(t.substr(0,t.length-a.length))+a;if(i=t.match(S0e))return Zht(i,c,u);if(t.match(/^#+0+$/))return u+Ph(c,t.length-t.indexOf("0"));if(i=t.match(C0e))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Bu(i[1])).replace(/\.$/,"."+Bu(i[1])),a=a.replace(/\.(\d*)$/,function(N,b){return"."+b+Wo("0",Bu(i[1]).length-b.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Xp(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+d0(e,t,-r):Xp(""+r)+"."+Wo("0",i[1].length);if(i=t.match(/^#,#*,#0/))return d0(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Q2(d0(e,t.replace(/[\\-]/g,""),r)),o=0,Q2(Q2(t.replace(/\\/g,"")).replace(/[0#]/g,function(N){return o<a.length?a.charAt(o++):N==="0"?"0":""}));if(t.match(E0e))return a=d0(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=BE(c,Math.pow(10,o)-1,!1),a=""+u,f=Im("n",i[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=ME(l[2],o),f.length<i[4].length&&(f=Bu(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=BE(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?H9(l[1],o)+i[2]+"/"+i[3]+ME(l[2],o):Wo(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Bu(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=t.indexOf(".")-o,g=t.length-a.length-h;return Bu(t.substr(0,h)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+d0(e,t,-r):Xp(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(N){return"00,"+(N.length<3?Ph(0,3-N.length):"")+N})+"."+Ph(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Xp(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return d0(e,t.slice(0,t.lastIndexOf(".")),r)+Bu(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Im(e,t,r){return(r|0)===r?d0(e,t,r):Tf(e,t,r)}function r0t(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var T0e=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function k0e(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":LE(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(T0e))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function n0t(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,f,h,g="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!LE(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(h);a[a.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),N=p==="("||p===")"?p:"t";a[a.length]={t:N,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=PS(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=PS(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=g),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var b={t:l,v:l};if(u==null&&(u=PS(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(b.v=u.H>=12?"P":"A"),b.t="T",g="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(b.v=u.H>=12?"PM":"AM"),b.t="T",o+=5,g="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(b.v=u.H>=12?"":""),b.t="T",o+=5,g="h"):(b.t="t",++o),u==null&&b.t==="T")return"";a[a.length]=b,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(T0e)){if(u==null&&(u=PS(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",k0e(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var S=0,C=0,j;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=g,c="h",S<1&&(S=1);break;case"s":(j=a[o].v.match(/\.0+$/))&&(C=Math.max(C,j[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&a[o].v.match(/[Hh]/)&&(S=1),S<2&&a[o].v.match(/[Mm]/)&&(S=2),S<3&&a[o].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var T="",O;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=Ght(a[o].t.charCodeAt(0),a[o].v,u,C),a[o].t="t";break;case"n":case"?":for(O=o+1;a[O]!=null&&((l=a[O].t)==="?"||l==="D"||(l===" "||l==="t")&&a[O+1]!=null&&(a[O+1].t==="?"||a[O+1].t==="t"&&a[O+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[O].v==="/"||a[O].v===" "&&a[O+1]!=null&&a[O+1].t=="?"));)a[o].v+=a[O].v,a[O]={v:"",t:";"},++O;T+=a[o].v,o=O-1;break;case"G":a[o].t="t",a[o].v=cR(t,r);break}var M="",B,L;if(T.length>0){T.charCodeAt(0)==40?(B=t<0&&T.charCodeAt(0)===45?-t:t,L=Im("n",T,B)):(B=t<0&&n>1?-t:t,L=Im("n",T,B),B<0&&a[0]&&a[0].t=="t"&&(L=L.substr(1),a[0].v="-"+a[0].v)),O=L.length-1;var H=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){H=o;break}var U=a.length;if(H===a.length&&L.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(O>=a[o].v.length-1?(O-=a[o].v.length,a[o].v=L.substr(O+1,a[o].v.length)):O<0?a[o].v="":(a[o].v=L.substr(0,O+1),O=-1),a[o].t="t",U=o);O>=0&&U<a.length&&(a[U].v=L.substr(0,O+1)+a[U].v)}else if(H!==a.length&&L.indexOf("E")===-1){for(O=L.indexOf(".")-1,o=H;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(f=a[o].v.indexOf(".")>-1&&o===H?a[o].v.indexOf(".")-1:a[o].v.length-1,M=a[o].v.substr(f+1);f>=0;--f)O>=0&&(a[o].v.charAt(f)==="0"||a[o].v.charAt(f)==="#")&&(M=L.charAt(O--)+M);a[o].v=M,a[o].t="t",U=o}for(O>=0&&U<a.length&&(a[U].v=L.substr(0,O+1)+a[U].v),O=L.indexOf(".")+1,o=H;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==H)){for(f=a[o].v.indexOf(".")>-1&&o===H?a[o].v.indexOf(".")+1:0,M=a[o].v.substr(0,f);f<a[o].v.length;++f)O<L.length&&(M+=L.charAt(O++));a[o].v=M,a[o].t="t",U=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(B=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Im(a[o].t,a[o].v,B),a[o].t="t");var J="";for(o=0;o!==a.length;++o)a[o]!=null&&(J+=a[o].v);return J}var uZ=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function dZ(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function a0t(e,t){var r=r0t(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(uZ),l=r[1].match(uZ);return dZ(t,o)?[n,r[0]]:dZ(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function P1(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Xo)[e],n==null&&(n=r.table&&r.table[oZ[e]]||Xo[oZ[e]]),n==null&&(n=Bht[e]||"General");break}if(LE(n,0))return cR(t,r);t instanceof Date&&(t=w0e(t,r.date1904));var a=a0t(n,t);if(LE(a[1]))return cR(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return n0t(a[1],t,r,a[0])}function P0e(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Xo[r]==null){t<0&&(t=r);continue}if(Xo[r]==e){t=r;break}}t<0&&(t=391)}return Xo[t]=e,t}function IT(e){for(var t=0;t!=392;++t)e[t]!==void 0&&P0e(e[t],t)}function FT(){Xo=Lht()}var O0e=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function i0t(e){var t=typeof e=="number"?Xo[e]:e;return t=t.replace(O0e,"(\\d+)"),new RegExp("^"+t+"$")}function s0t(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(O0e)||[]).forEach(function(h,g){var p=parseInt(r[g+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?f:u+"T"+f}var o0t=function(){var e={};e.version="1.2.0";function t(){for(var L=0,H=new Array(256),U=0;U!=256;++U)L=U,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,H[U]=L;return typeof Int32Array<"u"?new Int32Array(H):H}var r=t();function n(L){var H=0,U=0,J=0,K=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(J=0;J!=256;++J)K[J]=L[J];for(J=0;J!=256;++J)for(U=L[J],H=256+J;H<4096;H+=256)U=K[H]=U>>>8^L[U&255];var G=[];for(J=1;J!=16;++J)G[J-1]=typeof Int32Array<"u"?K.subarray(J*256,J*256+256):K.slice(J*256,J*256+256);return G}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],f=a[5],h=a[6],g=a[7],p=a[8],N=a[9],b=a[10],S=a[11],C=a[12],j=a[13],T=a[14];function O(L,H){for(var U=H^-1,J=0,K=L.length;J<K;)U=U>>>8^r[(U^L.charCodeAt(J++))&255];return~U}function M(L,H){for(var U=H^-1,J=L.length-15,K=0;K<J;)U=T[L[K++]^U&255]^j[L[K++]^U>>8&255]^C[L[K++]^U>>16&255]^S[L[K++]^U>>>24]^b[L[K++]]^N[L[K++]]^p[L[K++]]^g[L[K++]]^h[L[K++]]^f[L[K++]]^u[L[K++]]^c[L[K++]]^l[L[K++]]^o[L[K++]]^i[L[K++]]^r[L[K++]];for(J+=15;K<J;)U=U>>>8^r[(U^L[K++])&255];return~U}function B(L,H){for(var U=H^-1,J=0,K=L.length,G=0,re=0;J<K;)G=L.charCodeAt(J++),G<128?U=U>>>8^r[(U^G)&255]:G<2048?(U=U>>>8^r[(U^(192|G>>6&31))&255],U=U>>>8^r[(U^(128|G&63))&255]):G>=55296&&G<57344?(G=(G&1023)+64,re=L.charCodeAt(J++)&1023,U=U>>>8^r[(U^(240|G>>8&7))&255],U=U>>>8^r[(U^(128|G>>2&63))&255],U=U>>>8^r[(U^(128|re>>6&15|(G&3)<<4))&255],U=U>>>8^r[(U^(128|re&63))&255]):(U=U>>>8^r[(U^(224|G>>12&15))&255],U=U>>>8^r[(U^(128|G>>6&63))&255],U=U>>>8^r[(U^(128|G&63))&255]);return~U}return e.table=r,e.bstr=O,e.buf=M,e.str=B,e}(),Es=function(){var t={};t.version="1.2.1";function r(Ie,ze){for(var Ye=Ie.split("/"),Qe=ze.split("/"),Xe=0,nt=0,yt=Math.min(Ye.length,Qe.length);Xe<yt;++Xe){if(nt=Ye[Xe].length-Qe[Xe].length)return nt;if(Ye[Xe]!=Qe[Xe])return Ye[Xe]<Qe[Xe]?-1:1}return Ye.length-Qe.length}function n(Ie){if(Ie.charAt(Ie.length-1)=="/")return Ie.slice(0,-1).indexOf("/")===-1?Ie:n(Ie.slice(0,-1));var ze=Ie.lastIndexOf("/");return ze===-1?Ie:Ie.slice(0,ze+1)}function a(Ie){if(Ie.charAt(Ie.length-1)=="/")return a(Ie.slice(0,-1));var ze=Ie.lastIndexOf("/");return ze===-1?Ie:Ie.slice(ze+1)}function i(Ie,ze){typeof ze=="string"&&(ze=new Date(ze));var Ye=ze.getHours();Ye=Ye<<6|ze.getMinutes(),Ye=Ye<<5|ze.getSeconds()>>>1,Ie.write_shift(2,Ye);var Qe=ze.getFullYear()-1980;Qe=Qe<<4|ze.getMonth()+1,Qe=Qe<<5|ze.getDate(),Ie.write_shift(2,Qe)}function o(Ie){var ze=Ie.read_shift(2)&65535,Ye=Ie.read_shift(2)&65535,Qe=new Date,Xe=Ye&31;Ye>>>=5;var nt=Ye&15;Ye>>>=4,Qe.setMilliseconds(0),Qe.setFullYear(Ye+1980),Qe.setMonth(nt-1),Qe.setDate(Xe);var yt=ze&31;ze>>>=5;var Ot=ze&63;return ze>>>=6,Qe.setHours(ze),Qe.setMinutes(Ot),Qe.setSeconds(yt<<1),Qe}function l(Ie){Wd(Ie,0);for(var ze={},Ye=0;Ie.l<=Ie.length-4;){var Qe=Ie.read_shift(2),Xe=Ie.read_shift(2),nt=Ie.l+Xe,yt={};switch(Qe){case 21589:Ye=Ie.read_shift(1),Ye&1&&(yt.mtime=Ie.read_shift(4)),Xe>5&&(Ye&2&&(yt.atime=Ie.read_shift(4)),Ye&4&&(yt.ctime=Ie.read_shift(4))),yt.mtime&&(yt.mt=new Date(yt.mtime*1e3));break}Ie.l=nt,ze[Qe]=yt}return ze}var c;function u(){return c||(c={})}function f(Ie,ze){if(Ie[0]==80&&Ie[1]==75)return _a(Ie,ze);if((Ie[0]|32)==109&&(Ie[1]|32)==105)return Vn(Ie,ze);if(Ie.length<512)throw new Error("CFB file size "+Ie.length+" < 512");var Ye=3,Qe=512,Xe=0,nt=0,yt=0,Ot=0,St=0,Pt=[],It=Ie.slice(0,512);Wd(It,0);var mr=h(It);switch(Ye=mr[0],Ye){case 3:Qe=512;break;case 4:Qe=4096;break;case 0:if(mr[1]==0)return _a(Ie,ze);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ye)}Qe!==512&&(It=Ie.slice(0,Qe),Wd(It,28));var br=Ie.slice(0,Qe);g(It,Ye);var wr=It.read_shift(4,"i");if(Ye===3&&wr!==0)throw new Error("# Directory Sectors: Expected 0 saw "+wr);It.l+=4,yt=It.read_shift(4,"i"),It.l+=4,It.chk("00100000","Mini Stream Cutoff Size: "),Ot=It.read_shift(4,"i"),Xe=It.read_shift(4,"i"),St=It.read_shift(4,"i"),nt=It.read_shift(4,"i");for(var Tr=-1,Sr=0;Sr<109&&(Tr=It.read_shift(4,"i"),!(Tr<0));++Sr)Pt[Sr]=Tr;var ua=p(Ie,Qe);S(St,nt,ua,Qe,Pt);var Ut=j(ua,yt,Pt,Qe);Ut[yt].name="!Directory",Xe>0&&Ot!==re&&(Ut[Ot].name="!MiniFAT"),Ut[Pt[0]].name="!FAT",Ut.fat_addrs=Pt,Ut.ssz=Qe;var va={},Ta=[],ea=[],Cc=[];T(yt,Ut,ua,Ta,Xe,va,ea,Ot),N(ea,Cc,Ta),Ta.shift();var Wa={FileIndex:ea,FullPaths:Cc};return ze&&ze.raw&&(Wa.raw={header:br,sectors:ua}),Wa}function h(Ie){if(Ie[Ie.l]==80&&Ie[Ie.l+1]==75)return[0,0];Ie.chk(ae,"Header Signature: "),Ie.l+=16;var ze=Ie.read_shift(2,"u");return[Ie.read_shift(2,"u"),ze]}function g(Ie,ze){var Ye=9;switch(Ie.l+=2,Ye=Ie.read_shift(2)){case 9:if(ze!=3)throw new Error("Sector Shift: Expected 9 saw "+Ye);break;case 12:if(ze!=4)throw new Error("Sector Shift: Expected 12 saw "+Ye);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ye)}Ie.chk("0600","Mini Sector Shift: "),Ie.chk("000000000000","Reserved: ")}function p(Ie,ze){for(var Ye=Math.ceil(Ie.length/ze)-1,Qe=[],Xe=1;Xe<Ye;++Xe)Qe[Xe-1]=Ie.slice(Xe*ze,(Xe+1)*ze);return Qe[Ye-1]=Ie.slice(Ye*ze),Qe}function N(Ie,ze,Ye){for(var Qe=0,Xe=0,nt=0,yt=0,Ot=0,St=Ye.length,Pt=[],It=[];Qe<St;++Qe)Pt[Qe]=It[Qe]=Qe,ze[Qe]=Ye[Qe];for(;Ot<It.length;++Ot)Qe=It[Ot],Xe=Ie[Qe].L,nt=Ie[Qe].R,yt=Ie[Qe].C,Pt[Qe]===Qe&&(Xe!==-1&&Pt[Xe]!==Xe&&(Pt[Qe]=Pt[Xe]),nt!==-1&&Pt[nt]!==nt&&(Pt[Qe]=Pt[nt])),yt!==-1&&(Pt[yt]=Qe),Xe!==-1&&Qe!=Pt[Qe]&&(Pt[Xe]=Pt[Qe],It.lastIndexOf(Xe)<Ot&&It.push(Xe)),nt!==-1&&Qe!=Pt[Qe]&&(Pt[nt]=Pt[Qe],It.lastIndexOf(nt)<Ot&&It.push(nt));for(Qe=1;Qe<St;++Qe)Pt[Qe]===Qe&&(nt!==-1&&Pt[nt]!==nt?Pt[Qe]=Pt[nt]:Xe!==-1&&Pt[Xe]!==Xe&&(Pt[Qe]=Pt[Xe]));for(Qe=1;Qe<St;++Qe)if(Ie[Qe].type!==0){if(Ot=Qe,Ot!=Pt[Ot])do Ot=Pt[Ot],ze[Qe]=ze[Ot]+"/"+ze[Qe];while(Ot!==0&&Pt[Ot]!==-1&&Ot!=Pt[Ot]);Pt[Qe]=-1}for(ze[0]+="/",Qe=1;Qe<St;++Qe)Ie[Qe].type!==2&&(ze[Qe]+="/")}function b(Ie,ze,Ye){for(var Qe=Ie.start,Xe=Ie.size,nt=[],yt=Qe;Ye&&Xe>0&&yt>=0;)nt.push(ze.slice(yt*G,yt*G+G)),Xe-=G,yt=$g(Ye,yt*4);return nt.length===0?nr(0):Wc(nt).slice(0,Ie.size)}function S(Ie,ze,Ye,Qe,Xe){var nt=re;if(Ie===re){if(ze!==0)throw new Error("DIFAT chain shorter than expected")}else if(Ie!==-1){var yt=Ye[Ie],Ot=(Qe>>>2)-1;if(!yt)return;for(var St=0;St<Ot&&(nt=$g(yt,St*4))!==re;++St)Xe.push(nt);S($g(yt,Qe-4),ze-1,Ye,Qe,Xe)}}function C(Ie,ze,Ye,Qe,Xe){var nt=[],yt=[];Xe||(Xe=[]);var Ot=Qe-1,St=0,Pt=0;for(St=ze;St>=0;){Xe[St]=!0,nt[nt.length]=St,yt.push(Ie[St]);var It=Ye[Math.floor(St*4/Qe)];if(Pt=St*4&Ot,Qe<4+Pt)throw new Error("FAT boundary crossed: "+St+" 4 "+Qe);if(!Ie[It])break;St=$g(Ie[It],Pt)}return{nodes:nt,data:yZ([yt])}}function j(Ie,ze,Ye,Qe){var Xe=Ie.length,nt=[],yt=[],Ot=[],St=[],Pt=Qe-1,It=0,mr=0,br=0,wr=0;for(It=0;It<Xe;++It)if(Ot=[],br=It+ze,br>=Xe&&(br-=Xe),!yt[br]){St=[];var Tr=[];for(mr=br;mr>=0;){Tr[mr]=!0,yt[mr]=!0,Ot[Ot.length]=mr,St.push(Ie[mr]);var Sr=Ye[Math.floor(mr*4/Qe)];if(wr=mr*4&Pt,Qe<4+wr)throw new Error("FAT boundary crossed: "+mr+" 4 "+Qe);if(!Ie[Sr]||(mr=$g(Ie[Sr],wr),Tr[mr]))break}nt[br]={nodes:Ot,data:yZ([St])}}return nt}function T(Ie,ze,Ye,Qe,Xe,nt,yt,Ot){for(var St=0,Pt=Qe.length?2:0,It=ze[Ie].data,mr=0,br=0,wr;mr<It.length;mr+=128){var Tr=It.slice(mr,mr+128);Wd(Tr,64),br=Tr.read_shift(2),wr=Z9(Tr,0,br-Pt),Qe.push(wr);var Sr={name:wr,type:Tr.read_shift(1),color:Tr.read_shift(1),L:Tr.read_shift(4,"i"),R:Tr.read_shift(4,"i"),C:Tr.read_shift(4,"i"),clsid:Tr.read_shift(16),state:Tr.read_shift(4,"i"),start:0,size:0},ua=Tr.read_shift(2)+Tr.read_shift(2)+Tr.read_shift(2)+Tr.read_shift(2);ua!==0&&(Sr.ct=O(Tr,Tr.l-8));var Ut=Tr.read_shift(2)+Tr.read_shift(2)+Tr.read_shift(2)+Tr.read_shift(2);Ut!==0&&(Sr.mt=O(Tr,Tr.l-8)),Sr.start=Tr.read_shift(4,"i"),Sr.size=Tr.read_shift(4,"i"),Sr.size<0&&Sr.start<0&&(Sr.size=Sr.type=0,Sr.start=re,Sr.name=""),Sr.type===5?(St=Sr.start,Xe>0&&St!==re&&(ze[St].name="!StreamData")):Sr.size>=4096?(Sr.storage="fat",ze[Sr.start]===void 0&&(ze[Sr.start]=C(Ye,Sr.start,ze.fat_addrs,ze.ssz)),ze[Sr.start].name=Sr.name,Sr.content=ze[Sr.start].data.slice(0,Sr.size)):(Sr.storage="minifat",Sr.size<0?Sr.size=0:St!==re&&Sr.start!==re&&ze[St]&&(Sr.content=b(Sr,ze[St].data,(ze[Ot]||{}).data))),Sr.content&&Wd(Sr.content,0),nt[wr]=Sr,yt.push(Sr)}}function O(Ie,ze){return new Date((Gd(Ie,ze+4)/1e7*Math.pow(2,32)+Gd(Ie,ze)/1e7-11644473600)*1e3)}function M(Ie,ze){return u(),f(c.readFileSync(Ie),ze)}function B(Ie,ze){var Ye=ze&&ze.type;switch(Ye||cs&&Buffer.isBuffer(Ie)&&(Ye="buffer"),Ye||"base64"){case"file":return M(Ie,ze);case"base64":return f(Ah(qm(Ie)),ze);case"binary":return f(Ah(Ie),ze)}return f(Ie,ze)}function L(Ie,ze){var Ye=ze||{},Qe=Ye.root||"Root Entry";if(Ie.FullPaths||(Ie.FullPaths=[]),Ie.FileIndex||(Ie.FileIndex=[]),Ie.FullPaths.length!==Ie.FileIndex.length)throw new Error("inconsistent CFB structure");Ie.FullPaths.length===0&&(Ie.FullPaths[0]=Qe+"/",Ie.FileIndex[0]={name:Qe,type:5}),Ye.CLSID&&(Ie.FileIndex[0].clsid=Ye.CLSID),H(Ie)}function H(Ie){var ze="Sh33tJ5";if(!Es.find(Ie,"/"+ze)){var Ye=nr(4);Ye[0]=55,Ye[1]=Ye[3]=50,Ye[2]=54,Ie.FileIndex.push({name:ze,type:2,content:Ye,size:4,L:69,R:69,C:69}),Ie.FullPaths.push(Ie.FullPaths[0]+ze),U(Ie)}}function U(Ie,ze){L(Ie);for(var Ye=!1,Qe=!1,Xe=Ie.FullPaths.length-1;Xe>=0;--Xe){var nt=Ie.FileIndex[Xe];switch(nt.type){case 0:Qe?Ye=!0:(Ie.FileIndex.pop(),Ie.FullPaths.pop());break;case 1:case 2:case 5:Qe=!0,isNaN(nt.R*nt.L*nt.C)&&(Ye=!0),nt.R>-1&&nt.L>-1&&nt.R==nt.L&&(Ye=!0);break;default:Ye=!0;break}}if(!(!Ye&&!ze)){var yt=new Date(1987,1,19),Ot=0,St=Object.create?Object.create(null):{},Pt=[];for(Xe=0;Xe<Ie.FullPaths.length;++Xe)St[Ie.FullPaths[Xe]]=!0,Ie.FileIndex[Xe].type!==0&&Pt.push([Ie.FullPaths[Xe],Ie.FileIndex[Xe]]);for(Xe=0;Xe<Pt.length;++Xe){var It=n(Pt[Xe][0]);Qe=St[It],Qe||(Pt.push([It,{name:a(It).replace("/",""),type:1,clsid:ne,ct:yt,mt:yt,content:null}]),St[It]=!0)}for(Pt.sort(function(wr,Tr){return r(wr[0],Tr[0])}),Ie.FullPaths=[],Ie.FileIndex=[],Xe=0;Xe<Pt.length;++Xe)Ie.FullPaths[Xe]=Pt[Xe][0],Ie.FileIndex[Xe]=Pt[Xe][1];for(Xe=0;Xe<Pt.length;++Xe){var mr=Ie.FileIndex[Xe],br=Ie.FullPaths[Xe];if(mr.name=a(br).replace("/",""),mr.L=mr.R=mr.C=-(mr.color=1),mr.size=mr.content?mr.content.length:0,mr.start=0,mr.clsid=mr.clsid||ne,Xe===0)mr.C=Pt.length>1?1:-1,mr.size=0,mr.type=5;else if(br.slice(-1)=="/"){for(Ot=Xe+1;Ot<Pt.length&&n(Ie.FullPaths[Ot])!=br;++Ot);for(mr.C=Ot>=Pt.length?-1:Ot,Ot=Xe+1;Ot<Pt.length&&n(Ie.FullPaths[Ot])!=n(br);++Ot);mr.R=Ot>=Pt.length?-1:Ot,mr.type=1}else n(Ie.FullPaths[Xe+1]||"")==n(br)&&(mr.R=Xe+1),mr.type=2}}}function J(Ie,ze){var Ye=ze||{};if(Ye.fileType=="mad")return js(Ie,Ye);switch(U(Ie),Ye.fileType){case"zip":return ia(Ie,Ye)}var Qe=function(wr){for(var Tr=0,Sr=0,ua=0;ua<wr.FileIndex.length;++ua){var Ut=wr.FileIndex[ua];if(Ut.content){var va=Ut.content.length;va>0&&(va<4096?Tr+=va+63>>6:Sr+=va+511>>9)}}for(var Ta=wr.FullPaths.length+3>>2,ea=Tr+7>>3,Cc=Tr+127>>7,Wa=ea+Sr+Ta+Cc,Sa=Wa+127>>7,Tn=Sa<=109?0:Math.ceil((Sa-109)/127);Wa+Sa+Tn+127>>7>Sa;)Tn=++Sa<=109?0:Math.ceil((Sa-109)/127);var Rs=[1,Tn,Sa,Cc,Ta,Sr,Tr,0];return wr.FileIndex[0].size=Tr<<6,Rs[7]=(wr.FileIndex[0].start=Rs[0]+Rs[1]+Rs[2]+Rs[3]+Rs[4]+Rs[5])+(Rs[6]+7>>3),Rs}(Ie),Xe=nr(Qe[7]<<9),nt=0,yt=0;{for(nt=0;nt<8;++nt)Xe.write_shift(1,X[nt]);for(nt=0;nt<8;++nt)Xe.write_shift(2,0);for(Xe.write_shift(2,62),Xe.write_shift(2,3),Xe.write_shift(2,65534),Xe.write_shift(2,9),Xe.write_shift(2,6),nt=0;nt<3;++nt)Xe.write_shift(2,0);for(Xe.write_shift(4,0),Xe.write_shift(4,Qe[2]),Xe.write_shift(4,Qe[0]+Qe[1]+Qe[2]+Qe[3]-1),Xe.write_shift(4,0),Xe.write_shift(4,4096),Xe.write_shift(4,Qe[3]?Qe[0]+Qe[1]+Qe[2]-1:re),Xe.write_shift(4,Qe[3]),Xe.write_shift(-4,Qe[1]?Qe[0]-1:re),Xe.write_shift(4,Qe[1]),nt=0;nt<109;++nt)Xe.write_shift(-4,nt<Qe[2]?Qe[1]+nt:-1)}if(Qe[1])for(yt=0;yt<Qe[1];++yt){for(;nt<236+yt*127;++nt)Xe.write_shift(-4,nt<Qe[2]?Qe[1]+nt:-1);Xe.write_shift(-4,yt===Qe[1]-1?re:yt+1)}var Ot=function(wr){for(yt+=wr;nt<yt-1;++nt)Xe.write_shift(-4,nt+1);wr&&(++nt,Xe.write_shift(-4,re))};for(yt=nt=0,yt+=Qe[1];nt<yt;++nt)Xe.write_shift(-4,de.DIFSECT);for(yt+=Qe[2];nt<yt;++nt)Xe.write_shift(-4,de.FATSECT);Ot(Qe[3]),Ot(Qe[4]);for(var St=0,Pt=0,It=Ie.FileIndex[0];St<Ie.FileIndex.length;++St)It=Ie.FileIndex[St],It.content&&(Pt=It.content.length,!(Pt<4096)&&(It.start=yt,Ot(Pt+511>>9)));for(Ot(Qe[6]+7>>3);Xe.l&511;)Xe.write_shift(-4,de.ENDOFCHAIN);for(yt=nt=0,St=0;St<Ie.FileIndex.length;++St)It=Ie.FileIndex[St],It.content&&(Pt=It.content.length,!(!Pt||Pt>=4096)&&(It.start=yt,Ot(Pt+63>>6)));for(;Xe.l&511;)Xe.write_shift(-4,de.ENDOFCHAIN);for(nt=0;nt<Qe[4]<<2;++nt){var mr=Ie.FullPaths[nt];if(!mr||mr.length===0){for(St=0;St<17;++St)Xe.write_shift(4,0);for(St=0;St<3;++St)Xe.write_shift(4,-1);for(St=0;St<12;++St)Xe.write_shift(4,0);continue}It=Ie.FileIndex[nt],nt===0&&(It.start=It.size?It.start-1:re);var br=nt===0&&Ye.root||It.name;if(Pt=2*(br.length+1),Xe.write_shift(64,br,"utf16le"),Xe.write_shift(2,Pt),Xe.write_shift(1,It.type),Xe.write_shift(1,It.color),Xe.write_shift(-4,It.L),Xe.write_shift(-4,It.R),Xe.write_shift(-4,It.C),It.clsid)Xe.write_shift(16,It.clsid,"hex");else for(St=0;St<4;++St)Xe.write_shift(4,0);Xe.write_shift(4,It.state||0),Xe.write_shift(4,0),Xe.write_shift(4,0),Xe.write_shift(4,0),Xe.write_shift(4,0),Xe.write_shift(4,It.start),Xe.write_shift(4,It.size),Xe.write_shift(4,0)}for(nt=1;nt<Ie.FileIndex.length;++nt)if(It=Ie.FileIndex[nt],It.size>=4096)if(Xe.l=It.start+1<<9,cs&&Buffer.isBuffer(It.content))It.content.copy(Xe,Xe.l,0,It.size),Xe.l+=It.size+511&-512;else{for(St=0;St<It.size;++St)Xe.write_shift(1,It.content[St]);for(;St&511;++St)Xe.write_shift(1,0)}for(nt=1;nt<Ie.FileIndex.length;++nt)if(It=Ie.FileIndex[nt],It.size>0&&It.size<4096)if(cs&&Buffer.isBuffer(It.content))It.content.copy(Xe,Xe.l,0,It.size),Xe.l+=It.size+63&-64;else{for(St=0;St<It.size;++St)Xe.write_shift(1,It.content[St]);for(;St&63;++St)Xe.write_shift(1,0)}if(cs)Xe.l=Xe.length;else for(;Xe.l<Xe.length;)Xe.write_shift(1,0);return Xe}function K(Ie,ze){var Ye=Ie.FullPaths.map(function(St){return St.toUpperCase()}),Qe=Ye.map(function(St){var Pt=St.split("/");return Pt[Pt.length-(St.slice(-1)=="/"?2:1)]}),Xe=!1;ze.charCodeAt(0)===47?(Xe=!0,ze=Ye[0].slice(0,-1)+ze):Xe=ze.indexOf("/")!==-1;var nt=ze.toUpperCase(),yt=Xe===!0?Ye.indexOf(nt):Qe.indexOf(nt);if(yt!==-1)return Ie.FileIndex[yt];var Ot=!nt.match(kS);for(nt=nt.replace(B_,""),Ot&&(nt=nt.replace(kS,"!")),yt=0;yt<Ye.length;++yt)if((Ot?Ye[yt].replace(kS,"!"):Ye[yt]).replace(B_,"")==nt||(Ot?Qe[yt].replace(kS,"!"):Qe[yt]).replace(B_,"")==nt)return Ie.FileIndex[yt];return null}var G=64,re=-2,ae="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",de={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:re,FREESECT:-1,HEADER_SIGNATURE:ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function le(Ie,ze,Ye){u();var Qe=J(Ie,Ye);c.writeFileSync(ze,Qe)}function xe(Ie){for(var ze=new Array(Ie.length),Ye=0;Ye<Ie.length;++Ye)ze[Ye]=String.fromCharCode(Ie[Ye]);return ze.join("")}function Se(Ie,ze){var Ye=J(Ie,ze);switch(ze&&ze.type||"buffer"){case"file":return u(),c.writeFileSync(ze.filename,Ye),Ye;case"binary":return typeof Ye=="string"?Ye:xe(Ye);case"base64":return b5(typeof Ye=="string"?Ye:xe(Ye));case"buffer":if(cs)return Buffer.isBuffer(Ye)?Ye:rp(Ye);case"array":return typeof Ye=="string"?Ah(Ye):Ye}return Ye}var ye;function ee(Ie){try{var ze=Ie.InflateRaw,Ye=new ze;if(Ye._processChunk(new Uint8Array([3,0]),Ye._finishFlushFlag),Ye.bytesRead)ye=Ie;else throw new Error("zlib does not expose bytesRead")}catch(Qe){console.error("cannot use native zlib: "+(Qe.message||Qe))}}function he(Ie,ze){if(!ye)return ti(Ie,ze);var Ye=ye.InflateRaw,Qe=new Ye,Xe=Qe._processChunk(Ie.slice(Ie.l),Qe._finishFlushFlag);return Ie.l+=Qe.bytesRead,Xe}function se(Ie){return ye?ye.deflateRawSync(Ie):ca(Ie)}var te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ge=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ue=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ce(Ie){var ze=(Ie<<1|Ie<<11)&139536|(Ie<<5|Ie<<15)&558144;return(ze>>16|ze>>8|ze)&255}for(var Ne=typeof Uint8Array<"u",Ee=Ne?new Uint8Array(256):[],Ge=0;Ge<256;++Ge)Ee[Ge]=Ce(Ge);function Be(Ie,ze){var Ye=Ee[Ie&255];return ze<=8?Ye>>>8-ze:(Ye=Ye<<8|Ee[Ie>>8&255],ze<=16?Ye>>>16-ze:(Ye=Ye<<8|Ee[Ie>>16&255],Ye>>>24-ze))}function st(Ie,ze){var Ye=ze&7,Qe=ze>>>3;return(Ie[Qe]|(Ye<=6?0:Ie[Qe+1]<<8))>>>Ye&3}function lt(Ie,ze){var Ye=ze&7,Qe=ze>>>3;return(Ie[Qe]|(Ye<=5?0:Ie[Qe+1]<<8))>>>Ye&7}function Me(Ie,ze){var Ye=ze&7,Qe=ze>>>3;return(Ie[Qe]|(Ye<=4?0:Ie[Qe+1]<<8))>>>Ye&15}function wt(Ie,ze){var Ye=ze&7,Qe=ze>>>3;return(Ie[Qe]|(Ye<=3?0:Ie[Qe+1]<<8))>>>Ye&31}function _t(Ie,ze){var Ye=ze&7,Qe=ze>>>3;return(Ie[Qe]|(Ye<=1?0:Ie[Qe+1]<<8))>>>Ye&127}function ar(Ie,ze,Ye){var Qe=ze&7,Xe=ze>>>3,nt=(1<<Ye)-1,yt=Ie[Xe]>>>Qe;return Ye<8-Qe||(yt|=Ie[Xe+1]<<8-Qe,Ye<16-Qe)||(yt|=Ie[Xe+2]<<16-Qe,Ye<24-Qe)||(yt|=Ie[Xe+3]<<24-Qe),yt&nt}function Tt(Ie,ze,Ye){var Qe=ze&7,Xe=ze>>>3;return Qe<=5?Ie[Xe]|=(Ye&7)<<Qe:(Ie[Xe]|=Ye<<Qe&255,Ie[Xe+1]=(Ye&7)>>8-Qe),ze+3}function sn(Ie,ze,Ye){var Qe=ze&7,Xe=ze>>>3;return Ye=(Ye&1)<<Qe,Ie[Xe]|=Ye,ze+1}function ct(Ie,ze,Ye){var Qe=ze&7,Xe=ze>>>3;return Ye<<=Qe,Ie[Xe]|=Ye&255,Ye>>>=8,Ie[Xe+1]=Ye,ze+8}function Ar(Ie,ze,Ye){var Qe=ze&7,Xe=ze>>>3;return Ye<<=Qe,Ie[Xe]|=Ye&255,Ye>>>=8,Ie[Xe+1]=Ye&255,Ie[Xe+2]=Ye>>>8,ze+16}function jr(Ie,ze){var Ye=Ie.length,Qe=2*Ye>ze?2*Ye:ze+5,Xe=0;if(Ye>=ze)return Ie;if(cs){var nt=aZ(Qe);if(Ie.copy)Ie.copy(nt);else for(;Xe<Ie.length;++Xe)nt[Xe]=Ie[Xe];return nt}else if(Ne){var yt=new Uint8Array(Qe);if(yt.set)yt.set(Ie);else for(;Xe<Ye;++Xe)yt[Xe]=Ie[Xe];return yt}return Ie.length=Qe,Ie}function tn(Ie){for(var ze=new Array(Ie),Ye=0;Ye<Ie;++Ye)ze[Ye]=0;return ze}function ha(Ie,ze,Ye){var Qe=1,Xe=0,nt=0,yt=0,Ot=0,St=Ie.length,Pt=Ne?new Uint16Array(32):tn(32);for(nt=0;nt<32;++nt)Pt[nt]=0;for(nt=St;nt<Ye;++nt)Ie[nt]=0;St=Ie.length;var It=Ne?new Uint16Array(St):tn(St);for(nt=0;nt<St;++nt)Pt[Xe=Ie[nt]]++,Qe<Xe&&(Qe=Xe),It[nt]=0;for(Pt[0]=0,nt=1;nt<=Qe;++nt)Pt[nt+16]=Ot=Ot+Pt[nt-1]<<1;for(nt=0;nt<St;++nt)Ot=Ie[nt],Ot!=0&&(It[nt]=Pt[Ot+16]++);var mr=0;for(nt=0;nt<St;++nt)if(mr=Ie[nt],mr!=0)for(Ot=Be(It[nt],Qe)>>Qe-mr,yt=(1<<Qe+4-mr)-1;yt>=0;--yt)ze[Ot|yt<<mr]=mr&15|nt<<4;return Qe}var mn=Ne?new Uint16Array(512):tn(512),xa=Ne?new Uint16Array(32):tn(32);if(!Ne){for(var Un=0;Un<512;++Un)mn[Un]=0;for(Un=0;Un<32;++Un)xa[Un]=0}(function(){for(var Ie=[],ze=0;ze<32;ze++)Ie.push(5);ha(Ie,xa,32);var Ye=[];for(ze=0;ze<=143;ze++)Ye.push(8);for(;ze<=255;ze++)Ye.push(9);for(;ze<=279;ze++)Ye.push(7);for(;ze<=287;ze++)Ye.push(8);ha(Ye,mn,288)})();var nn=function(){for(var ze=Ne?new Uint8Array(32768):[],Ye=0,Qe=0;Ye<ue.length-1;++Ye)for(;Qe<ue[Ye+1];++Qe)ze[Qe]=Ye;for(;Qe<32768;++Qe)ze[Qe]=29;var Xe=Ne?new Uint8Array(259):[];for(Ye=0,Qe=0;Ye<ge.length-1;++Ye)for(;Qe<ge[Ye+1];++Qe)Xe[Qe]=Ye;function nt(Ot,St){for(var Pt=0;Pt<Ot.length;){var It=Math.min(65535,Ot.length-Pt),mr=Pt+It==Ot.length;for(St.write_shift(1,+mr),St.write_shift(2,It),St.write_shift(2,~It&65535);It-- >0;)St[St.l++]=Ot[Pt++]}return St.l}function yt(Ot,St){for(var Pt=0,It=0,mr=Ne?new Uint16Array(32768):[];It<Ot.length;){var br=Math.min(65535,Ot.length-It);if(br<10){for(Pt=Tt(St,Pt,+(It+br==Ot.length)),Pt&7&&(Pt+=8-(Pt&7)),St.l=Pt/8|0,St.write_shift(2,br),St.write_shift(2,~br&65535);br-- >0;)St[St.l++]=Ot[It++];Pt=St.l*8;continue}Pt=Tt(St,Pt,+(It+br==Ot.length)+2);for(var wr=0;br-- >0;){var Tr=Ot[It];wr=(wr<<5^Tr)&32767;var Sr=-1,ua=0;if((Sr=mr[wr])&&(Sr|=It&-32768,Sr>It&&(Sr-=32768),Sr<It))for(;Ot[Sr+ua]==Ot[It+ua]&&ua<250;)++ua;if(ua>2){Tr=Xe[ua],Tr<=22?Pt=ct(St,Pt,Ee[Tr+1]>>1)-1:(ct(St,Pt,3),Pt+=5,ct(St,Pt,Ee[Tr-23]>>5),Pt+=3);var Ut=Tr<8?0:Tr-4>>2;Ut>0&&(Ar(St,Pt,ua-ge[Tr]),Pt+=Ut),Tr=ze[It-Sr],Pt=ct(St,Pt,Ee[Tr]>>3),Pt-=3;var va=Tr<4?0:Tr-2>>1;va>0&&(Ar(St,Pt,It-Sr-ue[Tr]),Pt+=va);for(var Ta=0;Ta<ua;++Ta)mr[wr]=It&32767,wr=(wr<<5^Ot[It])&32767,++It;br-=ua-1}else Tr<=143?Tr=Tr+48:Pt=sn(St,Pt,1),Pt=ct(St,Pt,Ee[Tr]),mr[wr]=It&32767,++It}Pt=ct(St,Pt,0)-1}return St.l=(Pt+7)/8|0,St.l}return function(St,Pt){return St.length<8?nt(St,Pt):yt(St,Pt)}}();function ca(Ie){var ze=nr(50+Math.floor(Ie.length*1.1)),Ye=nn(Ie,ze);return ze.slice(0,Ye)}var Cn=Ne?new Uint16Array(32768):tn(32768),ms=Ne?new Uint16Array(32768):tn(32768),Zn=Ne?new Uint16Array(128):tn(128),sr=1,ln=1;function Fn(Ie,ze){var Ye=wt(Ie,ze)+257;ze+=5;var Qe=wt(Ie,ze)+1;ze+=5;var Xe=Me(Ie,ze)+4;ze+=4;for(var nt=0,yt=Ne?new Uint8Array(19):tn(19),Ot=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],St=1,Pt=Ne?new Uint8Array(8):tn(8),It=Ne?new Uint8Array(8):tn(8),mr=yt.length,br=0;br<Xe;++br)yt[te[br]]=nt=lt(Ie,ze),St<nt&&(St=nt),Pt[nt]++,ze+=3;var wr=0;for(Pt[0]=0,br=1;br<=St;++br)It[br]=wr=wr+Pt[br-1]<<1;for(br=0;br<mr;++br)(wr=yt[br])!=0&&(Ot[br]=It[wr]++);var Tr=0;for(br=0;br<mr;++br)if(Tr=yt[br],Tr!=0){wr=Ee[Ot[br]]>>8-Tr;for(var Sr=(1<<7-Tr)-1;Sr>=0;--Sr)Zn[wr|Sr<<Tr]=Tr&7|br<<3}var ua=[];for(St=1;ua.length<Ye+Qe;)switch(wr=Zn[_t(Ie,ze)],ze+=wr&7,wr>>>=3){case 16:for(nt=3+st(Ie,ze),ze+=2,wr=ua[ua.length-1];nt-- >0;)ua.push(wr);break;case 17:for(nt=3+lt(Ie,ze),ze+=3;nt-- >0;)ua.push(0);break;case 18:for(nt=11+_t(Ie,ze),ze+=7;nt-- >0;)ua.push(0);break;default:ua.push(wr),St<wr&&(St=wr);break}var Ut=ua.slice(0,Ye),va=ua.slice(Ye);for(br=Ye;br<286;++br)Ut[br]=0;for(br=Qe;br<30;++br)va[br]=0;return sr=ha(Ut,Cn,286),ln=ha(va,ms,30),ze}function Gr(Ie,ze){if(Ie[0]==3&&!(Ie[1]&3))return[Rx(ze),2];for(var Ye=0,Qe=0,Xe=aZ(ze||1<<18),nt=0,yt=Xe.length>>>0,Ot=0,St=0;!(Qe&1);){if(Qe=lt(Ie,Ye),Ye+=3,Qe>>>1)Qe>>1==1?(Ot=9,St=5):(Ye=Fn(Ie,Ye),Ot=sr,St=ln);else{Ye&7&&(Ye+=8-(Ye&7));var Pt=Ie[Ye>>>3]|Ie[(Ye>>>3)+1]<<8;if(Ye+=32,Pt>0)for(!ze&&yt<nt+Pt&&(Xe=jr(Xe,nt+Pt),yt=Xe.length);Pt-- >0;)Xe[nt++]=Ie[Ye>>>3],Ye+=8;continue}for(;;){!ze&&yt<nt+32767&&(Xe=jr(Xe,nt+32767),yt=Xe.length);var It=ar(Ie,Ye,Ot),mr=Qe>>>1==1?mn[It]:Cn[It];if(Ye+=mr&15,mr>>>=4,!(mr>>>8&255))Xe[nt++]=mr;else{if(mr==256)break;mr-=257;var br=mr<8?0:mr-4>>2;br>5&&(br=0);var wr=nt+ge[mr];br>0&&(wr+=ar(Ie,Ye,br),Ye+=br),It=ar(Ie,Ye,St),mr=Qe>>>1==1?xa[It]:ms[It],Ye+=mr&15,mr>>>=4;var Tr=mr<4?0:mr-2>>1,Sr=ue[mr];for(Tr>0&&(Sr+=ar(Ie,Ye,Tr),Ye+=Tr),!ze&&yt<wr&&(Xe=jr(Xe,wr+100),yt=Xe.length);nt<wr;)Xe[nt]=Xe[nt-Sr],++nt}}}return ze?[Xe,Ye+7>>>3]:[Xe.slice(0,nt),Ye+7>>>3]}function ti(Ie,ze){var Ye=Ie.slice(Ie.l||0),Qe=Gr(Ye,ze);return Ie.l+=Qe[1],Qe[0]}function Qn(Ie,ze){if(Ie)typeof console<"u"&&console.error(ze);else throw new Error(ze)}function _a(Ie,ze){var Ye=Ie;Wd(Ye,0);var Qe=[],Xe=[],nt={FileIndex:Qe,FullPaths:Xe};L(nt,{root:ze.root});for(var yt=Ye.length-4;(Ye[yt]!=80||Ye[yt+1]!=75||Ye[yt+2]!=5||Ye[yt+3]!=6)&&yt>=0;)--yt;Ye.l=yt+4,Ye.l+=4;var Ot=Ye.read_shift(2);Ye.l+=6;var St=Ye.read_shift(4);for(Ye.l=St,yt=0;yt<Ot;++yt){Ye.l+=20;var Pt=Ye.read_shift(4),It=Ye.read_shift(4),mr=Ye.read_shift(2),br=Ye.read_shift(2),wr=Ye.read_shift(2);Ye.l+=8;var Tr=Ye.read_shift(4),Sr=l(Ye.slice(Ye.l+mr,Ye.l+mr+br));Ye.l+=mr+br+wr;var ua=Ye.l;Ye.l=Tr+4,Yn(Ye,Pt,It,nt,Sr),Ye.l=ua}return nt}function Yn(Ie,ze,Ye,Qe,Xe){Ie.l+=2;var nt=Ie.read_shift(2),yt=Ie.read_shift(2),Ot=o(Ie);if(nt&8257)throw new Error("Unsupported ZIP encryption");for(var St=Ie.read_shift(4),Pt=Ie.read_shift(4),It=Ie.read_shift(4),mr=Ie.read_shift(2),br=Ie.read_shift(2),wr="",Tr=0;Tr<mr;++Tr)wr+=String.fromCharCode(Ie[Ie.l++]);if(br){var Sr=l(Ie.slice(Ie.l,Ie.l+br));(Sr[21589]||{}).mt&&(Ot=Sr[21589].mt),((Xe||{})[21589]||{}).mt&&(Ot=Xe[21589].mt)}Ie.l+=br;var ua=Ie.slice(Ie.l,Ie.l+Pt);switch(yt){case 8:ua=he(Ie,It);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+yt)}var Ut=!1;nt&8&&(St=Ie.read_shift(4),St==134695760&&(St=Ie.read_shift(4),Ut=!0),Pt=Ie.read_shift(4),It=Ie.read_shift(4)),Pt!=ze&&Qn(Ut,"Bad compressed size: "+ze+" != "+Pt),It!=Ye&&Qn(Ut,"Bad uncompressed size: "+Ye+" != "+It),Va(Qe,wr,ua,{unsafe:!0,mt:Ot})}function ia(Ie,ze){var Ye=ze||{},Qe=[],Xe=[],nt=nr(1),yt=Ye.compression?8:0,Ot=0,St=0,Pt=0,It=0,mr=0,br=Ie.FullPaths[0],wr=br,Tr=Ie.FileIndex[0],Sr=[],ua=0;for(St=1;St<Ie.FullPaths.length;++St)if(wr=Ie.FullPaths[St].slice(br.length),Tr=Ie.FileIndex[St],!(!Tr.size||!Tr.content||wr=="Sh33tJ5")){var Ut=It,va=nr(wr.length);for(Pt=0;Pt<wr.length;++Pt)va.write_shift(1,wr.charCodeAt(Pt)&127);va=va.slice(0,va.l),Sr[mr]=o0t.buf(Tr.content,0);var Ta=Tr.content;yt==8&&(Ta=se(Ta)),nt=nr(30),nt.write_shift(4,67324752),nt.write_shift(2,20),nt.write_shift(2,Ot),nt.write_shift(2,yt),Tr.mt?i(nt,Tr.mt):nt.write_shift(4,0),nt.write_shift(-4,Sr[mr]),nt.write_shift(4,Ta.length),nt.write_shift(4,Tr.content.length),nt.write_shift(2,va.length),nt.write_shift(2,0),It+=nt.length,Qe.push(nt),It+=va.length,Qe.push(va),It+=Ta.length,Qe.push(Ta),nt=nr(46),nt.write_shift(4,33639248),nt.write_shift(2,0),nt.write_shift(2,20),nt.write_shift(2,Ot),nt.write_shift(2,yt),nt.write_shift(4,0),nt.write_shift(-4,Sr[mr]),nt.write_shift(4,Ta.length),nt.write_shift(4,Tr.content.length),nt.write_shift(2,va.length),nt.write_shift(2,0),nt.write_shift(2,0),nt.write_shift(2,0),nt.write_shift(2,0),nt.write_shift(4,0),nt.write_shift(4,Ut),ua+=nt.l,Xe.push(nt),ua+=va.length,Xe.push(va),++mr}return nt=nr(22),nt.write_shift(4,101010256),nt.write_shift(2,0),nt.write_shift(2,0),nt.write_shift(2,mr),nt.write_shift(2,mr),nt.write_shift(4,ua),nt.write_shift(4,It),nt.write_shift(2,0),Wc([Wc(Qe),Wc(Xe),nt])}var Jn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ir(Ie,ze){if(Ie.ctype)return Ie.ctype;var Ye=Ie.name||"",Qe=Ye.match(/\.([^\.]+)$/);return Qe&&Jn[Qe[1]]||ze&&(Qe=(Ye=ze).match(/[\.\\]([^\.\\])+$/),Qe&&Jn[Qe[1]])?Jn[Qe[1]]:"application/octet-stream"}function vo(Ie){for(var ze=b5(Ie),Ye=[],Qe=0;Qe<ze.length;Qe+=76)Ye.push(ze.slice(Qe,Qe+76));return Ye.join(`\r
`)+`\r
`}function Ss(Ie){var ze=Ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Pt){var It=Pt.charCodeAt(0).toString(16).toUpperCase();return"="+(It.length==1?"0"+It:It)});ze=ze.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ze.charAt(0)==`
`&&(ze="=0D"+ze.slice(1)),ze=ze.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ye=[],Qe=ze.split(`\r
`),Xe=0;Xe<Qe.length;++Xe){var nt=Qe[Xe];if(nt.length==0){Ye.push("");continue}for(var yt=0;yt<nt.length;){var Ot=76,St=nt.slice(yt,yt+Ot);St.charAt(Ot-1)=="="?Ot--:St.charAt(Ot-2)=="="?Ot-=2:St.charAt(Ot-3)=="="&&(Ot-=3),St=nt.slice(yt,yt+Ot),yt+=Ot,yt<nt.length&&(St+="="),Ye.push(St)}}return Ye.join(`\r
`)}function Na(Ie){for(var ze=[],Ye=0;Ye<Ie.length;++Ye){for(var Qe=Ie[Ye];Ye<=Ie.length&&Qe.charAt(Qe.length-1)=="=";)Qe=Qe.slice(0,Qe.length-1)+Ie[++Ye];ze.push(Qe)}for(var Xe=0;Xe<ze.length;++Xe)ze[Xe]=ze[Xe].replace(/[=][0-9A-Fa-f]{2}/g,function(nt){return String.fromCharCode(parseInt(nt.slice(1),16))});return Ah(ze.join(`\r
`))}function Io(Ie,ze,Ye){for(var Qe="",Xe="",nt="",yt,Ot=0;Ot<10;++Ot){var St=ze[Ot];if(!St||St.match(/^\s*$/))break;var Pt=St.match(/^(.*?):\s*([^\s].*)$/);if(Pt)switch(Pt[1].toLowerCase()){case"content-location":Qe=Pt[2].trim();break;case"content-type":nt=Pt[2].trim();break;case"content-transfer-encoding":Xe=Pt[2].trim();break}}switch(++Ot,Xe.toLowerCase()){case"base64":yt=Ah(qm(ze.slice(Ot).join("")));break;case"quoted-printable":yt=Na(ze.slice(Ot));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Xe)}var It=Va(Ie,Qe.slice(Ye.length),yt,{unsafe:!0});nt&&(It.ctype=nt)}function Vn(Ie,ze){if(xe(Ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ye=ze&&ze.root||"",Qe=(cs&&Buffer.isBuffer(Ie)?Ie.toString("binary"):xe(Ie)).split(`\r
`),Xe=0,nt="";for(Xe=0;Xe<Qe.length;++Xe)if(nt=Qe[Xe],!!/^Content-Location:/i.test(nt)&&(nt=nt.slice(nt.indexOf("file")),Ye||(Ye=nt.slice(0,nt.lastIndexOf("/")+1)),nt.slice(0,Ye.length)!=Ye))for(;Ye.length>0&&(Ye=Ye.slice(0,Ye.length-1),Ye=Ye.slice(0,Ye.lastIndexOf("/")+1),nt.slice(0,Ye.length)!=Ye););var yt=(Qe[1]||"").match(/boundary="(.*?)"/);if(!yt)throw new Error("MAD cannot find boundary");var Ot="--"+(yt[1]||""),St=[],Pt=[],It={FileIndex:St,FullPaths:Pt};L(It);var mr,br=0;for(Xe=0;Xe<Qe.length;++Xe){var wr=Qe[Xe];wr!==Ot&&wr!==Ot+"--"||(br++&&Io(It,Qe.slice(mr,Xe),Ye),mr=Xe)}return It}function js(Ie,ze){var Ye=ze||{},Qe=Ye.boundary||"SheetJS";Qe="------="+Qe;for(var Xe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Qe.slice(2)+'"',"","",""],nt=Ie.FullPaths[0],yt=nt,Ot=Ie.FileIndex[0],St=1;St<Ie.FullPaths.length;++St)if(yt=Ie.FullPaths[St].slice(nt.length),Ot=Ie.FileIndex[St],!(!Ot.size||!Ot.content||yt=="Sh33tJ5")){yt=yt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ua){return"_x"+ua.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ua){return"_u"+ua.charCodeAt(0).toString(16)+"_"});for(var Pt=Ot.content,It=cs&&Buffer.isBuffer(Pt)?Pt.toString("binary"):xe(Pt),mr=0,br=Math.min(1024,It.length),wr=0,Tr=0;Tr<=br;++Tr)(wr=It.charCodeAt(Tr))>=32&&wr<128&&++mr;var Sr=mr>=br*4/5;Xe.push(Qe),Xe.push("Content-Location: "+(Ye.root||"file:///C:/SheetJS/")+yt),Xe.push("Content-Transfer-Encoding: "+(Sr?"quoted-printable":"base64")),Xe.push("Content-Type: "+Ir(Ot,yt)),Xe.push(""),Xe.push(Sr?Ss(It):vo(It))}return Xe.push(Qe+`--\r
`),Xe.join(`\r
`)}function rc(Ie){var ze={};return L(ze,Ie),ze}function Va(Ie,ze,Ye,Qe){var Xe=Qe&&Qe.unsafe;Xe||L(Ie);var nt=!Xe&&Es.find(Ie,ze);if(!nt){var yt=Ie.FullPaths[0];ze.slice(0,yt.length)==yt?yt=ze:(yt.slice(-1)!="/"&&(yt+="/"),yt=(yt+ze).replace("//","/")),nt={name:a(ze),type:2},Ie.FileIndex.push(nt),Ie.FullPaths.push(yt),Xe||Es.utils.cfb_gc(Ie)}return nt.content=Ye,nt.size=Ye?Ye.length:0,Qe&&(Qe.CLSID&&(nt.clsid=Qe.CLSID),Qe.mt&&(nt.mt=Qe.mt),Qe.ct&&(nt.ct=Qe.ct)),nt}function yo(Ie,ze){L(Ie);var Ye=Es.find(Ie,ze);if(Ye){for(var Qe=0;Qe<Ie.FileIndex.length;++Qe)if(Ie.FileIndex[Qe]==Ye)return Ie.FileIndex.splice(Qe,1),Ie.FullPaths.splice(Qe,1),!0}return!1}function ii(Ie,ze,Ye){L(Ie);var Qe=Es.find(Ie,ze);if(Qe){for(var Xe=0;Xe<Ie.FileIndex.length;++Xe)if(Ie.FileIndex[Xe]==Qe)return Ie.FileIndex[Xe].name=a(Ye),Ie.FullPaths[Xe]=Ye,!0}return!1}function Zi(Ie){U(Ie,!0)}return t.find=K,t.read=B,t.parse=f,t.write=Se,t.writeFile=le,t.utils={cfb_new:rc,cfb_add:Va,cfb_del:yo,cfb_mov:ii,cfb_gc:Zi,ReadShift:$_,CheckField:X0e,prep_blob:Wd,bconcat:Wc,use_zlib:ee,_deflateRaw:ca,_inflateRaw:ti,consts:de},t}();function l0t(e){return typeof e=="string"?OT(e):Array.isArray(e)?Fht(e):e}function N3(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=OT(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Am(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([l0t(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=_3(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Zc(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function fZ(e,t){for(var r=[],n=Zc(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function G9(e){for(var t=[],r=Zc(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function DT(e){for(var t=[],r=Zc(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function c0t(e){for(var t=[],r=Zc(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var UE=new Date(1899,11,30,0,0,0);function Ed(e,t){var r=e.getTime();t&&(r-=1462*24*60*60*1e3);var n=UE.getTime()+(e.getTimezoneOffset()-UE.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var I0e=new Date,u0t=UE.getTime()+(I0e.getTimezoneOffset()-UE.getTimezoneOffset())*6e4,hZ=I0e.getTimezoneOffset();function F0e(e){var t=new Date;return t.setTime(e*24*60*60*1e3+u0t),t.getTimezoneOffset()!==hZ&&t.setTime(t.getTime()+(t.getTimezoneOffset()-hZ)*6e4),t}var mZ=new Date("2017-02-19T19:06:09.000Z"),D0e=isNaN(mZ.getFullYear())?new Date("2/19/17"):mZ,d0t=D0e.getFullYear()==2017;function Yu(e,t){var r=new Date(e);if(d0t)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(D0e.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function RT(e,t){if(cs&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Am(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Am(Iht(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Am(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Am(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function jd(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=jd(e[r]));return t}function Wo(e,t){for(var r="";r.length<t;)r+=e;return r}function Fm(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var f0t=["january","february","march","april","may","june","july","august","september","october","november","december"];function w5(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&f0t.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function li(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return cs?n=rp(r):n=Dht(r),Es.utils.cfb_add(e,t,n)}Es.utils.cfb_add(e,t,r)}else e.file(t,r)}function K9(){return Es.utils.cfb_new()}var Fl=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,h0t={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Y9=G9(h0t),X9=/[&<>'"]/g,m0t=/[\u0000-\u0008\u000b-\u001f]/g;function bs(e){var t=e+"";return t.replace(X9,function(r){return Y9[r]}).replace(m0t,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function pZ(e){return bs(e).replace(/ /g,"_x0020_")}var R0e=/[\u0000-\u001f]/g;function p0t(e){var t=e+"";return t.replace(X9,function(r){return Y9[r]}).replace(/\n/g,"<br/>").replace(R0e,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function g0t(e){var t=e+"";return t.replace(X9,function(r){return Y9[r]}).replace(R0e,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function x0t(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function v0t(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function QP(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function gZ(e){var t=Rx(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function xZ(e){return rp(e,"binary").toString("utf8")}var OS="foo bar baz",U_=cs&&(xZ(OS)==QP(OS)&&xZ||gZ(OS)==QP(OS)&&gZ)||QP,Am=cs?function(e){return rp(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},y0t=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),M0e=/(^\s|\s$|\n)/;function Hc(e,t){return"<"+e+(t.match(M0e)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function _5(e){return Zc(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function qr(e,t,r){return"<"+e+(r!=null?_5(r):"")+(t!=null?(t.match(M0e)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function uR(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function b0t(e,t){switch(typeof e){case"string":var r=qr("vt:lpwstr",bs(e));return t&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return qr((e|0)==e?"vt:i4":"vt:r8",bs(String(e)));case"boolean":return qr("vt:bool",e?"true":"false")}if(e instanceof Date)return qr("vt:filetime",uR(e));throw new Error("Unable to serialize "+e)}var vc={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Bb=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],qd={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function w0t(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function _0t(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var vZ=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},yZ=cs?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:rp(t)})):vZ(e)}:vZ,bZ=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(c_(e,a)));return n.join("").replace(B_,"")},Z9=cs?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(B_,""):bZ(e,t,r)}:bZ,wZ=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},L0e=cs?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):wZ(e,t,r)}:wZ,_Z=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(t2(e,a)));return n.join("")},S3=cs?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):_Z(t,r,n)}:_Z,B0e=function(e,t){var r=Gd(e,t);return r>0?S3(e,t+4,t+4+r-1):""},U0e=B0e,$0e=function(e,t){var r=Gd(e,t);return r>0?S3(e,t+4,t+4+r-1):""},z0e=$0e,V0e=function(e,t){var r=2*Gd(e,t);return r>0?S3(e,t+4,t+4+r-1):""},W0e=V0e,H0e=function(t,r){var n=Gd(t,r);return n>0?Z9(t,r+4,r+4+n):""},q0e=H0e,G0e=function(e,t){var r=Gd(e,t);return r>0?S3(e,t+4,t+4+r):""},K0e=G0e,Y0e=function(e,t){return w0t(e,t)},$E=Y0e,J9=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};cs&&(U0e=function(t,r){if(!Buffer.isBuffer(t))return B0e(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},z0e=function(t,r){if(!Buffer.isBuffer(t))return $0e(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},W0e=function(t,r){if(!Buffer.isBuffer(t))return V0e(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},q0e=function(t,r){if(!Buffer.isBuffer(t))return H0e(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},K0e=function(t,r){if(!Buffer.isBuffer(t))return G0e(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},$E=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Y0e(t,r)},J9=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var t2=function(e,t){return e[t]},c_=function(e,t){return e[t+1]*256+e[t]},N0t=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Gd=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},$g=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},S0t=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function $_(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,cs&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(c_(this,u)),u+=2;e*=2;break;case"utf8":r=S3(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Z9(this,this.l,this.l+e);break;case"wstr":return $_.call(this,e,"dbcs");case"lpstr-ansi":r=U0e(this,this.l),e=4+Gd(this,this.l);break;case"lpstr-cp":r=z0e(this,this.l),e=4+Gd(this,this.l);break;case"lpwstr":r=W0e(this,this.l),e=4+2*Gd(this,this.l);break;case"lpp4":e=4+Gd(this,this.l),r=q0e(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Gd(this,this.l),r=K0e(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=t2(this,this.l+e++))!==0;)i.push(TS(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=c_(this,this.l+e))!==0;)i.push(TS(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=t2(this,u),this.l=u+1,l=$_.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(TS(c_(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=t2(this,u),this.l=u+1,l=$_.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(TS(t2(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=t2(this,this.l),this.l++,n;case 2:return n=(t==="i"?N0t:c_)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?$g:S0t)(this,this.l),this.l+=4,n):(a=Gd(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=$E(this,this.l):a=$E([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=L0e(this,this.l,e);break}}return this.l+=e,r}var C0t=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},A0t=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},E0t=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function j0t(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)E0t(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,C0t(this,t,this.l);break;case 8:if(n=8,r==="f"){_0t(this,t,this.l);break}case 16:break;case-4:n=4,A0t(this,t,this.l);break}return this.l+=n,this}function X0e(e,t){var r=L0e(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Wd(e,t){e.l=t,e.read_shift=$_,e.chk=X0e,e.write_shift=j0t}function $0(e,t){e.l+=t}function nr(e){var t=Rx(e);return Wd(t,0),t}function Sd(){var e=[],t=cs?256:2048,r=function(u){var f=nr(u);return Wd(f,0),f},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),Wc(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function vr(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=wvt[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&J9(r)&&e.push(r)}}function z_(e,t,r){var n=jd(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function NZ(e,t,r){var n=jd(e);return n.s=z_(n.s,t.s,r),n.e=z_(n.e,t.s,r),n}function V_(e,t){if(e.cRel&&e.c<0)for(e=jd(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=jd(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=_s(e);return!e.cRel&&e.cRel!=null&&(r=P0t(r)),!e.rRel&&e.rRel!=null&&(r=T0t(r)),r}function eO(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+vu(e.s.c)+":"+(e.e.cRel?"":"$")+vu(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Yc(e.s.r)+":"+(e.e.rRel?"":"$")+Yc(e.e.r):V_(e.s,t.biff)+":"+V_(e.e,t.biff)}function Q9(e){return parseInt(k0t(e),10)-1}function Yc(e){return""+(e+1)}function T0t(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function k0t(e){return e.replace(/\$(\d+)$/,"$1")}function eB(e){for(var t=O0t(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function vu(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function P0t(e){return e.replace(/^([A-Z])/,"$$$1")}function O0t(e){return e.replace(/^\$([A-Z])/,"$1")}function I0t(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function yc(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function _s(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ff(e){var t=e.indexOf(":");return t==-1?{s:yc(e),e:yc(e)}:{s:yc(e.slice(0,t)),e:yc(e.slice(t+1))}}function Ol(e,t){return typeof t>"u"||typeof t=="number"?Ol(e.s,e.e):(typeof e!="string"&&(e=_s(e)),typeof t!="string"&&(t=_s(t)),e==t?e:e+":"+t)}function lo(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function SZ(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=P1(e.z,r?Ed(t):t)}catch{}try{return e.w=P1((e.XF||{}).numFmtId||(r?14:0),r?Ed(t):t)}catch{return""+t}}function Gm(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?C3[e.v]||e.v:t==null?SZ(e,e.v):SZ(e,t))}function iv(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Z0e(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?yc(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=lo(i["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(u.e.r=o=f.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[h].length;++g)if(!(typeof t[h][g]>"u")){var p={v:t[h][g]},N=o+h,b=l+g;if(u.s.r>N&&(u.s.r=N),u.s.c>b&&(u.s.c=b),u.e.r<N&&(u.e.r=N),u.e.c<b&&(u.e.c=b),t[h][g]&&typeof t[h][g]=="object"&&!Array.isArray(t[h][g])&&!(t[h][g]instanceof Date))p=t[h][g];else if(Array.isArray(p.v)&&(p.f=t[h][g][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Xo[14],n.cellDates?(p.t="d",p.w=P1(p.z,Ed(p.v))):(p.t="n",p.v=Ed(p.v),p.w=P1(p.z,p.v))):p.t="s";if(a)i[N]||(i[N]=[]),i[N][b]&&i[N][b].z&&(p.z=i[N][b].z),i[N][b]=p;else{var S=_s({c:b,r:N});i[S]&&i[S].z&&(p.z=i[S].z),i[S]=p}}}return u.s.c<1e7&&(i["!ref"]=Ol(u)),i}function Ub(e,t){return Z0e(null,e,t)}function F0t(e){return e.read_shift(4,"i")}function Dh(e,t){return t||(t=nr(4)),t.write_shift(4,e),t}function yu(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function bc(e,t){var r=!1;return t==null&&(r=!0,t=nr(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function D0t(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function R0t(e,t){return t||(t=nr(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0),t}function tB(e,t){var r=e.l,n=e.read_shift(1),a=yu(e),i=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(D0t(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function M0t(e,t){var r=!1;return t==null&&(r=!0,t=nr(15+4*e.t.length)),t.write_shift(1,0),bc(e.t,t),r?t.slice(0,t.l):t}var L0t=tB;function B0t(e,t){var r=!1;return t==null&&(r=!0,t=nr(23+4*e.t.length)),t.write_shift(1,1),bc(e.t,t),t.write_shift(4,1),R0t({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Qf(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function sv(e,t){return t==null&&(t=nr(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function ov(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function lv(e,t){return t==null&&(t=nr(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var U0t=yu,J0e=bc;function rB(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function zE(e,t){var r=!1;return t==null&&(r=!0,t=nr(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var $0t=yu,dR=rB,nB=zE;function Q0e(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?$E([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):$g(t,0)>>2;return r?a/100:a}function eme(e,t){t==null&&(t=nr(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function tme(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function z0t(e,t){return t||(t=nr(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var cv=tme,$b=z0t;function zb(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Mx(e,t){return(t||nr(8)).write_shift(8,e,"f")}function V0t(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=J0t[a];u&&(t.rgb=DZ(u));break;case 2:t.rgb=DZ([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function VE(e,t){if(t||(t=nr(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function W0t(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function H0t(e,t){t||(t=nr(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var rme=2,$d=3,IS=11,WE=19,FS=64,q0t=65,G0t=71,K0t=4108,Y0t=4126,Uc=80,CZ={1:{n:"CodePage",t:rme},2:{n:"Category",t:Uc},3:{n:"PresentationFormat",t:Uc},4:{n:"ByteCount",t:$d},5:{n:"LineCount",t:$d},6:{n:"ParagraphCount",t:$d},7:{n:"SlideCount",t:$d},8:{n:"NoteCount",t:$d},9:{n:"HiddenCount",t:$d},10:{n:"MultimediaClipCount",t:$d},11:{n:"ScaleCrop",t:IS},12:{n:"HeadingPairs",t:K0t},13:{n:"TitlesOfParts",t:Y0t},14:{n:"Manager",t:Uc},15:{n:"Company",t:Uc},16:{n:"LinksUpToDate",t:IS},17:{n:"CharacterCount",t:$d},19:{n:"SharedDoc",t:IS},22:{n:"HyperlinksChanged",t:IS},23:{n:"AppVersion",t:$d,p:"version"},24:{n:"DigSig",t:q0t},26:{n:"ContentType",t:Uc},27:{n:"ContentStatus",t:Uc},28:{n:"Language",t:Uc},29:{n:"Version",t:Uc},255:{},2147483648:{n:"Locale",t:WE},2147483651:{n:"Behavior",t:WE},1919054434:{}},AZ={1:{n:"CodePage",t:rme},2:{n:"Title",t:Uc},3:{n:"Subject",t:Uc},4:{n:"Author",t:Uc},5:{n:"Keywords",t:Uc},6:{n:"Comments",t:Uc},7:{n:"Template",t:Uc},8:{n:"LastAuthor",t:Uc},9:{n:"RevNumber",t:Uc},10:{n:"EditTime",t:FS},11:{n:"LastPrinted",t:FS},12:{n:"CreatedDate",t:FS},13:{n:"ModifiedDate",t:FS},14:{n:"PageCount",t:$d},15:{n:"WordCount",t:$d},16:{n:"CharCount",t:$d},17:{n:"Thumbnail",t:G0t},18:{n:"Application",t:Uc},19:{n:"DocSecurity",t:$d},255:{},2147483648:{n:"Locale",t:WE},2147483651:{n:"Behavior",t:WE},1919054434:{}};function X0t(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Z0t=X0t([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),J0t=jd(Z0t),C3={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Q0t={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},DS={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function nme(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function ame(e,t){var r=c0t(Q0t),n=[],a;n[n.length]=Fl,n[n.length]=qr("Types",null,{xmlns:vc.CT,"xmlns:xsd":vc.xsd,"xmlns:xsi":vc.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return qr("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=qr("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:DS[c][t.bookType]||DS[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=qr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:DS[c][t.bookType]||DS[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=qr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Ki={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ime(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ey(e){var t=[Fl,qr("Relationships",null,{xmlns:vc.RELS})];return Zc(e["!id"]).forEach(function(r){t[t.length]=qr("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ys(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,i?a.TargetMode=i:[Ki.HLINK,Ki.XPATH,Ki.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function emt(e){var t=[Fl];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function EZ(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function tmt(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function rmt(e){var t=[Fl];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(EZ(e[r][0],e[r][1])),t.push(tmt("",e[r][0]));return t.push(EZ("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function sme(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+RE.version+"</meta:generator></office:meta></office:document-meta>"}var cx=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function tO(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=bs(t),n[n.length]=r?qr(e,t,r):Hc(e,t))}function ome(e,t){var r=t||{},n=[Fl,qr("cp:coreProperties",null,{"xmlns:cp":vc.CORE_PROPS,"xmlns:dc":vc.dc,"xmlns:dcterms":vc.dcterms,"xmlns:dcmitype":vc.dcmitype,"xmlns:xsi":vc.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&tO("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:uR(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&tO("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:uR(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=cx.length;++i){var o=cx[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&tO(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var ty=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],lme=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function cme(e){var t=[],r=qr;return e||(e={}),e.Application="SheetJS",t[t.length]=Fl,t[t.length]=qr("Properties",null,{xmlns:vc.EXT_PROPS,"xmlns:vt":vc.vt}),ty.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=bs(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+bs(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function ume(e){var t=[Fl,qr("Properties",null,{xmlns:vc.CUST_PROPS,"xmlns:vt":vc.vt})];if(!e)return t.join("");var r=1;return Zc(e).forEach(function(a){++r,t[t.length]=qr("property",b0t(e[a],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:bs(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var jZ={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function nmt(e,t){var r=[];return Zc(jZ).map(function(n){for(var a=0;a<cx.length;++a)if(cx[a][1]==n)return cx[a];for(a=0;a<ty.length;++a)if(ty[a][1]==n)return ty[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Hc(jZ[n[1]]||n[1],a))}}),qr("DocumentProperties",r.join(""),{xmlns:qd.o})}function amt(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Zc(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<cx.length;++o)if(i==cx[o][1])return;for(o=0;o<ty.length;++o)if(i==ty[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(qr(pZ(i),l,{"dt:dt":c}))}}),t&&Zc(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(qr(pZ(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+qd.o+'">'+a.join("")+"</"+n+">"}function imt(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=nr(8);return o.write_shift(4,n),o.write_shift(4,a),o}function TZ(e,t){var r=nr(4),n=nr(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=nr(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=imt(t);break;case 31:case 80:for(n=nr(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Wc([r,n])}var dme=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function smt(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function kZ(e,t,r){var n=nr(8),a=[],i=[],o=8,l=0,c=nr(8),u=nr(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!t){u=nr(8),u.write_shift(4,0),a.unshift(u);var f=[nr(4)];for(f[0].write_shift(4,e.length),l=0;l<e.length;++l){var h=e[l][0];for(c=nr(4+4+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);f.push(c)}c=Wc(f),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(dme.indexOf(e[l][0])>-1||lme.indexOf(e[l][0])>-1)&&e[l][1]!=null){var g=e[l][1],p=0;if(t){p=+t[e[l][0]];var N=r[p];if(N.p=="version"&&typeof g=="string"){var b=g.split(".");g=(+b[0]<<16)+(+b[1]||0)}c=TZ(N.t,g)}else{var S=smt(g);S==-1&&(S=31,g=String(g)),c=TZ(S,g)}i.push(c),u=nr(8),u.write_shift(4,t?p:2+l),a.push(u),o+=8+c.length}var C=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,C),C+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),Wc([n].concat(a).concat(i))}function PZ(e,t,r,n,a,i){var o=nr(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Es.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=kZ(e,r,n);if(l.push(c),a){var u=kZ(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return Wc(l)}function omt(e,t){t||(t=nr(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function lmt(e,t){return e.read_shift(t)===1}function Uu(e,t){return t||(t=nr(2)),t.write_shift(2,+!!e),t}function fme(e){return e.read_shift(2,"u")}function Of(e,t){return t||(t=nr(2)),t.write_shift(2,e),t}function hme(e,t,r){return r||(r=nr(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function mme(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function cmt(e){var t=e.t||"",r=nr(3+0);r.write_shift(2,t.length),r.write_shift(1,1);var n=nr(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Wc(a)}function umt(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function dmt(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):umt(e,n,r)}function fmt(e,t,r){if(r.biff>5)return dmt(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function pme(e,t,r){return r||(r=nr(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function OZ(e,t){t||(t=nr(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function hmt(e){var t=nr(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),OZ(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&OZ(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Lx(e,t,r,n){return n||(n=nr(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function mmt(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function pmt(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function gme(e,t){return t||(t=nr(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function aB(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=nr(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function gmt(e,t){var r=!t||t.biff==8,n=nr(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function xmt(e,t){var r=!t||t.biff>=8?2:1,n=nr(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function vmt(e,t){var r=nr(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=cmt(e[a]);var i=Wc([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function ymt(){var e=nr(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function bmt(e){var t=nr(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function wmt(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=nr(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function _mt(e,t,r,n){var a=nr(10);return Lx(e,t,n,a),a.write_shift(4,r),a}function Nmt(e,t,r,n,a){var i=!a||a.biff==8,o=nr(6+2+ +i+(1+i)*r.length);return Lx(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function Smt(e,t,r,n){var a=r&&r.biff==5;n||(n=nr(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function Cmt(e,t){var r=t.biff==8||!t.biff?4:2,n=nr(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function IZ(e,t,r,n){var a=r&&r.biff==5;n||(n=nr(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Amt(e){var t=nr(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}function Emt(e,t,r,n,a,i){var o=nr(8);return Lx(e,t,n,o),hme(r,i,o),o}function jmt(e,t,r,n){var a=nr(14);return Lx(e,t,n,a),Mx(r,a),a}function Tmt(e,t,r){if(r.biff<8)return kmt(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(mmt(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function kmt(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=mme(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Pmt(e){var t=nr(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)gme(e[r],t);return t}function Omt(e){var t=nr(24),r=yc(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Wc([t,hmt(e[1])])}function Imt(e){var t=e[1].Tooltip,r=nr(10+2*(t.length+1));r.write_shift(2,2048);var n=yc(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function Fmt(e){return e||(e=nr(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Dmt(e,t,r){if(!r.cellStyles)return $0(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Rmt(e,t){var r=nr(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Mmt(e){for(var t=nr(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Lmt(e,t,r){var n=nr(15);return E3(n,e,t),n.write_shift(8,r,"f"),n}function Bmt(e,t,r){var n=nr(9);return E3(n,e,t),n.write_shift(2,r),n}var Umt=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=G9({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],f=Rx(1);switch(c.type){case"base64":f=Ah(qm(l));break;case"binary":f=Ah(l);break;case"buffer":case"array":f=l;break}Wd(f,0);var h=f.read_shift(1),g=!!(h&136),p=!1,N=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,g=!0;break;case 49:p=!0,g=!0;break;case 131:break;case 139:break;case 140:N=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var b=0,S=521;h==2&&(b=f.read_shift(2)),f.l+=3,h!=2&&(b=f.read_shift(4)),b>1048576&&(b=1e6),h!=2&&(S=f.read_shift(2));var C=f.read_shift(2),j=c.codepage||1252;h!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(j=e[f[f.l]]),f.l+=1,f.l+=2),N&&(f.l+=36);for(var T=[],O={},M=Math.min(f.length,h==2?521:S-10-(p?264:0)),B=N?32:11;f.l<M&&f[f.l]!=13;)switch(O={},O.name=Ug.utils.decode(j,f.slice(f.l,f.l+B)).replace(/[\u0000\r\n].*$/g,""),f.l+=B,O.type=String.fromCharCode(f.read_shift(1)),h!=2&&!N&&(O.offset=f.read_shift(4)),O.len=f.read_shift(1),h==2&&(O.offset=f.read_shift(2)),O.dec=f.read_shift(1),O.name.length&&T.push(O),h!=2&&(f.l+=N?13:14),O.type){case"B":(!p||O.len!=8)&&c.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(f[f.l]!==13&&(f.l=S-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=S;var L=0,H=0;for(u[0]=[],H=0;H!=T.length;++H)u[0][H]=T[H].name;for(;b-- >0;){if(f[f.l]===42){f.l+=C;continue}for(++f.l,u[++L]=[],H=0,H=0;H!=T.length;++H){var U=f.slice(f.l,f.l+T[H].len);f.l+=T[H].len,Wd(U,0);var J=Ug.utils.decode(j,U);switch(T[H].type){case"C":J.trim().length&&(u[L][H]=J.replace(/\s+$/,""));break;case"D":J.length===8?u[L][H]=new Date(+J.slice(0,4),+J.slice(4,6)-1,+J.slice(6,8)):u[L][H]=J;break;case"F":u[L][H]=parseFloat(J.trim());break;case"+":case"I":u[L][H]=N?U.read_shift(-4,"i")^2147483648:U.read_shift(4,"i");break;case"L":switch(J.trim().toUpperCase()){case"Y":case"T":u[L][H]=!0;break;case"N":case"F":u[L][H]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+J+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[L][H]="##MEMO##"+(N?parseInt(J.trim(),10):U.read_shift(4));break;case"N":J=J.replace(/\u0000/g,"").trim(),J&&J!="."&&(u[L][H]=+J||0);break;case"@":u[L][H]=new Date(U.read_shift(-8,"f")-621356832e5);break;case"T":u[L][H]=new Date((U.read_shift(4)-2440588)*864e5+U.read_shift(4));break;case"Y":u[L][H]=U.read_shift(4,"i")/1e4+U.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[L][H]=-U.read_shift(-8,"f");break;case"B":if(p&&T[H].len==8){u[L][H]=U.read_shift(8,"f");break}case"G":case"P":U.l+=T[H].len;break;case"0":if(T[H].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[H].type)}}}if(h!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=T,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var f=Ub(r(l,u),u);return f["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,f}function a(l,c){try{return iv(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&y5(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=Sd(),h=YE(l,{header:1,raw:!0,cellDates:!0}),g=h[0],p=h.slice(1),N=l["!cols"]||[],b=0,S=0,C=0,j=1;for(b=0;b<g.length;++b){if(((N[b]||{}).DBF||{}).name){g[b]=N[b].DBF.name,++C;continue}if(g[b]!=null){if(++C,typeof g[b]=="number"&&(g[b]=g[b].toString(10)),typeof g[b]!="string")throw new Error("DBF Invalid column name "+g[b]+" |"+typeof g[b]+"|");if(g.indexOf(g[b])!==b){for(S=0;S<1024;++S)if(g.indexOf(g[b]+"_"+S)==-1){g[b]+="_"+S;break}}}}var T=lo(l["!ref"]),O=[],M=[],B=[];for(b=0;b<=T.e.c-T.s.c;++b){var L="",H="",U=0,J=[];for(S=0;S<p.length;++S)p[S][b]!=null&&J.push(p[S][b]);if(J.length==0||g[b]==null){O[b]="?";continue}for(S=0;S<J.length;++S){switch(typeof J[S]){case"number":H="B";break;case"string":H="C";break;case"boolean":H="L";break;case"object":H=J[S]instanceof Date?"D":"C";break;default:H="C"}U=Math.max(U,String(J[S]).length),L=L&&L!=H?"C":H}U>250&&(U=250),H=((N[b]||{}).DBF||{}).type,H=="C"&&N[b].DBF.len>U&&(U=N[b].DBF.len),L=="B"&&H=="N"&&(L="N",B[b]=N[b].DBF.dec,U=N[b].DBF.len),M[b]=L=="C"||H=="N"?U:i[L]||0,j+=M[b],O[b]=L}var K=f.next(32);for(K.write_shift(4,318902576),K.write_shift(4,p.length),K.write_shift(2,296+32*C),K.write_shift(2,j),b=0;b<4;++b)K.write_shift(4,0);for(K.write_shift(4,0|(+t[v0e]||3)<<8),b=0,S=0;b<g.length;++b)if(g[b]!=null){var G=f.next(32),re=(g[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);G.write_shift(1,re,"sbcs"),G.write_shift(1,O[b]=="?"?"C":O[b],"sbcs"),G.write_shift(4,S),G.write_shift(1,M[b]||i[O[b]]||0),G.write_shift(1,B[b]||0),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(1,0),G.write_shift(4,0),G.write_shift(4,0),S+=M[b]||i[O[b]]||0}var ae=f.next(264);for(ae.write_shift(4,13),b=0;b<65;++b)ae.write_shift(4,0);for(b=0;b<p.length;++b){var X=f.next(j);for(X.write_shift(1,0),S=0;S<g.length;++S)if(g[S]!=null)switch(O[S]){case"L":X.write_shift(1,p[b][S]==null?63:p[b][S]?84:70);break;case"B":X.write_shift(8,p[b][S]||0,"f");break;case"N":var ne="0";for(typeof p[b][S]=="number"&&(ne=p[b][S].toFixed(B[S]||0)),C=0;C<M[S]-ne.length;++C)X.write_shift(1,32);X.write_shift(1,ne,"sbcs");break;case"D":p[b][S]?(X.write_shift(4,("0000"+p[b][S].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(p[b][S].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+p[b][S].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var de=String(p[b][S]!=null?p[b][S]:"").slice(0,M[S]);for(X.write_shift(1,de,"sbcs"),C=0;C<M[S]-de.length;++C)X.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),$mt=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Zc(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,p){var N=e[p];return typeof N=="number"?nZ(N):N},n=function(g,p,N){var b=p.charCodeAt(0)-32<<4|N.charCodeAt(0)-48;return b==59?g:nZ(b)};e["|"]=254;function a(g,p){switch(p.type){case"base64":return i(qm(g),p);case"binary":return i(g,p);case"buffer":return i(cs&&Buffer.isBuffer(g)?g.toString("binary"):_3(g),p);case"array":return i(RT(g),p)}throw new Error("Unrecognized type "+p.type)}function i(g,p){var N=g.split(/[\n\r]+/),b=-1,S=-1,C=0,j=0,T=[],O=[],M=null,B={},L=[],H=[],U=[],J=0,K;for(+p.codepage>=0&&y5(+p.codepage);C!==N.length;++C){J=0;var G=N[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),re=G.replace(/;;/g,"\0").split(";").map(function(te){return te.replace(/\u0000/g,";")}),ae=re[0],X;if(G.length>0)switch(ae){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":re[1].charAt(0)=="P"&&O.push(G.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,de=!1,le=!1,xe=!1,Se=-1,ye=-1;for(j=1;j<re.length;++j)switch(re[j].charAt(0)){case"A":break;case"X":S=parseInt(re[j].slice(1))-1,de=!0;break;case"Y":for(b=parseInt(re[j].slice(1))-1,de||(S=0),K=T.length;K<=b;++K)T[K]=[];break;case"K":X=re[j].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(Fm(X))?isNaN(w5(X).getDate())||(X=Yu(X)):(X=Fm(X),M!==null&&k0e(M)&&(X=F0e(X))),ne=!0;break;case"E":xe=!0;var ee=Bpt(re[j].slice(1),{r:b,c:S});T[b][S]=[T[b][S],ee];break;case"S":le=!0,T[b][S]=[T[b][S],"S5S"];break;case"G":break;case"R":Se=parseInt(re[j].slice(1))-1;break;case"C":ye=parseInt(re[j].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+G)}if(ne&&(T[b][S]&&T[b][S].length==2?T[b][S][0]=X:T[b][S]=X,M=null),le){if(xe)throw new Error("SYLK shared formula cannot have own formula");var he=Se>-1&&T[Se][ye];if(!he||!he[1])throw new Error("SYLK shared formula cannot find base");T[b][S][1]=Upt(he[1],{r:b-Se,c:S-ye})}break;case"F":var se=0;for(j=1;j<re.length;++j)switch(re[j].charAt(0)){case"X":S=parseInt(re[j].slice(1))-1,++se;break;case"Y":for(b=parseInt(re[j].slice(1))-1,K=T.length;K<=b;++K)T[K]=[];break;case"M":J=parseInt(re[j].slice(1))/20;break;case"F":break;case"G":break;case"P":M=O[parseInt(re[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(U=re[j].slice(1).split(" "),K=parseInt(U[0],10);K<=parseInt(U[1],10);++K)J=parseInt(U[2],10),H[K-1]=J===0?{hidden:!0}:{wch:J},iB(H[K-1]);break;case"C":S=parseInt(re[j].slice(1))-1,H[S]||(H[S]={});break;case"R":b=parseInt(re[j].slice(1))-1,L[b]||(L[b]={}),J>0?(L[b].hpt=J,L[b].hpx=wme(J)):J===0&&(L[b].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+G)}se<1&&(M=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+G)}}return L.length>0&&(B["!rows"]=L),H.length>0&&(B["!cols"]=H),p&&p.sheetRows&&(T=T.slice(0,p.sheetRows)),[T,B]}function o(g,p){var N=a(g,p),b=N[0],S=N[1],C=Ub(b,p);return Zc(S).forEach(function(j){C[j]=S[j]}),C}function l(g,p){return iv(o(g,p),p)}function c(g,p,N,b){var S="C;Y"+(N+1)+";X"+(b+1)+";K";switch(g.t){case"n":S+=g.v||0,g.f&&!g.F&&(S+=";E"+oB(g.f,{r:N,c:b}));break;case"b":S+=g.v?"TRUE":"FALSE";break;case"e":S+=g.w||g.v;break;case"d":S+='"'+(g.w||g.v)+'"';break;case"s":S+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function u(g,p){p.forEach(function(N,b){var S="F;W"+(b+1)+" "+(b+1)+" ";N.hidden?S+="0":(typeof N.width=="number"&&!N.wpx&&(N.wpx=HE(N.width)),typeof N.wpx=="number"&&!N.wch&&(N.wch=qE(N.wpx)),typeof N.wch=="number"&&(S+=Math.round(N.wch))),S.charAt(S.length-1)!=" "&&g.push(S)})}function f(g,p){p.forEach(function(N,b){var S="F;";N.hidden?S+="M0;":N.hpt?S+="M"+20*N.hpt+";":N.hpx&&(S+="M"+20*GE(N.hpx)+";"),S.length>2&&g.push(S+"R"+(b+1))})}function h(g,p){var N=["ID;PWXL;N;E"],b=[],S=lo(g["!ref"]),C,j=Array.isArray(g),T=`\r
`;N.push("P;PGeneral"),N.push("F;P0;DG0G8;M255"),g["!cols"]&&u(N,g["!cols"]),g["!rows"]&&f(N,g["!rows"]),N.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var O=S.s.r;O<=S.e.r;++O)for(var M=S.s.c;M<=S.e.c;++M){var B=_s({r:O,c:M});C=j?(g[O]||[])[M]:g[B],!(!C||C.v==null&&(!C.f||C.F))&&b.push(c(C,g,O,M))}return N.join(T)+T+b.join(T)+T+"E"+T}return{to_workbook:l,to_sheet:o,from_sheet:h}}(),zmt=function(){function e(i,o){switch(o.type){case"base64":return t(qm(i),o);case"binary":return t(i,o);case"buffer":return t(cs&&Buffer.isBuffer(i)?i.toString("binary"):_3(i),o);case"array":return t(RT(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,f=0,h=[];f!==l.length;++f){if(l[f].trim()==="BOT"){h[++c]=[],u=0;continue}if(!(c<0)){var g=l[f].trim().split(","),p=g[0],N=g[1];++f;for(var b=l[f]||"";(b.match(/["]/g)||[]).length&1&&f<l.length-1;)b+=`
`+l[++f];switch(b=b.trim(),+p){case-1:if(b==="BOT"){h[++c]=[],u=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?h[c][u]=!0:b==="FALSE"?h[c][u]=!1:isNaN(Fm(N))?isNaN(w5(N).getDate())?h[c][u]=N:h[c][u]=Yu(N):h[c][u]=Fm(N),++u;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),h[c][u++]=b!==""?b:null;break}if(b==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function r(i,o){return Ub(e(i,o),o)}function n(i,o){return iv(r(i,o),o)}var a=function(){var i=function(c,u,f,h,g){c.push(u),c.push(f+","+h),c.push('"'+g.replace(/"/g,'""')+'"')},o=function(c,u,f,h){c.push(u+","+f),c.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var u=[],f=lo(c["!ref"]),h,g=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,f.e.r-f.s.r+1,""),i(u,"TUPLES",0,f.e.c-f.s.c+1,""),i(u,"DATA",0,0,"");for(var p=f.s.r;p<=f.e.r;++p){o(u,-1,0,"BOT");for(var N=f.s.c;N<=f.e.c;++N){var b=_s({r:p,c:N});if(h=g?(c[p]||[])[N]:c[b],!h){o(u,1,0,"");continue}switch(h.t){case"n":var S=h.w;!S&&h.v!=null&&(S=h.v),S==null?h.f&&!h.F?o(u,1,0,"="+h.f):o(u,1,0,""):o(u,0,S,"V");break;case"b":o(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=P1(h.z||Xo[14],Ed(Yu(h.v)))),o(u,0,h.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var C=`\r
`,j=u.join(C);return j}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),xme=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,g){for(var p=h.split(`
`),N=-1,b=-1,S=0,C=[];S!==p.length;++S){var j=p[S].trim().split(":");if(j[0]==="cell"){var T=yc(j[1]);if(C.length<=T.r)for(N=C.length;N<=T.r;++N)C[N]||(C[N]=[]);switch(N=T.r,b=T.c,j[2]){case"t":C[N][b]=e(j[3]);break;case"v":C[N][b]=+j[3];break;case"vtf":var O=j[j.length-1];case"vtc":switch(j[3]){case"nl":C[N][b]=!!+j[4];break;default:C[N][b]=+j[4];break}j[2]=="vtf"&&(C[N][b]=[C[N][b],O])}}}return g&&g.sheetRows&&(C=C.slice(0,g.sheetRows)),C}function n(h,g){return Ub(r(h,g),g)}function a(h,g){return iv(n(h,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var g=[],p=[],N,b="",S=ff(h["!ref"]),C=Array.isArray(h),j=S.s.r;j<=S.e.r;++j)for(var T=S.s.c;T<=S.e.c;++T)if(b=_s({r:j,c:T}),N=C?(h[j]||[])[T]:h[b],!(!N||N.v==null||N.t==="z")){switch(p=["cell",b,"t"],N.t){case"s":case"str":p.push(t(N.v));break;case"n":N.f?(p[2]="vtf",p[3]="n",p[4]=N.v,p[5]=t(N.f)):(p[2]="v",p[3]=N.v);break;case"b":p[2]="vt"+(N.f?"f":"c"),p[3]="nl",p[4]=N.v?"1":"0",p[5]=t(N.f||(N.v?"TRUE":"FALSE"));break;case"d":var O=Ed(Yu(N.v));p[2]="vtc",p[3]="nd",p[4]=""+O,p[5]=N.w||P1(N.z||Xo[14],O);break;case"e":continue}g.push(p.join(":"))}return g.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function f(h){return[i,o,l,o,u(h),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:f}}(),Vmt=function(){function e(f,h,g,p,N){N.raw?h[g][p]=f:f===""||(f==="TRUE"?h[g][p]=!0:f==="FALSE"?h[g][p]=!1:isNaN(Fm(f))?isNaN(w5(f).getDate())?h[g][p]=f:h[g][p]=Yu(f):h[g][p]=Fm(f))}function t(f,h){var g=h||{},p=[];if(!f||f.length===0)return p;for(var N=f.split(/[\r\n]/),b=N.length-1;b>=0&&N[b].length===0;)--b;for(var S=10,C=0,j=0;j<=b;++j)C=N[j].indexOf(" "),C==-1?C=N[j].length:C++,S=Math.max(S,C);for(j=0;j<=b;++j){p[j]=[];var T=0;for(e(N[j].slice(0,S).trim(),p,j,T,g),T=1;T<=(N[j].length-S)/10+1;++T)e(N[j].slice(S+(T-1)*10,S+T*10).trim(),p,j,T,g)}return g.sheetRows&&(p=p.slice(0,g.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(f){for(var h={},g=!1,p=0,N=0;p<f.length;++p)(N=f.charCodeAt(p))==34?g=!g:!g&&N in r&&(h[N]=(h[N]||0)+1);N=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&N.push([h[p],p]);if(!N.length){h=n;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&N.push([h[p],p])}return N.sort(function(b,S){return b[0]-S[0]||n[b[1]]-n[S[1]]}),r[N.pop()[1]]||44}function i(f,h){var g=h||{},p="",N=g.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(p=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(p=f.charAt(4),f=f.slice(6)):p=a(f.slice(0,1024)):g&&g.FS?p=g.FS:p=a(f.slice(0,1024));var S=0,C=0,j=0,T=0,O=0,M=p.charCodeAt(0),B=!1,L=0,H=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var U=g.dateNF!=null?i0t(g.dateNF):null;function J(){var K=f.slice(T,O),G={};if(K.charAt(0)=='"'&&K.charAt(K.length-1)=='"'&&(K=K.slice(1,-1).replace(/""/g,'"')),K.length===0)G.t="z";else if(g.raw)G.t="s",G.v=K;else if(K.trim().length===0)G.t="s",G.v=K;else if(K.charCodeAt(0)==61)K.charCodeAt(1)==34&&K.charCodeAt(K.length-1)==34?(G.t="s",G.v=K.slice(2,-1).replace(/""/g,'"')):$pt(K)?(G.t="n",G.f=K.slice(1)):(G.t="s",G.v=K);else if(K=="TRUE")G.t="b",G.v=!0;else if(K=="FALSE")G.t="b",G.v=!1;else if(!isNaN(j=Fm(K)))G.t="n",g.cellText!==!1&&(G.w=K),G.v=j;else if(!isNaN(w5(K).getDate())||U&&K.match(U)){G.z=g.dateNF||Xo[14];var re=0;U&&K.match(U)&&(K=s0t(K,g.dateNF,K.match(U)||[]),re=1),g.cellDates?(G.t="d",G.v=Yu(K,re)):(G.t="n",G.v=Ed(Yu(K,re))),g.cellText!==!1&&(G.w=P1(G.z,G.v instanceof Date?Ed(G.v):G.v)),g.cellNF||delete G.z}else G.t="s",G.v=K;if(G.t=="z"||(g.dense?(N[S]||(N[S]=[]),N[S][C]=G):N[_s({c:C,r:S})]=G),T=O+1,H=f.charCodeAt(T),b.e.c<C&&(b.e.c=C),b.e.r<S&&(b.e.r=S),L==M)++C;else if(C=0,++S,g.sheetRows&&g.sheetRows<=S)return!0}e:for(;O<f.length;++O)switch(L=f.charCodeAt(O)){case 34:H===34&&(B=!B);break;case M:case 10:case 13:if(!B&&J())break e;break}return O-T>0&&J(),N["!ref"]=Ol(b),N}function o(f,h){return!(h&&h.PRN)||h.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,h):Ub(t(f,h),h)}function l(f,h){var g="",p=h.type=="string"?[0,0,0,0]:t2t(f,h);switch(h.type){case"base64":g=qm(f);break;case"binary":g=f;break;case"buffer":h.codepage==65001?g=f.toString("utf8"):h.codepage&&typeof Ug<"u"?g=Ug.utils.decode(h.codepage,f):g=cs&&Buffer.isBuffer(f)?f.toString("binary"):_3(f);break;case"array":g=RT(f);break;case"string":g=f;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?g=U_(g.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?g=U_(g):h.type=="binary"&&typeof Ug<"u"&&h.codepage&&(g=Ug.utils.decode(h.codepage,Ug.utils.encode(28591,g))),g.slice(0,19)=="socialcalc:version:"?xme.to_sheet(h.type=="string"?g:U_(g),h):o(g,h)}function c(f,h){return iv(l(f,h),h)}function u(f){for(var h=[],g=lo(f["!ref"]),p,N=Array.isArray(f),b=g.s.r;b<=g.e.r;++b){for(var S=[],C=g.s.c;C<=g.e.c;++C){var j=_s({r:b,c:C});if(p=N?(f[b]||[])[C]:f[j],!p||p.v==null){S.push("          ");continue}for(var T=(p.w||(Gm(p),p.w)||"").slice(0,10);T.length<10;)T+=" ";S.push(T+(C===0?" ":""))}h.push(S.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),FZ=function(){function e(ee,he,se){if(ee){Wd(ee,ee.l||0);for(var te=se.Enum||Se;ee.l<ee.length;){var ge=ee.read_shift(2),ue=te[ge]||te[65535],Ce=ee.read_shift(2),Ne=ee.l+Ce,Ee=ue.f&&ue.f(ee,Ce,se);if(ee.l=Ne,he(Ee,ue,ge))return}}}function t(ee,he){switch(he.type){case"base64":return r(Ah(qm(ee)),he);case"binary":return r(Ah(ee),he);case"buffer":case"array":return r(ee,he)}throw"Unsupported type "+he.type}function r(ee,he){if(!ee)return ee;var se=he||{},te=se.dense?[]:{},ge="Sheet1",ue="",Ce=0,Ne={},Ee=[],Ge=[],Be={s:{r:0,c:0},e:{r:0,c:0}},st=se.sheetRows||0;if(ee[2]==0&&(ee[3]==8||ee[3]==9)&&ee.length>=16&&ee[14]==5&&ee[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(ee[2]==2)se.Enum=Se,e(ee,function(_t,ar,Tt){switch(Tt){case 0:se.vers=_t,_t>=4096&&(se.qpro=!0);break;case 6:Be=_t;break;case 204:_t&&(ue=_t);break;case 222:ue=_t;break;case 15:case 51:se.qpro||(_t[1].v=_t[1].v.slice(1));case 13:case 14:case 16:Tt==14&&(_t[2]&112)==112&&(_t[2]&15)>1&&(_t[2]&15)<15&&(_t[1].z=se.dateNF||Xo[14],se.cellDates&&(_t[1].t="d",_t[1].v=F0e(_t[1].v))),se.qpro&&_t[3]>Ce&&(te["!ref"]=Ol(Be),Ne[ge]=te,Ee.push(ge),te=se.dense?[]:{},Be={s:{r:0,c:0},e:{r:0,c:0}},Ce=_t[3],ge=ue||"Sheet"+(Ce+1),ue="");var sn=se.dense?(te[_t[0].r]||[])[_t[0].c]:te[_s(_t[0])];if(sn){sn.t=_t[1].t,sn.v=_t[1].v,_t[1].z!=null&&(sn.z=_t[1].z),_t[1].f!=null&&(sn.f=_t[1].f);break}se.dense?(te[_t[0].r]||(te[_t[0].r]=[]),te[_t[0].r][_t[0].c]=_t[1]):te[_s(_t[0])]=_t[1];break}},se);else if(ee[2]==26||ee[2]==14)se.Enum=ye,ee[2]==14&&(se.qpro=!0,ee.l=0),e(ee,function(_t,ar,Tt){switch(Tt){case 204:ge=_t;break;case 22:_t[1].v=_t[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(_t[3]>Ce&&(te["!ref"]=Ol(Be),Ne[ge]=te,Ee.push(ge),te=se.dense?[]:{},Be={s:{r:0,c:0},e:{r:0,c:0}},Ce=_t[3],ge="Sheet"+(Ce+1)),st>0&&_t[0].r>=st)break;se.dense?(te[_t[0].r]||(te[_t[0].r]=[]),te[_t[0].r][_t[0].c]=_t[1]):te[_s(_t[0])]=_t[1],Be.e.c<_t[0].c&&(Be.e.c=_t[0].c),Be.e.r<_t[0].r&&(Be.e.r=_t[0].r);break;case 27:_t[14e3]&&(Ge[_t[14e3][0]]=_t[14e3][1]);break;case 1537:Ge[_t[0]]=_t[1],_t[0]==Ce&&(ge=_t[1]);break}},se);else throw new Error("Unrecognized LOTUS BOF "+ee[2]);if(te["!ref"]=Ol(Be),Ne[ue||ge]=te,Ee.push(ue||ge),!Ge.length)return{SheetNames:Ee,Sheets:Ne};for(var lt={},Me=[],wt=0;wt<Ge.length;++wt)Ne[Ee[wt]]?(Me.push(Ge[wt]||Ee[wt]),lt[Ge[wt]]=Ne[Ge[wt]]||Ne[Ee[wt]]):(Me.push(Ge[wt]),lt[Ge[wt]]={"!ref":"A1"});return{SheetNames:Me,Sheets:lt}}function n(ee,he){var se=he||{};if(+se.codepage>=0&&y5(+se.codepage),se.type=="string")throw new Error("Cannot write WK1 to JS string");var te=Sd(),ge=lo(ee["!ref"]),ue=Array.isArray(ee),Ce=[];Zr(te,0,i(1030)),Zr(te,6,c(ge));for(var Ne=Math.min(ge.e.r,8191),Ee=ge.s.r;Ee<=Ne;++Ee)for(var Ge=Yc(Ee),Be=ge.s.c;Be<=ge.e.c;++Be){Ee===ge.s.r&&(Ce[Be]=vu(Be));var st=Ce[Be]+Ge,lt=ue?(ee[Ee]||[])[Be]:ee[st];if(!(!lt||lt.t=="z"))if(lt.t=="n")(lt.v|0)==lt.v&&lt.v>=-32768&&lt.v<=32767?Zr(te,13,p(Ee,Be,lt.v)):Zr(te,14,b(Ee,Be,lt.v));else{var Me=Gm(lt);Zr(te,15,h(Ee,Be,Me.slice(0,239)))}}return Zr(te,1),te.end()}function a(ee,he){var se=he||{};if(+se.codepage>=0&&y5(+se.codepage),se.type=="string")throw new Error("Cannot write WK3 to JS string");var te=Sd();Zr(te,0,o(ee));for(var ge=0,ue=0;ge<ee.SheetNames.length;++ge)(ee.Sheets[ee.SheetNames[ge]]||{})["!ref"]&&Zr(te,27,xe(ee.SheetNames[ge],ue++));var Ce=0;for(ge=0;ge<ee.SheetNames.length;++ge){var Ne=ee.Sheets[ee.SheetNames[ge]];if(!(!Ne||!Ne["!ref"])){for(var Ee=lo(Ne["!ref"]),Ge=Array.isArray(Ne),Be=[],st=Math.min(Ee.e.r,8191),lt=Ee.s.r;lt<=st;++lt)for(var Me=Yc(lt),wt=Ee.s.c;wt<=Ee.e.c;++wt){lt===Ee.s.r&&(Be[wt]=vu(wt));var _t=Be[wt]+Me,ar=Ge?(Ne[lt]||[])[wt]:Ne[_t];if(!(!ar||ar.t=="z"))if(ar.t=="n")Zr(te,23,J(lt,wt,Ce,ar.v));else{var Tt=Gm(ar);Zr(te,22,L(lt,wt,Ce,Tt.slice(0,239)))}}++Ce}}return Zr(te,1),te.end()}function i(ee){var he=nr(2);return he.write_shift(2,ee),he}function o(ee){var he=nr(26);he.write_shift(2,4096),he.write_shift(2,4),he.write_shift(4,0);for(var se=0,te=0,ge=0,ue=0;ue<ee.SheetNames.length;++ue){var Ce=ee.SheetNames[ue],Ne=ee.Sheets[Ce];if(!(!Ne||!Ne["!ref"])){++ge;var Ee=ff(Ne["!ref"]);se<Ee.e.r&&(se=Ee.e.r),te<Ee.e.c&&(te=Ee.e.c)}}return se>8191&&(se=8191),he.write_shift(2,se),he.write_shift(1,ge),he.write_shift(1,te),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(1,1),he.write_shift(1,2),he.write_shift(4,0),he.write_shift(4,0),he}function l(ee,he,se){var te={s:{c:0,r:0},e:{c:0,r:0}};return he==8&&se.qpro?(te.s.c=ee.read_shift(1),ee.l++,te.s.r=ee.read_shift(2),te.e.c=ee.read_shift(1),ee.l++,te.e.r=ee.read_shift(2),te):(te.s.c=ee.read_shift(2),te.s.r=ee.read_shift(2),he==12&&se.qpro&&(ee.l+=2),te.e.c=ee.read_shift(2),te.e.r=ee.read_shift(2),he==12&&se.qpro&&(ee.l+=2),te.s.c==65535&&(te.s.c=te.e.c=te.s.r=te.e.r=0),te)}function c(ee){var he=nr(8);return he.write_shift(2,ee.s.c),he.write_shift(2,ee.s.r),he.write_shift(2,ee.e.c),he.write_shift(2,ee.e.r),he}function u(ee,he,se){var te=[{c:0,r:0},{t:"n",v:0},0,0];return se.qpro&&se.vers!=20768?(te[0].c=ee.read_shift(1),te[3]=ee.read_shift(1),te[0].r=ee.read_shift(2),ee.l+=2):(te[2]=ee.read_shift(1),te[0].c=ee.read_shift(2),te[0].r=ee.read_shift(2)),te}function f(ee,he,se){var te=ee.l+he,ge=u(ee,he,se);if(ge[1].t="s",se.vers==20768){ee.l++;var ue=ee.read_shift(1);return ge[1].v=ee.read_shift(ue,"utf8"),ge}return se.qpro&&ee.l++,ge[1].v=ee.read_shift(te-ee.l,"cstr"),ge}function h(ee,he,se){var te=nr(7+se.length);te.write_shift(1,255),te.write_shift(2,he),te.write_shift(2,ee),te.write_shift(1,39);for(var ge=0;ge<te.length;++ge){var ue=se.charCodeAt(ge);te.write_shift(1,ue>=128?95:ue)}return te.write_shift(1,0),te}function g(ee,he,se){var te=u(ee,he,se);return te[1].v=ee.read_shift(2,"i"),te}function p(ee,he,se){var te=nr(7);return te.write_shift(1,255),te.write_shift(2,he),te.write_shift(2,ee),te.write_shift(2,se,"i"),te}function N(ee,he,se){var te=u(ee,he,se);return te[1].v=ee.read_shift(8,"f"),te}function b(ee,he,se){var te=nr(13);return te.write_shift(1,255),te.write_shift(2,he),te.write_shift(2,ee),te.write_shift(8,se,"f"),te}function S(ee,he,se){var te=ee.l+he,ge=u(ee,he,se);if(ge[1].v=ee.read_shift(8,"f"),se.qpro)ee.l=te;else{var ue=ee.read_shift(2);O(ee.slice(ee.l,ee.l+ue),ge),ee.l+=ue}return ge}function C(ee,he,se){var te=he&32768;return he&=-32769,he=(te?ee:0)+(he>=8192?he-16384:he),(te?"":"$")+(se?vu(he):Yc(he))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(ee,he){Wd(ee,0);for(var se=[],te=0,ge="",ue="",Ce="",Ne="";ee.l<ee.length;){var Ee=ee[ee.l++];switch(Ee){case 0:se.push(ee.read_shift(8,"f"));break;case 1:ue=C(he[0].c,ee.read_shift(2),!0),ge=C(he[0].r,ee.read_shift(2),!1),se.push(ue+ge);break;case 2:{var Ge=C(he[0].c,ee.read_shift(2),!0),Be=C(he[0].r,ee.read_shift(2),!1);ue=C(he[0].c,ee.read_shift(2),!0),ge=C(he[0].r,ee.read_shift(2),!1),se.push(Ge+Be+":"+ue+ge)}break;case 3:if(ee.l<ee.length){console.error("WK1 premature formula end");return}break;case 4:se.push("("+se.pop()+")");break;case 5:se.push(ee.read_shift(2));break;case 6:{for(var st="";Ee=ee[ee.l++];)st+=String.fromCharCode(Ee);se.push('"'+st.replace(/"/g,'""')+'"')}break;case 8:se.push("-"+se.pop());break;case 23:se.push("+"+se.pop());break;case 22:se.push("NOT("+se.pop()+")");break;case 20:case 21:Ne=se.pop(),Ce=se.pop(),se.push(["AND","OR"][Ee-20]+"("+Ce+","+Ne+")");break;default:if(Ee<32&&T[Ee])Ne=se.pop(),Ce=se.pop(),se.push(Ce+T[Ee]+Ne);else if(j[Ee]){if(te=j[Ee][1],te==69&&(te=ee[ee.l++]),te>se.length){console.error("WK1 bad formula parse 0x"+Ee.toString(16)+":|"+se.join("|")+"|");return}var lt=se.slice(-te);se.length-=te,se.push(j[Ee][0]+"("+lt.join(",")+")")}else return Ee<=7?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=24?console.error("WK1 unsupported op "+Ee.toString(16)):Ee<=30?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=115?console.error("WK1 unsupported function opcode "+Ee.toString(16)):console.error("WK1 unrecognized opcode "+Ee.toString(16))}}se.length==1?he[1].f=""+se[0]:console.error("WK1 bad formula parse |"+se.join("|")+"|")}function M(ee){var he=[{c:0,r:0},{t:"n",v:0},0];return he[0].r=ee.read_shift(2),he[3]=ee[ee.l++],he[0].c=ee[ee.l++],he}function B(ee,he){var se=M(ee);return se[1].t="s",se[1].v=ee.read_shift(he-4,"cstr"),se}function L(ee,he,se,te){var ge=nr(6+te.length);ge.write_shift(2,ee),ge.write_shift(1,se),ge.write_shift(1,he),ge.write_shift(1,39);for(var ue=0;ue<te.length;++ue){var Ce=te.charCodeAt(ue);ge.write_shift(1,Ce>=128?95:Ce)}return ge.write_shift(1,0),ge}function H(ee,he){var se=M(ee);se[1].v=ee.read_shift(2);var te=se[1].v>>1;if(se[1].v&1)switch(te&7){case 0:te=(te>>3)*5e3;break;case 1:te=(te>>3)*500;break;case 2:te=(te>>3)/20;break;case 3:te=(te>>3)/200;break;case 4:te=(te>>3)/2e3;break;case 5:te=(te>>3)/2e4;break;case 6:te=(te>>3)/16;break;case 7:te=(te>>3)/64;break}return se[1].v=te,se}function U(ee,he){var se=M(ee),te=ee.read_shift(4),ge=ee.read_shift(4),ue=ee.read_shift(2);if(ue==65535)return te===0&&ge===3221225472?(se[1].t="e",se[1].v=15):te===0&&ge===3489660928?(se[1].t="e",se[1].v=42):se[1].v=0,se;var Ce=ue&32768;return ue=(ue&32767)-16446,se[1].v=(1-Ce*2)*(ge*Math.pow(2,ue+32)+te*Math.pow(2,ue)),se}function J(ee,he,se,te){var ge=nr(14);if(ge.write_shift(2,ee),ge.write_shift(1,se),ge.write_shift(1,he),te==0)return ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(2,65535),ge;var ue=0,Ce=0,Ne=0,Ee=0;return te<0&&(ue=1,te=-te),Ce=Math.log2(te)|0,te/=Math.pow(2,Ce-31),Ee=te>>>0,Ee&2147483648||(te/=2,++Ce,Ee=te>>>0),te-=Ee,Ee|=2147483648,Ee>>>=0,te*=Math.pow(2,32),Ne=te>>>0,ge.write_shift(4,Ne),ge.write_shift(4,Ee),Ce+=16383+(ue?32768:0),ge.write_shift(2,Ce),ge}function K(ee,he){var se=U(ee);return ee.l+=he-14,se}function G(ee,he){var se=M(ee),te=ee.read_shift(4);return se[1].v=te>>6,se}function re(ee,he){var se=M(ee),te=ee.read_shift(8,"f");return se[1].v=te,se}function ae(ee,he){var se=re(ee);return ee.l+=he-10,se}function X(ee,he){return ee[ee.l+he-1]==0?ee.read_shift(he,"cstr"):""}function ne(ee,he){var se=ee[ee.l++];se>he-1&&(se=he-1);for(var te="";te.length<se;)te+=String.fromCharCode(ee[ee.l++]);return te}function de(ee,he,se){if(!(!se.qpro||he<21)){var te=ee.read_shift(1);ee.l+=17,ee.l+=1,ee.l+=2;var ge=ee.read_shift(he-21,"cstr");return[te,ge]}}function le(ee,he){for(var se={},te=ee.l+he;ee.l<te;){var ge=ee.read_shift(2);if(ge==14e3){for(se[ge]=[0,""],se[ge][0]=ee.read_shift(2);ee[ee.l];)se[ge][1]+=String.fromCharCode(ee[ee.l]),ee.l++;ee.l++}}return se}function xe(ee,he){var se=nr(5+ee.length);se.write_shift(2,14e3),se.write_shift(2,he);for(var te=0;te<ee.length;++te){var ge=ee.charCodeAt(te);se[se.l++]=ge>127?95:ge}return se[se.l++]=0,se}var Se={0:{n:"BOF",f:fme},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:N},15:{n:"LABEL",f},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},ye={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:B},23:{n:"NUMBER17",f:U},24:{n:"NUMBER18",f:H},25:{n:"FORMULA19",f:K},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:le},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:G},38:{n:"??"},39:{n:"NUMBER27",f:re},40:{n:"FORMULA28",f:ae},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:de},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),Wmt=/^\s|\s$|[\t\n\r]/;function vme(e,t){if(!t.bookSST)return"";var r=[Fl];r[r.length]=qr("sst",null,{xmlns:Bb[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(Wmt)&&(i+=' xml:space="preserve"'),i+=">"+bs(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Hmt(e){return[e.read_shift(4),e.read_shift(4)]}function qmt(e,t){return t||(t=nr(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Gmt=M0t;function Kmt(e){var t=Sd();vr(t,159,qmt(e));for(var r=0;r<e.length;++r)vr(t,19,Gmt(e[r]));return vr(t,160),t.end()}function Ymt(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function yme(e){var t=0,r,n=Ymt(e),a=n.length+1,i,o,l,c,u;for(r=Rx(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var Xmt=function(){function e(a,i){switch(i.type){case"base64":return t(qm(a),i);case"binary":return t(a,i);case"buffer":return t(cs&&Buffer.isBuffer(a)?a.toString("binary"):_3(a),i);case"array":return t(RT(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(f,h){Array.isArray(l)&&(l[h]=[]);for(var g=/\\\w+\b/g,p=0,N,b=-1;N=g.exec(f);){switch(N[0]){case"\\cell":var S=f.slice(p,g.lastIndex-N[0].length);if(S[0]==" "&&(S=S.slice(1)),++b,S.length){var C={v:S,t:"s"};Array.isArray(l)?l[h][b]=C:l[_s({r:h,c:b})]=C}break}p=g.lastIndex}b>u.e.c&&(u.e.c=b)}),l["!ref"]=Ol(u),l}function r(a,i){return iv(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=lo(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var h=_s({r:u,c:f});l=c?(a[u]||[])[f]:a[h],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Gm(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function DZ(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Zmt=6,Dm=Zmt;function HE(e){return Math.floor((e+Math.round(128/Dm)/256)*Dm)}function qE(e){return Math.floor((e-5)/Dm*100+.5)/100}function fR(e){return Math.round((e*Dm+5)/Dm*256)/256}function iB(e){e.width?(e.wpx=HE(e.width),e.wch=qE(e.wpx),e.MDW=Dm):e.wpx?(e.wch=qE(e.wpx),e.width=fR(e.wch),e.MDW=Dm):typeof e.wch=="number"&&(e.width=fR(e.wch),e.wpx=HE(e.width),e.MDW=Dm),e.customWidth&&delete e.customWidth}var Jmt=96,bme=Jmt;function GE(e){return e*96/bme}function wme(e){return e*bme/96}function Qmt(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=qr("numFmt",null,{numFmtId:n,formatCode:bs(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=qr("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function ept(e){var t=[];return t[t.length]=qr("cellXfs",null),e.forEach(function(r){t[t.length]=qr("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=qr("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function _me(e,t){var r=[Fl,qr("styleSheet",null,{xmlns:Bb[0],"xmlns:vt":vc.vt})],n;return e.SSF&&(n=Qmt(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=ept(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function tpt(e,t){var r=e.read_shift(2),n=yu(e);return[r,n]}function rpt(e,t,r){r||(r=nr(6+4*t.length)),r.write_shift(2,e),bc(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function npt(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=W0t(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=V0t(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=yu(e),n}function apt(e,t){t||(t=nr(25+4*32)),t.write_shift(2,e.sz*20),H0t(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),VE(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),bc(e.name,t),t.length>t.l?t.slice(0,t.l):t}var ipt=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rO,spt=$0;function RZ(e,t){t||(t=nr(4*3+8*7+16*1)),rO||(rO=G9(ipt));var r=rO[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(VE({auto:1},t),VE({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function opt(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function Nme(e,t,r){r||(r=nr(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Gw(e,t){return t||(t=nr(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var lpt=$0;function cpt(e,t){return t||(t=nr(51)),t.write_shift(1,0),Gw(null,t),Gw(null,t),Gw(null,t),Gw(null,t),Gw(null,t),t.length>t.l?t.slice(0,t.l):t}function upt(e,t){return t||(t=nr(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),zE(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function dpt(e,t,r){var n=nr(2052);return n.write_shift(4,e),zE(t,n),zE(r,n),n.length>n.l?n.slice(0,n.l):n}function fpt(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(vr(e,615,Dh(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&vr(e,44,rpt(a,t[a]))}),vr(e,616))}}function hpt(e){var t=1;vr(e,611,Dh(t)),vr(e,43,apt({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),vr(e,612)}function mpt(e){var t=2;vr(e,603,Dh(t)),vr(e,45,RZ({patternType:"none"})),vr(e,45,RZ({patternType:"gray125"})),vr(e,604)}function ppt(e){var t=1;vr(e,613,Dh(t)),vr(e,46,cpt()),vr(e,614)}function gpt(e){var t=1;vr(e,626,Dh(t)),vr(e,47,Nme({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),vr(e,627)}function xpt(e,t){vr(e,617,Dh(t.length)),t.forEach(function(r){vr(e,47,Nme(r,0))}),vr(e,618)}function vpt(e){var t=1;vr(e,619,Dh(t)),vr(e,48,upt({xfId:0,builtinId:0,name:"Normal"})),vr(e,620)}function ypt(e){var t=0;vr(e,505,Dh(t)),vr(e,506)}function bpt(e){var t=0;vr(e,508,dpt(t,"TableStyleMedium9","PivotStyleMedium4")),vr(e,509)}function wpt(e,t){var r=Sd();return vr(r,278),fpt(r,e.SSF),hpt(r),mpt(r),ppt(r),gpt(r),xpt(r,t.cellXfs),vpt(r),ypt(r),bpt(r),vr(r,279),r.end()}function Sme(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Fl];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function _pt(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:yu(e)}}function Npt(e){var t=nr(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),bc(e.name,t),t.slice(0,t.l)}function Spt(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Cpt(e){var t=nr(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Apt(e,t){var r=nr(8+2*t.length);return r.write_shift(4,e),bc(t,r),r.slice(0,r.l)}function Ept(e){return e.l+=4,e.read_shift(4)!=0}function jpt(e,t){var r=nr(8);return r.write_shift(4,e),r.write_shift(4,t?1:0),r}function Tpt(){var e=Sd();return vr(e,332),vr(e,334,Dh(1)),vr(e,335,Npt({name:"XLDAPR",version:12e4,flags:3496657072})),vr(e,336),vr(e,339,Apt(1,"XLDAPR")),vr(e,52),vr(e,35,Dh(514)),vr(e,4096,Dh(0)),vr(e,4097,Of(1)),vr(e,36),vr(e,53),vr(e,340),vr(e,337,jpt(1,!0)),vr(e,51,Cpt([[1,0]])),vr(e,338),vr(e,333),e.end()}function Cme(){var e=[Fl];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function kpt(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=_s(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var T2=1024;function Ame(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[qr("xml",null,{"xmlns:v":qd.v,"xmlns:o":qd.o,"xmlns:x":qd.x,"xmlns:mv":qd.mv}).replace(/\/>/,">"),qr("o:shapelayout",qr("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),qr("v:shapetype",[qr("v:stroke",null,{joinstyle:"miter"}),qr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];T2<e*1e3;)T2+=1e3;return t.forEach(function(i){var o=yc(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?qr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=qr("v:fill",c,l),f={on:"t",obscured:"t"};++T2,a=a.concat(["<v:shape"+_5({id:"_x0000_s"+T2,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,qr("v:shadow",null,f),qr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Hc("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Hc("x:AutoFill","False"),Hc("x:Row",String(o.r)),Hc("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function Eme(e){var t=[Fl,qr("comments",null,{xmlns:Bb[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=bs(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(bs(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Hc("t",bs(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Hc("t",bs(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Ppt(e,t,r){var n=[Fl,qr("ThreadedComments",null,{xmlns:vc.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(qr("threadedComment",Hc("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function Opt(e){var t=[Fl,qr("personList",null,{xmlns:vc.TCMNT,"xmlns:x":Bb[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(qr("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Ipt(e){var t={};t.iauthor=e.read_shift(4);var r=cv(e);return t.rfx=r.s,t.ref=_s(r.s),e.l+=16,t}function Fpt(e,t){return t==null&&(t=nr(36)),t.write_shift(4,e[1].iauthor),$b(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Dpt=yu;function Rpt(e){return bc(e.slice(0,54))}function Mpt(e){var t=Sd(),r=[];return vr(t,628),vr(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),vr(t,632,Rpt(a.a)))})}),vr(t,631),vr(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:yc(n[0]),e:yc(n[0])};vr(t,635,Fpt([i,a])),a.t&&a.t.length>0&&vr(t,637,B0t(a)),vr(t,636),delete a.iauthor})}),vr(t,634),vr(t,629),t.end()}function Lpt(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Es.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var jme=["xlsb","xlsm","xlam","biff8","xla"],Bpt=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return l?f+=t.c:--f,c?u+=t.r:--u,a+(l?"":"$")+vu(f)+(c?"":"$")+Yc(u)}return function(a,i){return t=i,a.replace(e,r)}}(),sB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,oB=function(){return function(t,r){return t.replace(sB,function(n,a,i,o,l,c){var u=eB(o)-(i?0:r.c),f=Q9(c)-(l?0:r.r),h=f==0?"":l?f+1:"["+f+"]",g=u==0?"":i?u+1:"["+u+"]";return a+"R"+h+"C"+g})}}();function Upt(e,t){return e.replace(sB,function(r,n,a,i,o,l){return n+(a=="$"?a+i:vu(eB(i)+t.c))+(o=="$"?o+l:Yc(Q9(l)+t.r))})}function $pt(e){return e.length!=1}function Cl(e){e.l+=1}function O1(e,t){var r=e.read_shift(t==1?1:2);return[r&16383,r>>14&1,r>>15&1]}function Tme(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return kme(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=O1(e,2),l=O1(e,2);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function kme(e){var t=O1(e,2),r=O1(e,2),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function zpt(e,t,r){if(r.biff<8)return kme(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=O1(e,2),o=O1(e,2);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Pme(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Vpt(e);var n=e.read_shift(r&&r.biff==12?4:2),a=O1(e,2);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Vpt(e){var t=O1(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Wpt(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Hpt(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return qpt(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function qpt(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Gpt(e,t,r){var n=(e[e.l++]&96)>>5,a=Tme(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Kpt(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=Tme(e,i,r);return[n,a,o]}function Ypt(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Xpt(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function Zpt(e,t,r){var n=(e[e.l++]&96)>>5,a=zpt(e,t-1,r);return[n,a]}function Jpt(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function MZ(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Qpt(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function e1t(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function t1t(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function r1t(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function n1t(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Ome(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function a1t(e){return e.read_shift(2),Ome(e)}function i1t(e){return e.read_shift(2),Ome(e)}function s1t(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Pme(e,0,r);return[n,a]}function o1t(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Hpt(e,0,r);return[n,a]}function l1t(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Pme(e,0,r);return[n,a,i]}function c1t(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[cgt[a],Dme[a],n]}function u1t(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:d1t(e);return[a,(i[0]===0?Dme:lgt)[i[1]]]}function d1t(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function f1t(e,t,r){e.l+=r&&r.biff==2?3:4}function h1t(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function m1t(e){return e.l++,C3[e.read_shift(1)]}function p1t(e){return e.l++,e.read_shift(2)}function g1t(e){return e.l++,e.read_shift(1)!==0}function x1t(e){return e.l++,zb(e)}function v1t(e,t,r){return e.l++,mme(e,t-1,r)}function y1t(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=lmt(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=C3[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=zb(e);break;case 2:r[1]=fmt(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function b1t(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?cv:pmt)(e));return a}function w1t(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=y1t(e,r.biff);return o}function _1t(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function N1t(e,t,r){if(r.biff==5)return S1t(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function S1t(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function C1t(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function A1t(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function E1t(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function j1t(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var T1t=$0,k1t=$0,P1t=$0;function A3(e,t,r){return e.l+=2,[Wpt(e)]}function lB(e){return e.l+=6,[]}var O1t=A3,I1t=lB,F1t=lB,D1t=A3;function Ime(e){return e.l+=2,[fme(e),e.read_shift(2)&1]}var R1t=A3,M1t=Ime,L1t=lB,B1t=A3,U1t=A3,$1t=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function z1t(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=$1t[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function V1t(e){return e.l+=2,[e.read_shift(4)]}function W1t(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function H1t(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function q1t(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function G1t(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function K1t(e){return e.l+=4,[0,0]}var LZ={1:{n:"PtgExp",f:h1t},2:{n:"PtgTbl",f:P1t},3:{n:"PtgAdd",f:Cl},4:{n:"PtgSub",f:Cl},5:{n:"PtgMul",f:Cl},6:{n:"PtgDiv",f:Cl},7:{n:"PtgPower",f:Cl},8:{n:"PtgConcat",f:Cl},9:{n:"PtgLt",f:Cl},10:{n:"PtgLe",f:Cl},11:{n:"PtgEq",f:Cl},12:{n:"PtgGe",f:Cl},13:{n:"PtgGt",f:Cl},14:{n:"PtgNe",f:Cl},15:{n:"PtgIsect",f:Cl},16:{n:"PtgUnion",f:Cl},17:{n:"PtgRange",f:Cl},18:{n:"PtgUplus",f:Cl},19:{n:"PtgUminus",f:Cl},20:{n:"PtgPercent",f:Cl},21:{n:"PtgParen",f:Cl},22:{n:"PtgMissArg",f:Cl},23:{n:"PtgStr",f:v1t},26:{n:"PtgSheet",f:W1t},27:{n:"PtgEndSheet",f:H1t},28:{n:"PtgErr",f:m1t},29:{n:"PtgBool",f:g1t},30:{n:"PtgInt",f:p1t},31:{n:"PtgNum",f:x1t},32:{n:"PtgArray",f:Jpt},33:{n:"PtgFunc",f:c1t},34:{n:"PtgFuncVar",f:u1t},35:{n:"PtgName",f:_1t},36:{n:"PtgRef",f:s1t},37:{n:"PtgArea",f:Gpt},38:{n:"PtgMemArea",f:C1t},39:{n:"PtgMemErr",f:T1t},40:{n:"PtgMemNoMem",f:k1t},41:{n:"PtgMemFunc",f:A1t},42:{n:"PtgRefErr",f:E1t},43:{n:"PtgAreaErr",f:Ypt},44:{n:"PtgRefN",f:o1t},45:{n:"PtgAreaN",f:Zpt},46:{n:"PtgMemAreaN",f:q1t},47:{n:"PtgMemNoMemN",f:G1t},57:{n:"PtgNameX",f:N1t},58:{n:"PtgRef3d",f:l1t},59:{n:"PtgArea3d",f:Kpt},60:{n:"PtgRefErr3d",f:j1t},61:{n:"PtgAreaErr3d",f:Xpt},255:{}},Y1t={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},X1t={1:{n:"PtgElfLel",f:Ime},2:{n:"PtgElfRw",f:B1t},3:{n:"PtgElfCol",f:O1t},6:{n:"PtgElfRwV",f:U1t},7:{n:"PtgElfColV",f:D1t},10:{n:"PtgElfRadical",f:R1t},11:{n:"PtgElfRadicalS",f:L1t},13:{n:"PtgElfColS",f:I1t},15:{n:"PtgElfColSV",f:F1t},16:{n:"PtgElfRadicalLel",f:M1t},25:{n:"PtgList",f:z1t},29:{n:"PtgSxName",f:V1t},255:{}},Z1t={0:{n:"PtgAttrNoop",f:K1t},1:{n:"PtgAttrSemi",f:n1t},2:{n:"PtgAttrIf",f:t1t},4:{n:"PtgAttrChoose",f:Qpt},8:{n:"PtgAttrGoto",f:e1t},16:{n:"PtgAttrSum",f:f1t},32:{n:"PtgAttrBaxcel",f:MZ},33:{n:"PtgAttrBaxcel",f:MZ},64:{n:"PtgAttrSpace",f:a1t},65:{n:"PtgAttrSpaceSemi",f:i1t},128:{n:"PtgAttrIfError",f:r1t},255:{}};function J1t(e,t,r,n){if(n.biff<8)return $0(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=w1t(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=b1t(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push($0(e,t)),i}function Q1t(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=LZ[i]||LZ[Y1t[i]],(i===24||i===25)&&(a=(i===24?X1t:Z1t)[e[e.l+1]]),!a||!a.f?$0(e,t):o.push([a.n,a.f(e,t,r)]);return o}function egt(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var tgt={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function rgt(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Fme(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function BZ(e,t,r){var n=Fme(e,t,r);return n=="#REF"?n:rgt(n,r)}function ab(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,f,h=0,g=0,p,N="";if(!e[0]||!e[0][0])return"";for(var b=-1,S="",C=0,j=e[0].length;C<j;++C){var T=e[0][C];switch(T[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),b>=0){switch(e[0][b][1][0]){case 0:S=Wo(" ",e[0][b][1][1]);break;case 1:S=Wo("\r",e[0][b][1][1]);break;default:if(S="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}u=u+S,b=-1}l.push(u+tgt[T[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=z_(T[1][1],o,a),l.push(V_(f,i));break;case"PtgRefN":f=r?z_(T[1][1],r,a):T[1][1],l.push(V_(f,i));break;case"PtgRef3d":h=T[1][1],f=z_(T[1][2],o,a),N=BZ(n,h,a),l.push(N+"!"+V_(f,i));break;case"PtgFunc":case"PtgFuncVar":var O=T[1][0],M=T[1][1];O||(O=0),O&=127;var B=O==0?[]:l.slice(-O);l.length-=O,M==="User"&&(M=B.shift()),l.push(M+"("+B.join(",")+")");break;case"PtgBool":l.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(T[1]);break;case"PtgNum":l.push(String(T[1]));break;case"PtgStr":l.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(T[1]);break;case"PtgAreaN":p=NZ(T[1][1],r?{s:r}:o,a),l.push(eO(p,a));break;case"PtgArea":p=NZ(T[1][1],o,a),l.push(eO(p,a));break;case"PtgArea3d":h=T[1][1],p=T[1][2],N=BZ(n,h,a),l.push(N+"!"+eO(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=T[1][2];var L=(n.names||[])[g-1]||(n[0]||[])[g],H=L?L.Name:"SH33TJSNAME"+String(g);H&&H.slice(0,6)=="_xlfn."&&!a.xlfn&&(H=H.slice(6)),l.push(H);break;case"PtgNameX":var U=T[1][1];g=T[1][2];var J;if(a.biff<=5)U<0&&(U=-U),n[U]&&(J=n[U][g]);else{var K="";if(((n[U]||[])[0]||[])[0]==14849||(((n[U]||[])[0]||[])[0]==1025?n[U][g]&&n[U][g].itab>0&&(K=n.SheetNames[n[U][g].itab-1]+"!"):K=n.SheetNames[g-1]+"!"),n[U]&&n[U][g])K+=n[U][g].Name;else if(n[0]&&n[0][g])K+=n[0][g].Name;else{var G=(Fme(n,U,a)||"").split(";;");G[g-1]?K=G[g-1]:K+="SH33TJSERRX"}l.push(K);break}J||(J={Name:"SH33TJSERRY"}),l.push(J.Name);break;case"PtgParen":var re="(",ae=")";if(b>=0){switch(S="",e[0][b][1][0]){case 2:re=Wo(" ",e[0][b][1][1])+re;break;case 3:re=Wo("\r",e[0][b][1][1])+re;break;case 4:ae=Wo(" ",e[0][b][1][1])+ae;break;case 5:ae=Wo("\r",e[0][b][1][1])+ae;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}l.push(re+l.pop()+ae);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":f={c:T[1][1],r:T[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[_s(f)]){var ne=n.sharedf[_s(f)];l.push(ab(ne,o,X,n,a))}else{var de=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){l.push(ab(u[1],o,X,n,a)),de=!0;break}de||l.push(T[1])}break;case"PtgArray":l.push("{"+egt(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=C;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var le=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&b>=0&&le.indexOf(e[0][C][0])==-1){T=e[0][b];var xe=!0;switch(T[1][0]){case 4:xe=!1;case 0:S=Wo(" ",T[1][1]);break;case 5:xe=!1;case 1:S=Wo("\r",T[1][1]);break;default:if(S="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}l.push((xe?S:"")+l.pop()+(xe?"":S)),b=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function ngt(e){if(e==null){var t=nr(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Mx(e);return Mx(0)}function agt(e,t,r,n,a){var i=Lx(t,r,a),o=ngt(e.v),l=nr(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=nr(e.bf.length),f=0;f<e.bf.length;++f)u[f]=e.bf[f];var h=Wc([i,o,l,u]);return h}function MT(e,t,r){var n=e.read_shift(4),a=Q1t(e,n,r),i=e.read_shift(4),o=i>0?J1t(e,i,a,r):null;return[a,o]}var igt=MT,LT=MT,sgt=MT,ogt=MT,lgt={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Dme={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},cgt={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ugt(e){var t="of:="+e.replace(sB,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function dgt(e){return e.replace(/\./,"!")}var W_=typeof Map<"u";function cB(e,t,r){var n=0,a=e.length;if(r){if(W_?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=W_?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(W_?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function BT(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Dm=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=qE(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=fR(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Rme(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function X1(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){P0e(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function fgt(e,t,r){if(e&&e["!ref"]){var n=lo(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function hgt(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Ol(e[r])+'"/>';return t+"</mergeCells>"}function mgt(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=Am(bs(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+qr("outlinePr",null,u)}!i&&!l||(a[a.length]=qr("sheetPr",l,o))}var pgt=["objects","scenarios","selectLockedCells","selectUnlockedCells"],ggt=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function xgt(e){var t={sheet:1};return pgt.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),ggt.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=yme(e.password).toString(16).toUpperCase()),qr("sheetProtection",null,t)}function vgt(e){return Rme(e),qr("pageMargins",null,e)}function ygt(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=qr("col",null,BT(a,n)));return r[r.length]="</cols>",r.join("")}function bgt(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Ol(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=ff(a);o.s.r==o.e.r&&(o.e.r=ff(t["!ref"]).e.r,a=Ol(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),qr("autoFilter",null,{ref:a})}function wgt(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),qr("sheetViews",qr("sheetView",null,a),{})}function _gt(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=C3[e.v];break;case"d":n&&n.cellDates?a=Yu(e.v,-1).toISOString():(e=jd(e),e.t="n",a=""+(e.v=Ed(Yu(e.v)))),typeof e.z>"u"&&(e.z=Xo[14]);break;default:a=e.v;break}var l=Hc("v",bs(a)),c={r:t},u=X1(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Hc("v",""+cB(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=qr("f",bs(e.f),f)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),qr("c",l,c)}function Ngt(e,t,r,n){var a=[],i=[],o=lo(e["!ref"]),l="",c,u="",f=[],h=0,g=0,p=e["!rows"],N=Array.isArray(e),b={r:u},S,C=-1;for(g=o.s.c;g<=o.e.c;++g)f[g]=vu(g);for(h=o.s.r;h<=o.e.r;++h){for(i=[],u=Yc(h),g=o.s.c;g<=o.e.c;++g){c=f[g]+u;var j=N?(e[h]||[])[g]:e[c];j!==void 0&&(l=_gt(j,c,e,t))!=null&&i.push(l)}(i.length>0||p&&p[h])&&(b={r:u},p&&p[h]&&(S=p[h],S.hidden&&(b.hidden=1),C=-1,S.hpx?C=GE(S.hpx):S.hpt&&(C=S.hpt),C>-1&&(b.ht=C,b.customHeight=1),S.level&&(b.outlineLevel=S.level)),a[a.length]=qr("row",i.join(""),b))}if(p)for(;h<p.length;++h)p&&p[h]&&(b={r:h+1},S=p[h],S.hidden&&(b.hidden=1),C=-1,S.hpx?C=GE(S.hpx):S.hpt&&(C=S.hpt),C>-1&&(b.ht=C,b.customHeight=1),S.level&&(b.outlineLevel=S.level),a[a.length]=qr("row","",b));return a.join("")}function Mme(e,t,r,n){var a=[Fl,qr("worksheet",null,{xmlns:Bb[0],"xmlns:r":vc.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",f=lo(u);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=Ol(f)}n||(n={}),c["!comments"]=[];var h=[];mgt(c,r,e,t,a),a[a.length]=qr("dimension",null,{ref:u}),a[a.length]=wgt(c,t,e,r),t.sheetFormat&&(a[a.length]=qr("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=ygt(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=Ngt(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=xgt(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=bgt(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=hgt(c["!merges"]));var g=-1,p,N=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(b){b[1].Target&&(p={ref:b[0]},b[1].Target.charAt(0)!="#"&&(N=ys(n,-1,bs(b[1].Target).replace(/#.*$/,""),Ki.HLINK),p["r:id"]="rId"+N),(g=b[1].Target.indexOf("#"))>-1&&(p.location=bs(b[1].Target.slice(g+1))),b[1].Tooltip&&(p.tooltip=bs(b[1].Tooltip)),a[a.length]=qr("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=vgt(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Hc("ignoredErrors",qr("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(N=ys(n,-1,"../drawings/drawing"+(e+1)+".xml",Ki.DRAW),a[a.length]=qr("drawing",null,{"r:id":"rId"+N}),c["!drawing"]=h),c["!comments"].length>0&&(N=ys(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ki.VML),a[a.length]=qr("legacyDrawing",null,{"r:id":"rId"+N}),c["!legacy"]=N),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Sgt(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function Cgt(e,t,r){var n=nr(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=GE(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var h=-1,g=-1,p=f<<10;p<f+1<<10;++p){u.c=p;var N=Array.isArray(r)?(r[u.r]||[])[u.c]:r[_s(u)];N&&(h<0&&(h=p),g=p)}h<0||(++l,n.write_shift(4,h),n.write_shift(4,g))}var b=n.l;return n.l=c,n.write_shift(4,l),n.l=b,n.length>n.l?n.slice(0,n.l):n}function Agt(e,t,r,n){var a=Cgt(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&vr(e,0,a)}var Egt=cv,jgt=$b;function Tgt(){}function kgt(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=U0t(e),r}function Pgt(e,t,r){r==null&&(r=nr(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return VE({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),J0e(e,r),r.slice(0,r.l)}function Ogt(e){var t=Qf(e);return[t]}function Igt(e,t,r){return r==null&&(r=nr(8)),sv(t,r)}function Fgt(e){var t=ov(e);return[t]}function Dgt(e,t,r){return r==null&&(r=nr(4)),lv(t,r)}function Rgt(e){var t=Qf(e),r=e.read_shift(1);return[t,r,"b"]}function Mgt(e,t,r){return r==null&&(r=nr(9)),sv(t,r),r.write_shift(1,e.v?1:0),r}function Lgt(e){var t=ov(e),r=e.read_shift(1);return[t,r,"b"]}function Bgt(e,t,r){return r==null&&(r=nr(5)),lv(t,r),r.write_shift(1,e.v?1:0),r}function Ugt(e){var t=Qf(e),r=e.read_shift(1);return[t,r,"e"]}function $gt(e,t,r){return r==null&&(r=nr(9)),sv(t,r),r.write_shift(1,e.v),r}function zgt(e){var t=ov(e),r=e.read_shift(1);return[t,r,"e"]}function Vgt(e,t,r){return r==null&&(r=nr(8)),lv(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Wgt(e){var t=Qf(e),r=e.read_shift(4);return[t,r,"s"]}function Hgt(e,t,r){return r==null&&(r=nr(12)),sv(t,r),r.write_shift(4,t.v),r}function qgt(e){var t=ov(e),r=e.read_shift(4);return[t,r,"s"]}function Ggt(e,t,r){return r==null&&(r=nr(8)),lv(t,r),r.write_shift(4,t.v),r}function Kgt(e){var t=Qf(e),r=zb(e);return[t,r,"n"]}function Ygt(e,t,r){return r==null&&(r=nr(16)),sv(t,r),Mx(e.v,r),r}function Xgt(e){var t=ov(e),r=zb(e);return[t,r,"n"]}function Zgt(e,t,r){return r==null&&(r=nr(12)),lv(t,r),Mx(e.v,r),r}function Jgt(e){var t=Qf(e),r=Q0e(e);return[t,r,"n"]}function Qgt(e,t,r){return r==null&&(r=nr(12)),sv(t,r),eme(e.v,r),r}function ext(e){var t=ov(e),r=Q0e(e);return[t,r,"n"]}function txt(e,t,r){return r==null&&(r=nr(8)),lv(t,r),eme(e.v,r),r}function rxt(e){var t=Qf(e),r=tB(e);return[t,r,"is"]}function nxt(e){var t=Qf(e),r=yu(e);return[t,r,"str"]}function axt(e,t,r){return r==null&&(r=nr(12+4*e.v.length)),sv(t,r),bc(e.v,r),r.length>r.l?r.slice(0,r.l):r}function ixt(e){var t=ov(e),r=yu(e);return[t,r,"str"]}function sxt(e,t,r){return r==null&&(r=nr(8+4*e.v.length)),lv(t,r),bc(e.v,r),r.length>r.l?r.slice(0,r.l):r}function oxt(e,t,r){var n=e.l+t,a=Qf(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=LT(e,n-e.l,r);o[3]=ab(l,null,a,r.supbooks,r)}else e.l=n;return o}function lxt(e,t,r){var n=e.l+t,a=Qf(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=LT(e,n-e.l,r);o[3]=ab(l,null,a,r.supbooks,r)}else e.l=n;return o}function cxt(e,t,r){var n=e.l+t,a=Qf(e);a.r=r["!row"];var i=zb(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=LT(e,n-e.l,r);o[3]=ab(l,null,a,r.supbooks,r)}else e.l=n;return o}function uxt(e,t,r){var n=e.l+t,a=Qf(e);a.r=r["!row"];var i=yu(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=LT(e,n-e.l,r);o[3]=ab(l,null,a,r.supbooks,r)}else e.l=n;return o}var dxt=cv,fxt=$b;function hxt(e,t){return t==null&&(t=nr(4)),t.write_shift(4,e),t}function mxt(e,t){var r=e.l+t,n=cv(e),a=rB(e),i=yu(e),o=yu(e),l=yu(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function pxt(e,t){var r=nr(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));$b({s:yc(e[0]),e:yc(e[0])},r),nB("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return bc(a||"",r),bc(e[1].Tooltip||"",r),bc("",r),r.slice(0,r.l)}function gxt(){}function xxt(e,t,r){var n=e.l+t,a=tme(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=igt(e,n-e.l,r);o[1]=l}else e.l=n;return o}function vxt(e,t,r){var n=e.l+t,a=cv(e),i=[a];if(r.cellFormula){var o=ogt(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function yxt(e,t,r){r==null&&(r=nr(18));var n=BT(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Lme=["left","right","top","bottom","header","footer"];function bxt(e){var t={};return Lme.forEach(function(r){t[r]=zb(e)}),t}function wxt(e,t){return t==null&&(t=nr(6*8)),Rme(e),Lme.forEach(function(r){Mx(e[r],t)}),t}function _xt(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Nxt(e,t,r){r==null&&(r=nr(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Sxt(e){var t=nr(24);return t.write_shift(4,4),t.write_shift(4,1),$b(e,t),t}function Cxt(e,t){return t==null&&(t=nr(16*4+2)),t.write_shift(2,e.password?yme(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Axt(){}function Ext(){}function jxt(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=jd(t),t.z=t.z||Xo[14],t.v=Ed(Yu(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=X1(a.cellXfs,t,a),t.l&&i["!links"].push([_s(c),t.l]),t.c&&i["!comments"].push([_s(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=cB(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?vr(e,18,Ggt(t,c)):vr(e,7,Hgt(t,c))):(c.t="str",o?vr(e,17,sxt(t,c)):vr(e,6,axt(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?vr(e,13,txt(t,c)):vr(e,2,Qgt(t,c)):o?vr(e,16,Zgt(t,c)):vr(e,5,Ygt(t,c)),!0;case"b":return c.t="b",o?vr(e,15,Bgt(t,c)):vr(e,4,Mgt(t,c)),!0;case"e":return c.t="e",o?vr(e,14,Vgt(t,c)):vr(e,3,$gt(t,c)),!0}return o?vr(e,12,Dgt(t,c)):vr(e,1,Igt(t,c)),!0}function Txt(e,t,r,n){var a=lo(t["!ref"]||"A1"),i,o="",l=[];vr(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var f=a.s.r;f<=u;++f){o=Yc(f),Agt(e,t,a,f);var h=!1;if(f<=a.e.r)for(var g=a.s.c;g<=a.e.c;++g){f===a.s.r&&(l[g]=vu(g)),i=l[g]+o;var p=c?(t[f]||[])[g]:t[i];if(!p){h=!1;continue}h=jxt(e,p,f,g,n,t,h)}}vr(e,146)}function kxt(e,t){!t||!t["!merges"]||(vr(e,177,hxt(t["!merges"].length)),t["!merges"].forEach(function(r){vr(e,176,fxt(r))}),vr(e,178))}function Pxt(e,t){!t||!t["!cols"]||(vr(e,390),t["!cols"].forEach(function(r,n){r&&vr(e,60,yxt(n,r))}),vr(e,391))}function Oxt(e,t){!t||!t["!ref"]||(vr(e,648),vr(e,649,Sxt(lo(t["!ref"]))),vr(e,650))}function Ixt(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=ys(r,-1,n[1].Target.replace(/#.*$/,""),Ki.HLINK);vr(e,494,pxt(n,a))}}),delete t["!links"]}function Fxt(e,t,r,n){if(t["!comments"].length>0){var a=ys(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Ki.VML);vr(e,551,nB("rId"+a)),t["!legacy"]=a}}function Dxt(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Ol(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=ff(i);l.s.r==l.e.r&&(l.e.r=ff(t["!ref"]).e.r,i=Ol(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),vr(e,161,$b(lo(i))),vr(e,162)}}function Rxt(e,t,r){vr(e,133),vr(e,137,Nxt(t,r)),vr(e,138),vr(e,134)}function Mxt(e,t){t["!protect"]&&vr(e,535,Cxt(t["!protect"]))}function Lxt(e,t,r,n){var a=Sd(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=lo(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],vr(a,129),(r.vbaraw||o["!outline"])&&vr(a,147,Pgt(l,o["!outline"])),vr(a,148,jgt(c)),Rxt(a,o,r.Workbook),Pxt(a,o),Txt(a,o,e,t),Mxt(a,o),Dxt(a,o,r,e),kxt(a,o),Ixt(a,o,n),o["!margins"]&&vr(a,476,wxt(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Oxt(a,o),Fxt(a,o,e,n),vr(a,130),a.end()}function Bxt(e,t){e.l+=10;var r=yu(e);return{name:r}}var Uxt=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function $xt(e){return!e.Workbook||!e.Workbook.WBProps?"false":v0t(e.Workbook.WBProps.date1904)?"true":"false"}var zxt="][*?/\\".split("");function Bme(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return zxt.forEach(function(n){if(e.indexOf(n)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}function Vxt(e,t,r){e.forEach(function(n,a){Bme(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Wxt(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Vxt(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)fgt(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function Ume(e){var t=[Fl];t[t.length]=qr("workbook",null,{xmlns:Bb[0],"xmlns:r":vc.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Uxt.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=qr("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:bs(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=qr("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=qr("definedName",bs(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Hxt(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=dR(e),r.name=yu(e),r}function qxt(e,t){return t||(t=nr(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),nB(e.strRelID,t),bc(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Gxt(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?yu(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Kxt(e,t){t||(t=nr(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),J0e(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Yxt(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=$0t(e),o=sgt(e,0,r),l=rB(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Xxt(e,t){vr(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};vr(e,156,qxt(a))}vr(e,144)}function Zxt(e,t){t||(t=nr(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return bc("SheetJS",t),bc(RE.version,t),bc(RE.version,t),bc("7262",t),t.length>t.l?t.slice(0,t.l):t}function Jxt(e,t){t||(t=nr(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Qxt(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(vr(e,135),vr(e,158,Jxt(a)),vr(e,136))}}function evt(e,t){var r=Sd();return vr(r,131),vr(r,128,Zxt()),vr(r,153,Kxt(e.Workbook&&e.Workbook.WBProps||null)),Qxt(r,e),Xxt(r,e),vr(r,132),r.end()}function tvt(e,t,r){return(t.slice(-4)===".bin"?evt:Ume)(e)}function rvt(e,t,r,n,a){return(t.slice(-4)===".bin"?Lxt:Mme)(e,r,n,a)}function nvt(e,t,r){return(t.slice(-4)===".bin"?wpt:_me)(e,r)}function avt(e,t,r){return(t.slice(-4)===".bin"?Kmt:vme)(e,r)}function ivt(e,t,r){return(t.slice(-4)===".bin"?Mpt:Eme)(e)}function svt(e){return(e.slice(-4)===".bin"?Tpt:Cme)()}function ovt(e,t){var r=[];return e.Props&&r.push(nmt(e.Props,t)),e.Custprops&&r.push(amt(e.Props,e.Custprops)),r.join("")}function lvt(){return""}function cvt(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(qr("NumberFormat",null,{"ss:Format":bs(Xo[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(qr("Style",i.join(""),o))}),qr("Styles",r.join(""))}function $me(e){return qr("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+oB(e.Ref,{r:0,c:0})})}function uvt(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push($me(a)))}return qr("Names",r.join(""))}function dvt(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push($me(l)))}return i.join("")}function fvt(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(qr("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(qr("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(qr("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(qr("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Hc("ProtectContents","True")),e["!protect"].objects&&a.push(Hc("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Hc("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Hc("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Hc("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":qr("WorksheetOptions",a.join(""),{xmlns:qd.x})}function hvt(e){return e.map(function(t){var r=x0t(t.t||""),n=qr("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return qr("Comment",n,{"ss:Author":t.a})}).join("")}function mvt(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+bs(oB(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=yc(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=bs(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=bs(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=o.c||u[f].s.r!=o.r||(u[f].e.c>u[f].s.c&&(l["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(l["ss:MergeDown"]=u[f].e.r-u[f].s.r));var h="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",g=String(e.v);break;case"b":h="Boolean",g=e.v?"1":"0";break;case"e":h="Error",g=C3[e.v];break;case"d":h="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Xo[14]);break;case"s":h="String",g=g0t(e.v||"");break}var p=X1(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var N=e.v!=null?g:"",b=e.t=="z"?"":'<Data ss:Type="'+h+'">'+N+"</Data>";return(e.c||[]).length>0&&(b+=hvt(e.c)),qr("Cell",b,l)}function pvt(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=wme(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function gvt(e,t,r,n){if(!e["!ref"])return"";var a=lo(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(S,C){iB(S);var j=!!S.width,T=BT(C,S),O={"ss:Index":C+1};j&&(O["ss:Width"]=HE(T.width)),S.hidden&&(O["ss:Hidden"]="1"),l.push(qr("Column",null,O))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var f=[pvt(u,(e["!rows"]||[])[u])],h=a.s.c;h<=a.e.c;++h){var g=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>h)&&!(i[o].s.r>u)&&!(i[o].e.c<h)&&!(i[o].e.r<u)){(i[o].s.c!=h||i[o].s.r!=u)&&(g=!0);break}if(!g){var p={r:u,c:h},N=_s(p),b=c?(e[u]||[])[h]:e[N];f.push(mvt(b,N,e,t,r,n,p))}}f.push("</Row>"),f.length>2&&l.push(f.join(""))}return l.join("")}function xvt(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?dvt(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?gvt(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(fvt(i,t,e,r)),n.join("")}function vvt(e,t){t||(t={}),e.SSF||(e.SSF=jd(Xo)),e.SSF&&(FT(),IT(e.SSF),t.revssf=DT(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],X1(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(ovt(e,t)),r.push(lvt()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(qr("Worksheet",xvt(n,t,e),{"ss:Name":bs(e.SheetNames[n])}));return r[2]=cvt(e,t),r[3]=uvt(e),Fl+qr("Workbook",r.join(""),{xmlns:qd.ss,"xmlns:o":qd.o,"xmlns:x":qd.x,"xmlns:ss":qd.ss,"xmlns:dt":qd.dt,"xmlns:html":qd.html})}var nO={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function yvt(e,t){var r=[],n=[],a=[],i=0,o,l=fZ(CZ,"n"),c=fZ(AZ,"n");if(e.Props)for(o=Zc(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Zc(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)dme.indexOf(a[i][0])>-1||lme.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Es.utils.cfb_add(t,"/SummaryInformation",PZ(n,nO.SI,c,AZ)),(r.length||u.length)&&Es.utils.cfb_add(t,"/DocumentSummaryInformation",PZ(r,nO.DSI,l,CZ,u.length?u:null,nO.UDI))}function bvt(e,t){var r=t||{},n=Es.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Es.utils.cfb_add(n,a,zme(e,r)),r.biff==8&&(e.Props||e.Custprops)&&yvt(e,n),r.biff==8&&e.vbaraw&&Lpt(n,Es.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var wvt={0:{f:Sgt},1:{f:Ogt},2:{f:Jgt},3:{f:Ugt},4:{f:Rgt},5:{f:Kgt},6:{f:nxt},7:{f:Wgt},8:{f:uxt},9:{f:cxt},10:{f:oxt},11:{f:lxt},12:{f:Fgt},13:{f:ext},14:{f:zgt},15:{f:Lgt},16:{f:Xgt},17:{f:ixt},18:{f:qgt},19:{f:tB},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Yxt},40:{},42:{},43:{f:npt},44:{f:tpt},45:{f:spt},46:{f:lpt},47:{f:opt},48:{},49:{f:F0t},50:{},51:{f:Spt},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Dmt},62:{f:rxt},63:{f:kpt},64:{f:Axt},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:$0,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:_xt},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:kgt},148:{f:Egt,p:16},151:{f:gxt},152:{},153:{f:Gxt},154:{},155:{},156:{f:Hxt},157:{},158:{},159:{T:1,f:Hmt},160:{T:-1},161:{T:1,f:cv},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:dxt},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_pt},336:{T:-1},337:{f:Ept,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:dR},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Tmt},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:xxt},427:{f:vxt},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:bxt},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Tgt},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:mxt},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:dR},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Dpt},633:{T:1},634:{T:-1},635:{T:1,f:Ipt},636:{T:-1},637:{f:L0t},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Bxt},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ext},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Zr(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&J9(r)&&e.push(r)}}function _vt(e,t,r,n){var a=n||(r||[]).length||0;if(a<=8224)return Zr(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var f=e.next(4);for(f.write_shift(2,i),f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(f=e.next(4),f.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function E3(e,t,r){return e||(e=nr(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Nvt(e,t,r,n){var a=nr(9);return E3(a,e,t),hme(r,n||"b",a),a}function Svt(e,t,r){var n=nr(8+2*r.length);return E3(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Cvt(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Ed(Yu(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Zr(e,2,Bmt(r,n,a)):Zr(e,3,Lmt(r,n,a));return;case"b":case"e":Zr(e,5,Nvt(r,n,t.v,t.t));return;case"s":case"str":Zr(e,4,Svt(r,n,(t.v||"").slice(0,255)));return}Zr(e,1,E3(null,r,n))}function Avt(e,t,r,n){var a=Array.isArray(t),i=lo(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Ol(i)}for(var u=i.s.r;u<=i.e.r;++u){l=Yc(u);for(var f=i.s.c;f<=i.e.c;++f){u===i.s.r&&(c[f]=vu(f)),o=c[f]+l;var h=a?(t[u]||[])[f]:t[o];h&&Cvt(e,h,u,f)}}}function Evt(e,t){for(var r=t||{},n=Sd(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Zr(n,r.biff==4?1033:r.biff==3?521:9,aB(e,16,r)),Avt(n,e.Sheets[e.SheetNames[a]],a,r),Zr(n,10),n.end()}function jvt(e,t,r){Zr(e,49,wmt({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function Tvt(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Zr(e,1054,Smt(a,t[a],r))})}function kvt(e,t){var r=nr(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Zr(e,2151,r),r=nr(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),gme(lo(t["!ref"]||"A1"),r),r.write_shift(4,4),Zr(e,2152,r)}function Pvt(e,t){for(var r=0;r<16;++r)Zr(e,224,IZ({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Zr(e,224,IZ(n,0,t))})}function Ovt(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Zr(e,440,Omt(n)),n[1].Tooltip&&Zr(e,2048,Imt(n))}delete t["!links"]}function Ivt(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Zr(e,125,Rmt(BT(a,n),a))})}}function Fvt(e,t,r,n,a){var i=16+X1(a.cellXfs,t,a);if(t.v==null&&!t.bf){Zr(e,513,Lx(r,n,i));return}if(t.bf)Zr(e,6,agt(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Ed(Yu(t.v)):t.v;Zr(e,515,jmt(r,n,o,i));break;case"b":case"e":Zr(e,517,Emt(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=cB(a.Strings,t.v,a.revStrings);Zr(e,253,_mt(r,n,l,i))}else Zr(e,516,Nmt(r,n,(t.v||"").slice(0,255),i,a));break;default:Zr(e,513,Lx(r,n,i))}}function Dvt(e,t,r){var n=Sd(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,f,h="",g=[],p=lo(i["!ref"]||"A1"),N=u?65536:16384;if(p.e.c>255||p.e.r>=N){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,N-1)}Zr(n,2057,aB(r,16,t)),Zr(n,13,Of(1)),Zr(n,12,Of(100)),Zr(n,15,Uu(!0)),Zr(n,17,Uu(!1)),Zr(n,16,Mx(.001)),Zr(n,95,Uu(!0)),Zr(n,42,Uu(!1)),Zr(n,43,Uu(!1)),Zr(n,130,Of(1)),Zr(n,128,Amt([0,0])),Zr(n,131,Uu(!1)),Zr(n,132,Uu(!1)),u&&Ivt(n,i["!cols"]),Zr(n,512,Cmt(p,t)),u&&(i["!links"]=[]);for(var b=p.s.r;b<=p.e.r;++b){h=Yc(b);for(var S=p.s.c;S<=p.e.c;++S){b===p.s.r&&(g[S]=vu(S)),f=g[S]+h;var C=c?(i[b]||[])[S]:i[f];C&&(Fvt(n,C,b,S,t),u&&C.l&&i["!links"].push([f,C.l]))}}var j=l.CodeName||l.name||a;return u&&Zr(n,574,bmt((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Zr(n,229,Pmt(i["!merges"])),u&&Ovt(n,i),Zr(n,442,pme(j)),u&&kvt(n,i),Zr(n,10),n.end()}function Rvt(e,t,r){var n=Sd(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Zr(n,2057,aB(e,5,r)),r.bookType=="xla"&&Zr(n,135),Zr(n,225,l?Of(1200):null),Zr(n,193,omt(2)),c&&Zr(n,191),c&&Zr(n,192),Zr(n,226),Zr(n,92,gmt("SheetJS",r)),Zr(n,66,Of(l?1200:1252)),l&&Zr(n,353,Of(0)),l&&Zr(n,448),Zr(n,317,Mmt(e.SheetNames.length)),l&&e.vbaraw&&Zr(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Zr(n,442,pme(u))}Zr(n,156,Of(17)),Zr(n,25,Uu(!1)),Zr(n,18,Uu(!1)),Zr(n,19,Of(0)),l&&Zr(n,431,Uu(!1)),l&&Zr(n,444,Of(0)),Zr(n,61,ymt()),Zr(n,64,Uu(!1)),Zr(n,141,Of(0)),Zr(n,34,Uu($xt(e)=="true")),Zr(n,14,Uu(!0)),l&&Zr(n,439,Uu(!1)),Zr(n,218,Of(0)),jvt(n,e,r),Tvt(n,e.SSF,r),Pvt(n,r),l&&Zr(n,352,Uu(!1));var f=n.end(),h=Sd();l&&Zr(h,140,Fmt()),l&&r.Strings&&_vt(h,252,vmt(r.Strings)),Zr(h,10);var g=h.end(),p=Sd(),N=0,b=0;for(b=0;b<e.SheetNames.length;++b)N+=(l?12:11)+(l?2:1)*e.SheetNames[b].length;var S=f.length+N+g.length;for(b=0;b<e.SheetNames.length;++b){var C=i[b]||{};Zr(p,133,xmt({pos:S,hs:C.Hidden||0,dt:0,name:e.SheetNames[b]},r)),S+=t[b].length}var j=p.end();if(N!=j.length)throw new Error("BS8 "+N+" != "+j.length);var T=[];return f.length&&T.push(f),j.length&&T.push(j),g.length&&T.push(g),Wc(T)}function Mvt(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=jd(Xo)),e&&e.SSF&&(FT(),IT(e.SSF),r.revssf=DT(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,uB(r),r.cellXfs=[],X1(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Dvt(a,r,e);return n.unshift(Rvt(e,n,r)),Wc(n)}function zme(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=ff(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Mvt(e,t);case 4:case 3:case 2:return Evt(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Lvt(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var f=_s({r,c:o}),h=n.dense?(e[r]||[])[o]:e[f],g=h&&h.v!=null&&(h.h||p0t(h.w||(Gm(h),h.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?g='<span contenteditable="true">'+g+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+h.l.Target+'">'+g+"</a>")),p.id=(n.id||"sjs")+"-"+f,i.push(qr("td",g,p))}}var N="<tr>";return N+i.join("")+"</tr>"}var Bvt='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Uvt="</body></html>";function $vt(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Vme(e,t){var r=t||{},n=r.header!=null?r.header:Bvt,a=r.footer!=null?r.footer:Uvt,i=[n],o=ff(e["!ref"]);r.dense=Array.isArray(e),i.push($vt(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(Lvt(e,o,l,r));return i.push("</table>"+a),i.join("")}function Wme(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?yc(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var f=ff(e["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),a==-1&&(u.e.r=a=f.e.r+1)}var h=[],g=0,p=e["!rows"]||(e["!rows"]=[]),N=0,b=0,S=0,C=0,j=0,T=0;for(e["!cols"]||(e["!cols"]=[]);N<l.length&&b<c;++N){var O=l[N];if(UZ(O)){if(n.display)continue;p[b]={hidden:!0}}var M=O.children;for(S=C=0;S<M.length;++S){var B=M[S];if(!(n.display&&UZ(B))){var L=B.hasAttribute("data-v")?B.getAttribute("data-v"):B.hasAttribute("v")?B.getAttribute("v"):y0t(B.innerHTML),H=B.getAttribute("data-z")||B.getAttribute("z");for(g=0;g<h.length;++g){var U=h[g];U.s.c==C+i&&U.s.r<b+a&&b+a<=U.e.r&&(C=U.e.c+1-i,g=-1)}T=+B.getAttribute("colspan")||1,((j=+B.getAttribute("rowspan")||1)>1||T>1)&&h.push({s:{r:b+a,c:C+i},e:{r:b+a+(j||1)-1,c:C+i+(T||1)-1}});var J={t:"s",v:L},K=B.getAttribute("data-t")||B.getAttribute("t")||"";L!=null&&(L.length==0?J.t=K||"z":n.raw||L.trim().length==0||K=="s"||(L==="TRUE"?J={t:"b",v:!0}:L==="FALSE"?J={t:"b",v:!1}:isNaN(Fm(L))?isNaN(w5(L).getDate())||(J={t:"d",v:Yu(L)},n.cellDates||(J={t:"n",v:Ed(J.v)}),J.z=n.dateNF||Xo[14]):J={t:"n",v:Fm(L)})),J.z===void 0&&H!=null&&(J.z=H);var G="",re=B.getElementsByTagName("A");if(re&&re.length)for(var ae=0;ae<re.length&&!(re[ae].hasAttribute("href")&&(G=re[ae].getAttribute("href"),G.charAt(0)!="#"));++ae);G&&G.charAt(0)!="#"&&(J.l={Target:G}),n.dense?(e[b+a]||(e[b+a]=[]),e[b+a][C+i]=J):e[_s({c:C+i,r:b+a})]=J,u.e.c<C+i&&(u.e.c=C+i),C+=T}}++b}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,b-1+a),e["!ref"]=Ol(u),b>=c&&(e["!fullref"]=Ol((u.e.r=l.length-N+b-1+a,u))),e}function Hme(e,t){var r=t||{},n=r.dense?[]:{};return Wme(n,e,t)}function zvt(e,t){return iv(Hme(e,t),t)}function UZ(e){var t="",r=Vvt(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Vvt(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Wvt=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+_5({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Fl+t}}(),$Z=function(){var e=function(i){return bs(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+bs(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,f=0,h=ff(i["!ref"]||"A1"),g=i["!merges"]||[],p=0,N=Array.isArray(i);if(i["!cols"])for(f=0;f<=h.e.c;++f)c.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var b="",S=i["!rows"]||[];for(u=0;u<h.s.r;++u)b=S[u]?' table:style-name="ro'+S[u].ods+'"':"",c.push("        <table:table-row"+b+`></table:table-row>
`);for(;u<=h.e.r;++u){for(b=S[u]?' table:style-name="ro'+S[u].ods+'"':"",c.push("        <table:table-row"+b+`>
`),f=0;f<h.s.c;++f)c.push(t);for(;f<=h.e.c;++f){var C=!1,j={},T="";for(p=0;p!=g.length;++p)if(!(g[p].s.c>f)&&!(g[p].s.r>u)&&!(g[p].e.c<f)&&!(g[p].e.r<u)){(g[p].s.c!=f||g[p].s.r!=u)&&(C=!0),j["table:number-columns-spanned"]=g[p].e.c-g[p].s.c+1,j["table:number-rows-spanned"]=g[p].e.r-g[p].s.r+1;break}if(C){c.push(r);continue}var O=_s({r:u,c:f}),M=N?(i[u]||[])[f]:i[O];if(M&&M.f&&(j["table:formula"]=bs(ugt(M.f)),M.F&&M.F.slice(0,O.length)==O)){var B=ff(M.F);j["table:number-matrix-columns-spanned"]=B.e.c-B.s.c+1,j["table:number-matrix-rows-spanned"]=B.e.r-B.s.r+1}if(!M){c.push(t);continue}switch(M.t){case"b":T=M.v?"TRUE":"FALSE",j["office:value-type"]="boolean",j["office:boolean-value"]=M.v?"true":"false";break;case"n":T=M.w||String(M.v||0),j["office:value-type"]="float",j["office:value"]=M.v||0;break;case"s":case"str":T=M.v==null?"":M.v,j["office:value-type"]="string";break;case"d":T=M.w||Yu(M.v).toISOString(),j["office:value-type"]="date",j["office:date-value"]=Yu(M.v).toISOString(),j["table:style-name"]="ce1";break;default:c.push(t);continue}var L=e(T);if(M.l&&M.l.Target){var H=M.l.Target;H=H.charAt(0)=="#"?"#"+dgt(H.slice(1)):H,H.charAt(0)!="#"&&!H.match(/^\w+:/)&&(H="../"+H),L=qr("text:a",L,{"xlink:href":H.replace(/&/g,"&amp;")})}c.push("          "+qr("table:table-cell",qr("text:p",L,{}),j)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var h=u["!cols"][f];if(h.width==null&&h.wpx==null&&h.wch==null)continue;iB(h),h.ods=l;var g=u["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=c;var h=u["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Fl],u=_5({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=_5({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+f+`>
`),c.push(sme().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)c.push(n(o.Sheets[o.SheetNames[h]],o,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function qme(e,t){if(t.bookType=="fods")return $Z(e,t);var r=K9(),n="",a=[],i=[];return n="mimetype",li(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",li(r,n,$Z(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",li(r,n,Wvt(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",li(r,n,Fl+sme()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",li(r,n,rmt(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",li(r,n,emt(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function KE(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Hvt(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ah(Am(e))}function qvt(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function I1(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function Gvt(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function N5(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function xs(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function ry(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ql(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=N5(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=N5(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Rc(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(xs(n*8+a.type)),a.type==2&&t.push(xs(a.data.length)),t.push(a.data))})}),I1(t)}function gh(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=N5(e,n),i=ql(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:ry(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=ql(l.data),u=ry(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=ry(i[3][0].data)>>>0>0),r.push(o)}return r}function Kv(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:xs(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:xs(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:xs(o.data.length)}],n[2].push({data:Rc(o.meta),type:2})});var i=Rc(n);t.push(xs(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),I1(t)}function Kvt(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=N5(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[I1(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var f=I1(a);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function xh(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Kvt(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return I1(t)}function Yv(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=xs(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return I1(t)}function aO(e,t){var r=new Uint8Array(32),n=KE(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Gvt(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function iO(e,t){var r=new Uint8Array(32),n=KE(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Ap(e){var t=ql(e);return N5(t[1][0].data)}function Yvt(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&ry(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=KE(e[7][0].data),f=0,h=[],g=KE(e[4][0].data),p=0,N=[],b=0;b<t.length;++b){if(t[b]==null){u.setUint16(b*2,65535,!0),g.setUint16(b*2,65535);continue}u.setUint16(b*2,f,!0),g.setUint16(b*2,p,!0);var S,C;switch(typeof t[b]){case"string":S=aO({t:"s",v:t[b]},r),C=iO({t:"s",v:t[b]},r);break;case"number":S=aO({t:"n",v:t[b]},r),C=iO({t:"n",v:t[b]},r);break;case"boolean":S=aO({t:"b",v:t[b]},r),C=iO({t:"b",v:t[b]},r);break;default:throw new Error("Unsupported value "+t[b])}h.push(S),f+=S.length,N.push(C),p+=C.length,++c}for(e[2][0].data=xs(c);b<e[7][0].data.length/2;++b)u.setUint16(b*2,65535,!0),g.setUint16(b*2,65535,!0);return e[6][0].data=I1(h),e[3][0].data=I1(N),c}function Xvt(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ff(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Ol(n)));var i=YE(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(he){return he.forEach(function(se){typeof se=="string"&&o.push(se)})});var l={},c=[],u=Es.read(t.numbers,{type:"base64"});u.FileIndex.map(function(he,se){return[he,u.FullPaths[se]]}).forEach(function(he){var se=he[0],te=he[1];if(se.type==2&&se.name.match(/\.iwa/)){var ge=se.content,ue=xh(ge),Ce=gh(ue);Ce.forEach(function(Ne){c.push(Ne.id),l[Ne.id]={deps:[],location:te,type:ry(Ne.messages[0].meta[1][0].data)}})}}),c.sort(function(he,se){return he-se});var f=c.filter(function(he){return he>1}).map(function(he){return[he,xs(he)]});u.FileIndex.map(function(he,se){return[he,u.FullPaths[se]]}).forEach(function(he){var se=he[0];if(he[1],!!se.name.match(/\.iwa/)){var te=gh(xh(se.content));te.forEach(function(ge){ge.messages.forEach(function(ue){f.forEach(function(Ce){ge.messages.some(function(Ne){return ry(Ne.meta[1][0].data)!=11006&&qvt(Ne.data,Ce[1])})&&l[Ce[0]].deps.push(ge.id)})})})}});for(var h=Es.find(u,l[1].location),g=gh(xh(h.content)),p,N=0;N<g.length;++N){var b=g[N];b.id==1&&(p=b)}var S=Ap(ql(p.messages[0].data)[1][0].data);for(h=Es.find(u,l[S].location),g=gh(xh(h.content)),N=0;N<g.length;++N)b=g[N],b.id==S&&(p=b);for(S=Ap(ql(p.messages[0].data)[2][0].data),h=Es.find(u,l[S].location),g=gh(xh(h.content)),N=0;N<g.length;++N)b=g[N],b.id==S&&(p=b);for(S=Ap(ql(p.messages[0].data)[2][0].data),h=Es.find(u,l[S].location),g=gh(xh(h.content)),N=0;N<g.length;++N)b=g[N],b.id==S&&(p=b);var C=ql(p.messages[0].data);{C[6][0].data=xs(n.e.r+1),C[7][0].data=xs(n.e.c+1);var j=Ap(C[46][0].data),T=Es.find(u,l[j].location),O=gh(xh(T.content));{for(var M=0;M<O.length&&O[M].id!=j;++M);if(O[M].id!=j)throw"Bad ColumnRowUIDMapArchive";var B=ql(O[M].messages[0].data);B[1]=[],B[2]=[],B[3]=[];for(var L=0;L<=n.e.c;++L){var H=[];H[1]=H[2]=[{type:0,data:xs(L+420690)}],B[1].push({type:2,data:Rc(H)}),B[2].push({type:0,data:xs(L)}),B[3].push({type:0,data:xs(L)})}B[4]=[],B[5]=[],B[6]=[];for(var U=0;U<=n.e.r;++U)H=[],H[1]=H[2]=[{type:0,data:xs(U+726270)}],B[4].push({type:2,data:Rc(H)}),B[5].push({type:0,data:xs(U)}),B[6].push({type:0,data:xs(U)});O[M].messages[0].data=Rc(B)}T.content=Yv(Kv(O)),T.size=T.content.length,delete C[46];var J=ql(C[4][0].data);{J[7][0].data=xs(n.e.r+1);var K=ql(J[1][0].data),G=Ap(K[2][0].data);T=Es.find(u,l[G].location),O=gh(xh(T.content));{if(O[0].id!=G)throw"Bad HeaderStorageBucket";var re=ql(O[0].messages[0].data);for(U=0;U<i.length;++U){var ae=ql(re[2][0].data);ae[1][0].data=xs(U),ae[4][0].data=xs(i[U].length),re[2][U]={type:re[2][0].type,data:Rc(ae)}}O[0].messages[0].data=Rc(re)}T.content=Yv(Kv(O)),T.size=T.content.length;var X=Ap(J[2][0].data);T=Es.find(u,l[X].location),O=gh(xh(T.content));{if(O[0].id!=X)throw"Bad HeaderStorageBucket";for(re=ql(O[0].messages[0].data),L=0;L<=n.e.c;++L)ae=ql(re[2][0].data),ae[1][0].data=xs(L),ae[4][0].data=xs(n.e.r+1),re[2][L]={type:re[2][0].type,data:Rc(ae)};O[0].messages[0].data=Rc(re)}T.content=Yv(Kv(O)),T.size=T.content.length;var ne=Ap(J[4][0].data);(function(){for(var he=Es.find(u,l[ne].location),se=gh(xh(he.content)),te,ge=0;ge<se.length;++ge){var ue=se[ge];ue.id==ne&&(te=ue)}var Ce=ql(te.messages[0].data);{Ce[3]=[];var Ne=[];o.forEach(function(Be,st){Ne[1]=[{type:0,data:xs(st)}],Ne[2]=[{type:0,data:xs(1)}],Ne[3]=[{type:2,data:Hvt(Be)}],Ce[3].push({type:2,data:Rc(Ne)})})}te.messages[0].data=Rc(Ce);var Ee=Kv(se),Ge=Yv(Ee);he.content=Ge,he.size=he.content.length})();var de=ql(J[3][0].data);{var le=de[1][0];delete de[2];var xe=ql(le.data);{var Se=Ap(xe[2][0].data);(function(){for(var he=Es.find(u,l[Se].location),se=gh(xh(he.content)),te,ge=0;ge<se.length;++ge){var ue=se[ge];ue.id==Se&&(te=ue)}var Ce=ql(te.messages[0].data);{delete Ce[6],delete de[7];var Ne=new Uint8Array(Ce[5][0].data);Ce[5]=[];for(var Ee=0,Ge=0;Ge<=n.e.r;++Ge){var Be=ql(Ne);Ee+=Yvt(Be,i[Ge],o),Be[1][0].data=xs(Ge),Ce[5].push({data:Rc(Be),type:2})}Ce[1]=[{type:0,data:xs(n.e.c+1)}],Ce[2]=[{type:0,data:xs(n.e.r+1)}],Ce[3]=[{type:0,data:xs(Ee)}],Ce[4]=[{type:0,data:xs(n.e.r+1)}]}te.messages[0].data=Rc(Ce);var st=Kv(se),lt=Yv(st);he.content=lt,he.size=he.content.length})()}le.data=Rc(xe)}J[3][0].data=Rc(de)}C[4][0].data=Rc(J)}p.messages[0].data=Rc(C);var ye=Kv(g),ee=Yv(ye);return h.content=ee,h.size=h.content.length,u}function Zvt(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function uB(e){Zvt([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Jvt(e,t){return t.bookType=="ods"?qme(e,t):t.bookType=="numbers"?Xvt(e,t):t.bookType=="xlsb"?Qvt(e,t):e2t(e,t)}function Qvt(e,t){T2=1024,e&&!e.SSF&&(e.SSF=jd(Xo)),e&&e.SSF&&(FT(),IT(e.SSF),t.revssf=DT(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,W_?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=jme.indexOf(t.bookType)>-1,a=nme();uB(t=t||{});var i=K9(),o="",l=0;if(t.cellXfs=[],X1(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",li(i,o,ome(e.Props,t)),a.coreprops.push(o),ys(t.rels,2,o,Ki.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,li(i,o,cme(e.Props)),a.extprops.push(o),ys(t.rels,3,o,Ki.EXT_PROPS),e.Custprops!==e.Props&&Zc(e.Custprops||{}).length>0&&(o="docProps/custom.xml",li(i,o,ume(e.Custprops)),a.custprops.push(o),ys(t.rels,4,o,Ki.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],g=(h||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,li(i,o,rvt(l-1,o,t,e,f)),a.sheets.push(o),ys(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Ki.WS[0])}if(h){var p=h["!comments"],N=!1,b="";p&&p.length>0&&(b="xl/comments"+l+"."+r,li(i,b,ivt(p,b)),a.comments.push(b),ys(f,-1,"../comments"+l+"."+r,Ki.CMNT),N=!0),h["!legacy"]&&N&&li(i,"xl/drawings/vmlDrawing"+l+".vml",Ame(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&li(i,ime(o),ey(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,li(i,o,avt(t.Strings,o,t)),a.strs.push(o),ys(t.wbrels,-1,"sharedStrings."+r,Ki.SST)),o="xl/workbook."+r,li(i,o,tvt(e,o)),a.workbooks.push(o),ys(t.rels,1,o,Ki.WB),o="xl/theme/theme1.xml",li(i,o,Sme(e.Themes,t)),a.themes.push(o),ys(t.wbrels,-1,"theme/theme1.xml",Ki.THEME),o="xl/styles."+r,li(i,o,nvt(e,o,t)),a.styles.push(o),ys(t.wbrels,-1,"styles."+r,Ki.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",li(i,o,e.vbaraw),a.vba.push(o),ys(t.wbrels,-1,"vbaProject.bin",Ki.VBA)),o="xl/metadata."+r,li(i,o,svt(o)),a.metadata.push(o),ys(t.wbrels,-1,"metadata."+r,Ki.XLMETA),li(i,"[Content_Types].xml",ame(a,t)),li(i,"_rels/.rels",ey(t.rels)),li(i,"xl/_rels/workbook."+r+".rels",ey(t.wbrels)),delete t.revssf,delete t.ssf,i}function e2t(e,t){T2=1024,e&&!e.SSF&&(e.SSF=jd(Xo)),e&&e.SSF&&(FT(),IT(e.SSF),t.revssf=DT(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,W_?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=jme.indexOf(t.bookType)>-1,a=nme();uB(t=t||{});var i=K9(),o="",l=0;if(t.cellXfs=[],X1(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",li(i,o,ome(e.Props,t)),a.coreprops.push(o),ys(t.rels,2,o,Ki.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,li(i,o,cme(e.Props)),a.extprops.push(o),ys(t.rels,3,o,Ki.EXT_PROPS),e.Custprops!==e.Props&&Zc(e.Custprops||{}).length>0&&(o="docProps/custom.xml",li(i,o,ume(e.Custprops)),a.custprops.push(o),ys(t.rels,4,o,Ki.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},g=e.Sheets[e.SheetNames[l-1]],p=(g||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,li(i,o,Mme(l-1,t,e,h)),a.sheets.push(o),ys(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Ki.WS[0])}if(g){var N=g["!comments"],b=!1,S="";if(N&&N.length>0){var C=!1;N.forEach(function(j){j[1].forEach(function(T){T.T==!0&&(C=!0)})}),C&&(S="xl/threadedComments/threadedComment"+l+"."+r,li(i,S,Ppt(N,f,t)),a.threadedcomments.push(S),ys(h,-1,"../threadedComments/threadedComment"+l+"."+r,Ki.TCMNT)),S="xl/comments"+l+"."+r,li(i,S,Eme(N)),a.comments.push(S),ys(h,-1,"../comments"+l+"."+r,Ki.CMNT),b=!0}g["!legacy"]&&b&&li(i,"xl/drawings/vmlDrawing"+l+".vml",Ame(l,g["!comments"])),delete g["!comments"],delete g["!legacy"]}h["!id"].rId1&&li(i,ime(o),ey(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,li(i,o,vme(t.Strings,t)),a.strs.push(o),ys(t.wbrels,-1,"sharedStrings."+r,Ki.SST)),o="xl/workbook."+r,li(i,o,Ume(e)),a.workbooks.push(o),ys(t.rels,1,o,Ki.WB),o="xl/theme/theme1.xml",li(i,o,Sme(e.Themes,t)),a.themes.push(o),ys(t.wbrels,-1,"theme/theme1.xml",Ki.THEME),o="xl/styles."+r,li(i,o,_me(e,t)),a.styles.push(o),ys(t.wbrels,-1,"styles."+r,Ki.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",li(i,o,e.vbaraw),a.vba.push(o),ys(t.wbrels,-1,"vbaProject.bin",Ki.VBA)),o="xl/metadata."+r,li(i,o,Cme()),a.metadata.push(o),ys(t.wbrels,-1,"metadata."+r,Ki.XLMETA),f.length>1&&(o="xl/persons/person.xml",li(i,o,Opt(f)),a.people.push(o),ys(t.wbrels,-1,"persons/person.xml",Ki.PEOPLE)),li(i,"[Content_Types].xml",ame(a,t)),li(i,"_rels/.rels",ey(t.rels)),li(i,"xl/_rels/workbook."+r+".rels",ey(t.wbrels)),delete t.revssf,delete t.ssf,i}function t2t(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=qm(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Gme(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return N3(t.file,Es.write(e,{type:cs?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Es.write(e,t)}function r2t(e,t){var r=jd(t||{}),n=Jvt(e,r);return n2t(n,r)}function n2t(e,t){var r={},n=cs?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Es.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(OT(a))}return t.password&&typeof encrypt_agile<"u"?Gme(encrypt_agile(a,t.password),t):t.type==="file"?N3(t.file,a):t.type=="string"?U_(a):a}function a2t(e,t){var r=t||{},n=bvt(e,r);return Gme(n,r)}function f0(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return b5(Am(n));case"binary":return Am(n);case"string":return e;case"file":return N3(t.file,n,"utf8");case"buffer":return cs?rp(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):f0(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function i2t(e,t){switch(t.type){case"base64":return b5(e);case"binary":return e;case"string":return e;case"file":return N3(t.file,e,"binary");case"buffer":return cs?rp(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function RS(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?b5(r):t.type=="string"?U_(r):r;case"file":return N3(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Kme(e,t){Oht(),Wxt(e);var r=jd(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=Kme(e,r);return r.type="array",OT(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return f0(vvt(e,r),r);case"slk":case"sylk":return f0($mt.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return f0(Vme(e.Sheets[e.SheetNames[a]],r),r);case"txt":return i2t(Yme(e.Sheets[e.SheetNames[a]],r),r);case"csv":return f0(dB(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return f0(zmt.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return RS(Umt.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return f0(Vmt.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return f0(Xmt.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return f0(xme.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return f0(qme(e,r),r);case"wk1":return RS(FZ.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return RS(FZ.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),RS(zme(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),a2t(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return r2t(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function s2t(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function o2t(e,t,r){var n=r||{};return n.type="file",n.file=t,s2t(n),Kme(e,n)}function l2t(e,t,r,n,a,i,o,l){var c=Yc(r),u=l.defval,f=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var N=o?e[r][p]:e[n[p]+c];if(N===void 0||N.t===void 0){if(u===void 0)continue;i[p]!=null&&(g[i[p]]=u);continue}var b=N.v;switch(N.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+N.t)}if(i[p]!=null){if(b==null)if(N.t=="e"&&b===null)g[i[p]]=null;else if(u!==void 0)g[i[p]]=u;else if(f&&b===null)g[i[p]]=null;else continue;else g[i[p]]=f&&(N.t!=="n"||N.t==="n"&&l.rawNumbers!==!1)?b:Gm(N,b,l);b!=null&&(h=!1)}}return{row:g,isempty:h}}function YE(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},f=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof f){case"string":c=lo(f);break;case"number":c=lo(e["!ref"]),c.s.r=f;break;default:c=f}n>0&&(a=0);var h=Yc(c.s.r),g=[],p=[],N=0,b=0,S=Array.isArray(e),C=c.s.r,j=0,T={};S&&!e[C]&&(e[C]=[]);var O=u.skipHidden&&e["!cols"]||[],M=u.skipHidden&&e["!rows"]||[];for(j=c.s.c;j<=c.e.c;++j)if(!(O[j]||{}).hidden)switch(g[j]=vu(j),r=S?e[C][j]:e[g[j]+h],n){case 1:i[j]=j-c.s.c;break;case 2:i[j]=g[j];break;case 3:i[j]=u.header[j-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Gm(r,null,u),b=T[o]||0,!b)T[o]=1;else{do l=o+"_"+b++;while(T[l]);T[o]=b,T[l]=1}i[j]=l}for(C=c.s.r+a;C<=c.e.r;++C)if(!(M[C]||{}).hidden){var B=l2t(e,c,C,g,n,i,S,u);(B.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[N++]=B.row)}return p.length=N,p}var zZ=/"/g;function c2t(e,t,r,n,a,i,o,l){for(var c=!0,u=[],f="",h=Yc(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var p=l.dense?(e[r]||[])[g]:e[n[g]+h];if(p==null)f="";else if(p.v!=null){c=!1,f=""+(l.rawNumbers&&p.t=="n"?p.v:Gm(p,null,l));for(var N=0,b=0;N!==f.length;++N)if((b=f.charCodeAt(N))===a||b===i||b===34||l.forceQuotes){f='"'+f.replace(zZ,'""')+'"';break}f=="ID"&&(f='"ID"')}else p.f!=null&&!p.F?(c=!1,f="="+p.f,f.indexOf(",")>=0&&(f='"'+f.replace(zZ,'""')+'"')):f="";u.push(f)}return l.blankrows===!1&&c?null:u.join(o)}function dB(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=lo(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),f="",h=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],N=a.s.c;N<=a.e.c;++N)(g[N]||{}).hidden||(h[N]=vu(N));for(var b=0,S=a.s.r;S<=a.e.r;++S)(p[S]||{}).hidden||(f=c2t(e,a,S,h,o,c,i,n),f!=null&&(n.strip&&(f=f.replace(u,"")),(f||n.blankrows!==!1)&&r.push((b++?l:"")+f)));return delete n.dense,r.join("")}function Yme(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=dB(e,t);return r}function u2t(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=lo(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=vu(l);for(var f=a.s.r;f<=a.e.r;++f)for(i=Yc(f),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[f]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function Xme(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?yc(n.origin):n.origin;o=c.r,l=c.c}var u,f={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var h=lo(i["!ref"]);f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),o==-1&&(o=h.e.r+1,f.e.r=o+t.length-1+a)}else o==-1&&(o=0,f.e.r=t.length-1+a);var g=n.header||[],p=0;t.forEach(function(b,S){Zc(b).forEach(function(C){(p=g.indexOf(C))==-1&&(g[p=g.length]=C);var j=b[C],T="z",O="",M=_s({c:l+p,r:o+S+a});u=S5(i,M),j&&typeof j=="object"&&!(j instanceof Date)?i[M]=j:(typeof j=="number"?T="n":typeof j=="boolean"?T="b":typeof j=="string"?T="s":j instanceof Date?(T="d",n.cellDates||(T="n",j=Ed(j)),O=n.dateNF||Xo[14]):j===null&&n.nullError&&(T="e",j=0),u?(u.t=T,u.v=j,delete u.w,delete u.R,O&&(u.z=O)):i[M]=u={t:T,v:j},O&&(u.z=O))})}),f.e.c=Math.max(f.e.c,l+g.length-1);var N=Yc(o);if(a)for(p=0;p<g.length;++p)i[vu(p+l)+N]={t:"s",v:g[p]};return i["!ref"]=Ol(f),i}function d2t(e,t){return Xme(null,e,t)}function S5(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=yc(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?S5(e,_s(t)):S5(e,_s({r:t,c:r||0}))}function f2t(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function h2t(){return{SheetNames:[],Sheets:{}}}function m2t(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Bme(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function p2t(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=f2t(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function g2t(e,t){return e.z=t,e}function Zme(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function x2t(e,t,r){return Zme(e,"#"+t,r)}function v2t(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function y2t(e,t,r,n){for(var a=typeof t!="string"?t:lo(t),i=typeof t=="string"?t:Ol(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=S5(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var sO={encode_col:vu,encode_row:Yc,encode_cell:_s,encode_range:Ol,decode_col:eB,decode_row:Q9,split_cell:I0t,decode_cell:yc,decode_range:ff,format_cell:Gm,sheet_add_aoa:Z0e,sheet_add_json:Xme,sheet_add_dom:Wme,aoa_to_sheet:Ub,json_to_sheet:d2t,table_to_sheet:Hme,table_to_book:zvt,sheet_to_csv:dB,sheet_to_txt:Yme,sheet_to_json:YE,sheet_to_html:Vme,sheet_to_formulae:u2t,sheet_to_row_object_array:YE,sheet_get_cell:S5,book_new:h2t,book_append_sheet:m2t,book_set_sheet_visibility:p2t,cell_set_number_format:g2t,cell_set_hyperlink:Zme,cell_set_internal_link:x2t,cell_add_comment:v2t,sheet_set_array_formula:y2t,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const _C=()=>{var K,G;bn();const{userProfile:e}=ai(),[t,r]=A.useState([]),[n,a]=A.useState([]),[i,o]=A.useState(!0),[l,c]=A.useState(null),[u,f]=A.useState(""),[h,g]=A.useState("all"),[p,N]=A.useState(null),[b,S]=A.useState(!1),[C,j]=A.useState(""),T=(e==null?void 0:e.user_type)==="super_admin";T||(e==null||e.user_type);const O=T,M=A.useCallback(async()=>{if(["super_admin","admin","secretary"].includes(e==null?void 0:e.user_type)){o(!0);try{let ae=Je.from("organizer_withdrawal_requests").select(`
                  *,
                  organizer:organizer_id (full_name, email, country, phone),
                  reviewer:reviewed_by_admin (full_name)
                `).order("requested_at",{ascending:!1});!T&&(e!=null&&e.country)&&(ae=ae.eq("organizer.country",e.country));const{data:X,error:ne}=await ae;if(ne)throw ne;const de=T?X:X.filter(le=>{var xe;return((xe=le.organizer)==null?void 0:xe.country)===(e==null?void 0:e.country)});r(de||[]),a(de||[])}catch(ae){console.error("Erreur chargement:",ae),ot({title:"Erreur",description:"Impossible de charger les demandes.",variant:"destructive"})}finally{o(!1)}}},[T,e]);A.useEffect(()=>{e&&M()},[e,M]),A.useEffect(()=>{let re=[...t];if(u.trim().length>0){const ae=u.toLowerCase();re=re.filter(X=>{var ne,de,le,xe,Se,ye;return((de=(ne=X.organizer)==null?void 0:ne.full_name)==null?void 0:de.toLowerCase().includes(ae))||((xe=(le=X.organizer)==null?void 0:le.email)==null?void 0:xe.toLowerCase().includes(ae))||((ye=(Se=X.organizer)==null?void 0:Se.phone)==null?void 0:ye.toLowerCase().includes(ae))})}h!=="all"&&(re=re.filter(ae=>ae.status===h)),a(re)},[u,h,t]);const B=()=>{f(""),g("all"),a(t)},L=async(re,ae,X=null)=>{if(!O){ot({title:"Non autoris",description:"Vous n'avez pas les droits pour effectuer cette action.",variant:"destructive"});return}c(re);try{const{data:ne,error:de}=await Je.rpc("process_organizer_withdrawal",{p_request_id:re,p_status:ae,p_notes:X});if(de)throw de;if(ne&&!ne.success)throw new Error(ne.message);ot({title:"Succs",description:`Demande ${ae==="approved"?"approuve":"rejete"}.`}),await M()}catch(ne){ot({title:"Erreur",description:ne.message,variant:"destructive"})}finally{c(null),S(!1),j(""),N(null)}},H=re=>{N(re),S(!0)},U=()=>{const re=n.map(ne=>{var de,le,xe,Se,ye,ee;return{Organisateur:(de=ne.organizer)==null?void 0:de.full_name,Email:(le=ne.organizer)==null?void 0:le.email,Tlphone:(xe=ne.organizer)==null?void 0:xe.phone,Pays:(Se=ne.organizer)==null?void 0:Se.country,Montant_PI:ne.amount_pi,Montant_FCFA:ne.amount_fcfa,Moyen:(ye=ne.payment_details)==null?void 0:ye.method,Identifiant:(ee=ne.payment_details)==null?void 0:ee.number,Statut:ne.status,Date:new Date(ne.requested_at).toLocaleString("fr-FR")}}),ae=sO.json_to_sheet(re),X=sO.book_new();sO.book_append_sheet(X,ae,"Retraits"),o2t(X,"withdrawals.xlsx"),ot({title:"Export russi",description:"Le fichier Excel a t gnr."})},J=re=>{const ae={pending:"bg-yellow-500/20 text-yellow-600 border-yellow-200",approved:"bg-green-500/20 text-green-600 border-green-200",rejected:"bg-red-500/20 text-red-600 border-red-200",paid:"bg-blue-500/20 text-blue-600 border-blue-200"},X={pending:"En attente",approved:"Approuv",rejected:"Rejet",paid:"Pay"};return s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full border ${ae[re]||""}`,children:X[re]||re})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[s.jsxs("div",{className:"relative w-full md:w-72",children:[s.jsx("input",{className:"w-full px-3 py-2 border rounded-md pl-9 bg-background",placeholder:"Rechercher un organisateur...",value:u,onChange:re=>f(re.target.value)}),s.jsx(Il,{className:"w-4 h-4 absolute left-2 top-3 text-muted-foreground"})]}),s.jsxs("select",{className:"px-3 py-2 border rounded-md bg-background w-full md:w-auto",value:h,onChange:re=>g(re.target.value),children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"pending",children:"En attente"}),s.jsx("option",{value:"approved",children:"Approuv"}),s.jsx("option",{value:"rejected",children:"Rejet"}),s.jsx("option",{value:"paid",children:"Pay"})]}),s.jsx(Ue,{variant:"outline",onClick:B,className:"w-full md:w-auto",children:"Rinitialiser"}),s.jsxs("div",{className:"flex gap-2 ml-auto w-full md:w-auto",children:[s.jsxs(Ue,{onClick:U,className:"flex items-center gap-2 flex-1 md:flex-none",variant:"secondary",children:[s.jsx(Ym,{className:"w-4 h-4"})," Excel"]}),s.jsx(Ue,{onClick:M,variant:"outline",disabled:i,className:"flex items-center gap-2 flex-1 md:flex-none",children:s.jsx(qc,{className:`h-4 w-4 ${i?"animate-spin":""}`})})]})]}),!O&&s.jsxs("div",{className:"bg-blue-50 text-blue-700 px-4 py-2 rounded-md text-sm border border-blue-200 flex items-center gap-2",children:[s.jsx(Xm,{className:"w-4 h-4"}),"Mode lecture seule : Seul le Super Admin peut traiter les demandes de retrait."]}),s.jsx("div",{className:"rounded-md border bg-card",children:i?s.jsx("div",{className:"flex justify-center items-center p-8",children:s.jsx(Jt,{className:"h-8 w-8 animate-spin"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(cf,{children:[s.jsx(uf,{children:s.jsxs(pi,{children:[s.jsx(Sn,{children:"Organisateur"}),s.jsx(Sn,{children:"Montant ()"}),s.jsx(Sn,{children:"Montant (FCFA)"}),s.jsx(Sn,{children:"Paiement"}),s.jsx(Sn,{children:"Statut"}),s.jsx(Sn,{children:"Date"}),O&&s.jsx(Sn,{className:"text-right",children:"Actions"})]})}),s.jsx(df,{children:n.length>0?n.map(re=>{var ae,X,ne,de,le,xe,Se;return s.jsxs(pi,{children:[s.jsxs(rn,{children:[s.jsx("div",{className:"font-medium",children:(ae=re.organizer)==null?void 0:ae.full_name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:(X=re.organizer)==null?void 0:X.email}),s.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:(ne=re.organizer)==null?void 0:ne.phone}),(T||e.user_type==="admin")&&s.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium mt-0.5",children:(de=re.organizer)==null?void 0:de.country})]}),s.jsxs(rn,{className:"font-mono",children:[re.amount_pi.toLocaleString("fr-FR")," "]}),s.jsxs(rn,{className:"font-bold",children:[re.amount_fcfa.toLocaleString("fr-FR")," FCFA"]}),s.jsxs(rn,{children:[s.jsx("div",{className:"font-medium",children:((le=re.payment_details)==null?void 0:le.method)||"N/A"}),s.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:((xe=re.payment_details)==null?void 0:xe.number)||((Se=re.payment_details)==null?void 0:Se.account_number)||""})]}),s.jsx(rn,{children:J(re.status)}),s.jsxs(rn,{children:[new Date(re.requested_at).toLocaleDateString("fr-FR"),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(re.requested_at).toLocaleTimeString("fr-FR")})]}),O&&s.jsx(rn,{className:"text-right space-x-2",children:re.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>L(re.id,"approved"),disabled:l===re.id,className:"hover:bg-green-100 dark:hover:bg-green-900/20",title:"Approuver",children:l===re.id?s.jsx(Jt,{className:"h-4 w-4 animate-spin"}):s.jsx(Hx,{className:"h-4 w-4 text-green-600"})}),s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>H(re),disabled:l===re.id,className:"hover:bg-red-100 dark:hover:bg-red-900/20",title:"Rejeter",children:s.jsx(kl,{className:"h-4 w-4 text-red-600"})})]})})]},re.id)}):s.jsx(pi,{children:s.jsx(rn,{colSpan:O?7:6,className:"text-center py-8",children:"Aucun rsultat trouv."})})})]})})}),s.jsx(To,{open:b,onOpenChange:S,children:s.jsxs(xo,{children:[s.jsxs(ko,{children:[s.jsx(Po,{children:"Rejeter la demande"}),s.jsx(dl,{children:"Une raison est obligatoire et sera visible par lorganisateur."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[p&&s.jsxs("div",{className:"p-3 bg-muted rounded-lg text-sm border",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Organisateur:"})," ",(K=p.organizer)==null?void 0:K.full_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Montant:"})," ",p.amount_pi," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Paiement:"})," ",(G=p.payment_details)==null?void 0:G.method]})]}),s.jsx(ec,{rows:4,placeholder:"Ex: Numro mobile money incorrect...",value:C,onChange:re=>j(re.target.value)})]}),s.jsxs(Jc,{children:[s.jsx(Ue,{variant:"outline",onClick:()=>S(!1),children:"Annuler"}),s.jsxs(Ue,{variant:"destructive",onClick:()=>L(p==null?void 0:p.id,"rejected",C),disabled:!C.trim()||l===(p==null?void 0:p.id),children:[l===(p==null?void 0:p.id)&&s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirmer"]})]})]})})]})},b2t=()=>{const{user:e}=bn(),[t,r]=A.useState([]),[n,a]=A.useState(!0),[i,o]=A.useState(!1),[l,c]=A.useState(""),[u,f]=A.useState(!1),[h,g]=A.useState(null),[p,N]=A.useState({title:"",message:"",type:"info",video_url:"",target_audience:"all",target_countries:[],send_immediately:!1}),[b,S]=A.useState(!1),[C,j]=A.useState([]);A.useEffect(()=>{T(),O()},[]);const T=async()=>{a(!0);try{const{data:J,error:K}=await Je.from("announcements").select("*").order("created_at",{ascending:!1});if(K)throw K;r(J||[])}catch(J){console.error("Error fetching announcements:",J),ot({title:"Erreur",description:"Impossible de charger les annonces.",variant:"destructive"})}finally{a(!1)}},O=async()=>{try{const{data:J}=await Je.from("profiles").select("country").not("country","is",null);if(J){const K=[...new Set(J.map(G=>G.country).filter(Boolean))];j(K)}}catch(J){console.error("Error fetching countries:",J)}},M=async J=>{var K,G;J.preventDefault(),S(!0);try{if(!((K=p.title)!=null&&K.trim()))throw new Error("Le titre est requis");if(!((G=p.message)!=null&&G.trim()))throw new Error("Le message est requis");if(p.target_audience==="countries"&&(!p.target_countries||p.target_countries.length===0))throw new Error("Veuillez slectionner au moins un pays cible");const re={title:p.title,message:p.message,type:p.type,video_url:p.video_url,target_audience:p.target_audience,target_countries:p.target_audience==="countries"?p.target_countries:null,send_to_all_users:p.target_audience==="all",send_immediately:p.send_immediately,created_by:e.id,status:p.send_immediately?"sent":"pending",sent_at:p.send_immediately?new Date().toISOString():null},{data:ae,error:X}=await Je.from("announcements").insert(re).select().single();if(X)throw X;p.send_immediately&&await Je.rpc("send_announcement_to_users",{announcement_uuid:ae.id}),ot({title:"Succs",description:"Annonce cre avec succs."}),o(!1),N({title:"",message:"",type:"info",video_url:"",target_audience:"all",target_countries:[],send_immediately:!1}),T()}catch(re){console.error("Create error:",re),ot({title:"Erreur",description:re.message,variant:"destructive"})}finally{S(!1)}},B=J=>{g(J),f(!0)},L=async()=>{if(h)try{const{error:J}=await Je.from("announcements").delete().eq("id",h.id);if(J)throw J;r(K=>K.filter(G=>G.id!==h.id)),ot({title:"Supprime",description:"L'annonce a t supprime."})}catch(J){ot({title:"Erreur",description:J.message,variant:"destructive"})}finally{f(!1),g(null)}},H=J=>{N(K=>{const G=K.target_countries||[];return G.includes(J)?{...K,target_countries:G.filter(re=>re!==J)}:{...K,target_countries:[...G,J]}})},U=(t||[]).filter(J=>{var K,G;return((K=J.title)==null?void 0:K.toLowerCase().includes(l.toLowerCase()))||((G=J.message)==null?void 0:G.toLowerCase().includes(l.toLowerCase()))});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Vte,{className:"w-6 h-6 text-primary"}),"Gestion des Annonces"]}),s.jsx("p",{className:"text-muted-foreground",children:"Crez et grez les notifications globales."})]}),s.jsxs(To,{open:i,onOpenChange:o,children:[s.jsx(i3,{asChild:!0,children:s.jsxs(Ue,{children:[s.jsx(Ql,{className:"w-4 h-4 mr-2"})," Nouvelle Annonce"]})}),s.jsxs(xo,{className:"max-w-2xl",children:[s.jsxs(ko,{children:[s.jsx(Po,{children:"Crer une annonce"}),s.jsx(dl,{children:"Envoyez un message  vos utilisateurs."})]}),s.jsxs("form",{onSubmit:M,className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Titre"}),s.jsx(er,{value:p.title,onChange:J=>N({...p,title:J.target.value}),placeholder:"Titre de l'annonce",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Type"}),s.jsxs(Ai,{value:p.type,onValueChange:J=>N({...p,type:J}),children:[s.jsx(vi,{children:s.jsx(Ei,{})}),s.jsxs(yi,{children:[s.jsx(on,{value:"info",children:"Information"}),s.jsx(on,{value:"alert",children:"Alerte"}),s.jsx(on,{value:"promo",children:"Promotion"}),s.jsx(on,{value:"event",children:"vnement"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Message"}),s.jsx(ec,{value:p.message,onChange:J=>N({...p,message:J.target.value}),placeholder:"Contenu de votre message...",rows:4,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Vido URL (Optionnel)"}),s.jsx(er,{value:p.video_url,onChange:J=>N({...p,video_url:J.target.value}),placeholder:"https://..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Cible"}),s.jsxs(Ai,{value:p.target_audience,onValueChange:J=>N({...p,target_audience:J}),children:[s.jsx(vi,{children:s.jsx(Ei,{})}),s.jsxs(yi,{children:[s.jsx(on,{value:"all",children:"Tous les utilisateurs"}),s.jsx(on,{value:"countries",children:"Pays spcifiques"})]})]})]}),p.target_audience==="countries"&&s.jsxs("div",{className:"p-4 border rounded-md bg-muted/50",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Slectionner les pays"}),s.jsx(R4,{className:"h-32",children:s.jsx("div",{className:"grid grid-cols-2 gap-2",children:(C||[]).map(J=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zu,{id:`country-${J}`,checked:(p.target_countries||[]).includes(J),onCheckedChange:()=>H(J)}),s.jsx("label",{htmlFor:`country-${J}`,className:"text-sm",children:J})]},J))})})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[s.jsx(zu,{id:"send-now",checked:p.send_immediately,onCheckedChange:J=>N({...p,send_immediately:J})}),s.jsx("label",{htmlFor:"send-now",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Envoyer immdiatement comme notification push"})]}),s.jsxs(Jc,{children:[s.jsx(Ue,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Annuler"}),s.jsxs(Ue,{type:"submit",disabled:b,children:[b&&s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}),"Crer l'annonce"]})]})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Il,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(er,{placeholder:"Rechercher une annonce...",className:"pl-10",value:l,onChange:J=>c(J.target.value)})]}),n?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin"})}):s.jsx("div",{className:"grid gap-4",children:U.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucune annonce trouve."}):U.map(J=>{var K;return s.jsx(qt,{className:"overflow-hidden",children:s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsx("div",{className:`w-2 bg-${J.type==="alert"?"red":J.type==="promo"?"purple":"blue"}-500`}),s.jsx(Xt,{className:"flex-1 p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Vr,{variant:"outline",className:"uppercase text-xs",children:J.type}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(J.created_at).toLocaleDateString()}),J.status==="sent"&&s.jsx(Vr,{className:"bg-green-500",children:"Envoye"})]}),s.jsx("h3",{className:"text-xl font-bold",children:J.title}),s.jsx("p",{className:"text-muted-foreground mt-2",children:J.message}),s.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ao,{className:"w-4 h-4"}),"Cible: ",J.target_audience==="all"?"Tous":(((K=J.target_countries)==null?void 0:K.length)||0)+" pays"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(f_e,{className:"w-4 h-4"}),"Reus: ",J.delivered_count||0]})]})]}),s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>B(J),className:"text-destructive hover:bg-destructive/10",children:s.jsx(Yo,{className:"w-5 h-5"})})]})})]})},J.id)})}),s.jsx(hl,{open:u,onOpenChange:f,children:s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:"Supprimer l'annonce"}),s.jsx(el,{children:"tes-vous sr de vouloir supprimer cette annonce ? Cette action est irrversible."})]}),s.jsx("div",{className:"py-4",children:s.jsx("p",{className:"font-semibold text-white",children:h==null?void 0:h.title})}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(gl,{children:"Annuler"}),s.jsx(pl,{onClick:L,className:"bg-destructive hover:bg-destructive/90",children:"Supprimer"})]})]})})]})};function NC(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hR={exports:{}},oO={exports:{}};/*! cpexcel.js (C) 2013-present SheetJS -- http://sheetjs.com */var VZ;function w2t(){return VZ||(VZ=1,function(e){var t={version:"1.15.0"};t[437]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[620]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[737]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[850]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[852]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[857]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[861]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[865]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[866]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[874]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[895]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[932]=function(){var r=[],n={},a=[],i;for(a[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),i=0;i!=a[0].length;++i)a[0][i].charCodeAt(0)!==65533&&(n[a[0][i]]=0+i,r[0+i]=a[0][i]);for(a[129]="".split(""),i=0;i!=a[129].length;++i)a[129][i].charCodeAt(0)!==65533&&(n[a[129][i]]=33024+i,r[33024+i]=a[129][i]);for(a[130]="".split(""),i=0;i!=a[130].length;++i)a[130][i].charCodeAt(0)!==65533&&(n[a[130][i]]=33280+i,r[33280+i]=a[130][i]);for(a[131]="".split(""),i=0;i!=a[131].length;++i)a[131][i].charCodeAt(0)!==65533&&(n[a[131][i]]=33536+i,r[33536+i]=a[131][i]);for(a[132]="".split(""),i=0;i!=a[132].length;++i)a[132][i].charCodeAt(0)!==65533&&(n[a[132][i]]=33792+i,r[33792+i]=a[132][i]);for(a[135]="".split(""),i=0;i!=a[135].length;++i)a[135][i].charCodeAt(0)!==65533&&(n[a[135][i]]=34560+i,r[34560+i]=a[135][i]);for(a[136]="".split(""),i=0;i!=a[136].length;++i)a[136][i].charCodeAt(0)!==65533&&(n[a[136][i]]=34816+i,r[34816+i]=a[136][i]);for(a[137]="".split(""),i=0;i!=a[137].length;++i)a[137][i].charCodeAt(0)!==65533&&(n[a[137][i]]=35072+i,r[35072+i]=a[137][i]);for(a[138]="".split(""),i=0;i!=a[138].length;++i)a[138][i].charCodeAt(0)!==65533&&(n[a[138][i]]=35328+i,r[35328+i]=a[138][i]);for(a[139]="".split(""),i=0;i!=a[139].length;++i)a[139][i].charCodeAt(0)!==65533&&(n[a[139][i]]=35584+i,r[35584+i]=a[139][i]);for(a[140]="".split(""),i=0;i!=a[140].length;++i)a[140][i].charCodeAt(0)!==65533&&(n[a[140][i]]=35840+i,r[35840+i]=a[140][i]);for(a[141]="".split(""),i=0;i!=a[141].length;++i)a[141][i].charCodeAt(0)!==65533&&(n[a[141][i]]=36096+i,r[36096+i]=a[141][i]);for(a[142]="".split(""),i=0;i!=a[142].length;++i)a[142][i].charCodeAt(0)!==65533&&(n[a[142][i]]=36352+i,r[36352+i]=a[142][i]);for(a[143]="".split(""),i=0;i!=a[143].length;++i)a[143][i].charCodeAt(0)!==65533&&(n[a[143][i]]=36608+i,r[36608+i]=a[143][i]);for(a[144]="".split(""),i=0;i!=a[144].length;++i)a[144][i].charCodeAt(0)!==65533&&(n[a[144][i]]=36864+i,r[36864+i]=a[144][i]);for(a[145]="".split(""),i=0;i!=a[145].length;++i)a[145][i].charCodeAt(0)!==65533&&(n[a[145][i]]=37120+i,r[37120+i]=a[145][i]);for(a[146]="".split(""),i=0;i!=a[146].length;++i)a[146][i].charCodeAt(0)!==65533&&(n[a[146][i]]=37376+i,r[37376+i]=a[146][i]);for(a[147]="".split(""),i=0;i!=a[147].length;++i)a[147][i].charCodeAt(0)!==65533&&(n[a[147][i]]=37632+i,r[37632+i]=a[147][i]);for(a[148]="".split(""),i=0;i!=a[148].length;++i)a[148][i].charCodeAt(0)!==65533&&(n[a[148][i]]=37888+i,r[37888+i]=a[148][i]);for(a[149]="".split(""),i=0;i!=a[149].length;++i)a[149][i].charCodeAt(0)!==65533&&(n[a[149][i]]=38144+i,r[38144+i]=a[149][i]);for(a[150]="".split(""),i=0;i!=a[150].length;++i)a[150][i].charCodeAt(0)!==65533&&(n[a[150][i]]=38400+i,r[38400+i]=a[150][i]);for(a[151]="".split(""),i=0;i!=a[151].length;++i)a[151][i].charCodeAt(0)!==65533&&(n[a[151][i]]=38656+i,r[38656+i]=a[151][i]);for(a[152]="".split(""),i=0;i!=a[152].length;++i)a[152][i].charCodeAt(0)!==65533&&(n[a[152][i]]=38912+i,r[38912+i]=a[152][i]);for(a[153]="".split(""),i=0;i!=a[153].length;++i)a[153][i].charCodeAt(0)!==65533&&(n[a[153][i]]=39168+i,r[39168+i]=a[153][i]);for(a[154]="".split(""),i=0;i!=a[154].length;++i)a[154][i].charCodeAt(0)!==65533&&(n[a[154][i]]=39424+i,r[39424+i]=a[154][i]);for(a[155]="".split(""),i=0;i!=a[155].length;++i)a[155][i].charCodeAt(0)!==65533&&(n[a[155][i]]=39680+i,r[39680+i]=a[155][i]);for(a[156]="".split(""),i=0;i!=a[156].length;++i)a[156][i].charCodeAt(0)!==65533&&(n[a[156][i]]=39936+i,r[39936+i]=a[156][i]);for(a[157]="".split(""),i=0;i!=a[157].length;++i)a[157][i].charCodeAt(0)!==65533&&(n[a[157][i]]=40192+i,r[40192+i]=a[157][i]);for(a[158]="".split(""),i=0;i!=a[158].length;++i)a[158][i].charCodeAt(0)!==65533&&(n[a[158][i]]=40448+i,r[40448+i]=a[158][i]);for(a[159]="".split(""),i=0;i!=a[159].length;++i)a[159][i].charCodeAt(0)!==65533&&(n[a[159][i]]=40704+i,r[40704+i]=a[159][i]);for(a[224]="".split(""),i=0;i!=a[224].length;++i)a[224][i].charCodeAt(0)!==65533&&(n[a[224][i]]=57344+i,r[57344+i]=a[224][i]);for(a[225]="".split(""),i=0;i!=a[225].length;++i)a[225][i].charCodeAt(0)!==65533&&(n[a[225][i]]=57600+i,r[57600+i]=a[225][i]);for(a[226]="".split(""),i=0;i!=a[226].length;++i)a[226][i].charCodeAt(0)!==65533&&(n[a[226][i]]=57856+i,r[57856+i]=a[226][i]);for(a[227]="".split(""),i=0;i!=a[227].length;++i)a[227][i].charCodeAt(0)!==65533&&(n[a[227][i]]=58112+i,r[58112+i]=a[227][i]);for(a[228]="".split(""),i=0;i!=a[228].length;++i)a[228][i].charCodeAt(0)!==65533&&(n[a[228][i]]=58368+i,r[58368+i]=a[228][i]);for(a[229]="".split(""),i=0;i!=a[229].length;++i)a[229][i].charCodeAt(0)!==65533&&(n[a[229][i]]=58624+i,r[58624+i]=a[229][i]);for(a[230]="".split(""),i=0;i!=a[230].length;++i)a[230][i].charCodeAt(0)!==65533&&(n[a[230][i]]=58880+i,r[58880+i]=a[230][i]);for(a[231]="".split(""),i=0;i!=a[231].length;++i)a[231][i].charCodeAt(0)!==65533&&(n[a[231][i]]=59136+i,r[59136+i]=a[231][i]);for(a[232]="".split(""),i=0;i!=a[232].length;++i)a[232][i].charCodeAt(0)!==65533&&(n[a[232][i]]=59392+i,r[59392+i]=a[232][i]);for(a[233]="".split(""),i=0;i!=a[233].length;++i)a[233][i].charCodeAt(0)!==65533&&(n[a[233][i]]=59648+i,r[59648+i]=a[233][i]);for(a[234]="".split(""),i=0;i!=a[234].length;++i)a[234][i].charCodeAt(0)!==65533&&(n[a[234][i]]=59904+i,r[59904+i]=a[234][i]);for(a[237]="".split(""),i=0;i!=a[237].length;++i)a[237][i].charCodeAt(0)!==65533&&(n[a[237][i]]=60672+i,r[60672+i]=a[237][i]);for(a[238]="".split(""),i=0;i!=a[238].length;++i)a[238][i].charCodeAt(0)!==65533&&(n[a[238][i]]=60928+i,r[60928+i]=a[238][i]);for(a[250]="".split(""),i=0;i!=a[250].length;++i)a[250][i].charCodeAt(0)!==65533&&(n[a[250][i]]=64e3+i,r[64e3+i]=a[250][i]);for(a[251]="".split(""),i=0;i!=a[251].length;++i)a[251][i].charCodeAt(0)!==65533&&(n[a[251][i]]=64256+i,r[64256+i]=a[251][i]);for(a[252]="".split(""),i=0;i!=a[252].length;++i)a[252][i].charCodeAt(0)!==65533&&(n[a[252][i]]=64512+i,r[64512+i]=a[252][i]);return{enc:n,dec:r}}(),t[936]=function(){var r=[],n={},a=[],i;for(a[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),i=0;i!=a[0].length;++i)a[0][i].charCodeAt(0)!==65533&&(n[a[0][i]]=0+i,r[0+i]=a[0][i]);for(a[129]="".split(""),i=0;i!=a[129].length;++i)a[129][i].charCodeAt(0)!==65533&&(n[a[129][i]]=33024+i,r[33024+i]=a[129][i]);for(a[130]="".split(""),i=0;i!=a[130].length;++i)a[130][i].charCodeAt(0)!==65533&&(n[a[130][i]]=33280+i,r[33280+i]=a[130][i]);for(a[131]="".split(""),i=0;i!=a[131].length;++i)a[131][i].charCodeAt(0)!==65533&&(n[a[131][i]]=33536+i,r[33536+i]=a[131][i]);for(a[132]="".split(""),i=0;i!=a[132].length;++i)a[132][i].charCodeAt(0)!==65533&&(n[a[132][i]]=33792+i,r[33792+i]=a[132][i]);for(a[133]="".split(""),i=0;i!=a[133].length;++i)a[133][i].charCodeAt(0)!==65533&&(n[a[133][i]]=34048+i,r[34048+i]=a[133][i]);for(a[134]="".split(""),i=0;i!=a[134].length;++i)a[134][i].charCodeAt(0)!==65533&&(n[a[134][i]]=34304+i,r[34304+i]=a[134][i]);for(a[135]="".split(""),i=0;i!=a[135].length;++i)a[135][i].charCodeAt(0)!==65533&&(n[a[135][i]]=34560+i,r[34560+i]=a[135][i]);for(a[136]="".split(""),i=0;i!=a[136].length;++i)a[136][i].charCodeAt(0)!==65533&&(n[a[136][i]]=34816+i,r[34816+i]=a[136][i]);for(a[137]="".split(""),i=0;i!=a[137].length;++i)a[137][i].charCodeAt(0)!==65533&&(n[a[137][i]]=35072+i,r[35072+i]=a[137][i]);for(a[138]="".split(""),i=0;i!=a[138].length;++i)a[138][i].charCodeAt(0)!==65533&&(n[a[138][i]]=35328+i,r[35328+i]=a[138][i]);for(a[139]="".split(""),i=0;i!=a[139].length;++i)a[139][i].charCodeAt(0)!==65533&&(n[a[139][i]]=35584+i,r[35584+i]=a[139][i]);for(a[140]="".split(""),i=0;i!=a[140].length;++i)a[140][i].charCodeAt(0)!==65533&&(n[a[140][i]]=35840+i,r[35840+i]=a[140][i]);for(a[141]="".split(""),i=0;i!=a[141].length;++i)a[141][i].charCodeAt(0)!==65533&&(n[a[141][i]]=36096+i,r[36096+i]=a[141][i]);for(a[142]="".split(""),i=0;i!=a[142].length;++i)a[142][i].charCodeAt(0)!==65533&&(n[a[142][i]]=36352+i,r[36352+i]=a[142][i]);for(a[143]="".split(""),i=0;i!=a[143].length;++i)a[143][i].charCodeAt(0)!==65533&&(n[a[143][i]]=36608+i,r[36608+i]=a[143][i]);for(a[144]="".split(""),i=0;i!=a[144].length;++i)a[144][i].charCodeAt(0)!==65533&&(n[a[144][i]]=36864+i,r[36864+i]=a[144][i]);for(a[145]="".split(""),i=0;i!=a[145].length;++i)a[145][i].charCodeAt(0)!==65533&&(n[a[145][i]]=37120+i,r[37120+i]=a[145][i]);for(a[146]="".split(""),i=0;i!=a[146].length;++i)a[146][i].charCodeAt(0)!==65533&&(n[a[146][i]]=37376+i,r[37376+i]=a[146][i]);for(a[147]="".split(""),i=0;i!=a[147].length;++i)a[147][i].charCodeAt(0)!==65533&&(n[a[147][i]]=37632+i,r[37632+i]=a[147][i]);for(a[148]="".split(""),i=0;i!=a[148].length;++i)a[148][i].charCodeAt(0)!==65533&&(n[a[148][i]]=37888+i,r[37888+i]=a[148][i]);for(a[149]="".split(""),i=0;i!=a[149].length;++i)a[149][i].charCodeAt(0)!==65533&&(n[a[149][i]]=38144+i,r[38144+i]=a[149][i]);for(a[150]="".split(""),i=0;i!=a[150].length;++i)a[150][i].charCodeAt(0)!==65533&&(n[a[150][i]]=38400+i,r[38400+i]=a[150][i]);for(a[151]="".split(""),i=0;i!=a[151].length;++i)a[151][i].charCodeAt(0)!==65533&&(n[a[151][i]]=38656+i,r[38656+i]=a[151][i]);for(a[152]="".split(""),i=0;i!=a[152].length;++i)a[152][i].charCodeAt(0)!==65533&&(n[a[152][i]]=38912+i,r[38912+i]=a[152][i]);for(a[153]="".split(""),i=0;i!=a[153].length;++i)a[153][i].charCodeAt(0)!==65533&&(n[a[153][i]]=39168+i,r[39168+i]=a[153][i]);for(a[154]="".split(""),i=0;i!=a[154].length;++i)a[154][i].charCodeAt(0)!==65533&&(n[a[154][i]]=39424+i,r[39424+i]=a[154][i]);for(a[155]="".split(""),i=0;i!=a[155].length;++i)a[155][i].charCodeAt(0)!==65533&&(n[a[155][i]]=39680+i,r[39680+i]=a[155][i]);for(a[156]="".split(""),i=0;i!=a[156].length;++i)a[156][i].charCodeAt(0)!==65533&&(n[a[156][i]]=39936+i,r[39936+i]=a[156][i]);for(a[157]="".split(""),i=0;i!=a[157].length;++i)a[157][i].charCodeAt(0)!==65533&&(n[a[157][i]]=40192+i,r[40192+i]=a[157][i]);for(a[158]="".split(""),i=0;i!=a[158].length;++i)a[158][i].charCodeAt(0)!==65533&&(n[a[158][i]]=40448+i,r[40448+i]=a[158][i]);for(a[159]="".split(""),i=0;i!=a[159].length;++i)a[159][i].charCodeAt(0)!==65533&&(n[a[159][i]]=40704+i,r[40704+i]=a[159][i]);for(a[160]="".split(""),i=0;i!=a[160].length;++i)a[160][i].charCodeAt(0)!==65533&&(n[a[160][i]]=40960+i,r[40960+i]=a[160][i]);for(a[161]="".split(""),i=0;i!=a[161].length;++i)a[161][i].charCodeAt(0)!==65533&&(n[a[161][i]]=41216+i,r[41216+i]=a[161][i]);for(a[162]="".split(""),i=0;i!=a[162].length;++i)a[162][i].charCodeAt(0)!==65533&&(n[a[162][i]]=41472+i,r[41472+i]=a[162][i]);for(a[163]="".split(""),i=0;i!=a[163].length;++i)a[163][i].charCodeAt(0)!==65533&&(n[a[163][i]]=41728+i,r[41728+i]=a[163][i]);for(a[164]="".split(""),i=0;i!=a[164].length;++i)a[164][i].charCodeAt(0)!==65533&&(n[a[164][i]]=41984+i,r[41984+i]=a[164][i]);for(a[165]="".split(""),i=0;i!=a[165].length;++i)a[165][i].charCodeAt(0)!==65533&&(n[a[165][i]]=42240+i,r[42240+i]=a[165][i]);for(a[166]="".split(""),i=0;i!=a[166].length;++i)a[166][i].charCodeAt(0)!==65533&&(n[a[166][i]]=42496+i,r[42496+i]=a[166][i]);for(a[167]="".split(""),i=0;i!=a[167].length;++i)a[167][i].charCodeAt(0)!==65533&&(n[a[167][i]]=42752+i,r[42752+i]=a[167][i]);for(a[168]="".split(""),i=0;i!=a[168].length;++i)a[168][i].charCodeAt(0)!==65533&&(n[a[168][i]]=43008+i,r[43008+i]=a[168][i]);for(a[169]="".split(""),i=0;i!=a[169].length;++i)a[169][i].charCodeAt(0)!==65533&&(n[a[169][i]]=43264+i,r[43264+i]=a[169][i]);for(a[170]="".split(""),i=0;i!=a[170].length;++i)a[170][i].charCodeAt(0)!==65533&&(n[a[170][i]]=43520+i,r[43520+i]=a[170][i]);for(a[171]="".split(""),i=0;i!=a[171].length;++i)a[171][i].charCodeAt(0)!==65533&&(n[a[171][i]]=43776+i,r[43776+i]=a[171][i]);for(a[172]="".split(""),i=0;i!=a[172].length;++i)a[172][i].charCodeAt(0)!==65533&&(n[a[172][i]]=44032+i,r[44032+i]=a[172][i]);for(a[173]="".split(""),i=0;i!=a[173].length;++i)a[173][i].charCodeAt(0)!==65533&&(n[a[173][i]]=44288+i,r[44288+i]=a[173][i]);for(a[174]="".split(""),i=0;i!=a[174].length;++i)a[174][i].charCodeAt(0)!==65533&&(n[a[174][i]]=44544+i,r[44544+i]=a[174][i]);for(a[175]="".split(""),i=0;i!=a[175].length;++i)a[175][i].charCodeAt(0)!==65533&&(n[a[175][i]]=44800+i,r[44800+i]=a[175][i]);for(a[176]="".split(""),i=0;i!=a[176].length;++i)a[176][i].charCodeAt(0)!==65533&&(n[a[176][i]]=45056+i,r[45056+i]=a[176][i]);for(a[177]="".split(""),i=0;i!=a[177].length;++i)a[177][i].charCodeAt(0)!==65533&&(n[a[177][i]]=45312+i,r[45312+i]=a[177][i]);for(a[178]="".split(""),i=0;i!=a[178].length;++i)a[178][i].charCodeAt(0)!==65533&&(n[a[178][i]]=45568+i,r[45568+i]=a[178][i]);for(a[179]="".split(""),i=0;i!=a[179].length;++i)a[179][i].charCodeAt(0)!==65533&&(n[a[179][i]]=45824+i,r[45824+i]=a[179][i]);for(a[180]="".split(""),i=0;i!=a[180].length;++i)a[180][i].charCodeAt(0)!==65533&&(n[a[180][i]]=46080+i,r[46080+i]=a[180][i]);for(a[181]="".split(""),i=0;i!=a[181].length;++i)a[181][i].charCodeAt(0)!==65533&&(n[a[181][i]]=46336+i,r[46336+i]=a[181][i]);for(a[182]="".split(""),i=0;i!=a[182].length;++i)a[182][i].charCodeAt(0)!==65533&&(n[a[182][i]]=46592+i,r[46592+i]=a[182][i]);for(a[183]="".split(""),i=0;i!=a[183].length;++i)a[183][i].charCodeAt(0)!==65533&&(n[a[183][i]]=46848+i,r[46848+i]=a[183][i]);for(a[184]="".split(""),i=0;i!=a[184].length;++i)a[184][i].charCodeAt(0)!==65533&&(n[a[184][i]]=47104+i,r[47104+i]=a[184][i]);for(a[185]="".split(""),i=0;i!=a[185].length;++i)a[185][i].charCodeAt(0)!==65533&&(n[a[185][i]]=47360+i,r[47360+i]=a[185][i]);for(a[186]="".split(""),i=0;i!=a[186].length;++i)a[186][i].charCodeAt(0)!==65533&&(n[a[186][i]]=47616+i,r[47616+i]=a[186][i]);for(a[187]="".split(""),i=0;i!=a[187].length;++i)a[187][i].charCodeAt(0)!==65533&&(n[a[187][i]]=47872+i,r[47872+i]=a[187][i]);for(a[188]="".split(""),i=0;i!=a[188].length;++i)a[188][i].charCodeAt(0)!==65533&&(n[a[188][i]]=48128+i,r[48128+i]=a[188][i]);for(a[189]="".split(""),i=0;i!=a[189].length;++i)a[189][i].charCodeAt(0)!==65533&&(n[a[189][i]]=48384+i,r[48384+i]=a[189][i]);for(a[190]="".split(""),i=0;i!=a[190].length;++i)a[190][i].charCodeAt(0)!==65533&&(n[a[190][i]]=48640+i,r[48640+i]=a[190][i]);for(a[191]="".split(""),i=0;i!=a[191].length;++i)a[191][i].charCodeAt(0)!==65533&&(n[a[191][i]]=48896+i,r[48896+i]=a[191][i]);for(a[192]="".split(""),i=0;i!=a[192].length;++i)a[192][i].charCodeAt(0)!==65533&&(n[a[192][i]]=49152+i,r[49152+i]=a[192][i]);for(a[193]="".split(""),i=0;i!=a[193].length;++i)a[193][i].charCodeAt(0)!==65533&&(n[a[193][i]]=49408+i,r[49408+i]=a[193][i]);for(a[194]="".split(""),i=0;i!=a[194].length;++i)a[194][i].charCodeAt(0)!==65533&&(n[a[194][i]]=49664+i,r[49664+i]=a[194][i]);for(a[195]="".split(""),i=0;i!=a[195].length;++i)a[195][i].charCodeAt(0)!==65533&&(n[a[195][i]]=49920+i,r[49920+i]=a[195][i]);for(a[196]="".split(""),i=0;i!=a[196].length;++i)a[196][i].charCodeAt(0)!==65533&&(n[a[196][i]]=50176+i,r[50176+i]=a[196][i]);for(a[197]="".split(""),i=0;i!=a[197].length;++i)a[197][i].charCodeAt(0)!==65533&&(n[a[197][i]]=50432+i,r[50432+i]=a[197][i]);for(a[198]="".split(""),i=0;i!=a[198].length;++i)a[198][i].charCodeAt(0)!==65533&&(n[a[198][i]]=50688+i,r[50688+i]=a[198][i]);for(a[199]="".split(""),i=0;i!=a[199].length;++i)a[199][i].charCodeAt(0)!==65533&&(n[a[199][i]]=50944+i,r[50944+i]=a[199][i]);for(a[200]="".split(""),i=0;i!=a[200].length;++i)a[200][i].charCodeAt(0)!==65533&&(n[a[200][i]]=51200+i,r[51200+i]=a[200][i]);for(a[201]="".split(""),i=0;i!=a[201].length;++i)a[201][i].charCodeAt(0)!==65533&&(n[a[201][i]]=51456+i,r[51456+i]=a[201][i]);for(a[202]="".split(""),i=0;i!=a[202].length;++i)a[202][i].charCodeAt(0)!==65533&&(n[a[202][i]]=51712+i,r[51712+i]=a[202][i]);for(a[203]="".split(""),i=0;i!=a[203].length;++i)a[203][i].charCodeAt(0)!==65533&&(n[a[203][i]]=51968+i,r[51968+i]=a[203][i]);for(a[204]="".split(""),i=0;i!=a[204].length;++i)a[204][i].charCodeAt(0)!==65533&&(n[a[204][i]]=52224+i,r[52224+i]=a[204][i]);for(a[205]="".split(""),i=0;i!=a[205].length;++i)a[205][i].charCodeAt(0)!==65533&&(n[a[205][i]]=52480+i,r[52480+i]=a[205][i]);for(a[206]="".split(""),i=0;i!=a[206].length;++i)a[206][i].charCodeAt(0)!==65533&&(n[a[206][i]]=52736+i,r[52736+i]=a[206][i]);for(a[207]="".split(""),i=0;i!=a[207].length;++i)a[207][i].charCodeAt(0)!==65533&&(n[a[207][i]]=52992+i,r[52992+i]=a[207][i]);for(a[208]="".split(""),i=0;i!=a[208].length;++i)a[208][i].charCodeAt(0)!==65533&&(n[a[208][i]]=53248+i,r[53248+i]=a[208][i]);for(a[209]="".split(""),i=0;i!=a[209].length;++i)a[209][i].charCodeAt(0)!==65533&&(n[a[209][i]]=53504+i,r[53504+i]=a[209][i]);for(a[210]="".split(""),i=0;i!=a[210].length;++i)a[210][i].charCodeAt(0)!==65533&&(n[a[210][i]]=53760+i,r[53760+i]=a[210][i]);for(a[211]="".split(""),i=0;i!=a[211].length;++i)a[211][i].charCodeAt(0)!==65533&&(n[a[211][i]]=54016+i,r[54016+i]=a[211][i]);for(a[212]="".split(""),i=0;i!=a[212].length;++i)a[212][i].charCodeAt(0)!==65533&&(n[a[212][i]]=54272+i,r[54272+i]=a[212][i]);for(a[213]="".split(""),i=0;i!=a[213].length;++i)a[213][i].charCodeAt(0)!==65533&&(n[a[213][i]]=54528+i,r[54528+i]=a[213][i]);for(a[214]="".split(""),i=0;i!=a[214].length;++i)a[214][i].charCodeAt(0)!==65533&&(n[a[214][i]]=54784+i,r[54784+i]=a[214][i]);for(a[215]="".split(""),i=0;i!=a[215].length;++i)a[215][i].charCodeAt(0)!==65533&&(n[a[215][i]]=55040+i,r[55040+i]=a[215][i]);for(a[216]="".split(""),i=0;i!=a[216].length;++i)a[216][i].charCodeAt(0)!==65533&&(n[a[216][i]]=55296+i,r[55296+i]=a[216][i]);for(a[217]="".split(""),i=0;i!=a[217].length;++i)a[217][i].charCodeAt(0)!==65533&&(n[a[217][i]]=55552+i,r[55552+i]=a[217][i]);for(a[218]="".split(""),i=0;i!=a[218].length;++i)a[218][i].charCodeAt(0)!==65533&&(n[a[218][i]]=55808+i,r[55808+i]=a[218][i]);for(a[219]="".split(""),i=0;i!=a[219].length;++i)a[219][i].charCodeAt(0)!==65533&&(n[a[219][i]]=56064+i,r[56064+i]=a[219][i]);for(a[220]="".split(""),i=0;i!=a[220].length;++i)a[220][i].charCodeAt(0)!==65533&&(n[a[220][i]]=56320+i,r[56320+i]=a[220][i]);for(a[221]="".split(""),i=0;i!=a[221].length;++i)a[221][i].charCodeAt(0)!==65533&&(n[a[221][i]]=56576+i,r[56576+i]=a[221][i]);for(a[222]="".split(""),i=0;i!=a[222].length;++i)a[222][i].charCodeAt(0)!==65533&&(n[a[222][i]]=56832+i,r[56832+i]=a[222][i]);for(a[223]="".split(""),i=0;i!=a[223].length;++i)a[223][i].charCodeAt(0)!==65533&&(n[a[223][i]]=57088+i,r[57088+i]=a[223][i]);for(a[224]="".split(""),i=0;i!=a[224].length;++i)a[224][i].charCodeAt(0)!==65533&&(n[a[224][i]]=57344+i,r[57344+i]=a[224][i]);for(a[225]="".split(""),i=0;i!=a[225].length;++i)a[225][i].charCodeAt(0)!==65533&&(n[a[225][i]]=57600+i,r[57600+i]=a[225][i]);for(a[226]="".split(""),i=0;i!=a[226].length;++i)a[226][i].charCodeAt(0)!==65533&&(n[a[226][i]]=57856+i,r[57856+i]=a[226][i]);for(a[227]="".split(""),i=0;i!=a[227].length;++i)a[227][i].charCodeAt(0)!==65533&&(n[a[227][i]]=58112+i,r[58112+i]=a[227][i]);for(a[228]="".split(""),i=0;i!=a[228].length;++i)a[228][i].charCodeAt(0)!==65533&&(n[a[228][i]]=58368+i,r[58368+i]=a[228][i]);for(a[229]="".split(""),i=0;i!=a[229].length;++i)a[229][i].charCodeAt(0)!==65533&&(n[a[229][i]]=58624+i,r[58624+i]=a[229][i]);for(a[230]="".split(""),i=0;i!=a[230].length;++i)a[230][i].charCodeAt(0)!==65533&&(n[a[230][i]]=58880+i,r[58880+i]=a[230][i]);for(a[231]="".split(""),i=0;i!=a[231].length;++i)a[231][i].charCodeAt(0)!==65533&&(n[a[231][i]]=59136+i,r[59136+i]=a[231][i]);for(a[232]="".split(""),i=0;i!=a[232].length;++i)a[232][i].charCodeAt(0)!==65533&&(n[a[232][i]]=59392+i,r[59392+i]=a[232][i]);for(a[233]="".split(""),i=0;i!=a[233].length;++i)a[233][i].charCodeAt(0)!==65533&&(n[a[233][i]]=59648+i,r[59648+i]=a[233][i]);for(a[234]="".split(""),i=0;i!=a[234].length;++i)a[234][i].charCodeAt(0)!==65533&&(n[a[234][i]]=59904+i,r[59904+i]=a[234][i]);for(a[235]="".split(""),i=0;i!=a[235].length;++i)a[235][i].charCodeAt(0)!==65533&&(n[a[235][i]]=60160+i,r[60160+i]=a[235][i]);for(a[236]="".split(""),i=0;i!=a[236].length;++i)a[236][i].charCodeAt(0)!==65533&&(n[a[236][i]]=60416+i,r[60416+i]=a[236][i]);for(a[237]="".split(""),i=0;i!=a[237].length;++i)a[237][i].charCodeAt(0)!==65533&&(n[a[237][i]]=60672+i,r[60672+i]=a[237][i]);for(a[238]="".split(""),i=0;i!=a[238].length;++i)a[238][i].charCodeAt(0)!==65533&&(n[a[238][i]]=60928+i,r[60928+i]=a[238][i]);for(a[239]="".split(""),i=0;i!=a[239].length;++i)a[239][i].charCodeAt(0)!==65533&&(n[a[239][i]]=61184+i,r[61184+i]=a[239][i]);for(a[240]="".split(""),i=0;i!=a[240].length;++i)a[240][i].charCodeAt(0)!==65533&&(n[a[240][i]]=61440+i,r[61440+i]=a[240][i]);for(a[241]="".split(""),i=0;i!=a[241].length;++i)a[241][i].charCodeAt(0)!==65533&&(n[a[241][i]]=61696+i,r[61696+i]=a[241][i]);for(a[242]="".split(""),i=0;i!=a[242].length;++i)a[242][i].charCodeAt(0)!==65533&&(n[a[242][i]]=61952+i,r[61952+i]=a[242][i]);for(a[243]="".split(""),i=0;i!=a[243].length;++i)a[243][i].charCodeAt(0)!==65533&&(n[a[243][i]]=62208+i,r[62208+i]=a[243][i]);for(a[244]="".split(""),i=0;i!=a[244].length;++i)a[244][i].charCodeAt(0)!==65533&&(n[a[244][i]]=62464+i,r[62464+i]=a[244][i]);for(a[245]="".split(""),i=0;i!=a[245].length;++i)a[245][i].charCodeAt(0)!==65533&&(n[a[245][i]]=62720+i,r[62720+i]=a[245][i]);for(a[246]="".split(""),i=0;i!=a[246].length;++i)a[246][i].charCodeAt(0)!==65533&&(n[a[246][i]]=62976+i,r[62976+i]=a[246][i]);for(a[247]="".split(""),i=0;i!=a[247].length;++i)a[247][i].charCodeAt(0)!==65533&&(n[a[247][i]]=63232+i,r[63232+i]=a[247][i]);for(a[248]="".split(""),i=0;i!=a[248].length;++i)a[248][i].charCodeAt(0)!==65533&&(n[a[248][i]]=63488+i,r[63488+i]=a[248][i]);for(a[249]="".split(""),i=0;i!=a[249].length;++i)a[249][i].charCodeAt(0)!==65533&&(n[a[249][i]]=63744+i,r[63744+i]=a[249][i]);for(a[250]="".split(""),i=0;i!=a[250].length;++i)a[250][i].charCodeAt(0)!==65533&&(n[a[250][i]]=64e3+i,r[64e3+i]=a[250][i]);for(a[251]="".split(""),i=0;i!=a[251].length;++i)a[251][i].charCodeAt(0)!==65533&&(n[a[251][i]]=64256+i,r[64256+i]=a[251][i]);for(a[252]="".split(""),i=0;i!=a[252].length;++i)a[252][i].charCodeAt(0)!==65533&&(n[a[252][i]]=64512+i,r[64512+i]=a[252][i]);for(a[253]="".split(""),i=0;i!=a[253].length;++i)a[253][i].charCodeAt(0)!==65533&&(n[a[253][i]]=64768+i,r[64768+i]=a[253][i]);for(a[254]="".split(""),i=0;i!=a[254].length;++i)a[254][i].charCodeAt(0)!==65533&&(n[a[254][i]]=65024+i,r[65024+i]=a[254][i]);return{enc:n,dec:r}}(),t[949]=function(){var r=[],n={},a=[],i;for(a[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),i=0;i!=a[0].length;++i)a[0][i].charCodeAt(0)!==65533&&(n[a[0][i]]=0+i,r[0+i]=a[0][i]);for(a[129]="".split(""),i=0;i!=a[129].length;++i)a[129][i].charCodeAt(0)!==65533&&(n[a[129][i]]=33024+i,r[33024+i]=a[129][i]);for(a[130]="".split(""),i=0;i!=a[130].length;++i)a[130][i].charCodeAt(0)!==65533&&(n[a[130][i]]=33280+i,r[33280+i]=a[130][i]);for(a[131]="".split(""),i=0;i!=a[131].length;++i)a[131][i].charCodeAt(0)!==65533&&(n[a[131][i]]=33536+i,r[33536+i]=a[131][i]);for(a[132]="".split(""),i=0;i!=a[132].length;++i)a[132][i].charCodeAt(0)!==65533&&(n[a[132][i]]=33792+i,r[33792+i]=a[132][i]);for(a[133]="".split(""),i=0;i!=a[133].length;++i)a[133][i].charCodeAt(0)!==65533&&(n[a[133][i]]=34048+i,r[34048+i]=a[133][i]);for(a[134]="".split(""),i=0;i!=a[134].length;++i)a[134][i].charCodeAt(0)!==65533&&(n[a[134][i]]=34304+i,r[34304+i]=a[134][i]);for(a[135]="".split(""),i=0;i!=a[135].length;++i)a[135][i].charCodeAt(0)!==65533&&(n[a[135][i]]=34560+i,r[34560+i]=a[135][i]);for(a[136]="".split(""),i=0;i!=a[136].length;++i)a[136][i].charCodeAt(0)!==65533&&(n[a[136][i]]=34816+i,r[34816+i]=a[136][i]);for(a[137]="".split(""),i=0;i!=a[137].length;++i)a[137][i].charCodeAt(0)!==65533&&(n[a[137][i]]=35072+i,r[35072+i]=a[137][i]);for(a[138]="".split(""),i=0;i!=a[138].length;++i)a[138][i].charCodeAt(0)!==65533&&(n[a[138][i]]=35328+i,r[35328+i]=a[138][i]);for(a[139]="".split(""),i=0;i!=a[139].length;++i)a[139][i].charCodeAt(0)!==65533&&(n[a[139][i]]=35584+i,r[35584+i]=a[139][i]);for(a[140]="".split(""),i=0;i!=a[140].length;++i)a[140][i].charCodeAt(0)!==65533&&(n[a[140][i]]=35840+i,r[35840+i]=a[140][i]);for(a[141]="".split(""),i=0;i!=a[141].length;++i)a[141][i].charCodeAt(0)!==65533&&(n[a[141][i]]=36096+i,r[36096+i]=a[141][i]);for(a[142]="".split(""),i=0;i!=a[142].length;++i)a[142][i].charCodeAt(0)!==65533&&(n[a[142][i]]=36352+i,r[36352+i]=a[142][i]);for(a[143]="".split(""),i=0;i!=a[143].length;++i)a[143][i].charCodeAt(0)!==65533&&(n[a[143][i]]=36608+i,r[36608+i]=a[143][i]);for(a[144]="".split(""),i=0;i!=a[144].length;++i)a[144][i].charCodeAt(0)!==65533&&(n[a[144][i]]=36864+i,r[36864+i]=a[144][i]);for(a[145]="".split(""),i=0;i!=a[145].length;++i)a[145][i].charCodeAt(0)!==65533&&(n[a[145][i]]=37120+i,r[37120+i]=a[145][i]);for(a[146]="".split(""),i=0;i!=a[146].length;++i)a[146][i].charCodeAt(0)!==65533&&(n[a[146][i]]=37376+i,r[37376+i]=a[146][i]);for(a[147]="".split(""),i=0;i!=a[147].length;++i)a[147][i].charCodeAt(0)!==65533&&(n[a[147][i]]=37632+i,r[37632+i]=a[147][i]);for(a[148]="".split(""),i=0;i!=a[148].length;++i)a[148][i].charCodeAt(0)!==65533&&(n[a[148][i]]=37888+i,r[37888+i]=a[148][i]);for(a[149]="".split(""),i=0;i!=a[149].length;++i)a[149][i].charCodeAt(0)!==65533&&(n[a[149][i]]=38144+i,r[38144+i]=a[149][i]);for(a[150]="".split(""),i=0;i!=a[150].length;++i)a[150][i].charCodeAt(0)!==65533&&(n[a[150][i]]=38400+i,r[38400+i]=a[150][i]);for(a[151]="".split(""),i=0;i!=a[151].length;++i)a[151][i].charCodeAt(0)!==65533&&(n[a[151][i]]=38656+i,r[38656+i]=a[151][i]);for(a[152]="".split(""),i=0;i!=a[152].length;++i)a[152][i].charCodeAt(0)!==65533&&(n[a[152][i]]=38912+i,r[38912+i]=a[152][i]);for(a[153]="".split(""),i=0;i!=a[153].length;++i)a[153][i].charCodeAt(0)!==65533&&(n[a[153][i]]=39168+i,r[39168+i]=a[153][i]);for(a[154]="".split(""),i=0;i!=a[154].length;++i)a[154][i].charCodeAt(0)!==65533&&(n[a[154][i]]=39424+i,r[39424+i]=a[154][i]);for(a[155]="".split(""),i=0;i!=a[155].length;++i)a[155][i].charCodeAt(0)!==65533&&(n[a[155][i]]=39680+i,r[39680+i]=a[155][i]);for(a[156]="".split(""),i=0;i!=a[156].length;++i)a[156][i].charCodeAt(0)!==65533&&(n[a[156][i]]=39936+i,r[39936+i]=a[156][i]);for(a[157]="".split(""),i=0;i!=a[157].length;++i)a[157][i].charCodeAt(0)!==65533&&(n[a[157][i]]=40192+i,r[40192+i]=a[157][i]);for(a[158]="".split(""),i=0;i!=a[158].length;++i)a[158][i].charCodeAt(0)!==65533&&(n[a[158][i]]=40448+i,r[40448+i]=a[158][i]);for(a[159]="".split(""),i=0;i!=a[159].length;++i)a[159][i].charCodeAt(0)!==65533&&(n[a[159][i]]=40704+i,r[40704+i]=a[159][i]);for(a[160]="".split(""),i=0;i!=a[160].length;++i)a[160][i].charCodeAt(0)!==65533&&(n[a[160][i]]=40960+i,r[40960+i]=a[160][i]);for(a[161]="".split(""),i=0;i!=a[161].length;++i)a[161][i].charCodeAt(0)!==65533&&(n[a[161][i]]=41216+i,r[41216+i]=a[161][i]);for(a[162]="".split(""),i=0;i!=a[162].length;++i)a[162][i].charCodeAt(0)!==65533&&(n[a[162][i]]=41472+i,r[41472+i]=a[162][i]);for(a[163]="".split(""),i=0;i!=a[163].length;++i)a[163][i].charCodeAt(0)!==65533&&(n[a[163][i]]=41728+i,r[41728+i]=a[163][i]);for(a[164]="".split(""),i=0;i!=a[164].length;++i)a[164][i].charCodeAt(0)!==65533&&(n[a[164][i]]=41984+i,r[41984+i]=a[164][i]);for(a[165]="".split(""),i=0;i!=a[165].length;++i)a[165][i].charCodeAt(0)!==65533&&(n[a[165][i]]=42240+i,r[42240+i]=a[165][i]);for(a[166]="".split(""),i=0;i!=a[166].length;++i)a[166][i].charCodeAt(0)!==65533&&(n[a[166][i]]=42496+i,r[42496+i]=a[166][i]);for(a[167]="".split(""),i=0;i!=a[167].length;++i)a[167][i].charCodeAt(0)!==65533&&(n[a[167][i]]=42752+i,r[42752+i]=a[167][i]);for(a[168]="".split(""),i=0;i!=a[168].length;++i)a[168][i].charCodeAt(0)!==65533&&(n[a[168][i]]=43008+i,r[43008+i]=a[168][i]);for(a[169]="".split(""),i=0;i!=a[169].length;++i)a[169][i].charCodeAt(0)!==65533&&(n[a[169][i]]=43264+i,r[43264+i]=a[169][i]);for(a[170]="".split(""),i=0;i!=a[170].length;++i)a[170][i].charCodeAt(0)!==65533&&(n[a[170][i]]=43520+i,r[43520+i]=a[170][i]);for(a[171]="".split(""),i=0;i!=a[171].length;++i)a[171][i].charCodeAt(0)!==65533&&(n[a[171][i]]=43776+i,r[43776+i]=a[171][i]);for(a[172]="".split(""),i=0;i!=a[172].length;++i)a[172][i].charCodeAt(0)!==65533&&(n[a[172][i]]=44032+i,r[44032+i]=a[172][i]);for(a[173]="".split(""),i=0;i!=a[173].length;++i)a[173][i].charCodeAt(0)!==65533&&(n[a[173][i]]=44288+i,r[44288+i]=a[173][i]);for(a[174]="".split(""),i=0;i!=a[174].length;++i)a[174][i].charCodeAt(0)!==65533&&(n[a[174][i]]=44544+i,r[44544+i]=a[174][i]);for(a[175]="".split(""),i=0;i!=a[175].length;++i)a[175][i].charCodeAt(0)!==65533&&(n[a[175][i]]=44800+i,r[44800+i]=a[175][i]);for(a[176]="".split(""),i=0;i!=a[176].length;++i)a[176][i].charCodeAt(0)!==65533&&(n[a[176][i]]=45056+i,r[45056+i]=a[176][i]);for(a[177]="".split(""),i=0;i!=a[177].length;++i)a[177][i].charCodeAt(0)!==65533&&(n[a[177][i]]=45312+i,r[45312+i]=a[177][i]);for(a[178]="".split(""),i=0;i!=a[178].length;++i)a[178][i].charCodeAt(0)!==65533&&(n[a[178][i]]=45568+i,r[45568+i]=a[178][i]);for(a[179]="".split(""),i=0;i!=a[179].length;++i)a[179][i].charCodeAt(0)!==65533&&(n[a[179][i]]=45824+i,r[45824+i]=a[179][i]);for(a[180]="".split(""),i=0;i!=a[180].length;++i)a[180][i].charCodeAt(0)!==65533&&(n[a[180][i]]=46080+i,r[46080+i]=a[180][i]);for(a[181]="".split(""),i=0;i!=a[181].length;++i)a[181][i].charCodeAt(0)!==65533&&(n[a[181][i]]=46336+i,r[46336+i]=a[181][i]);for(a[182]="".split(""),i=0;i!=a[182].length;++i)a[182][i].charCodeAt(0)!==65533&&(n[a[182][i]]=46592+i,r[46592+i]=a[182][i]);for(a[183]="".split(""),i=0;i!=a[183].length;++i)a[183][i].charCodeAt(0)!==65533&&(n[a[183][i]]=46848+i,r[46848+i]=a[183][i]);for(a[184]="".split(""),i=0;i!=a[184].length;++i)a[184][i].charCodeAt(0)!==65533&&(n[a[184][i]]=47104+i,r[47104+i]=a[184][i]);for(a[185]="".split(""),i=0;i!=a[185].length;++i)a[185][i].charCodeAt(0)!==65533&&(n[a[185][i]]=47360+i,r[47360+i]=a[185][i]);for(a[186]="".split(""),i=0;i!=a[186].length;++i)a[186][i].charCodeAt(0)!==65533&&(n[a[186][i]]=47616+i,r[47616+i]=a[186][i]);for(a[187]="".split(""),i=0;i!=a[187].length;++i)a[187][i].charCodeAt(0)!==65533&&(n[a[187][i]]=47872+i,r[47872+i]=a[187][i]);for(a[188]="".split(""),i=0;i!=a[188].length;++i)a[188][i].charCodeAt(0)!==65533&&(n[a[188][i]]=48128+i,r[48128+i]=a[188][i]);for(a[189]="".split(""),i=0;i!=a[189].length;++i)a[189][i].charCodeAt(0)!==65533&&(n[a[189][i]]=48384+i,r[48384+i]=a[189][i]);for(a[190]="".split(""),i=0;i!=a[190].length;++i)a[190][i].charCodeAt(0)!==65533&&(n[a[190][i]]=48640+i,r[48640+i]=a[190][i]);for(a[191]="".split(""),i=0;i!=a[191].length;++i)a[191][i].charCodeAt(0)!==65533&&(n[a[191][i]]=48896+i,r[48896+i]=a[191][i]);for(a[192]="".split(""),i=0;i!=a[192].length;++i)a[192][i].charCodeAt(0)!==65533&&(n[a[192][i]]=49152+i,r[49152+i]=a[192][i]);for(a[193]="".split(""),i=0;i!=a[193].length;++i)a[193][i].charCodeAt(0)!==65533&&(n[a[193][i]]=49408+i,r[49408+i]=a[193][i]);for(a[194]="".split(""),i=0;i!=a[194].length;++i)a[194][i].charCodeAt(0)!==65533&&(n[a[194][i]]=49664+i,r[49664+i]=a[194][i]);for(a[195]="".split(""),i=0;i!=a[195].length;++i)a[195][i].charCodeAt(0)!==65533&&(n[a[195][i]]=49920+i,r[49920+i]=a[195][i]);for(a[196]="".split(""),i=0;i!=a[196].length;++i)a[196][i].charCodeAt(0)!==65533&&(n[a[196][i]]=50176+i,r[50176+i]=a[196][i]);for(a[197]="".split(""),i=0;i!=a[197].length;++i)a[197][i].charCodeAt(0)!==65533&&(n[a[197][i]]=50432+i,r[50432+i]=a[197][i]);for(a[198]="".split(""),i=0;i!=a[198].length;++i)a[198][i].charCodeAt(0)!==65533&&(n[a[198][i]]=50688+i,r[50688+i]=a[198][i]);for(a[199]="".split(""),i=0;i!=a[199].length;++i)a[199][i].charCodeAt(0)!==65533&&(n[a[199][i]]=50944+i,r[50944+i]=a[199][i]);for(a[200]="".split(""),i=0;i!=a[200].length;++i)a[200][i].charCodeAt(0)!==65533&&(n[a[200][i]]=51200+i,r[51200+i]=a[200][i]);for(a[202]="".split(""),i=0;i!=a[202].length;++i)a[202][i].charCodeAt(0)!==65533&&(n[a[202][i]]=51712+i,r[51712+i]=a[202][i]);for(a[203]="".split(""),i=0;i!=a[203].length;++i)a[203][i].charCodeAt(0)!==65533&&(n[a[203][i]]=51968+i,r[51968+i]=a[203][i]);for(a[204]="".split(""),i=0;i!=a[204].length;++i)a[204][i].charCodeAt(0)!==65533&&(n[a[204][i]]=52224+i,r[52224+i]=a[204][i]);for(a[205]="".split(""),i=0;i!=a[205].length;++i)a[205][i].charCodeAt(0)!==65533&&(n[a[205][i]]=52480+i,r[52480+i]=a[205][i]);for(a[206]="".split(""),i=0;i!=a[206].length;++i)a[206][i].charCodeAt(0)!==65533&&(n[a[206][i]]=52736+i,r[52736+i]=a[206][i]);for(a[207]="".split(""),i=0;i!=a[207].length;++i)a[207][i].charCodeAt(0)!==65533&&(n[a[207][i]]=52992+i,r[52992+i]=a[207][i]);for(a[208]="".split(""),i=0;i!=a[208].length;++i)a[208][i].charCodeAt(0)!==65533&&(n[a[208][i]]=53248+i,r[53248+i]=a[208][i]);for(a[209]="".split(""),i=0;i!=a[209].length;++i)a[209][i].charCodeAt(0)!==65533&&(n[a[209][i]]=53504+i,r[53504+i]=a[209][i]);for(a[210]="".split(""),i=0;i!=a[210].length;++i)a[210][i].charCodeAt(0)!==65533&&(n[a[210][i]]=53760+i,r[53760+i]=a[210][i]);for(a[211]="".split(""),i=0;i!=a[211].length;++i)a[211][i].charCodeAt(0)!==65533&&(n[a[211][i]]=54016+i,r[54016+i]=a[211][i]);for(a[212]="".split(""),i=0;i!=a[212].length;++i)a[212][i].charCodeAt(0)!==65533&&(n[a[212][i]]=54272+i,r[54272+i]=a[212][i]);for(a[213]="".split(""),i=0;i!=a[213].length;++i)a[213][i].charCodeAt(0)!==65533&&(n[a[213][i]]=54528+i,r[54528+i]=a[213][i]);for(a[214]="".split(""),i=0;i!=a[214].length;++i)a[214][i].charCodeAt(0)!==65533&&(n[a[214][i]]=54784+i,r[54784+i]=a[214][i]);for(a[215]="".split(""),i=0;i!=a[215].length;++i)a[215][i].charCodeAt(0)!==65533&&(n[a[215][i]]=55040+i,r[55040+i]=a[215][i]);for(a[216]="".split(""),i=0;i!=a[216].length;++i)a[216][i].charCodeAt(0)!==65533&&(n[a[216][i]]=55296+i,r[55296+i]=a[216][i]);for(a[217]="".split(""),i=0;i!=a[217].length;++i)a[217][i].charCodeAt(0)!==65533&&(n[a[217][i]]=55552+i,r[55552+i]=a[217][i]);for(a[218]="".split(""),i=0;i!=a[218].length;++i)a[218][i].charCodeAt(0)!==65533&&(n[a[218][i]]=55808+i,r[55808+i]=a[218][i]);for(a[219]="".split(""),i=0;i!=a[219].length;++i)a[219][i].charCodeAt(0)!==65533&&(n[a[219][i]]=56064+i,r[56064+i]=a[219][i]);for(a[220]="".split(""),i=0;i!=a[220].length;++i)a[220][i].charCodeAt(0)!==65533&&(n[a[220][i]]=56320+i,r[56320+i]=a[220][i]);for(a[221]="".split(""),i=0;i!=a[221].length;++i)a[221][i].charCodeAt(0)!==65533&&(n[a[221][i]]=56576+i,r[56576+i]=a[221][i]);for(a[222]="".split(""),i=0;i!=a[222].length;++i)a[222][i].charCodeAt(0)!==65533&&(n[a[222][i]]=56832+i,r[56832+i]=a[222][i]);for(a[223]="".split(""),i=0;i!=a[223].length;++i)a[223][i].charCodeAt(0)!==65533&&(n[a[223][i]]=57088+i,r[57088+i]=a[223][i]);for(a[224]="".split(""),i=0;i!=a[224].length;++i)a[224][i].charCodeAt(0)!==65533&&(n[a[224][i]]=57344+i,r[57344+i]=a[224][i]);for(a[225]="".split(""),i=0;i!=a[225].length;++i)a[225][i].charCodeAt(0)!==65533&&(n[a[225][i]]=57600+i,r[57600+i]=a[225][i]);for(a[226]="".split(""),i=0;i!=a[226].length;++i)a[226][i].charCodeAt(0)!==65533&&(n[a[226][i]]=57856+i,r[57856+i]=a[226][i]);for(a[227]="".split(""),i=0;i!=a[227].length;++i)a[227][i].charCodeAt(0)!==65533&&(n[a[227][i]]=58112+i,r[58112+i]=a[227][i]);for(a[228]="".split(""),i=0;i!=a[228].length;++i)a[228][i].charCodeAt(0)!==65533&&(n[a[228][i]]=58368+i,r[58368+i]=a[228][i]);for(a[229]="".split(""),i=0;i!=a[229].length;++i)a[229][i].charCodeAt(0)!==65533&&(n[a[229][i]]=58624+i,r[58624+i]=a[229][i]);for(a[230]="".split(""),i=0;i!=a[230].length;++i)a[230][i].charCodeAt(0)!==65533&&(n[a[230][i]]=58880+i,r[58880+i]=a[230][i]);for(a[231]="".split(""),i=0;i!=a[231].length;++i)a[231][i].charCodeAt(0)!==65533&&(n[a[231][i]]=59136+i,r[59136+i]=a[231][i]);for(a[232]="".split(""),i=0;i!=a[232].length;++i)a[232][i].charCodeAt(0)!==65533&&(n[a[232][i]]=59392+i,r[59392+i]=a[232][i]);for(a[233]="".split(""),i=0;i!=a[233].length;++i)a[233][i].charCodeAt(0)!==65533&&(n[a[233][i]]=59648+i,r[59648+i]=a[233][i]);for(a[234]="".split(""),i=0;i!=a[234].length;++i)a[234][i].charCodeAt(0)!==65533&&(n[a[234][i]]=59904+i,r[59904+i]=a[234][i]);for(a[235]="".split(""),i=0;i!=a[235].length;++i)a[235][i].charCodeAt(0)!==65533&&(n[a[235][i]]=60160+i,r[60160+i]=a[235][i]);for(a[236]="".split(""),i=0;i!=a[236].length;++i)a[236][i].charCodeAt(0)!==65533&&(n[a[236][i]]=60416+i,r[60416+i]=a[236][i]);for(a[237]="".split(""),i=0;i!=a[237].length;++i)a[237][i].charCodeAt(0)!==65533&&(n[a[237][i]]=60672+i,r[60672+i]=a[237][i]);for(a[238]="".split(""),i=0;i!=a[238].length;++i)a[238][i].charCodeAt(0)!==65533&&(n[a[238][i]]=60928+i,r[60928+i]=a[238][i]);for(a[239]="".split(""),i=0;i!=a[239].length;++i)a[239][i].charCodeAt(0)!==65533&&(n[a[239][i]]=61184+i,r[61184+i]=a[239][i]);for(a[240]="".split(""),i=0;i!=a[240].length;++i)a[240][i].charCodeAt(0)!==65533&&(n[a[240][i]]=61440+i,r[61440+i]=a[240][i]);for(a[241]="".split(""),i=0;i!=a[241].length;++i)a[241][i].charCodeAt(0)!==65533&&(n[a[241][i]]=61696+i,r[61696+i]=a[241][i]);for(a[242]="".split(""),i=0;i!=a[242].length;++i)a[242][i].charCodeAt(0)!==65533&&(n[a[242][i]]=61952+i,r[61952+i]=a[242][i]);for(a[243]="".split(""),i=0;i!=a[243].length;++i)a[243][i].charCodeAt(0)!==65533&&(n[a[243][i]]=62208+i,r[62208+i]=a[243][i]);for(a[244]="".split(""),i=0;i!=a[244].length;++i)a[244][i].charCodeAt(0)!==65533&&(n[a[244][i]]=62464+i,r[62464+i]=a[244][i]);for(a[245]="".split(""),i=0;i!=a[245].length;++i)a[245][i].charCodeAt(0)!==65533&&(n[a[245][i]]=62720+i,r[62720+i]=a[245][i]);for(a[246]="".split(""),i=0;i!=a[246].length;++i)a[246][i].charCodeAt(0)!==65533&&(n[a[246][i]]=62976+i,r[62976+i]=a[246][i]);for(a[247]="".split(""),i=0;i!=a[247].length;++i)a[247][i].charCodeAt(0)!==65533&&(n[a[247][i]]=63232+i,r[63232+i]=a[247][i]);for(a[248]="".split(""),i=0;i!=a[248].length;++i)a[248][i].charCodeAt(0)!==65533&&(n[a[248][i]]=63488+i,r[63488+i]=a[248][i]);for(a[249]="".split(""),i=0;i!=a[249].length;++i)a[249][i].charCodeAt(0)!==65533&&(n[a[249][i]]=63744+i,r[63744+i]=a[249][i]);for(a[250]="".split(""),i=0;i!=a[250].length;++i)a[250][i].charCodeAt(0)!==65533&&(n[a[250][i]]=64e3+i,r[64e3+i]=a[250][i]);for(a[251]="".split(""),i=0;i!=a[251].length;++i)a[251][i].charCodeAt(0)!==65533&&(n[a[251][i]]=64256+i,r[64256+i]=a[251][i]);for(a[252]="".split(""),i=0;i!=a[252].length;++i)a[252][i].charCodeAt(0)!==65533&&(n[a[252][i]]=64512+i,r[64512+i]=a[252][i]);for(a[253]="".split(""),i=0;i!=a[253].length;++i)a[253][i].charCodeAt(0)!==65533&&(n[a[253][i]]=64768+i,r[64768+i]=a[253][i]);return{enc:n,dec:r}}(),t[950]=function(){var r=[],n={},a=[],i;for(a[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),i=0;i!=a[0].length;++i)a[0][i].charCodeAt(0)!==65533&&(n[a[0][i]]=0+i,r[0+i]=a[0][i]);for(a[161]="".split(""),i=0;i!=a[161].length;++i)a[161][i].charCodeAt(0)!==65533&&(n[a[161][i]]=41216+i,r[41216+i]=a[161][i]);for(a[162]="".split(""),i=0;i!=a[162].length;++i)a[162][i].charCodeAt(0)!==65533&&(n[a[162][i]]=41472+i,r[41472+i]=a[162][i]);for(a[163]="".split(""),i=0;i!=a[163].length;++i)a[163][i].charCodeAt(0)!==65533&&(n[a[163][i]]=41728+i,r[41728+i]=a[163][i]);for(a[164]="".split(""),i=0;i!=a[164].length;++i)a[164][i].charCodeAt(0)!==65533&&(n[a[164][i]]=41984+i,r[41984+i]=a[164][i]);for(a[165]="".split(""),i=0;i!=a[165].length;++i)a[165][i].charCodeAt(0)!==65533&&(n[a[165][i]]=42240+i,r[42240+i]=a[165][i]);for(a[166]="".split(""),i=0;i!=a[166].length;++i)a[166][i].charCodeAt(0)!==65533&&(n[a[166][i]]=42496+i,r[42496+i]=a[166][i]);for(a[167]="".split(""),i=0;i!=a[167].length;++i)a[167][i].charCodeAt(0)!==65533&&(n[a[167][i]]=42752+i,r[42752+i]=a[167][i]);for(a[168]="".split(""),i=0;i!=a[168].length;++i)a[168][i].charCodeAt(0)!==65533&&(n[a[168][i]]=43008+i,r[43008+i]=a[168][i]);for(a[169]="".split(""),i=0;i!=a[169].length;++i)a[169][i].charCodeAt(0)!==65533&&(n[a[169][i]]=43264+i,r[43264+i]=a[169][i]);for(a[170]="".split(""),i=0;i!=a[170].length;++i)a[170][i].charCodeAt(0)!==65533&&(n[a[170][i]]=43520+i,r[43520+i]=a[170][i]);for(a[171]="".split(""),i=0;i!=a[171].length;++i)a[171][i].charCodeAt(0)!==65533&&(n[a[171][i]]=43776+i,r[43776+i]=a[171][i]);for(a[172]="".split(""),i=0;i!=a[172].length;++i)a[172][i].charCodeAt(0)!==65533&&(n[a[172][i]]=44032+i,r[44032+i]=a[172][i]);for(a[173]="".split(""),i=0;i!=a[173].length;++i)a[173][i].charCodeAt(0)!==65533&&(n[a[173][i]]=44288+i,r[44288+i]=a[173][i]);for(a[174]="".split(""),i=0;i!=a[174].length;++i)a[174][i].charCodeAt(0)!==65533&&(n[a[174][i]]=44544+i,r[44544+i]=a[174][i]);for(a[175]="".split(""),i=0;i!=a[175].length;++i)a[175][i].charCodeAt(0)!==65533&&(n[a[175][i]]=44800+i,r[44800+i]=a[175][i]);for(a[176]="".split(""),i=0;i!=a[176].length;++i)a[176][i].charCodeAt(0)!==65533&&(n[a[176][i]]=45056+i,r[45056+i]=a[176][i]);for(a[177]="".split(""),i=0;i!=a[177].length;++i)a[177][i].charCodeAt(0)!==65533&&(n[a[177][i]]=45312+i,r[45312+i]=a[177][i]);for(a[178]="".split(""),i=0;i!=a[178].length;++i)a[178][i].charCodeAt(0)!==65533&&(n[a[178][i]]=45568+i,r[45568+i]=a[178][i]);for(a[179]="".split(""),i=0;i!=a[179].length;++i)a[179][i].charCodeAt(0)!==65533&&(n[a[179][i]]=45824+i,r[45824+i]=a[179][i]);for(a[180]="".split(""),i=0;i!=a[180].length;++i)a[180][i].charCodeAt(0)!==65533&&(n[a[180][i]]=46080+i,r[46080+i]=a[180][i]);for(a[181]="".split(""),i=0;i!=a[181].length;++i)a[181][i].charCodeAt(0)!==65533&&(n[a[181][i]]=46336+i,r[46336+i]=a[181][i]);for(a[182]="".split(""),i=0;i!=a[182].length;++i)a[182][i].charCodeAt(0)!==65533&&(n[a[182][i]]=46592+i,r[46592+i]=a[182][i]);for(a[183]="".split(""),i=0;i!=a[183].length;++i)a[183][i].charCodeAt(0)!==65533&&(n[a[183][i]]=46848+i,r[46848+i]=a[183][i]);for(a[184]="".split(""),i=0;i!=a[184].length;++i)a[184][i].charCodeAt(0)!==65533&&(n[a[184][i]]=47104+i,r[47104+i]=a[184][i]);for(a[185]="".split(""),i=0;i!=a[185].length;++i)a[185][i].charCodeAt(0)!==65533&&(n[a[185][i]]=47360+i,r[47360+i]=a[185][i]);for(a[186]="".split(""),i=0;i!=a[186].length;++i)a[186][i].charCodeAt(0)!==65533&&(n[a[186][i]]=47616+i,r[47616+i]=a[186][i]);for(a[187]="".split(""),i=0;i!=a[187].length;++i)a[187][i].charCodeAt(0)!==65533&&(n[a[187][i]]=47872+i,r[47872+i]=a[187][i]);for(a[188]="".split(""),i=0;i!=a[188].length;++i)a[188][i].charCodeAt(0)!==65533&&(n[a[188][i]]=48128+i,r[48128+i]=a[188][i]);for(a[189]="".split(""),i=0;i!=a[189].length;++i)a[189][i].charCodeAt(0)!==65533&&(n[a[189][i]]=48384+i,r[48384+i]=a[189][i]);for(a[190]="".split(""),i=0;i!=a[190].length;++i)a[190][i].charCodeAt(0)!==65533&&(n[a[190][i]]=48640+i,r[48640+i]=a[190][i]);for(a[191]="".split(""),i=0;i!=a[191].length;++i)a[191][i].charCodeAt(0)!==65533&&(n[a[191][i]]=48896+i,r[48896+i]=a[191][i]);for(a[192]="".split(""),i=0;i!=a[192].length;++i)a[192][i].charCodeAt(0)!==65533&&(n[a[192][i]]=49152+i,r[49152+i]=a[192][i]);for(a[193]="".split(""),i=0;i!=a[193].length;++i)a[193][i].charCodeAt(0)!==65533&&(n[a[193][i]]=49408+i,r[49408+i]=a[193][i]);for(a[194]="".split(""),i=0;i!=a[194].length;++i)a[194][i].charCodeAt(0)!==65533&&(n[a[194][i]]=49664+i,r[49664+i]=a[194][i]);for(a[195]="".split(""),i=0;i!=a[195].length;++i)a[195][i].charCodeAt(0)!==65533&&(n[a[195][i]]=49920+i,r[49920+i]=a[195][i]);for(a[196]="".split(""),i=0;i!=a[196].length;++i)a[196][i].charCodeAt(0)!==65533&&(n[a[196][i]]=50176+i,r[50176+i]=a[196][i]);for(a[197]="".split(""),i=0;i!=a[197].length;++i)a[197][i].charCodeAt(0)!==65533&&(n[a[197][i]]=50432+i,r[50432+i]=a[197][i]);for(a[198]="".split(""),i=0;i!=a[198].length;++i)a[198][i].charCodeAt(0)!==65533&&(n[a[198][i]]=50688+i,r[50688+i]=a[198][i]);for(a[201]="".split(""),i=0;i!=a[201].length;++i)a[201][i].charCodeAt(0)!==65533&&(n[a[201][i]]=51456+i,r[51456+i]=a[201][i]);for(a[202]="".split(""),i=0;i!=a[202].length;++i)a[202][i].charCodeAt(0)!==65533&&(n[a[202][i]]=51712+i,r[51712+i]=a[202][i]);for(a[203]="".split(""),i=0;i!=a[203].length;++i)a[203][i].charCodeAt(0)!==65533&&(n[a[203][i]]=51968+i,r[51968+i]=a[203][i]);for(a[204]="".split(""),i=0;i!=a[204].length;++i)a[204][i].charCodeAt(0)!==65533&&(n[a[204][i]]=52224+i,r[52224+i]=a[204][i]);for(a[205]="".split(""),i=0;i!=a[205].length;++i)a[205][i].charCodeAt(0)!==65533&&(n[a[205][i]]=52480+i,r[52480+i]=a[205][i]);for(a[206]="".split(""),i=0;i!=a[206].length;++i)a[206][i].charCodeAt(0)!==65533&&(n[a[206][i]]=52736+i,r[52736+i]=a[206][i]);for(a[207]="".split(""),i=0;i!=a[207].length;++i)a[207][i].charCodeAt(0)!==65533&&(n[a[207][i]]=52992+i,r[52992+i]=a[207][i]);for(a[208]="".split(""),i=0;i!=a[208].length;++i)a[208][i].charCodeAt(0)!==65533&&(n[a[208][i]]=53248+i,r[53248+i]=a[208][i]);for(a[209]="".split(""),i=0;i!=a[209].length;++i)a[209][i].charCodeAt(0)!==65533&&(n[a[209][i]]=53504+i,r[53504+i]=a[209][i]);for(a[210]="".split(""),i=0;i!=a[210].length;++i)a[210][i].charCodeAt(0)!==65533&&(n[a[210][i]]=53760+i,r[53760+i]=a[210][i]);for(a[211]="".split(""),i=0;i!=a[211].length;++i)a[211][i].charCodeAt(0)!==65533&&(n[a[211][i]]=54016+i,r[54016+i]=a[211][i]);for(a[212]="".split(""),i=0;i!=a[212].length;++i)a[212][i].charCodeAt(0)!==65533&&(n[a[212][i]]=54272+i,r[54272+i]=a[212][i]);for(a[213]="".split(""),i=0;i!=a[213].length;++i)a[213][i].charCodeAt(0)!==65533&&(n[a[213][i]]=54528+i,r[54528+i]=a[213][i]);for(a[214]="".split(""),i=0;i!=a[214].length;++i)a[214][i].charCodeAt(0)!==65533&&(n[a[214][i]]=54784+i,r[54784+i]=a[214][i]);for(a[215]="".split(""),i=0;i!=a[215].length;++i)a[215][i].charCodeAt(0)!==65533&&(n[a[215][i]]=55040+i,r[55040+i]=a[215][i]);for(a[216]="".split(""),i=0;i!=a[216].length;++i)a[216][i].charCodeAt(0)!==65533&&(n[a[216][i]]=55296+i,r[55296+i]=a[216][i]);for(a[217]="".split(""),i=0;i!=a[217].length;++i)a[217][i].charCodeAt(0)!==65533&&(n[a[217][i]]=55552+i,r[55552+i]=a[217][i]);for(a[218]="".split(""),i=0;i!=a[218].length;++i)a[218][i].charCodeAt(0)!==65533&&(n[a[218][i]]=55808+i,r[55808+i]=a[218][i]);for(a[219]="".split(""),i=0;i!=a[219].length;++i)a[219][i].charCodeAt(0)!==65533&&(n[a[219][i]]=56064+i,r[56064+i]=a[219][i]);for(a[220]="".split(""),i=0;i!=a[220].length;++i)a[220][i].charCodeAt(0)!==65533&&(n[a[220][i]]=56320+i,r[56320+i]=a[220][i]);for(a[221]="".split(""),i=0;i!=a[221].length;++i)a[221][i].charCodeAt(0)!==65533&&(n[a[221][i]]=56576+i,r[56576+i]=a[221][i]);for(a[222]="".split(""),i=0;i!=a[222].length;++i)a[222][i].charCodeAt(0)!==65533&&(n[a[222][i]]=56832+i,r[56832+i]=a[222][i]);for(a[223]="".split(""),i=0;i!=a[223].length;++i)a[223][i].charCodeAt(0)!==65533&&(n[a[223][i]]=57088+i,r[57088+i]=a[223][i]);for(a[224]="".split(""),i=0;i!=a[224].length;++i)a[224][i].charCodeAt(0)!==65533&&(n[a[224][i]]=57344+i,r[57344+i]=a[224][i]);for(a[225]="".split(""),i=0;i!=a[225].length;++i)a[225][i].charCodeAt(0)!==65533&&(n[a[225][i]]=57600+i,r[57600+i]=a[225][i]);for(a[226]="".split(""),i=0;i!=a[226].length;++i)a[226][i].charCodeAt(0)!==65533&&(n[a[226][i]]=57856+i,r[57856+i]=a[226][i]);for(a[227]="".split(""),i=0;i!=a[227].length;++i)a[227][i].charCodeAt(0)!==65533&&(n[a[227][i]]=58112+i,r[58112+i]=a[227][i]);for(a[228]="".split(""),i=0;i!=a[228].length;++i)a[228][i].charCodeAt(0)!==65533&&(n[a[228][i]]=58368+i,r[58368+i]=a[228][i]);for(a[229]="".split(""),i=0;i!=a[229].length;++i)a[229][i].charCodeAt(0)!==65533&&(n[a[229][i]]=58624+i,r[58624+i]=a[229][i]);for(a[230]="".split(""),i=0;i!=a[230].length;++i)a[230][i].charCodeAt(0)!==65533&&(n[a[230][i]]=58880+i,r[58880+i]=a[230][i]);for(a[231]="".split(""),i=0;i!=a[231].length;++i)a[231][i].charCodeAt(0)!==65533&&(n[a[231][i]]=59136+i,r[59136+i]=a[231][i]);for(a[232]="".split(""),i=0;i!=a[232].length;++i)a[232][i].charCodeAt(0)!==65533&&(n[a[232][i]]=59392+i,r[59392+i]=a[232][i]);for(a[233]="".split(""),i=0;i!=a[233].length;++i)a[233][i].charCodeAt(0)!==65533&&(n[a[233][i]]=59648+i,r[59648+i]=a[233][i]);for(a[234]="".split(""),i=0;i!=a[234].length;++i)a[234][i].charCodeAt(0)!==65533&&(n[a[234][i]]=59904+i,r[59904+i]=a[234][i]);for(a[235]="".split(""),i=0;i!=a[235].length;++i)a[235][i].charCodeAt(0)!==65533&&(n[a[235][i]]=60160+i,r[60160+i]=a[235][i]);for(a[236]="".split(""),i=0;i!=a[236].length;++i)a[236][i].charCodeAt(0)!==65533&&(n[a[236][i]]=60416+i,r[60416+i]=a[236][i]);for(a[237]="".split(""),i=0;i!=a[237].length;++i)a[237][i].charCodeAt(0)!==65533&&(n[a[237][i]]=60672+i,r[60672+i]=a[237][i]);for(a[238]="".split(""),i=0;i!=a[238].length;++i)a[238][i].charCodeAt(0)!==65533&&(n[a[238][i]]=60928+i,r[60928+i]=a[238][i]);for(a[239]="".split(""),i=0;i!=a[239].length;++i)a[239][i].charCodeAt(0)!==65533&&(n[a[239][i]]=61184+i,r[61184+i]=a[239][i]);for(a[240]="".split(""),i=0;i!=a[240].length;++i)a[240][i].charCodeAt(0)!==65533&&(n[a[240][i]]=61440+i,r[61440+i]=a[240][i]);for(a[241]="".split(""),i=0;i!=a[241].length;++i)a[241][i].charCodeAt(0)!==65533&&(n[a[241][i]]=61696+i,r[61696+i]=a[241][i]);for(a[242]="".split(""),i=0;i!=a[242].length;++i)a[242][i].charCodeAt(0)!==65533&&(n[a[242][i]]=61952+i,r[61952+i]=a[242][i]);for(a[243]="".split(""),i=0;i!=a[243].length;++i)a[243][i].charCodeAt(0)!==65533&&(n[a[243][i]]=62208+i,r[62208+i]=a[243][i]);for(a[244]="".split(""),i=0;i!=a[244].length;++i)a[244][i].charCodeAt(0)!==65533&&(n[a[244][i]]=62464+i,r[62464+i]=a[244][i]);for(a[245]="".split(""),i=0;i!=a[245].length;++i)a[245][i].charCodeAt(0)!==65533&&(n[a[245][i]]=62720+i,r[62720+i]=a[245][i]);for(a[246]="".split(""),i=0;i!=a[246].length;++i)a[246][i].charCodeAt(0)!==65533&&(n[a[246][i]]=62976+i,r[62976+i]=a[246][i]);for(a[247]="".split(""),i=0;i!=a[247].length;++i)a[247][i].charCodeAt(0)!==65533&&(n[a[247][i]]=63232+i,r[63232+i]=a[247][i]);for(a[248]="".split(""),i=0;i!=a[248].length;++i)a[248][i].charCodeAt(0)!==65533&&(n[a[248][i]]=63488+i,r[63488+i]=a[248][i]);for(a[249]="".split(""),i=0;i!=a[249].length;++i)a[249][i].charCodeAt(0)!==65533&&(n[a[249][i]]=63744+i,r[63744+i]=a[249][i]);return{enc:n,dec:r}}(),t[1250]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[1251]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[1252]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[1253]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[1254]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[1255]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[1256]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[1257]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[1258]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[1e4]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[10006]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[10007]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[10008]=function(){var r=[],n={},a=[],i;for(a[0]=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`.split(""),i=0;i!=a[0].length;++i)a[0][i].charCodeAt(0)!==65533&&(n[a[0][i]]=0+i,r[0+i]=a[0][i]);for(a[161]="".split(""),i=0;i!=a[161].length;++i)a[161][i].charCodeAt(0)!==65533&&(n[a[161][i]]=41216+i,r[41216+i]=a[161][i]);for(a[162]="".split(""),i=0;i!=a[162].length;++i)a[162][i].charCodeAt(0)!==65533&&(n[a[162][i]]=41472+i,r[41472+i]=a[162][i]);for(a[163]="".split(""),i=0;i!=a[163].length;++i)a[163][i].charCodeAt(0)!==65533&&(n[a[163][i]]=41728+i,r[41728+i]=a[163][i]);for(a[164]="".split(""),i=0;i!=a[164].length;++i)a[164][i].charCodeAt(0)!==65533&&(n[a[164][i]]=41984+i,r[41984+i]=a[164][i]);for(a[165]="".split(""),i=0;i!=a[165].length;++i)a[165][i].charCodeAt(0)!==65533&&(n[a[165][i]]=42240+i,r[42240+i]=a[165][i]);for(a[166]="".split(""),i=0;i!=a[166].length;++i)a[166][i].charCodeAt(0)!==65533&&(n[a[166][i]]=42496+i,r[42496+i]=a[166][i]);for(a[167]="".split(""),i=0;i!=a[167].length;++i)a[167][i].charCodeAt(0)!==65533&&(n[a[167][i]]=42752+i,r[42752+i]=a[167][i]);for(a[168]="".split(""),i=0;i!=a[168].length;++i)a[168][i].charCodeAt(0)!==65533&&(n[a[168][i]]=43008+i,r[43008+i]=a[168][i]);for(a[169]="".split(""),i=0;i!=a[169].length;++i)a[169][i].charCodeAt(0)!==65533&&(n[a[169][i]]=43264+i,r[43264+i]=a[169][i]);for(a[176]="".split(""),i=0;i!=a[176].length;++i)a[176][i].charCodeAt(0)!==65533&&(n[a[176][i]]=45056+i,r[45056+i]=a[176][i]);for(a[177]="".split(""),i=0;i!=a[177].length;++i)a[177][i].charCodeAt(0)!==65533&&(n[a[177][i]]=45312+i,r[45312+i]=a[177][i]);for(a[178]="".split(""),i=0;i!=a[178].length;++i)a[178][i].charCodeAt(0)!==65533&&(n[a[178][i]]=45568+i,r[45568+i]=a[178][i]);for(a[179]="".split(""),i=0;i!=a[179].length;++i)a[179][i].charCodeAt(0)!==65533&&(n[a[179][i]]=45824+i,r[45824+i]=a[179][i]);for(a[180]="".split(""),i=0;i!=a[180].length;++i)a[180][i].charCodeAt(0)!==65533&&(n[a[180][i]]=46080+i,r[46080+i]=a[180][i]);for(a[181]="".split(""),i=0;i!=a[181].length;++i)a[181][i].charCodeAt(0)!==65533&&(n[a[181][i]]=46336+i,r[46336+i]=a[181][i]);for(a[182]="".split(""),i=0;i!=a[182].length;++i)a[182][i].charCodeAt(0)!==65533&&(n[a[182][i]]=46592+i,r[46592+i]=a[182][i]);for(a[183]="".split(""),i=0;i!=a[183].length;++i)a[183][i].charCodeAt(0)!==65533&&(n[a[183][i]]=46848+i,r[46848+i]=a[183][i]);for(a[184]="".split(""),i=0;i!=a[184].length;++i)a[184][i].charCodeAt(0)!==65533&&(n[a[184][i]]=47104+i,r[47104+i]=a[184][i]);for(a[185]="".split(""),i=0;i!=a[185].length;++i)a[185][i].charCodeAt(0)!==65533&&(n[a[185][i]]=47360+i,r[47360+i]=a[185][i]);for(a[186]="".split(""),i=0;i!=a[186].length;++i)a[186][i].charCodeAt(0)!==65533&&(n[a[186][i]]=47616+i,r[47616+i]=a[186][i]);for(a[187]="".split(""),i=0;i!=a[187].length;++i)a[187][i].charCodeAt(0)!==65533&&(n[a[187][i]]=47872+i,r[47872+i]=a[187][i]);for(a[188]="".split(""),i=0;i!=a[188].length;++i)a[188][i].charCodeAt(0)!==65533&&(n[a[188][i]]=48128+i,r[48128+i]=a[188][i]);for(a[189]="".split(""),i=0;i!=a[189].length;++i)a[189][i].charCodeAt(0)!==65533&&(n[a[189][i]]=48384+i,r[48384+i]=a[189][i]);for(a[190]="".split(""),i=0;i!=a[190].length;++i)a[190][i].charCodeAt(0)!==65533&&(n[a[190][i]]=48640+i,r[48640+i]=a[190][i]);for(a[191]="".split(""),i=0;i!=a[191].length;++i)a[191][i].charCodeAt(0)!==65533&&(n[a[191][i]]=48896+i,r[48896+i]=a[191][i]);for(a[192]="".split(""),i=0;i!=a[192].length;++i)a[192][i].charCodeAt(0)!==65533&&(n[a[192][i]]=49152+i,r[49152+i]=a[192][i]);for(a[193]="".split(""),i=0;i!=a[193].length;++i)a[193][i].charCodeAt(0)!==65533&&(n[a[193][i]]=49408+i,r[49408+i]=a[193][i]);for(a[194]="".split(""),i=0;i!=a[194].length;++i)a[194][i].charCodeAt(0)!==65533&&(n[a[194][i]]=49664+i,r[49664+i]=a[194][i]);for(a[195]="".split(""),i=0;i!=a[195].length;++i)a[195][i].charCodeAt(0)!==65533&&(n[a[195][i]]=49920+i,r[49920+i]=a[195][i]);for(a[196]="".split(""),i=0;i!=a[196].length;++i)a[196][i].charCodeAt(0)!==65533&&(n[a[196][i]]=50176+i,r[50176+i]=a[196][i]);for(a[197]="".split(""),i=0;i!=a[197].length;++i)a[197][i].charCodeAt(0)!==65533&&(n[a[197][i]]=50432+i,r[50432+i]=a[197][i]);for(a[198]="".split(""),i=0;i!=a[198].length;++i)a[198][i].charCodeAt(0)!==65533&&(n[a[198][i]]=50688+i,r[50688+i]=a[198][i]);for(a[199]="".split(""),i=0;i!=a[199].length;++i)a[199][i].charCodeAt(0)!==65533&&(n[a[199][i]]=50944+i,r[50944+i]=a[199][i]);for(a[200]="".split(""),i=0;i!=a[200].length;++i)a[200][i].charCodeAt(0)!==65533&&(n[a[200][i]]=51200+i,r[51200+i]=a[200][i]);for(a[201]="".split(""),i=0;i!=a[201].length;++i)a[201][i].charCodeAt(0)!==65533&&(n[a[201][i]]=51456+i,r[51456+i]=a[201][i]);for(a[202]="".split(""),i=0;i!=a[202].length;++i)a[202][i].charCodeAt(0)!==65533&&(n[a[202][i]]=51712+i,r[51712+i]=a[202][i]);for(a[203]="".split(""),i=0;i!=a[203].length;++i)a[203][i].charCodeAt(0)!==65533&&(n[a[203][i]]=51968+i,r[51968+i]=a[203][i]);for(a[204]="".split(""),i=0;i!=a[204].length;++i)a[204][i].charCodeAt(0)!==65533&&(n[a[204][i]]=52224+i,r[52224+i]=a[204][i]);for(a[205]="".split(""),i=0;i!=a[205].length;++i)a[205][i].charCodeAt(0)!==65533&&(n[a[205][i]]=52480+i,r[52480+i]=a[205][i]);for(a[206]="".split(""),i=0;i!=a[206].length;++i)a[206][i].charCodeAt(0)!==65533&&(n[a[206][i]]=52736+i,r[52736+i]=a[206][i]);for(a[207]="".split(""),i=0;i!=a[207].length;++i)a[207][i].charCodeAt(0)!==65533&&(n[a[207][i]]=52992+i,r[52992+i]=a[207][i]);for(a[208]="".split(""),i=0;i!=a[208].length;++i)a[208][i].charCodeAt(0)!==65533&&(n[a[208][i]]=53248+i,r[53248+i]=a[208][i]);for(a[209]="".split(""),i=0;i!=a[209].length;++i)a[209][i].charCodeAt(0)!==65533&&(n[a[209][i]]=53504+i,r[53504+i]=a[209][i]);for(a[210]="".split(""),i=0;i!=a[210].length;++i)a[210][i].charCodeAt(0)!==65533&&(n[a[210][i]]=53760+i,r[53760+i]=a[210][i]);for(a[211]="".split(""),i=0;i!=a[211].length;++i)a[211][i].charCodeAt(0)!==65533&&(n[a[211][i]]=54016+i,r[54016+i]=a[211][i]);for(a[212]="".split(""),i=0;i!=a[212].length;++i)a[212][i].charCodeAt(0)!==65533&&(n[a[212][i]]=54272+i,r[54272+i]=a[212][i]);for(a[213]="".split(""),i=0;i!=a[213].length;++i)a[213][i].charCodeAt(0)!==65533&&(n[a[213][i]]=54528+i,r[54528+i]=a[213][i]);for(a[214]="".split(""),i=0;i!=a[214].length;++i)a[214][i].charCodeAt(0)!==65533&&(n[a[214][i]]=54784+i,r[54784+i]=a[214][i]);for(a[215]="".split(""),i=0;i!=a[215].length;++i)a[215][i].charCodeAt(0)!==65533&&(n[a[215][i]]=55040+i,r[55040+i]=a[215][i]);for(a[216]="".split(""),i=0;i!=a[216].length;++i)a[216][i].charCodeAt(0)!==65533&&(n[a[216][i]]=55296+i,r[55296+i]=a[216][i]);for(a[217]="".split(""),i=0;i!=a[217].length;++i)a[217][i].charCodeAt(0)!==65533&&(n[a[217][i]]=55552+i,r[55552+i]=a[217][i]);for(a[218]="".split(""),i=0;i!=a[218].length;++i)a[218][i].charCodeAt(0)!==65533&&(n[a[218][i]]=55808+i,r[55808+i]=a[218][i]);for(a[219]="".split(""),i=0;i!=a[219].length;++i)a[219][i].charCodeAt(0)!==65533&&(n[a[219][i]]=56064+i,r[56064+i]=a[219][i]);for(a[220]="".split(""),i=0;i!=a[220].length;++i)a[220][i].charCodeAt(0)!==65533&&(n[a[220][i]]=56320+i,r[56320+i]=a[220][i]);for(a[221]="".split(""),i=0;i!=a[221].length;++i)a[221][i].charCodeAt(0)!==65533&&(n[a[221][i]]=56576+i,r[56576+i]=a[221][i]);for(a[222]="".split(""),i=0;i!=a[222].length;++i)a[222][i].charCodeAt(0)!==65533&&(n[a[222][i]]=56832+i,r[56832+i]=a[222][i]);for(a[223]="".split(""),i=0;i!=a[223].length;++i)a[223][i].charCodeAt(0)!==65533&&(n[a[223][i]]=57088+i,r[57088+i]=a[223][i]);for(a[224]="".split(""),i=0;i!=a[224].length;++i)a[224][i].charCodeAt(0)!==65533&&(n[a[224][i]]=57344+i,r[57344+i]=a[224][i]);for(a[225]="".split(""),i=0;i!=a[225].length;++i)a[225][i].charCodeAt(0)!==65533&&(n[a[225][i]]=57600+i,r[57600+i]=a[225][i]);for(a[226]="".split(""),i=0;i!=a[226].length;++i)a[226][i].charCodeAt(0)!==65533&&(n[a[226][i]]=57856+i,r[57856+i]=a[226][i]);for(a[227]="".split(""),i=0;i!=a[227].length;++i)a[227][i].charCodeAt(0)!==65533&&(n[a[227][i]]=58112+i,r[58112+i]=a[227][i]);for(a[228]="".split(""),i=0;i!=a[228].length;++i)a[228][i].charCodeAt(0)!==65533&&(n[a[228][i]]=58368+i,r[58368+i]=a[228][i]);for(a[229]="".split(""),i=0;i!=a[229].length;++i)a[229][i].charCodeAt(0)!==65533&&(n[a[229][i]]=58624+i,r[58624+i]=a[229][i]);for(a[230]="".split(""),i=0;i!=a[230].length;++i)a[230][i].charCodeAt(0)!==65533&&(n[a[230][i]]=58880+i,r[58880+i]=a[230][i]);for(a[231]="".split(""),i=0;i!=a[231].length;++i)a[231][i].charCodeAt(0)!==65533&&(n[a[231][i]]=59136+i,r[59136+i]=a[231][i]);for(a[232]="".split(""),i=0;i!=a[232].length;++i)a[232][i].charCodeAt(0)!==65533&&(n[a[232][i]]=59392+i,r[59392+i]=a[232][i]);for(a[233]="".split(""),i=0;i!=a[233].length;++i)a[233][i].charCodeAt(0)!==65533&&(n[a[233][i]]=59648+i,r[59648+i]=a[233][i]);for(a[234]="".split(""),i=0;i!=a[234].length;++i)a[234][i].charCodeAt(0)!==65533&&(n[a[234][i]]=59904+i,r[59904+i]=a[234][i]);for(a[235]="".split(""),i=0;i!=a[235].length;++i)a[235][i].charCodeAt(0)!==65533&&(n[a[235][i]]=60160+i,r[60160+i]=a[235][i]);for(a[236]="".split(""),i=0;i!=a[236].length;++i)a[236][i].charCodeAt(0)!==65533&&(n[a[236][i]]=60416+i,r[60416+i]=a[236][i]);for(a[237]="".split(""),i=0;i!=a[237].length;++i)a[237][i].charCodeAt(0)!==65533&&(n[a[237][i]]=60672+i,r[60672+i]=a[237][i]);for(a[238]="".split(""),i=0;i!=a[238].length;++i)a[238][i].charCodeAt(0)!==65533&&(n[a[238][i]]=60928+i,r[60928+i]=a[238][i]);for(a[239]="".split(""),i=0;i!=a[239].length;++i)a[239][i].charCodeAt(0)!==65533&&(n[a[239][i]]=61184+i,r[61184+i]=a[239][i]);for(a[240]="".split(""),i=0;i!=a[240].length;++i)a[240][i].charCodeAt(0)!==65533&&(n[a[240][i]]=61440+i,r[61440+i]=a[240][i]);for(a[241]="".split(""),i=0;i!=a[241].length;++i)a[241][i].charCodeAt(0)!==65533&&(n[a[241][i]]=61696+i,r[61696+i]=a[241][i]);for(a[242]="".split(""),i=0;i!=a[242].length;++i)a[242][i].charCodeAt(0)!==65533&&(n[a[242][i]]=61952+i,r[61952+i]=a[242][i]);for(a[243]="".split(""),i=0;i!=a[243].length;++i)a[243][i].charCodeAt(0)!==65533&&(n[a[243][i]]=62208+i,r[62208+i]=a[243][i]);for(a[244]="".split(""),i=0;i!=a[244].length;++i)a[244][i].charCodeAt(0)!==65533&&(n[a[244][i]]=62464+i,r[62464+i]=a[244][i]);for(a[245]="".split(""),i=0;i!=a[245].length;++i)a[245][i].charCodeAt(0)!==65533&&(n[a[245][i]]=62720+i,r[62720+i]=a[245][i]);for(a[246]="".split(""),i=0;i!=a[246].length;++i)a[246][i].charCodeAt(0)!==65533&&(n[a[246][i]]=62976+i,r[62976+i]=a[246][i]);for(a[247]="".split(""),i=0;i!=a[247].length;++i)a[247][i].charCodeAt(0)!==65533&&(n[a[247][i]]=63232+i,r[63232+i]=a[247][i]);return{enc:n,dec:r}}(),t[10029]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[10079]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[10081]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),t[28591]=function(){for(var r=`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`,n=[],a={},i=0;i!=r.length;++i)r.charCodeAt(i)!==65533&&(a[r.charAt(i)]=i),n[i]=r.charAt(i);return{enc:a,dec:n}}(),e.exports&&typeof DO_NOT_EXPORT_CODEPAGE>"u"&&(e.exports=t);/*! cputils.js (C) 2013-present SheetJS -- http://sheetjs.com */(function(r,n){if(typeof t>"u")if(typeof NC<"u"){var a=t;e.exports&&typeof DO_NOT_EXPORT_CODEPAGE>"u"?e.exports=n(a):r.cptable=n(a)}else throw new Error("cptable not found");else t=n(t)})(Vs,function(r){var n={1200:"utf16le",1201:"utf16be",12e3:"utf32le",12001:"utf32be",16969:"utf64le",20127:"ascii",65e3:"utf7",65001:"utf8"},a=[874,1250,1251,1252,1253,1254,1255,1256,1e4],i=[932,936,949,950],o=[65001],l={},c={},u={},f={},h=function(Se){return String.fromCharCode(Se)},g=function(Se){return Se.charCodeAt(0)},p=typeof Buffer<"u",N=function(){};if(p){var b=!Buffer.from;if(!b)try{Buffer.from("foo","utf8")}catch{b=!0}N=b?function(xe,Se){return Se?new Buffer(xe,Se):new Buffer(xe)}:Buffer.from.bind(Buffer),Buffer.allocUnsafe||(Buffer.allocUnsafe=function(xe){return new Buffer(xe)});var S=1024,C=Buffer.allocUnsafe(S),j=function(Se){for(var ye=Buffer.allocUnsafe(65536),ee=0;ee<65536;++ee)ye[ee]=0;for(var he=Object.keys(Se),se=he.length,te=0,ge=he[te];te<se;++te)(ge=he[te])&&(ye[ge.charCodeAt(0)]=Se[ge]);return ye},T=function(Se){var ye=j(r[Se].enc);return function(he,se){var te=he.length,ge,ue=0,Ce=0,Ne=0,Ee=0;if(typeof he=="string")for(ge=Buffer.allocUnsafe(te),ue=0;ue<te;++ue)ge[ue]=ye[he.charCodeAt(ue)];else if(Buffer.isBuffer(he)){for(ge=Buffer.allocUnsafe(2*te),Ce=0,ue=0;ue<te;++ue)Ne=he[ue],Ne<128?ge[Ce++]=ye[Ne]:Ne<224?(ge[Ce++]=ye[((Ne&31)<<6)+(he[ue+1]&63)],++ue):Ne<240?(ge[Ce++]=ye[((Ne&15)<<12)+((he[ue+1]&63)<<6)+(he[ue+2]&63)],ue+=2):(Ee=((Ne&7)<<18)+((he[ue+1]&63)<<12)+((he[ue+2]&63)<<6)+(he[ue+3]&63),ue+=3,Ee<65536?ge[Ce++]=ye[Ee]:(Ee-=65536,ge[Ce++]=ye[55296+(Ee>>10&1023)],ge[Ce++]=ye[56320+(Ee&1023)]));ge=ge.slice(0,Ce)}else for(ge=Buffer.allocUnsafe(te),ue=0;ue<te;++ue)ge[ue]=ye[he[ue].charCodeAt(0)];return!se||se==="buf"?ge:se!=="arr"?ge.toString("binary"):[].slice.call(ge)}},O=function(Se){var ye=r[Se].dec,ee=Buffer.allocUnsafe(131072),he=0,se="";for(he=0;he<ye.length;++he)if(se=ye[he]){var te=se.charCodeAt(0);ee[2*he]=te&255,ee[2*he+1]=te>>8}return function(ue){var Ce=ue.length,Ne=0,Ee=0;if(2*Ce>S&&(S=2*Ce,C=Buffer.allocUnsafe(S)),Buffer.isBuffer(ue))for(Ne=0;Ne<Ce;Ne++)Ee=2*ue[Ne],C[2*Ne]=ee[Ee],C[2*Ne+1]=ee[Ee+1];else if(typeof ue=="string")for(Ne=0;Ne<Ce;Ne++)Ee=2*ue.charCodeAt(Ne),C[2*Ne]=ee[Ee],C[2*Ne+1]=ee[Ee+1];else for(Ne=0;Ne<Ce;Ne++)Ee=2*ue[Ne],C[2*Ne]=ee[Ee],C[2*Ne+1]=ee[Ee+1];return C.slice(0,2*Ce).toString("ucs2")}},M=function(Se){for(var ye=r[Se].enc,ee=Buffer.allocUnsafe(131072),he=0;he<131072;++he)ee[he]=0;for(var se=Object.keys(ye),te=0,ge=se[te];te<se.length;++te)if(ge=se[te]){var ue=ge.charCodeAt(0);ee[2*ue]=ye[ge]&255,ee[2*ue+1]=ye[ge]>>8}return function(Ne,Ee){var Ge=Ne.length,Be=Buffer.allocUnsafe(2*Ge),st=0,lt=0,Me=0,wt=0,_t=0;if(typeof Ne=="string"){for(st=wt=0;st<Ge;++st)lt=Ne.charCodeAt(st)*2,Be[wt++]=ee[lt+1]||ee[lt],ee[lt+1]>0&&(Be[wt++]=ee[lt]);Be=Be.slice(0,wt)}else if(Buffer.isBuffer(Ne)){for(st=wt=0;st<Ge;++st)_t=Ne[st],_t<128?lt=_t:_t<224?(lt=((_t&31)<<6)+(Ne[st+1]&63),++st):_t<240?(lt=((_t&15)<<12)+((Ne[st+1]&63)<<6)+(Ne[st+2]&63),st+=2):(lt=((_t&7)<<18)+((Ne[st+1]&63)<<12)+((Ne[st+2]&63)<<6)+(Ne[st+3]&63),st+=3),lt<65536?(lt*=2,Be[wt++]=ee[lt+1]||ee[lt],ee[lt+1]>0&&(Be[wt++]=ee[lt])):(Me=lt-65536,lt=2*(55296+(Me>>10&1023)),Be[wt++]=ee[lt+1]||ee[lt],ee[lt+1]>0&&(Be[wt++]=ee[lt]),lt=2*(56320+(Me&1023)),Be[wt++]=ee[lt+1]||ee[lt],ee[lt+1]>0&&(Be[wt++]=ee[lt]));Be=Be.slice(0,wt)}else for(st=wt=0;st<Ge;st++)lt=Ne[st].charCodeAt(0)*2,Be[wt++]=ee[lt+1]||ee[lt],ee[lt+1]>0&&(Be[wt++]=ee[lt]);return!Ee||Ee==="buf"?Be:Ee!=="arr"?Be.toString("binary"):[].slice.call(Be)}},B=function(Se){var ye=r[Se].dec,ee=Buffer.allocUnsafe(131072),he=0,se,te=0,ge=0,ue=0;for(ue=0;ue<65536;++ue)ee[2*ue]=255,ee[2*ue+1]=253;for(he=0;he<ye.length;++he)(se=ye[he])&&(te=se.charCodeAt(0),ge=2*he,ee[ge]=te&255,ee[ge+1]=te>>8);return function(Ne){var Ee=Ne.length,Ge=Buffer.allocUnsafe(2*Ee),Be=0,st=0,lt=0;if(Buffer.isBuffer(Ne))for(Be=0;Be<Ee;Be++)st=2*Ne[Be],ee[st]===255&&ee[st+1]===253&&(st=2*((Ne[Be]<<8)+Ne[Be+1]),++Be),Ge[lt++]=ee[st],Ge[lt++]=ee[st+1];else if(typeof Ne=="string")for(Be=0;Be<Ee;Be++)st=2*Ne.charCodeAt(Be),ee[st]===255&&ee[st+1]===253&&(st=2*((Ne.charCodeAt(Be)<<8)+Ne.charCodeAt(Be+1)),++Be),Ge[lt++]=ee[st],Ge[lt++]=ee[st+1];else for(Be=0;Be<Ee;Be++)st=2*Ne[Be],ee[st]===255&&ee[st+1]===253&&(st=2*((Ne[Be]<<8)+Ne[Be+1]),++Be),Ge[lt++]=ee[st],Ge[lt++]=ee[st+1];return Ge.slice(0,lt).toString("ucs2")}};l[65001]=function xe(Se){if(typeof Se=="string")return xe(Se.split("").map(g));var ye=Se.length,ee=0,he=0;4*ye>S&&(S=4*ye,C=Buffer.allocUnsafe(S));var se=0;ye>=3&&Se[0]==239&&Se[1]==187&&Se[2]==191&&(se=3);for(var te=1,ge=0,ue=0;se<ye;se+=te)te=1,ue=Se[se],ue<128?ee=ue:ue<224?(ee=(ue&31)*64+(Se[se+1]&63),te=2):ue<240?(ee=((ue&15)<<12)+(Se[se+1]&63)*64+(Se[se+2]&63),te=3):(ee=(ue&7)*262144+((Se[se+1]&63)<<12)+(Se[se+2]&63)*64+(Se[se+3]&63),te=4),ee<65536?(C[ge++]=ee&255,C[ge++]=ee>>8):(ee-=65536,he=55296+(ee>>10&1023),ee=56320+(ee&1023),C[ge++]=he&255,C[ge++]=he>>>8,C[ge++]=ee&255,C[ge++]=ee>>>8&255);return C.slice(0,ge).toString("ucs2")},c[65001]=function(Se,ye){if(p&&Buffer.isBuffer(Se))return!ye||ye==="buf"?Se:ye!=="arr"?Se.toString("binary"):[].slice.call(Se);var ee=Se.length,he=0,se=0,te=0,ge=typeof Se=="string";4*ee>S&&(S=4*ee,C=Buffer.allocUnsafe(S));for(var ue=0;ue<ee;++ue)he=ge?Se.charCodeAt(ue):Se[ue].charCodeAt(0),he<=127?C[te++]=he:he<=2047?(C[te++]=192+(he>>6),C[te++]=128+(he&63)):he>=55296&&he<=57343?(he-=55296,++ue,se=(ge?Se.charCodeAt(ue):Se[ue].charCodeAt(0))-56320+(he<<10),C[te++]=240+(se>>>18&7),C[te++]=144+(se>>>12&63),C[te++]=128+(se>>>6&63),C[te++]=128+(se&63)):(C[te++]=224+(he>>12),C[te++]=128+(he>>6&63),C[te++]=128+(he&63));return!ye||ye==="buf"?C.slice(0,te):ye!=="arr"?C.slice(0,te).toString("binary"):[].slice.call(C,0,te)}}var L=function(){if(p){if(u[a[0]])return;var Se=0,ye=0;for(Se=0;Se<a.length;++Se)ye=a[Se],r[ye]&&(u[ye]=O(ye),f[ye]=T(ye));for(Se=0;Se<i.length;++Se)ye=i[Se],r[ye]&&(u[ye]=B(ye),f[ye]=M(ye));for(Se=0;Se<o.length;++Se)ye=o[Se],l[ye]&&(u[ye]=l[ye]),c[ye]&&(f[ye]=c[ye])}},H=function(xe,Se){return""},U=function(Se){delete u[Se],delete f[Se]},J=function(){if(p){if(!u[a[0]])return;a.forEach(U),i.forEach(U),o.forEach(U)}ae=H,X=0},K={encache:L,decache:J,sbcs:a,dbcs:i};L();var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'(),-./:?",ae=H,X=0,ne=function xe(Se,ye,ee){if(Se===X&&ae)return ae(ye,ee);if(f[Se])return ae=f[X=Se],ae(ye,ee);p&&Buffer.isBuffer(ye)&&(ye=ye.toString("utf8"));var he=ye.length,se=p?Buffer.allocUnsafe(4*he):[],te=0,ge=0,ue=0,Ce=0,Ne=r[Se],Ee,Ge="",Be=typeof ye=="string";if(Ne&&(Ee=Ne.enc))for(ge=0;ge<he;++ge,++ue)te=Ee[Be?ye.charAt(ge):ye[ge]],te>255?(se[ue]=te>>8,se[++ue]=te&255):se[ue]=te&255;else if(Ge=n[Se])switch(Ge){case"utf8":if(p&&Be){se=N(ye,Ge),ue=se.length;break}for(ge=0;ge<he;++ge,++ue)te=Be?ye.charCodeAt(ge):ye[ge].charCodeAt(0),te<=127?se[ue]=te:te<=2047?(se[ue]=192+(te>>6),se[++ue]=128+(te&63)):te>=55296&&te<=57343?(te-=55296,Ce=(Be?ye.charCodeAt(++ge):ye[++ge].charCodeAt(0))-56320+(te<<10),se[ue]=240+(Ce>>>18&7),se[++ue]=144+(Ce>>>12&63),se[++ue]=128+(Ce>>>6&63),se[++ue]=128+(Ce&63)):(se[ue]=224+(te>>12),se[++ue]=128+(te>>6&63),se[++ue]=128+(te&63));break;case"ascii":if(p&&typeof ye=="string"){se=N(ye,Ge),ue=se.length;break}for(ge=0;ge<he;++ge,++ue)if(te=Be?ye.charCodeAt(ge):ye[ge].charCodeAt(0),te<=127)se[ue]=te;else throw new Error("bad ascii "+te);break;case"utf16le":if(p&&typeof ye=="string"){se=N(ye,Ge),ue=se.length;break}for(ge=0;ge<he;++ge)te=Be?ye.charCodeAt(ge):ye[ge].charCodeAt(0),se[ue++]=te&255,se[ue++]=te>>8;break;case"utf16be":for(ge=0;ge<he;++ge)te=Be?ye.charCodeAt(ge):ye[ge].charCodeAt(0),se[ue++]=te>>8,se[ue++]=te&255;break;case"utf32le":for(ge=0;ge<he;++ge)te=Be?ye.charCodeAt(ge):ye[ge].charCodeAt(0),te>=55296&&te<=57343&&(te=65536+(te-55296<<10)+(ye[++ge].charCodeAt(0)-56320)),se[ue++]=te&255,te>>=8,se[ue++]=te&255,te>>=8,se[ue++]=te&255,te>>=8,se[ue++]=te&255;break;case"utf32be":for(ge=0;ge<he;++ge)te=Be?ye.charCodeAt(ge):ye[ge].charCodeAt(0),te>=55296&&te<=57343&&(te=65536+(te-55296<<10)+(ye[++ge].charCodeAt(0)-56320)),se[ue+3]=te&255,te>>=8,se[ue+2]=te&255,te>>=8,se[ue+1]=te&255,te>>=8,se[ue]=te&255,ue+=4;break;case"utf7":for(ge=0;ge<he;ge++){var st=Be?ye.charAt(ge):ye[ge].charAt(0);if(st==="+"){se[ue++]=43,se[ue++]=45;continue}if(re.indexOf(st)>-1){se[ue++]=st.charCodeAt(0);continue}var lt=xe(1201,st);se[ue++]=43,se[ue++]=G.charCodeAt(lt[0]>>2),se[ue++]=G.charCodeAt(((lt[0]&3)<<4)+((lt[1]||0)>>4)),se[ue++]=G.charCodeAt(((lt[1]&15)<<2)+((lt[2]||0)>>6)),se[ue++]=45}break;default:throw new Error("Unsupported magic: "+Se+" "+n[Se])}else throw new Error("Unrecognized CP: "+Se);return se=se.slice(0,ue),p?!ee||ee==="buf"?se:ee!=="arr"?se.toString("binary"):[].slice.call(se):ee=="str"?se.map(h).join(""):se},de=function xe(Se,ye){var ee;if(ee=u[Se])return ee(ye);if(typeof ye=="string")return xe(Se,ye.split("").map(g));var he=ye.length,se=new Array(he),te="",ge=0,ue=0,Ce=1,Ne=0,Ee=0,Ge=r[Se],Be,st="";if(Ge&&(Be=Ge.dec))for(ue=0;ue<he;ue+=Ce){if(Ce=2,te=Be[(ye[ue]<<8)+ye[ue+1]],te||(Ce=1,te=Be[ye[ue]]),!te)throw new Error("Unrecognized code: "+ye[ue]+" "+ye[ue+Ce-1]+" "+ue+" "+Ce+" "+Be[ye[ue]]);se[Ne++]=te}else if(st=n[Se])switch(st){case"utf8":for(he>=3&&ye[0]==239&&ye[1]==187&&ye[2]==191&&(ue=3);ue<he;ue+=Ce)Ce=1,ye[ue]<128?ge=ye[ue]:ye[ue]<224?(ge=(ye[ue]&31)*64+(ye[ue+1]&63),Ce=2):ye[ue]<240?(ge=((ye[ue]&15)<<12)+(ye[ue+1]&63)*64+(ye[ue+2]&63),Ce=3):(ge=(ye[ue]&7)*262144+((ye[ue+1]&63)<<12)+(ye[ue+2]&63)*64+(ye[ue+3]&63),Ce=4),ge<65536||(ge-=65536,Ee=55296+(ge>>10&1023),ge=56320+(ge&1023),se[Ne++]=String.fromCharCode(Ee)),se[Ne++]=String.fromCharCode(ge);break;case"ascii":if(p&&Buffer.isBuffer(ye))return ye.toString(st);for(ue=0;ue<he;ue++)se[ue]=String.fromCharCode(ye[ue]);Ne=he;break;case"utf16le":if(he>=2&&ye[0]==255&&ye[1]==254&&(ue=2),p&&Buffer.isBuffer(ye))return ye.toString(st);for(Ce=2;ue+1<he;ue+=Ce)se[Ne++]=String.fromCharCode((ye[ue+1]<<8)+ye[ue]);break;case"utf16be":for(he>=2&&ye[0]==254&&ye[1]==255&&(ue=2),Ce=2;ue+1<he;ue+=Ce)se[Ne++]=String.fromCharCode((ye[ue]<<8)+ye[ue+1]);break;case"utf32le":for(he>=4&&ye[0]==255&&ye[1]==254&&ye[2]===0&&ye[3]===0&&(ue=4),Ce=4;ue<he;ue+=Ce)ge=(ye[ue+3]<<24)+(ye[ue+2]<<16)+(ye[ue+1]<<8)+ye[ue],ge>65535?(ge-=65536,se[Ne++]=String.fromCharCode(55296+(ge>>10&1023)),se[Ne++]=String.fromCharCode(56320+(ge&1023))):se[Ne++]=String.fromCharCode(ge);break;case"utf32be":for(he>=4&&ye[3]==255&&ye[2]==254&&ye[1]===0&&ye[0]===0&&(ue=4),Ce=4;ue<he;ue+=Ce)ge=(ye[ue]<<24)+(ye[ue+1]<<16)+(ye[ue+2]<<8)+ye[ue+3],ge>65535?(ge-=65536,se[Ne++]=String.fromCharCode(55296+(ge>>10&1023)),se[Ne++]=String.fromCharCode(56320+(ge&1023))):se[Ne++]=String.fromCharCode(ge);break;case"utf7":for(he>=4&&ye[0]==43&&ye[1]==47&&ye[2]==118&&(he>=5&&ye[3]==56&&ye[4]==45?ue=5:(ye[3]==56||ye[3]==57||ye[3]==43||ye[3]==47)&&(ue=4));ue<he;ue+=Ce){if(ye[ue]!==43){Ce=1,se[Ne++]=String.fromCharCode(ye[ue]);continue}if(Ce=1,ye[ue+1]===45){Ce=2,se[Ne++]="+";continue}for(;String.fromCharCode(ye[ue+Ce]).match(/[A-Za-z0-9+\/]/);)Ce++;var lt=0;ye[ue+Ce]===45&&(++Ce,lt=1);for(var Me=[],wt="",_t=0,ar=0,Tt=0,sn=0,ct=0,Ar=0,jr=0,tn=1;tn<Ce-lt&&(sn=G.indexOf(String.fromCharCode(ye[ue+tn++])),ct=G.indexOf(String.fromCharCode(ye[ue+tn++])),_t=sn<<2|ct>>4,Me.push(_t),Ar=G.indexOf(String.fromCharCode(ye[ue+tn++])),!(Ar===-1||(ar=(ct&15)<<4|Ar>>2,Me.push(ar),jr=G.indexOf(String.fromCharCode(ye[ue+tn++])),jr===-1)));)Tt=(Ar&3)<<6|jr,jr<64&&Me.push(Tt);for(wt=xe(1201,Me),tn=0;tn<wt.length;++tn)se[Ne++]=wt.charAt(tn)}break;default:throw new Error("Unsupported magic: "+Se+" "+n[Se])}else throw new Error("Unrecognized CP: "+Se);return se.slice(0,Ne).join("")},le=function(Se){return!!(r[Se]||n[Se])};return r.utils={decode:de,encode:ne,hascp:le,magic:n,cache:K},r})}(oO)),oO.exports}const _2t={},N2t=Object.freeze(Object.defineProperty({__proto__:null,default:_2t},Symbol.toStringTag,{value:"Module"})),lO=RJ(N2t);(function(e,t){var r={};function n(a){a.version="0.18.5",a.style_version="1.2.0";var i,o=1200,l=1252;typeof cptable<"u"?i=cptable:typeof NC<"u"&&(i=w2t());var c=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],u={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},f=function(d){c.indexOf(d)!=-1&&(l=u[0]=d)},h=function(d){f(o=d)};function g(){h(1200),f(1252)}function p(d){for(var x=[],v=0,_=d.length;v<_;++v)x[v]=d.charCodeAt(v);return x}function N(d){for(var x=[],v=0;v<d.length>>1;++v)x[v]=String.fromCharCode(d.charCodeAt(2*v+1)+(d.charCodeAt(2*v)<<8));return x.join("")}var b=function(d){var x=d.charCodeAt(0),v=d.charCodeAt(1);return x==255&&v==254?function(_){for(var k=[],F=0;F<_.length>>1;++F)k[F]=String.fromCharCode(_.charCodeAt(2*F)+(_.charCodeAt(2*F+1)<<8));return k.join("")}(d.slice(2)):x==254&&v==255?N(d.slice(2)):x==65279?d.slice(1):d},S=function(d){return String.fromCharCode(d)},C=function(d){return String.fromCharCode(d)};i!==void 0&&(h=function(d){f(o=d)},b=function(d){return d.charCodeAt(0)===255&&d.charCodeAt(1)===254?i.utils.decode(1200,p(d.slice(2))):d},S=function(d){return o===1200?String.fromCharCode(d):i.utils.decode(o,[255&d,d>>8])[0]},C=function(d){return i.utils.decode(l,[d])[0]});var j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function T(d){for(var x,v,_,k,F,I="",R=0,W=0,q=0;q<d.length;)k=(x=d.charCodeAt(q++))>>2,F=(3&x)<<4|(v=d.charCodeAt(q++))>>4,R=(15&v)<<2|(_=d.charCodeAt(q++))>>6,W=63&_,isNaN(v)?R=W=64:isNaN(_)&&(W=64),I+=j.charAt(k)+j.charAt(F)+j.charAt(R)+j.charAt(W);return I}function O(d){var x,v,_,k,F,I,R="";d=d.replace(/[^\w\+\/\=]/g,"");for(var W=0;W<d.length;)x=j.indexOf(d.charAt(W++))<<2|(k=j.indexOf(d.charAt(W++)))>>4,R+=String.fromCharCode(x),v=(15&k)<<4|(F=j.indexOf(d.charAt(W++)))>>2,F!==64&&(R+=String.fromCharCode(v)),_=(3&F)<<6|(I=j.indexOf(d.charAt(W++))),I!==64&&(R+=String.fromCharCode(_));return R}var M=typeof Buffer<"u"&&typeof process<"u"&&process.versions!==void 0&&!!process.versions.node,B=function(){if(typeof Buffer>"u")return function(){};var d=!Buffer.from;if(!d)try{Buffer.from("foo","utf8")}catch{d=!0}return d?function(x,v){return v?new Buffer(x,v):new Buffer(x)}:Buffer.from.bind(Buffer)}();function L(d){return M?Buffer.alloc?Buffer.alloc(d):new Buffer(d):new(typeof Uint8Array<"u"?Uint8Array:Array)(d)}function H(d){return M?Buffer.allocUnsafe?Buffer.allocUnsafe(d):new Buffer(d):new(typeof Uint8Array<"u"?Uint8Array:Array)(d)}var U=function(d){return M?B(d,"binary"):d.split("").map(function(x){return 255&x.charCodeAt(0)})};function J(d){if(typeof ArrayBuffer>"u")return U(d);for(var x=new ArrayBuffer(d.length),v=new Uint8Array(x),_=0;_!=d.length;++_)v[_]=255&d.charCodeAt(_);return x}function K(d){if(Array.isArray(d))return d.map(function(_){return String.fromCharCode(_)}).join("");for(var x=[],v=0;v<d.length;++v)x[v]=String.fromCharCode(d[v]);return x.join("")}function G(d){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(d instanceof ArrayBuffer)return G(new Uint8Array(d));for(var x=new Array(d.length),v=0;v<d.length;++v)x[v]=d[v];return x}var re=M?function(d){return Buffer.concat(d.map(function(x){return Buffer.isBuffer(x)?x:B(x)}))}:function(d){if(typeof Uint8Array>"u")return[].concat.apply([],d.map(function(F){return Array.isArray(F)?F:[].slice.call(F)}));for(var v=0,x=0,v=0;v<d.length;++v)x+=d[v].length;for(var _,k=new Uint8Array(x),x=v=0;v<d.length;x+=_,++v)if(_=d[v].length,d[v]instanceof Uint8Array)k.set(d[v],x);else{if(typeof d[v]=="string")throw"wtf";k.set(new Uint8Array(d[v]),x)}return k},ae=/\u0000/g,X=/[\u0001-\u0006]/g;function ne(d){for(var x="",v=d.length-1;0<=v;)x+=d.charAt(v--);return x}function de(d,x){return d=""+d,x<=d.length?d:Ot("0",x-d.length)+d}function le(d,x){return d=""+d,x<=d.length?d:Ot(" ",x-d.length)+d}function xe(d,x){return d=""+d,x<=d.length?d:d+Ot(" ",x-d.length)}var Se=Math.pow(2,32);function ye(k,x){if(Se<k||k<-Se)return v=k,_=x,v=""+Math.round(v),_<=v.length?v:Ot("0",_-v.length)+v;var v,_,k=Math.round(k);return(x=x)<=(k=""+(k=k)).length?k:Ot("0",x-k.length)+k}function ee(d,x){return x=x||0,d.length>=7+x&&(32|d.charCodeAt(x))==103&&(32|d.charCodeAt(x+1))==101&&(32|d.charCodeAt(x+2))==110&&(32|d.charCodeAt(x+3))==101&&(32|d.charCodeAt(x+4))==114&&(32|d.charCodeAt(x+5))==97&&(32|d.charCodeAt(x+6))==108}var he=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],se=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],te={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},ge={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ue={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ce(d,x,v){for(var _=d<0?-1:1,k=d*_,F=0,I=1,R=0,W=1,q=0,Q=0,ce=Math.floor(k);q<x&&(R=(ce=Math.floor(k))*I+F,Q=ce*q+W,!(k-ce<5e-8));)k=1/(k-ce),F=I,I=R,W=q,q=Q;return x<Q&&(R=x<q?(Q=W,F):(Q=q,I)),v?(v=Math.floor(_*R/Q),[v,_*R-v*Q,Q]):[0,_*R,Q]}function Ne(R,x,v){if(2958465<R||R<0)return null;var _=0|R,k=Math.floor(86400*(R-_)),F=0,I=[],R={D:_,T:k,u:86400*(R-_)-k,y:0,m:0,d:0,H:0,M:0,S:0,q:0};return Math.abs(R.u)<1e-6&&(R.u=0),x&&x.date1904&&(_+=1462),.9999<R.u&&(R.u=0,++k==86400&&(R.T=k=0,++_,++R.D)),_===60?(I=v?[1317,10,29]:[1900,2,29],F=3):_===0?(I=v?[1317,8,29]:[1900,1,0],F=6):(60<_&&--_,(x=new Date(1900,0,1)).setDate(x.getDate()+_-1),I=[x.getFullYear(),x.getMonth()+1,x.getDate()],F=x.getDay(),_<60&&(F=(F+6)%7),v&&(F=function(W,q){return q[0]-=581,q=W.getDay(),W<60&&(q=(q+6)%7),q}(x,I))),R.y=I[0],R.m=I[1],R.d=I[2],R.S=k%60,k=Math.floor(k/60),R.M=k%60,k=Math.floor(k/60),R.H=k,R.q=F,R}var Ee=new Date(1899,11,31,0,0,0),Ge=Ee.getTime(),Be=new Date(1900,2,1,0,0,0);function st(d,x){var v=d.getTime();return x?v-=1262304e5:Be<=d&&(v+=864e5),(v-(Ge+6e4*(d.getTimezoneOffset()-Ee.getTimezoneOffset())))/864e5}function lt(d){return d.indexOf(".")==-1?d:d.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Me(d){var x,v,_,k=Math.floor(Math.log(Math.abs(d))*Math.LOG10E),F=-4<=k&&k<=-1?d.toPrecision(10+k):Math.abs(k)<=9?(v=(x=d)<0?12:11,(_=lt(x.toFixed(12))).length<=v||(_=x.toPrecision(10)).length<=v?_:x.toExponential(5)):k===10?d.toFixed(10).substr(0,12):(F=lt((d=d).toFixed(11))).length>(d<0?12:11)||F==="0"||F==="-0"?d.toPrecision(6):F;return lt((F=F.toUpperCase()).indexOf("E")==-1?F:F.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2"))}function wt(d,x){switch(typeof d){case"string":return d;case"boolean":return d?"TRUE":"FALSE";case"number":return(0|d)===d?d.toString(10):Me(d);case"undefined":return"";case"object":if(d==null)return"";if(d instanceof Date)return ln(14,st(d,x&&x.date1904),x)}throw new Error("unsupported value in General format: "+d)}function _t(d){if(d.length<=3)return d;for(var x=d.length%3,v=d.substr(0,x);x!=d.length;x+=3)v+=(0<v.length?",":"")+d.substr(x,3);return v}var ar=/%/g,Tt=/# (\?+)( ?)\/( ?)(\d+)/,sn=/^#*0*\.([0#]+)/,ct=/\).*[0#]/,Ar=/\(###\) ###\\?-####/;function jr(d){for(var x,v="",_=0;_!=d.length;++_)switch(x=d.charCodeAt(_)){case 35:break;case 63:v+=" ";break;case 48:v+="0";break;default:v+=String.fromCharCode(x)}return v}function tn(d,x){return x=Math.pow(10,x),""+Math.round(d*x)/x}function ha(_,x){var v=_-Math.floor(_),_=Math.pow(10,x);return x<(""+Math.round(v*_)).length?0:Math.round(v*_)}function mn(d,x,v){if(d.charCodeAt(0)===40&&!x.match(ct)){var _=x.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return 0<=v?mn("n",_,v):"("+mn("n",_,-v)+")"}if(x.charCodeAt(x.length-1)===44)return function(_e,Fe,We){for(var He=Fe.length-1;Fe.charCodeAt(He-1)===44;)--He;return Un(_e,Fe.substr(0,He),We/Math.pow(10,3*(Fe.length-He)))}(d,x,v);if(x.indexOf("%")!==-1)return R=d,q=v,W=(Q=x).replace(ar,""),Q=Q.length-W.length,Un(R,W,q*Math.pow(10,2*Q))+Ot("%",Q);var k;if(x.indexOf("E")!==-1)return function _e(Fe,We){var He,mt=Fe.indexOf("E")-Fe.indexOf(".")-1;if(Fe.match(/^#+0.0E\+0$/)){if(We==0)return"0.0E+0";if(We<0)return"-"+_e(Fe,-We);var At=Fe.indexOf(".");At===-1&&(At=Fe.indexOf("E"));var vt=Math.floor(Math.log(We)*Math.LOG10E)%At;if(vt<0&&(vt+=At),(He=(We/Math.pow(10,vt)).toPrecision(1+mt+(At+vt)%At)).indexOf("e")===-1){var Bt=Math.floor(Math.log(We)*Math.LOG10E);for(He.indexOf(".")===-1?He=He.charAt(0)+"."+He.substr(1)+"E+"+(Bt-He.length+vt):He+="E+"+(Bt-vt);He.substr(0,2)==="0.";)He=(He=He.charAt(0)+He.substr(2,At)+"."+He.substr(2+At)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");He=He.replace(/\+-/,"-")}He=He.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(dr,fr,Wt,Cr){return fr+Wt+Cr.substr(0,(At+vt)%At)+"."+Cr.substr(vt)+"E"})}else He=We.toExponential(mt);return Fe.match(/E\+00$/)&&He.match(/e[+-]\d$/)&&(He=He.substr(0,He.length-1)+"0"+He.charAt(He.length-1)),(He=Fe.match(/E\-/)&&He.match(/e\+/)?He.replace(/e\+/,"e"):He).replace("e","E")}(x,v);if(x.charCodeAt(0)===36)return"$"+mn(d,x.substr(x.charAt(1)==" "?2:1),v);var F,I,R,W,q,Q,ce,fe=Math.abs(v),pe=v<0?"-":"";if(x.match(/^00+$/))return pe+ye(fe,x.length);if(x.match(/^[#?]+$/))return(k=(k=ye(v,0))==="0"?"":k).length>x.length?k:jr(x.substr(0,x.length-k.length))+k;if(F=x.match(Tt))return ce=F,R=fe,W=pe,q=parseInt(ce[4],10),Q=Math.round(R*q),R=Math.floor(Q/q),W+(R===0?"":""+R)+" "+((Q-=R*q)==0?Ot(" ",ce[1].length+1+ce[4].length):le(Q,ce[1].length)+ce[2]+"/"+ce[3]+de(q,ce[4].length));if(x.match(/^#+0+$/))return pe+ye(fe,x.length-x.indexOf("0"));if(F=x.match(sn))return k=tn(v,F[1].length).replace(/^([^\.]+)$/,"$1."+jr(F[1])).replace(/\.$/,"."+jr(F[1])).replace(/\.(\d*)$/,function(_e,Fe){return"."+Fe+Ot("0",jr(F[1]).length-Fe.length)}),x.indexOf("0.")!==-1?k:k.replace(/^0\./,".");if(x=x.replace(/^#+([0.])/,"$1"),F=x.match(/^(0*)\.(#*)$/))return pe+tn(fe,F[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,F[1].length?"0.":".");if(F=x.match(/^#{1,3},##0(\.?)$/))return pe+_t(ye(fe,0));if(F=x.match(/^#,##0\.([#0]*0)$/))return v<0?"-"+mn(d,x,-v):_t(""+(Math.floor(v)+(ce=v,(Ae=F[1].length)<(""+Math.round((ce-Math.floor(ce))*Math.pow(10,Ae))).length?1:0)))+"."+de(ha(v,F[1].length),F[1].length);if(F=x.match(/^#,#*,#0/))return mn(d,x.replace(/^#,#*,/,""),v);if(F=x.match(/^([0#]+)(\\?-([0#]+))+$/))return k=ne(mn(d,x.replace(/[\\-]/g,""),v)),I=0,ne(ne(x.replace(/\\/g,"")).replace(/[0#]/g,function(_e){return I<k.length?k.charAt(I++):_e==="0"?"0":""}));if(x.match(Ar))return"("+(k=mn(d,"##########",v)).substr(0,3)+") "+k.substr(3,3)+"-"+k.substr(6);var Ae="";if(F=x.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return I=Math.min(F[4].length,7),ve=Ce(fe,Math.pow(10,I)-1,!1),k=pe,(Ae=Un("n",F[1],ve[1])).charAt(Ae.length-1)==" "&&(Ae=Ae.substr(0,Ae.length-1)+"0"),k+=Ae+F[2]+"/"+F[3],(Ae=xe(ve[2],I)).length<F[4].length&&(Ae=jr(F[4].substr(F[4].length-Ae.length))+Ae),k+=Ae;if(F=x.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return I=Math.min(Math.max(F[1].length,F[4].length),7),pe+((ve=Ce(fe,Math.pow(10,I)-1,!0))[0]||(ve[1]?"":"0"))+" "+(ve[1]?le(ve[1],I)+F[2]+"/"+F[3]+xe(ve[2],I):Ot(" ",2*I+1+F[2].length+F[3].length));if(F=x.match(/^[#0?]+$/))return k=ye(v,0),x.length<=k.length?k:jr(x.substr(0,x.length-k.length))+k;if(F=x.match(/^([#0?]+)\.([#0]+)$/)){k=""+v.toFixed(Math.min(F[2].length,10)).replace(/([^0])0+$/,"$1"),I=k.indexOf(".");var ve=x.indexOf(".")-I,Re=x.length-k.length-ve;return jr(x.substr(0,ve)+k+x.substr(x.length-Re))}if(F=x.match(/^00,000\.([#0]*0)$/))return I=ha(v,F[1].length),v<0?"-"+mn(d,x,-v):_t((Re=v)<2147483647&&-2147483648<Re?""+(0<=Re?0|Re:Re-1|0):""+Math.floor(Re)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_e){return"00,"+(_e.length<3?de(0,3-_e.length):"")+_e})+"."+de(I,F[1].length);switch(x){case"###,##0.00":return mn(d,"#,##0.00",v);case"###,###":case"##,###":case"#,###":var je=_t(ye(fe,0));return je!=="0"?pe+je:"";case"###,###.00":return mn(d,"###,##0.00",v).replace(/^0\./,".");case"#,###.00":return mn(d,"#,##0.00",v).replace(/^0\./,".")}throw new Error("unsupported format |"+x+"|")}function xa(d,x,v){if(d.charCodeAt(0)===40&&!x.match(ct)){var _=x.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return 0<=v?xa("n",_,v):"("+xa("n",_,-v)+")"}if(x.charCodeAt(x.length-1)===44)return function(ve,Re,je){for(var _e=Re.length-1;Re.charCodeAt(_e-1)===44;)--_e;return Un(ve,Re.substr(0,_e),je/Math.pow(10,3*(Re.length-_e)))}(d,x,v);if(x.indexOf("%")!==-1)return k=d,I=v,_=(F=x).replace(ar,""),F=F.length-_.length,Un(k,_,I*Math.pow(10,2*F))+Ot("%",F);var k,F,I,R;if(x.indexOf("E")!==-1)return function ve(Re,je){var _e,Fe=Re.indexOf("E")-Re.indexOf(".")-1;if(Re.match(/^#+0.0E\+0$/)){if(je==0)return"0.0E+0";if(je<0)return"-"+ve(Re,-je);var We=Re.indexOf(".");We===-1&&(We=Re.indexOf("E"));var He,mt=Math.floor(Math.log(je)*Math.LOG10E)%We;mt<0&&(mt+=We),(_e=(je/Math.pow(10,mt)).toPrecision(1+Fe+(We+mt)%We)).match(/[Ee]/)||(He=Math.floor(Math.log(je)*Math.LOG10E),_e.indexOf(".")===-1?_e=_e.charAt(0)+"."+_e.substr(1)+"E+"+(He-_e.length+mt):_e+="E+"+(He-mt),_e=_e.replace(/\+-/,"-")),_e=_e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(At,vt,Bt,dr){return vt+Bt+dr.substr(0,(We+mt)%We)+"."+dr.substr(mt)+"E"})}else _e=je.toExponential(Fe);return Re.match(/E\+00$/)&&_e.match(/e[+-]\d$/)&&(_e=_e.substr(0,_e.length-1)+"0"+_e.charAt(_e.length-1)),(_e=Re.match(/E\-/)&&_e.match(/e\+/)?_e.replace(/e\+/,"e"):_e).replace("e","E")}(x,v);if(x.charCodeAt(0)===36)return"$"+xa(d,x.substr(x.charAt(1)==" "?2:1),v);var W,q,Q=Math.abs(v),ce=v<0?"-":"";if(x.match(/^00+$/))return ce+de(Q,x.length);if(x.match(/^[#?]+$/))return(R=v===0?"":""+v).length>x.length?R:jr(x.substr(0,x.length-R.length))+R;if(W=x.match(Tt))return ce+((fe=Q)===0?"":""+fe)+Ot(" ",(fe=W)[1].length+2+fe[4].length);if(x.match(/^#+0+$/))return ce+de(Q,x.length-x.indexOf("0"));if(W=x.match(sn))return R=(R=(""+v).replace(/^([^\.]+)$/,"$1."+jr(W[1])).replace(/\.$/,"."+jr(W[1]))).replace(/\.(\d*)$/,function(ve,Re){return"."+Re+Ot("0",jr(W[1]).length-Re.length)}),x.indexOf("0.")!==-1?R:R.replace(/^0\./,".");if(x=x.replace(/^#+([0.])/,"$1"),W=x.match(/^(0*)\.(#*)$/))return ce+(""+Q).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,W[1].length?"0.":".");if(W=x.match(/^#{1,3},##0(\.?)$/))return ce+_t(""+Q);if(W=x.match(/^#,##0\.([#0]*0)$/))return v<0?"-"+xa(d,x,-v):_t(""+v)+"."+Ot("0",W[1].length);if(W=x.match(/^#,#*,#0/))return xa(d,x.replace(/^#,#*,/,""),v);if(W=x.match(/^([0#]+)(\\?-([0#]+))+$/))return R=ne(xa(d,x.replace(/[\\-]/g,""),v)),q=0,ne(ne(x.replace(/\\/g,"")).replace(/[0#]/g,function(ve){return q<R.length?R.charAt(q++):ve==="0"?"0":""}));if(x.match(Ar))return"("+(R=xa(d,"##########",v)).substr(0,3)+") "+R.substr(3,3)+"-"+R.substr(6);var fe="";if(W=x.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return q=Math.min(W[4].length,7),pe=Ce(Q,Math.pow(10,q)-1,!1),R=ce,(fe=Un("n",W[1],pe[1])).charAt(fe.length-1)==" "&&(fe=fe.substr(0,fe.length-1)+"0"),R+=fe+W[2]+"/"+W[3],(fe=xe(pe[2],q)).length<W[4].length&&(fe=jr(W[4].substr(W[4].length-fe.length))+fe),R+=fe;if(W=x.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return q=Math.min(Math.max(W[1].length,W[4].length),7),ce+((pe=Ce(Q,Math.pow(10,q)-1,!0))[0]||(pe[1]?"":"0"))+" "+(pe[1]?le(pe[1],q)+W[2]+"/"+W[3]+xe(pe[2],q):Ot(" ",2*q+1+W[2].length+W[3].length));if(W=x.match(/^[#0?]+$/))return R=""+v,x.length<=R.length?R:jr(x.substr(0,x.length-R.length))+R;if(W=x.match(/^([#0]+)\.([#0]+)$/)){R=""+v.toFixed(Math.min(W[2].length,10)).replace(/([^0])0+$/,"$1"),q=R.indexOf(".");var fe=x.indexOf(".")-q,pe=x.length-R.length-fe;return jr(x.substr(0,fe)+R+x.substr(x.length-pe))}if(W=x.match(/^00,000\.([#0]*0)$/))return v<0?"-"+xa(d,x,-v):_t(""+v).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(ve){return"00,"+(ve.length<3?de(0,3-ve.length):"")+ve})+"."+de(0,W[1].length);switch(x){case"###,###":case"##,###":case"#,###":var Ae=_t(""+Q);return Ae!=="0"?ce+Ae:"";default:if(x.match(/\.[0#?]*$/))return xa(d,x.slice(0,x.lastIndexOf(".")),v)+jr(x.slice(x.lastIndexOf(".")))}throw new Error("unsupported format |"+x+"|")}function Un(d,x,v){return((0|v)===v?xa:mn)(d,x,v)}var nn=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ca(d){for(var x=0,v="",_="";x<d.length;)switch(v=d.charAt(x)){case"G":ee(d,x)&&(x+=6),x++;break;case'"':for(;d.charCodeAt(++x)!==34&&x<d.length;);++x;break;case"\\":case"_":x+=2;break;case"@":++x;break;case"B":case"b":if(d.charAt(x+1)==="1"||d.charAt(x+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(d.substr(x,3).toUpperCase()==="A/P"||d.substr(x,5).toUpperCase()==="AM/PM"||d.substr(x,5).toUpperCase()==="/")return!0;++x;break;case"[":for(_=v;d.charAt(x++)!=="]"&&x<d.length;)_+=d.charAt(x);if(_.match(nn))return!0;break;case".":case"0":case"#":for(;x<d.length&&(-1<"0#?.,E+-%".indexOf(v=d.charAt(++x))||v=="\\"&&d.charAt(x+1)=="-"&&-1<"0#".indexOf(d.charAt(x+2))););break;case"?":for(;d.charAt(++x)===v;);break;case"*":++x,d.charAt(x)!=" "&&d.charAt(x)!="*"||++x;break;case"(":case")":++x;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;x<d.length&&-1<"0123456789".indexOf(d.charAt(++x)););break;case" ":default:++x}return!1}function Cn(d,x,v,_){for(var k,F,I,R=[],W="",q=0,Q="",ce="t",fe="H";q<d.length;)switch(Q=d.charAt(q)){case"G":if(!ee(d,q))throw new Error("unrecognized character "+Q+" in "+d);R[R.length]={t:"G",v:"General"},q+=7;break;case'"':for(W="";(I=d.charCodeAt(++q))!==34&&q<d.length;)W+=String.fromCharCode(I);R[R.length]={t:"t",v:W},++q;break;case"\\":var pe=d.charAt(++q),Ae=pe==="("||pe===")"?pe:"t";R[R.length]={t:Ae,v:pe},++q;break;case"_":R[R.length]={t:"t",v:" "},q+=2;break;case"@":R[R.length]={t:"T",v:x},++q;break;case"B":case"b":if(d.charAt(q+1)==="1"||d.charAt(q+1)==="2"){if(k==null&&(k=Ne(x,v,d.charAt(q+1)==="2"))==null)return"";R[R.length]={t:"X",v:d.substr(q,2)},ce=Q,q+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":Q=Q.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(x<0||k==null&&(k=Ne(x,v))==null)return"";for(W=Q;++q<d.length&&d.charAt(q).toLowerCase()===Q;)W+=Q;(Q=Q==="m"&&ce.toLowerCase()==="h"?"M":Q)==="h"&&(Q=fe),R[R.length]={t:Q,v:W},ce=Q;break;case"A":case"a":case"":if(pe={t:Q,v:Q},k==null&&(k=Ne(x,v)),d.substr(q,3).toUpperCase()==="A/P"?(k!=null&&(pe.v=12<=k.H?"P":"A"),pe.t="T",fe="h",q+=3):d.substr(q,5).toUpperCase()==="AM/PM"?(k!=null&&(pe.v=12<=k.H?"PM":"AM"),pe.t="T",q+=5,fe="h"):d.substr(q,5).toUpperCase()==="/"?(k!=null&&(pe.v=12<=k.H?"":""),pe.t="T",q+=5,fe="h"):(pe.t="t",++q),k==null&&pe.t==="T")return"";R[R.length]=pe,ce=Q;break;case"[":for(W=Q;d.charAt(q++)!=="]"&&q<d.length;)W+=d.charAt(q);if(W.slice(-1)!=="]")throw'unterminated "[" block: |'+W+"|";if(W.match(nn)){if(k==null&&(k=Ne(x,v))==null)return"";R[R.length]={t:"Z",v:W.toLowerCase()},ce=W.charAt(1)}else-1<W.indexOf("$")&&(W=(W.match(/\$([^-\[\]]*)/)||[])[1]||"$",ca(d)||(R[R.length]={t:"t",v:W}));break;case".":if(k!=null){for(W=Q;++q<d.length&&(Q=d.charAt(q))==="0";)W+=Q;R[R.length]={t:"s",v:W};break}case"0":case"#":for(W=Q;++q<d.length&&-1<"0#?.,E+-%".indexOf(Q=d.charAt(q));)W+=Q;R[R.length]={t:"n",v:W};break;case"?":for(W=Q;d.charAt(++q)===Q;)W+=Q;R[R.length]={t:Q,v:W},ce=Q;break;case"*":++q,d.charAt(q)!=" "&&d.charAt(q)!="*"||++q;break;case"(":case")":R[R.length]={t:_===1?"t":Q,v:Q},++q;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(W=Q;q<d.length&&-1<"0123456789".indexOf(d.charAt(++q));)W+=d.charAt(q);R[R.length]={t:"D",v:W};break;case" ":R[R.length]={t:Q,v:Q},++q;break;case"$":R[R.length]={t:"t",v:"$"},++q;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(Q)===-1)throw new Error("unrecognized character "+Q+" in "+d);R[R.length]={t:"t",v:Q},++q}var ve,Re=0,je=0;for(q=R.length-1,ce="t";0<=q;--q)switch(R[q].t){case"h":case"H":R[q].t=fe,ce="h",Re<1&&(Re=1);break;case"s":(ve=R[q].v.match(/\.0+$/))&&(je=Math.max(je,ve[0].length-1)),Re<3&&(Re=3);case"d":case"y":case"M":case"e":ce=R[q].t;break;case"m":ce==="s"&&(R[q].t="M",Re<2&&(Re=2));break;case"X":break;case"Z":(Re=(Re=Re<1&&R[q].v.match(/[Hh]/)?1:Re)<2&&R[q].v.match(/[Mm]/)?2:Re)<3&&R[q].v.match(/[Ss]/)&&(Re=3)}switch(Re){case 0:break;case 1:.5<=k.u&&(k.u=0,++k.S),60<=k.S&&(k.S=0,++k.M),60<=k.M&&(k.M=0,++k.H);break;case 2:.5<=k.u&&(k.u=0,++k.S),60<=k.S&&(k.S=0,++k.M)}var _e,Fe="";for(q=0;q<R.length;++q)switch(R[q].t){case"t":case"T":case" ":case"D":break;case"X":R[q].v="",R[q].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":R[q].v=function(dr,fr,Wt,Cr){var cn,Qr="",Lr=0,$r=0,Fr=Wt.y,xr=0;switch(dr){case 98:Fr=Wt.y+543;case 121:switch(fr.length){case 1:case 2:cn=Fr%100,xr=2;break;default:cn=Fr%1e4,xr=4}break;case 109:switch(fr.length){case 1:case 2:cn=Wt.m,xr=fr.length;break;case 3:return se[Wt.m-1][1];case 5:return se[Wt.m-1][0];default:return se[Wt.m-1][2]}break;case 100:switch(fr.length){case 1:case 2:cn=Wt.d,xr=fr.length;break;case 3:return he[Wt.q][0];default:return he[Wt.q][1]}break;case 104:switch(fr.length){case 1:case 2:cn=1+(Wt.H+11)%12,xr=fr.length;break;default:throw"bad hour format: "+fr}break;case 72:switch(fr.length){case 1:case 2:cn=Wt.H,xr=fr.length;break;default:throw"bad hour format: "+fr}break;case 77:switch(fr.length){case 1:case 2:cn=Wt.M,xr=fr.length;break;default:throw"bad minute format: "+fr}break;case 115:if(fr!="s"&&fr!="ss"&&fr!=".0"&&fr!=".00"&&fr!=".000")throw"bad second format: "+fr;return Wt.u!==0||fr!="s"&&fr!="ss"?(60*($r=2<=Cr?Cr===3?1e3:100:Cr===1?10:1)<=(Lr=Math.round($r*(Wt.S+Wt.u)))&&(Lr=0),fr==="s"?Lr===0?"0":""+Lr/$r:(Qr=de(Lr,2+Cr),fr==="ss"?Qr.substr(0,2):"."+Qr.substr(2,fr.length-1))):de(Wt.S,fr.length);case 90:switch(fr){case"[h]":case"[hh]":cn=24*Wt.D+Wt.H;break;case"[m]":case"[mm]":cn=60*(24*Wt.D+Wt.H)+Wt.M;break;case"[s]":case"[ss]":cn=60*(60*(24*Wt.D+Wt.H)+Wt.M)+Math.round(Wt.S+Wt.u);break;default:throw"bad abstime format: "+fr}xr=fr.length===3?1:2;break;case 101:cn=Fr,xr=1}return 0<xr?de(cn,xr):""}(R[q].t.charCodeAt(0),R[q].v,k,je),R[q].t="t";break;case"n":case"?":for(_e=q+1;R[_e]!=null&&((Q=R[_e].t)==="?"||Q==="D"||(Q===" "||Q==="t")&&R[_e+1]!=null&&(R[_e+1].t==="?"||R[_e+1].t==="t"&&R[_e+1].v==="/")||R[q].t==="("&&(Q===" "||Q==="n"||Q===")")||Q==="t"&&(R[_e].v==="/"||R[_e].v===" "&&R[_e+1]!=null&&R[_e+1].t=="?"));)R[q].v+=R[_e].v,R[_e]={v:"",t:";"},++_e;Fe+=R[q].v,q=_e-1;break;case"G":R[q].t="t",R[q].v=wt(x,v)}var We,He,mt="";if(0<Fe.length){Fe.charCodeAt(0)==40?(We=x<0&&Fe.charCodeAt(0)===45?-x:x,He=Un("n",Fe,We)):(He=Un("n",Fe,We=x<0&&1<_?-x:x),We<0&&R[0]&&R[0].t=="t"&&(He=He.substr(1),R[0].v="-"+R[0].v)),_e=He.length-1;for(var At=R.length,q=0;q<R.length;++q)if(R[q]!=null&&R[q].t!="t"&&-1<R[q].v.indexOf(".")){At=q;break}var vt=R.length;if(At===R.length&&He.indexOf("E")===-1){for(q=R.length-1;0<=q;--q)R[q]!=null&&"n?".indexOf(R[q].t)!==-1&&(_e>=R[q].v.length-1?(_e-=R[q].v.length,R[q].v=He.substr(_e+1,R[q].v.length)):_e<0?R[q].v="":(R[q].v=He.substr(0,_e+1),_e=-1),R[q].t="t",vt=q);0<=_e&&vt<R.length&&(R[vt].v=He.substr(0,_e+1)+R[vt].v)}else if(At!==R.length&&He.indexOf("E")===-1){for(_e=He.indexOf(".")-1,q=At;0<=q;--q)if(R[q]!=null&&"n?".indexOf(R[q].t)!==-1){for(F=-1<R[q].v.indexOf(".")&&q===At?R[q].v.indexOf(".")-1:R[q].v.length-1,mt=R[q].v.substr(F+1);0<=F;--F)0<=_e&&(R[q].v.charAt(F)==="0"||R[q].v.charAt(F)==="#")&&(mt=He.charAt(_e--)+mt);R[q].v=mt,R[q].t="t",vt=q}for(0<=_e&&vt<R.length&&(R[vt].v=He.substr(0,_e+1)+R[vt].v),_e=He.indexOf(".")+1,q=At;q<R.length;++q)if(R[q]!=null&&("n?(".indexOf(R[q].t)!==-1||q===At)){for(F=-1<R[q].v.indexOf(".")&&q===At?R[q].v.indexOf(".")+1:0,mt=R[q].v.substr(0,F);F<R[q].v.length;++F)_e<He.length&&(mt+=He.charAt(_e++));R[q].v=mt,R[q].t="t",vt=q}}}for(q=0;q<R.length;++q)R[q]!=null&&-1<"n?".indexOf(R[q].t)&&(We=1<_&&x<0&&0<q&&R[q-1].v==="-"?-x:x,R[q].v=Un(R[q].t,R[q].v,We),R[q].t="t");var Bt="";for(q=0;q!==R.length;++q)R[q]!=null&&(Bt+=R[q].v);return Bt}var ms=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Zn(d,x){if(x!=null){var v=parseFloat(x[2]);switch(x[1]){case"=":if(d==v)return 1;break;case">":if(v<d)return 1;break;case"<":if(d<v)return 1;break;case"<>":if(d!=v)return 1;break;case">=":if(v<=d)return 1;break;case"<=":if(d<=v)return 1}}}function sr(d,x){var v=function(I){for(var R=[],W=!1,q=0,Q=0;q<I.length;++q)switch(I.charCodeAt(q)){case 34:W=!W;break;case 95:case 42:case 92:++q;break;case 59:R[R.length]=I.substr(Q,q-Q),Q=q+1}if(R[R.length]=I.substr(Q),W===!0)throw new Error("Format |"+I+"| unterminated string ");return R}(d),_=v.length,k=v[_-1].indexOf("@");if(_<4&&-1<k&&--_,4<v.length)throw new Error("cannot find right format for |"+v.join("|")+"|");if(typeof x!="number")return[4,v.length===4||-1<k?v[v.length-1]:"@"];switch(v.length){case 1:v=-1<k?["General","General","General",v[0]]:[v[0],v[0],v[0],"@"];break;case 2:v=-1<k?[v[0],v[0],v[0],v[1]]:[v[0],v[1],v[0],"@"];break;case 3:v=-1<k?[v[0],v[1],v[0],v[2]]:[v[0],v[1],v[2],"@"]}var F=0<x?v[0]:x<0?v[1]:v[2];return v[0].indexOf("[")===-1&&v[1].indexOf("[")===-1?[_,F]:v[0].match(/\[[=<>]/)==null&&v[1].match(/\[[=<>]/)==null?[_,F]:(d=v[0].match(ms),F=v[1].match(ms),Zn(x,d)?[_,v[0]]:Zn(x,F)?[_,v[1]]:[_,v[d!=null&&F!=null?2:1]])}function ln(d,x,v){v==null&&(v={});var _="";switch(typeof d){case"string":_=d=="m/d/yy"&&v.dateNF?v.dateNF:d;break;case"number":(_=(_=d==14&&v.dateNF?v.dateNF:(v.table!=null?v.table:te)[d])==null?v.table&&v.table[ge[d]]||te[ge[d]]:_)==null&&(_=ue[d]||"General")}if(ee(_,0))return wt(x,v);var k=sr(_,x=x instanceof Date?st(x,v.date1904):x);if(ee(k[1]))return wt(x,v);if(x===!0)x="TRUE";else if(x===!1)x="FALSE";else if(x===""||x==null)return"";return Cn(k[1],x,v,k[0])}function Fn(d,x){if(typeof x!="number"){x=+x||-1;for(var v=0;v<392;++v)if(te[v]!=null){if(te[v]==d){x=v;break}}else x<0&&(x=v);x<0&&(x=391)}return te[x]=d,x}function Gr(d){for(var x=0;x!=392;++x)d[x]!==void 0&&Fn(d[x],x)}function ti(){var d;(d=d||{})[0]="General",d[1]="0",d[2]="0.00",d[3]="#,##0",d[4]="#,##0.00",d[9]="0%",d[10]="0.00%",d[11]="0.00E+00",d[12]="# ?/?",d[13]="# ??/??",d[14]="m/d/yy",d[15]="d-mmm-yy",d[16]="d-mmm",d[17]="mmm-yy",d[18]="h:mm AM/PM",d[19]="h:mm:ss AM/PM",d[20]="h:mm",d[21]="h:mm:ss",d[22]="m/d/yy h:mm",d[37]="#,##0 ;(#,##0)",d[38]="#,##0 ;[Red](#,##0)",d[39]="#,##0.00;(#,##0.00)",d[40]="#,##0.00;[Red](#,##0.00)",d[45]="mm:ss",d[46]="[h]:mm:ss",d[47]="mmss.0",d[48]="##0.0E+0",d[49]="@",d[56]='"/ "hh""mm""ss" "',te=d}var Qn={format:ln,load:Fn,_table:te,load_table:Gr,parse_date_code:Ne,is_date:ca,get_table:function(){return Qn._table=te}},_a={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Yn=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,ia,Jn=function(){var d={};d.version="1.2.0";var x=function(){for(var _e=0,Fe=new Array(256),We=0;We!=256;++We)_e=1&(_e=1&(_e=1&(_e=1&(_e=1&(_e=1&(_e=1&(_e=1&(_e=We)?-306674912^_e>>>1:_e>>>1)?-306674912^_e>>>1:_e>>>1)?-306674912^_e>>>1:_e>>>1)?-306674912^_e>>>1:_e>>>1)?-306674912^_e>>>1:_e>>>1)?-306674912^_e>>>1:_e>>>1)?-306674912^_e>>>1:_e>>>1)?-306674912^_e>>>1:_e>>>1,Fe[We]=_e;return typeof Int32Array<"u"?new Int32Array(Fe):Fe}(),v=function(_e){for(var Fe=0,We=0,mt=0,He=new(typeof Int32Array<"u"?Int32Array:Array)(4096),mt=0;mt!=256;++mt)He[mt]=_e[mt];for(mt=0;mt!=256;++mt)for(We=_e[mt],Fe=256+mt;Fe<4096;Fe+=256)We=He[Fe]=We>>>8^_e[255&We];var At=[];for(mt=1;mt!=16;++mt)At[mt-1]=typeof Int32Array<"u"?He.subarray(256*mt,256*mt+256):He.slice(256*mt,256*mt+256);return At}(x),_=v[0],k=v[1],F=v[2],I=v[3],R=v[4],W=v[5],q=v[6],Q=v[7],ce=v[8],fe=v[9],pe=v[10],Ae=v[11],ve=v[12],Re=v[13],je=v[14];return d.table=x,d.bstr=function(_e,Fe){for(var We=-1^Fe,He=0,mt=_e.length;He<mt;)We=We>>>8^x[255&(We^_e.charCodeAt(He++))];return~We},d.buf=function(_e,Fe){for(var We=-1^Fe,He=_e.length-15,mt=0;mt<He;)We=je[_e[mt++]^255&We]^Re[_e[mt++]^We>>8&255]^ve[_e[mt++]^We>>16&255]^Ae[_e[mt++]^We>>>24]^pe[_e[mt++]]^fe[_e[mt++]]^ce[_e[mt++]]^Q[_e[mt++]]^q[_e[mt++]]^W[_e[mt++]]^R[_e[mt++]]^I[_e[mt++]]^F[_e[mt++]]^k[_e[mt++]]^_[_e[mt++]]^x[_e[mt++]];for(He+=15;mt<He;)We=We>>>8^x[255&(We^_e[mt++])];return~We},d.str=function(_e,Fe){for(var We,He=-1^Fe,mt=0,At=_e.length,vt=0;mt<At;)He=(vt=_e.charCodeAt(mt++))<128?He>>>8^x[255&(He^vt)]:vt<2048?(He=He>>>8^x[255&(He^(192|vt>>6&31))])>>>8^x[255&(He^(128|63&vt))]:55296<=vt&&vt<57344?(vt=64+(1023&vt),We=1023&_e.charCodeAt(mt++),(He=(He=(He=He>>>8^x[255&(He^(240|vt>>8&7))])>>>8^x[255&(He^(128|vt>>2&63))])>>>8^x[255&(He^(128|We>>6&15|(3&vt)<<4))])>>>8^x[255&(He^(128|63&We))]):(He=(He=He>>>8^x[255&(He^(224|vt>>12&15))])>>>8^x[255&(He^(128|vt>>6&63))])>>>8^x[255&(He^(128|63&vt))];return~He},d}(),Ir=function(){var d,x={};function v(tt){if(tt.charAt(tt.length-1)=="/")return tt.slice(0,-1).indexOf("/")===-1?tt:v(tt.slice(0,-1));var Ht=tt.lastIndexOf("/");return Ht===-1?tt:tt.slice(0,Ht+1)}function _(tt){if(tt.charAt(tt.length-1)=="/")return _(tt.slice(0,-1));var Ht=tt.lastIndexOf("/");return Ht===-1?tt:tt.slice(Ht+1)}function k(tt){es(tt,0);for(var Ht,ht={};tt.l<=tt.length-4;){var zt=tt.read_shift(2),ut=tt.read_shift(2),yr=tt.l+ut,Vt={};zt===21589&&(1&(Ht=tt.read_shift(1))&&(Vt.mtime=tt.read_shift(4)),5<ut&&(2&Ht&&(Vt.atime=tt.read_shift(4)),4&Ht&&(Vt.ctime=tt.read_shift(4))),Vt.mtime&&(Vt.mt=new Date(1e3*Vt.mtime))),tt.l=yr,ht[zt]=Vt}return ht}function F(){return d=d||lO}function I(tt,Ht){if(tt[0]==80&&tt[1]==75)return Gi(tt,Ht);if((32|tt[0])==109&&(32|tt[1])==105)return function(Or,qn){if(_e(Or.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var hn=qn&&qn.root||"",Br=(M&&Buffer.isBuffer(Or)?Or.toString("binary"):_e(Or)).split(`\r
`),oa=0,la="";for(oa=0;oa<Br.length;++oa)if(la=Br[oa],/^Content-Location:/i.test(la)&&(la=la.slice(la.indexOf("file")),hn=hn||la.slice(0,la.lastIndexOf("/")+1),la.slice(0,hn.length)!=hn))for(;0<hn.length&&(hn=(hn=hn.slice(0,hn.length-1)).slice(0,hn.lastIndexOf("/")+1),la.slice(0,hn.length)!=hn););if(Or=(Br[1]||"").match(/boundary="(.*?)"/),!Or)throw new Error("MAD cannot find boundary");var Is="--"+(Or[1]||""),wa={FileIndex:[],FullPaths:[]};W(wa);var Za,Ln=0;for(oa=0;oa<Br.length;++oa){var hi=Br[oa];hi!==Is&&hi!==Is+"--"||(Ln++&&function(xi,un,En){for(var xn,si="",Ui="",zl="",dc=0;dc<10;++dc){var Sl=un[dc];if(!Sl||Sl.match(/^\s*$/))break;var au=Sl.match(/^(.*?):\s*([^\s].*)$/);if(au)switch(au[1].toLowerCase()){case"content-location":si=au[2].trim();break;case"content-type":zl=au[2].trim();break;case"content-transfer-encoding":Ui=au[2].trim()}}switch(++dc,Ui.toLowerCase()){case"base64":xn=U(O(un.slice(dc).join("")));break;case"quoted-printable":xn=function(iu){for(var xg=[],Du=0;Du<iu.length;++Du){for(var am=iu[Du];Du<=iu.length&&am.charAt(am.length-1)=="=";)am=am.slice(0,am.length-1)+iu[++Du];xg.push(am)}for(var vg=0;vg<xg.length;++vg)xg[vg]=xg[vg].replace(/[=][0-9A-Fa-f]{2}/g,function(Exe){return String.fromCharCode(parseInt(Exe.slice(1),16))});return U(xg.join(`\r
`))}(un.slice(dc));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ui)}En=Sf(xi,si.slice(En.length),xn,{unsafe:!0}),zl&&(En.ctype=zl)}(wa,Br.slice(Za,oa),hn),Za=oa)}return wa}(tt,Ht);if(tt.length<512)throw new Error("CFB file size "+tt.length+" < 512");var ht,zt,ut,yr=3,Vt=512,Hr=0,Yt=[],Lt=tt.slice(0,512);es(Lt,0);var lr=function(Or){if(Or[Or.l]==80&&Or[Or.l+1]==75)return[0,0];Or.chk(Ae,"Header Signature: "),Or.l+=16;var qn=Or.read_shift(2,"u");return[Or.read_shift(2,"u"),qn]}(Lt);switch(yr=lr[0]){case 3:Vt=512;break;case 4:Vt=4096;break;case 0:if(lr[1]==0)return Gi(tt,Ht);default:throw new Error("Major Version: Expected 3 or 4 saw "+yr)}Vt!==512&&es(Lt=tt.slice(0,Vt),28);var Pr=tt.slice(0,Vt);(function(Or,qn){var hn=9;switch(Or.l+=2,hn=Or.read_shift(2)){case 9:if(qn!=3)throw new Error("Sector Shift: Expected 9 saw "+hn);break;case 12:if(qn!=4)throw new Error("Sector Shift: Expected 12 saw "+hn);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+hn)}Or.chk("0600","Mini Sector Shift: "),Or.chk("000000000000","Reserved: ")})(Lt,yr);var $n=Lt.read_shift(4,"i");if(yr===3&&$n!==0)throw new Error("# Directory Sectors: Expected 0 saw "+$n);Lt.l+=4,zt=Lt.read_shift(4,"i"),Lt.l+=4,Lt.chk("00100000","Mini Stream Cutoff Size: "),ut=Lt.read_shift(4,"i"),ht=Lt.read_shift(4,"i"),zn=Lt.read_shift(4,"i"),Hr=Lt.read_shift(4,"i");for(var Mn,pn=0;pn<109&&!((Mn=Lt.read_shift(4,"i"))<0);++pn)Yt[pn]=Mn;var en=function(Or,qn){for(var hn=Math.ceil(Or.length/qn)-1,Br=[],oa=1;oa<hn;++oa)Br[oa-1]=Or.slice(oa*qn,(oa+1)*qn);return Br[hn-1]=Or.slice(hn*qn),Br}(tt,Vt);(function Or(qn,hn,Br,oa,la){var Is=pe;if(qn===pe){if(hn!==0)throw new Error("DIFAT chain shorter than expected")}else if(qn!==-1){var wa=Br[qn],Za=(oa>>>2)-1;if(wa){for(var Ln=0;Ln<Za&&(Is=Ma(wa,4*Ln))!==pe;++Ln)la.push(Is);Or(Ma(wa,oa-4),hn-1,Br,oa,la)}}})(zn,Hr,en,Vt,Yt);var An=function(Or,qn,hn,Br){var oa=Or.length,la=[],Is=[],wa=[],Za=[],Ln=Br-1,hi=0,xi=0,un=0,En=0;for(hi=0;hi<oa;++hi)if(wa=[],oa<=(un=hi+qn)&&(un-=oa),!Is[un]){Za=[];var xn=[];for(xi=un;0<=xi;){xn[xi]=!0,Is[xi]=!0,wa[wa.length]=xi,Za.push(Or[xi]);var si=hn[Math.floor(4*xi/Br)];if(Br<4+(En=4*xi&Ln))throw new Error("FAT boundary crossed: "+xi+" 4 "+Br);if(!Or[si]||(xi=Ma(Or[si],En),xn[xi]))break}la[un]={nodes:wa,data:Ec([Za])}}return la}(en,zt,Yt,Vt);An[zt].name="!Directory",0<ht&&ut!==pe&&(An[ut].name="!MiniFAT"),An[Yt[0]].name="!FAT",An.fat_addrs=Yt,An.ssz=Vt;var $n=[],zn=[],Hr=[];return function(Or,qn,hn,Br,oa,la,Is){for(var wa,Za=0,Ln=hn.length?2:0,hi=Or[zt].data,xi=0,un=0;xi<hi.length;xi+=128){var En=hi.slice(xi,xi+128);es(En,64),un=En.read_shift(2),wa=ac(En,0,un-Ln),hn.push(wa);var xn={name:wa,type:En.read_shift(1),color:En.read_shift(1),L:En.read_shift(4,"i"),R:En.read_shift(4,"i"),C:En.read_shift(4,"i"),clsid:En.read_shift(16),state:En.read_shift(4,"i"),start:0,size:0};En.read_shift(2)+En.read_shift(2)+En.read_shift(2)+En.read_shift(2)!==0&&(xn.ct=R(En,En.l-8)),En.read_shift(2)+En.read_shift(2)+En.read_shift(2)+En.read_shift(2)!==0&&(xn.mt=R(En,En.l-8)),xn.start=En.read_shift(4,"i"),xn.size=En.read_shift(4,"i"),xn.size<0&&xn.start<0&&(xn.size=xn.type=0,xn.start=pe,xn.name=""),xn.type===5?(Za=xn.start,0<Br&&Za!==pe&&(Or[Za].name="!StreamData")):4096<=xn.size?(xn.storage="fat",Or[xn.start]===void 0&&(Or[xn.start]=function(si,Ui,zl,dc,Sl){var au=[],iu=[];Sl=Sl||[];var xg=dc-1,Du=0,am=0;for(Du=Ui;0<=Du;){Sl[Du]=!0,au[au.length]=Du,iu.push(si[Du]);var vg=zl[Math.floor(4*Du/dc)];if(dc<4+(am=4*Du&xg))throw new Error("FAT boundary crossed: "+Du+" 4 "+dc);if(!si[vg])break;Du=Ma(si[vg],am)}return{nodes:au,data:Ec([iu])}}(qn,xn.start,Or.fat_addrs,Or.ssz)),Or[xn.start].name=xn.name,xn.content=Or[xn.start].data.slice(0,xn.size)):(xn.storage="minifat",xn.size<0?xn.size=0:Za!==pe&&xn.start!==pe&&Or[Za]&&(xn.content=function(si,Ui,zl){for(var dc=si.start,Sl=si.size,au=[],iu=dc;zl&&0<Sl&&0<=iu;)au.push(Ui.slice(iu*fe,iu*fe+fe)),Sl-=fe,iu=Ma(zl,4*iu);return au.length===0?Kt(0):re(au).slice(0,si.size)}(xn,Or[Za].data,(Or[Is]||{}).data))),xn.content&&es(xn.content,0),oa[wa]=xn,la.push(xn)}}(An,en,$n,ht,{},zn,ut),function(Or,qn,hn){for(var Br=0,oa=0,la=0,Is=0,wa=0,Za=hn.length,Ln=[],hi=[];Br<Za;++Br)Ln[Br]=hi[Br]=Br,qn[Br]=hn[Br];for(;wa<hi.length;++wa)Br=hi[wa],oa=Or[Br].L,la=Or[Br].R,Is=Or[Br].C,Ln[Br]===Br&&(oa!==-1&&Ln[oa]!==oa&&(Ln[Br]=Ln[oa]),la!==-1&&Ln[la]!==la&&(Ln[Br]=Ln[la])),Is!==-1&&(Ln[Is]=Br),oa!==-1&&Br!=Ln[Br]&&(Ln[oa]=Ln[Br],hi.lastIndexOf(oa)<wa&&hi.push(oa)),la!==-1&&Br!=Ln[Br]&&(Ln[la]=Ln[Br],hi.lastIndexOf(la)<wa&&hi.push(la));for(Br=1;Br<Za;++Br)Ln[Br]===Br&&(la!==-1&&Ln[la]!==la?Ln[Br]=Ln[la]:oa!==-1&&Ln[oa]!==oa&&(Ln[Br]=Ln[oa]));for(Br=1;Br<Za;++Br)if(Or[Br].type!==0){if((wa=Br)!=Ln[wa])for(;wa=Ln[wa],qn[Br]=qn[wa]+"/"+qn[Br],wa!==0&&Ln[wa]!==-1&&wa!=Ln[wa];);Ln[Br]=-1}for(qn[0]+="/",Br=1;Br<Za;++Br)Or[Br].type!==2&&(qn[Br]+="/")}(zn,Hr,$n),$n.shift(),Hr={FileIndex:zn,FullPaths:Hr},Ht&&Ht.raw&&(Hr.raw={header:Pr,sectors:en}),Hr}function R(tt,Ht){return new Date(1e3*(Kr(tt,Ht+4)/1e7*Math.pow(2,32)+Kr(tt,Ht)/1e7-11644473600))}function W(tt,zt){var ht=zt||{},zt=ht.root||"Root Entry";if(tt.FullPaths||(tt.FullPaths=[]),tt.FileIndex||(tt.FileIndex=[]),tt.FullPaths.length!==tt.FileIndex.length)throw new Error("inconsistent CFB structure");tt.FullPaths.length===0&&(tt.FullPaths[0]=zt+"/",tt.FileIndex[0]={name:zt,type:5}),ht.CLSID&&(tt.FileIndex[0].clsid=ht.CLSID),zt=tt,ht="Sh33tJ5",Ir.find(zt,"/"+ht)||((tt=Kt(4))[0]=55,tt[1]=tt[3]=50,tt[2]=54,zt.FileIndex.push({name:ht,type:2,content:tt,size:4,L:69,R:69,C:69}),zt.FullPaths.push(zt.FullPaths[0]+ht),q(zt))}function q(tt,Ht){W(tt);for(var ht=!1,zt=!1,ut=tt.FullPaths.length-1;0<=ut;--ut){var yr=tt.FileIndex[ut];switch(yr.type){case 0:zt?ht=!0:(tt.FileIndex.pop(),tt.FullPaths.pop());break;case 1:case 2:case 5:zt=!0,isNaN(yr.R*yr.L*yr.C)&&(ht=!0),-1<yr.R&&-1<yr.L&&yr.R==yr.L&&(ht=!0);break;default:ht=!0}}if(ht||Ht){for(var Vt=new Date(1987,1,19),Yt=0,Lt=Object.create?Object.create(null):{},lr=[],ut=0;ut<tt.FullPaths.length;++ut)Lt[tt.FullPaths[ut]]=!0,tt.FileIndex[ut].type!==0&&lr.push([tt.FullPaths[ut],tt.FileIndex[ut]]);for(ut=0;ut<lr.length;++ut){var Pr=v(lr[ut][0]);(zt=Lt[Pr])||(lr.push([Pr,{name:_(Pr).replace("/",""),type:1,clsid:Re,ct:Vt,mt:Vt,content:null}]),Lt[Pr]=!0)}for(lr.sort(function(en,An){return function($n,zn){for(var Hr,Or=$n.split("/"),qn=zn.split("/"),hn=0,Br=Math.min(Or.length,qn.length);hn<Br;++hn){if(Hr=Or[hn].length-qn[hn].length)return Hr;if(Or[hn]!=qn[hn])return Or[hn]<qn[hn]?-1:1}return Or.length-qn.length}(en[0],An[0])}),tt.FullPaths=[],tt.FileIndex=[],ut=0;ut<lr.length;++ut)tt.FullPaths[ut]=lr[ut][0],tt.FileIndex[ut]=lr[ut][1];for(ut=0;ut<lr.length;++ut){var Mn=tt.FileIndex[ut],pn=tt.FullPaths[ut];if(Mn.name=_(pn).replace("/",""),Mn.L=Mn.R=Mn.C=-(Mn.color=1),Mn.size=Mn.content?Mn.content.length:0,Mn.start=0,Mn.clsid=Mn.clsid||Re,ut===0)Mn.C=1<lr.length?1:-1,Mn.size=0,Mn.type=5;else if(pn.slice(-1)=="/"){for(Yt=ut+1;Yt<lr.length&&v(tt.FullPaths[Yt])!=pn;++Yt);for(Mn.C=Yt>=lr.length?-1:Yt,Yt=ut+1;Yt<lr.length&&v(tt.FullPaths[Yt])!=v(pn);++Yt);Mn.R=Yt>=lr.length?-1:Yt,Mn.type=1}else v(tt.FullPaths[ut+1]||"")==v(pn)&&(Mn.R=ut+1),Mn.type=2}}}function Q(tt,Ht){var ht=Ht||{};if(ht.fileType=="mad")return function(pn,en){for(var An=en||{},$n=An.boundary||"SheetJS",zn=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+($n="------="+$n).slice(2)+'"',"","",""],Hr=pn.FullPaths[0],Or=Hr,qn=pn.FileIndex[0],hn=1;hn<pn.FullPaths.length;++hn)if(Or=pn.FullPaths[hn].slice(Hr.length),(qn=pn.FileIndex[hn]).size&&qn.content&&Or!="Sh33tJ5"){Or=Or.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ln){return"_x"+Ln.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ln){return"_u"+Ln.charCodeAt(0).toString(16)+"_"});for(var Br=qn.content,oa=M&&Buffer.isBuffer(Br)?Br.toString("binary"):_e(Br),la=0,Is=Math.min(1024,oa.length),wa=0,Za=0;Za<=Is;++Za)32<=(wa=oa.charCodeAt(Za))&&wa<128&&++la;Br=4*Is/5<=la,zn.push($n),zn.push("Content-Location: "+(An.root||"file:///C:/SheetJS/")+Or),zn.push("Content-Transfer-Encoding: "+(Br?"quoted-printable":"base64")),zn.push("Content-Type: "+function(un,hi){if(un.ctype)return un.ctype;var xi=un.name||"",un=xi.match(/\.([^\.]+)$/);return un&&$l[un[1]]||hi&&(un=(xi=hi).match(/[\.\\]([^\.\\])+$/))&&$l[un[1]]?$l[un[1]]:"application/octet-stream"}(qn,Or)),zn.push(""),zn.push((Br?function(Ln){Ln=Ln.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(zl){return zl=zl.charCodeAt(0).toString(16).toUpperCase(),"="+(zl.length==1?"0"+zl:zl)}),(Ln=Ln.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)==`
`&&(Ln="=0D"+Ln.slice(1)),Ln=Ln.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,`
=0A`).replace(/([^\r\n])\n/gm,"$1=0A");for(var hi=[],xi=Ln.split(`\r
`),un=0;un<xi.length;++un){var En=xi[un];if(En.length!=0)for(var xn=0;xn<En.length;){var si=76,Ui=En.slice(xn,xn+si);Ui.charAt(si-1)=="="?si--:Ui.charAt(si-2)=="="?si-=2:Ui.charAt(si-3)=="="&&(si-=3),Ui=En.slice(xn,xn+si),(xn+=si)<En.length&&(Ui+="="),hi.push(Ui)}else hi.push("")}return hi.join(`\r
`)}:function(Ln){for(var hi=T(Ln),xi=[],un=0;un<hi.length;un+=76)xi.push(hi.slice(un,un+76));return xi.join(`\r
`)+`\r
`})(oa))}return zn.push($n+`--\r
`),zn.join(`\r
`)}(tt,ht);if(q(tt),ht.fileType==="zip")return function(pn,An){var An=An||{},$n=[],zn=[],Hr=Kt(1),Or=An.compression?8:0,qn=0,hn=0,Br=0,oa=0,la=0,Is=pn.FullPaths[0],wa=Is,Za=pn.FileIndex[0],Ln=[],hi=0;for(hn=1;hn<pn.FullPaths.length;++hn)if(wa=pn.FullPaths[hn].slice(Is.length),(Za=pn.FileIndex[hn]).size&&Za.content&&wa!="Sh33tJ5"){var xi=oa,un=Kt(wa.length);for(Br=0;Br<wa.length;++Br)un.write_shift(1,127&wa.charCodeAt(Br));un=un.slice(0,un.l),Ln[la]=Jn.buf(Za.content,0);var En=Za.content;Or==8&&(En=function(xn){return ce?ce.deflateRawSync(xn):fn(xn)}(En)),(Hr=Kt(30)).write_shift(4,67324752),Hr.write_shift(2,20),Hr.write_shift(2,qn),Hr.write_shift(2,Or),Za.mt?function(xn,si){var Ui=(si=typeof si=="string"?new Date(si):si).getHours();Ui=(Ui=Ui<<6|si.getMinutes())<<5|si.getSeconds()>>>1,xn.write_shift(2,Ui),Ui=(Ui=(Ui=si.getFullYear()-1980)<<4|si.getMonth()+1)<<5|si.getDate(),xn.write_shift(2,Ui)}(Hr,Za.mt):Hr.write_shift(4,0),Hr.write_shift(-4,Ln[la]),Hr.write_shift(4,En.length),Hr.write_shift(4,Za.content.length),Hr.write_shift(2,un.length),Hr.write_shift(2,0),oa+=Hr.length,$n.push(Hr),oa+=un.length,$n.push(un),oa+=En.length,$n.push(En),(Hr=Kt(46)).write_shift(4,33639248),Hr.write_shift(2,0),Hr.write_shift(2,20),Hr.write_shift(2,qn),Hr.write_shift(2,Or),Hr.write_shift(4,0),Hr.write_shift(-4,Ln[la]),Hr.write_shift(4,En.length),Hr.write_shift(4,Za.content.length),Hr.write_shift(2,un.length),Hr.write_shift(2,0),Hr.write_shift(2,0),Hr.write_shift(2,0),Hr.write_shift(2,0),Hr.write_shift(4,0),Hr.write_shift(4,xi),hi+=Hr.l,zn.push(Hr),hi+=un.length,zn.push(un),++la}return(Hr=Kt(22)).write_shift(4,101010256),Hr.write_shift(2,0),Hr.write_shift(2,0),Hr.write_shift(2,la),Hr.write_shift(2,la),Hr.write_shift(4,hi),Hr.write_shift(4,oa),Hr.write_shift(2,0),re([re($n),re(zn),Hr])}(tt,ht);for(var zt=function(pn){for(var en=0,An=0,$n=0;$n<pn.FileIndex.length;++$n){var zn=pn.FileIndex[$n];zn.content&&0<(zn=zn.content.length)&&(zn<4096?en+=zn+63>>6:An+=zn+511>>9)}for(var Hr=pn.FullPaths.length+3>>2,Or=en+127>>7,qn=(en+7>>3)+An+Hr+Or,hn=qn+127>>7,Br=hn<=109?0:Math.ceil((hn-109)/127);hn<qn+hn+Br+127>>7;)Br=++hn<=109?0:Math.ceil((hn-109)/127);return Hr=[1,Br,hn,Or,Hr,An,en,0],pn.FileIndex[0].size=en<<6,Hr[7]=(pn.FileIndex[0].start=Hr[0]+Hr[1]+Hr[2]+Hr[3]+Hr[4]+Hr[5])+(Hr[6]+7>>3),Hr}(tt),ut=Kt(zt[7]<<9),Vt=0,yr=0,Vt=0;Vt<8;++Vt)ut.write_shift(1,ve[Vt]);for(Vt=0;Vt<8;++Vt)ut.write_shift(2,0);for(ut.write_shift(2,62),ut.write_shift(2,3),ut.write_shift(2,65534),ut.write_shift(2,9),ut.write_shift(2,6),Vt=0;Vt<3;++Vt)ut.write_shift(2,0);for(ut.write_shift(4,0),ut.write_shift(4,zt[2]),ut.write_shift(4,zt[0]+zt[1]+zt[2]+zt[3]-1),ut.write_shift(4,0),ut.write_shift(4,4096),ut.write_shift(4,zt[3]?zt[0]+zt[1]+zt[2]-1:pe),ut.write_shift(4,zt[3]),ut.write_shift(-4,zt[1]?zt[0]-1:pe),ut.write_shift(4,zt[1]),Vt=0;Vt<109;++Vt)ut.write_shift(-4,Vt<zt[2]?zt[1]+Vt:-1);if(zt[1])for(yr=0;yr<zt[1];++yr){for(;Vt<236+127*yr;++Vt)ut.write_shift(-4,Vt<zt[2]?zt[1]+Vt:-1);ut.write_shift(-4,yr===zt[1]-1?pe:yr+1)}function Yt(pn){for(yr+=pn;Vt<yr-1;++Vt)ut.write_shift(-4,Vt+1);pn&&(++Vt,ut.write_shift(-4,pe))}for(yr=Vt=0,yr+=zt[1];Vt<yr;++Vt)ut.write_shift(-4,je.DIFSECT);for(yr+=zt[2];Vt<yr;++Vt)ut.write_shift(-4,je.FATSECT);Yt(zt[3]),Yt(zt[4]);for(var Lt=0,lr=0,Pr=tt.FileIndex[0];Lt<tt.FileIndex.length;++Lt)(Pr=tt.FileIndex[Lt]).content&&((lr=Pr.content.length)<4096||(Pr.start=yr,Yt(lr+511>>9)));for(Yt(zt[6]+7>>3);511&ut.l;)ut.write_shift(-4,je.ENDOFCHAIN);for(Lt=yr=Vt=0;Lt<tt.FileIndex.length;++Lt)(Pr=tt.FileIndex[Lt]).content&&(!(lr=Pr.content.length)||4096<=lr||(Pr.start=yr,Yt(lr+63>>6)));for(;511&ut.l;)ut.write_shift(-4,je.ENDOFCHAIN);for(Vt=0;Vt<zt[4]<<2;++Vt){var Mn=tt.FullPaths[Vt];if(Mn&&Mn.length!==0){if(Pr=tt.FileIndex[Vt],Vt===0&&(Pr.start=Pr.size?Pr.start-1:pe),Mn=Vt===0&&ht.root||Pr.name,lr=2*(Mn.length+1),ut.write_shift(64,Mn,"utf16le"),ut.write_shift(2,lr),ut.write_shift(1,Pr.type),ut.write_shift(1,Pr.color),ut.write_shift(-4,Pr.L),ut.write_shift(-4,Pr.R),ut.write_shift(-4,Pr.C),Pr.clsid)ut.write_shift(16,Pr.clsid,"hex");else for(Lt=0;Lt<4;++Lt)ut.write_shift(4,0);ut.write_shift(4,Pr.state||0),ut.write_shift(4,0),ut.write_shift(4,0),ut.write_shift(4,0),ut.write_shift(4,0),ut.write_shift(4,Pr.start),ut.write_shift(4,Pr.size),ut.write_shift(4,0)}else{for(Lt=0;Lt<17;++Lt)ut.write_shift(4,0);for(Lt=0;Lt<3;++Lt)ut.write_shift(4,-1);for(Lt=0;Lt<12;++Lt)ut.write_shift(4,0)}}for(Vt=1;Vt<tt.FileIndex.length;++Vt)if(4096<=(Pr=tt.FileIndex[Vt]).size)if(ut.l=Pr.start+1<<9,M&&Buffer.isBuffer(Pr.content))Pr.content.copy(ut,ut.l,0,Pr.size),ut.l+=Pr.size+511&-512;else{for(Lt=0;Lt<Pr.size;++Lt)ut.write_shift(1,Pr.content[Lt]);for(;511&Lt;++Lt)ut.write_shift(1,0)}for(Vt=1;Vt<tt.FileIndex.length;++Vt)if(0<(Pr=tt.FileIndex[Vt]).size&&Pr.size<4096)if(M&&Buffer.isBuffer(Pr.content))Pr.content.copy(ut,ut.l,0,Pr.size),ut.l+=Pr.size+63&-64;else{for(Lt=0;Lt<Pr.size;++Lt)ut.write_shift(1,Pr.content[Lt]);for(;63&Lt;++Lt)ut.write_shift(1,0)}if(M)ut.l=ut.length;else for(;ut.l<ut.length;)ut.write_shift(1,0);return ut}x.version="1.2.1";var ce,fe=64,pe=-2,Ae="d0cf11e0a1b11ae1",ve=[208,207,17,224,161,177,26,225],Re="00000000000000000000000000000000",je={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:pe,FREESECT:-1,HEADER_SIGNATURE:Ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _e(tt){for(var Ht=new Array(tt.length),ht=0;ht<tt.length;++ht)Ht[ht]=String.fromCharCode(tt[ht]);return Ht.join("")}for(var Fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],We=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],He=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],mt,At=typeof Uint8Array<"u",vt=At?new Uint8Array(256):[],Bt=0;Bt<256;++Bt)vt[Bt]=255&((mt=139536&((mt=Bt)<<1|mt<<11)|558144&(mt<<5|mt<<15))>>16|mt>>8|mt);function dr(tt,zt){var ht=7&zt,zt=zt>>>3;return(tt[zt]|(ht<=5?0:tt[1+zt]<<8))>>>ht&7}function fr(tt,zt){var ht=7&zt,zt=zt>>>3;return(tt[zt]|(ht<=3?0:tt[1+zt]<<8))>>>ht&31}function Wt(tt,zt){var ht=7&zt,zt=zt>>>3;return(tt[zt]|(ht<=1?0:tt[1+zt]<<8))>>>ht&127}function Cr(tt,Vt,ht){var zt=7&Vt,ut=Vt>>>3,yr=(1<<ht)-1,Vt=tt[ut]>>>zt;return ht<8-zt?Vt&yr:(Vt|=tt[1+ut]<<8-zt,ht<16-zt?Vt&yr:(Vt|=tt[2+ut]<<16-zt,ht<24-zt?Vt&yr:(Vt|=tt[3+ut]<<24-zt)&yr))}function cn(tt,Ht,ht){var zt=7&Ht,ut=Ht>>>3;return zt<=5?tt[ut]|=(7&ht)<<zt:(tt[ut]|=ht<<zt&255,tt[1+ut]=(7&ht)>>8-zt),Ht+3}function Qr(tt,Ht,ht){var zt=Ht>>>3;return ht<<=7&Ht,tt[zt]|=255&ht,ht>>>=8,tt[1+zt]=ht,Ht+8}function Lr(tt,Ht,ht){var zt=Ht>>>3;return ht<<=7&Ht,tt[zt]|=255&ht,ht>>>=8,tt[1+zt]=255&ht,tt[2+zt]=ht>>>8,Ht+16}function $r(tt,Ht){var ht=tt.length,zt=Ht<2*ht?2*ht:Ht+5,ut=0;if(Ht<=ht)return tt;if(M){var yr=H(zt);if(tt.copy)tt.copy(yr);else for(;ut<tt.length;++ut)yr[ut]=tt[ut];return yr}if(At){var Vt=new Uint8Array(zt);if(Vt.set)Vt.set(tt);else for(;ut<ht;++ut)Vt[ut]=tt[ut];return Vt}return tt.length=zt,tt}function Fr(tt){for(var Ht=new Array(tt),ht=0;ht<tt;++ht)Ht[ht]=0;return Ht}function xr(tt,Ht,ht){for(var zt,ut=1,lr=0,yr=0,Vt=0,Yt=tt.length,Lt=At?new Uint16Array(32):Fr(32),lr=0;lr<32;++lr)Lt[lr]=0;for(lr=Yt;lr<ht;++lr)tt[lr]=0;Yt=tt.length;var Pr=At?new Uint16Array(Yt):Fr(Yt);for(lr=0;lr<Yt;++lr)Lt[zt=tt[lr]]++,ut<zt&&(ut=zt),Pr[lr]=0;for(Lt[0]=0,lr=1;lr<=ut;++lr)Lt[lr+16]=Vt=Vt+Lt[lr-1]<<1;for(lr=0;lr<Yt;++lr)(Vt=tt[lr])!=0&&(Pr[lr]=Lt[Vt+16]++);var Mn,pn,en,An;for(lr=0;lr<Yt;++lr)if((Mn=tt[lr])!=0)for(pn=Pr[lr],en=ut,An=void 0,An=vt[255&pn],Vt=(en<=8?An>>>8-en:(An=An<<8|vt[pn>>8&255],en<=16?An>>>16-en:(An=An<<8|vt[pn>>16&255])>>>24-en))>>ut-Mn,yr=(1<<ut+4-Mn)-1;0<=yr;--yr)Ht[Vt|yr<<Mn]=15&Mn|lr<<4;return ut}var gn=At?new Uint16Array(512):Fr(512),Nn=At?new Uint16Array(32):Fr(32);if(!At){for(var ra=0;ra<512;++ra)gn[ra]=0;for(ra=0;ra<32;++ra)Nn[ra]=0}(function(){for(var tt=[],Ht=0;Ht<32;Ht++)tt.push(5);xr(tt,Nn,32);for(var ht=[],Ht=0;Ht<=143;Ht++)ht.push(8);for(;Ht<=255;Ht++)ht.push(9);for(;Ht<=279;Ht++)ht.push(7);for(;Ht<=287;Ht++)ht.push(8);xr(ht,gn,288)})();var ni=function(){for(var tt=At?new Uint8Array(32768):[],Ht=0,ht=0;Ht<He.length-1;++Ht)for(;ht<He[Ht+1];++ht)tt[ht]=Ht;for(;ht<32768;++ht)tt[ht]=29;for(var zt=At?new Uint8Array(259):[],Ht=0,ht=0;Ht<We.length-1;++Ht)for(;ht<We[Ht+1];++ht)zt[ht]=Ht;return function(ut,yr){return(ut.length<8?function(Vt,Yt){for(var Lt=0;Lt<Vt.length;){var lr=Math.min(65535,Vt.length-Lt),Pr=Lt+lr==Vt.length;for(Yt.write_shift(1,+Pr),Yt.write_shift(2,lr),Yt.write_shift(2,65535&~lr);0<lr--;)Yt[Yt.l++]=Vt[Lt++]}return Yt.l}:function(Vt,Yt){for(var Lt=0,lr=0,Pr=At?new Uint16Array(32768):[];lr<Vt.length;){var Mn=Math.min(65535,Vt.length-lr);if(Mn<10){for(7&(Lt=cn(Yt,Lt,+(lr+Mn==Vt.length)))&&(Lt+=8-(7&Lt)),Yt.l=Lt/8|0,Yt.write_shift(2,Mn),Yt.write_shift(2,65535&~Mn);0<Mn--;)Yt[Yt.l++]=Vt[lr++];Lt=8*Yt.l}else{Lt=cn(Yt,Lt,+(lr+Mn==Vt.length)+2);for(var pn=0;0<Mn--;){var en=Vt[lr],pn=32767&(pn<<5^en),An=-1,$n=0;if((An=Pr[pn])&&(lr<(An|=-32768&lr)&&(An-=32768),An<lr))for(;Vt[An+$n]==Vt[lr+$n]&&$n<250;)++$n;if(2<$n){(en=zt[$n])<=22?Lt=Qr(Yt,Lt,vt[en+1]>>1)-1:(Qr(Yt,Lt,3),Qr(Yt,Lt+=5,vt[en-23]>>5),Lt+=3);var zn=en<8?0:en-4>>2;0<zn&&(Lr(Yt,Lt,$n-We[en]),Lt+=zn),en=tt[lr-An],Lt=Qr(Yt,Lt,vt[en]>>3),Lt-=3;var Hr=en<4?0:en-2>>1;0<Hr&&(Lr(Yt,Lt,lr-An-He[en]),Lt+=Hr);for(var Or=0;Or<$n;++Or)Pr[pn]=32767&lr,pn=32767&(pn<<5^Vt[lr]),++lr;Mn-=$n-1}else en<=143?en+=48:(zn=((zn=1)&zn)<<(7&(Hr=Lt)),Yt[Hr>>>3]|=zn,Lt=Hr+1),Lt=Qr(Yt,Lt,vt[en]),Pr[pn]=32767&lr,++lr}Lt=Qr(Yt,Lt,0)-1}}return Yt.l=(Lt+7)/8|0,Yt.l})(ut,yr)}}();function fn(ht){var Ht=Kt(50+Math.floor(1.1*ht.length)),ht=ni(ht,Ht);return Ht.slice(0,ht)}var Nr=At?new Uint16Array(32768):Fr(32768),Pa=At?new Uint16Array(32768):Fr(32768),Si=At?new Uint16Array(128):Fr(128),fi=1,as=1;function Bo(tt,Ht){if(tt[0]==3&&!(3&tt[1]))return[L(Ht),2];for(var ht=0,zt=0,ut=H(Ht||1<<18),yr=0,Vt=ut.length>>>0,Yt=0,Lt=0;!(1&zt);)if(zt=dr(tt,ht),ht+=3,zt>>>1!=0)for(Lt=zt>>1==1?(Yt=9,5):(ht=function($n,zn){var Hr,Or,qn,hn=fr($n,zn)+257,Br=fr($n,zn+=5)+1,oa=(qn=7&(Or=zn+=5),4+(((Hr=$n)[Or=Or>>>3]|(qn<=4?0:Hr[1+Or]<<8))>>>qn&15));zn+=4;for(var la=0,Is=At?new Uint8Array(19):Fr(19),wa=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Za=1,Ln=At?new Uint8Array(8):Fr(8),hi=At?new Uint8Array(8):Fr(8),xi=Is.length,un=0;un<oa;++un)Is[Fe[un]]=la=dr($n,zn),Za<la&&(Za=la),Ln[la]++,zn+=3;var En=0;for(Ln[0]=0,un=1;un<=Za;++un)hi[un]=En=En+Ln[un-1]<<1;for(un=0;un<xi;++un)(En=Is[un])!=0&&(wa[un]=hi[En]++);for(var xn,un=0;un<xi;++un)if((xn=Is[un])!=0){En=vt[wa[un]]>>8-xn;for(var si=(1<<7-xn)-1;0<=si;--si)Si[En|si<<xn]=7&xn|un<<3}for(var Ui,zl,dc,Sl=[],Za=1;Sl.length<hn+Br;)switch(zn+=7&(En=Si[Wt($n,zn)]),En>>>=3){case 16:for(la=3+(dc=void 0,dc=7&(zl=zn),((Ui=$n)[zl=zl>>>3]|(dc<=6?0:Ui[1+zl]<<8))>>>dc&3),zn+=2,En=Sl[Sl.length-1];0<la--;)Sl.push(En);break;case 17:for(la=3+dr($n,zn),zn+=3;0<la--;)Sl.push(0);break;case 18:for(la=11+Wt($n,zn),zn+=7;0<la--;)Sl.push(0);break;default:Sl.push(En),Za<En&&(Za=En)}var au=Sl.slice(0,hn),iu=Sl.slice(hn);for(un=hn;un<286;++un)au[un]=0;for(un=Br;un<30;++un)iu[un]=0;return fi=xr(au,Nr,286),as=xr(iu,Pa,30),zn}(tt,ht),Yt=fi,as);;){!Ht&&Vt<yr+32767&&(Vt=(ut=$r(ut,yr+32767)).length);var lr=Cr(tt,ht,Yt),Pr=(zt>>>1==1?gn:Nr)[lr];if(ht+=15&Pr,((Pr>>>=4)>>>8&255)==0)ut[yr++]=Pr;else{if(Pr==256)break;var Mn=(Pr-=257)<8?0:Pr-4>>2;5<Mn&&(Mn=0);var pn=yr+We[Pr];0<Mn&&(pn+=Cr(tt,ht,Mn),ht+=Mn),lr=Cr(tt,ht,Lt),ht+=15&(Pr=(zt>>>1==1?Nn:Pa)[lr]);var lr=(Pr>>>=4)<4?0:Pr-2>>1,en=He[Pr];for(0<lr&&(en+=Cr(tt,ht,lr),ht+=lr),!Ht&&Vt<pn&&(Vt=(ut=$r(ut,pn+100)).length);yr<pn;)ut[yr]=ut[yr-en],++yr}}else{7&ht&&(ht+=8-(7&ht));var An=tt[ht>>>3]|tt[1+(ht>>>3)]<<8;if(ht+=32,0<An)for(!Ht&&Vt<yr+An&&(Vt=(ut=$r(ut,yr+An)).length);0<An--;)ut[yr++]=tt[ht>>>3],ht+=8}return Ht?[ut,ht+7>>>3]:[ut.slice(0,yr),ht+7>>>3]}function gt(tt,Ht){return Ht=Bo(tt.slice(tt.l||0),Ht),tt.l+=Ht[1],Ht[0]}function is(tt,Ht){if(!tt)throw new Error(Ht);typeof console<"u"&&console.error(Ht)}function Gi(tt,Ht){var ht=tt;es(ht,0);var zt={FileIndex:[],FullPaths:[]};W(zt,{root:Ht.root});for(var ut=ht.length-4;(ht[ut]!=80||ht[ut+1]!=75||ht[ut+2]!=5||ht[ut+3]!=6)&&0<=ut;)--ut;ht.l=ut+4,ht.l+=4;var yr=ht.read_shift(2);for(ht.l+=6,Ht=ht.read_shift(4),ht.l=Ht,ut=0;ut<yr;++ut){ht.l+=20;var Vt=ht.read_shift(4),Yt=ht.read_shift(4),Lt=ht.read_shift(2),lr=ht.read_shift(2),Pr=ht.read_shift(2);ht.l+=8;var Mn=ht.read_shift(4),pn=k(ht.slice(ht.l+Lt,ht.l+Lt+lr));ht.l+=Lt+lr+Pr,Pr=ht.l,ht.l=Mn+4,function(en,An,$n,zn,Hr){en.l+=2;var Or=en.read_shift(2),qn=en.read_shift(2),hn=function(Ui){var un=65535&Ui.read_shift(2),En=65535&Ui.read_shift(2),xn=new Date,si=31&En,Ui=15&(En>>>=5);return En>>>=4,xn.setMilliseconds(0),xn.setFullYear(1980+En),xn.setMonth(Ui-1),xn.setDate(si),Ui=31&un,si=63&(un>>>=5),un>>>=6,xn.setHours(un),xn.setMinutes(si),xn.setSeconds(Ui<<1),xn}(en);if(8257&Or)throw new Error("Unsupported ZIP encryption");en.read_shift(4);for(var Br,oa=en.read_shift(4),la=en.read_shift(4),Is=en.read_shift(2),wa=en.read_shift(2),Za="",Ln=0;Ln<Is;++Ln)Za+=String.fromCharCode(en[en.l++]);wa&&(((Br=k(en.slice(en.l,en.l+wa)))[21589]||{}).mt&&(hn=Br[21589].mt),((Hr||{})[21589]||{}).mt&&(hn=Hr[21589].mt)),en.l+=wa;var hi=en.slice(en.l,en.l+oa);switch(qn){case 8:hi=function(xi,xn){if(!ce)return gt(xi,xn);var En=new ce.InflateRaw,xn=En._processChunk(xi.slice(xi.l),En._finishFlushFlag);return xi.l+=En.bytesRead,xn}(en,la);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+qn)}wa=!1,8&Or&&(en.read_shift(4)==134695760&&(en.read_shift(4),wa=!0),oa=en.read_shift(4),la=en.read_shift(4)),oa!=An&&is(wa,"Bad compressed size: "+An+" != "+oa),la!=$n&&is(wa,"Bad uncompressed size: "+$n+" != "+la),Sf(zn,Za,hi,{unsafe:!0,mt:hn})}(ht,Vt,Yt,zt,pn),ht.l=Pr}return zt}var $l={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Sf(tt,Ht,ht,zt){var ut=zt&&zt.unsafe;ut||W(tt);var yr,Vt=!ut&&Ir.find(tt,Ht);return Vt||(yr=tt.FullPaths[0],yr=Ht.slice(0,yr.length)==yr?Ht:(yr.slice(-1)!="/"&&(yr+="/"),(yr+Ht).replace("//","/")),Vt={name:_(Ht),type:2},tt.FileIndex.push(Vt),tt.FullPaths.push(yr),ut||Ir.utils.cfb_gc(tt)),Vt.content=ht,Vt.size=ht?ht.length:0,zt&&(zt.CLSID&&(Vt.clsid=zt.CLSID),zt.mt&&(Vt.mt=zt.mt),zt.ct&&(Vt.ct=zt.ct)),Vt}return x.find=function(tt,Ht){var ht=tt.FullPaths.map(function(Lt){return Lt.toUpperCase()}),zt=ht.map(function(Lt){var lr=Lt.split("/");return lr[lr.length-(Lt.slice(-1)=="/"?2:1)]}),ut=!1;Ht.charCodeAt(0)===47?(ut=!0,Ht=ht[0].slice(0,-1)+Ht):ut=Ht.indexOf("/")!==-1;var Yt=Ht.toUpperCase(),yr=(ut===!0?ht:zt).indexOf(Yt);if(yr!==-1)return tt.FileIndex[yr];var Vt=!Yt.match(X),Yt=Yt.replace(ae,"");for(Vt&&(Yt=Yt.replace(X,"!")),yr=0;yr<ht.length;++yr)if((Vt?ht[yr].replace(X,"!"):ht[yr]).replace(ae,"")==Yt||(Vt?zt[yr].replace(X,"!"):zt[yr]).replace(ae,"")==Yt)return tt.FileIndex[yr];return null},x.read=function(tt,Ht){var ht,zt,ut=Ht&&Ht.type;switch(ut||M&&Buffer.isBuffer(tt)&&(ut="buffer"),ut||"base64"){case"file":return ht=tt,zt=Ht,F(),I(d.readFileSync(ht),zt);case"base64":return I(U(O(tt)),Ht);case"binary":return I(U(tt),Ht)}return I(tt,Ht)},x.parse=I,x.write=function(tt,Ht){var ht=Q(tt,Ht);switch(Ht&&Ht.type||"buffer"){case"file":return F(),d.writeFileSync(Ht.filename,ht),ht;case"binary":return typeof ht=="string"?ht:_e(ht);case"base64":return T(typeof ht=="string"?ht:_e(ht));case"buffer":if(M)return Buffer.isBuffer(ht)?ht:B(ht);case"array":return typeof ht=="string"?U(ht):ht}return ht},x.writeFile=function(tt,Ht,ht){F(),ht=Q(tt,ht),d.writeFileSync(Ht,ht)},x.utils={cfb_new:function(tt){var Ht={};return W(Ht,tt),Ht},cfb_add:Sf,cfb_del:function(tt,Ht){W(tt);var ht=Ir.find(tt,Ht);if(ht){for(var zt=0;zt<tt.FileIndex.length;++zt)if(tt.FileIndex[zt]==ht)return tt.FileIndex.splice(zt,1),tt.FullPaths.splice(zt,1),!0}return!1},cfb_mov:function(tt,Ht,ht){W(tt);var zt=Ir.find(tt,Ht);if(zt){for(var ut=0;ut<tt.FileIndex.length;++ut)if(tt.FileIndex[ut]==zt)return tt.FileIndex[ut].name=_(ht),tt.FullPaths[ut]=ht,!0}return!1},cfb_gc:function(tt){q(tt,!0)},ReadShift:ma,CheckField:Rl,prep_blob:es,bconcat:re,use_zlib:function(tt){try{var Ht=new tt.InflateRaw;if(Ht._processChunk(new Uint8Array([3,0]),Ht._finishFlushFlag),!Ht.bytesRead)throw new Error("zlib does not expose bytesRead");ce=tt}catch(ht){console.error("cannot use native zlib: "+(ht.message||ht))}},_deflateRaw:fn,_inflateRaw:gt,consts:je},x}();if(typeof NC<"u")try{ia=lO}catch{}function vo(d){return typeof d=="string"?J(d):Array.isArray(d)?function(x){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(x)}(d):d}function Ss(d,x,v){if(ia!==void 0&&ia.writeFileSync)return v?ia.writeFileSync(d,x,v):ia.writeFileSync(d,x);if(typeof Deno<"u"){if(v&&typeof x=="string")switch(v){case"utf8":x=new TextEncoder(v).encode(x);break;case"binary":x=J(x);break;default:throw new Error("Unsupported encoding "+v)}return Deno.writeFileSync(d,x)}var _=v=="utf8"?Ri(x):x;if(typeof IE_SaveFile<"u")return IE_SaveFile(_,d);if(typeof Blob<"u"){if(_=new Blob([vo(_)],{type:"application/octet-stream"}),typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(_,d);if(typeof saveAs<"u")return saveAs(_,d);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var k=URL.createObjectURL(_);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(k)},6e4),chrome.downloads.download({url:k,filename:d,saveAs:!0});if(_=document.createElement("a"),_.download!=null)return _.download=d,_.href=k,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(k)},6e4),k}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var F=File(d);return F.open("w"),F.encoding="binary",Array.isArray(x)&&(x=K(x)),F.write(x),F.close(),x}catch(I){if(!I.message||!I.message.match(/onstruct/))throw I}throw new Error("cannot save file "+d)}function Na(d){for(var x=Object.keys(d),v=[],_=0;_<x.length;++_)Object.prototype.hasOwnProperty.call(d,x[_])&&v.push(x[_]);return v}function Io(d,x){for(var v=[],_=Na(d),k=0;k!==_.length;++k)v[d[_[k]][x]]==null&&(v[d[_[k]][x]]=_[k]);return v}function Vn(d){for(var x=[],v=Na(d),_=0;_!==v.length;++_)x[d[v[_]]]=v[_];return x}function js(d){for(var x=[],v=Na(d),_=0;_!==v.length;++_)x[d[v[_]]]=parseInt(v[_],10);return x}var rc=new Date(1899,11,30,0,0,0);function Va(d,x){var v=d.getTime();return x&&(v-=1263168e5),(v-(rc.getTime()+6e4*(d.getTimezoneOffset()-rc.getTimezoneOffset())))/864e5}var yo=new Date,ii=rc.getTime()+6e4*(yo.getTimezoneOffset()-rc.getTimezoneOffset()),Zi=yo.getTimezoneOffset();function Ie(d){var x=new Date;return x.setTime(24*d*60*60*1e3+ii),x.getTimezoneOffset()!==Zi&&x.setTime(x.getTime()+6e4*(x.getTimezoneOffset()-Zi)),x}var ze=new Date("2017-02-19T19:06:09.000Z"),Ye=isNaN(ze.getFullYear())?new Date("2/19/17"):ze,Qe=Ye.getFullYear()==2017;function Xe(d,x){var v=new Date(d);return Qe?(0<x?v.setTime(v.getTime()+60*v.getTimezoneOffset()*1e3):x<0&&v.setTime(v.getTime()-60*v.getTimezoneOffset()*1e3),v):d instanceof Date?d:Ye.getFullYear()==1917&&!isNaN(v.getFullYear())?(x=v.getFullYear(),-1<d.indexOf(""+x)||v.setFullYear(v.getFullYear()+100),v):(v=d.match(/\d+/g)||["2017","2","19","0","0","0"],v=new Date(+v[0],+v[1]-1,+v[2],+v[3]||0,+v[4]||0,+v[5]||0),v=-1<d.indexOf("Z")?new Date(v.getTime()-60*v.getTimezoneOffset()*1e3):v)}function nt(d,x){if(M&&Buffer.isBuffer(d)){if(x){if(d[0]==255&&d[1]==254)return Ri(d.slice(2).toString("utf16le"));if(d[1]==254&&d[2]==255)return Ri(N(d.slice(2).toString("binary")))}return d.toString("binary")}if(typeof TextDecoder<"u")try{if(x){if(d[0]==255&&d[1]==254)return Ri(new TextDecoder("utf-16le").decode(d.slice(2)));if(d[0]==254&&d[1]==255)return Ri(new TextDecoder("utf-16be").decode(d.slice(2)))}var v={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(d)&&(d=new Uint8Array(d)),new TextDecoder("latin1").decode(d).replace(/[]/g,function(F){return v[F]||F})}catch{}for(var _=[],k=0;k!=d.length;++k)_.push(String.fromCharCode(d[k]));return _.join("")}function yt(d){if(typeof JSON<"u"&&!Array.isArray(d))return JSON.parse(JSON.stringify(d));if(typeof d!="object"||d==null)return d;if(d instanceof Date)return new Date(d.getTime());var x,v={};for(x in d)Object.prototype.hasOwnProperty.call(d,x)&&(v[x]=yt(d[x]));return v}function Ot(d,x){for(var v="";v.length<x;)v+=d;return v}function St(_){var x=Number(_);if(!isNaN(x))return isFinite(x)?x:NaN;if(!/\d/.test(_))return x;var v=1,_=_.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return v*=100,""});return isNaN(x=Number(_))?(_=_.replace(/[(](.*)[)]/,function(k,F){return v=-v,F}),isNaN(x=Number(_))?x:x/v):x/v}var Pt=["january","february","march","april","may","june","july","august","september","october","november","december"];function It(d){var x=new Date(d),v=new Date(NaN),_=x.getYear(),k=x.getMonth(),F=x.getDate();if(isNaN(F))return v;var I=d.toLowerCase();if(I.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(3<(I=I.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length&&Pt.indexOf(I)==-1)return v}else if(I.match(/[a-z]/))return v;return _<0||8099<_||(!(0<k||1<F)||_==101)&&d.match(/[^-0-9:,\/\\]/)?v:x}var mr,br=(mr="abacaba".split(/(:?b)/i).length==5,function(d,x,v){if(mr||typeof x=="string")return d.split(x);for(var _=d.split(x),k=[_[0]],F=1;F<_.length;++F)k.push(v),k.push(_[F]);return k});function wr(d){return d?d.content&&d.type?nt(d.content,!0):d.data?b(d.data):d.asNodeBuffer&&M?b(d.asNodeBuffer().toString("binary")):d.asBinary?b(d.asBinary()):d._data&&d._data.getContent?b(nt(Array.prototype.slice.call(d._data.getContent(),0))):null:null}function Tr(d){if(!d)return null;if(d.data)return p(d.data);if(d.asNodeBuffer&&M)return d.asNodeBuffer();if(d._data&&d._data.getContent){var x=d._data.getContent();return typeof x=="string"?p(x):Array.prototype.slice.call(x)}return d.content&&d.type?d.content:null}function Sr(d,x){for(var v=d.FullPaths||Na(d.files),_=x.toLowerCase().replace(/[\/]/g,"\\"),k=_.replace(/\\/g,"/"),F=0;F<v.length;++F){var I=v[F].replace(/^Root Entry[\/]/,"").toLowerCase();if(_==I||k==I)return d.files?d.files[v[F]]:d.FileIndex[F]}return null}function ua(d,x){if(d=Sr(d,x),d==null)throw new Error("Cannot find file "+x+" in zip");return d}function Ut(d,x,v){if(!v)return((v=ua(d,x))&&v.name.slice(-4)===".bin"?Tr:wr)(v);if(!x)return null;try{return Ut(d,x)}catch{return null}}function va(d,x,v){if(!v)return wr(ua(d,x));if(!x)return null;try{return va(d,x)}catch{return null}}function Ta(d){for(var x=d.FullPaths||Na(d.files),v=[],_=0;_<x.length;++_)x[_].slice(-1)!="/"&&v.push(x[_].replace(/^Root Entry[\/]/,""));return v.sort()}function ea(d,x,v){if(d.FullPaths){if(typeof v=="string"){var _=(M?B:function(k){for(var F=[],I=0,R=k.length+250,W=L(k.length+255),q=0;q<k.length;++q){var Q,ce=k.charCodeAt(q);ce<128?W[I++]=ce:ce<2048?(W[I++]=192|ce>>6&31,W[I++]=128|63&ce):55296<=ce&&ce<57344?(ce=64+(1023&ce),Q=1023&k.charCodeAt(++q),W[I++]=240|ce>>8&7,W[I++]=128|ce>>2&63,W[I++]=128|Q>>6&15|(3&ce)<<4,W[I++]=128|63&Q):(W[I++]=224|ce>>12&15,W[I++]=128|ce>>6&63,W[I++]=128|63&ce),R<I&&(F.push(W.slice(0,I)),I=0,W=L(65535),R=65530)}return F.push(W.slice(0,I)),re(F)})(v);return Ir.utils.cfb_add(d,x,_)}Ir.utils.cfb_add(d,x,v)}else d.file(x,v)}function Cc(){return Ir.utils.cfb_new()}function Wa(d,x){switch(x.type){case"base64":return Ir.read(d,{type:"base64"});case"binary":return Ir.read(d,{type:"binary"});case"buffer":case"array":return Ir.read(d,{type:"buffer"})}throw new Error("Unrecognized type "+x.type)}function Sa(d,x){if(d.charAt(0)=="/")return d.slice(1);var v=x.split("/");x.slice(-1)!="/"&&v.pop();for(var _=d.split("/");_.length!==0;){var k=_.shift();k===".."?v.pop():k!=="."&&v.push(k)}return v.join("/")}var Tn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Rs=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,cN=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,Ts=Tn.match(cN)?cN:/<[^>]*>/g,Z0=/<\w*:/,ri=/<(\/?)\w+:/;function Wn(d,x,v){for(var _={},k=0,F=0;k!==d.length&&(F=d.charCodeAt(k))!==32&&F!==10&&F!==13;++k);if(x||(_[0]=d.slice(0,k)),k===d.length)return _;var I,R,W,q=d.match(Rs),Q=0,ce=0,fe="",pe="";if(q)for(ce=0;ce!=q.length;++ce){for(pe=q[ce],F=0;F!=pe.length&&pe.charCodeAt(F)!==61;++F);for(fe=pe.slice(0,F).trim();pe.charCodeAt(F+1)==32;)++F;for(R=(k=pe.charCodeAt(F+1))==34||k==39?1:0,I=pe.slice(F+1+R,pe.length-R),Q=0;Q!=fe.length&&fe.charCodeAt(Q)!==58;++Q);Q===fe.length?(_[fe=0<fe.indexOf("_")?fe.slice(0,fe.indexOf("_")):fe]=I,v||(_[fe.toLowerCase()]=I)):_[W=(Q===5&&fe.slice(0,5)==="xmlns"?"xmlns":"")+fe.slice(Q+1)]&&fe.slice(Q-3,Q)=="ext"||(_[W]=I,v||(_[W.toLowerCase()]=I))}return _}function bo(d){return d.replace(ri,"<$1")}var Ji,Qc,Ac={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},ds=Vn(Ac),vn=(Ji=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,Qc=/_x([\da-fA-F]{4})_/gi,function d(x){var v=x+"",_=v.indexOf("<![CDATA[");return _==-1?v.replace(Ji,function(k,F){return Ac[k]||String.fromCharCode(parseInt(F,-1<k.indexOf("x")?16:10))||k}).replace(Qc,function(k,F){return String.fromCharCode(parseInt(F,16))}):(x=v.indexOf("]]>"),d(v.slice(0,_))+v.slice(_+9,x)+d(v.slice(x+3)))}),Ks=/[&<>'"]/g,kt=/[\u0000-\u0008\u000b-\u001f]/g;function Ke(d){return(d+"").replace(Ks,function(x){return ds[x]}).replace(kt,function(x){return"_x"+("000"+x.charCodeAt(0).toString(16)).slice(-4)+"_"})}function yn(d){return Ke(d).replace(/ /g,"_x0020_")}var Ms=/[\u0000-\u001f]/g;function tl(d){return(d+"").replace(Ks,function(x){return ds[x]}).replace(/\n/g,"<br/>").replace(Ms,function(x){return"&#x"+("000"+x.charCodeAt(0).toString(16)).slice(-4)+";"})}var eh,nd=(eh=/&#(\d+);/g,function(d){return d.replace(eh,nc)});function nc(d,x){return String.fromCharCode(parseInt(x,10))}function Jr(d){switch(d){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Qi(d){for(var x,v,_,k,F="",I=0,R=0;I<d.length;)(x=d.charCodeAt(I++))<128?F+=String.fromCharCode(x):(v=d.charCodeAt(I++),191<x&&x<224?(R=(31&x)<<6,R|=63&v,F+=String.fromCharCode(R)):(_=d.charCodeAt(I++),x<240?F+=String.fromCharCode((15&x)<<12|(63&v)<<6|63&_):(k=((7&x)<<18|(63&v)<<12|(63&_)<<6|63&(R=d.charCodeAt(I++)))-65536,F+=String.fromCharCode(55296+(k>>>10&1023)),F+=String.fromCharCode(56320+(1023&k)))));return F}function th(d){for(var x,v,_=L(2*d.length),k=1,F=0,I=0,R=0;R<d.length;R+=k)k=1,(v=d.charCodeAt(R))<128?x=v:v<224?(x=64*(31&v)+(63&d.charCodeAt(R+1)),k=2):v<240?(x=4096*(15&v)+64*(63&d.charCodeAt(R+1))+(63&d.charCodeAt(R+2)),k=3):(k=4,x=262144*(7&v)+4096*(63&d.charCodeAt(R+1))+64*(63&d.charCodeAt(R+2))+(63&d.charCodeAt(R+3)),I=55296+((x-=65536)>>>10&1023),x=56320+(1023&x)),I!==0&&(_[F++]=255&I,_[F++]=I>>>8,I=0),_[F++]=x%256,_[F++]=x>>>8;return _.slice(0,F).toString("ucs2")}function J0(d){return B(d,"binary").toString("utf8")}var Dl,Pd,eu,kv="foo bar baz",wi=M&&(J0(kv)==Qi(kv)?J0:th(kv)==Qi(kv)&&th)||Qi,Ri=M?function(d){return B(d,"utf8").toString("binary")}:function(d){for(var x,v=[],_=0,k=0;_<d.length;)switch(!0){case(k=d.charCodeAt(_++))<128:v.push(String.fromCharCode(k));break;case k<2048:v.push(String.fromCharCode(192+(k>>6))),v.push(String.fromCharCode(128+(63&k)));break;case(55296<=k&&k<57344):k-=55296,x=d.charCodeAt(_++)-56320+(k<<10),v.push(String.fromCharCode(240+(x>>18&7))),v.push(String.fromCharCode(144+(x>>12&63))),v.push(String.fromCharCode(128+(x>>6&63))),v.push(String.fromCharCode(128+(63&x)));break;default:v.push(String.fromCharCode(224+(k>>12))),v.push(String.fromCharCode(128+(k>>6&63))),v.push(String.fromCharCode(128+(63&k)))}return v.join("")},sa=(Dl={},function(d,x){var v=d+"|"+(x||"");return Dl[v]||(Dl[v]=new RegExp("<(?:\\w+:)?"+d+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+d+">",x||""))}),Au=(Pd=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(d){return[new RegExp("&"+d[0]+";","ig"),d[1]]}),function(d){for(var x=d.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),v=0;v<Pd.length;++v)x=x.replace(Pd[v][0],Pd[v][1]);return x}),fa=(eu={},function(d){return eu[d]!==void 0?eu[d]:eu[d]=new RegExp("<(?:vt:)?"+d+">([\\s\\S]*?)</(?:vt:)?"+d+">","g")}),J1=/<\/?(?:vt:)?variant>/g,ya=/<(?:vt:)([^>]*)>([\s\S]*)</;function fs(_,x){var v=Wn(_),_=_.match(fa(v.baseType))||[],k=[];if(_.length==v.size)return _.forEach(function(F){F=F.replace(J1,"").match(ya),F&&k.push({v:wi(F[2]),t:F[1]})}),k;if(x.WTF)throw new Error("unexpected vector length "+_.length+" != "+v.size);return k}var np=/(^\s|\s$|\n)/;function Ys(d,x){return"<"+d+(x.match(np)?' xml:space="preserve"':"")+">"+x+"</"+d+">"}function Eu(d){return Na(d).map(function(x){return" "+x+'="'+d[x]+'"'}).join("")}function Er(d,x,v){return"<"+d+(v!=null?Eu(v):"")+(x!=null?(x.match(np)?' xml:space="preserve"':"")+">"+x+"</"+d:"/")+">"}function Od(d,x){try{return d.toISOString().replace(/\.\d*/,"")}catch(v){if(x)throw v}return""}function Id(d){if(M&&Buffer.isBuffer(d))return d.toString("utf8");if(typeof d=="string")return d;if(typeof Uint8Array<"u"&&d instanceof Uint8Array)return wi(K(G(d)));throw new Error("Bad input format: expected Buffer or string")}var rl=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,ps={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},tu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Xs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Fd(d){for(var x=[],v=0;v<d[0].length;++v)if(d[0][v])for(var _=0,k=d[0][v].length;_<k;_+=10240)x.push.apply(x,d[0][v].slice(_,_+10240));return x}function ks(d,x,v){for(var _=[],k=x;k<v;k+=2)_.push(String.fromCharCode(Ur(d,k)));return _.join("").replace(ae,"")}function rh(d,x,v){for(var _=[],k=x;k<x+v;++k)_.push(("0"+d[k].toString(16)).slice(-2));return _.join("")}function gf(d,x,v){for(var _=[],k=x;k<v;k++)_.push(String.fromCharCode(dn(d,k)));return _.join("")}function nh(d,x){var v=Kr(d,x);return 0<v?$t(d,x+4,x+4+v-1):""}function xf(d,x){var v=Kr(d,x);return 0<v?$t(d,x+4,x+4+v-1):""}function Xh(d,x){var v=2*Kr(d,x);return 0<v?$t(d,x+4,x+4+v-1):""}function Q0(d,x){var v=Kr(d,x);return 0<v?ac(d,x+4,x+4+v):""}function _i(d,x){var v=Kr(d,x);return 0<v?$t(d,x+4,x+4+v):""}function ju(d,x){for(var v=1-2*(d[x+7]>>>7),_=((127&d[x+7])<<4)+(d[x+6]>>>4&15),k=15&d[x+6],F=5;0<=F;--F)k=256*k+d[x+F];return _==2047?k==0?1/0*v:NaN:(_==0?_=-1022:(_-=1023,k+=Math.pow(2,52)),v*Math.pow(2,_-52)*k)}var Ec=M?function(d){return 0<d[0].length&&Buffer.isBuffer(d[0][0])?Buffer.concat(d[0].map(function(x){return Buffer.isBuffer(x)?x:B(x)})):Fd(d)}:Fd,ac=M?function(d,x,v){return Buffer.isBuffer(d)?d.toString("utf16le",x,v).replace(ae,""):ks(d,x,v)}:ks,vf=M?function(d,x,v){return Buffer.isBuffer(d)?d.toString("hex",x,x+v):rh(d,x,v)}:rh,$t=M?function(d,x,v){return Buffer.isBuffer(d)?d.toString("utf8",x,v):gf(d,x,v)}:gf,ie=nh,Pe=xf,rt=Xh,ft=Q0,Ct=_i,tr=ju,pr=function(d){return Array.isArray(d)||typeof Uint8Array<"u"&&d instanceof Uint8Array};M&&(ie=function(d,x){if(!Buffer.isBuffer(d))return nh(d,x);var v=d.readUInt32LE(x);return 0<v?d.toString("utf8",x+4,x+4+v-1):""},Pe=function(d,x){if(!Buffer.isBuffer(d))return xf(d,x);var v=d.readUInt32LE(x);return 0<v?d.toString("utf8",x+4,x+4+v-1):""},rt=function(d,x){if(!Buffer.isBuffer(d))return Xh(d,x);var v=2*d.readUInt32LE(x);return d.toString("utf16le",x+4,x+4+v-1)},ft=function(d,x){if(!Buffer.isBuffer(d))return Q0(d,x);var v=d.readUInt32LE(x);return d.toString("utf16le",x+4,x+4+v)},Ct=function(d,x){if(!Buffer.isBuffer(d))return _i(d,x);var v=d.readUInt32LE(x);return d.toString("utf8",x+4,x+4+v)},tr=function(d,x){return Buffer.isBuffer(d)?d.readDoubleLE(x):ju(d,x)},pr=function(d){return Buffer.isBuffer(d)||Array.isArray(d)||typeof Uint8Array<"u"&&d instanceof Uint8Array}),i!==void 0&&(ac=function(d,x,v){return i.utils.decode(1200,d.slice(x,v)).replace(ae,"")},$t=function(d,x,v){return i.utils.decode(65001,d.slice(x,v))},ie=function(d,x){var v=Kr(d,x);return 0<v?i.utils.decode(l,d.slice(x+4,x+4+v-1)):""},Pe=function(d,x){var v=Kr(d,x);return 0<v?i.utils.decode(o,d.slice(x+4,x+4+v-1)):""},rt=function(d,x){var v=2*Kr(d,x);return 0<v?i.utils.decode(1200,d.slice(x+4,x+4+v-1)):""},ft=function(d,x){var v=Kr(d,x);return 0<v?i.utils.decode(1200,d.slice(x+4,x+4+v)):""},Ct=function(d,x){var v=Kr(d,x);return 0<v?i.utils.decode(65001,d.slice(x+4,x+4+v)):""});var dn=function(d,x){return d[x]},Ur=function(d,x){return 256*d[x+1]+d[x]},ba=function(d,x){return x=256*d[x+1]+d[x],x<32768?x:-1*(65535-x+1)},Kr=function(d,x){return d[x+3]*(1<<24)+(d[x+2]<<16)+(d[x+1]<<8)+d[x]},Ma=function(d,x){return d[x+3]<<24|d[x+2]<<16|d[x+1]<<8|d[x]},Mi=function(d,x){return d[x]<<24|d[x+1]<<16|d[x+2]<<8|d[x+3]};function ma(d,x){var v,_,k,F,I,R,W="",q=[];switch(x){case"dbcs":if(R=this.l,M&&Buffer.isBuffer(this))W=this.slice(this.l,this.l+2*d).toString("utf16le");else for(I=0;I<d;++I)W+=String.fromCharCode(Ur(this,R)),R+=2;d*=2;break;case"utf8":W=$t(this,this.l,this.l+d);break;case"utf16le":d*=2,W=ac(this,this.l,this.l+d);break;case"wstr":if(i===void 0)return ma.call(this,d,"dbcs");W=i.utils.decode(o,this.slice(this.l,this.l+2*d)),d*=2;break;case"lpstr-ansi":W=ie(this,this.l),d=4+Kr(this,this.l);break;case"lpstr-cp":W=Pe(this,this.l),d=4+Kr(this,this.l);break;case"lpwstr":W=rt(this,this.l),d=4+2*Kr(this,this.l);break;case"lpp4":d=4+Kr(this,this.l),W=ft(this,this.l),2&d&&(d+=2);break;case"8lpp4":d=4+Kr(this,this.l),W=Ct(this,this.l),3&d&&(d+=4-(3&d));break;case"cstr":for(d=0,W="";(k=dn(this,this.l+d++))!==0;)q.push(S(k));W=q.join("");break;case"_wstr":for(d=0,W="";(k=Ur(this,this.l+d))!==0;)q.push(S(k)),d+=2;d+=2,W=q.join("");break;case"dbcs-cont":for(W="",R=this.l,I=0;I<d;++I){if(this.lens&&this.lens.indexOf(R)!==-1)return k=dn(this,R),this.l=R+1,F=ma.call(this,d-I,k?"dbcs-cont":"sbcs-cont"),q.join("")+F;q.push(S(Ur(this,R))),R+=2}W=q.join(""),d*=2;break;case"cpstr":if(i!==void 0){W=i.utils.decode(o,this.slice(this.l,this.l+d));break}case"sbcs-cont":for(W="",R=this.l,I=0;I!=d;++I){if(this.lens&&this.lens.indexOf(R)!==-1)return k=dn(this,R),this.l=R+1,F=ma.call(this,d-I,k?"dbcs-cont":"sbcs-cont"),q.join("")+F;q.push(S(dn(this,R))),R+=1}W=q.join("");break;default:switch(d){case 1:return v=dn(this,this.l),this.l++,v;case 2:return v=(x==="i"?ba:Ur)(this,this.l),this.l+=2,v;case 4:case-4:return x==="i"||!(128&this[this.l+3])?(v=(0<d?Ma:Mi)(this,this.l),this.l+=4,v):(_=Kr(this,this.l),this.l+=4,_);case 8:case-8:if(x==="f")return _=d==8?tr(this,this.l):tr([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,_;d=8;case 16:W=vf(this,this.l,d)}}return this.l+=d,W}var an=function(d,x,v){d[v]=255&x,d[v+1]=x>>>8&255,d[v+2]=x>>>16&255,d[v+3]=x>>>24&255},wo=function(d,x,v){d[v]=255&x,d[v+1]=x>>8&255,d[v+2]=x>>16&255,d[v+3]=x>>24&255},ka=function(d,x,v){d[v]=255&x,d[v+1]=x>>>8&255};function Ps(d,x,v){var _=0,k=0;if(v==="dbcs"){for(k=0;k!=x.length;++k)ka(this,x.charCodeAt(k),this.l+2*k);_=2*x.length}else if(v==="sbcs"){if(i!==void 0&&l==874)for(k=0;k!=x.length;++k){var F=i.utils.encode(l,x.charAt(k));this[this.l+k]=F[0]}else for(x=x.replace(/[^\x00-\x7F]/g,"_"),k=0;k!=x.length;++k)this[this.l+k]=255&x.charCodeAt(k);_=x.length}else{if(v==="hex"){for(;k<d;++k)this[this.l++]=parseInt(x.slice(2*k,2*k+2),16)||0;return this}if(v==="utf16le"){for(var I=Math.min(this.l+d,this.length),k=0;k<Math.min(x.length,d);++k){var R=x.charCodeAt(k);this[this.l++]=255&R,this[this.l++]=R>>8}for(;this.l<I;)this[this.l++]=0;return this}switch(d){case 1:_=1,this[this.l]=255&x;break;case 2:_=2,this[this.l]=255&x,x>>>=8,this[this.l+1]=255&x;break;case 3:_=3,this[this.l]=255&x,x>>>=8,this[this.l+1]=255&x,x>>>=8,this[this.l+2]=255&x;break;case 4:_=4,an(this,x,this.l);break;case 8:if(_=8,v==="f"){(function(W,q,Q){var ce=(q<0||1/q==-1/0?1:0)<<7,fe=0,pe=0,Ae=ce?-q:q;isFinite(Ae)?Ae==0?fe=pe=0:(fe=Math.floor(Math.log(Ae)/Math.LN2),pe=Ae*Math.pow(2,52-fe),fe<=-1023&&(!isFinite(pe)||pe<Math.pow(2,52))?fe=-1022:(pe-=Math.pow(2,52),fe+=1023)):(fe=2047,pe=isNaN(q)?26985:0);for(var ve=0;ve<=5;++ve,pe/=256)W[Q+ve]=255&pe;W[Q+6]=(15&fe)<<4|15&pe,W[Q+7]=fe>>4|ce})(this,x,this.l);break}case 16:break;case-4:_=4,wo(this,x,this.l)}}return this.l+=_,this}function Rl(d,x){var v=vf(this,this.l,d.length>>1);if(v!==d)throw new Error(x+"Expected "+d+" saw "+v);this.l+=d.length>>1}function es(d,x){d.l=x,d.read_shift=ma,d.chk=Rl,d.write_shift=Ps}function gi(d,x){d.l+=x}function Kt(d){return d=L(d),es(d,0),d}function Ml(d,x,v){if(d){es(d,d.l||0);for(var _,k=d.length,F=0;d.l<k;){128&(F=d.read_shift(1))&&(F=(127&F)+((127&d.read_shift(1))<<7));for(var I,R=mw[F]||mw[65535],W=127&(I=d.read_shift(1)),q=1;q<4&&128&I;++q)W+=(127&(I=d.read_shift(1)))<<7*q;_=d.l+W;var Q=R.f&&R.f(d,W,v);if(d.l=_,x(Q,R,F))return}}}function Os(){function d(I){return es(I=Kt(I),0),I}function x(){F&&(F.length>F.l&&((F=F.slice(0,F.l)).l=F.length),0<F.length&&_.push(F),F=null)}function v(I){return F&&I<F.length-F.l?F:(x(),F=d(Math.max(I+1,k)))}var _=[],k=M?256:2048,F=d(k);return{next:v,push:function(I){x(),(F=I).l==null&&(F.l=F.length),v(k)},end:function(){return x(),re(_)},_bufs:_}}function hr(d,x,v,_){var k=+x;if(!isNaN(k)){x=1+(128<=k?1:0)+1,128<=(_=_||mw[k].p||(v||[]).length||0)&&++x,16384<=_&&++x,2097152<=_&&++x;var F=d.next(x);k<=127?F.write_shift(1,k):(F.write_shift(1,128+(127&k)),F.write_shift(1,k>>7));for(var I=0;I!=4;++I){if(!(128<=_)){F.write_shift(1,_);break}F.write_shift(1,128+(127&_)),_>>=7}0<_&&pr(v)&&d.push(v)}}function ru(d,x,v){var _=yt(d);if(x.s?(_.cRel&&(_.c+=x.s.c),_.rRel&&(_.r+=x.s.r)):(_.cRel&&(_.c+=x.c),_.rRel&&(_.r+=x.r)),!v||v.biff<12){for(;256<=_.c;)_.c-=256;for(;65536<=_.r;)_.r-=65536}return _}function Dd(d,x,v){return d=yt(d),d.s=ru(d.s,x.s,v),d.e=ru(d.e,x.s,v),d}function hs(d,x){if(d.cRel&&d.c<0)for(d=yt(d);d.c<0;)d.c+=8<x?16384:256;if(d.rRel&&d.r<0)for(d=yt(d);d.r<0;)d.r+=8<x?1048576:5<x?65536:16384;var v=wn(d);return d.cRel||d.cRel==null||(v=v.replace(/^([A-Z])/,"$$$1")),v=!d.rRel&&d.rRel!=null?v.replace(/([A-Z]|^)(\d+)$/,"$1$$$2"):v}function Tu(d,x){return d.s.r!=0||d.s.rRel||d.e.r!=(12<=x.biff?1048575:8<=x.biff?65536:16384)||d.e.rRel?d.s.c!=0||d.s.cRel||d.e.c!=(12<=x.biff?16383:255)||d.e.cRel?hs(d.s,x.biff)+":"+hs(d.e,x.biff):(d.s.rRel?"":"$")+Oi(d.s.r)+":"+(d.e.rRel?"":"$")+Oi(d.e.r):(d.s.cRel?"":"$")+Ca(d.s.c)+":"+(d.e.cRel?"":"$")+Ca(d.e.c)}function Rd(d){return parseInt(d.replace(/\$(\d+)$/,"$1"),10)-1}function Oi(d){return""+(d+1)}function ah(d){for(var x=d.replace(/^\$([A-Z])/,"$1"),v=0,_=0;_!==x.length;++_)v=26*v+x.charCodeAt(_)-64;return v-1}function Ca(d){if(d<0)throw new Error("invalid column "+d);var x="";for(++d;d;d=Math.floor((d-1)/26))x=String.fromCharCode((d-1)%26+65)+x;return x}function ci(d){for(var x=0,v=0,_=0;_<d.length;++_){var k=d.charCodeAt(_);48<=k&&k<=57?x=10*x+(k-48):65<=k&&k<=90&&(v=26*v+(k-64))}return{c:v-1,r:x-1}}function wn(d){for(var x=d.c+1,v="";x;x=(x-1)/26|0)v=String.fromCharCode((x-1)%26+65)+v;return v+(d.r+1)}function _o(d){var x=d.indexOf(":");return x==-1?{s:ci(d),e:ci(d)}:{s:ci(d.slice(0,x)),e:ci(d.slice(x+1))}}function kn(d,x){return x===void 0||typeof x=="number"?kn(d.s,d.e):(d=typeof d!="string"?wn(d):d)==(x=typeof x!="string"?wn(x):x)?d:d+":"+x}function La(d){for(var x={s:{c:0,r:0},e:{c:0,r:0}},F=0,v=0,_=0,k=d.length,F=0;v<k&&!((_=d.charCodeAt(v)-64)<1||26<_);++v)F=26*F+_;for(x.s.c=--F,F=0;v<k&&!((_=d.charCodeAt(v)-48)<0||9<_);++v)F=10*F+_;if(x.s.r=--F,v===k||_!=10)return x.e.c=x.s.c,x.e.r=x.s.r,x;for(++v,F=0;v!=k&&!((_=d.charCodeAt(v)-64)<1||26<_);++v)F=26*F+_;for(x.e.c=--F,F=0;v!=k&&!((_=d.charCodeAt(v)-48)<0||9<_);++v)F=10*F+_;return x.e.r=--F,x}function ih(d,x){var v=d.t=="d"&&x instanceof Date;if(d.z!=null)try{return d.w=ln(d.z,v?Va(x):x)}catch{}try{return d.w=ln((d.XF||{}).numFmtId||(v?14:0),v?Va(x):x)}catch{return""+x}}function ic(d,x,v){return d==null||d.t==null||d.t=="z"?"":d.w!==void 0?d.w:(d.t=="d"&&!d.z&&v&&v.dateNF&&(d.z=v.dateNF),d.t=="e"?Tc[d.v]||d.v:ih(d,x??d.v))}function xl(d,_){var v=_&&_.sheet?_.sheet:"Sheet1",_={};return _[v]=d,{SheetNames:[v],Sheets:_}}function nl(d,x,v){var _=v||{},k=d?Array.isArray(d):_.dense,F=d||(k?[]:{}),I=0,R=0;F&&_.origin!=null&&(typeof _.origin=="number"?I=_.origin:(I=(W=typeof _.origin=="string"?ci(_.origin):_.origin).r,R=W.c),F["!ref"]||(F["!ref"]="A1:A1"));var W,q={s:{c:1e7,r:1e7},e:{c:0,r:0}};F["!ref"]&&(W=La(F["!ref"]),q.s.c=W.s.c,q.s.r=W.s.r,q.e.c=Math.max(q.e.c,W.e.c),q.e.r=Math.max(q.e.r,W.e.r),I==-1&&(q.e.r=I=W.e.r+1));for(var Q=0;Q!=x.length;++Q)if(x[Q]){if(!Array.isArray(x[Q]))throw new Error("aoa_to_sheet expects an array of arrays");for(var ce=0;ce!=x[Q].length;++ce)if(x[Q][ce]!==void 0){var fe={v:x[Q][ce]},pe=I+Q,Ae=R+ce;if(q.s.r>pe&&(q.s.r=pe),q.s.c>Ae&&(q.s.c=Ae),q.e.r<pe&&(q.e.r=pe),q.e.c<Ae&&(q.e.c=Ae),!x[Q][ce]||typeof x[Q][ce]!="object"||Array.isArray(x[Q][ce])||x[Q][ce]instanceof Date)if(Array.isArray(fe.v)&&(fe.f=x[Q][ce][1],fe.v=fe.v[0]),fe.v===null)if(fe.f)fe.t="n";else if(_.nullError)fe.t="e",fe.v=0;else{if(!_.sheetStubs)continue;fe.t="z"}else typeof fe.v=="number"?fe.t="n":typeof fe.v=="boolean"?fe.t="b":fe.v instanceof Date?(fe.z=_.dateNF||te[14],_.cellDates?(fe.t="d",fe.w=ln(fe.z,Va(fe.v))):(fe.t="n",fe.v=Va(fe.v),fe.w=ln(fe.z,fe.v))):fe.t="s";else fe=x[Q][ce];k?(F[pe]||(F[pe]=[]),F[pe][Ae]&&F[pe][Ae].z&&(fe.z=F[pe][Ae].z),F[pe][Ae]=fe):(F[pe=wn({c:Ae,r:pe})]&&F[pe].z&&(fe.z=F[pe].z),F[pe]=fe)}}return q.s.c<1e7&&(F["!ref"]=kn(q)),F}function Fo(d,x){return nl(null,d,x)}function gs(d,x){return(x=x||Kt(4)).write_shift(4,d),x}function ts(d){var x=d.read_shift(4);return x===0?"":d.read_shift(x,"dbcs")}function Hn(d,x){var v=!1;return x==null&&(v=!0,x=Kt(4+2*d.length)),x.write_shift(4,d.length),0<d.length&&x.write_shift(0,d,"dbcs"),v?x.slice(0,x.l):x}function jc(d,x){var v,_=d.l,k=d.read_shift(1),I=ts(d),F=[],I={t:I,h:I};if(1&k){for(var R=d.read_shift(4),W=0;W!=R;++W)F.push({ich:(v=d).read_shift(2),ifnt:v.read_shift(2)});I.r=F}else I.r=[{ich:0,ifnt:0}];return d.l=_+x,I}var ke=jc;function m(d,x){var v,_=!1;return x==null&&(_=!0,x=Kt(23+4*d.t.length)),x.write_shift(1,1),Hn(d.t,x),x.write_shift(4,1),v={ich:0,ifnt:0},(d=(d=x)||Kt(4)).write_shift(2,v.ich||0),d.write_shift(2,v.ifnt||0),_?x.slice(0,x.l):x}function y(d){var x=d.read_shift(4),v=d.read_shift(2);return v+=d.read_shift(1)<<16,d.l++,{c:x,iStyleRef:v}}function w(d,x){return(x=x??Kt(8)).write_shift(-4,d.c),x.write_shift(3,d.iStyleRef||d.s),x.write_shift(1,0),x}function E(d){var x=d.read_shift(2);return x+=d.read_shift(1)<<16,d.l++,{c:-1,iStyleRef:x}}function P(d,x){return(x=x??Kt(4)).write_shift(3,d.iStyleRef||d.s),x.write_shift(1,0),x}var D=ts,V=Hn;function Z(d){var x=d.read_shift(4);return x===0||x===4294967295?"":d.read_shift(x,"dbcs")}function oe(d,x){var v=!1;return x==null&&(v=!0,x=Kt(127)),x.write_shift(4,0<d.length?d.length:4294967295),0<d.length&&x.write_shift(0,d,"dbcs"),v?x.slice(0,x.l):x}var be=ts,Te=Z,De=oe;function et(d){var x=d.slice(d.l,d.l+4),v=1&x[0],_=2&x[0];return d.l+=4,x=_==0?tr([0,0,0,0,252&x[0],x[1],x[2],x[3]],0):Ma(x,0)>>2,v?x/100:x}function dt(d,x){x==null&&(x=Kt(4));var v=0,_=0,k=100*d;if(d==(0|d)&&-(1<<29)<=d&&d<1<<29?_=1:k==(0|k)&&-(1<<29)<=k&&k<1<<29&&(v=_=1),!_)throw new Error("unsupported RkNumber "+d);x.write_shift(-4,((v?k:d)<<2)+(v+2))}function pt(d){var x={s:{},e:{}};return x.s.r=d.read_shift(4),x.e.r=d.read_shift(4),x.s.c=d.read_shift(4),x.e.c=d.read_shift(4),x}var Nt=pt,Rt=function(d,x){return(x=x||Kt(16)).write_shift(4,d.s.r),x.write_shift(4,d.e.r),x.write_shift(4,d.s.c),x.write_shift(4,d.e.c),x};function Gt(d){if(d.length-d.l<8)throw"XLS Xnum Buffer underflow";return d.read_shift(8,"f")}function or(d,x){return(x||Kt(8)).write_shift(8,d,"f")}function ir(d,x){if(x=x||Kt(8),!d||d.auto)return x.write_shift(4,0),x.write_shift(4,0),x;d.index!=null?(x.write_shift(1,2),x.write_shift(1,d.index)):d.theme!=null?(x.write_shift(1,6),x.write_shift(1,d.theme)):(x.write_shift(1,5),x.write_shift(1,0));var v=d.tint||0;return 0<v?v*=32767:v<0&&(v*=32768),x.write_shift(2,v),d.rgb&&d.theme==null?(typeof(d=d.rgb||"FFFFFF")=="number"&&(d=("000000"+d.toString(16)).slice(-6)),x.write_shift(1,parseInt(d.slice(0,2),16)),x.write_shift(1,parseInt(d.slice(2,4),16)),x.write_shift(1,parseInt(d.slice(4,6),16)),x.write_shift(1,255)):(x.write_shift(2,0),x.write_shift(1,0),x.write_shift(1,0)),x}function ta(d,x){var v=d.read_shift(4);switch(v){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[d.read_shift(4)]||""}if(400<v)throw new Error("Unsupported Clipboard: "+v.toString(16));return d.l-=4,d.read_shift(0,x==1?"lpstr":"lpwstr")}var da=2,Ti=3,al=12,Do=81,Vi=[80,Do],co={1:{n:"CodePage",t:da},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:Ti},5:{n:"LineCount",t:Ti},6:{n:"ParagraphCount",t:Ti},7:{n:"SlideCount",t:Ti},8:{n:"NoteCount",t:Ti},9:{n:"HiddenCount",t:Ti},10:{n:"MultimediaClipCount",t:Ti},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:Ti},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:Ti,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},vl={1:{n:"CodePage",t:da},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:Ti},15:{n:"WordCount",t:Ti},16:{n:"CharCount",t:Ti},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:Ti},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},yf={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},sh=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Zh=yt([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(d){return[d>>16&255,d>>8&255,255&d]})),Tc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Wb={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},uv={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Q1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function dv(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Hb(d,x){var v,_=function(W){for(var q=[],Q=Na(W),ce=0;ce!==Q.length;++ce)q[W[Q[ce]]]==null&&(q[W[Q[ce]]]=[]),q[W[Q[ce]]].push(Q[ce]);return q}(uv),k=[];k[k.length]=Tn,k[k.length]=Er("Types",null,{xmlns:ps.CT,"xmlns:xsd":ps.xsd,"xmlns:xsi":ps.xsi}),k=k.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(W){return Er("Default",null,{Extension:W[0],ContentType:W[1]})}));function F(W){d[W]&&0<d[W].length&&(v=d[W][0],k[k.length]=Er("Override",null,{PartName:(v[0]=="/"?"":"/")+v,ContentType:Q1[W][x.bookType]||Q1[W].xlsx}))}function I(W){(d[W]||[]).forEach(function(q){k[k.length]=Er("Override",null,{PartName:(q[0]=="/"?"":"/")+q,ContentType:Q1[W][x.bookType]||Q1[W].xlsx})})}function R(W){(d[W]||[]).forEach(function(q){k[k.length]=Er("Override",null,{PartName:(q[0]=="/"?"":"/")+q,ContentType:_[W][0]})})}return F("workbooks"),I("sheets"),I("charts"),R("themes"),["strs","styles"].forEach(F),["coreprops","extprops","custprops"].forEach(R),R("vba"),R("comments"),R("threadedcomments"),R("drawings"),I("metadata"),R("people"),2<k.length&&(k[k.length]="</Types>",k[1]=k[1].replace("/>",">")),k.join("")}var Ha={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ap(d){var x=d.lastIndexOf("/");return d.slice(0,x+1)+"_rels/"+d.slice(x+1)+".rels"}function ip(d,x){var v={"!id":{}};if(!d)return v;x.charAt(0)!=="/"&&(x="/"+x);var _={};return(d.match(Ts)||[]).forEach(function(k){var F,I=Wn(k);I[0]==="<Relationship"&&((F={}).Type=I.Type,F.Target=I.Target,F.Id=I.Id,I.TargetMode&&(F.TargetMode=I.TargetMode),k=I.TargetMode==="External"?I.Target:Sa(I.Target,x),v[k]=F,_[I.Id]=F)}),v["!id"]=_,v}function Jh(d){var x=[Tn,Er("Relationships",null,{xmlns:ps.RELS})];return Na(d["!id"]).forEach(function(v){x[x.length]=Er("Relationship",null,d["!id"][v])}),2<x.length&&(x[x.length]="</Relationships>",x[1]=x[1].replace("/>",">")),x.join("")}function Ii(d,x,v,_,k,F){if(k=k||{},d["!id"]||(d["!id"]={}),d["!idx"]||(d["!idx"]=1),x<0)for(x=d["!idx"];d["!id"]["rId"+x];++x);if(d["!idx"]=x+1,k.Id="rId"+x,k.Type=_,k.Target=v,F?k.TargetMode=F:-1<[Ha.HLINK,Ha.XPATH,Ha.XMISS].indexOf(k.Type)&&(k.TargetMode="External"),d["!id"][k.Id])throw new Error("Cannot rewrite rId "+x);return d["!id"][k.Id]=k,d[("/"+k.Target).replace("//","/")]=k,x}var ku="application/vnd.oasis.opendocument.spreadsheet";function Pu(d,x,v){return['  <rdf:Description rdf:about="'+d+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(v||"odf")+"#"+x+`"/>
`,`  </rdf:Description>
`].join("")}function eg(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+a.version+"</meta:generator></office:meta></office:document-meta>"}var kc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],P3=function(){for(var d=new Array(kc.length),x=0;x<kc.length;++x){var v=kc[x],v="(?:"+v[0].slice(0,v[0].indexOf(":"))+":)"+v[0].slice(v[0].indexOf(":")+1);d[x]=new RegExp("<"+v+"[^>]*>([\\s\\S]*?)</"+v+">")}return d}();function tg(d){var x={};d=wi(d);for(var v=0;v<kc.length;++v){var _=kc[v],k=d.match(P3[v]);k!=null&&0<k.length&&(x[_[1]]=vn(k[1])),_[2]==="date"&&x[_[1]]&&(x[_[1]]=Xe(x[_[1]]))}return x}function sp(d,x,v,_,k){k[d]==null&&x!=null&&x!==""&&(x=Ke(k[d]=x),_[_.length]=v?Er(d,x,v):Ys(d,x))}function fv(d,x){var v=x||{},_=[Tn,Er("cp:coreProperties",null,{"xmlns:cp":ps.CORE_PROPS,"xmlns:dc":ps.dc,"xmlns:dcterms":ps.dcterms,"xmlns:dcmitype":ps.dcmitype,"xmlns:xsi":ps.xsi})],k={};if(!d&&!v.Props)return _.join("");d&&(d.CreatedDate!=null&&sp("dcterms:created",typeof d.CreatedDate=="string"?d.CreatedDate:Od(d.CreatedDate,v.WTF),{"xsi:type":"dcterms:W3CDTF"},_,k),d.ModifiedDate!=null&&sp("dcterms:modified",typeof d.ModifiedDate=="string"?d.ModifiedDate:Od(d.ModifiedDate,v.WTF),{"xsi:type":"dcterms:W3CDTF"},_,k));for(var F=0;F!=kc.length;++F){var I=kc[F],R=v.Props&&v.Props[I[1]]!=null?v.Props[I[1]]:d?d[I[1]]:null;R===!0?R="1":R===!1?R="0":typeof R=="number"&&(R=String(R)),R!=null&&sp(I[0],R,null,_,k)}return 2<_.length&&(_[_.length]="</cp:coreProperties>",_[1]=_[1].replace("/>",">")),_.join("")}var Qh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],hv=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function mv(d,x,v,_){var k=[];if(typeof d=="string")k=fs(d,_);else for(var F=0;F<d.length;++F)k=k.concat(d[F].map(function(Q){return{v:Q}}));var I,R=typeof x=="string"?fs(x,_).map(function(Q){return Q.v}):x,W=0;if(0<R.length)for(var q=0;q!==k.length;q+=2){switch(I=+k[q+1].v,k[q].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":v.Worksheets=I,v.SheetNames=R.slice(W,W+I);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":v.NamedRanges=I,v.DefinedNames=R.slice(W,W+I);break;case"Charts":case"Diagramme":v.Chartsheets=I,v.ChartNames=R.slice(W,W+I)}W+=I}}function rg(d){var x=[],v=Er;return(d=d||{}).Application="SheetJS",x[x.length]=Tn,x[x.length]=Er("Properties",null,{xmlns:ps.EXT_PROPS,"xmlns:vt":ps.vt}),Qh.forEach(function(_){if(d[_[1]]!==void 0){var k;switch(_[2]){case"string":k=Ke(String(d[_[1]]));break;case"bool":k=d[_[1]]?"true":"false"}k!==void 0&&(x[x.length]=v(_[0],k))}}),x[x.length]=v("HeadingPairs",v("vt:vector",v("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+v("vt:variant",v("vt:i4",String(d.Worksheets))),{size:2,baseType:"variant"})),x[x.length]=v("TitlesOfParts",v("vt:vector",d.SheetNames.map(function(_){return"<vt:lpstr>"+Ke(_)+"</vt:lpstr>"}).join(""),{size:d.Worksheets,baseType:"lpstr"})),2<x.length&&(x[x.length]="</Properties>",x[1]=x[1].replace("/>",">")),x.join("")}var qb=/<[^>]+>[^<]*/g;function O3(d){var x=[Tn,Er("Properties",null,{xmlns:ps.CUST_PROPS,"xmlns:vt":ps.vt})];if(!d)return x.join("");var v=1;return Na(d).forEach(function(_){++v,x[x.length]=Er("property",function(k,F){switch(typeof k){case"string":var I=Er("vt:lpwstr",Ke(k));return I=F?I.replace(/&quot;/g,"_x0022_"):I;case"number":return Er((0|k)==k?"vt:i4":"vt:r8",Ke(String(k)));case"boolean":return Er("vt:bool",k?"true":"false")}if(k instanceof Date)return Er("vt:filetime",Od(k));throw new Error("Unable to serialize "+k)}(d[_],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:v,name:Ke(_)})}),2<x.length&&(x[x.length]="</Properties>",x[1]=x[1].replace("/>",">")),x.join("")}var I3,pv={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Gb(v){var x=v.read_shift(4),v=v.read_shift(4);return new Date(1e3*(v/1e7*Math.pow(2,32)+x/1e7-11644473600)).toISOString().replace(/\.000/,"")}function F3(d,x,v){var _=d.l,k=d.read_shift(0,"lpstr-cp");if(v)for(;d.l-_&3;)++d.l;return k}function D3(d,x,v){var _=d.read_shift(0,"lpwstr");return v&&(d.l+=4-(_.length+1&3)&3),_}function R3(d,x,v){return x===31?D3(d):F3(d,0,v)}function M3(d,x,v){return R3(d,x,v===!1?0:4)}function Kb(d){for(var x,v,_,k=d.read_shift(4),F=[],I=0;I<k/2;++I)F.push((_=v=void 0,v=(x=d).l,_=xv(x,Do),x[x.l]==0&&x[x.l+1]==0&&x.l-v&2&&(x.l+=2),[_,xv(x,Ti)]));return F}function gv(d,x){for(var v=d.read_shift(4),_={},k=0;k!=v;++k){var F=d.read_shift(4),I=d.read_shift(4);_[F]=d.read_shift(I,x===1200?"utf16le":"utf8").replace(ae,"").replace(X,"!"),x===1200&&I%2&&(d.l+=2)}return 3&d.l&&(d.l=d.l>>3<<2),_}function op(d){var x=d.read_shift(4),v=d.slice(d.l,d.l+x);return d.l+=x,0<(3&x)&&(d.l+=4-(3&x)&3),v}function xv(d,x,v){var _,k,F=d.read_shift(2),I=v||{};if(d.l+=2,x!==al&&F!==x&&Vi.indexOf(x)===-1&&((65534&x)!=4126||(65534&F)!=4126))throw new Error("Expected type "+x+" saw "+F);switch(x===al?F:x){case 2:return _=d.read_shift(2,"i"),I.raw||(d.l+=2),_;case 3:return _=d.read_shift(4,"i");case 11:return d.read_shift(4)!==0;case 19:return _=d.read_shift(4);case 30:return F3(d,0,4).replace(ae,"");case 31:return D3(d);case 64:return Gb(d);case 65:return op(d);case 71:return(k={}).Size=(_=d).read_shift(4),_.l+=k.Size+3-(k.Size-1)%4,k;case 80:return M3(d,F,!I.raw).replace(ae,"");case 81:return function(R,W){if(!W)throw new Error("VtUnalignedString must have positive length");return R3(R,W,0)}(d,F).replace(ae,"");case 4108:return Kb(d);case 4126:case 4127:return(F==4127?function(R){for(var W=R.read_shift(4),q=[],Q=0;Q!=W;++Q){var ce=R.l;q[Q]=R.read_shift(0,"lpwstr").replace(ae,""),R.l-ce&2&&(R.l+=2)}return q}:function(R){for(var W=R.read_shift(4),q=[],Q=0;Q!=W;++Q)q[Q]=R.read_shift(0,"lpstr-cp").replace(ae,"");return q})(d);default:throw new Error("TypedPropertyValue unrecognized type "+x+" "+F)}}function L3(d,x){var v,_,k,F=Kt(4),I=Kt(4);switch(F.write_shift(4,d==80?31:d),d){case 3:I.write_shift(-4,x);break;case 5:(I=Kt(8)).write_shift(8,x,"f");break;case 11:I.write_shift(4,x?1:0);break;case 64:_=(typeof(v=x)=="string"?new Date(Date.parse(v)):v).getTime()/1e3+11644473600,k=_%Math.pow(2,32),v=(_-k)/Math.pow(2,32),v*=1e7,0<(_=(k*=1e7)/Math.pow(2,32)|0)&&(k%=Math.pow(2,32),v+=_),(_=Kt(8)).write_shift(4,k),_.write_shift(4,v),I=_;break;case 31:case 80:for((I=Kt(4+2*(x.length+1)+(x.length%2?0:2))).write_shift(4,x.length+1),I.write_shift(0,x,"dbcs");I.l!=I.length;)I.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+d+" "+x)}return re([F,I])}function Yb(d,x){for(var v=d.l,_=d.read_shift(4),k=d.read_shift(4),F=[],q=0,I=0,R=-1,W={},q=0;q!=k;++q){var Q=d.read_shift(4),ce=d.read_shift(4);F[q]=[Q,ce+v]}F.sort(function(je,_e){return je[1]-_e[1]});var fe={};for(q=0;q!=k;++q){if(d.l!==F[q][1]){var pe=!0;if(0<q&&x)switch(x[F[q-1][0]].t){case 2:d.l+2===F[q][1]&&(d.l+=2,pe=!1);break;case 80:case 4108:d.l<=F[q][1]&&(d.l=F[q][1],pe=!1)}if((!x||q==0)&&d.l<=F[q][1]&&(pe=!1,d.l=F[q][1]),pe)throw new Error("Read Error: Expected address "+F[q][1]+" at "+d.l+" :"+q)}if(x){var Ae=x[F[q][0]];if(fe[Ae.n]=xv(d,Ae.t,{raw:!0}),Ae.p==="version"&&(fe[Ae.n]=String(fe[Ae.n]>>16)+"."+("0000"+String(65535&fe[Ae.n])).slice(-4)),Ae.n=="CodePage")switch(fe[Ae.n]){case 0:fe[Ae.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:h(I=fe[Ae.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+fe[Ae.n])}}else if(F[q][0]===1)I=fe.CodePage=xv(d,da),h(I),R!==-1&&(Re=d.l,d.l=F[R][1],W=gv(d,I),d.l=Re);else if(F[q][0]===0)I!==0?W=gv(d,I):(R=q,d.l=F[q+1][1]);else{var ve,Re=W[F[q][0]];switch(d[d.l]){case 65:d.l+=4,ve=op(d);break;case 30:case 31:d.l+=4,ve=M3(d,d[d.l-4]).replace(/\u0000+$/,"");break;case 3:d.l+=4,ve=d.read_shift(4,"i");break;case 19:d.l+=4,ve=d.read_shift(4);break;case 5:d.l+=4,ve=d.read_shift(8,"f");break;case 11:d.l+=4,ve=Li(d,4);break;case 64:d.l+=4,ve=Xe(Gb(d));break;default:throw new Error("unparsed value: "+d[d.l])}fe[Re]=ve}}return d.l=v+_,fe}var B3=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function U3(d,x,v){var _,k,F,I,R=Kt(8),W=[],q=[],Q=8,ce=0,fe=Kt(8),pe=Kt(8);if(fe.write_shift(4,2),fe.write_shift(4,1200),pe.write_shift(4,1),q.push(fe),W.push(pe),Q+=8+fe.length,!x){(pe=Kt(8)).write_shift(4,0),W.unshift(pe);var Ae=[Kt(4)];for(Ae[0].write_shift(4,d.length),ce=0;ce<d.length;++ce){var ve=d[ce][0];for((fe=Kt(8+2*(ve.length+1)+(ve.length%2?0:2))).write_shift(4,ce+2),fe.write_shift(4,ve.length+1),fe.write_shift(0,ve,"dbcs");fe.l!=fe.length;)fe.write_shift(1,0);Ae.push(fe)}fe=re(Ae),q.unshift(fe),Q+=8+fe.length}for(ce=0;ce<d.length;++ce)x&&!x[d[ce][0]]||-1<B3.indexOf(d[ce][0])||-1<hv.indexOf(d[ce][0])||d[ce][1]!=null&&(F=d[ce][1],_=0,fe=x?((I=v[_=+x[d[ce][0]]]).p=="version"&&typeof F=="string"&&(F=(+(k=F.split("."))[0]<<16)+(+k[1]||0)),L3(I.t,F)):((I=function(je){switch(typeof je){case"boolean":return 11;case"number":return(0|je)==je?3:5;case"string":return 31;case"object":if(je instanceof Date)return 64}return-1}(F))==-1&&(I=31,F=String(F)),L3(I,F)),q.push(fe),(pe=Kt(8)).write_shift(4,x?_:2+ce),W.push(pe),Q+=8+fe.length);for(var Re=8*(q.length+1),ce=0;ce<q.length;++ce)W[ce].write_shift(4,Re),Re+=q[ce].length;return R.write_shift(4,Q),R.write_shift(4,q.length),re([R].concat(W).concat(q))}function $3(d,x,v){var _=d.content;if(!_)return{};es(_,0);var k,F=0;_.chk("feff","Byte Order: "),_.read_shift(2);var I=_.read_shift(4),R=_.read_shift(16);if(R!==Ir.utils.consts.HEADER_CLSID&&R!==v)throw new Error("Bad PropertySet CLSID "+R);if((d=_.read_shift(4))!==1&&d!==2)throw new Error("Unrecognized #Sets: "+d);if(v=_.read_shift(16),R=_.read_shift(4),d===1&&R!==_.l)throw new Error("Length mismatch: "+R+" !== "+_.l);d===2&&(k=_.read_shift(16),F=_.read_shift(4));var W,q,Q=Yb(_,x),ce={SystemIdentifier:I};for(W in Q)ce[W]=Q[W];if(ce.FMTID=v,d===1)return ce;if(F-_.l==2&&(_.l+=2),_.l!==F)throw new Error("Length mismatch 2: "+_.l+" !== "+F);try{q=Yb(_,null)}catch{}for(W in q)ce[W]=q[W];return ce.FMTID=[v,k],ce}function z3(d,x,v,_,k,F){var I=Kt(k?68:48),R=[I];return I.write_shift(2,65534),I.write_shift(2,0),I.write_shift(4,842412599),I.write_shift(16,Ir.utils.consts.HEADER_CLSID,"hex"),I.write_shift(4,k?2:1),I.write_shift(16,x,"hex"),I.write_shift(4,k?68:48),_=U3(d,v,_),R.push(_),k&&(k=U3(k,null,null),I.write_shift(16,F,"hex"),I.write_shift(4,68+_.length),R.push(k)),re(R)}function Pc(d,x){return d.read_shift(x),null}function Li(d,x){return d.read_shift(x)===1}function Zs(d,x){return(x=x||Kt(2)).write_shift(2,+!!d),x}function Ro(d){return d.read_shift(2,"u")}function Ou(d,x){return(x=x||Kt(2)).write_shift(2,d),x}function oh(d,x){return function(v,_,k){for(var F=[],I=v.l+_;v.l<I;)F.push(k(v,I-v.l));if(I!==v.l)throw new Error("Slurp error");return F}(d,x,Ro)}function Iu(d,x,v){return(v=v||Kt(2)).write_shift(1,x=="e"?+d:+!!d),v.write_shift(1,x=="e"?1:0),v}function ng(d,x,v){var _=d.read_shift(v&&12<=v.biff?2:1),k="sbcs-cont",F=o;return v&&8<=v.biff&&(o=1200),v&&v.biff!=8?v.biff==12&&(k="wstr"):d.read_shift(1)&&(k="dbcs-cont"),2<=v.biff&&v.biff<=5&&(k="cpstr"),k=_?d.read_shift(_,k):"",o=F,k}function em(d,x,v){if(v){if(2<=v.biff&&v.biff<=5)return d.read_shift(x,"cpstr");if(12<=v.biff)return d.read_shift(x,"dbcs-cont")}return d.read_shift(1)===0?d.read_shift(x,"sbcs-cont"):d.read_shift(x,"dbcs-cont")}function lp(d,x,v){var _=d.read_shift(v&&v.biff==2?1:2);return _===0?(d.l++,""):em(d,_,v)}function e0(d,x,v){if(5<v.biff)return lp(d,0,v);var _=d.read_shift(1);return _===0?(d.l++,""):d.read_shift(_,v.biff<=4||!d.lens?"cpstr":"sbcs-cont")}function Xb(d,x,v){return(v=v||Kt(3+2*d.length)).write_shift(2,d.length),v.write_shift(1,1),v.write_shift(31,d,"utf16le"),v}function V3(d){var x,v,_,k,F=d.read_shift(16);switch(F){case"e0c9ea79f9bace118c8200aa004ba90b":return v=(x=d).read_shift(4),_=x.l,k=!1,24<v&&(x.l+=v-24,x.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(k=!0),x.l=_),v=x.read_shift((k?v-24:v)>>1,"utf16le").replace(ae,""),k&&(x.l+=24),v;case"0303000000000000c000000000000046":return function(I){for(var R=I.read_shift(2),W="";0<R--;)W+="../";var q=I.read_shift(0,"lpstr-ansi");if(I.l+=2,I.read_shift(2)!=57005)throw new Error("Bad FileMoniker");if(I.read_shift(4)===0)return W+q.replace(/\\/g,"/");if(q=I.read_shift(4),I.read_shift(2)!=3)throw new Error("Bad FileMoniker");return W+I.read_shift(q>>1,"utf16le").replace(ae,"")}(d);default:throw new Error("Unsupported Moniker "+F)}}function vv(d){var x=d.read_shift(4);return 0<x?d.read_shift(x,"utf16le").replace(ae,""):""}function ag(d,x){(x=x||Kt(6+2*d.length)).write_shift(4,1+d.length);for(var v=0;v<d.length;++v)x.write_shift(2,d.charCodeAt(v));return x.write_shift(2,0),x}function ig(d){return[d.read_shift(1),d.read_shift(1),d.read_shift(1),d.read_shift(1)]}function cp(d){return d=ig(d),d[3]=0,d}function ad(d){return{r:d.read_shift(2),c:d.read_shift(2),ixfe:d.read_shift(2)}}function t0(d,x,v,_){return(_=_||Kt(6)).write_shift(2,d),_.write_shift(2,x),_.write_shift(2,v||0),_}function W3(d){return[d.read_shift(2),et(d)]}function sg(d){var x=d.read_shift(2),v=d.read_shift(2);return{s:{c:d.read_shift(2),r:x},e:{c:d.read_shift(2),r:v}}}function H3(d,x){return(x=x||Kt(8)).write_shift(2,d.s.r),x.write_shift(2,d.e.r),x.write_shift(2,d.s.c),x.write_shift(2,d.e.c),x}function q3(d){var x=d.read_shift(2),v=d.read_shift(2);return{s:{c:d.read_shift(1),r:x},e:{c:d.read_shift(1),r:v}}}var XT=q3;function G3(d){d.l+=4;var x=d.read_shift(2),v=d.read_shift(2),_=d.read_shift(2);return d.l+=12,[v,x,_]}function sc(d){d.l+=2,d.l+=d.read_shift(2)}var ZT={0:sc,4:sc,5:sc,6:sc,7:function(d){return d.l+=4,d.cf=d.read_shift(2),{}},8:sc,9:sc,10:sc,11:sc,12:sc,13:function(d){var x={};return d.l+=4,d.l+=16,x.fSharedNote=d.read_shift(2),d.l+=4,x},14:sc,15:sc,16:sc,17:sc,18:sc,19:sc,20:sc,21:G3};function og(d,x){var v={BIFFVer:0,dt:0};switch(v.BIFFVer=d.read_shift(2),2<=(x-=2)&&(v.dt=d.read_shift(2),d.l-=2),v.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(6<x)throw new Error("Unexpected BIFF Ver "+v.BIFFVer)}return d.read_shift(x),v}function up(d,x,v){var _=1536,k=16;switch(v.bookType){case"biff8":break;case"biff5":_=1280,k=8;break;case"biff4":_=4,k=6;break;case"biff3":_=3,k=6;break;case"biff2":_=2,k=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}return v=Kt(k),v.write_shift(2,_),v.write_shift(2,x),4<k&&v.write_shift(2,29282),6<k&&v.write_shift(2,1997),8<k&&(v.write_shift(2,49161),v.write_shift(2,1),v.write_shift(2,1798),v.write_shift(2,0)),v}function JT(d){var x=Kt(8);x.write_shift(4,d.Count),x.write_shift(4,d.Unique);for(var v,_,k,F=[],I=0;I<d.length;++I)F[I]=(v=d[I],k=_=void 0,_=v.t||"",(k=Kt(3)).write_shift(2,_.length),k.write_shift(1,1),(v=Kt(2*_.length)).write_shift(2*_.length,_,"utf16le"),re([k,v]));var R=re([x].concat(F));return R.parts=[x.length].concat(F.map(function(W){return W.length})),R}function K3(d,x,v){var _=0;return v&&v.biff==2||(_=d.read_shift(2)),d=d.read_shift(2),v&&v.biff==2&&(_=1-(d>>15),d&=32767),[{Unsynced:1&_,DyZero:(2&_)>>1,ExAsc:(4&_)>>2,ExDsc:(8&_)>>3},d]}var Pv=e0;function Zb(d,F,I){var _=d.l+F,R=I.biff!=8&&I.biff?2:4,k=d.read_shift(R),F=d.read_shift(R),I=d.read_shift(2),R=d.read_shift(2);return d.l=_,{s:{r:k,c:I},e:{r:F,c:R}}}function z(d,x,v,_){return v=v&&v.biff==5,(_=_||Kt(v?16:20)).write_shift(2,0),d.style?(_.write_shift(2,d.numFmtId||0),_.write_shift(2,65524)):(_.write_shift(2,d.numFmtId||0),_.write_shift(2,x<<4)),x=0,0<d.numFmtId&&v&&(x|=1024),_.write_shift(4,x),_.write_shift(4,0),v||_.write_shift(4,0),_.write_shift(2,0),_}function Y(d,x,v){var _=ad(d);return v.biff!=2&&x!=9||++d.l,d=(x=d).read_shift(1),d=x.read_shift(1)===1?d:d===1,_.val=d,_.t=d===!0||d===!1?"b":"e",_}function me(d,x,v){return x===0?"":e0(d,0,v)}function we(d,x,v){var _,k=d.read_shift(2),k={fBuiltIn:1&k,fWantAdvise:k>>>1&1,fWantPict:k>>>2&1,fOle:k>>>3&1,fOleLink:k>>>4&1,cf:k>>>5&1023,fIcon:k>>>15&1};return v.sbcch===14849&&(_=function(F,q,R){F.l+=4,q-=4;var W=F.l+q,q=ng(F,0,R);if((R=F.read_shift(2))!==(W-=F.l))throw new Error("Malformed AddinUdf: padding = "+W+" != "+R);return F.l+=R,q}(d,x-2,v)),k.body=_||d.read_shift(x-2),typeof _=="string"&&(k.Name=_),k}var Oe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Le(d,W,v){var _=d.l+W,k=d.read_shift(2),F=d.read_shift(1),I=d.read_shift(1),R=d.read_shift(v&&v.biff==2?1:2),W=0;return(!v||5<=v.biff)&&(v.biff!=5&&(d.l+=2),W=d.read_shift(2),v.biff==5&&(d.l+=2),d.l+=4),I=em(d,I,v),32&k&&(I=Oe[I.charCodeAt(0)]),k=_-d.l,v&&v.biff==2&&--k,{chKey:F,Name:I,itab:W,rgce:_!=d.l&&R!==0&&0<k?function(q,Ae,ce,ve){var pe,Ae=q.l+Ae,ve=cw(q,ve,ce);return Ae!==q.l&&(pe=lw(q,Ae-q.l,ve,ce)),[ve,pe]}(d,k,v,R):[]}}function $e(d,x,v){if(v.biff<8)return function(R,W){return R[R.l+1]==3&&R[R.l]++,W=ng(R,0,W),W.charCodeAt(0)==3?W.slice(1):W}(d,v);for(var _,k,F=[],x=d.l+x,I=d.read_shift(8<v.biff?4:2);I--!=0;)F.push((_=d,v.biff,k=8<(k=v).biff?4:2,[_.read_shift(k),_.read_shift(k,"i"),_.read_shift(k,"i")]));if(d.l!=x)throw new Error("Bad ExternSheet: "+d.l+" != "+x);return F}function qe(d,x,v){var _=XT(d);switch(v.biff){case 2:d.l++,x-=7;break;case 3:case 4:d.l+=2,x-=8;break;default:d.l+=6,x-=12}return[_,function(k,F,I){var R,W=k.l+F,q=I.biff==2?1:2,Q=k.read_shift(q);if(Q==65535)return[[],gi(k,F-2)];var ce=cw(k,Q,I);return F!==Q+q&&(R=lw(k,F-Q-q,ce,I)),k.l=W,[ce,R]}(d,x,v)]}var Ze={8:function(d,x){var v=d.l+x;d.l+=10;var _=d.read_shift(2);return d.l+=4,d.l+=2,d.l+=2,d.l+=2,d.l+=4,x=d.read_shift(1),d.l+=x,d.l=v,{fmt:_}}};function at(d){var x=Kt(24),v=ci(d[0]);x.write_shift(2,v.r),x.write_shift(2,v.r),x.write_shift(2,v.c),x.write_shift(2,v.c);for(var _="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),k=0;k<16;++k)x.write_shift(1,parseInt(_[k],16));return re([x,function(F){var I=Kt(512),R=0,W=F.Target,q=-1<(F=(W=W.slice(0,7)=="file://"?W.slice(7):W).indexOf("#"))?31:23;switch(W.charAt(0)){case"#":q=28;break;case".":q&=-3}I.write_shift(4,2),I.write_shift(4,q);for(var Q=[8,6815827,6619237,4849780,83],R=0;R<Q.length;++R)I.write_shift(4,Q[R]);if(q==28)ag(W=W.slice(1),I);else if(2&q){for(Q="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),R=0;R<Q.length;++R)I.write_shift(1,parseInt(Q[R],16));var ce=-1<F?W.slice(0,F):W;for(I.write_shift(4,2*(ce.length+1)),R=0;R<ce.length;++R)I.write_shift(2,ce.charCodeAt(R));I.write_shift(2,0),8&q&&ag(-1<F?W.slice(F+1):"",I)}else{for(Q="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),R=0;R<Q.length;++R)I.write_shift(1,parseInt(Q[R],16));for(var fe=0;W.slice(3*fe,3*fe+3)=="../"||W.slice(3*fe,3*fe+3)=="..\\";)++fe;for(I.write_shift(2,fe),I.write_shift(4,W.length-3*fe+1),R=0;R<W.length-3*fe;++R)I.write_shift(1,255&W.charCodeAt(R+3*fe));for(I.write_shift(1,0),I.write_shift(2,65535),I.write_shift(2,57005),R=0;R<6;++R)I.write_shift(4,0)}return I.slice(0,I.l)}(d[1])])}function xt(d,W,v){if(!v.cellStyles)return gi(d,W);var _=v&&12<=v.biff?4:2,k=d.read_shift(_),F=d.read_shift(_),I=d.read_shift(_),R=d.read_shift(_),W=d.read_shift(2);return _==2&&(d.l+=2),R={s:k,e:F,w:I,ixfe:R,flags:W},(5<=v.biff||!v.biff)&&(R.level=W>>8&7),R}var Mt=ad,it=oh,k8=lp,bt,Et,Qt,Dt=[2,3,48,49,131,139,140,245],rr=(bt={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},Et=Vn({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127}),Qt={B:8,C:250,L:1,D:8,"?":0,"":0},{to_workbook:function(d,x){try{return xl(ur(d,x),x)}catch(v){if(x&&x.WTF)throw v}return{SheetNames:[],Sheets:{}}},to_sheet:ur,from_sheet:function(d,x){if(0<=+(x=x||{}).codepage&&h(+x.codepage),x.type=="string")throw new Error("Cannot write DBF to JS string");for(var v=Os(),_=(x=pN(d,{header:1,raw:!0,cellDates:!0}))[0],k=x.slice(1),F=d["!cols"]||[],q=0,I=0,R=0,W=1,q=0;q<_.length;++q)if(((F[q]||{}).DBF||{}).name)_[q]=F[q].DBF.name,++R;else if(_[q]!=null){if(++R,typeof _[q]=="number"&&(_[q]=_[q].toString(10)),typeof _[q]!="string")throw new Error("DBF Invalid column name "+_[q]+" |"+typeof _[q]+"|");if(_.indexOf(_[q])!==q){for(I=0;I<1024;++I)if(_.indexOf(_[q]+"_"+I)==-1){_[q]+="_"+I;break}}}var Q=La(d["!ref"]),ce=[],fe=[],pe=[];for(q=0;q<=Q.e.c-Q.s.c;++q){for(var Ae="",ve="",Re=0,je=[],I=0;I<k.length;++I)k[I][q]!=null&&je.push(k[I][q]);if(je.length!=0&&_[q]!=null){for(I=0;I<je.length;++I){switch(typeof je[I]){case"number":ve="B";break;case"string":ve="C";break;case"boolean":ve="L";break;case"object":ve=je[I]instanceof Date?"D":"C";break;default:ve="C"}Re=Math.max(Re,String(je[I]).length),Ae=Ae&&Ae!=ve?"C":ve}250<Re&&(Re=250),(ve=((F[q]||{}).DBF||{}).type)=="C"&&F[q].DBF.len>Re&&(Re=F[q].DBF.len),Ae=="B"&&ve=="N"&&(Ae="N",pe[q]=F[q].DBF.dec,Re=F[q].DBF.len),fe[q]=Ae=="C"||ve=="N"?Re:Qt[Ae]||0,W+=fe[q],ce[q]=Ae}else ce[q]="?"}var _e,Fe,We=v.next(32);for(We.write_shift(4,318902576),We.write_shift(4,k.length),We.write_shift(2,296+32*R),We.write_shift(2,W),q=0;q<4;++q)We.write_shift(4,0);for(We.write_shift(4,0|(+Et[l]||3)<<8),I=q=0;q<_.length;++q)_[q]!=null&&(_e=v.next(32),Fe=(_[q].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11),_e.write_shift(1,Fe,"sbcs"),_e.write_shift(1,ce[q]=="?"?"C":ce[q],"sbcs"),_e.write_shift(4,I),_e.write_shift(1,fe[q]||Qt[ce[q]]||0),_e.write_shift(1,pe[q]||0),_e.write_shift(1,2),_e.write_shift(4,0),_e.write_shift(1,0),_e.write_shift(4,0),_e.write_shift(4,0),I+=fe[q]||Qt[ce[q]]||0);var He=v.next(264);for(He.write_shift(4,13),q=0;q<65;++q)He.write_shift(4,0);for(q=0;q<k.length;++q){var mt=v.next(W);for(mt.write_shift(1,0),I=0;I<_.length;++I)if(_[I]!=null)switch(ce[I]){case"L":mt.write_shift(1,k[q][I]==null?63:k[q][I]?84:70);break;case"B":mt.write_shift(8,k[q][I]||0,"f");break;case"N":var At="0";for(typeof k[q][I]=="number"&&(At=k[q][I].toFixed(pe[I]||0)),R=0;R<fe[I]-At.length;++R)mt.write_shift(1,32);mt.write_shift(1,At,"sbcs");break;case"D":k[q][I]?(mt.write_shift(4,("0000"+k[q][I].getFullYear()).slice(-4),"sbcs"),mt.write_shift(2,("00"+(k[q][I].getMonth()+1)).slice(-2),"sbcs"),mt.write_shift(2,("00"+k[q][I].getDate()).slice(-2),"sbcs")):mt.write_shift(8,"00000000","sbcs");break;case"C":var vt=String(k[q][I]!=null?k[q][I]:"").slice(0,fe[I]);for(mt.write_shift(1,vt,"sbcs"),R=0;R<fe[I]-vt.length;++R)mt.write_shift(1,32)}}return v.next(1).write_shift(1,26),v.end()}});function ur(d,x){return x=x||{},x.dateNF||(x.dateNF="yyyymmdd"),d=Fo(function(v,_){var k=[],F=L(1);switch(_.type){case"base64":F=U(O(v));break;case"binary":F=U(v);break;case"buffer":case"array":F=v}es(F,0);var I=F.read_shift(1),R=!!(136&I),W=!1,q=!1;switch(I){case 2:case 3:break;case 48:case 49:R=W=!0;break;case 131:case 139:break;case 140:q=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+I.toString(16))}var Q=0,ce=521;I==2&&(Q=F.read_shift(2)),F.l+=3,1048576<(Q=I!=2?F.read_shift(4):Q)&&(Q=1e6),I!=2&&(ce=F.read_shift(2));var fe=F.read_shift(2),pe=_.codepage||1252;I!=2&&(F.l+=16,F.read_shift(1),F[F.l]!==0&&(pe=bt[F[F.l]]),F.l+=1,F.l+=2),q&&(F.l+=36);for(var Ae=[],ve={},Re=Math.min(F.length,I==2?521:ce-10-(W?264:0)),je=q?32:11;F.l<Re&&F[F.l]!=13;)switch((ve={}).name=i.utils.decode(pe,F.slice(F.l,F.l+je)).replace(/[\u0000\r\n].*$/g,""),F.l+=je,ve.type=String.fromCharCode(F.read_shift(1)),I==2||q||(ve.offset=F.read_shift(4)),ve.len=F.read_shift(1),I==2&&(ve.offset=F.read_shift(2)),ve.dec=F.read_shift(1),ve.name.length&&Ae.push(ve),I!=2&&(F.l+=q?13:14),ve.type){case"B":W&&ve.len==8||!_.WTF||console.log("Skipping "+ve.name+":"+ve.type);break;case"G":case"P":_.WTF&&console.log("Skipping "+ve.name+":"+ve.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+ve.type)}if(F[F.l]!==13&&(F.l=ce-1),F.read_shift(1)!==13)throw new Error("DBF Terminator not found "+F.l+" "+F[F.l]);F.l=ce;var _e=0,Fe=0;for(k[0]=[],Fe=0;Fe!=Ae.length;++Fe)k[0][Fe]=Ae[Fe].name;for(;0<Q--;)if(F[F.l]!==42)for(++F.l,k[++_e]=[],Fe=Fe=0;Fe!=Ae.length;++Fe){var We=F.slice(F.l,F.l+Ae[Fe].len);F.l+=Ae[Fe].len,es(We,0);var He=i.utils.decode(pe,We);switch(Ae[Fe].type){case"C":He.trim().length&&(k[_e][Fe]=He.replace(/\s+$/,""));break;case"D":He.length===8?k[_e][Fe]=new Date(+He.slice(0,4),+He.slice(4,6)-1,+He.slice(6,8)):k[_e][Fe]=He;break;case"F":k[_e][Fe]=parseFloat(He.trim());break;case"+":case"I":k[_e][Fe]=q?2147483648^We.read_shift(-4,"i"):We.read_shift(4,"i");break;case"L":switch(He.trim().toUpperCase()){case"Y":case"T":k[_e][Fe]=!0;break;case"N":case"F":k[_e][Fe]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+He+"|")}break;case"M":if(!R)throw new Error("DBF Unexpected MEMO for type "+I.toString(16));k[_e][Fe]="##MEMO##"+(q?parseInt(He.trim(),10):We.read_shift(4));break;case"N":(He=He.replace(/\u0000/g,"").trim())&&He!="."&&(k[_e][Fe]=+He||0);break;case"@":k[_e][Fe]=new Date(We.read_shift(-8,"f")-621356832e5);break;case"T":k[_e][Fe]=new Date(864e5*(We.read_shift(4)-2440588)+We.read_shift(4));break;case"Y":k[_e][Fe]=We.read_shift(4,"i")/1e4+We.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":k[_e][Fe]=-We.read_shift(-8,"f");break;case"B":if(W&&Ae[Fe].len==8){k[_e][Fe]=We.read_shift(8,"f");break}case"G":case"P":We.l+=Ae[Fe].len;break;case"0":if(Ae[Fe].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+Ae[Fe].type)}}else F.l+=fe;if(I!=2&&F.l<F.length&&F[F.l++]!=26)throw new Error("DBF EOF Marker missing "+(F.l-1)+" of "+F.length+" "+F[F.l-1].toString(16));return _&&_.sheetRows&&(k=k.slice(0,_.sheetRows)),_.DBF=Ae,k}(d,x),x),d["!cols"]=x.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete x.DBF,d}var _r,gr,Xn,_n,qa=(_r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},gr=new RegExp("\x1BN("+Na(_r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),Xn=function(d,x){return x=_r[x],typeof x=="number"?C(x):x},_n=function(d,x,v){return v=x.charCodeAt(0)-32<<4|v.charCodeAt(0)-48,v==59?d:C(v)},_r["|"]=254,{to_workbook:function(d,x){return xl(ui(d,x),x)},to_sheet:ui,from_sheet:function(d,x){var v,_,k=["ID;PWXL;N;E"],F=[],I=La(d["!ref"]),R=Array.isArray(d),W=`\r
`;k.push("P;PGeneral"),k.push("F;P0;DG0G8;M255"),d["!cols"]&&(v=k,d["!cols"].forEach(function(fe,pe){pe="F;W"+(pe+1)+" "+(pe+1)+" ",fe.hidden?pe+="0":(typeof fe.width!="number"||fe.wpx||(fe.wpx=hp(fe.width)),typeof fe.wpx!="number"||fe.wch||(fe.wch=fg(fe.wpx)),typeof fe.wch=="number"&&(pe+=Math.round(fe.wch))),pe.charAt(pe.length-1)!=" "&&v.push(pe)})),d["!rows"]&&(_=k,d["!rows"].forEach(function(fe,pe){var Ae="F;";fe.hidden?Ae+="M0;":fe.hpt?Ae+="M"+20*fe.hpt+";":fe.hpx&&(Ae+="M"+20*aw(fe.hpx)+";"),2<Ae.length&&_.push(Ae+"R"+(pe+1))})),k.push("B;Y"+(I.e.r-I.s.r+1)+";X"+(I.e.c-I.s.c+1)+";D"+[I.s.c,I.s.r,I.e.c,I.e.r].join(" "));for(var q=I.s.r;q<=I.e.r;++q)for(var Q=I.s.c;Q<=I.e.c;++Q){var ce=wn({r:q,c:Q});(ce=R?(d[q]||[])[Q]:d[ce])&&(ce.v!=null||ce.f&&!ce.F)&&F.push(function(fe,pe,Ae){var ve="C;Y"+(pe+1)+";X"+(Ae+1)+";K";switch(fe.t){case"n":ve+=fe.v||0,fe.f&&!fe.F&&(ve+=";E"+o8(fe.f,{r:pe,c:Ae}));break;case"b":ve+=fe.v?"TRUE":"FALSE";break;case"e":ve+=fe.w||fe.v;break;case"d":ve+='"'+(fe.w||fe.v)+'"';break;case"s":ve+='"'+fe.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return ve}(ce,q,Q))}return k.join(W)+W+F.join(W)+W+"E"+W}});function Pn(fe,x){var v,_,k=fe.split(/[\n\r]+/),F=-1,I=-1,R=0,W=0,q=[],Q=[],ce=null,fe={},pe=[],Ae=[],ve=0;for(0<=+x.codepage&&h(+x.codepage);R!==k.length;++R){ve=0;var Re,je=k[R].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,_n).replace(gr,Xn),_e=je.replace(/;;/g,"\0").split(";").map(function(Cr){return Cr.replace(/\u0000/g,";")}),Fe=_e[0];if(0<je.length)switch(Fe){case"ID":case"E":case"B":case"O":case"W":break;case"P":_e[1].charAt(0)=="P"&&Q.push(je.slice(3).replace(/;;/g,";"));break;case"C":for(var We=!1,He=!1,mt=!1,At=!1,vt=-1,Bt=-1,W=1;W<_e.length;++W)switch(_e[W].charAt(0)){case"A":break;case"X":I=parseInt(_e[W].slice(1))-1,He=!0;break;case"Y":for(F=parseInt(_e[W].slice(1))-1,He||(I=0),_=q.length;_<=F;++_)q[_]=[];break;case"K":(Re=_e[W].slice(1)).charAt(0)==='"'?Re=Re.slice(1,Re.length-1):Re==="TRUE"?Re=!0:Re==="FALSE"?Re=!1:isNaN(St(Re))?isNaN(It(Re).getDate())||(Re=Xe(Re)):(Re=St(Re),ce!==null&&ca(ce)&&(Re=Ie(Re))),i!==void 0&&typeof Re=="string"&&(x||{}).type!="string"&&(x||{}).codepage&&(Re=i.utils.decode(x.codepage,Re)),We=!0;break;case"E":At=!0;var dr=jv(_e[W].slice(1),{r:F,c:I});q[F][I]=[q[F][I],dr];break;case"S":mt=!0,q[F][I]=[q[F][I],"S5S"];break;case"G":break;case"R":vt=parseInt(_e[W].slice(1))-1;break;case"C":Bt=parseInt(_e[W].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+je)}if(We&&(q[F][I]&&q[F][I].length==2?q[F][I][0]=Re:q[F][I]=Re,ce=null),mt){if(At)throw new Error("SYLK shared formula cannot have own formula");var fr=-1<vt&&q[vt][Bt];if(!fr||!fr[1])throw new Error("SYLK shared formula cannot find base");q[F][I][1]=YB(fr[1],{r:F-vt,c:I-Bt})}break;case"F":var Wt=0;for(W=1;W<_e.length;++W)switch(_e[W].charAt(0)){case"X":I=parseInt(_e[W].slice(1))-1,++Wt;break;case"Y":for(F=parseInt(_e[W].slice(1))-1,_=q.length;_<=F;++_)q[_]=[];break;case"M":ve=parseInt(_e[W].slice(1))/20;break;case"F":case"G":break;case"P":ce=Q[parseInt(_e[W].slice(1))];break;case"S":case"D":case"N":break;case"W":for(v=_e[W].slice(1).split(" "),_=parseInt(v[0],10);_<=parseInt(v[1],10);++_)ve=parseInt(v[2],10),Ae[_-1]=ve===0?{hidden:!0}:{wch:ve},pp(Ae[_-1]);break;case"C":Ae[I=parseInt(_e[W].slice(1))-1]||(Ae[I]={});break;case"R":pe[F=parseInt(_e[W].slice(1))-1]||(pe[F]={}),0<ve?(pe[F].hpt=ve,pe[F].hpx=Av(ve)):ve===0&&(pe[F].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+je)}Wt<1&&(ce=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+je)}}return 0<pe.length&&(fe["!rows"]=pe),0<Ae.length&&(fe["!cols"]=Ae),[q=x&&x.sheetRows?q.slice(0,x.sheetRows):q,fe]}function ui(_,x){var v=function(I,R){switch(R.type){case"base64":return Pn(O(I),R);case"binary":return Pn(I,R);case"buffer":return Pn(M&&Buffer.isBuffer(I)?I.toString("binary"):K(I),R);case"array":return Pn(nt(I),R)}throw new Error("Unrecognized type "+R.type)}(_,x),_=v[0],k=v[1],F=Fo(_,x);return Na(k).forEach(function(I){F[I]=k[I]}),F}var Mo={to_workbook:function(d,x){return xl(Rn(d,x),x)},to_sheet:Rn,from_sheet:function(d){var x=[],v=La(d["!ref"]),_=Array.isArray(d);Yr(x,"TABLE",0,1,"sheetjs"),Yr(x,"VECTORS",0,v.e.r-v.s.r+1,""),Yr(x,"TUPLES",0,v.e.c-v.s.c+1,""),Yr(x,"DATA",0,0,"");for(var k=v.s.r;k<=v.e.r;++k){Wi(x,-1,0,"BOT");for(var F=v.s.c;F<=v.e.c;++F){var I,R=wn({r:k,c:F});if(I=_?(d[k]||[])[F]:d[R])switch(I.t){case"n":var W=I.w;(W=!W&&I.v!=null?I.v:W)==null?I.f&&!I.F?Wi(x,1,0,"="+I.f):Wi(x,1,0,""):Wi(x,0,W,"V");break;case"b":Wi(x,0,I.v?1:0,I.v?"TRUE":"FALSE");break;case"s":Wi(x,1,0,isNaN(I.v)?I.v:'="'+I.v+'"');break;case"d":I.w||(I.w=ln(I.z||te[14],Va(Xe(I.v)))),Wi(x,0,I.w,"V");break;default:Wi(x,1,0,"")}else Wi(x,1,0,"")}}return Wi(x,-1,0,"EOD"),x.join(`\r
`)}};function Ba(d,x){for(var v=d.split(`
`),_=-1,k=-1,F=0,I=[];F!==v.length;++F)if(v[F].trim()!=="BOT"){if(!(_<0)){for(var R=v[F].trim().split(","),W=R[0],q=R[1],Q=v[++F]||"";1&(Q.match(/["]/g)||[]).length&&F<v.length-1;)Q+=`
`+v[++F];switch(Q=Q.trim(),+W){case-1:if(Q==="BOT"){I[++_]=[],k=0;continue}if(Q!=="EOD")throw new Error("Unrecognized DIF special command "+Q);break;case 0:Q==="TRUE"?I[_][k]=!0:Q==="FALSE"?I[_][k]=!1:isNaN(St(q))?isNaN(It(q).getDate())?I[_][k]=q:I[_][k]=Xe(q):I[_][k]=St(q),++k;break;case 1:Q=(Q=Q.slice(1,Q.length-1)).replace(/""/g,'"'),Q&&Q.match(/^=".*"$/)&&(Q=Q.slice(2,-1)),I[_][k++]=Q!==""?Q:null}if(Q==="EOD")break}}else I[++_]=[],k=0;return I=x&&x.sheetRows?I.slice(0,x.sheetRows):I}function Rn(d,x){return Fo(function(v,_){switch(_.type){case"base64":return Ba(O(v),_);case"binary":return Ba(v,_);case"buffer":return Ba(M&&Buffer.isBuffer(v)?v.toString("binary"):K(v),_);case"array":return Ba(nt(v),_)}throw new Error("Unrecognized type "+_.type)}(d,x),x)}function Yr(d,x,v,_,k){d.push(x),d.push(v+","+_),d.push('"'+k.replace(/"/g,'""')+'"')}function Wi(d,x,v,_){d.push(x+","+v),d.push(x==1?'"'+_.replace(/"/g,'""')+'"':_)}var Ua,di,Cs,yl,oc=(Ua=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),di=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,Cs=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),yl="--SocialCalcSpreadsheetControlSave--",{to_workbook:function(d,x){return xl(Ll(d,x),x)},to_sheet:Ll,from_sheet:function(d){return[Ua,di,Cs,di,function(x){if(!x||!x["!ref"])return"";for(var v,_,k=[],F=[],I=_o(x["!ref"]),R=Array.isArray(x),W=I.s.r;W<=I.e.r;++W)for(var q=I.s.c;q<=I.e.c;++q)if(_=wn({r:W,c:q}),(v=R?(x[W]||[])[q]:x[_])&&v.v!=null&&v.t!=="z"){switch(F=["cell",_,"t"],v.t){case"s":case"str":F.push(Ls(v.v));break;case"n":v.f?(F[2]="vtf",F[3]="n",F[4]=v.v,F[5]=Ls(v.f)):(F[2]="v",F[3]=v.v);break;case"b":F[2]="vt"+(v.f?"f":"c"),F[3]="nl",F[4]=v.v?"1":"0",F[5]=Ls(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var Q=Va(Xe(v.v));F[2]="vtc",F[3]="nd",F[4]=""+Q,F[5]=v.w||ln(v.z||te[14],Q);break;case"e":continue}k.push(F.join(":"))}return k.push("sheet:c:"+(I.e.c-I.s.c+1)+":r:"+(I.e.r-I.s.r+1)+":tvf:1"),k.push("valueformat:1:text-wiki"),k.join(`
`)}(d),yl].join(`
`)}});function Ls(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function Ll(d,x){return Fo(function(v,_){for(var k,F=v.split(`
`),I=-1,R=0,W=[];R!==F.length;++R){var q=F[R].trim().split(":");if(q[0]==="cell"){var Q=ci(q[1]);if(W.length<=Q.r)for(I=W.length;I<=Q.r;++I)W[I]||(W[I]=[]);switch(I=Q.r,k=Q.c,q[2]){case"t":W[I][k]=q[3].replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`);break;case"v":W[I][k]=+q[3];break;case"vtf":var ce=q[q.length-1];case"vtc":q[3]==="nl"?W[I][k]=!!+q[4]:W[I][k]=+q[4],q[2]=="vtf"&&(W[I][k]=[W[I][k],ce])}}}return W=_&&_.sheetRows?W.slice(0,_.sheetRows):W}(d,x),x)}var Bl,uo,oi=(Bl={44:",",9:"	",59:";",124:"|"},uo={44:3,9:2,59:1,124:0},{to_workbook:function(d,x){return xl(id(d,x),x)},to_sheet:id,from_sheet:function(d){for(var x=[],v=La(d["!ref"]),_=Array.isArray(d),k=v.s.r;k<=v.e.r;++k){for(var F=[],I=v.s.c;I<=v.e.c;++I){var R=wn({r:k,c:I});if((R=_?(d[k]||[])[I]:d[R])&&R.v!=null){for(var W=(R.w||(ic(R),R.w)||"").slice(0,10);W.length<10;)W+=" ";F.push(W+(I===0?" ":""))}else F.push("          ")}x.push(F.join(""))}return x.join(`
`)}});function Hi(d,x,v,_,k){k.raw?x[v][_]=d:d===""||(d==="TRUE"?x[v][_]=!0:d==="FALSE"?x[v][_]=!1:isNaN(St(d))?isNaN(It(d).getDate())?x[v][_]=d:x[v][_]=Xe(d):x[v][_]=St(d))}function Js(d){for(var x={},v=!1,_=0,k=0;_<d.length;++_)(k=d.charCodeAt(_))==34?v=!v:!v&&k in Bl&&(x[k]=(x[k]||0)+1);for(_ in k=[],x)Object.prototype.hasOwnProperty.call(x,_)&&k.push([x[_],_]);if(!k.length)for(_ in x=uo)Object.prototype.hasOwnProperty.call(x,_)&&k.push([x[_],_]);return k.sort(function(F,I){return F[0]-I[0]||uo[F[1]]-uo[I[1]]}),Bl[k.pop()[1]]||44}function rs(d,_){var v=_||{},_="",k=v.dense?[]:{},F={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(_=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(_=d.charAt(4),d=d.slice(6)):_=Js(d.slice(0,1024)):_=v&&v.FS?v.FS:Js(d.slice(0,1024));var I=0,R=0,W=0,q=0,Q=0,ce=_.charCodeAt(0),fe=!1,pe=0,Ae=d.charCodeAt(0);d=d.replace(/\r\n/gm,`
`);var ve=v.dateNF!=null?(_=(_=typeof(_=v.dateNF)=="number"?te[_]:_).replace(Yn,"(\\d+)"),new RegExp("^"+_+"$")):null;function Re(){var je,_e=d.slice(q,Q),Fe={};if((_e=_e.charAt(0)=='"'&&_e.charAt(_e.length-1)=='"'?_e.slice(1,-1).replace(/""/g,'"'):_e).length===0?Fe.t="z":v.raw||_e.trim().length===0?(Fe.t="s",Fe.v=_e):_e.charCodeAt(0)==61?_e.charCodeAt(1)==34&&_e.charCodeAt(_e.length-1)==34?(Fe.t="s",Fe.v=_e.slice(2,-1).replace(/""/g,'"')):_e.length!=1?(Fe.t="n",Fe.f=_e.slice(1)):(Fe.t="s",Fe.v=_e):_e=="TRUE"?(Fe.t="b",Fe.v=!0):_e=="FALSE"?(Fe.t="b",Fe.v=!1):isNaN(W=St(_e))?!isNaN(It(_e).getDate())||ve&&_e.match(ve)?(Fe.z=v.dateNF||te[14],je=0,ve&&_e.match(ve)&&(_e=function(We,He){var mt=-1,At=-1,vt=-1,Bt=-1,dr=-1,fr=-1;(We.match(Yn)||[]).forEach(function(Cr,cn){var Qr=parseInt(He[cn+1],10);switch(Cr.toLowerCase().charAt(0)){case"y":mt=Qr;break;case"d":vt=Qr;break;case"h":Bt=Qr;break;case"s":fr=Qr;break;case"m":0<=Bt?dr=Qr:At=Qr}}),0<=fr&&dr==-1&&0<=At&&(dr=At,At=-1);var Wt=(""+(0<=mt?mt:new Date().getFullYear())).slice(-4)+"-"+("00"+(1<=At?At:1)).slice(-2)+"-"+("00"+(1<=vt?vt:1)).slice(-2);return(Wt=Wt.length==7?"0"+Wt:Wt).length==8&&(Wt="20"+Wt),We=("00"+(0<=Bt?Bt:0)).slice(-2)+":"+("00"+(0<=dr?dr:0)).slice(-2)+":"+("00"+(0<=fr?fr:0)).slice(-2),Bt==-1&&dr==-1&&fr==-1?Wt:mt==-1&&At==-1&&vt==-1?We:Wt+"T"+We}(v.dateNF,_e.match(ve)||[]),je=1),v.cellDates?(Fe.t="d",Fe.v=Xe(_e,je)):(Fe.t="n",Fe.v=Va(Xe(_e,je))),v.cellText!==!1&&(Fe.w=ln(Fe.z,Fe.v instanceof Date?Va(Fe.v):Fe.v)),v.cellNF||delete Fe.z):(Fe.t="s",Fe.v=_e):(!(Fe.t="n")!==v.cellText&&(Fe.w=_e),Fe.v=W),Fe.t=="z"||(v.dense?(k[I]||(k[I]=[]),k[I][R]=Fe):k[wn({c:R,r:I})]=Fe),q=Q+1,Ae=d.charCodeAt(q),F.e.c<R&&(F.e.c=R),F.e.r<I&&(F.e.r=I),pe!=ce)return R=0,++I,v.sheetRows&&v.sheetRows<=I?1:void 0;++R}e:for(;Q<d.length;++Q)switch(pe=d.charCodeAt(Q)){case 34:Ae===34&&(fe=!fe);break;case ce:case 10:case 13:if(!fe&&Re())break e}return 0<Q-q&&Re(),k["!ref"]=kn(F),k}function Ul(d,x){return!x||!x.PRN||x.FS||d.slice(0,4)=="sep="||0<=d.indexOf("	")||0<=d.indexOf(",")||0<=d.indexOf(";")?rs(d,x):Fo(function(v,_){var k=_||{},F=[];if(!v||v.length===0)return F;for(var I=v.split(/[\r\n]/),R=I.length-1;0<=R&&I[R].length===0;)--R;for(var W=10,q=0,Q=0;Q<=R;++Q)(q=I[Q].indexOf(" "))==-1?q=I[Q].length:q++,W=Math.max(W,q);for(Q=0;Q<=R;++Q){F[Q]=[];var ce=0;for(Hi(I[Q].slice(0,W).trim(),F,Q,ce,k),ce=1;ce<=(I[Q].length-W)/10+1;++ce)Hi(I[Q].slice(W+10*(ce-1),W+10*ce).trim(),F,Q,ce,k)}return F=k.sheetRows?F.slice(0,k.sheetRows):F}(d,x),x)}function id(d,x){var v="",_=x.type=="string"?[0,0,0,0]:N8(d,x);switch(x.type){case"base64":v=O(d);break;case"binary":v=d;break;case"buffer":v=x.codepage==65001?d.toString("utf8"):x.codepage&&i!==void 0?i.utils.decode(x.codepage,d):M&&Buffer.isBuffer(d)?d.toString("binary"):K(d);break;case"array":v=nt(d);break;case"string":v=d;break;default:throw new Error("Unrecognized type "+x.type)}return _[0]==239&&_[1]==187&&_[2]==191?v=wi(v.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?v=wi(v):x.type=="binary"&&i!==void 0&&x.codepage&&(v=i.utils.decode(x.codepage,i.utils.encode(28591,v))),v.slice(0,19)=="socialcalc:version:"?oc.to_sheet(x.type=="string"?v:wi(v),x):Ul(v,x)}var Bs,lc,ns,Lo,il=(Bs={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},lc=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""],ns={0:{n:"BOF",f:Ro},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(d,x,v){var _={s:{c:0,r:0},e:{c:0,r:0}};return x==8&&v.qpro?(_.s.c=d.read_shift(1),d.l++,_.s.r=d.read_shift(2),_.e.c=d.read_shift(1),d.l++,_.e.r=d.read_shift(2)):(_.s.c=d.read_shift(2),_.s.r=d.read_shift(2),x==12&&v.qpro&&(d.l+=2),_.e.c=d.read_shift(2),_.e.r=d.read_shift(2),x==12&&v.qpro&&(d.l+=2),_.s.c==65535&&(_.s.c=_.e.c=_.s.r=_.e.r=0)),_}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(d,x,v){return(v=uc(d,0,v))[1].v=d.read_shift(2,"i"),v}},14:{n:"NUMBER",f:function(d,x,v){return(v=uc(d,0,v))[1].v=d.read_shift(8,"f"),v}},15:{n:"LABEL",f:Ic},16:{n:"FORMULA",f:function(d,x,v){var _=d.l+x;return(x=uc(d,0,v))[1].v=d.read_shift(8,"f"),v.qpro?d.l=_:(_=d.read_shift(2),function(k,F){es(k,0);for(var I=[],R=0,W="",q="",Q="",ce="";k.l<k.length;){var fe=k[k.l++];switch(fe){case 0:I.push(k.read_shift(8,"f"));break;case 1:q=bl(F[0].c,k.read_shift(2),!0),W=bl(F[0].r,k.read_shift(2),!1),I.push(q+W);break;case 2:var pe=bl(F[0].c,k.read_shift(2),!0),Ae=bl(F[0].r,k.read_shift(2),!1);q=bl(F[0].c,k.read_shift(2),!0),W=bl(F[0].r,k.read_shift(2),!1),I.push(pe+Ae+":"+q+W);break;case 3:if(k.l<k.length)return console.error("WK1 premature formula end");break;case 4:I.push("("+I.pop()+")");break;case 5:I.push(k.read_shift(2));break;case 6:for(var ve="";fe=k[k.l++];)ve+=String.fromCharCode(fe);I.push('"'+ve.replace(/"/g,'""')+'"');break;case 8:I.push("-"+I.pop());break;case 23:I.push("+"+I.pop());break;case 22:I.push("NOT("+I.pop()+")");break;case 20:case 21:ce=I.pop(),Q=I.pop(),I.push(["AND","OR"][fe-20]+"("+Q+","+ce+")");break;default:if(fe<32&&lc[fe])ce=I.pop(),Q=I.pop(),I.push(Q+lc[fe]+ce);else{if(!Bs[fe])return fe<=7?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=24?console.error("WK1 unsupported op "+fe.toString(16)):fe<=30?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=115?console.error("WK1 unsupported function opcode "+fe.toString(16)):console.error("WK1 unrecognized opcode "+fe.toString(16));if((R=(R=Bs[fe][1])==69?k[k.l++]:R)>I.length)return console.error("WK1 bad formula parse 0x"+fe.toString(16)+":|"+I.join("|")+"|");Ae=I.slice(-R),I.length-=R,I.push(Bs[fe][0]+"("+Ae.join(",")+")")}}}I.length==1?F[1].f=""+I[0]:console.error("WK1 bad formula parse |"+I.join("|")+"|")}(d.slice(d.l,d.l+_),x),d.l+=_),x}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:Ic},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:r0},222:{n:"SHEETNAMELP",f:function(d,x){var v=d[d.l++];x-1<v&&(v=x-1);for(var _="";_.length<v;)_+=String.fromCharCode(d[d.l++]);return _}},65535:{n:""}},Lo={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(d,x){var v=qi(d);return v[1].t="s",v[1].v=d.read_shift(x-4,"cstr"),v}},23:{n:"NUMBER17",f:nu},24:{n:"NUMBER18",f:function(d,x){var v=qi(d);v[1].v=d.read_shift(2);var _=v[1].v>>1;if(1&v[1].v)switch(7&_){case 0:_=5e3*(_>>3);break;case 1:_=500*(_>>3);break;case 2:_=(_>>3)/20;break;case 3:_=(_>>3)/200;break;case 4:_=(_>>3)/2e3;break;case 5:_=(_>>3)/2e4;break;case 6:_=(_>>3)/16;break;case 7:_=(_>>3)/64}return v[1].v=_,v}},25:{n:"FORMULA19",f:function(d,x){var v=nu(d);return d.l+=x-14,v}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(d,x){for(var v={},_=d.l+x;d.l<_;){var k=d.read_shift(2);if(k==14e3){for(v[k]=[0,""],v[k][0]=d.read_shift(2);d[d.l];)v[k][1]+=String.fromCharCode(d[d.l]),d.l++;d.l++}}return v}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(_,x){var v=qi(_),_=_.read_shift(4);return v[1].v=_>>6,v}},38:{n:"??"},39:{n:"NUMBER27",f:sd},40:{n:"FORMULA28",f:function(d,x){var v=sd(d);return d.l+=x-10,v}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:r0},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(d,x,v){if(v.qpro&&!(x<21))return v=d.read_shift(1),d.l+=17,d.l+=1,d.l+=2,[v,d.read_shift(x-21,"cstr")]}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},{sheet_to_wk1:function(d,x){var v=x||{};if(0<=+v.codepage&&h(+v.codepage),v.type=="string")throw new Error("Cannot write WK1 to JS string");var _=Os(),k=La(d["!ref"]),F=Array.isArray(d),I=[];Xr(_,0,(x=1030,(v=Kt(2)).write_shift(2,x),v)),Xr(_,6,(x=k,(v=Kt(8)).write_shift(2,x.s.c),v.write_shift(2,x.s.r),v.write_shift(2,x.e.c),v.write_shift(2,x.e.r),v));for(var R,W,q,Q,ce=Math.min(k.e.r,8191),fe=k.s.r;fe<=ce;++fe)for(var pe=Oi(fe),Ae=k.s.c;Ae<=k.e.c;++Ae){fe===k.s.r&&(I[Ae]=Ca(Ae));var ve=I[Ae]+pe,ve=F?(d[fe]||[])[Ae]:d[ve];ve&&ve.t!="z"&&(ve.t=="n"?(0|ve.v)==ve.v&&-32768<=ve.v&&ve.v<=32767?Xr(_,13,(R=fe,W=Ae,q=ve.v,Q=void 0,(Q=Kt(7)).write_shift(1,255),Q.write_shift(2,W),Q.write_shift(2,R),Q.write_shift(2,q,"i"),Q)):Xr(_,14,(W=fe,R=Ae,q=ve.v,Q=void 0,(Q=Kt(13)).write_shift(1,255),Q.write_shift(2,R),Q.write_shift(2,W),Q.write_shift(8,q,"f"),Q)):Xr(_,15,function(Re,je,_e){var Fe=Kt(7+_e.length);Fe.write_shift(1,255),Fe.write_shift(2,je),Fe.write_shift(2,Re),Fe.write_shift(1,39);for(var We=0;We<Fe.length;++We){var He=_e.charCodeAt(We);Fe.write_shift(1,128<=He?95:He)}return Fe.write_shift(1,0),Fe}(fe,Ae,ic(ve).slice(0,239))))}return Xr(_,1),_.end()},book_to_wk3:function(d,x){if(0<=+(x=x||{}).codepage&&h(+x.codepage),x.type=="string")throw new Error("Cannot write WK3 to JS string");var v=Os();Xr(v,0,function(ve){var Re=Kt(26);Re.write_shift(2,4096),Re.write_shift(2,4),Re.write_shift(4,0);for(var je=0,_e=0,Fe=0,We=0;We<ve.SheetNames.length;++We){var He=ve.SheetNames[We],He=ve.Sheets[He];He&&He["!ref"]&&(++Fe,He=_o(He["!ref"]),je<He.e.r&&(je=He.e.r),_e<He.e.c&&(_e=He.e.c))}return 8191<je&&(je=8191),Re.write_shift(2,je),Re.write_shift(1,Fe),Re.write_shift(1,_e),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(1,1),Re.write_shift(1,2),Re.write_shift(4,0),Re.write_shift(4,0),Re}(d));for(var _=0,k=0;_<d.SheetNames.length;++_)(d.Sheets[d.SheetNames[_]]||{})["!ref"]&&Xr(v,27,function(ve,Re){var je=Kt(5+ve.length);je.write_shift(2,14e3),je.write_shift(2,Re);for(var _e=0;_e<ve.length;++_e){var Fe=ve.charCodeAt(_e);je[je.l++]=127<Fe?95:Fe}return je[je.l++]=0,je}(d.SheetNames[_],k++));for(var F=0,_=0;_<d.SheetNames.length;++_){var I=d.Sheets[d.SheetNames[_]];if(I&&I["!ref"]){for(var R=La(I["!ref"]),W=Array.isArray(I),q=[],Q=Math.min(R.e.r,8191),ce=R.s.r;ce<=Q;++ce)for(var fe=Oi(ce),pe=R.s.c;pe<=R.e.c;++pe){ce===R.s.r&&(q[pe]=Ca(pe));var Ae=q[pe]+fe,Ae=W?(I[ce]||[])[pe]:I[Ae];Ae&&Ae.t!="z"&&(Ae.t=="n"?Xr(v,23,function(mt,vt,At,Fe){var We=Kt(14);if(We.write_shift(2,mt),We.write_shift(1,At),We.write_shift(1,vt),Fe==0)return We.write_shift(4,0),We.write_shift(4,0),We.write_shift(2,65535),We;var He=0,mt=0,At=0,vt=0;return Fe<0&&(He=1,Fe=-Fe),mt=0|Math.log2(Fe),Fe/=Math.pow(2,mt-31),!(2147483648&(vt=Fe>>>0))&&(++mt,vt=(Fe/=2)>>>0),Fe-=vt,vt|=2147483648,vt>>>=0,Fe*=Math.pow(2,32),At=Fe>>>0,We.write_shift(4,At),We.write_shift(4,vt),mt+=16383+(He?32768:0),We.write_shift(2,mt),We}(ce,pe,F,Ae.v)):Xr(v,22,function(Re,je,_e,Fe){var We=Kt(6+Fe.length);We.write_shift(2,Re),We.write_shift(1,_e),We.write_shift(1,je),We.write_shift(1,39);for(var He=0;He<Fe.length;++He){var mt=Fe.charCodeAt(He);We.write_shift(1,128<=mt?95:mt)}return We.write_shift(1,0),We}(ce,pe,F,ic(Ae).slice(0,239))))}++F}}return Xr(v,1),v.end()},to_workbook:function(d,x){switch(x.type){case"base64":return Oc(U(O(d)),x);case"binary":return Oc(U(d),x);case"buffer":case"array":return Oc(d,x)}throw"Unsupported type "+x.type}});function cc(d,x,v){if(d){es(d,d.l||0);for(var _=v.Enum||ns;d.l<d.length;){var k=d.read_shift(2),F=_[k]||_[65535],R=d.read_shift(2),I=d.l+R,R=F.f&&F.f(d,R,v);if(d.l=I,x(R,F,k))return}}}function Oc(d,x){if(!d)return d;var v=x||{},_=v.dense?[]:{},k="Sheet1",F="",I=0,R={},W=[],q=[],Q={s:{r:0,c:0},e:{r:0,c:0}},ce=v.sheetRows||0;if(d[2]==0&&(d[3]==8||d[3]==9)&&16<=d.length&&d[14]==5&&d[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(d[2]==2)v.Enum=ns,cc(d,function(ve,Re,je){switch(je){case 0:4096<=(v.vers=ve)&&(v.qpro=!0);break;case 6:Q=ve;break;case 204:ve&&(F=ve);break;case 222:F=ve;break;case 15:case 51:v.qpro||(ve[1].v=ve[1].v.slice(1));case 13:case 14:case 16:je==14&&(112&ve[2])==112&&1<(15&ve[2])&&(15&ve[2])<15&&(ve[1].z=v.dateNF||te[14],v.cellDates&&(ve[1].t="d",ve[1].v=Ie(ve[1].v))),v.qpro&&ve[3]>I&&(_["!ref"]=kn(Q),R[k]=_,W.push(k),_=v.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},I=ve[3],k=F||"Sheet"+(I+1),F="");var _e=v.dense?(_[ve[0].r]||[])[ve[0].c]:_[wn(ve[0])];if(_e){_e.t=ve[1].t,_e.v=ve[1].v,ve[1].z!=null&&(_e.z=ve[1].z),ve[1].f!=null&&(_e.f=ve[1].f);break}v.dense?(_[ve[0].r]||(_[ve[0].r]=[]),_[ve[0].r][ve[0].c]=ve[1]):_[wn(ve[0])]=ve[1]}},v);else{if(d[2]!=26&&d[2]!=14)throw new Error("Unrecognized LOTUS BOF "+d[2]);v.Enum=Lo,d[2]==14&&(v.qpro=!0,d.l=0),cc(d,function(ve,Re,je){switch(je){case 204:k=ve;break;case 22:ve[1].v=ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ve[3]>I&&(_["!ref"]=kn(Q),R[k]=_,W.push(k),_=v.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},I=ve[3],k="Sheet"+(I+1)),0<ce&&ve[0].r>=ce)break;v.dense?(_[ve[0].r]||(_[ve[0].r]=[]),_[ve[0].r][ve[0].c]=ve[1]):_[wn(ve[0])]=ve[1],Q.e.c<ve[0].c&&(Q.e.c=ve[0].c),Q.e.r<ve[0].r&&(Q.e.r=ve[0].r);break;case 27:ve[14e3]&&(q[ve[14e3][0]]=ve[14e3][1]);break;case 1537:q[ve[0]]=ve[1],ve[0]==I&&(k=ve[1])}},v)}if(_["!ref"]=kn(Q),R[F||k]=_,W.push(F||k),!q.length)return{SheetNames:W,Sheets:R};for(var fe={},pe=[],Ae=0;Ae<q.length;++Ae)R[W[Ae]]?(pe.push(q[Ae]||W[Ae]),fe[q[Ae]]=R[q[Ae]]||R[W[Ae]]):(pe.push(q[Ae]),fe[q[Ae]]={"!ref":"A1"});return{SheetNames:pe,Sheets:fe}}function uc(d,x,v){var _=[{c:0,r:0},{t:"n",v:0},0,0];return v.qpro&&v.vers!=20768?(_[0].c=d.read_shift(1),_[3]=d.read_shift(1),_[0].r=d.read_shift(2),d.l+=2):(_[2]=d.read_shift(1),_[0].c=d.read_shift(2),_[0].r=d.read_shift(2)),_}function Ic(d,k,v){var _=d.l+k,k=uc(d,0,v);return k[1].t="s",v.vers!=20768?(v.qpro&&d.l++,k[1].v=d.read_shift(_-d.l,"cstr"),k):(d.l++,_=d.read_shift(1),k[1].v=d.read_shift(_,"utf8"),k)}function bl(d,x,v){var _=32768&x;return(_?"":"$")+(v?Ca:Oi)(x=(_?d:0)+(8192<=(x&=-32769)?x-16384:x))}function qi(d){var x=[{c:0,r:0},{t:"n",v:0},0];return x[0].r=d.read_shift(2),x[3]=d[d.l++],x[0].c=d[d.l++],x}function nu(F,x){var v=qi(F),_=F.read_shift(4),k=F.read_shift(4);if((I=F.read_shift(2))==65535)return _===0&&k===3221225472?(v[1].t="e",v[1].v=15):_===0&&k===3489660928?(v[1].t="e",v[1].v=42):v[1].v=0,v;var F=32768&I,I=(32767&I)-16446;return v[1].v=(1-2*F)*(k*Math.pow(2,32+I)+_*Math.pow(2,I)),v}function sd(_,x){var v=qi(_),_=_.read_shift(8,"f");return v[1].v=_,v}function r0(d,x){return d[d.l+x-1]==0?d.read_shift(x,"cstr"):""}var bf,wl,lg,yv,bv=(bf=sa("t"),wl=sa("rPr"),lg=/<(?:\w+:)?r>/g,yv=/<\/(?:\w+:)?r>/,function(d){return d.replace(lg,"").split(yv).map(cg).filter(function(x){return x.v})});function cg(d){var x=d.match(bf);return x?(x={t:"s",v:vn(x[1])},d=d.match(wl),d&&(x.s=function(v){var _={},k=v.match(Ts),F=0,I=!1;if(k)for(;F!=k.length;++F){var R=Wn(k[F]);switch(R[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!R.val)break;case"<shadow>":case"<shadow/>":_.shadow=1;break;case"</shadow>":break;case"<charset":if(R.val=="1")break;_.cp=u[parseInt(R.val,10)];break;case"<outline":if(!R.val)break;case"<outline>":case"<outline/>":_.outline=1;break;case"</outline>":break;case"<rFont":_.name=R.val;break;case"<sz":_.sz=R.val;break;case"<strike":if(!R.val)break;case"<strike>":case"<strike/>":_.strike=1;break;case"</strike>":break;case"<u":if(!R.val)break;switch(R.val){case"double":_.uval="double";break;case"singleAccounting":_.uval="single-accounting";break;case"doubleAccounting":_.uval="double-accounting"}case"<u>":case"<u/>":_.u=1;break;case"</u>":break;case"<b":if(R.val=="0")break;case"<b>":case"<b/>":_.b=1;break;case"</b>":break;case"<i":if(R.val=="0")break;case"<i>":case"<i/>":_.i=1;break;case"</i>":break;case"<color":R.rgb&&(_.color=R.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":_.family=R.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":_.valign=R.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":I=!0;break;case"</ext>":I=!1;break;default:if(R[0].charCodeAt(1)!==47&&!I)throw new Error("Unrecognized rich format "+R[0])}}return _}(d[1])),x):{t:"s",v:""}}var Y3,QT=(Y3=/(\r\n|\n)/g,function(d){return d.map(Jb).join("")});function Jb(d){var x,v,_,k=[[],d.v,[]];return d.v?(d.s&&(x=d.s,v=k[0],_=k[2],d=[],x.u&&d.push("text-decoration: underline;"),x.uval&&d.push("text-underline-style:"+x.uval+";"),x.sz&&d.push("font-size:"+x.sz+"pt;"),x.outline&&d.push("text-effect: outline;"),x.shadow&&d.push("text-shadow: auto;"),v.push('<span style="'+d.join("")+'">'),x.b&&(v.push("<b>"),_.push("</b>")),x.i&&(v.push("<i>"),_.push("</i>")),x.strike&&(v.push("<s>"),_.push("</s>")),(d=x.valign||"")=="superscript"||d=="super"?d="sup":d=="subscript"&&(d="sub"),d!=""&&(v.push("<"+d+">"),_.push("</"+d+">")),_.push("</span>")),k[0].join("")+k[1].replace(Y3,"<br/>")+k[2].join("")):""}var n0=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,e8=/<(?:\w+:)?r>/,t8=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Qb(d,_){var v=!_||_.cellHTML,_={};return d?(d.match(/^\s*<(?:\w+:)?t[^>]*>/)?(_.t=vn(wi(d.slice(d.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),_.r=wi(d),v&&(_.h=tl(_.t))):d.match(e8)&&(_.r=wi(d),_.t=vn(wi((d.replace(t8,"").match(n0)||[]).join("").replace(Ts,""))),v&&(_.h=QT(bv(_.r)))),_):{t:""}}var X3=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,wv=/<(?:\w+:)?(?:si|sstItem)>/g,Z3=/<\/(?:\w+:)?(?:si|sstItem)>/,J3=/^\s|\s$|[\t\n\r]/;function ug(d,x){if(!x.bookSST)return"";var v=[Tn];v[v.length]=Er("sst",null,{xmlns:tu[0],count:d.Count,uniqueCount:d.Unique});for(var _,k,F=0;F!=d.length;++F)d[F]!=null&&(k="<si>",(_=d[F]).r?k+=_.r:(k+="<t",_.t||(_.t=""),_.t.match(J3)&&(k+=' xml:space="preserve"'),k+=">"+Ke(_.t)+"</t>"),k+="</si>",v[v.length]=k);return 2<v.length&&(v[v.length]="</sst>",v[1]=v[1].replace("/>",">")),v.join("")}var ew=function(d,x){var v=!1;return x==null&&(v=!0,x=Kt(15+4*d.t.length)),x.write_shift(1,0),Hn(d.t,x),v?x.slice(0,x.l):x};function dg(d){var x,v,_=Os();hr(_,159,(x=d,(v=v||Kt(8)).write_shift(4,x.Count),v.write_shift(4,x.Unique),v));for(var k=0;k<d.length;++k)hr(_,19,ew(d[k]));return hr(_,160),_.end()}function tw(d){if(i!==void 0)return i.utils.encode(l,d);for(var x=[],v=d.split(""),_=0;_<v.length;++_)x[_]=v[_].charCodeAt(0);return x}function lh(d,x){var v={};return v.Major=d.read_shift(2),v.Minor=d.read_shift(2),4<=x&&(d.l+=x-4),v}function _v(d){var x=[];d.l+=4;for(var v=d.read_shift(4);0<v--;)x.push(function(_){for(var F=_.read_shift(4),k=_.l+F-4,F={},I=_.read_shift(4),R=[];0<I--;)R.push({t:_.read_shift(4),v:_.read_shift(0,"lpp4")});if(F.name=_.read_shift(0,"lpp4"),F.comps=R,_.l!=k)throw new Error("Bad DataSpaceMapEntry: "+_.l+" != "+k);return F}(d));return x}function Q3(d){var x,v,v=(v={},(x=d).read_shift(4),x.l+=4,v.id=x.read_shift(0,"lpp4"),v.name=x.read_shift(0,"lpp4"),v.R=lh(x,4),v.U=lh(x,4),v.W=lh(x,4),v);if(v.ename=d.read_shift(0,"8lpp4"),v.blksz=d.read_shift(4),v.cmode=d.read_shift(4),d.read_shift(4)!=4)throw new Error("Bad !Primary record");return v}function Nv(d,v){var v=d.l+v,_={};_.Flags=63&d.read_shift(4),d.l+=4,_.AlgID=d.read_shift(4);var k=!1;switch(_.AlgID){case 26126:case 26127:case 26128:k=_.Flags==36;break;case 26625:k=_.Flags==4;break;case 0:k=_.Flags==16||_.Flags==4||_.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+_.AlgID}if(!k)throw new Error("Encryption Flags/AlgID mismatch");return _.AlgIDHash=d.read_shift(4),_.KeySize=d.read_shift(4),_.ProviderType=d.read_shift(4),d.l+=8,_.CSPName=d.read_shift(v-d.l>>1,"utf16le"),d.l=v,_}function ch(d,_){var v={},_=d.l+_;return d.l+=4,v.Salt=d.slice(d.l,d.l+16),d.l+=16,v.Verifier=d.slice(d.l,d.l+16),d.l+=16,d.read_shift(4),v.VerifierHash=d.slice(d.l,_),d.l=_,v}function eN(d){var x=lh(d);switch(x.Minor){case 2:return[x.Minor,function(k){if((63&k.read_shift(4))!=36)throw new Error("EncryptionInfo mismatch");var _=k.read_shift(4),_=Nv(k,_),k=ch(k,k.length-k.l);return{t:"Std",h:_,v:k}}(d)];case 3:return[x.Minor,function(){throw new Error("File is password-protected: ECMA-376 Extensible")}()];case 4:return[x.Minor,function(k){var _=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];k.l+=4;var k=k.read_shift(k.length-k.l,"utf8"),F={};return k.replace(Ts,function(I){var R=Wn(I);switch(bo(R[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":_.forEach(function(W){F[W]=R[W]});break;case"<dataIntegrity":F.encryptedHmacKey=R.encryptedHmacKey,F.encryptedHmacValue=R.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":F.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":F.uri=R.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":F.encs.push(R);break;default:throw R[0]}}),F}(d)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+x.Minor)}function Sv(d){var x,v=0,_=tw(d),k=_.length+1,F=L(k);for(F[0]=_.length,x=1;x!=k;++x)F[x]=_[x-1];for(x=k-1;0<=x;--x)v=((16384&v?1:0)|v<<1&32767)^F[x];return 52811^v}var rw,nw,tm,tN=(rw=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],nw=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],tm=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],function(d){for(var x,v,_=tw(d),k=function(W){for(var q=nw[W.length-1],Q=104,ce=W.length-1;0<=ce;--ce)for(var fe=W[ce],pe=0;pe!=7;++pe)64&fe&&(q^=tm[Q]),fe*=2,--Q;return q}(_),F=_.length,I=L(16),R=0;R!=16;++R)I[R]=0;for((1&F)==1&&(x=k>>8,I[F]=rm(rw[0],x),--F,x=255&k,d=_[_.length-1],I[F]=rm(d,x));0<F;)x=k>>8,I[--F]=rm(_[F],x),x=255&k,I[--F]=rm(_[F],x);for(v=(F=15)-_.length;0<v;)x=k>>8,I[F]=rm(rw[v],x),--v,x=255&k,I[--F]=rm(_[F],x),--F,--v;return I});function rm(d,x){return 255&((x=d^x)/2|128*x)}var r8=function(d){var x=0,v=tN(d);return function(_){return _=function(k,F,I,R,W){var q,Q;for(W=W||F,R=R||tN(k),q=0;q!=F.length;++q)Q=F[q],Q=255&((Q^=R[I])>>5|Q<<3),W[q]=Q,++I;return[W,I,R]}("",_,x,v),x=_[1],_[0]}};function rN(d,x,v){return v=v||{},v.Info=d.read_shift(2),d.l-=2,v.Info===1?v.Data=function(_){var k={},F=k.EncryptionVersionInfo=lh(_,4);if(F.Major!=1||F.Minor!=1)throw"unrecognized version code "+F.Major+" : "+F.Minor;return k.Salt=_.read_shift(16),k.EncryptedVerifier=_.read_shift(16),k.EncryptedVerifierHash=_.read_shift(16),k}(d):v.Data=function(_,k){var F={},I=F.EncryptionVersionInfo=lh(_,4);if(k-=4,I.Minor!=2)throw new Error("unrecognized minor version code: "+I.Minor);if(4<I.Major||I.Major<2)throw new Error("unrecognized major version code: "+I.Major);return F.Flags=_.read_shift(4),k-=4,I=_.read_shift(4),k-=4,F.EncryptionHeader=Nv(_,I),k-=I,F.EncryptionVerifier=ch(_,k),F}(d,x),v}var nN={to_workbook:function(d,x){return xl(dp(d,x),x)},to_sheet:dp,from_sheet:function(d){for(var x=["{\\rtf1\\ansi"],v=La(d["!ref"]),_=Array.isArray(d),k=v.s.r;k<=v.e.r;++k){x.push("\\trowd\\trautofit1");for(var F=v.s.c;F<=v.e.c;++F)x.push("\\cellx"+(F+1));for(x.push("\\pard\\intbl"),F=v.s.c;F<=v.e.c;++F){var I=wn({r:k,c:F});(I=_?(d[k]||[])[F]:d[I])&&(I.v!=null||I.f&&!I.F)&&(x.push(" "+(I.w||(ic(I),I.w))),x.push("\\cell"))}x.push("\\pard\\intbl\\row")}return x.join("")+"}"}};function dp(d,x){switch(x.type){case"base64":return fp(O(d),x);case"binary":return fp(d,x);case"buffer":return fp(M&&Buffer.isBuffer(d)?d.toString("binary"):K(d),x);case"array":return fp(nt(d),x)}throw new Error("Unrecognized type "+x.type)}function fp(_,x){var v=(x||{}).dense?[]:{},_=_.match(/\\trowd.*?\\row\b/g);if(!_.length)throw new Error("RTF missing table");var k={s:{c:0,r:0},e:{c:0,r:_.length-1}};return _.forEach(function(F,I){Array.isArray(v)&&(v[I]=[]);for(var R,W=/\\\w+\b/g,q=0,Q=-1;R=W.exec(F);)R[0]==="\\cell"&&(++Q,(R=(R=F.slice(q,W.lastIndex-R[0].length))[0]==" "?R.slice(1):R).length&&(R={v:R,t:"s"},Array.isArray(v)?v[I][Q]=R:v[wn({r:I,c:Q})]=R)),q=W.lastIndex;Q>k.e.c&&(k.e.c=Q)}),v["!ref"]=kn(k),v}function a0(d){for(var x=0,v=1;x!=3;++x)v=256*v+(255<d[x]?255:d[x]<0?0:d[x]);return v.toString(16).toUpperCase().slice(1)}function od(d,x){return x===0?d:(d=function(Q){var _=Q[0]/255,k=Q[1]/255,F=Q[2]/255,I=Math.max(_,k,F),R=Math.min(_,k,F),W=I-R;if(W==0)return[0,0,_];var q=0,Q=0,Q=W/(1<(R=I+R)?2-R:R);switch(I){case _:q=((k-F)/W+6)%6;break;case k:q=(F-_)/W+2;break;case F:q=(_-k)/W+4}return[q/6,Q,R/2]}((d=(d=d).slice(d[0]==="#"?1:0).slice(0,6),[parseInt(d.slice(0,2),16),parseInt(d.slice(2,4),16),parseInt(d.slice(4,6),16)])),d[2]=x<0?d[2]*(1+x):1-(1-d[2])*(1-x),a0(function(I){var _,k=I[0],F=I[1],I=I[2],R=2*F*(I<.5?I:1-I),W=[I=I-R/2,I,I],q=6*k;if(F!==0)switch(0|q){case 0:case 6:_=R*q,W[0]+=R,W[1]+=_;break;case 1:_=R*(2-q),W[0]+=_,W[1]+=R;break;case 2:_=R*(q-2),W[1]+=R,W[2]+=_;break;case 3:_=R*(4-q),W[1]+=_,W[2]+=R;break;case 4:_=R*(q-4),W[2]+=R,W[0]+=_;break;case 5:_=R*(6-q),W[2]+=_,W[0]+=R}for(var Q=0;Q!=3;++Q)W[Q]=Math.round(255*W[Q]);return W}(d)))}var uh=6,i0=15,Cv=1,_l=uh;function hp(d){return Math.floor((d+Math.round(128/_l)/256)*_l)}function fg(d){return Math.floor((d-5)/_l*100+.5)/100}function mp(d){return Math.round((d*_l+5)/_l*256)/256}function hg(d){return mp(fg(hp(d)))}function n8(d){var x=Math.abs(d-hg(d)),v=_l;if(.005<x)for(_l=Cv;_l<i0;++_l)Math.abs(d-hg(d))<=x&&(x=Math.abs(d-hg(d)),v=_l);_l=v}function pp(d){d.width?(d.wpx=hp(d.width),d.wch=fg(d.wpx),d.MDW=_l):d.wpx?(d.wch=fg(d.wpx),d.width=mp(d.wch),d.MDW=_l):typeof d.wch=="number"&&(d.width=mp(d.wch),d.wpx=hp(d.width),d.MDW=_l),d.customWidth&&delete d.customWidth}var OB=96;function aw(d){return 96*d/OB}function Av(d){return d*OB/96}var _1e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"},aN=["numFmtId","fillId","fontId","borderId","xfId"],iN=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"],IB,FB,DB,RB,MB,iw,N1e=(IB=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,FB=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,DB=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,RB=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,MB=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/,function(d,x,v){var _,k,F,I,R,W={};return d&&((_=(d=d.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(IB))&&function(q,Q,ce){Q.NumberFmt=[];for(var fe=Na(te),pe=0;pe<fe.length;++pe)Q.NumberFmt[fe[pe]]=te[fe[pe]];var Ae=q[0].match(Ts);if(Ae)for(pe=0;pe<Ae.length;++pe){var ve=Wn(Ae[pe]);switch(bo(ve[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":var Re=vn(wi(ve.formatCode)),je=parseInt(ve.numFmtId,10);if(Q.NumberFmt[je]=Re,0<je){if(392<je){for(je=392;60<je&&Q.NumberFmt[je]!=null;--je);Q.NumberFmt[je]=Re}Fn(Re,je)}break;case"</numFmt>":break;default:if(ce.WTF)throw new Error("unrecognized "+ve[0]+" in numFmts")}}}(_,W,v),(_=d.match(RB))&&function(q,Q,ce,fe){Q.Fonts=[];var pe={},Ae=!1;(q[0].match(Ts)||[]).forEach(function(ve){var Re,je=Wn(ve);switch(bo(je[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":Q.Fonts.push(pe),pe={};break;case"<name":je.val&&(pe.name=wi(je.val));break;case"<name/>":case"</name>":break;case"<b":pe.bold=je.val?Jr(je.val):1;break;case"<b/>":pe.bold=1;break;case"<i":pe.italic=je.val?Jr(je.val):1;break;case"<i/>":pe.italic=1;break;case"<u":switch(je.val){case"none":pe.underline=0;break;case"single":pe.underline=1;break;case"double":pe.underline=2;break;case"singleAccounting":pe.underline=33;break;case"doubleAccounting":pe.underline=34}break;case"<u/>":pe.underline=1;break;case"<strike":pe.strike=je.val?Jr(je.val):1;break;case"<strike/>":pe.strike=1;break;case"<outline":pe.outline=je.val?Jr(je.val):1;break;case"<outline/>":pe.outline=1;break;case"<shadow":pe.shadow=je.val?Jr(je.val):1;break;case"<shadow/>":pe.shadow=1;break;case"<condense":pe.condense=je.val?Jr(je.val):1;break;case"<condense/>":pe.condense=1;break;case"<extend":pe.extend=je.val?Jr(je.val):1;break;case"<extend/>":pe.extend=1;break;case"<sz":je.val&&(pe.sz=+je.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":je.val&&(pe.vertAlign=je.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":je.val&&(pe.family=parseInt(je.val,10));break;case"<family/>":case"</family>":break;case"<scheme":je.val&&(pe.scheme=je.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(je.val=="1")break;je.codepage=u[parseInt(je.val,10)];break;case"<color":pe.color||(pe.color={}),je.auto&&(pe.color.auto=Jr(je.auto)),je.rgb?pe.color.rgb=je.rgb.slice(-6):je.indexed?(pe.color.index=parseInt(je.indexed,10),Re=Zh[pe.color.index],Re=(Re=pe.color.index==81?Zh[1]:Re)||Zh[1],pe.color.rgb=Re[0].toString(16)+Re[1].toString(16)+Re[2].toString(16)):je.theme&&(pe.color.theme=parseInt(je.theme,10),je.tint&&(pe.color.tint=parseFloat(je.tint)),je.theme&&ce.themeElements&&ce.themeElements.clrScheme&&(pe.color.rgb=od(ce.themeElements.clrScheme[pe.color.theme].rgb,pe.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":Ae=!0;break;case"</AlternateContent>":Ae=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":Ae=!0;break;case"</ext>":Ae=!1;break;default:if(fe&&fe.WTF&&!Ae)throw new Error("unrecognized "+je[0]+" in fonts")}})}(_,W,x,v),(_=d.match(DB))&&function(q,Q,ce){Q.Fills=[];var fe={},pe=!1;(q[0].match(Ts)||[]).forEach(function(Ae){var ve=Wn(Ae);switch(bo(ve[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":fe={},Q.Fills.push(fe);break;case"</fill>":case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":Q.Fills.push(fe),fe={};break;case"<patternFill":case"<patternFill>":ve.patternType&&(fe.patternType=ve.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":fe.bgColor||(fe.bgColor={}),ve.indexed&&(fe.bgColor.indexed=parseInt(ve.indexed,10)),ve.theme&&(fe.bgColor.theme=parseInt(ve.theme,10)),ve.tint&&(fe.bgColor.tint=parseFloat(ve.tint)),ve.rgb&&(fe.bgColor.rgb=ve.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":fe.fgColor||(fe.fgColor={}),ve.theme&&(fe.fgColor.theme=parseInt(ve.theme,10)),ve.tint&&(fe.fgColor.tint=parseFloat(ve.tint)),ve.rgb!=null&&(fe.fgColor.rgb=ve.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":case"</stop>":break;case"<color":case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":pe=!0;break;case"</ext>":pe=!1;break;default:if(ce&&ce.WTF&&!pe)throw new Error("unrecognized "+ve[0]+" in fills")}})}(_,W,v),(_=d.match(MB))&&function(q,Q,ce){Q.Borders=[];var fe={},pe=!1;(q[0].match(Ts)||[]).forEach(function(Ae){var ve=Wn(Ae);switch(bo(ve[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":fe={},ve.diagonalUp&&(fe.diagonalUp=Jr(ve.diagonalUp)),ve.diagonalDown&&(fe.diagonalDown=Jr(ve.diagonalDown)),Q.Borders.push(fe);break;case"</border>":case"<left/>":break;case"<left":case"<left>":case"</left>":case"<right/>":break;case"<right":case"<right>":case"</right>":case"<top/>":break;case"<top":case"<top>":case"</top>":case"<bottom/>":break;case"<bottom":case"<bottom>":case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":break;case"<start":case"<start>":case"<start/>":case"</start>":break;case"<end":case"<end>":case"<end/>":case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":pe=!0;break;case"</ext>":pe=!1;break;default:if(ce&&ce.WTF&&!pe)throw new Error("unrecognized "+ve[0]+" in borders")}})}(_,W,v),(_=d.match(FB))&&(_=_,F=v,R=!((k=W).CellXf=[]),(_[0].match(Ts)||[]).forEach(function(q){var Q=Wn(q),ce=0;switch(bo(Q[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(delete(I=Q)[0],ce=0;ce<aN.length;++ce)I[aN[ce]]&&(I[aN[ce]]=parseInt(I[aN[ce]],10));for(ce=0;ce<iN.length;++ce)I[iN[ce]]&&(I[iN[ce]]=Jr(I[iN[ce]]));if(k.NumberFmt&&392<I.numFmtId){for(ce=392;60<ce;--ce)if(k.NumberFmt[I.numFmtId]==k.NumberFmt[ce]){I.numFmtId=ce;break}}k.CellXf.push(I);break;case"</xf>":break;case"<alignment":case"<alignment/>":var fe={};Q.vertical&&(fe.vertical=Q.vertical),Q.horizontal&&(fe.horizontal=Q.horizontal),Q.textRotation!=null&&(fe.textRotation=Q.textRotation),Q.indent&&(fe.indent=Q.indent),Q.wrapText&&(fe.wrapText=Jr(Q.wrapText)),I.alignment=fe;break;case"</alignment>":case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":R=!0;break;case"</AlternateContent>":R=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":R=!0;break;case"</ext>":R=!1;break;default:if(F&&F.WTF&&!R)throw new Error("unrecognized "+Q[0]+" in cellXfs")}}))),W});function LB(d,x){if(iw!==void 0)return iw.toXml();var v,_,k,F,I=[Tn,Er("styleSheet",null,{xmlns:tu[0],"xmlns:vt":ps.vt})];return d.SSF&&(_=d.SSF,k=["<numFmts>"],[[5,8],[23,26],[41,44],[50,392]].forEach(function(R){for(var W=R[0];W<=R[1];++W)_[W]!=null&&(k[k.length]=Er("numFmt",null,{numFmtId:W,formatCode:Ke(_[W])}))}),(v=k.length===1?"":(k[k.length]="</numFmts>",k[0]=Er("numFmts",null,{count:k.length-2}).replace("/>",">"),k.join("")))!=null)&&(I[I.length]=v),I[I.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',I[I.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',I[I.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',I[I.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',x=x.cellXfs,(F=[])[F.length]="<cellXfs/>",x.forEach(function(R){F[F.length]=Er("xf",null,R)}),F[F.length]="</cellXfs>",(v=F.length===2?"":(F[0]=Er("cellXfs",null,{count:F.length-2}).replace("/>",">"),F.join("")))&&(I[I.length]=v),I[I.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',I[I.length]='<dxfs count="0"/>',I[I.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',2<I.length&&(I[I.length]="</styleSheet>",I[1]=I[1].replace("/>",">")),I.join("")}function S1e(d,x){var v;(x=x||Kt(153)).write_shift(2,20*d.sz),v=d,_=(_=x)||Kt(2),v=(v.italic?2:0)|(v.strike?8:0)|(v.outline?16:0)|(v.shadow?32:0)|(v.condense?64:0)|(v.extend?128:0),_.write_shift(1,v),_.write_shift(1,0),x.write_shift(2,d.bold?700:400);var _=0;return d.vertAlign=="superscript"?_=1:d.vertAlign=="subscript"&&(_=2),x.write_shift(2,_),x.write_shift(1,d.underline||0),x.write_shift(1,d.family||0),x.write_shift(1,d.charset||0),x.write_shift(1,0),ir(d.color,x),_=0,d.scheme=="major"&&(_=1),d.scheme=="minor"&&(_=2),x.write_shift(1,_),Hn(d.name,x),x.length>x.l?x.slice(0,x.l):x}var BB,C1e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],A1e=gi;function UB(d,x){x=x||Kt(84),d=(BB=BB||Vn(C1e))[d.patternType],d==null&&(d=40),x.write_shift(4,d);var v=0;if(d!=40)for(ir({auto:1},x),ir({auto:1},x);v<12;++v)x.write_shift(4,0);else{for(;v<4;++v)x.write_shift(4,0);for(;v<12;++v)x.write_shift(4,0)}return x.length>x.l?x.slice(0,x.l):x}function $B(d,x,v){return(v=v||Kt(16)).write_shift(2,x||0),v.write_shift(2,d.numFmtId||0),v.write_shift(2,0),v.write_shift(2,0),v.write_shift(2,0),v.write_shift(1,0),v.write_shift(1,0),v.write_shift(1,0),v.write_shift(1,0),v.write_shift(1,0),v.write_shift(1,0),v}function sw(d,x){return(x=x||Kt(10)).write_shift(1,0),x.write_shift(1,0),x.write_shift(4,0),x.write_shift(4,0),x}yo=gi;function E1e(d,x){var v;x&&(v=0,[[5,8],[23,26],[41,44],[50,392]].forEach(function(_){for(var k=_[0];k<=_[1];++k)x[k]!=null&&++v}),v!=0&&(hr(d,615,gs(v)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(_){for(var k,F,I,R=_[0];R<=_[1];++R)x[R]!=null&&hr(d,44,(k=R,F=x[R],(I=(I=void 0)||Kt(6+4*F.length)).write_shift(2,k),Hn(F,I),F=I.length>I.l?I.slice(0,I.l):I,I.l==null&&(I.l=I.length),F))}),hr(d,616)))}function j1e(d){var x;hr(d,613,gs(1)),hr(d,46,((x=x||Kt(51)).write_shift(1,0),sw(0,x),sw(0,x),sw(0,x),sw(0,x),sw(0,x),x.length>x.l?x.slice(0,x.l):x)),hr(d,614)}function T1e(d){var x,v;hr(d,619,gs(1)),hr(d,48,(x={xfId:0,builtinId:0,name:"Normal"},(v=v||Kt(52)).write_shift(4,x.xfId),v.write_shift(2,1),v.write_shift(1,+x.builtinId),v.write_shift(1,0),oe(x.name||"",v),v.length>v.l?v.slice(0,v.l):v)),hr(d,620)}function k1e(d){var x,v,_,k;hr(d,508,(x=0,v="TableStyleMedium9",_="PivotStyleMedium4",(k=Kt(2052)).write_shift(4,x),oe(v,k),oe(_,k),k.length>k.l?k.slice(0,k.l):k)),hr(d,509)}function P1e(d,x){var v,_=Os();return hr(_,278),E1e(_,d.SSF),hr(d=_,611,gs(1)),hr(d,43,S1e({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),hr(d,612),hr(d=_,603,gs(2)),hr(d,45,UB({patternType:"none"})),hr(d,45,UB({patternType:"gray125"})),hr(d,604),j1e(_),hr(d=_,626,gs(1)),hr(d,47,$B({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),hr(d,627),v=_,x=x.cellXfs,hr(v,617,gs(x.length)),x.forEach(function(k){hr(v,47,$B(k,0))}),hr(v,618),T1e(_),hr(x=_,505,gs(0)),hr(x,506),k1e(_),hr(_,279),_.end()}var O1e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function I1e(d,x,v){x.themeElements.clrScheme=[];var _={};(d[0].match(Ts)||[]).forEach(function(k){var F=Wn(k);switch(F[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":_.rgb=F.val;break;case"<a:sysClr":_.rgb=F.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":F[0].charAt(1)==="/"?(x.themeElements.clrScheme[O1e.indexOf(F[0])]=_,_={}):_.name=F[0].slice(3,F[0].length-1);break;default:if(v&&v.WTF)throw new Error("Unrecognized "+F[0]+" in clrScheme")}})}function F1e(){}function D1e(){}var R1e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,M1e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,L1e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/,B1e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function zB(d,x){var v,_,k,F,I,R={};if(!(v=(d=!d||d.length===0?a8():d).match(B1e)))throw new Error("themeElements not found in theme");return _=v[0],F=x,(k=R).themeElements={},[["clrScheme",R1e,I1e],["fontScheme",M1e,F1e],["fmtScheme",L1e,D1e]].forEach(function(W){if(!(I=_.match(W[1])))throw new Error(W[0]+" not found in themeElements");W[2](I,k,F)}),R.raw=d,R}function a8(d,x){return x&&x.themeXLSX?x.themeXLSX:d&&typeof d.raw=="string"?d.raw:(d=[Tn],d[d.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',d[d.length]="<a:themeElements>",d[d.length]='<a:clrScheme name="Office">',d[d.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',d[d.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',d[d.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',d[d.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',d[d.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',d[d.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',d[d.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',d[d.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',d[d.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',d[d.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',d[d.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',d[d.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',d[d.length]="</a:clrScheme>",d[d.length]='<a:fontScheme name="Office">',d[d.length]="<a:majorFont>",d[d.length]='<a:latin typeface="Cambria"/>',d[d.length]='<a:ea typeface=""/>',d[d.length]='<a:cs typeface=""/>',d[d.length]='<a:font script="Jpan" typeface=" "/>',d[d.length]='<a:font script="Hang" typeface=" "/>',d[d.length]='<a:font script="Hans" typeface=""/>',d[d.length]='<a:font script="Hant" typeface=""/>',d[d.length]='<a:font script="Arab" typeface="Times New Roman"/>',d[d.length]='<a:font script="Hebr" typeface="Times New Roman"/>',d[d.length]='<a:font script="Thai" typeface="Tahoma"/>',d[d.length]='<a:font script="Ethi" typeface="Nyala"/>',d[d.length]='<a:font script="Beng" typeface="Vrinda"/>',d[d.length]='<a:font script="Gujr" typeface="Shruti"/>',d[d.length]='<a:font script="Khmr" typeface="MoolBoran"/>',d[d.length]='<a:font script="Knda" typeface="Tunga"/>',d[d.length]='<a:font script="Guru" typeface="Raavi"/>',d[d.length]='<a:font script="Cans" typeface="Euphemia"/>',d[d.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',d[d.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',d[d.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',d[d.length]='<a:font script="Thaa" typeface="MV Boli"/>',d[d.length]='<a:font script="Deva" typeface="Mangal"/>',d[d.length]='<a:font script="Telu" typeface="Gautami"/>',d[d.length]='<a:font script="Taml" typeface="Latha"/>',d[d.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',d[d.length]='<a:font script="Orya" typeface="Kalinga"/>',d[d.length]='<a:font script="Mlym" typeface="Kartika"/>',d[d.length]='<a:font script="Laoo" typeface="DokChampa"/>',d[d.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',d[d.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',d[d.length]='<a:font script="Viet" typeface="Times New Roman"/>',d[d.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',d[d.length]='<a:font script="Geor" typeface="Sylfaen"/>',d[d.length]="</a:majorFont>",d[d.length]="<a:minorFont>",d[d.length]='<a:latin typeface="Calibri"/>',d[d.length]='<a:ea typeface=""/>',d[d.length]='<a:cs typeface=""/>',d[d.length]='<a:font script="Jpan" typeface=" "/>',d[d.length]='<a:font script="Hang" typeface=" "/>',d[d.length]='<a:font script="Hans" typeface=""/>',d[d.length]='<a:font script="Hant" typeface=""/>',d[d.length]='<a:font script="Arab" typeface="Arial"/>',d[d.length]='<a:font script="Hebr" typeface="Arial"/>',d[d.length]='<a:font script="Thai" typeface="Tahoma"/>',d[d.length]='<a:font script="Ethi" typeface="Nyala"/>',d[d.length]='<a:font script="Beng" typeface="Vrinda"/>',d[d.length]='<a:font script="Gujr" typeface="Shruti"/>',d[d.length]='<a:font script="Khmr" typeface="DaunPenh"/>',d[d.length]='<a:font script="Knda" typeface="Tunga"/>',d[d.length]='<a:font script="Guru" typeface="Raavi"/>',d[d.length]='<a:font script="Cans" typeface="Euphemia"/>',d[d.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',d[d.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',d[d.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',d[d.length]='<a:font script="Thaa" typeface="MV Boli"/>',d[d.length]='<a:font script="Deva" typeface="Mangal"/>',d[d.length]='<a:font script="Telu" typeface="Gautami"/>',d[d.length]='<a:font script="Taml" typeface="Latha"/>',d[d.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',d[d.length]='<a:font script="Orya" typeface="Kalinga"/>',d[d.length]='<a:font script="Mlym" typeface="Kartika"/>',d[d.length]='<a:font script="Laoo" typeface="DokChampa"/>',d[d.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',d[d.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',d[d.length]='<a:font script="Viet" typeface="Arial"/>',d[d.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',d[d.length]='<a:font script="Geor" typeface="Sylfaen"/>',d[d.length]="</a:minorFont>",d[d.length]="</a:fontScheme>",d[d.length]='<a:fmtScheme name="Office">',d[d.length]="<a:fillStyleLst>",d[d.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',d[d.length]='<a:gradFill rotWithShape="1">',d[d.length]="<a:gsLst>",d[d.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',d[d.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',d[d.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',d[d.length]="</a:gsLst>",d[d.length]='<a:lin ang="16200000" scaled="1"/>',d[d.length]="</a:gradFill>",d[d.length]='<a:gradFill rotWithShape="1">',d[d.length]="<a:gsLst>",d[d.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',d[d.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',d[d.length]="</a:gsLst>",d[d.length]='<a:lin ang="16200000" scaled="0"/>',d[d.length]="</a:gradFill>",d[d.length]="</a:fillStyleLst>",d[d.length]="<a:lnStyleLst>",d[d.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',d[d.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',d[d.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',d[d.length]="</a:lnStyleLst>",d[d.length]="<a:effectStyleLst>",d[d.length]="<a:effectStyle>",d[d.length]="<a:effectLst>",d[d.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',d[d.length]="</a:effectLst>",d[d.length]="</a:effectStyle>",d[d.length]="<a:effectStyle>",d[d.length]="<a:effectLst>",d[d.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',d[d.length]="</a:effectLst>",d[d.length]="</a:effectStyle>",d[d.length]="<a:effectStyle>",d[d.length]="<a:effectLst>",d[d.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',d[d.length]="</a:effectLst>",d[d.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',d[d.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',d[d.length]="</a:effectStyle>",d[d.length]="</a:effectStyleLst>",d[d.length]="<a:bgFillStyleLst>",d[d.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',d[d.length]='<a:gradFill rotWithShape="1">',d[d.length]="<a:gsLst>",d[d.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',d[d.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',d[d.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',d[d.length]="</a:gsLst>",d[d.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',d[d.length]="</a:gradFill>",d[d.length]='<a:gradFill rotWithShape="1">',d[d.length]="<a:gsLst>",d[d.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',d[d.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',d[d.length]="</a:gsLst>",d[d.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',d[d.length]="</a:gradFill>",d[d.length]="</a:bgFillStyleLst>",d[d.length]="</a:fmtScheme>",d[d.length]="</a:themeElements>",d[d.length]="<a:objectDefaults>",d[d.length]="<a:spDef>",d[d.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',d[d.length]="</a:spDef>",d[d.length]="<a:lnDef>",d[d.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',d[d.length]="</a:lnDef>",d[d.length]="</a:objectDefaults>",d[d.length]="<a:extraClrSchemeLst/>",d[d.length]="</a:theme>",d.join(""))}function U1e(d){var x={};switch(x.xclrType=d.read_shift(2),x.nTintShade=d.read_shift(2),x.xclrType){case 0:d.l+=4;break;case 1:x.xclrValue=gi(d,4);break;case 2:x.xclrValue=ig(d);break;case 3:x.xclrValue=d.read_shift(4);break;case 4:d.l+=4}return d.l+=8,x}function $1e(d){var x=d.read_shift(2),v=d.read_shift(2)-4,_=[x];switch(x){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:_[1]=U1e(d);break;case 6:_[1]=gi(d,v);break;case 14:case 15:_[1]=d.read_shift(v==1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+x+" "+v)}return _}function z1e(){var d,x,v,_=Os();return hr(_,332),hr(_,334,gs(1)),hr(_,335,((v=Kt(12+2*(x={name:"XLDAPR",version:12e4,flags:3496657072}).name.length)).write_shift(4,x.flags),v.write_shift(4,x.version),Hn(x.name,v),v.slice(0,v.l))),hr(_,336),hr(_,339,(d=1,(v=Kt(8+2*(x="XLDAPR").length)).write_shift(4,d),Hn(x,v),v.slice(0,v.l))),hr(_,52),hr(_,35,gs(514)),hr(_,4096,gs(0)),hr(_,4097,Ou(1)),hr(_,36),hr(_,53),hr(_,340),hr(_,337,(d=1,x=!0,(v=Kt(8)).write_shift(4,d),v.write_shift(4,x?1:0),v)),hr(_,51,function(k){var F=Kt(4+8*k.length);F.write_shift(4,k.length);for(var I=0;I<k.length;++I)F.write_shift(4,k[I][0]),F.write_shift(4,k[I][1]);return F}([[1,0]])),hr(_,338),hr(_,333),_.end()}function VB(){var d=[Tn];return d.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),d.join("")}var Ev=1024;function WB(d,x){for(var v=[21600,21600],_=["m0,0l0",v[1],v[0],v[1],v[0],"0xe"].join(","),k=[Er("xml",null,{"xmlns:v":Xs.v,"xmlns:o":Xs.o,"xmlns:x":Xs.x,"xmlns:mv":Xs.mv}).replace(/\/>/,">"),Er("o:shapelayout",Er("o:idmap",null,{"v:ext":"edit",data:d}),{"v:ext":"edit"}),Er("v:shapetype",[Er("v:stroke",null,{joinstyle:"miter"}),Er("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:v.join(","),path:_})];Ev<1e3*d;)Ev+=1e3;return x.forEach(function(F){var I=ci(F[0]),W={color2:"#BEFF82",type:"gradient"};W.type=="gradient"&&(W.angle="-180");var R=W.type=="gradient"?Er("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,W=Er("v:fill",R,W);++Ev,k=k.concat(["<v:shape"+Eu({id:"_x0000_s"+Ev,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(F[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",W,Er("v:shadow",null,{on:"t",obscured:"t"}),Er("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ys("x:Anchor",[I.c+1,0,I.r+1,0,I.c+3,20,I.r+5,20].join(",")),Ys("x:AutoFill","False"),Ys("x:Row",String(I.r)),Ys("x:Column",String(I.c)),F[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),k.push("</xml>"),k.join("")}function HB(d,x,v,_){var k,F=Array.isArray(d);x.forEach(function(I){var R,W=ci(I.ref);(k=F?(d[W.r]||(d[W.r]=[]),d[W.r][W.c]):d[I.ref])||(k={t:"z"},F?d[W.r][W.c]=k:d[I.ref]=k,(R=La(d["!ref"]||"BDWGO1000001:A1")).s.r>W.r&&(R.s.r=W.r),R.e.r<W.r&&(R.e.r=W.r),R.s.c>W.c&&(R.s.c=W.c),R.e.c<W.c&&(R.e.c=W.c),(R=kn(R))!==d["!ref"]&&(d["!ref"]=R)),k.c||(k.c=[]);var q={a:I.author,t:I.t,r:I.r,T:v};I.h&&(q.h=I.h);for(var Q=k.c.length-1;0<=Q;--Q){if(!v&&k.c[Q].T)return;v&&!k.c[Q].T&&k.c.splice(Q,1)}if(v&&_){for(Q=0;Q<_.length;++Q)if(q.a==_[Q].id){q.a=_[Q].name||q.a;break}}k.c.push(q)})}function qB(d){var x=[Tn,Er("comments",null,{xmlns:tu[0]})],v=[];return x.push("<authors>"),d.forEach(function(_){_[1].forEach(function(k){var F=Ke(k.a);v.indexOf(F)==-1&&(v.push(F),x.push("<author>"+F+"</author>")),k.T&&k.ID&&v.indexOf("tc="+k.ID)==-1&&(v.push("tc="+k.ID),x.push("<author>tc="+k.ID+"</author>"))})}),v.length==0&&(v.push("SheetJ5"),x.push("<author>SheetJ5</author>")),x.push("</authors>"),x.push("<commentList>"),d.forEach(function(_){var k=0,F=[];if(_[1][0]&&_[1][0].T&&_[1][0].ID?k=v.indexOf("tc="+_[1][0].ID):_[1].forEach(function(W){W.a&&(k=v.indexOf(Ke(W.a))),F.push(W.t||"")}),x.push('<comment ref="'+_[0]+'" authorId="'+k+'"><text>'),F.length<=1)x.push(Ys("t",Ke(F[0]||"")));else{for(var I=`Comment:
    `+F[0]+`
`,R=1;R<F.length;++R)I+=`Reply:
    `+F[R]+`
`;x.push(Ys("t",Ke(I)))}x.push("</text></comment>")}),x.push("</commentList>"),2<x.length&&(x[x.length]="</comments>",x[1]=x[1].replace("/>",">")),x.join("")}ze=ts;function V1e(d){var x=Os(),v=[];return hr(x,628),hr(x,630),d.forEach(function(_){_[1].forEach(function(k){-1<v.indexOf(k.a)||(v.push(k.a.slice(0,54)),hr(x,632,Hn(k.a.slice(0,54))))})}),hr(x,631),hr(x,633),d.forEach(function(_){_[1].forEach(function(k){k.iauthor=v.indexOf(k.a);var F,I={s:ci(_[0]),e:ci(_[0])};hr(x,635,(I=[I,k],(F=F??Kt(36)).write_shift(4,I[1].iauthor),Rt(I[0],F),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,0),F)),k.t&&0<k.t.length&&hr(x,637,m(k)),hr(x,636),delete k.iauthor})}),hr(x,634),hr(x,629),x.end()}var W1e="application/vnd.ms-office.vbaProject",GB=["xlsb","xlsm","xlam","biff8","xla"],i8,KB,jv=(KB=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,function(d,x){return i8=x,d.replace(KB,H1e)});function H1e(d,x,v,_){var k=!1,F=!1;return v.length==0?F=!0:v.charAt(0)=="["&&(F=!0,v=v.slice(1,-1)),_.length==0?k=!0:_.charAt(0)=="["&&(k=!0,_=_.slice(1,-1)),v=0<v.length?0|parseInt(v,10):0,_=0<_.length?0|parseInt(_,10):0,k?_+=i8.c:--_,F?v+=i8.r:--v,x+(k?"":"$")+Ca(_)+(F?"":"$")+Oi(v)}var s8=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,o8=function(d,x){return d.replace(s8,function(v,_,k,F,I,R){return F=ah(F)-(k?0:x.c),R=Rd(R)-(I?0:x.r),_+"R"+(R==0?"":I?1+R:"["+R+"]")+"C"+(F==0?"":k?1+F:"["+F+"]")})};function YB(d,x){return d.replace(s8,function(v,_,k,F,I,R){return _+(k=="$"?k+F:Ca(ah(F)+x.c))+(I=="$"?I+R:Oi(Rd(R)+x.r))})}function XB(d){return d.replace(/_xlfn\./g,"")}function Nl(d){d.l+=1}function gp(d,x){return x=d.read_shift(x==1?1:2),[16383&x,x>>14&1,x>>15&1]}function ZB(I,x,k){var F=2;if(k){if(2<=k.biff&&k.biff<=5)return JB(I);k.biff==12&&(F=4)}var _=I.read_shift(F),k=I.read_shift(F),F=gp(I,2),I=gp(I,2);return{s:{r:_,c:F[0],cRel:F[1],rRel:F[2]},e:{r:k,c:I[0],cRel:I[1],rRel:I[2]}}}function JB(k){var x=gp(k,2),v=gp(k,2),_=k.read_shift(1),k=k.read_shift(1);return{s:{r:x[0],c:_,cRel:x[1],rRel:x[2]},e:{r:v[0],c:k,cRel:v[1],rRel:v[2]}}}function QB(I,x,F){if(F&&2<=F.biff&&F.biff<=5)return k=gp(_=I,2),_=_.read_shift(1),{r:k[0],c:_,cRel:k[1],rRel:k[2]};var _,k,F=I.read_shift(F&&F.biff==12?4:2),I=gp(I,2);return{r:F,c:I[0],cRel:I[1],rRel:I[2]}}function q1e(I,x,F){if(F=F&&F.biff?F.biff:8,2<=F&&F<=5)return function(ce){var W=ce.read_shift(2),q=ce.read_shift(1),Q=(32768&W)>>15,ce=(16384&W)>>14;return W&=16383,Q==1&&8192<=W&&(W-=16384),ce==1&&128<=q&&(q-=256),{r:W,c:q,cRel:ce,rRel:Q}}(I);var _=I.read_shift(12<=F?4:2),k=I.read_shift(2),F=(16384&k)>>14,I=(32768&k)>>15;if(k&=16383,I==1)for(;524287<_;)_-=1048576;if(F==1)for(;8191<k;)k-=16384;return{r:_,c:k,cRel:F,rRel:I}}function eU(d){var x=1&d[d.l+1];return d.l+=4,[x,1]}function tU(d){return[d.read_shift(1),d.read_shift(1)]}function G1e(d,x,v){var _=0,k=0;v.biff==12?(_=d.read_shift(4),k=d.read_shift(4)):(k=1+d.read_shift(1),_=1+d.read_shift(2)),2<=v.biff&&v.biff<8&&(--_,--k==0&&(k=256));for(var F=0,I=[];F!=_&&(I[F]=[]);++F)for(var R=0;R!=k;++R)I[F][R]=function(W,q){var Q=[W.read_shift(1)];if(q==12)switch(Q[0]){case 2:Q[0]=4;break;case 4:Q[0]=16;break;case 0:Q[0]=1;break;case 1:Q[0]=2}switch(Q[0]){case 4:Q[1]=Li(W,1)?"TRUE":"FALSE",q!=12&&(W.l+=7);break;case 37:case 16:Q[1]=Tc[W[W.l]],W.l+=q==12?4:8;break;case 0:W.l+=8;break;case 1:Q[1]=Gt(W);break;case 2:Q[1]=e0(W,0,{biff:0<q&&q<8?2:q});break;default:throw new Error("Bad SerAr: "+Q[0])}return Q}(d,v.biff);return I}function ow(d,x,v){return d.l+=2,[(d=(_=d).read_shift(2),_=_.read_shift(2),{r:d,c:255&_,fQuoted:!!(16384&_),cRel:_>>15,rRel:_>>15})];var _}function l8(d){return d.l+=6,[]}function rU(d){return d.l+=2,[Ro(d),1&d.read_shift(2)]}var K1e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],nU={1:{n:"PtgExp",f:function(d,x,v){return d.l++,v&&v.biff==12?[d.read_shift(4,"i"),0]:[d.read_shift(2),d.read_shift(v&&v.biff==2?1:2)]}},2:{n:"PtgTbl",f:gi},3:{n:"PtgAdd",f:Nl},4:{n:"PtgSub",f:Nl},5:{n:"PtgMul",f:Nl},6:{n:"PtgDiv",f:Nl},7:{n:"PtgPower",f:Nl},8:{n:"PtgConcat",f:Nl},9:{n:"PtgLt",f:Nl},10:{n:"PtgLe",f:Nl},11:{n:"PtgEq",f:Nl},12:{n:"PtgGe",f:Nl},13:{n:"PtgGt",f:Nl},14:{n:"PtgNe",f:Nl},15:{n:"PtgIsect",f:Nl},16:{n:"PtgUnion",f:Nl},17:{n:"PtgRange",f:Nl},18:{n:"PtgUplus",f:Nl},19:{n:"PtgUminus",f:Nl},20:{n:"PtgPercent",f:Nl},21:{n:"PtgParen",f:Nl},22:{n:"PtgMissArg",f:Nl},23:{n:"PtgStr",f:function(d,x,v){return d.l++,ng(d,0,v)}},26:{n:"PtgSheet",f:function(d,x,v){return d.l+=5,d.l+=2,d.l+=v.biff==2?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(d,x,v){return d.l+=v.biff==2?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(d){return d.l++,Tc[d.read_shift(1)]}},29:{n:"PtgBool",f:function(d){return d.l++,d.read_shift(1)!==0}},30:{n:"PtgInt",f:function(d){return d.l++,d.read_shift(2)}},31:{n:"PtgNum",f:function(d){return d.l++,Gt(d)}},32:{n:"PtgArray",f:function(d,x,v){var _=(96&d[d.l++])>>5;return d.l+=v.biff==2?6:v.biff==12?14:7,[_]}},33:{n:"PtgFunc",f:function(d,x,v){var _=(96&d[d.l])>>5;return d.l+=1,v=d.read_shift(v&&v.biff<=3?1:2),[age[v],sU[v],_]}},34:{n:"PtgFuncVar",f:function(d,x,v){var _=d[d.l++],k=d.read_shift(1),F=v&&v.biff<=3?[_==88?-1:0,d.read_shift(1)]:[(F=d)[F.l+1]>>7,32767&F.read_shift(2)];return[k,(F[0]===0?sU:nge)[F[1]]]}},35:{n:"PtgName",f:function(d,x,v){var _=d.read_shift(1)>>>5&3,k=!v||8<=v.biff?4:2,k=d.read_shift(k);switch(v.biff){case 2:d.l+=5;break;case 3:case 4:d.l+=8;break;case 5:d.l+=12}return[_,0,k]}},36:{n:"PtgRef",f:function(d,x,v){var _=(96&d[d.l])>>5;return d.l+=1,[_,QB(d,0,v)]}},37:{n:"PtgArea",f:function(d,x,v){return[(96&d[d.l++])>>5,ZB(d,2<=v.biff&&v.biff,v)]}},38:{n:"PtgMemArea",f:function(d,x,v){var _=d.read_shift(1)>>>5&3;return d.l+=v&&v.biff==2?3:4,[_,d.read_shift(v&&v.biff==2?1:2)]}},39:{n:"PtgMemErr",f:gi},40:{n:"PtgMemNoMem",f:gi},41:{n:"PtgMemFunc",f:function(d,x,v){return[d.read_shift(1)>>>5&3,d.read_shift(v&&v.biff==2?1:2)]}},42:{n:"PtgRefErr",f:function(d,x,v){var _=d.read_shift(1)>>>5&3;return d.l+=4,v.biff<8&&d.l--,v.biff==12&&(d.l+=2),[_]}},43:{n:"PtgAreaErr",f:function(d,x,v){var _=(96&d[d.l++])>>5;return d.l+=v&&8<v.biff?12:v.biff<8?6:8,[_]}},44:{n:"PtgRefN",f:function(d,x,v){var _=(96&d[d.l])>>5;return d.l+=1,[_,q1e(d,0,v)]}},45:{n:"PtgAreaN",f:function(d,x,v){return[(96&d[d.l++])>>5,function(W,R){if(R.biff<8)return JB(W);var F=W.read_shift(R.biff==12?4:2),I=W.read_shift(R.biff==12?4:2),R=gp(W,2),W=gp(W,2);return{s:{r:F,c:R[0],cRel:R[1],rRel:R[2]},e:{r:I,c:W[0],cRel:W[1],rRel:W[2]}}}(d,v)]}},46:{n:"PtgMemAreaN",f:function(d){return[d.read_shift(1)>>>5&3,d.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(d){return[d.read_shift(1)>>>5&3,d.read_shift(2)]}},57:{n:"PtgNameX",f:function(d,x,v){return v.biff==5?function(_){var k=_.read_shift(1)>>>5&3,F=_.read_shift(2,"i");_.l+=8;var I=_.read_shift(2);return _.l+=12,[k,F,I]}(d):[d.read_shift(1)>>>5&3,d.read_shift(2),d.read_shift(4)]}},58:{n:"PtgRef3d",f:function(d,x,v){var _=(96&d[d.l])>>5;d.l+=1;var k=d.read_shift(2);return v&&v.biff==5&&(d.l+=12),[_,k,QB(d,0,v)]}},59:{n:"PtgArea3d",f:function(d,x,v){var _=(96&d[d.l++])>>5,k=d.read_shift(2,"i");if(v)switch(v.biff){case 5:d.l+=12;break}return[_,k,ZB(d,0,v)]}},60:{n:"PtgRefErr3d",f:function(d,x,v){var _=(96&d[d.l++])>>5,k=d.read_shift(2),F=4;if(v)switch(v.biff){case 5:F=15;break;case 12:F=6}return d.l+=F,[_,k]}},61:{n:"PtgAreaErr3d",f:function(d,x,v){var _=(96&d[d.l++])>>5,k=d.read_shift(2),F=8;if(v)switch(v.biff){case 5:d.l+=12,F=6;break;case 12:F=12}return d.l+=F,[_,k]}},255:{}},Y1e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},X1e={1:{n:"PtgElfLel",f:rU},2:{n:"PtgElfRw",f:ow},3:{n:"PtgElfCol",f:ow},6:{n:"PtgElfRwV",f:ow},7:{n:"PtgElfColV",f:ow},10:{n:"PtgElfRadical",f:ow},11:{n:"PtgElfRadicalS",f:l8},13:{n:"PtgElfColS",f:l8},15:{n:"PtgElfColSV",f:l8},16:{n:"PtgElfRadicalLel",f:rU},25:{n:"PtgList",f:function(F){F.l+=2;var x=F.read_shift(2),v=F.read_shift(2),_=F.read_shift(4),k=F.read_shift(2),F=F.read_shift(2);return{ixti:x,coltype:3&v,rt:K1e[v>>2&31],idx:_,c:k,C:F}}},29:{n:"PtgSxName",f:function(d){return d.l+=2,[d.read_shift(4)]}},255:{}},Z1e={0:{n:"PtgAttrNoop",f:function(d){return d.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(d,x,v){var _=255&d[d.l+1]?1:0;return d.l+=v&&v.biff==2?3:4,[_]}},2:{n:"PtgAttrIf",f:function(d,x,v){var _=255&d[d.l+1]?1:0;return d.l+=2,[_,d.read_shift(v&&v.biff==2?1:2)]}},4:{n:"PtgAttrChoose",f:function(d,x,v){d.l+=2;for(var _=d.read_shift(v&&v.biff==2?1:2),k=[],F=0;F<=_;++F)k.push(d.read_shift(v&&v.biff==2?1:2));return k}},8:{n:"PtgAttrGoto",f:function(d,x,v){var _=255&d[d.l+1]?1:0;return d.l+=2,[_,d.read_shift(v&&v.biff==2?1:2)]}},16:{n:"PtgAttrSum",f:function(d,x,v){d.l+=v&&v.biff==2?3:4}},32:{n:"PtgAttrBaxcel",f:eU},33:{n:"PtgAttrBaxcel",f:eU},64:{n:"PtgAttrSpace",f:function(d){return d.read_shift(2),tU(d)}},65:{n:"PtgAttrSpaceSemi",f:function(d){return d.read_shift(2),tU(d)}},128:{n:"PtgAttrIfError",f:function(d){var x=255&d[d.l+1]?1:0;return d.l+=2,[x,d.read_shift(2)]}},255:{}};function lw(d,x,v,_){if(_.biff<8)return gi(d,x);for(var k=d.l+x,F=[],I=0;I!==v.length;++I)switch(v[I][0]){case"PtgArray":v[I][1]=G1e(d,0,_),F.push(v[I][1]);break;case"PtgMemArea":v[I][2]=function(R,W){for(var q=R.read_shift(W.biff==12?4:2),Q=[],ce=0;ce!=q;++ce)Q.push((W.biff==12?Nt:sg)(R));return Q}(d,(v[I][1],_)),F.push(v[I][2]);break;case"PtgExp":_&&_.biff==12&&(v[I][1][1]=d.read_shift(4),F.push(v[I][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+v[I][0]}return(x=k-d.l)!==0&&F.push(gi(d,x)),F}function cw(d,x,v){for(var _,k,F=d.l+x,I=[];F!=d.l;)x=F-d.l,k=d[d.l],_=nU[k]||nU[Y1e[k]],(_=k===24||k===25?(k===24?X1e:Z1e)[d[d.l+1]]:_)&&_.f?I.push([_.n,_.f(d,x,v)]):gi(d,x);return I}var J1e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function aU(d,x,v){if(!d)return"SH33TJSERR0";if(8<v.biff&&(!d.XTI||!d.XTI[x]))return d.SheetNames[x];if(!d.XTI)return"SH33TJSERR6";var _=d.XTI[x];if(v.biff<8)return 1e4<x&&(x-=65536),(x=x<0?-x:x)==0?"":d.XTI[x-1];if(!_)return"SH33TJSERR1";var k="";if(8<v.biff)switch(d[_[0]][0]){case 357:return k=_[1]==-1?"#REF":d.SheetNames[_[1]],_[1]==_[2]?k:k+":"+d.SheetNames[_[2]];case 358:return v.SID!=null?d.SheetNames[v.SID]:"SH33TJSSAME"+d[_[0]][0];case 355:default:return"SH33TJSSRC"+d[_[0]][0]}switch(d[_[0]][0][0]){case 1025:return k=_[1]==-1?"#REF":d.SheetNames[_[1]]||"SH33TJSERR3",_[1]==_[2]?k:k+":"+d.SheetNames[_[2]];case 14849:return d[_[0]].slice(1).map(function(F){return F.Name}).join(";;");default:return d[_[0]][0][3]?(k=_[1]==-1?"#REF":d[_[0]][0][3][_[1]]||"SH33TJSERR4",_[1]==_[2]?k:k+":"+d[_[0]][0][3][_[2]]):"SH33TJSERR2"}}function iU(d,x,v){return x=aU(d,x,v),x=="#REF"?x:function(_,k){if(!(_||k&&k.biff<=5&&2<=k.biff))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(_)?"'"+_+"'":_}(x,v)}function Fu(d,x,v,_,k){var F,I,R,W=k&&k.biff||8,q={s:{c:0,r:0},e:{c:0,r:0}},Q=[],ce=0,fe=0,pe="";if(!d[0]||!d[0][0])return"";for(var Ae=-1,ve="",Re=0,je=d[0].length;Re<je;++Re){var _e=d[0][Re];switch(_e[0]){case"PtgUminus":Q.push("-"+Q.pop());break;case"PtgUplus":Q.push("+"+Q.pop());break;case"PtgPercent":Q.push(Q.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(cn=Q.pop(),F=Q.pop(),0<=Ae){switch(d[0][Ae][1][0]){case 0:ve=Ot(" ",d[0][Ae][1][1]);break;case 1:ve=Ot("\r",d[0][Ae][1][1]);break;default:if(ve="",k.WTF)throw new Error("Unexpected PtgAttrSpaceType "+d[0][Ae][1][0])}F+=ve,Ae=-1}Q.push(F+J1e[_e[0]]+cn);break;case"PtgIsect":cn=Q.pop(),F=Q.pop(),Q.push(F+" "+cn);break;case"PtgUnion":cn=Q.pop(),F=Q.pop(),Q.push(F+","+cn);break;case"PtgRange":cn=Q.pop(),F=Q.pop(),Q.push(F+":"+cn);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":break;case"PtgRef":I=ru(_e[1][1],q,k),Q.push(hs(I,W));break;case"PtgRefN":I=v?ru(_e[1][1],v,k):_e[1][1],Q.push(hs(I,W));break;case"PtgRef3d":ce=_e[1][1],I=ru(_e[1][2],q,k),pe=iU(_,ce,k),Q.push(pe+"!"+hs(I,W));break;case"PtgFunc":case"PtgFuncVar":var We=_e[1][0],Fe=_e[1][1],We=We||0,He=(We&=127)==0?[]:Q.slice(-We);Q.length-=We,Fe==="User"&&(Fe=He.shift()),Q.push(Fe+"("+He.join(",")+")");break;case"PtgBool":Q.push(_e[1]?"TRUE":"FALSE");break;case"PtgInt":Q.push(_e[1]);break;case"PtgNum":Q.push(String(_e[1]));break;case"PtgStr":Q.push('"'+_e[1].replace(/"/g,'""')+'"');break;case"PtgErr":Q.push(_e[1]);break;case"PtgAreaN":R=Dd(_e[1][1],v?{s:v}:q,k),Q.push(Tu(R,k));break;case"PtgArea":R=Dd(_e[1][1],q,k),Q.push(Tu(R,k));break;case"PtgArea3d":ce=_e[1][1],R=_e[1][2],pe=iU(_,ce,k),Q.push(pe+"!"+Tu(R,k));break;case"PtgAttrSum":Q.push("SUM("+Q.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":fe=_e[1][2];var mt=(_.names||[])[fe-1]||(_[0]||[])[fe],At=mt?mt.Name:"SH33TJSNAME"+String(fe);At&&At.slice(0,6)=="_xlfn."&&!k.xlfn&&(At=At.slice(6)),Q.push(At);break;case"PtgNameX":var vt,Bt=_e[1][1],fe=_e[1][2];if(!(k.biff<=5)){mt="",((_[Bt]||[])[0]||[])[0]==14849||(((_[Bt]||[])[0]||[])[0]==1025?_[Bt][fe]&&0<_[Bt][fe].itab&&(mt=_.SheetNames[_[Bt][fe].itab-1]+"!"):mt=_.SheetNames[fe-1]+"!"),_[Bt]&&_[Bt][fe]?mt+=_[Bt][fe].Name:_[0]&&_[0][fe]?mt+=_[0][fe].Name:(At=(aU(_,Bt,k)||"").split(";;"))[fe-1]?mt=At[fe-1]:mt+="SH33TJSERRX",Q.push(mt);break}vt=(vt=_[Bt=Bt<0?-Bt:Bt]?_[Bt][fe]:vt)||{Name:"SH33TJSERRY"},Q.push(vt.Name);break;case"PtgParen":var dr="(",fr=")";if(0<=Ae){switch(ve="",d[0][Ae][1][0]){case 2:dr=Ot(" ",d[0][Ae][1][1])+dr;break;case 3:dr=Ot("\r",d[0][Ae][1][1])+dr;break;case 4:fr=Ot(" ",d[0][Ae][1][1])+fr;break;case 5:fr=Ot("\r",d[0][Ae][1][1])+fr;break;default:if(k.WTF)throw new Error("Unexpected PtgAttrSpaceType "+d[0][Ae][1][0])}Ae=-1}Q.push(dr+Q.pop()+fr);break;case"PtgRefErr":case"PtgRefErr3d":Q.push("#REF!");break;case"PtgExp":I={c:_e[1][1],r:_e[1][0]};var Wt={c:v.c,r:v.r};if(_.sharedf[wn(I)])Bt=_.sharedf[wn(I)],Q.push(Fu(Bt,0,Wt,_,k));else{for(var Cr=!1,cn=0;cn!=_.arrayf.length;++cn)if(F=_.arrayf[cn],!(I.c<F[0].s.c||I.c>F[0].e.c||I.r<F[0].s.r||I.r>F[0].e.r)){Q.push(Fu(F[1],0,Wt,_,k)),Cr=!0;break}Cr||Q.push(_e[1])}break;case"PtgArray":Q.push("{"+function($r){for(var Fr=[],xr=0;xr<$r.length;++xr){for(var gn=$r[xr],Nn=[],ra=0;ra<gn.length;++ra){var ni=gn[ra];ni?ni[0]===2?Nn.push('"'+ni[1].replace(/"/g,'""')+'"'):Nn.push(ni[1]):Nn.push("")}Fr.push(Nn.join(","))}return Fr.join(";")}(_e[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":Ae=Re;break;case"PtgTbl":case"PtgMemErr":break;case"PtgMissArg":Q.push("");break;case"PtgAreaErr":case"PtgAreaErr3d":Q.push("#REF!");break;case"PtgList":Q.push("Table"+_e[1].idx+"[#"+_e[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":default:throw new Error("Unrecognized Formula Token: "+String(_e))}if(k.biff!=3&&0<=Ae&&["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(d[0][Re][0])==-1){var Qr=!0;switch((_e=d[0][Ae])[1][0]){case 4:Qr=!1;case 0:ve=Ot(" ",_e[1][1]);break;case 5:Qr=!1;case 1:ve=Ot("\r",_e[1][1]);break;default:if(ve="",k.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_e[1][0])}Q.push((Qr?ve:"")+Q.pop()+(Qr?"":ve)),Ae=-1}}if(1<Q.length&&k.WTF)throw new Error("bad formula stack");return Q[0]}function c8(d,I,v){var _=d.l+I,k=ad(d);v.biff==2&&++d.l;var F=function(R){var W;if(Ur(R,R.l+6)!==65535)return[Gt(R),"n"];switch(R[R.l]){case 0:return R.l+=8,["String","s"];case 1:return W=R[R.l+2]===1,R.l+=8,[W,"b"];case 2:return W=R[R.l+2],R.l+=8,[W,"e"];case 3:return R.l+=8,["","s"]}return[]}(d),I=d.read_shift(1);return v.biff!=2&&(d.read_shift(1),5<=v.biff&&d.read_shift(4)),v=function(R,W,q){var Q,ce=R.l+W,fe=q.biff==2?1:2,pe=R.read_shift(fe);if(pe==65535)return[[],gi(R,W-2)];var Ae=cw(R,pe,q);return W!==pe+fe&&(Q=lw(R,W-pe-fe,Ae,q)),R.l=ce,[Ae,Q]}(d,_-d.l,v),{cell:k,val:F[0],formula:v,shared:I>>3&1,tt:F[1]}}function Q1e(d,x,v,_,k){x=t0(x,v,k),k=(v=d.v)!=null?or(typeof v=="number"?v:0):((v=Kt(8)).write_shift(1,3),v.write_shift(1,0),v.write_shift(2,0),v.write_shift(2,0),v.write_shift(2,65535),v),v=Kt(6),v.write_shift(2,33),v.write_shift(4,0);for(var F=Kt(d.bf.length),I=0;I<d.bf.length;++I)F[I]=d.bf[I];return re([x,k,v,F])}function sN(d,x,v){var k=d.read_shift(4),_=cw(d,k,v),k=d.read_shift(4);return[_,0<k?lw(d,k,_,v):null]}var ege=sN,oN=sN,tge=sN,rge=sN,nge={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},sU={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},age={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function oU(d){return(d=(d=(d=(d=(d=d.slice(0,3)=="of:"?d.slice(3):d).charCodeAt(0)==61&&(d=d.slice(1)).charCodeAt(0)==61?d.slice(1):d).replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(x,v){return v.replace(/\./g,"")})).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function u8(d){return d=d.split(":"),[d[0].split(".")[0],d[0].split(".")[1]+(1<d.length?":"+(d[1].split(".")[1]||d[1].split(".")[0]):"")]}var uw={},Tv={},dw=typeof Map<"u";function d8(d,x,v){var _=0,k=d.length;if(v){if(dw?v.has(x):Object.prototype.hasOwnProperty.call(v,x)){for(var F=dw?v.get(x):v[x];_<F.length;++_)if(d[F[_]].t===x)return d.Count++,F[_]}}else for(;_<k;++_)if(d[_].t===x)return d.Count++,_;return d[k]={t:x},d.Count++,d.Unique++,v&&(dw?(v.has(x)||v.set(x,[]),v.get(x).push(k)):(Object.prototype.hasOwnProperty.call(v,x)||(v[x]=[]),v[x].push(k))),k}function lN(_,x){var v={min:_+1,max:_+1},_=-1;return x.MDW&&(_l=x.MDW),x.width!=null?v.customWidth=1:x.wpx!=null?_=fg(x.wpx):x.wch!=null&&(_=x.wch),-1<_?(v.width=mp(_),v.customWidth=1):x.width!=null&&(v.width=x.width),x.hidden&&(v.hidden=!0),x.level!=null&&(v.outlineLevel=v.level=x.level),v}function mg(d,x){d&&(x=x=="xlml"?[1,1,1,1,.5,.5]:[.7,.7,.75,.75,.3,.3],d.left==null&&(d.left=x[0]),d.right==null&&(d.right=x[1]),d.top==null&&(d.top=x[2]),d.bottom==null&&(d.bottom=x[3]),d.header==null&&(d.header=x[4]),d.footer==null&&(d.footer=x[5]))}function xp(d,x,v){if(iw!==void 0){if(/^\d+$/.exec(x.s)||x.s&&x.s==+x.s)return x.s;var _=x.s||{};return x.z&&(_.numFmt=x.z),iw.addStyle(_)}var k=v.revssf[x.z!=null?x.z:"General"],F=60,I=d.length;if(k==null&&v.ssf){for(;F<392;++F)if(v.ssf[F]==null){Fn(x.z,F),v.ssf[F]=x.z,v.revssf[x.z]=k=F;break}}for(F=0;F!=I;++F)if(d[F].numFmtId===k)return F;return d[I]={numFmtId:k,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},I}function lU(d,x,v,_,k,F){try{_.cellNF&&(d.z=te[x])}catch(R){if(_.WTF)throw R}if(d.t!=="z"||_.cellStyles){if(d.t==="d"&&typeof d.v=="string"&&(d.v=Xe(d.v)),(!_||_.cellText!==!1)&&d.t!=="z")try{if(te[x]==null&&Fn(_a[x]||"General",x),d.t==="e")d.w=d.w||Tc[d.v];else if(x===0)if(d.t==="n")(0|d.v)===d.v?d.w=d.v.toString(10):d.w=Me(d.v);else if(d.t==="d"){var I=Va(d.v);d.w=(0|I)===I?I.toString(10):Me(I)}else{if(d.v===void 0)return;d.w=wt(d.v,Tv)}else d.t==="d"?d.w=ln(x,Va(d.v),Tv):d.w=ln(x,d.v,Tv)}catch(R){if(_.WTF)throw R}if(_.cellStyles&&v!=null)try{d.s=F.Fills[v],d.s.fgColor&&d.s.fgColor.theme&&!d.s.fgColor.rgb&&(d.s.fgColor.rgb=od(k.themeElements.clrScheme[d.s.fgColor.theme].rgb,d.s.fgColor.tint||0),_.WTF&&(d.s.fgColor.raw_rgb=k.themeElements.clrScheme[d.s.fgColor.theme].rgb)),d.s.bgColor&&d.s.bgColor.theme&&(d.s.bgColor.rgb=od(k.themeElements.clrScheme[d.s.bgColor.theme].rgb,d.s.bgColor.tint||0),_.WTF&&(d.s.bgColor.raw_rgb=k.themeElements.clrScheme[d.s.bgColor.theme].rgb))}catch(R){if(_.WTF&&F.Fills)throw R}}}var ige=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,sge=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,oge=/<(?:\w:)?hyperlink [^>]*>/gm,lge=/"(\w*:\w*)"/,cge=/<(?:\w:)?col\b[^>]*[\/]?>/g,uge=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,dge=/<(?:\w:)?pageMargins[^>]*\/>/g,cU=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,fge=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,hge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function mge(d,x,v,_,k,F,I){if(!d)return d;_=_||{"!id":{}};var R=x.dense?[]:{},W={s:{r:2e6,c:2e6},e:{r:0,c:0}},q="",At="",Q=d.match(sge);Q?(q=d.slice(0,Q.index),At=d.slice(Q.index+Q[0].length)):q=At=d;var ce=q.match(cU);ce?f8(ce[0],0,k,v):(ce=q.match(fge))&&(d=ce[0],ce[1],ce=R,fe=k,pe=v,f8(d.slice(0,d.indexOf(">")),0,fe,pe));var fe,pe,Ae=(q.match(/<(?:\w*:)?dimension/)||{index:-1}).index;0<Ae&&(fe=q.slice(Ae,Ae+50).match(lge))&&(pe=R,(Re=La(Re=fe[1])).s.r<=Re.e.r&&Re.s.c<=Re.e.c&&0<=Re.s.r&&0<=Re.s.c&&(pe["!ref"]=kn(Re)));var ve,Re=q.match(hge);Re&&Re[1]&&(_e=Re[1],(ve=k).Views||(ve.Views=[{}]),(_e.match(xge)||[]).forEach(function(vt,Bt){vt=Wn(vt),ve.Views[Bt]||(ve.Views[Bt]={}),+vt.zoomScale&&(ve.Views[Bt].zoom=+vt.zoomScale),Jr(vt.rightToLeft)&&(ve.Views[Bt].RTL=!0)}));var je,_e=[];x.cellStyles&&(je=q.match(cge))&&function(vt,Bt){for(var dr=!1,fr=0;fr!=Bt.length;++fr){var Wt=Wn(Bt[fr],!0);Wt.hidden&&(Wt.hidden=Jr(Wt.hidden));var Cr=parseInt(Wt.min,10)-1,cn=parseInt(Wt.max,10)-1;for(Wt.outlineLevel&&(Wt.level=+Wt.outlineLevel||0),delete Wt.min,delete Wt.max,Wt.width=+Wt.width,!dr&&Wt.width&&(dr=!0,n8(Wt.width)),pp(Wt);Cr<=cn;)vt[Cr++]=yt(Wt)}}(_e,je),Q&&vge(Q[1],R,x,W,F,I),I=At.match(uge),I&&(R["!autofilter"]={ref:(I[0].match(/ref="([^"]*)"/)||[])[1]});var Fe=[],We=At.match(ige);if(We)for(Ae=0;Ae!=We.length;++Ae)Fe[Ae]=La(We[Ae].slice(We[Ae].indexOf('"')+1));I=At.match(oge),I&&function(vt,Bt,dr){for(var fr=Array.isArray(vt),Wt=0;Wt!=Bt.length;++Wt){var Cr=Wn(wi(Bt[Wt]),!0);if(!Cr.ref)return;var cn=((dr||{})["!id"]||[])[Cr.id];cn?(Cr.Target=cn.Target,Cr.location&&(Cr.Target+="#"+vn(Cr.location))):(Cr.Target="#"+vn(Cr.location),cn={Target:Cr.Target,TargetMode:"Internal"}),Cr.Rel=cn,Cr.tooltip&&(Cr.Tooltip=Cr.tooltip,delete Cr.tooltip);for(var Qr=La(Cr.ref),Lr=Qr.s.r;Lr<=Qr.e.r;++Lr)for(var $r=Qr.s.c;$r<=Qr.e.c;++$r){var Fr=wn({c:$r,r:Lr});fr?(vt[Lr]||(vt[Lr]=[]),vt[Lr][$r]||(vt[Lr][$r]={t:"z",v:void 0}),vt[Lr][$r].l=Cr):(vt[Fr]||(vt[Fr]={t:"z",v:void 0}),vt[Fr].l=Cr)}}}(R,I,_);var He,mt,At=At.match(dge);return At&&(R["!margins"]=(He=Wn(At[0]),mt={},["left","right","top","bottom","header","footer"].forEach(function(vt){He[vt]&&(mt[vt]=parseFloat(He[vt]))}),mt)),!R["!ref"]&&W.e.c>=W.s.c&&W.e.r>=W.s.r&&(R["!ref"]=kn(W)),0<x.sheetRows&&R["!ref"]&&(At=La(R["!ref"]),x.sheetRows<=+At.e.r&&(At.e.r=x.sheetRows-1,At.e.r>W.e.r&&(At.e.r=W.e.r),At.e.r<At.s.r&&(At.s.r=At.e.r),At.e.c>W.e.c&&(At.e.c=W.e.c),At.e.c<At.s.c&&(At.s.c=At.e.c),R["!fullref"]=R["!ref"],R["!ref"]=kn(At))),0<_e.length&&(R["!cols"]=_e),0<Fe.length&&(R["!merges"]=Fe),R}function f8(d,x,v,_){d=Wn(d),v.Sheets[_]||(v.Sheets[_]={}),d.codeName&&(v.Sheets[_].CodeName=vn(wi(d.codeName)))}var pge=["objects","scenarios","selectLockedCells","selectUnlockedCells"],gge=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"],xge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/,uU,dU,fU,hU,mU,pU,gU,vge=(uU=/<(?:\w+:)?c[ \/>]/,dU=/<\/(?:\w+:)?row>/,fU=/r=["']([^"']*)["']/,hU=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,mU=/ref=["']([^"']*)["']/,pU=sa("v"),gU=sa("f"),function(d,x,v,_,k,F){for(var I,R,W,q,Q,ce,fe=0,pe="",Ae=[],ve=[],Re=0,je=0,_e="",Fe=0,We=0,He=0,mt=0,At=Array.isArray(F.CellXf),vt=[],Bt=[],dr=Array.isArray(x),fr=[],Wt={},Cr=!1,cn=!!v.sheetStubs,Qr=d.split(dU),Lr=0,$r=Qr.length;Lr!=$r;++Lr){var Fr=(pe=Qr[Lr].trim()).length;if(Fr!==0){var xr=0;e:for(fe=0;fe<Fr;++fe)switch(pe[fe]){case">":if(pe[fe-1]!="/"){++fe;break e}if(v&&v.cellStyles){if(Fe=(W=Wn(pe.slice(xr,fe),!0)).r!=null?parseInt(W.r,10):Fe+1,We=-1,v.sheetRows&&v.sheetRows<Fe)continue;Cr=!(Wt={}),W.ht&&(Cr=!0,Wt.hpt=parseFloat(W.ht),Wt.hpx=Av(Wt.hpt)),W.hidden=="1"&&(Cr=!0,Wt.hidden=!0),W.outlineLevel!=null&&(Cr=!0,Wt.level=+W.outlineLevel),Cr&&(fr[Fe-1]=Wt)}break;case"<":xr=fe}if(fe<=xr)break;if(Fe=(W=Wn(pe.slice(xr,fe),!0)).r!=null?parseInt(W.r,10):Fe+1,We=-1,!(v.sheetRows&&v.sheetRows<Fe)){_.s.r>Fe-1&&(_.s.r=Fe-1),_.e.r<Fe-1&&(_.e.r=Fe-1),v&&v.cellStyles&&(Cr=!(Wt={}),W.ht&&(Cr=!0,Wt.hpt=parseFloat(W.ht),Wt.hpx=Av(Wt.hpt)),W.hidden=="1"&&(Cr=!0,Wt.hidden=!0),W.outlineLevel!=null&&(Cr=!0,Wt.level=+W.outlineLevel),Cr&&(fr[Fe-1]=Wt)),Ae=pe.slice(fe).split(uU);for(var gn,Nn=0;Nn!=Ae.length&&Ae[Nn].trim().charAt(0)=="<";++Nn);for(Ae=Ae.slice(Nn),fe=0;fe!=Ae.length;++fe)if((pe=Ae[fe].trim()).length!==0){if(ve=pe.match(fU),Re=fe,je=0,pe="<c "+(pe.slice(0,1)=="<"?">":"")+pe,ve!=null&&ve.length===2){for(Re=0,_e=ve[1],je=0;je!=_e.length&&!((I=_e.charCodeAt(je)-64)<1||26<I);++je)Re=26*Re+I;We=--Re}else++We;for(je=0;je!=pe.length&&pe.charCodeAt(je)!==62;++je);if(++je,(W=Wn(pe.slice(0,je),!0)).r||(W.r=wn({r:Fe-1,c:We})),R={t:""},(ve=(_e=pe.slice(je)).match(pU))!=null&&ve[1]!==""&&(R.v=vn(ve[1])),v.cellFormula){(ve=_e.match(gU))!=null&&ve[1]!==""?(R.f=vn(wi(ve[1])).replace(/\r\n/g,`
`),v.xlfn||(R.f=XB(R.f)),-1<ve[0].indexOf('t="array"')?(R.F=(_e.match(mU)||[])[1],-1<R.F.indexOf(":")&&vt.push([La(R.F),R.F])):-1<ve[0].indexOf('t="shared"')&&(Q=Wn(ve[0]),gn=vn(wi(ve[1])),v.xlfn||(gn=XB(gn)),Bt[parseInt(Q.si,10)]=[Q,gn,W.r])):(ve=_e.match(/<f[^>]*\/>/))&&Bt[(Q=Wn(ve[0])).si]&&(R.f=(ce=Bt[Q.si][1],fn=Bt[Q.si][2],gn=W.r,fn=_o(fn).s,gn=ci(gn),YB(ce,{r:gn.r-fn.r,c:gn.c-fn.c})));for(var ra=ci(W.r),je=0;je<vt.length;++je)ra.r>=vt[je][0].s.r&&ra.r<=vt[je][0].e.r&&ra.c>=vt[je][0].s.c&&ra.c<=vt[je][0].e.c&&(R.F=vt[je][1])}if(W.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else{if(!cn)continue;R.t="z"}else R.t=W.t||"n";switch(_.s.c>We&&(_.s.c=We),_.e.c<We&&(_.e.c=We),R.t){case"n":if(R.v==""||R.v==null){if(!cn)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(R.v===void 0){if(!cn)continue;R.t="z"}else q=uw[parseInt(R.v,10)],R.v=q.t,R.r=q.r,v.cellHTML&&(R.h=q.h);break;case"str":R.t="s",R.v=R.v!=null?wi(R.v):"",v.cellHTML&&(R.h=tl(R.v));break;case"inlineStr":ve=_e.match(hU),R.t="s",ve!=null&&(q=Qb(ve[1]))?(R.v=q.t,v.cellHTML&&(R.h=q.h)):R.v="";break;case"b":R.v=Jr(R.v);break;case"d":v.cellDates?R.v=Xe(R.v,1):(R.v=Va(Xe(R.v,1)),R.t="n");break;case"e":v&&v.cellText===!1||(R.w=R.v),R.v=Wb[R.v]}var ni,He=mt=0,fn=null;At&&W.s!==void 0&&(fn=F.CellXf[W.s])!=null&&(fn.numFmtId!=null&&(He=fn.numFmtId),v.cellStyles&&fn.fillId!=null&&(mt=fn.fillId)),lU(R,He,mt,v,k,F),v.cellDates&&At&&R.t=="n"&&ca(te[He])&&(R.t="d",R.v=Ie(R.v)),W.cm&&v.xlmeta&&(ni=(v.xlmeta.Cell||[])[+W.cm-1])&&ni.type=="XLDAPR"&&(R.D=!0),dr?(x[(ni=ci(W.r)).r]||(x[ni.r]=[]),x[ni.r][ni.c]=R):x[W.r]=R}}}}0<fr.length&&(x["!rows"]=fr)});function yge(d,x){for(var v,_,k,F,I=[],R=[],W=La(d["!ref"]),q=[],Q=0,ve=0,ce=d["!rows"],fe=Array.isArray(d),pe={r:""},Ae=-1,ve=W.s.c;ve<=W.e.c;++ve)q[ve]=Ca(ve);for(Q=W.s.r;Q<=W.e.r;++Q){for(R=[],k=Oi(Q),ve=W.s.c;ve<=W.e.c;++ve){_=q[ve]+k;var Re=fe?(d[Q]||[])[ve]:d[_];Re!==void 0&&(v=function(je,_e,Fe,We){if(je.c&&Fe["!comments"].push([_e,je.c]),je.v===void 0&&typeof je.f!="string"||je.t==="z"&&!je.f)return"";var He="",mt=je.t,At=je.v;if(je.t!=="z")switch(je.t){case"b":He=je.v?"1":"0";break;case"n":He=""+je.v;break;case"e":He=Tc[je.v];break;case"d":He=We&&We.cellDates?Xe(je.v,-1).toISOString():((je=yt(je)).t="n",""+(je.v=Va(Xe(je.v)))),je.z===void 0&&(je.z=te[14]);break;default:He=je.v}var vt=Ys("v",Ke(He)),Bt={r:_e},dr=xp(We.cellXfs,je,We);switch(dr!==0&&(Bt.s=dr),je.t){case"n":break;case"d":Bt.t="d";break;case"b":Bt.t="b";break;case"e":Bt.t="e";break;case"z":break;default:if(je.v==null){delete je.t;break}if(32767<je.v.length)throw new Error("Text length must not exceed 32767 characters");if(We&&We.bookSST){vt=Ys("v",""+d8(We.Strings,je.v,We.revStrings)),Bt.t="s";break}Bt.t="str"}return je.t!=mt&&(je.t=mt,je.v=At),typeof je.f=="string"&&je.f&&(At=je.F&&je.F.slice(0,_e.length)==_e?{t:"array",ref:je.F}:null,vt=Er("f",Ke(je.f),At)+(je.v!=null?vt:"")),je.l&&Fe["!links"].push([_e,je.l]),je.D&&(Bt.cm=1),Er("c",vt,Bt)}(Re,_,d,x))!=null&&R.push(v)}(0<R.length||ce&&ce[Q])&&(pe={r:k},ce&&ce[Q]&&((F=ce[Q]).hidden&&(pe.hidden=1),Ae=-1,F.hpx?Ae=aw(F.hpx):F.hpt&&(Ae=F.hpt),-1<Ae&&(pe.ht=Ae,pe.customHeight=1),F.level&&(pe.outlineLevel=F.level)),I[I.length]=Er("row",R.join(""),pe))}if(ce)for(;Q<ce.length;++Q)ce&&ce[Q]&&(pe={r:Q+1},(F=ce[Q]).hidden&&(pe.hidden=1),Ae=-1,F.hpx?Ae=aw(F.hpx):F.hpt&&(Ae=F.hpt),-1<Ae&&(pe.ht=Ae,pe.customHeight=1),F.level&&(pe.outlineLevel=F.level),I[I.length]=Er("row","",pe));return I.join("")}function xU(d,x,v,_){var k,F,I=[Tn,Er("worksheet",null,{xmlns:tu[0],"xmlns:r":ps.r})],R=v.SheetNames[d],W=v.Sheets[R],q=(W=W??{})["!ref"]||"A1",Q=La(q);if(16383<Q.e.c||1048575<Q.e.r){if(x.WTF)throw new Error("Range "+q+" exceeds format limit A1:XFD1048576");Q.e.c=Math.min(Q.e.c,16383),Q.e.r=Math.min(Q.e.c,1048575),q=kn(Q)}_=_||{},W["!comments"]=[];var ce,fe,pe=[];(function(je,_e,Fe,We,He){var mt=!1,At={},vt=null;if(We.bookType!=="xlsx"&&_e.vbaraw){var Bt=_e.SheetNames[Fe];try{_e.Workbook&&(Bt=_e.Workbook.Sheets[Fe].CodeName||Bt)}catch{}mt=!0,At.codeName=Ri(Ke(Bt))}je&&je["!outline"]&&(We={summaryBelow:1,summaryRight:1},je["!outline"].above&&(We.summaryBelow=0),je["!outline"].left&&(We.summaryRight=0),vt=(vt||"")+Er("outlinePr",null,We)),(mt||vt)&&(He[He.length]=Er("sheetPr",vt,At))})(W,v,d,x,I),I[I.length]=Er("dimension",null,{ref:q}),I[I.length]=(R={workbookViewId:"0"},((((Q=v)||{}).Workbook||{}).Views||[])[0]&&(R.rightToLeft=Q.Workbook.Views[0].RTL?"1":"0"),Er("sheetViews",Er("sheetView",null,R),{})),x.sheetFormat&&(I[I.length]=Er("sheetFormatPr",null,{defaultRowHeight:x.sheetFormat.defaultRowHeight||"16",baseColWidth:x.sheetFormat.baseColWidth||"10",outlineLevelRow:x.sheetFormat.outlineLevelRow||"7"})),W["!cols"]!=null&&0<W["!cols"].length&&(I[I.length]=function(je){for(var _e,Fe=["<cols>"],We=0;We!=je.length;++We)(_e=je[We])&&(Fe[Fe.length]=Er("col",null,lN(We,_e)));return Fe[Fe.length]="</cols>",Fe.join("")}(W["!cols"])),I[k=I.length]="<sheetData/>",W["!links"]=[],W["!ref"]!=null&&0<(F=yge(W,x)).length&&(I[I.length]=F),I.length>k+1&&(I[I.length]="</sheetData>",I[k]=I[k].replace("/>",">")),W["!protect"]&&(I[I.length]=(ce=W["!protect"],fe={sheet:1},pge.forEach(function(je){ce[je]!=null&&ce[je]&&(fe[je]="1")}),gge.forEach(function(je){ce[je]==null||ce[je]||(fe[je]="0")}),ce.password&&(fe.password=Sv(ce.password).toString(16).toUpperCase()),Er("sheetProtection",null,fe))),W["!autofilter"]!=null&&(I[I.length]=function(je,_e,Fe,We){var He=typeof je.ref=="string"?je.ref:kn(je.ref);Fe.Workbook||(Fe.Workbook={Sheets:[]}),Fe.Workbook.Names||(Fe.Workbook.Names=[]);var mt=Fe.Workbook.Names;(je=_o(He)).s.r==je.e.r&&(je.e.r=_o(_e["!ref"]).e.r,He=kn(je));for(var At=0;At<mt.length;++At){var vt=mt[At];if(vt.Name=="_xlnm._FilterDatabase"&&vt.Sheet==We){vt.Ref="'"+Fe.SheetNames[We]+"'!"+He;break}}return At==mt.length&&mt.push({Name:"_xlnm._FilterDatabase",Sheet:We,Ref:"'"+Fe.SheetNames[We]+"'!"+He}),Er("autoFilter",null,{ref:He})}(W["!autofilter"],W,v,d)),W["!merges"]!=null&&0<W["!merges"].length&&(I[I.length]=function(je){if(je.length===0)return"";for(var _e='<mergeCells count="'+je.length+'">',Fe=0;Fe!=je.length;++Fe)_e+='<mergeCell ref="'+kn(je[Fe])+'"/>';return _e+"</mergeCells>"}(W["!merges"]));var Ae,ve,Re=-1;return 0<W["!links"].length&&(I[I.length]="<hyperlinks>",W["!links"].forEach(function(je){je[1].Target&&(ve={ref:je[0]},je[1].Target.charAt(0)!="#"&&(Re=Ii(_,-1,Ke(je[1].Target).replace(/#.*$/,""),Ha.HLINK),ve["r:id"]="rId"+Re),-1<(Ae=je[1].Target.indexOf("#"))&&(ve.location=Ke(je[1].Target.slice(Ae+1))),je[1].Tooltip&&(ve.tooltip=Ke(je[1].Tooltip)),I[I.length]=Er("hyperlink",null,ve))}),I[I.length]="</hyperlinks>"),delete W["!links"],W["!margins"]!=null&&(I[I.length]=(mg(v=W["!margins"]),Er("pageMargins",null,v))),x&&!x.ignoreEC&&x.ignoreEC!=null||(I[I.length]=Ys("ignoredErrors",Er("ignoredError",null,{numberStoredAsText:1,sqref:q}))),0<pe.length&&(Re=Ii(_,-1,"../drawings/drawing"+(d+1)+".xml",Ha.DRAW),I[I.length]=Er("drawing",null,{"r:id":"rId"+Re}),W["!drawing"]=pe),0<W["!comments"].length&&(Re=Ii(_,-1,"../drawings/vmlDrawing"+(d+1)+".vml",Ha.VML),I[I.length]=Er("legacyDrawing",null,{"r:id":"rId"+Re}),W["!legacy"]=Re),1<I.length&&(I[I.length]="</worksheet>",I[1]=I[1].replace("/>",">")),I.join("")}function bge(d,x,v,_){v=function(k,F,I){var R=Kt(145),W=(I["!rows"]||[])[k]||{};R.write_shift(4,k),R.write_shift(4,0);var Q=320;W.hpx?Q=20*aw(W.hpx):W.hpt&&(Q=20*W.hpt),R.write_shift(2,Q),R.write_shift(1,0),Q=0,W.level&&(Q|=W.level),W.hidden&&(Q|=16),(W.hpx||W.hpt)&&(Q|=32),R.write_shift(1,Q),R.write_shift(1,0);var q=0,Q=R.l;R.l+=4;for(var ce={r:k,c:0},fe=0;fe<16;++fe)if(!(F.s.c>fe+1<<10||F.e.c<fe<<10)){for(var pe=-1,Ae=-1,ve=fe<<10;ve<fe+1<<10;++ve)ce.c=ve,(Array.isArray(I)?(I[ce.r]||[])[ce.c]:I[wn(ce)])&&(pe<0&&(pe=ve),Ae=ve);pe<0||(++q,R.write_shift(4,pe),R.write_shift(4,Ae))}return k=R.l,R.l=Q,R.write_shift(4,q),R.l=k,R.length>R.l?R.slice(0,R.l):R}(_,v,x),(17<v.length||(x["!rows"]||[])[_])&&hr(d,0,v)}var cN=Nt,wge=Rt;function vU(d){return[E(d),Gt(d),"n"]}var kv=Nt,_ge=Rt,yU=["left","right","top","bottom","header","footer"];function Nge(d,x,v,_,k,F,I){if(x.v===void 0)return!1;var R="";switch(x.t){case"b":R=x.v?"1":"0";break;case"d":(x=yt(x)).z=x.z||te[14],x.v=Va(Xe(x.v)),x.t="n";break;case"n":case"e":R=""+x.v;break;default:R=x.v}var W,q,Q,ce,fe,pe,Ae,ve,Re,je,_e,Fe,We,He,mt,At,vt,Bt,dr,fr,Wt={r:v,c:_};switch(Wt.s=xp(k.cellXfs,x,k),x.l&&F["!links"].push([wn(Wt),x.l]),x.c&&F["!comments"].push([wn(Wt),x.c]),x.t){case"s":case"str":return k.bookSST?(R=d8(k.Strings,x.v,k.revStrings),Wt.t="s",Wt.v=R,I?hr(d,18,(P(vt=Wt,Bt=Bt??Kt(8)),Bt.write_shift(4,vt.v),Bt)):hr(d,7,(w(vt=Wt,At=At??Kt(12)),At.write_shift(4,vt.v),At))):(Wt.t="str",I?hr(d,17,(He=x,P(Wt,mt=mt??Kt(8+4*He.v.length)),Hn(He.v,mt),mt.length>mt.l?mt.slice(0,mt.l):mt)):hr(d,6,(He=x,w(Wt,We=We??Kt(12+4*He.v.length)),Hn(He.v,We),We.length>We.l?We.slice(0,We.l):We))),!0;case"n":return x.v==(0|x.v)&&-1e3<x.v&&x.v<1e3?I?hr(d,13,(_e=x,P(Wt,Fe=Fe??Kt(8)),dt(_e.v,Fe),Fe)):hr(d,2,(_e=x,w(Wt,je=je??Kt(12)),dt(_e.v,je),je)):I?hr(d,16,(ve=x,P(Wt,Re=Re??Kt(12)),or(ve.v,Re),Re)):hr(d,5,(ve=x,w(Wt,Ae=Ae??Kt(16)),or(ve.v,Ae),Ae)),!0;case"b":return Wt.t="b",I?hr(d,15,(fe=x,P(Wt,pe=pe??Kt(5)),pe.write_shift(1,fe.v?1:0),pe)):hr(d,4,(fe=x,w(Wt,ce=ce??Kt(9)),ce.write_shift(1,fe.v?1:0),ce)),!0;case"e":return Wt.t="e",I?hr(d,14,(q=x,P(Wt,Q=Q??Kt(8)),Q.write_shift(1,q.v),Q.write_shift(2,0),Q.write_shift(1,0),Q)):hr(d,3,(q=x,w(Wt,W=W??Kt(9)),W.write_shift(1,q.v),W)),!0}return I?hr(d,12,P(Wt,fr=fr??Kt(4))):hr(d,1,w(Wt,dr=dr??Kt(8))),!0}function Sge(d,x){var v,_;x&&x["!merges"]&&(hr(d,177,(v=x["!merges"].length,(_=_??Kt(4)).write_shift(4,v),_)),x["!merges"].forEach(function(k){hr(d,176,_ge(k))}),hr(d,178))}function Cge(d,x){x&&x["!cols"]&&(hr(d,390),x["!cols"].forEach(function(v,_){v&&hr(d,60,function(k,F,I){I==null&&(I=Kt(18));var R=lN(k,F);return I.write_shift(-4,k),I.write_shift(-4,k),I.write_shift(4,256*(R.width||10)),I.write_shift(4,0),k=0,F.hidden&&(k|=1),typeof R.width=="number"&&(k|=2),F.level&&(k|=F.level<<8),I.write_shift(2,k),I}(_,v))}),hr(d,391))}function Age(d,x){var v;x&&x["!ref"]&&(hr(d,648),hr(d,649,(v=La(x["!ref"]),(x=Kt(24)).write_shift(4,4),x.write_shift(4,1),Rt(v,x),x)),hr(d,650))}function Ege(d,x,v){x["!links"].forEach(function(_){var k,F;_[1].Target&&(k=Ii(v,-1,_[1].Target.replace(/#.*$/,""),Ha.HLINK),hr(d,494,(F=k,_=Kt(50+4*((k=_)[1].Target.length+(k[1].Tooltip||"").length)),Rt({s:ci(k[0]),e:ci(k[0])},_),De("rId"+F,_),Hn(((F=k[1].Target.indexOf("#"))==-1?"":k[1].Target.slice(F+1))||"",_),Hn(k[1].Tooltip||"",_),Hn("",_),_.slice(0,_.l))))}),delete x["!links"]}function jge(d,x,v){hr(d,133),hr(d,137,function(_,k){k==null&&(k=Kt(30));var F=924;return(((_||{}).Views||[])[0]||{}).RTL&&(F|=32),k.write_shift(2,F),k.write_shift(4,0),k.write_shift(4,0),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(1,0),k.write_shift(2,0),k.write_shift(2,100),k.write_shift(2,0),k.write_shift(2,0),k.write_shift(2,0),k.write_shift(4,0),k}(v)),hr(d,138),hr(d,134)}function Tge(d,x){var v,_;x["!protect"]&&hr(d,535,(v=x["!protect"],(_=_??Kt(66)).write_shift(2,v.password?Sv(v.password):0),_.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(k){k[1]?_.write_shift(4,v[k[0]]==null||v[k[0]]?0:1):_.write_shift(4,v[k[0]]!=null&&v[k[0]]?0:1)}),_))}function kge(d,x,v,_){var k=Os(),q=v.SheetNames[d],F=v.Sheets[q]||{},I=q;try{v&&v.Workbook&&(I=v.Workbook.Sheets[d].CodeName||I)}catch{}var R,W,q=La(F["!ref"]||"A1");if(16383<q.e.c||1048575<q.e.r){if(x.WTF)throw new Error("Range "+(F["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");q.e.c=Math.min(q.e.c,16383),q.e.r=Math.min(q.e.c,1048575)}return F["!links"]=[],F["!comments"]=[],hr(k,129),(v.vbaraw||F["!outline"])&&hr(k,147,function(Q,ce,fe){fe==null&&(fe=Kt(84+4*Q.length));var pe=192;ce&&(ce.above&&(pe&=-65),ce.left&&(pe&=-129)),fe.write_shift(1,pe);for(var Ae=1;Ae<3;++Ae)fe.write_shift(1,0);return ir({auto:1},fe),fe.write_shift(-4,-1),fe.write_shift(-4,-1),V(Q,fe),fe.slice(0,fe.l)}(I,F["!outline"])),hr(k,148,wge(q)),jge(k,0,v.Workbook),Cge(k,F),function(Q,ce,fe){var pe,Ae=La(ce["!ref"]||"A1"),ve=[];hr(Q,145);var Re=Array.isArray(ce),je=Ae.e.r;ce["!rows"]&&(je=Math.max(Ae.e.r,ce["!rows"].length-1));for(var _e=Ae.s.r;_e<=je;++_e){pe=Oi(_e),bge(Q,ce,Ae,_e);var Fe=!1;if(_e<=Ae.e.r)for(var We=Ae.s.c;We<=Ae.e.c;++We){_e===Ae.s.r&&(ve[We]=Ca(We)),He=ve[We]+pe;var He=Re?(ce[_e]||[])[We]:ce[He];He?Fe=Nge(Q,He,_e,We,fe,ce,Fe):Fe=!1}}hr(Q,146)}(k,F,x),Tge(k,F),function(Q,ce,fe,pe){if(ce["!autofilter"]){var Re=ce["!autofilter"],Ae=typeof Re.ref=="string"?Re.ref:kn(Re.ref);fe.Workbook||(fe.Workbook={Sheets:[]}),fe.Workbook.Names||(fe.Workbook.Names=[]);var ve=fe.Workbook.Names,Re=_o(Ae);Re.s.r==Re.e.r&&(Re.e.r=_o(ce["!ref"]).e.r,Ae=kn(Re));for(var je=0;je<ve.length;++je){var _e=ve[je];if(_e.Name=="_xlnm._FilterDatabase"&&_e.Sheet==pe){_e.Ref="'"+fe.SheetNames[pe]+"'!"+Ae;break}}je==ve.length&&ve.push({Name:"_xlnm._FilterDatabase",Sheet:pe,Ref:"'"+fe.SheetNames[pe]+"'!"+Ae}),hr(Q,161,Rt(La(Ae))),hr(Q,162)}}(k,F,v,d),Sge(k,F),Ege(k,F,_),F["!margins"]&&hr(k,476,(R=F["!margins"],W==null&&(W=Kt(48)),mg(R),yU.forEach(function(Q){or(R[Q],W)}),W)),x&&!x.ignoreEC&&x.ignoreEC!=null||Age(k,F),q=k,x=d,_=_,0<(F=F)["!comments"].length&&(x=Ii(_,-1,"../drawings/vmlDrawing"+(x+1)+".vml",Ha.VML),hr(q,551,De("rId"+x)),F["!legacy"]=x),hr(k,130),k.end()}function Pge(d,x,v,_,k,F){var I=F||{"!type":"chart"};if(!d)return F;var R,W=0,q=0,Q={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(d.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(ce){var fe=function(pe){var Ae,ve=[],Re=pe.match(/^<c:numCache>/);(pe.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach(function(_e){_e=_e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/),_e&&(ve[+_e[1]]=Re?+_e[2]:_e[2])});var je=vn((pe.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(pe.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach(function(_e){Ae=_e.replace(/<.*?>/g,"")}),[ve,je,Ae]}(ce);Q.s.r=Q.s.c=0,Q.e.c=W,R=Ca(W),fe[0].forEach(function(pe,Ae){I[R+Oi(Ae)]={t:"n",v:pe,z:fe[1]},q=Ae}),Q.e.r<q&&(Q.e.r=q),++W}),0<W&&(I["!ref"]=kn(Q)),I}var h8=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Oge=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Ige=[],Fge=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function bU(d,x){for(var v=0;v!=d.length;++v)for(var _=d[v],k=0;k!=x.length;++k){var F=x[k];if(_[F[0]]==null)_[F[0]]=F[1];else switch(F[2]){case"bool":typeof _[F[0]]=="string"&&(_[F[0]]=Jr(_[F[0]]));break;case"int":typeof _[F[0]]=="string"&&(_[F[0]]=parseInt(_[F[0]],10))}}}function wU(d,x){for(var v=0;v!=x.length;++v){var _=x[v];if(d[_[0]]==null)d[_[0]]=_[1];else switch(_[2]){case"bool":typeof d[_[0]]=="string"&&(d[_[0]]=Jr(d[_[0]]));break;case"int":typeof d[_[0]]=="string"&&(d[_[0]]=parseInt(d[_[0]],10))}}}function _U(d){wU(d.WBProps,h8),wU(d.CalcPr,Fge),bU(d.WBView,Oge),bU(d.Sheets,Ige),Tv.date1904=Jr(d.WBProps.date1904)}var Dge="][*?/\\".split("");function NU(d,x){if(31<d.length){if(x)return;throw new Error("Sheet names cannot exceed 31 chars")}var v=!0;return Dge.forEach(function(_){if(d.indexOf(_)!=-1){if(!x)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");v=!1}}),v}function SU(d){if(!d||!d.SheetNames||!d.Sheets)throw new Error("Invalid Workbook");if(!d.SheetNames.length)throw new Error("Workbook is empty");var x,v,_,k=d.Workbook&&d.Workbook.Sheets||[];x=d.SheetNames,v=k,_=!!d.vbaraw,x.forEach(function(I,R){NU(I);for(var W=0;W<R;++W)if(I==x[W])throw new Error("Duplicate Sheet Name: "+I);if(_){var q=v&&v[R]&&v[R].CodeName||I;if(q.charCodeAt(0)==95&&22<q.length)throw new Error("Bad Code Name: Worksheet"+q)}});for(var F=0;F<d.SheetNames.length;++F)(function(I,R){if(I&&I["!ref"]){var W=La(I["!ref"]);if(W.e.c<W.s.c||W.e.r<W.s.r)throw new Error("Bad range ("+R+"): "+I["!ref"])}})(d.Sheets[d.SheetNames[F]],(d.SheetNames[F],F))}var Rge=/<\w+:workbook/;function CU(d){var x=[Tn];x[x.length]=Er("workbook",null,{xmlns:tu[0],"xmlns:r":ps.r});var v=d.Workbook&&0<(d.Workbook.Names||[]).length,_={codeName:"ThisWorkbook"};d.Workbook&&d.Workbook.WBProps&&(h8.forEach(function(R){d.Workbook.WBProps[R[0]]!=null&&d.Workbook.WBProps[R[0]]!=R[1]&&(_[R[0]]=d.Workbook.WBProps[R[0]])}),d.Workbook.WBProps.CodeName&&(_.codeName=d.Workbook.WBProps.CodeName,delete _.CodeName)),x[x.length]=Er("workbookPr",null,_);var k=d.Workbook&&d.Workbook.Sheets||[],F=0;if(k&&k[0]&&k[0].Hidden){for(x[x.length]="<bookViews>",F=0;F!=d.SheetNames.length&&k[F]&&k[F].Hidden;++F);F==d.SheetNames.length&&(F=0),x[x.length]='<workbookView firstSheet="'+F+'" activeTab="'+F+'"/>',x[x.length]="</bookViews>"}for(x[x.length]="<sheets>",F=0;F!=d.SheetNames.length;++F){var I={name:Ke(d.SheetNames[F].slice(0,31))};if(I.sheetId=""+(F+1),I["r:id"]="rId"+(F+1),k[F])switch(k[F].Hidden){case 1:I.state="hidden";break;case 2:I.state="veryHidden"}x[x.length]=Er("sheet",null,I)}return x[x.length]="</sheets>",v&&(x[x.length]="<definedNames>",d.Workbook&&d.Workbook.Names&&d.Workbook.Names.forEach(function(R){var W={name:R.Name};R.Comment&&(W.comment=R.Comment),R.Sheet!=null&&(W.localSheetId=""+R.Sheet),R.Hidden&&(W.hidden="1"),R.Ref&&(x[x.length]=Er("definedName",Ke(R.Ref),W))}),x[x.length]="</definedNames>"),2<x.length&&(x[x.length]="</workbook>",x[1]=x[1].replace("/>",">")),x.join("")}function Mge(d,x){var v={};return d.read_shift(4),v.ArchID=d.read_shift(4),d.l+=x-8,v}function Lge(d,x){hr(d,143);for(var v,_=0;_!=x.SheetNames.length;++_){var k={Hidden:x.Workbook&&x.Workbook.Sheets&&x.Workbook.Sheets[_]&&x.Workbook.Sheets[_].Hidden||0,iTabID:_+1,strRelID:"rId"+(_+1),name:x.SheetNames[_]};hr(d,156,(v=k,(k=(k=void 0)||Kt(127)).write_shift(4,v.Hidden),k.write_shift(4,v.iTabID),De(v.strRelID,k),Hn(v.name.slice(0,31),k),k.length>k.l?k.slice(0,k.l):k))}hr(d,144)}function Bge(d,x){if(x.Workbook&&x.Workbook.Sheets){for(var v,_=x.Workbook.Sheets,k=0,F=-1,I=-1;k<_.length;++k)!_[k]||!_[k].Hidden&&F==-1?F=k:_[k].Hidden==1&&I==-1&&(I=k);F<I||(hr(d,135),hr(d,158,(x=F,(v=v||Kt(29)).write_shift(-4,0),v.write_shift(-4,460),v.write_shift(4,28800),v.write_shift(4,17600),v.write_shift(4,500),v.write_shift(4,x),v.write_shift(4,x),v.write_shift(1,120),v.length>v.l?v.slice(0,v.l):v)),hr(d,136))}}function Uge(d,x){var v=Os();return hr(v,131),hr(v,128,function(_){_=_||Kt(127);for(var k=0;k!=4;++k)_.write_shift(4,0);return Hn("SheetJS",_),Hn(a.version,_),Hn(a.version,_),Hn("7262",_),_.length>_.l?_.slice(0,_.l):_}()),hr(v,153,function(_,k){k=k||Kt(72);var F=0;return _&&_.filterPrivacy&&(F|=8),k.write_shift(4,F),k.write_shift(4,0),V(_&&_.CodeName||"ThisWorkbook",k),k.slice(0,k.l)}(d.Workbook&&d.Workbook.WBProps||null)),Bge(v,d),Lge(v,d),hr(v,132),v.end()}function $ge(d,x,v){return(x.slice(-4)===".bin"?function(_,k){var F={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},I=[],R=!1;(k=k||{}).biff=12;var W=[],q=[[]];return q.SheetNames=[],q.XTI=[],mw[16]={n:"BrtFRTArchID$",f:Mge},Ml(_,function(Q,ce,fe){switch(fe){case 156:q.SheetNames.push(Q.name),F.Sheets.push(Q);break;case 153:F.WBProps=Q;break;case 39:Q.Sheet!=null&&(k.SID=Q.Sheet),Q.Ref=Fu(Q.Ptg,0,null,q,k),delete k.SID,delete Q.Ptg,W.push(Q);break;case 1036:break;case 357:case 358:case 355:case 667:q[0].length?q.push([fe,Q]):q[0]=[fe,Q],q[q.length-1].XTI=[];break;case 362:q.length===0&&(q[0]=[],q[0].XTI=[]),q[q.length-1].XTI=q[q.length-1].XTI.concat(Q),q.XTI=q.XTI.concat(Q);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:I.push(fe),R=!0;break;case 36:I.pop(),R=!1;break;case 37:I.push(fe),R=!0;break;case 38:I.pop(),R=!1;break;case 16:break;default:if(!ce.T&&(!R||k.WTF&&I[I.length-1]!=37&&I[I.length-1]!=35))throw new Error("Unexpected record 0x"+fe.toString(16))}},k),_U(F),F.Names=W,F.supbooks=q,F}:function(_,k){if(!_)throw new Error("Could not find file");var F={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},I=!1,R="xmlns",W={},q=0;if(_.replace(Ts,function(Q,ce){var fe=Wn(Q);switch(bo(fe[0])){case"<?xml":break;case"<workbook":Q.match(Rge)&&(R="xmlns"+Q.match(/<(\w+):/)[1]),F.xmlns=fe[R];break;case"</workbook>":break;case"<fileVersion":delete fe[0],F.AppVersion=fe;break;case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":h8.forEach(function(pe){if(fe[pe[0]]!=null)switch(pe[2]){case"bool":F.WBProps[pe[0]]=Jr(fe[pe[0]]);break;case"int":F.WBProps[pe[0]]=parseInt(fe[pe[0]],10);break;default:F.WBProps[pe[0]]=fe[pe[0]]}}),fe.codeName&&(F.WBProps.CodeName=wi(fe.codeName));break;case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete fe[0],F.WBView.push(fe);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(fe.state){case"hidden":fe.Hidden=1;break;case"veryHidden":fe.Hidden=2;break;default:fe.Hidden=0}delete fe.state,fe.name=vn(wi(fe.name)),delete fe[0],F.Sheets.push(fe);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":break;case"<definedNames>":case"<definedNames":I=!0;break;case"</definedNames>":I=!1;break;case"<definedName":(W={}).Name=wi(fe.name),fe.comment&&(W.Comment=fe.comment),fe.localSheetId&&(W.Sheet=+fe.localSheetId),Jr(fe.hidden||"0")&&(W.Hidden=!0),q=ce+Q.length;break;case"</definedName>":W.Ref=vn(wi(_.slice(q,ce))),F.Names.push(W);break;case"<definedName/>":break;case"<calcPr":case"<calcPr/>":delete fe[0],F.CalcPr=fe;break;case"</calcPr>":case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":I=!0;break;case"</ext>":I=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":I=!0;break;case"</AlternateContent>":I=!1;break;case"<revisionPtr":break;default:if(!I&&k.WTF)throw new Error("unrecognized "+fe[0]+" in workbook")}return Q}),tu.indexOf(F.xmlns)===-1)throw new Error("Unknown Namespace: "+F.xmlns);return _U(F),F})(d,v)}function zge(d,x,v,_,k,F,I,R){return(x.slice(-4)===".bin"?function(W,q,Q,ce,fe,pe,Ae){if(!W)return W;var ve=q||{};ce=ce||{"!id":{}};var Re,je,_e,Fe,We,He,mt,At,vt,Bt,dr=ve.dense?[]:{},fr={s:{r:2e6,c:2e6},e:{r:0,c:0}},Wt=!1,Cr=!1,cn=[];ve.biff=12;var Qr=ve["!row"]=0,Lr=!1,$r=[],Fr={},xr=ve.supbooks||fe.supbooks||[[]];if(xr.sharedf=Fr,xr.arrayf=$r,xr.SheetNames=fe.SheetNames||fe.Sheets.map(function(Nr){return Nr.name}),!ve.supbooks&&(ve.supbooks=xr,fe.Names))for(var gn=0;gn<fe.Names.length;++gn)xr[0][gn+1]=fe.Names[gn];var Nn,ra=[],ni=[],fn=!1;return mw[16]={n:"BrtShortReal",f:vU},Ml(W,function(Nr,Pa,Si){if(!Cr)switch(Si){case 148:Re=Nr;break;case 0:je=Nr,ve.sheetRows&&ve.sheetRows<=je.r&&(Cr=!0),vt=Oi(We=je.r),ve["!row"]=je.r,(Nr.hidden||Nr.hpt||Nr.level!=null)&&(Nr.hpt&&(Nr.hpx=Av(Nr.hpt)),ni[Nr.r]=Nr);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(_e={t:Nr[2]},Nr[2]){case"n":_e.v=Nr[1];break;case"s":At=uw[Nr[1]],_e.v=At.t,_e.r=At.r;break;case"b":_e.v=!!Nr[1];break;case"e":_e.v=Nr[1],ve.cellText!==!1&&(_e.w=Tc[_e.v]);break;case"str":_e.t="s",_e.v=Nr[1];break;case"is":_e.t="s",_e.v=Nr[1].t}if((Fe=Ae.CellXf[Nr[0].iStyleRef])&&lU(_e,Fe.numFmtId,null,ve,pe,Ae),He=Nr[0].c==-1?He+1:Nr[0].c,ve.dense?(dr[We]||(dr[We]=[]),dr[We][He]=_e):dr[Ca(He)+vt]=_e,ve.cellFormula){for(Lr=!1,Qr=0;Qr<$r.length;++Qr){var fi=$r[Qr];je.r>=fi[0].s.r&&je.r<=fi[0].e.r&&He>=fi[0].s.c&&He<=fi[0].e.c&&(_e.F=kn(fi[0]),Lr=!0)}!Lr&&3<Nr.length&&(_e.f=Nr[3])}fr.s.r>je.r&&(fr.s.r=je.r),fr.s.c>He&&(fr.s.c=He),fr.e.r<je.r&&(fr.e.r=je.r),fr.e.c<He&&(fr.e.c=He),ve.cellDates&&Fe&&_e.t=="n"&&ca(te[Fe.numFmtId])&&(as=Ne(_e.v))&&(_e.t="d",_e.v=new Date(as.y,as.m-1,as.d,as.H,as.M,as.S,as.u)),Nn&&(Nn.type=="XLDAPR"&&(_e.D=!0),Nn=void 0);break;case 1:case 12:if(!ve.sheetStubs||Wt)break;_e={t:"z",v:void 0},He=Nr[0].c==-1?He+1:Nr[0].c,ve.dense?(dr[We]||(dr[We]=[]),dr[We][He]=_e):dr[Ca(He)+vt]=_e,fr.s.r>je.r&&(fr.s.r=je.r),fr.s.c>He&&(fr.s.c=He),fr.e.r<je.r&&(fr.e.r=je.r),fr.e.c<He&&(fr.e.c=He),Nn&&(Nn.type=="XLDAPR"&&(_e.D=!0),Nn=void 0);break;case 176:cn.push(Nr);break;case 49:Nn=((ve.xlmeta||{}).Cell||[])[Nr-1];break;case 494:var as=ce["!id"][Nr.relId];for(as?(Nr.Target=as.Target,Nr.loc&&(Nr.Target+="#"+Nr.loc),Nr.Rel=as):Nr.relId==""&&(Nr.Target="#"+Nr.loc),We=Nr.rfx.s.r;We<=Nr.rfx.e.r;++We)for(He=Nr.rfx.s.c;He<=Nr.rfx.e.c;++He)ve.dense?(dr[We]||(dr[We]=[]),dr[We][He]||(dr[We][He]={t:"z",v:void 0}),dr[We][He].l=Nr):(mt=wn({c:He,r:We}),dr[mt]||(dr[mt]={t:"z",v:void 0}),dr[mt].l=Nr);break;case 426:if(!ve.cellFormula)break;$r.push(Nr),(Bt=ve.dense?dr[We][He]:dr[Ca(He)+vt]).f=Fu(Nr[1],0,{r:je.r,c:He},xr,ve),Bt.F=kn(Nr[0]);break;case 427:if(!ve.cellFormula)break;Fr[wn(Nr[0].s)]=Nr[1],(Bt=ve.dense?dr[We][He]:dr[Ca(He)+vt]).f=Fu(Nr[1],0,{r:je.r,c:He},xr,ve);break;case 60:if(!ve.cellStyles)break;for(;Nr.e>=Nr.s;)ra[Nr.e--]={width:Nr.w/256,hidden:!!(1&Nr.flags),level:Nr.level},fn||(fn=!0,n8(Nr.w/256)),pp(ra[Nr.e+1]);break;case 161:dr["!autofilter"]={ref:kn(Nr)};break;case 476:dr["!margins"]=Nr;break;case 147:fe.Sheets[Q]||(fe.Sheets[Q]={}),Nr.name&&(fe.Sheets[Q].CodeName=Nr.name),(Nr.above||Nr.left)&&(dr["!outline"]={above:Nr.above,left:Nr.left});break;case 137:fe.Views||(fe.Views=[{}]),fe.Views[0]||(fe.Views[0]={}),Nr.RTL&&(fe.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:Wt=!0;break;case 36:Wt=!1;break;case 37:Wt=!0;break;case 38:Wt=!1;break;default:if(!Pa.T&&(!Wt||ve.WTF))throw new Error("Unexpected record 0x"+Si.toString(16))}},ve),delete ve.supbooks,delete ve["!row"],!dr["!ref"]&&(fr.s.r<2e6||Re&&(0<Re.e.r||0<Re.e.c||0<Re.s.r||0<Re.s.c))&&(dr["!ref"]=kn(Re||fr)),ve.sheetRows&&dr["!ref"]&&(W=La(dr["!ref"]),ve.sheetRows<=+W.e.r&&(W.e.r=ve.sheetRows-1,W.e.r>fr.e.r&&(W.e.r=fr.e.r),W.e.r<W.s.r&&(W.s.r=W.e.r),W.e.c>fr.e.c&&(W.e.c=fr.e.c),W.e.c<W.s.c&&(W.s.c=W.e.c),dr["!fullref"]=dr["!ref"],dr["!ref"]=kn(W))),0<cn.length&&(dr["!merges"]=cn),0<ra.length&&(dr["!cols"]=ra),0<ni.length&&(dr["!rows"]=ni),dr}:mge)(d,_,v,k,F,I,R)}function Vge(d,x,v,_,k,F){return x.slice(-4)===".bin"?function(I,R,W,q,Q){if(!I)return I;q=q||{"!id":{}};var ce={"!type":"chart","!drawel":null,"!rel":""},fe=!1;return Ml(I,function(pe,Ae,ve){switch(ve){case 550:ce["!rel"]=pe;break;case 651:Q.Sheets[W]||(Q.Sheets[W]={}),pe.name&&(Q.Sheets[W].CodeName=pe.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:fe=!0;break;case 36:fe=!1;break;case 37:break;case 38:break;default:if(!(0<Ae.T)){if(!(Ae.T<0)){if(!fe||R.WTF)throw new Error("Unexpected record 0x"+ve.toString(16))}}}},R),q["!id"][ce["!rel"]]&&(ce["!drawel"]=q["!id"][ce["!rel"]]),ce}(d,_,v,k,F):function(I,R,W,q){if(!I)return I;W=W||{"!id":{}};var Q={"!type":"chart","!drawel":null,"!rel":""},ce=I.match(cU);return ce&&f8(ce[0],0,q,R),(I=I.match(/drawing r:id="(.*?)"/))&&(Q["!rel"]=I[1]),W["!id"][Q["!rel"]]&&(Q["!drawel"]=W["!id"][Q["!rel"]]),Q}(d,v,k,F)}function Wge(d,x,v,_){return(x.slice(-4)===".bin"?function(k,F,I){var R,W={NumberFmt:[]};for(R in te)W.NumberFmt[R]=te[R];W.CellXf=[],W.Fonts=[];var q=[],Q=!1;return Ml(k,function(ce,fe,pe){switch(pe){case 44:W.NumberFmt[ce[0]]=ce[1],Fn(ce[1],ce[0]);break;case 43:W.Fonts.push(ce),ce.color.theme!=null&&F&&F.themeElements&&F.themeElements.clrScheme&&(ce.color.rgb=od(F.themeElements.clrScheme[ce.color.theme].rgb,ce.color.tint||0));break;case 1025:case 45:case 46:break;case 47:q[q.length-1]==617&&W.CellXf.push(ce);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:Q=!0;break;case 36:Q=!1;break;case 37:q.push(pe),Q=!0;break;case 38:q.pop(),Q=!1;break;default:if(0<fe.T)q.push(pe);else if(fe.T<0)q.pop();else if(!Q||I.WTF&&q[q.length-1]!=37)throw new Error("Unexpected record 0x"+pe.toString(16))}}),W}:N1e)(d,v,_)}function Hge(d,x,v){return x.slice(-4)===".bin"?(_=v,F=!(k=[]),Ml(d,function(I,R,W){switch(W){case 159:k.Count=I[0],k.Unique=I[1];break;case 19:k.push(I);break;case 160:return 1;case 35:F=!0;break;case 36:F=!1;break;default:if(R.T,!F||_.WTF)throw new Error("Unexpected record 0x"+W.toString(16))}}),k):function(I,R){var W=[],q="";if(!I)return W;if(I=I.match(X3)){q=I[2].replace(wv,"").split(Z3);for(var Q=0;Q!=q.length;++Q){var ce=Qb(q[Q].trim(),R);ce!=null&&(W[W.length]=ce)}I=Wn(I[1]),W.Count=I.count,W.Unique=I.uniqueCount}return W}(d,v);var _,k,F}function qge(d,x,v){return x.slice(-4)===".bin"?(_=v,k=[],F=[],R=!(I={}),Ml(d,function(W,q,Q){switch(Q){case 632:F.push(W);break;case 635:I=W;break;case 637:I.t=W.t,I.h=W.h,I.r=W.r;break;case 636:if(I.author=F[I.iauthor],delete I.iauthor,_.sheetRows&&I.rfx&&_.sheetRows<=I.rfx.r)break;I.t||(I.t=""),delete I.rfx,k.push(I);break;case 3072:break;case 35:R=!0;break;case 36:R=!1;break;case 37:case 38:break;default:if(!q.T&&(!R||_.WTF))throw new Error("Unexpected record 0x"+Q.toString(16))}}),k):function(W,q){if(W.match(/<(?:\w+:)?comments *\/>/))return[];var Q=[],ce=[],fe=W.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);return fe&&fe[1]&&fe[1].split(/<\/\w*:?author>/).forEach(function(pe){pe===""||pe.trim()===""||(pe=pe.match(/<(?:\w+:)?author[^>]*>(.*)/))&&Q.push(pe[1])}),(W=W.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/))&&W[1]&&W[1].split(/<\/\w*:?comment>/).forEach(function(pe){var Ae,ve;pe===""||pe.trim()===""||(Ae=pe.match(/<(?:\w+:)?comment[^>]*>/))&&(Ae={author:(ve=Wn(Ae[0])).authorId&&Q[ve.authorId]||"sheetjsghost",ref:ve.ref,guid:ve.guid},ve=ci(ve.ref),q.sheetRows&&q.sheetRows<=ve.r||(pe=!!(pe=pe.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/))&&!!pe[1]&&Qb(pe[1])||{r:"",t:"",h:""},Ae.r=pe.r,pe.r=="<t></t>"&&(pe.t=pe.h=""),Ae.t=(pe.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),q.cellHTML&&(Ae.h=pe.h),ce.push(Ae)))}),ce}(d,v);var _,k,F,I,R}function Gge(d,x){return x.slice(-4)===".bin"?(v=[],Ml(d,function(_,k,F){if(F===63)v.push(_);else if(!k.T)throw new Error("Unexpected record 0x"+F.toString(16))}),v):function(_){var k=[];if(!_)return k;var F=1;return(_.match(Ts)||[]).forEach(function(I){var R=Wn(I);switch(R[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete R[0],R.i?F=R.i:R.i=F,k.push(R)}}),k}(d);var v}function Kge(d,x,v,_){if(v.slice(-4)===".bin")return function(k,F){if(!k)return k;var I=F||{},R=!1;Ml(k,function(W,q,Q){switch(Q){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:R=!0;break;case 36:R=!1;break;default:if(!q.T&&(!R||I.WTF))throw new Error("Unexpected record 0x"+Q.toString(16))}},I)}(d,_)}function Yge(d,x,v){return x.slice(-4)===".bin"?(_={Types:[],Cell:[],Value:[]},k=v||{},I=!(F=[]),R=2,Ml(d,function(W,q,Q){switch(Q){case 335:_.Types.push({name:W.name});break;case 51:W.forEach(function(ce){R==1?_.Cell.push({type:_.Types[ce[0]-1].name,index:ce[1]}):R==0&&_.Value.push({type:_.Types[ce[0]-1].name,index:ce[1]})});break;case 337:R=W?1:0;break;case 338:R=2;break;case 35:F.push(Q),I=!0;break;case 36:F.pop(),I=!1;break;default:if(!q.T&&(!I||k.WTF&&F[F.length-1]!=35))throw new Error("Unexpected record 0x"+Q.toString(16))}}),_):function(W,q){var Q={Types:[],Cell:[],Value:[]};if(!W)return Q;var ce,fe=!1,pe=2;return W.replace(Ts,function(Ae){var ve=Wn(Ae);switch(bo(ve[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":Q.Types.push({name:ve.name});break;case"</metadataType>":break;case"<futureMetadata":for(var Re=0;Re<Q.Types.length;++Re)Q.Types[Re].name==ve.name&&(ce=Q.Types[Re]);break;case"</futureMetadata>":case"<bk>":case"</bk>":break;case"<rc":pe==1?Q.Cell.push({type:Q.Types[ve.t-1].name,index:+ve.v}):pe==0&&Q.Value.push({type:Q.Types[ve.t-1].name,index:+ve.v});break;case"</rc>":break;case"<cellMetadata":pe=1;break;case"</cellMetadata>":pe=2;break;case"<valueMetadata":pe=0;break;case"</valueMetadata>":pe=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":fe=!0;break;case"</ext>":fe=!1;break;case"<rvb":if(!ce)break;ce.offsets||(ce.offsets=[]),ce.offsets.push(+ve.i);break;default:if(!fe&&q.WTF)throw new Error("unrecognized "+ve[0]+" in metadata")}return Ae}),Q}(d,v);var _,k,F,I,R}var fw,AU=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,EU=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function dh(d,x){var v=d.split(/\s+/),_=[];if(x||(_[0]=v[0]),v.length===1)return _;var k,F,I,R=d.match(AU);if(R)for(I=0;I!=R.length;++I)(F=(k=R[I].match(EU))[1].indexOf(":"))===-1?_[k[1]]=k[2].slice(1,k[2].length-1):_[k[1].slice(0,6)==="xmlns:"?"xmlns"+k[1].slice(6):k[1].slice(F+1)]=k[2].slice(1,k[2].length-1);return _}function Xge(d,x,v){if(d.t!=="z"){if(!v||v.cellText!==!1)try{d.t==="e"?d.w=d.w||Tc[d.v]:x==="General"?d.t==="n"?(0|d.v)===d.v?d.w=d.v.toString(10):d.w=Me(d.v):d.w=wt(d.v):d.w=(_=x||"General",k=d.v,(_=fw[_]||vn(_))==="General"?wt(k):ln(_,k))}catch(I){if(v.WTF)throw I}var _,k;try{var F=fw[x]||x||"General";v.cellNF&&(d.z=F),v.cellDates&&d.t=="n"&&ca(F)&&(F=Ne(d.v))&&(d.t="d",d.v=new Date(F.y,F.m-1,F.d,F.H,F.M,F.S,F.u))}catch(I){if(v.WTF)throw I}}}function m8(d,x){var v=x||{};ti();var _,k=b(Id(d)),F=(k=v.type=="binary"||v.type=="array"||v.type=="base64"?i!==void 0?i.utils.decode(65001,p(k)):wi(k):k).slice(0,1024).toLowerCase(),I=!1;if((1023&(F=F.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&F.indexOf(","),1023&F.indexOf(";"))){var R=yt(v);return R.type="string",oi.to_workbook(k,R)}if(F.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ut){0<=F.indexOf("<"+ut)&&(I=!0)}),I)return function(ut,yr){if(ut=ut.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi),!ut||ut.length==0)throw new Error("Invalid HTML: could not find <table>");if(ut.length==1)return xl(kU(ut[0],yr),yr);var Vt=j8();return ut.forEach(function(Yt,Lt){T8(Vt,kU(Yt,yr),"Sheet"+(Lt+1))}),Vt}(k,v);fw={"General Number":"General","General Date":te[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":te[15],"Short Date":te[14],"Long Time":te[19],"Medium Time":te[18],"Short Time":te[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:te[2],Standard:te[4],Percent:te[10],Scientific:te[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var W,q=[],Q,ce={},fe=[],pe=v.dense?[]:{},Ae="",ve={},Re={},je=dh('<Data ss:Type="String">'),_e=0,Fe=0,We=0,He={s:{r:2e6,c:2e6},e:{r:0,c:0}},mt={},At={},vt="",Bt=0,dr=[],fr={},Wt={},Cr=0,cn=[],Qr=[],Lr={},$r=[],Fr=!1,xr=[],gn=[],Nn={},ra=0,ni=0,fn={Sheets:[],WBProps:{date1904:!1}},Nr={};rl.lastIndex=0,k=k.replace(/<!--([\s\S]*?)-->/gm,"");for(var Pa,Si,fi,as,Bo="";_=rl.exec(k);)switch(_[3]=(Bo=_[3]).toLowerCase()){case"data":if(Bo=="data"){if(_[1]==="/"){if((W=q.pop())[0]!==_[3])throw new Error("Bad state: "+W.join("|"))}else _[0].charAt(_[0].length-2)!=="/"&&q.push([_[3],!0]);break}if(q[q.length-1][1])break;_[1]==="/"?function(ut,yr,Vt,Yt,Lt,lr,Pr,Mn,pn,en){var An="General",$n=Yt.StyleID,zn={};en=en||{};var Hr=[],Or=0;for(($n=$n===void 0&&Mn?Mn.StyleID:$n)===void 0&&Pr&&($n=Pr.StyleID);lr[$n]!==void 0&&(lr[$n].nf&&(An=lr[$n].nf),lr[$n].Interior&&Hr.push(lr[$n].Interior),lr[$n].Parent);)$n=lr[$n].Parent;switch(Vt.Type){case"Boolean":Yt.t="b",Yt.v=Jr(ut);break;case"String":Yt.t="s",Yt.r=nd(vn(ut)),Yt.v=-1<ut.indexOf("<")?vn(yr||ut).replace(/<.*?>/g,""):Yt.r;break;case"DateTime":ut.slice(-1)!="Z"&&(ut+="Z"),Yt.v=(Xe(ut)-new Date(Date.UTC(1899,11,30)))/864e5,Yt.v!=Yt.v?Yt.v=vn(ut):Yt.v<60&&(Yt.v=Yt.v-1),An&&An!="General"||(An="yyyy-mm-dd");case"Number":Yt.v===void 0&&(Yt.v=+ut),Yt.t||(Yt.t="n");break;case"Error":Yt.t="e",Yt.v=Wb[ut],en.cellText!==!1&&(Yt.w=ut);break;default:ut==""&&yr==""?Yt.t="z":(Yt.t="s",Yt.v=nd(yr||ut))}if(Xge(Yt,An,en),en.cellFormula!==!1)if(Yt.Formula)Vt=vn(Yt.Formula),Vt.charCodeAt(0)==61&&(Vt=Vt.slice(1)),Yt.f=jv(Vt,Lt),delete Yt.Formula,Yt.ArrayRange=="RC"?Yt.F=jv("RC:RC",Lt):Yt.ArrayRange&&(Yt.F=jv(Yt.ArrayRange,Lt),pn.push([La(Yt.F),Yt.F]));else for(Or=0;Or<pn.length;++Or)Lt.r>=pn[Or][0].s.r&&Lt.r<=pn[Or][0].e.r&&Lt.c>=pn[Or][0].s.c&&Lt.c<=pn[Or][0].e.c&&(Yt.F=pn[Or][1]);en.cellStyles&&(Hr.forEach(function(qn){!zn.patternType&&qn.patternType&&(zn.patternType=qn.patternType)}),Yt.s=zn),Yt.StyleID!==void 0&&(Yt.ixfe=Yt.StyleID)}(k.slice(_e,_.index),vt,je,q[q.length-1][0]=="comment"?Lr:ve,{c:Fe,r:We},mt,$r[Fe],Re,xr,v):(vt="",je=dh(_[0]),_e=_.index+_[0].length);break;case"cell":if(_[1]==="/")if(0<Qr.length&&(ve.c=Qr),(!v.sheetRows||v.sheetRows>We)&&ve.v!==void 0&&(v.dense?(pe[We]||(pe[We]=[]),pe[We][Fe]=ve):pe[Ca(Fe)+Oi(We)]=ve),ve.HRef&&(ve.l={Target:vn(ve.HRef)},ve.HRefScreenTip&&(ve.l.Tooltip=ve.HRefScreenTip),delete ve.HRef,delete ve.HRefScreenTip),(ve.MergeAcross||ve.MergeDown)&&(ra=Fe+(0|parseInt(ve.MergeAcross,10)),ni=We+(0|parseInt(ve.MergeDown,10)),dr.push({s:{c:Fe,r:We},e:{c:ra,r:ni}})),v.sheetStubs)if(ve.MergeAcross||ve.MergeDown){for(var gt=Fe;gt<=ra;++gt)for(var is=We;is<=ni;++is)(Fe<gt||We<is)&&(v.dense?(pe[is]||(pe[is]=[]),pe[is][gt]={t:"z"}):pe[Ca(gt)+Oi(is)]={t:"z"});Fe=ra+1}else++Fe;else ve.MergeAcross?Fe=ra+1:++Fe;else(Fe=(ve=function(ut){var yr={};if(ut.split(/\s+/).length===1)return yr;var Vt,Yt,Lt,lr=ut.match(AU);if(lr)for(Lt=0;Lt!=lr.length;++Lt)(Yt=(Vt=lr[Lt].match(EU))[1].indexOf(":"))===-1?yr[Vt[1]]=Vt[2].slice(1,Vt[2].length-1):yr[Vt[1].slice(0,6)==="xmlns:"?"xmlns"+Vt[1].slice(6):Vt[1].slice(Yt+1)]=Vt[2].slice(1,Vt[2].length-1);return yr}(_[0])).Index?+ve.Index-1:Fe)<He.s.c&&(He.s.c=Fe),Fe>He.e.c&&(He.e.c=Fe),_[0].slice(-2)==="/>"&&++Fe,Qr=[];break;case"row":_[1]==="/"||_[0].slice(-2)==="/>"?(We<He.s.r&&(He.s.r=We),We>He.e.r&&(He.e.r=We),_[0].slice(-2)==="/>"&&(Re=dh(_[0])).Index&&(We=+Re.Index-1),Fe=0,++We):((Re=dh(_[0])).Index&&(We=+Re.Index-1),Nn={},Re.AutoFitHeight!="0"&&!Re.Height||(Nn.hpx=parseInt(Re.Height,10),Nn.hpt=aw(Nn.hpx),gn[We]=Nn),Re.Hidden=="1"&&(Nn.hidden=!0,gn[We]=Nn));break;case"worksheet":if(_[1]==="/"){if((W=q.pop())[0]!==_[3])throw new Error("Bad state: "+W.join("|"));fe.push(Ae),He.s.r<=He.e.r&&He.s.c<=He.e.c&&(pe["!ref"]=kn(He),v.sheetRows&&v.sheetRows<=He.e.r&&(pe["!fullref"]=pe["!ref"],He.e.r=v.sheetRows-1,pe["!ref"]=kn(He))),dr.length&&(pe["!merges"]=dr),0<$r.length&&(pe["!cols"]=$r),0<gn.length&&(pe["!rows"]=gn),ce[Ae]=pe}else He={s:{r:2e6,c:2e6},e:{r:0,c:0}},We=Fe=0,q.push([_[3],!1]),W=dh(_[0]),Ae=vn(W.Name),pe=v.dense?[]:{},dr=[],xr=[],gn=[],Nr={name:Ae,Hidden:0},fn.Sheets.push(Nr);break;case"table":if(_[1]==="/"){if((W=q.pop())[0]!==_[3])throw new Error("Bad state: "+W.join("|"))}else{if(_[0].slice(-2)=="/>")break;q.push([_[3],!1]),Fr=!($r=[])}break;case"style":_[1]==="/"?(Si=mt,fi=At,(as=v).cellStyles&&(!fi.Interior||(as=fi.Interior).Pattern&&(as.patternType=_1e[as.Pattern]||as.Pattern)),Si[fi.ID]=fi):At=dh(_[0]);break;case"numberformat":At.nf=vn(dh(_[0]).Format||"General"),fw[At.nf]&&(At.nf=fw[At.nf]);for(var Gi=0;Gi!=392&&te[Gi]!=At.nf;++Gi);if(Gi==392){for(Gi=57;Gi!=392;++Gi)if(te[Gi]==null){Fn(At.nf,Gi);break}}break;case"column":if(q[q.length-1][0]!=="table")break;if((Q=dh(_[0])).Hidden&&(Q.hidden=!0,delete Q.Hidden),Q.Width&&(Q.wpx=parseInt(Q.Width,10)),!Fr&&10<Q.wpx){Fr=!0,_l=uh;for(var $l=0;$l<$r.length;++$l)$r[$l]&&pp($r[$l])}Fr&&pp(Q),$r[Q.Index-1||$r.length]=Q;for(var Sf=0;Sf<+Q.Span;++Sf)$r[$r.length]=yt(Q);break;case"namedrange":if(_[1]==="/")break;fn.Names||(fn.Names=[]);var tt=Wn(_[0]),Ht={Name:tt.Name,Ref:jv(tt.RefersTo.slice(1),{r:0,c:0})};0<fn.Sheets.length&&(Ht.Sheet=fn.Sheets.length-1),fn.Names.push(Ht);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":break;case"font":if(_[0].slice(-2)==="/>")break;_[1]==="/"?vt+=k.slice(Bt,_.index):Bt=_.index+_[0].length;break;case"interior":if(!v.cellStyles)break;At.Interior=dh(_[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(_[0].slice(-2)==="/>")break;_[1]==="/"?(fi=fr,tt=Bo,Ht=k.slice(Cr,_.index),fi[tt=(I3=I3||Vn(pv))[tt]||tt]=Ht):Cr=_.index+_[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(_[1]==="/"){if((W=q.pop())[0]!==_[3])throw new Error("Bad state: "+W.join("|"))}else q.push([_[3],!1]);break;case"comment":if(_[1]==="/"){if((W=q.pop())[0]!==_[3])throw new Error("Bad state: "+W.join("|"));(Pa=Lr).t=Pa.v||"",Pa.t=Pa.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),Pa.v=Pa.w=Pa.ixfe=void 0,Qr.push(Lr)}else q.push([_[3],!1]),Lr={a:(W=dh(_[0])).Author};break;case"autofilter":if(_[1]==="/"){if((W=q.pop())[0]!==_[3])throw new Error("Bad state: "+W.join("|"))}else _[0].charAt(_[0].length-2)!=="/"&&(Pa=dh(_[0]),pe["!autofilter"]={ref:jv(Pa.Range).replace(/\$/g,"")},q.push([_[3],!0]));break;case"name":break;case"datavalidation":if(_[1]==="/"){if((W=q.pop())[0]!==_[3])throw new Error("Bad state: "+W.join("|"))}else _[0].charAt(_[0].length-2)!=="/"&&q.push([_[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(_[1]==="/"){if((W=q.pop())[0]!==_[3])throw new Error("Bad state: "+W.join("|"))}else _[0].charAt(_[0].length-2)!=="/"&&q.push([_[3],!0]);break;case"null":break;default:if(q.length==0&&_[3]=="document"||q.length==0&&_[3]=="uof")return zU(k,v);var ht=!0;switch(q[q.length-1][0]){case"officedocumentsettings":switch(_[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:ht=!1}break;case"componentoptions":switch(_[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:ht=!1}break;case"excelworkbook":switch(_[3]){case"date1904":fn.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:ht=!1}break;case"workbookoptions":switch(_[3]){case"owcversion":case"height":case"width":break;default:ht=!1}break;case"worksheetoptions":switch(_[3]){case"visible":if(_[0].slice(-2)!=="/>")if(_[1]==="/")switch(k.slice(Cr,_.index)){case"SheetHidden":Nr.Hidden=1;break;case"SheetVeryHidden":Nr.Hidden=2}else Cr=_.index+_[0].length;break;case"header":pe["!margins"]||mg(pe["!margins"]={},"xlml"),isNaN(+Wn(_[0]).Margin)||(pe["!margins"].header=+Wn(_[0]).Margin);break;case"footer":pe["!margins"]||mg(pe["!margins"]={},"xlml"),isNaN(+Wn(_[0]).Margin)||(pe["!margins"].footer=+Wn(_[0]).Margin);break;case"pagemargins":var zt=Wn(_[0]);pe["!margins"]||mg(pe["!margins"]={},"xlml"),isNaN(+zt.Top)||(pe["!margins"].top=+zt.Top),isNaN(+zt.Left)||(pe["!margins"].left=+zt.Left),isNaN(+zt.Right)||(pe["!margins"].right=+zt.Right),isNaN(+zt.Bottom)||(pe["!margins"].bottom=+zt.Bottom);break;case"displayrighttoleft":fn.Views||(fn.Views=[]),fn.Views[0]||(fn.Views[0]={}),fn.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":break;case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":break;case"nosummaryrowsbelowdetail":pe["!outline"]||(pe["!outline"]={}),pe["!outline"].above=!0;break;case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":pe["!outline"]||(pe["!outline"]={}),pe["!outline"].left=!0;break;case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;default:ht=!1}break;case"pivottable":case"pivotcache":switch(_[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:ht=!1}break;case"pagebreaks":switch(_[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:ht=!1}break;case"autofilter":switch(_[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:ht=!1}break;case"querytable":switch(_[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:ht=!1}break;case"datavalidation":switch(_[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:ht=!1}break;case"sorting":case"conditionalformatting":switch(_[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:ht=!1}break;case"mapinfo":case"schema":case"data":switch(_[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:ht=!1}break;case"smarttags":break;default:ht=!1}if(ht||_[3].match(/!\[CDATA/))break;if(!q[q.length-1][1])throw"Unrecognized tag: "+_[3]+"|"+q.join("|");if(q[q.length-1][0]==="customdocumentproperties"){if(_[0].slice(-2)==="/>")break;_[1]==="/"?function(ut,yr,Vt,Yt){var Lt=Yt;switch((Vt[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":Lt=Jr(Yt);break;case"i2":case"int":Lt=parseInt(Yt,10);break;case"r4":case"float":Lt=parseFloat(Yt);break;case"date":case"dateTime.tz":Lt=Xe(Yt);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+Vt[0])}ut[vn(yr)]=Lt}(Wt,Bo,cn,k.slice(Cr,_.index)):Cr=(cn=_).index+_[0].length;break}if(v.WTF)throw"Unrecognized tag: "+_[3]+"|"+q.join("|")}return R={},v.bookSheets||v.bookProps||(R.Sheets=ce),R.SheetNames=fe,R.Workbook=fn,R.SSF=yt(te),R.Props=fr,R.Custprops=Wt,R}function p8(d,x){switch(w8(x=x||{}),x.type||"base64"){case"base64":return m8(O(d),x);case"binary":case"buffer":case"file":return m8(d,x);case"array":return m8(K(d),x)}}function Zge(d,x){var v,_,k,F,I,R,W,q=[];return d.Props&&q.push((v=d.Props,_=x,k=[],Na(pv).map(function(Q){for(var ce=0;ce<kc.length;++ce)if(kc[ce][1]==Q)return kc[ce];for(ce=0;ce<Qh.length;++ce)if(Qh[ce][1]==Q)return Qh[ce];throw Q}).forEach(function(Q){var ce;v[Q[1]]!=null&&(ce=(_&&_.Props&&_.Props[Q[1]]!=null?_.Props:v)[Q[1]],typeof(ce=Q[2]==="date"?new Date(ce).toISOString().replace(/\.\d*Z/,"Z"):ce)=="number"?ce=String(ce):ce===!0||ce===!1?ce=ce?"1":"0":ce instanceof Date&&(ce=new Date(ce).toISOString().replace(/\.\d*Z/,"")),k.push(Ys(pv[Q[1]]||Q[1],ce)))}),Er("DocumentProperties",k.join(""),{xmlns:Xs.o}))),d.Custprops&&q.push((F=d.Props,I=d.Custprops,R=["Worksheets","SheetNames"],d="CustomDocumentProperties",W=[],F&&Na(F).forEach(function(Q){if(Object.prototype.hasOwnProperty.call(F,Q)){for(var ce=0;ce<kc.length;++ce)if(Q==kc[ce][1])return;for(ce=0;ce<Qh.length;++ce)if(Q==Qh[ce][1])return;for(ce=0;ce<R.length;++ce)if(Q==R[ce])return;var fe="string",pe=typeof(pe=F[Q])=="number"?(fe="float",String(pe)):pe===!0||pe===!1?(fe="boolean",pe?"1":"0"):String(pe);W.push(Er(yn(Q),pe,{"dt:dt":fe}))}}),I&&Na(I).forEach(function(Q){var ce,fe;Object.prototype.hasOwnProperty.call(I,Q)&&(F&&Object.prototype.hasOwnProperty.call(F,Q)||(ce="string",fe=typeof(fe=I[Q])=="number"?(ce="float",String(fe)):fe===!0||fe===!1?(ce="boolean",fe?"1":"0"):fe instanceof Date?(ce="dateTime.tz",fe.toISOString()):String(fe),W.push(Er(yn(Q),fe,{"dt:dt":ce}))))}),"<"+d+' xmlns="'+Xs.o+'">'+W.join("")+"</"+d+">")),q.join("")}function jU(d){return Er("NamedRange",null,{"ss:Name":d.Name,"ss:RefersTo":"="+o8(d.Ref,{r:0,c:0})})}function Jge(d,x,v,_,k,F,I){if(!d||d.v==null&&d.f==null)return"";var R={};if(d.f&&(R["ss:Formula"]="="+Ke(o8(d.f,I))),d.F&&d.F.slice(0,x.length)==x&&(x=ci(d.F.slice(x.length+1)),R["ss:ArrayRange"]="RC:R"+(x.r==I.r?"":"["+(x.r-I.r)+"]")+"C"+(x.c==I.c?"":"["+(x.c-I.c)+"]")),d.l&&d.l.Target&&(R["ss:HRef"]=Ke(d.l.Target),d.l.Tooltip&&(R["x:HRefScreenTip"]=Ke(d.l.Tooltip))),v["!merges"])for(var W=v["!merges"],q=0;q!=W.length;++q)W[q].s.c==I.c&&W[q].s.r==I.r&&(W[q].e.c>W[q].s.c&&(R["ss:MergeAcross"]=W[q].e.c-W[q].s.c),W[q].e.r>W[q].s.r&&(R["ss:MergeDown"]=W[q].e.r-W[q].s.r));var Q="",ce="";switch(d.t){case"z":if(!_.sheetStubs)return"";break;case"n":Q="Number",ce=String(d.v);break;case"b":Q="Boolean",ce=d.v?"1":"0";break;case"e":Q="Error",ce=Tc[d.v];break;case"d":Q="DateTime",ce=new Date(d.v).toISOString(),d.z==null&&(d.z=d.z||te[14]);break;case"s":Q="String",ce=((d.v||"")+"").replace(Ks,function(fe){return ds[fe]}).replace(Ms,function(fe){return"&#x"+fe.charCodeAt(0).toString(16).toUpperCase()+";"})}return v=xp(_.cellXfs,d,_),R["ss:StyleID"]="s"+(21+v),R["ss:Index"]=I.c+1,v=d.v!=null?ce:"",v=d.t=="z"?"":'<Data ss:Type="'+Q+'">'+v+"</Data>",0<(d.c||[]).length&&(v+=d.c.map(function(fe){var pe=Er("ss:Data",(fe.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return Er("Comment",pe,{"ss:Author":fe.a})}).join("")),Er("Cell",v,R)}function Qge(d,x){if(!d["!ref"])return"";var v=La(d["!ref"]),_=d["!merges"]||[],k=0,F=[];d["!cols"]&&d["!cols"].forEach(function(Re,We){pp(Re);var _e=!!Re.width,Fe=lN(We,Re),We={"ss:Index":We+1};_e&&(We["ss:Width"]=hp(Fe.width)),Re.hidden&&(We["ss:Hidden"]="1"),F.push(Er("Column",null,We))});for(var I,R,W=Array.isArray(d),q=v.s.r;q<=v.e.r;++q){for(var Q=[(I=q,R=(d["!rows"]||[])[q],I='<Row ss:Index="'+(I+1)+'"',R&&(R.hpt&&!R.hpx&&(R.hpx=Av(R.hpt)),R.hpx&&(I+=' ss:AutoFitHeight="0" ss:Height="'+R.hpx+'"'),R.hidden&&(I+=' ss:Hidden="1"')),I+">")],ce=v.s.c;ce<=v.e.c;++ce){for(var fe,pe,Ae,ve=!1,k=0;k!=_.length;++k)if(!(_[k].s.c>ce||_[k].s.r>q||_[k].e.c<ce||_[k].e.r<q)){_[k].s.c==ce&&_[k].s.r==q||(ve=!0);break}ve||(pe=wn(fe={r:q,c:ce}),Ae=W?(d[q]||[])[ce]:d[pe],Q.push(Jge(Ae,pe,d,x,0,0,fe)))}Q.push("</Row>"),2<Q.length&&F.push(Q.join(""))}return F.join("")}function exe(d,x,v){var _=[],F=v.SheetNames[d],k=v.Sheets[F],F=k?function(I,R,W){if(!I||!((W||{}).Workbook||{}).Names)return"";for(var q=W.Workbook.Names,Q=[],ce=0;ce<q.length;++ce){var fe=q[ce];fe.Sheet==R&&(fe.Name.match(/^_xlfn\./)||Q.push(jU(fe)))}return Q.join("")}(k,d,v):"";return 0<F.length&&_.push("<Names>"+F+"</Names>"),0<(F=k?Qge(k,x):"").length&&_.push("<Table>"+F+"</Table>"),_.push(function(I,R,W){if(!I)return"";var q=[];if(I["!margins"]&&(q.push("<PageSetup>"),I["!margins"].header&&q.push(Er("Header",null,{"x:Margin":I["!margins"].header})),I["!margins"].footer&&q.push(Er("Footer",null,{"x:Margin":I["!margins"].footer})),q.push(Er("PageMargins",null,{"x:Bottom":I["!margins"].bottom||"0.75","x:Left":I["!margins"].left||"0.7","x:Right":I["!margins"].right||"0.7","x:Top":I["!margins"].top||"0.75"})),q.push("</PageSetup>")),W&&W.Workbook&&W.Workbook.Sheets&&W.Workbook.Sheets[R])if(W.Workbook.Sheets[R].Hidden)q.push(Er("Visible",W.Workbook.Sheets[R].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var Q=0;Q<R&&(!W.Workbook.Sheets[Q]||W.Workbook.Sheets[Q].Hidden);++Q);Q==R&&q.push("<Selected/>")}return((((W||{}).Workbook||{}).Views||[])[0]||{}).RTL&&q.push("<DisplayRightToLeft/>"),I["!protect"]&&(q.push(Ys("ProtectContents","True")),I["!protect"].objects&&q.push(Ys("ProtectObjects","True")),I["!protect"].scenarios&&q.push(Ys("ProtectScenarios","True")),I["!protect"].selectLockedCells==null||I["!protect"].selectLockedCells?I["!protect"].selectUnlockedCells==null||I["!protect"].selectUnlockedCells||q.push(Ys("EnableSelection","UnlockedCells")):q.push(Ys("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(ce){I["!protect"][ce[0]]&&q.push("<"+ce[1]+"/>")})),q.length==0?"":Er("WorksheetOptions",q.join(""),{xmlns:Xs.x})}(k,d,v)),_.join("")}function txe(d,x){x=x||{},d.SSF||(d.SSF=yt(te)),d.SSF&&(ti(),Gr(d.SSF),x.revssf=js(d.SSF),x.revssf[d.SSF[65535]]=0,x.ssf=d.SSF,x.cellXfs=[],xp(x.cellXfs,{},{revssf:{General:0}}));var v=[];v.push(Zge(d,x)),v.push(""),v.push(""),v.push("");for(var _,k=0;k<d.SheetNames.length;++k)v.push(Er("Worksheet",exe(k,x,d),{"ss:Name":Ke(d.SheetNames[k])}));return v[2]=(_=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'],x.cellXfs.forEach(function(F,I){var R=[];R.push(Er("NumberFormat",null,{"ss:Format":Ke(te[F.numFmtId])})),I={"ss:ID":"s"+(21+I)},_.push(Er("Style",R.join(""),I))}),Er("Styles",_.join(""))),v[3]=function(F){if(!((F||{}).Workbook||{}).Names)return"";for(var I=F.Workbook.Names,R=[],W=0;W<I.length;++W){var q=I[W];q.Sheet==null&&(q.Name.match(/^_xlfn\./)||R.push(jU(q)))}return Er("Names",R.join(""))}(d),Tn+Er("Workbook",v.join(""),{xmlns:Xs.ss,"xmlns:o":Xs.o,"xmlns:x":Xs.x,"xmlns:ss":Xs.ss,"xmlns:dt":Xs.dt,"xmlns:html":Xs.html})}function rxe(d){var x={},v=d.content;return v.l=28,x.AnsiUserType=v.read_shift(0,"lpstr-ansi"),x.AnsiClipboardFormat=ta(v,1),v.length-v.l<=4?x:(d=v.read_shift(4),d==0||40<d?x:(v.l-=4,x.Reserved1=v.read_shift(0,"lpstr-ansi"),v.length-v.l<=4||(d=v.read_shift(4))!==1907505652?x:(x.UnicodeClipboardFormat=ta(v,2),(d=v.read_shift(4))==0||40<d?x:(v.l-=4,void(x.Reserved2=v.read_shift(0,"lpwstr"))))))}var nxe=[60,1084,2066,2165,2175];function s0(d,x,v){if(d.t!=="z"&&d.XF){var _,k=0;try{k=d.z||d.XF.numFmtId||0,x.cellNF&&(d.z=te[k])}catch(F){if(x.WTF)throw F}if(!x||x.cellText!==!1)try{d.t==="e"?d.w=d.w||Tc[d.v]:k===0||k=="General"?d.t==="n"?(0|d.v)===d.v?d.w=d.v.toString(10):d.w=Me(d.v):d.w=wt(d.v):d.w=ln(k,d.v,{date1904:!!v,dateNF:x&&x.dateNF})}catch(F){if(x.WTF)throw F}x.cellDates&&k&&d.t=="n"&&ca(te[k]||String(k))&&(_=Ne(d.v))&&(d.t="d",d.v=new Date(_.y,_.m-1,_.d,_.H,_.M,_.S,_.u))}}function uN(d,x,v){return{v:d,ixfe:x,t:v}}function axe(d,x){var v={opts:{}},_={};function k(Lt){return!(Lt<8)&&Lt<64&&mt[Lt-8]||Zh[Lt]}function F(Lt,lr,Pr){if(!(1<Fr||Pr.sheetRows&&Lt.r>=Pr.sheetRows)){var Mn,pn,en;if(Pr.cellStyles&&lr.XF&&lr.XF.data&&(pn=Pr,(en=(Mn=lr).XF.data)&&en.patternType&&pn&&pn.cellStyles&&(Mn.s={},Mn.s.patternType=en.patternType,(pn=a0(k(en.icvFore)))&&(Mn.s.fgColor={rgb:pn}),(pn=a0(k(en.icvBack)))&&(Mn.s.bgColor={rgb:pn}))),delete lr.ixfe,delete lr.XF,_e=wn(I=Lt),pe&&pe.s&&pe.e||(pe={s:{r:0,c:0},e:{r:0,c:0}}),Lt.r<pe.s.r&&(pe.s.r=Lt.r),Lt.c<pe.s.c&&(pe.s.c=Lt.c),Lt.r+1>pe.e.r&&(pe.e.r=Lt.r+1),Lt.c+1>pe.e.c&&(pe.e.c=Lt.c+1),Pr.cellFormula&&lr.f){for(var An=0;An<We.length;++An)if(!(We[An][0].s.c>Lt.c||We[An][0].s.r>Lt.r||We[An][0].e.c<Lt.c||We[An][0].e.r<Lt.r)){lr.F=kn(We[An][0]),We[An][0].s.c==Lt.c&&We[An][0].s.r==Lt.r||delete lr.f,lr.f&&(lr.f=""+Fu(We[An][1],0,Lt,Qr,Bt));break}}Pr.dense?(ce[Lt.r]||(ce[Lt.r]=[]),ce[Lt.r][Lt.c]=lr):ce[_e]=lr}}var I,R,W,q,Q,ce=x.dense?[]:{},fe={},pe={},Ae=null,ve=[],Re="",je={},_e="",Fe={},We=[],He=[],mt=[],At={Sheets:[],WBProps:{date1904:!1},Views:[{}]},vt={},Bt={enc:!1,sbcch:0,snames:[],sharedf:Fe,arrayf:We,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!x&&!!x.cellStyles,WTF:!!x&&!!x.wtf};x.password&&(Bt.password=x.password);var dr=[],fr=[],Wt=[],Cr=[],cn=!1,Qr=[];Qr.SheetNames=Bt.snames,Qr.sharedf=Bt.sharedf,Qr.arrayf=Bt.arrayf,Qr.names=[],Qr.XTI=[];var Lr,$r=0,Fr=0,xr=0,gn=[],Nn=[];Bt.codepage=1200,h(1200);for(var ra=!1;d.l<d.length-1;){var ni=d.l,fn=d.read_shift(2);if(fn===0&&$r===10)break;var Nr=d.l===d.length?0:d.read_shift(2),Pa=g8[fn];if(Pa&&Pa.f){if(x.bookSheets&&$r===133&&fn!==133)break;if($r=fn,Pa.r===2||Pa.r==12){var Si=d.read_shift(2);if(Nr-=2,!Bt.enc&&Si!==fn&&((255&Si)<<8|Si>>8)!==fn)throw new Error("rt mismatch: "+Si+"!="+fn);Pa.r==12&&(d.l+=10,Nr-=10)}var fi,as,Bo,gt={},gt=fn===10?Pa.f(d,Nr,Bt):function(Lt,lr,Pr,Mn,pn){var en=Mn,An=[],$n=Pr.slice(Pr.l,Pr.l+en);if(pn&&pn.enc&&pn.enc.insitu&&0<$n.length)switch(Lt){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:pn.enc.insitu($n)}An.push($n),Pr.l+=en;for(var zn=Ur(Pr,Pr.l),Hr=g8[zn],Or=0;Hr!=null&&-1<nxe.indexOf(zn);)en=Ur(Pr,Pr.l+2),Or=Pr.l+4,zn==2066?Or+=4:zn!=2165&&zn!=2175||(Or+=12),$n=Pr.slice(Or,Pr.l+4+en),An.push($n),Pr.l+=4+en,Hr=g8[zn=Ur(Pr,Pr.l)];var qn=re(An);es(qn,0);var hn=0;qn.lens=[];for(var Br=0;Br<An.length;++Br)qn.lens.push(hn),hn+=An[Br].length;if(qn.length<Mn)throw"XLS Record 0x"+Lt.toString(16)+" Truncated: "+qn.length+" < "+Mn;return lr.f(qn,qn.length,pn)}(fn,Pa,d,Nr,Bt);if(Fr!=0||[9,521,1033,2057].indexOf($r)!==-1)switch(fn){case 34:v.opts.Date1904=At.WBProps.date1904=gt;break;case 134:v.opts.WriteProtect=!0;break;case 47:if(Bt.enc||(d.l=0),Bt.enc=gt,!x.password)throw new Error("File is password-protected");if(gt.valid==null)throw new Error("Encryption scheme unsupported");if(!gt.valid)throw new Error("Password is incorrect");break;case 92:Bt.lastuser=gt;break;case 66:var is=Number(gt);switch(is){case 21010:is=1200;break;case 32768:is=1e4;break;case 32769:is=1252}h(Bt.codepage=is),ra=!0;break;case 317:Bt.rrtabid=gt;break;case 25:Bt.winlocked=gt;break;case 439:v.opts.RefreshAll=gt;break;case 12:v.opts.CalcCount=gt;break;case 16:v.opts.CalcDelta=gt;break;case 17:v.opts.CalcIter=gt;break;case 13:v.opts.CalcMode=gt;break;case 14:v.opts.CalcPrecision=gt;break;case 95:v.opts.CalcSaveRecalc=gt;break;case 15:Bt.CalcRefMode=gt;break;case 2211:v.opts.FullCalc=gt;break;case 129:gt.fDialog&&(ce["!type"]="dialog"),gt.fBelow||((ce["!outline"]||(ce["!outline"]={})).above=!0),gt.fRight||((ce["!outline"]||(ce["!outline"]={})).left=!0);break;case 224:He.push(gt);break;case 430:Qr.push([gt]),Qr[Qr.length-1].XTI=[];break;case 35:case 547:Qr[Qr.length-1].push(gt);break;case 24:case 536:Lr={Name:gt.Name,Ref:Fu(gt.rgce,0,null,Qr,Bt)},0<gt.itab&&(Lr.Sheet=gt.itab-1),Qr.names.push(Lr),Qr[0]||(Qr[0]=[],Qr[0].XTI=[]),Qr[Qr.length-1].push(gt),gt.Name=="_xlnm._FilterDatabase"&&0<gt.itab&&gt.rgce&&gt.rgce[0]&&gt.rgce[0][0]&&gt.rgce[0][0][0]=="PtgArea3d"&&(Nn[gt.itab-1]={ref:kn(gt.rgce[0][0][1][2])});break;case 22:Bt.ExternCount=gt;break;case 23:Qr.length==0&&(Qr[0]=[],Qr[0].XTI=[]),Qr[Qr.length-1].XTI=Qr[Qr.length-1].XTI.concat(gt),Qr.XTI=Qr.XTI.concat(gt);break;case 2196:if(Bt.biff<8)break;Lr!=null&&(Lr.Comment=gt[1]);break;case 18:ce["!protect"]=gt;break;case 19:gt!==0&&Bt.WTF&&console.error("Password verifier: "+gt);break;case 133:fe[gt.pos]=gt,Bt.snames.push(gt.name);break;case 10:if(--Fr)break;pe.e&&(0<pe.e.r&&0<pe.e.c&&(pe.e.r--,pe.e.c--,ce["!ref"]=kn(pe),x.sheetRows&&x.sheetRows<=pe.e.r&&(Gi=pe.e.r,pe.e.r=x.sheetRows-1,ce["!fullref"]=ce["!ref"],ce["!ref"]=kn(pe),pe.e.r=Gi),pe.e.r++,pe.e.c++),0<dr.length&&(ce["!merges"]=dr),0<fr.length&&(ce["!objects"]=fr),0<Wt.length&&(ce["!cols"]=Wt),0<Cr.length&&(ce["!rows"]=Cr),At.Sheets.push(vt)),Re===""?je=ce:_[Re]=ce,ce=x.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(Bt.biff===8&&(Bt.biff={9:2,521:3,1033:4}[fn]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[gt.BIFFVer]||8),Bt.biffguess=gt.BIFFVer==0,gt.BIFFVer==0&&gt.dt==4096&&(Bt.biff=5,ra=!0,h(Bt.codepage=28591)),Bt.biff==8&&gt.BIFFVer==0&&gt.dt==16&&(Bt.biff=2),Fr++)break;var Gi,ce=x.dense?[]:{};Bt.biff<8&&!ra&&(ra=!0,h(Bt.codepage=x.codepage||1252)),Bt.biff<5||gt.BIFFVer==0&&gt.dt==4096?(Re===""&&(Re="Sheet1"),pe={s:{r:0,c:0},e:{r:0,c:0}},Gi={pos:d.l-Nr,name:Re},fe[Gi.pos]=Gi,Bt.snames.push(Re)):Re=(fe[ni]||{name:""}).name,gt.dt==32&&(ce["!type"]="chart"),gt.dt==64&&(ce["!type"]="macro"),dr=[],fr=[],Bt.arrayf=We=[],Wt=[],cn=!(Cr=[]),vt={Hidden:(fe[ni]||{hs:0}).hs,name:Re};break;case 515:case 3:case 2:ce["!type"]=="chart"&&(x.dense?(ce[gt.r]||[])[gt.c]:ce[wn({c:gt.c,r:gt.r})])&&++gt.c,tt={ixfe:gt.ixfe,XF:He[gt.ixfe]||{},v:gt.val,t:"n"},0<xr&&(tt.z=gn[tt.ixfe>>8&63]),s0(tt,x,v.opts.Date1904),F({c:gt.c,r:gt.r},tt,x);break;case 5:case 517:tt={ixfe:gt.ixfe,XF:He[gt.ixfe],v:gt.val,t:gt.t},0<xr&&(tt.z=gn[tt.ixfe>>8&63]),s0(tt,x,v.opts.Date1904),F({c:gt.c,r:gt.r},tt,x);break;case 638:tt={ixfe:gt.ixfe,XF:He[gt.ixfe],v:gt.rknum,t:"n"},0<xr&&(tt.z=gn[tt.ixfe>>8&63]),s0(tt,x,v.opts.Date1904),F({c:gt.c,r:gt.r},tt,x);break;case 189:for(var $l=gt.c;$l<=gt.C;++$l){var Sf=gt.rkrec[$l-gt.c][0],tt={ixfe:Sf,XF:He[Sf],v:gt.rkrec[$l-gt.c][1],t:"n"};0<xr&&(tt.z=gn[tt.ixfe>>8&63]),s0(tt,x,v.opts.Date1904),F({c:$l,r:gt.r},tt,x)}break;case 6:case 518:case 1030:if(gt.val=="String"){Ae=gt;break}(tt=uN(gt.val,gt.cell.ixfe,gt.tt)).XF=He[tt.ixfe],x.cellFormula&&(!((Ht=gt.formula)&&Ht[0]&&Ht[0][0]&&Ht[0][0][0]=="PtgExp")||Fe[Bo=wn({r:fi=Ht[0][0][1][0],c:as=Ht[0][0][1][1]})]?tt.f=""+Fu(gt.formula,0,gt.cell,Qr,Bt):tt.F=((x.dense?(ce[fi]||[])[as]:ce[Bo])||{}).F),0<xr&&(tt.z=gn[tt.ixfe>>8&63]),s0(tt,x,v.opts.Date1904),F(gt.cell,tt,x),Ae=gt;break;case 7:case 519:if(!Ae)throw new Error("String record expects Formula");(tt=uN(Ae.val=gt,Ae.cell.ixfe,"s")).XF=He[tt.ixfe],x.cellFormula&&(tt.f=""+Fu(Ae.formula,0,Ae.cell,Qr,Bt)),0<xr&&(tt.z=gn[tt.ixfe>>8&63]),s0(tt,x,v.opts.Date1904),F(Ae.cell,tt,x),Ae=null;break;case 33:case 545:We.push(gt);var Ht=wn(gt[0].s),ht=x.dense?(ce[gt[0].s.r]||[])[gt[0].s.c]:ce[Ht];if(x.cellFormula&&ht){if(!Ae||!Ht||!ht)break;ht.f=""+Fu(gt[1],0,gt[0],Qr,Bt),ht.F=kn(gt[0])}break;case 1212:if(!x.cellFormula)break;if(_e){if(!Ae)break;Fe[wn(Ae.cell)]=gt[0],((ht=x.dense?(ce[Ae.cell.r]||[])[Ae.cell.c]:ce[wn(Ae.cell)])||{}).f=""+Fu(gt[0],0,I,Qr,Bt)}break;case 253:tt=uN(ve[gt.isst].t,gt.ixfe,"s"),ve[gt.isst].h&&(tt.h=ve[gt.isst].h),tt.XF=He[tt.ixfe],0<xr&&(tt.z=gn[tt.ixfe>>8&63]),s0(tt,x,v.opts.Date1904),F({c:gt.c,r:gt.r},tt,x);break;case 513:x.sheetStubs&&(tt={ixfe:gt.ixfe,XF:He[gt.ixfe],t:"z"},0<xr&&(tt.z=gn[tt.ixfe>>8&63]),s0(tt,x,v.opts.Date1904),F({c:gt.c,r:gt.r},tt,x));break;case 190:if(x.sheetStubs)for(var zt=gt.c;zt<=gt.C;++zt){var ut=gt.ixfe[zt-gt.c];tt={ixfe:ut,XF:He[ut],t:"z"},0<xr&&(tt.z=gn[tt.ixfe>>8&63]),s0(tt,x,v.opts.Date1904),F({c:zt,r:gt.r},tt,x)}break;case 214:case 516:case 4:(tt=uN(gt.val,gt.ixfe,"s")).XF=He[tt.ixfe],0<xr&&(tt.z=gn[tt.ixfe>>8&63]),s0(tt,x,v.opts.Date1904),F({c:gt.c,r:gt.r},tt,x);break;case 0:case 512:Fr===1&&(pe=gt);break;case 252:ve=gt;break;case 1054:if(Bt.biff==4){gn[xr++]=gt[1];for(var yr=0;yr<xr+163&&te[yr]!=gt[1];++yr);163<=yr&&Fn(gt[1],xr+163)}else Fn(gt[1],gt[0]);break;case 30:gn[xr++]=gt;for(var Vt=0;Vt<xr+163&&te[Vt]!=gt;++Vt);163<=Vt&&Fn(gt,xr+163);break;case 229:dr=dr.concat(gt);break;case 93:fr[gt.cmo[0]]=Bt.lastobj=gt;break;case 438:Bt.lastobj.TxO=gt;break;case 127:Bt.lastobj.ImData=gt;break;case 440:for(W=gt[0].s.r;W<=gt[0].e.r;++W)for(R=gt[0].s.c;R<=gt[0].e.c;++R)(ht=x.dense?(ce[W]||[])[R]:ce[wn({c:R,r:W})])&&(ht.l=gt[1]);break;case 2048:for(W=gt[0].s.r;W<=gt[0].e.r;++W)for(R=gt[0].s.c;R<=gt[0].e.c;++R)(ht=x.dense?(ce[W]||[])[R]:ce[wn({c:R,r:W})])&&ht.l&&(ht.l.Tooltip=gt[1]);break;case 28:if(Bt.biff<=5&&2<=Bt.biff)break;ht=x.dense?(ce[gt[0].r]||[])[gt[0].c]:ce[wn(gt[0])];var Yt=fr[gt[2]];ht||(ht=x.dense?(ce[gt[0].r]||(ce[gt[0].r]=[]),ce[gt[0].r][gt[0].c]={t:"z"}):ce[wn(gt[0])]={t:"z"},pe.e.r=Math.max(pe.e.r,gt[0].r),pe.s.r=Math.min(pe.s.r,gt[0].r),pe.e.c=Math.max(pe.e.c,gt[0].c),pe.s.c=Math.min(pe.s.c,gt[0].c)),ht.c||(ht.c=[]),Yt={a:gt[1],t:Yt.TxO.t},ht.c.push(Yt);break;case 2173:He[gt.ixfe],gt.ext.forEach(function(lr){lr[0]});break;case 125:if(!Bt.cellStyles)break;for(;gt.e>=gt.s;)Wt[gt.e--]={width:gt.w/256,level:gt.level||0,hidden:!!(1&gt.flags)},cn||(cn=!0,n8(gt.w/256)),pp(Wt[gt.e+1]);break;case 520:Yt={},gt.level!=null&&((Cr[gt.r]=Yt).level=gt.level),gt.hidden&&((Cr[gt.r]=Yt).hidden=!0),gt.hpt&&((Cr[gt.r]=Yt).hpt=gt.hpt,Yt.hpx=Av(gt.hpt));break;case 38:case 39:case 40:case 41:ce["!margins"]||mg(ce["!margins"]={}),ce["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[fn]]=gt;break;case 161:ce["!margins"]||mg(ce["!margins"]={}),ce["!margins"].header=gt.header,ce["!margins"].footer=gt.footer;break;case 574:gt.RTL&&(At.Views[0].RTL=!0);break;case 146:mt=gt;break;case 2198:Q=gt;break;case 140:q=gt;break;case 442:Re?vt.CodeName=gt||vt.name:At.WBProps.CodeName=gt||"ThisWorkbook"}}else Pa||console.error("Missing Info for XLS Record 0x"+fn.toString(16)),d.l+=Nr}return v.SheetNames=Na(fe).sort(function(Lt,lr){return Number(Lt)-Number(lr)}).map(function(Lt){return fe[Lt].name}),x.bookSheets||(v.Sheets=_),!v.SheetNames.length&&je["!ref"]?(v.SheetNames.push("Sheet1"),v.Sheets&&(v.Sheets.Sheet1=je)):v.Preamble=je,v.Sheets&&Nn.forEach(function(Lt,lr){v.Sheets[v.SheetNames[lr]]["!autofilter"]=Lt}),v.Strings=ve,v.SSF=yt(te),Bt.enc&&(v.Encryption=Bt.enc),Q&&(v.Themes=Q),v.Metadata={},q!==void 0&&(v.Metadata.Country=q),0<Qr.names.length&&(At.Names=Qr.names),v.Workbook=At,v}var hw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function dN(d,x){var v,_,k,F,I;if(w8(x=x||{}),g(),x.codepage&&f(x.codepage),d.FullPaths){if(Ir.find(d,"/encryption"))throw new Error("File is password-protected");v=Ir.find(d,"!CompObj"),k=Ir.find(d,"/Workbook")||Ir.find(d,"/Book")}else{switch(x.type){case"base64":d=U(O(d));break;case"binary":d=U(d);break;case"buffer":break;case"array":Array.isArray(d)||(d=Array.prototype.slice.call(d))}es(d,0),k={content:d}}if(v&&rxe(v),x.bookProps&&!x.bookSheets)_={};else{var R=M?"buffer":"array";if(k&&k.content)_=axe(k.content,x);else if((k=Ir.find(d,"PerfectOffice_MAIN"))&&k.content)_=il.to_workbook(k.content,(x.type=R,x));else{if(!(k=Ir.find(d,"NativeContent_MAIN"))||!k.content)throw(k=Ir.find(d,"MN0"))&&k.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");_=il.to_workbook(k.content,(x.type=R,x))}x.bookVBA&&d.FullPaths&&Ir.find(d,"/_VBA_PROJECT_CUR/VBA/dir")&&(_.vbaraw=(F=d,I=Ir.utils.cfb_new({root:"R"}),F.FullPaths.forEach(function(W,q){W.slice(-1)!=="/"&&W.match(/_VBA_PROJECT_CUR/)&&(W=W.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,""),Ir.utils.cfb_add(I,W,F.FileIndex[q].content))}),Ir.write(I)))}return R={},d.FullPaths&&function(W,q,Q){var ce=Ir.find(W,"/!DocumentSummaryInformation");if(ce&&0<ce.size)try{var fe,pe=$3(ce,co,hw.DSI);for(fe in pe)q[fe]=pe[fe]}catch(je){if(Q.WTF)throw je}var Ae=Ir.find(W,"/!SummaryInformation");if(Ae&&0<Ae.size)try{var ve,Re=$3(Ae,vl,hw.SI);for(ve in Re)q[ve]==null&&(q[ve]=Re[ve])}catch(je){if(Q.WTF)throw je}q.HeadingPairs&&q.TitlesOfParts&&(mv(q.HeadingPairs,q.TitlesOfParts,q,Q),delete q.HeadingPairs,delete q.TitlesOfParts)}(d,R,x),_.Props=_.Custprops=R,x.bookFiles&&(_.cfb=d),_}function ixe(d,F){var v,_,k=F||{},F=Ir.utils.cfb_new({root:"R"}),I="/Workbook";switch(k.bookType||"xls"){case"xls":k.bookType="biff8";case"xla":k.bookType||(k.bookType="xla");case"biff8":I="/Workbook",k.biff=8;break;case"biff5":I="/Book",k.biff=5;break;default:throw new Error("invalid type "+k.bookType+" for XLS CFB")}return Ir.utils.cfb_add(F,I,TU(d,k)),k.biff==8&&(d.Props||d.Custprops)&&function(R,W){var q,Q=[],ce=[],fe=[],pe=0,Ae=Io(co,"n"),ve=Io(vl,"n");if(R.Props)for(q=Na(R.Props),pe=0;pe<q.length;++pe)(Object.prototype.hasOwnProperty.call(Ae,q[pe])?Q:Object.prototype.hasOwnProperty.call(ve,q[pe])?ce:fe).push([q[pe],R.Props[q[pe]]]);if(R.Custprops)for(q=Na(R.Custprops),pe=0;pe<q.length;++pe)Object.prototype.hasOwnProperty.call(R.Props||{},q[pe])||(Object.prototype.hasOwnProperty.call(Ae,q[pe])?Q:Object.prototype.hasOwnProperty.call(ve,q[pe])?ce:fe).push([q[pe],R.Custprops[q[pe]]]);for(var Re=[],pe=0;pe<fe.length;++pe)-1<B3.indexOf(fe[pe][0])||-1<hv.indexOf(fe[pe][0])||fe[pe][1]!=null&&Re.push(fe[pe]);ce.length&&Ir.utils.cfb_add(W,"/SummaryInformation",z3(ce,hw.SI,ve,vl)),(Q.length||Re.length)&&Ir.utils.cfb_add(W,"/DocumentSummaryInformation",z3(Q,hw.DSI,Ae,co,Re.length?Re:null,hw.UDI))}(d,F),k.biff==8&&d.vbaraw&&(v=F,(_=Ir.read(d.vbaraw,{type:typeof d.vbaraw=="string"?"binary":"buffer"})).FullPaths.forEach(function(R,W){W==0||(R=R.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/")).slice(-1)!=="/"&&Ir.utils.cfb_add(v,R,_.FileIndex[W].content)})),F}var mw={0:{f:function(d,x){var v={},_=d.l+x;v.r=d.read_shift(4),d.l+=4;var k=d.read_shift(2);return d.l+=1,x=d.read_shift(1),d.l=_,7&x&&(v.level=7&x),16&x&&(v.hidden=!0),32&x&&(v.hpt=k/20),v}},1:{f:function(d){return[y(d)]}},2:{f:function(d){return[y(d),et(d),"n"]}},3:{f:function(d){return[y(d),d.read_shift(1),"e"]}},4:{f:function(d){return[y(d),d.read_shift(1),"b"]}},5:{f:function(d){return[y(d),Gt(d),"n"]}},6:{f:function(d){return[y(d),ts(d),"str"]}},7:{f:function(d){return[y(d),d.read_shift(4),"s"]}},8:{f:function(d,x,v){var _=d.l+x,k=y(d);k.r=v["!row"];var F=[k,ts(d),"str"];return v.cellFormula?(d.l+=2,x=oN(d,_-d.l,v),F[3]=Fu(x,0,k,v.supbooks,v)):d.l=_,F}},9:{f:function(d,x,v){var _=d.l+x,k=y(d);k.r=v["!row"];var F=[k,Gt(d),"n"];return v.cellFormula?(d.l+=2,x=oN(d,_-d.l,v),F[3]=Fu(x,0,k,v.supbooks,v)):d.l=_,F}},10:{f:function(d,x,v){var _=d.l+x,k=y(d);k.r=v["!row"];var F=[k,d.read_shift(1),"b"];return v.cellFormula?(d.l+=2,x=oN(d,_-d.l,v),F[3]=Fu(x,0,k,v.supbooks,v)):d.l=_,F}},11:{f:function(d,x,v){var _=d.l+x,k=y(d);k.r=v["!row"];var F=[k,d.read_shift(1),"e"];return v.cellFormula?(d.l+=2,x=oN(d,_-d.l,v),F[3]=Fu(x,0,k,v.supbooks,v)):d.l=_,F}},12:{f:function(d){return[E(d)]}},13:{f:function(d){return[E(d),et(d),"n"]}},14:{f:function(d){return[E(d),d.read_shift(1),"e"]}},15:{f:function(d){return[E(d),d.read_shift(1),"b"]}},16:{f:vU},17:{f:function(d){return[E(d),ts(d),"str"]}},18:{f:function(d){return[E(d),d.read_shift(4),"s"]}},19:{f:jc},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(d,I,R){var _=d.l+I;d.l+=4,d.l+=1;var k=d.read_shift(4),F=be(d),I=tge(d,0,R),R=Z(d);return d.l=_,I={Name:F,Ptg:I},k<268435455&&(I.Sheet=k),R&&(I.Comment=R),I}},40:{},42:{},43:{f:function(d,x,v){var _={};_.sz=d.read_shift(2)/20;var k,F=(F=(k=d).read_shift(1),k.l++,{fBold:1&F,fItalic:2&F,fUnderline:4&F,fStrikeout:8&F,fOutline:16&F,fShadow:32&F,fCondense:64&F,fExtend:128&F});switch(F.fItalic&&(_.italic=1),F.fCondense&&(_.condense=1),F.fExtend&&(_.extend=1),F.fShadow&&(_.shadow=1),F.fOutline&&(_.outline=1),F.fStrikeout&&(_.strike=1),d.read_shift(2)===700&&(_.bold=1),d.read_shift(2)){case 1:_.vertAlign="superscript";break;case 2:_.vertAlign="subscript"}switch((F=d.read_shift(1))!=0&&(_.underline=F),0<(F=d.read_shift(1))&&(_.family=F),0<(F=d.read_shift(1))&&(_.charset=F),d.l++,_.color=function(I){var R={},W=I.read_shift(1)>>>1,q=I.read_shift(1),Q=I.read_shift(2,"i"),ce=I.read_shift(1),fe=I.read_shift(1),pe=I.read_shift(1);switch(I.l++,W){case 0:R.auto=1;break;case 1:R.index=q;var Ae=Zh[q];Ae&&(R.rgb=a0(Ae));break;case 2:R.rgb=a0([ce,fe,pe]);break;case 3:R.theme=q}return Q!=0&&(R.tint=0<Q?Q/32767:Q/32768),R}(d),d.read_shift(1)){case 1:_.scheme="major";break;case 2:_.scheme="minor"}return _.name=ts(d),_}},44:{f:function(d,x){return[d.read_shift(2),ts(d)]}},45:{f:A1e},46:{f:yo},47:{f:function(d,k){var v=d.l+k,_=d.read_shift(2),k=d.read_shift(2);return d.l=v,{ixfe:_,numFmtId:k}}},48:{},49:{f:function(d){return d.read_shift(4,"i")}},50:{},51:{f:function(d){for(var x=[],v=d.read_shift(4);0<v--;)x.push([d.read_shift(4),d.read_shift(4)]);return x}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:xt},62:{f:function(d){return[y(d),jc(d),"is"]}},63:{f:function(d){var x={};x.i=d.read_shift(4);var v={};return v.r=d.read_shift(4),v.c=d.read_shift(4),x.r=wn(v),2&(d=d.read_shift(1))&&(x.l="1"),8&d&&(x.a="1"),x}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:gi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(d){var x=d.read_shift(2);return d.l+=28,{RTL:32&x}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(d,x){var v={},_=d[d.l];return++d.l,v.above=!(64&_),v.left=!(128&_),d.l+=18,v.name=D(d),v}},148:{f:cN,p:16},151:{f:function(){}},152:{},153:{f:function(d,x){var v={},_=d.read_shift(4);return v.defaultThemeVersion=d.read_shift(4),0<(d=8<x?ts(d):"").length&&(v.CodeName=d),v.autoCompressPictures=!!(65536&_),v.backupFile=!!(64&_),v.checkCompatibility=!!(4096&_),v.date1904=!!(1&_),v.filterPrivacy=!!(8&_),v.hidePivotFieldList=!!(1024&_),v.promptedSolutions=!!(16&_),v.publishItems=!!(2048&_),v.refreshAllConnections=!!(262144&_),v.saveExternalLinkValues=!!(128&_),v.showBorderUnselectedTables=!!(4&_),v.showInkAnnotation=!!(32&_),v.showObjects=["all","placeholders","none"][_>>13&3],v.showPivotChartFilter=!!(32768&_),v.updateLinks=["userSet","never","always"][_>>8&3],v}},154:{},155:{},156:{f:function(d,x){var v={};return v.Hidden=d.read_shift(4),v.iTabID=d.read_shift(4),v.strRelID=Te(d),v.name=ts(d),v}},157:{},158:{},159:{T:1,f:function(d){return[d.read_shift(4),d.read_shift(4)]}},160:{T:-1},161:{T:1,f:Nt},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:kv},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(d,x){return{flags:d.read_shift(4),version:d.read_shift(4),name:ts(d)}}},336:{T:-1},337:{f:function(d){return d.l+=4,d.read_shift(4)!=0},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Te},357:{},358:{},359:{},360:{T:1},361:{},362:{f:$e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(d,F,v){var _=d.l+F,k=pt(d),F=d.read_shift(1);return(k=[k])[2]=F,v.cellFormula?(v=ege(d,_-d.l,v),k[1]=v):d.l=_,k}},427:{f:function(d,k,v){var _=d.l+k,k=[Nt(d)];return v.cellFormula&&(v=rge(d,_-d.l,v),k[1]=v),d.l=_,k}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(d){var x={};return yU.forEach(function(v){x[v]=Gt(d)}),x}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(d,R){var v=d.l+R,_=Nt(d),k=Z(d),F=ts(d),I=ts(d),R=ts(d);return d.l=v,R={rfx:_,relId:k,loc:F,display:R},I&&(R.Tooltip=I),R}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Te},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:ze},633:{T:1},634:{T:-1},635:{T:1,f:function(d){var x={};x.iauthor=d.read_shift(4);var v=Nt(d);return x.rfx=v.s,x.ref=wn(v.s),d.l+=16,x}},636:{T:-1},637:{f:ke},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(d,x){return d.l+=10,{name:ts(d)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},g8={6:{f:c8},10:{f:Pc},12:{f:Ro},13:{f:Ro},14:{f:Li},15:{f:Li},16:{f:Gt},17:{f:Li},18:{f:Li},19:{f:Ro},20:{f:me},21:{f:me},23:{f:$e},24:{f:Le},25:{f:Li},26:{},27:{},28:{f:function(d,x,v){return function(_,k){if(!(k.biff<8)){var F=_.read_shift(2),I=_.read_shift(2),R=_.read_shift(2),W=_.read_shift(2),q=e0(_,0,k);return k.biff<8&&_.read_shift(1),[{r:F,c:I},q,W,R]}}(d,v)}},29:{},34:{f:Li},35:{f:we},38:{f:Gt},39:{f:Gt},40:{f:Gt},41:{f:Gt},42:{f:Li},43:{f:Li},47:{f:function(d,x,v){var _={Type:8<=v.biff?d.read_shift(2):0};return _.Type?rN(d,x-2,_):(x=d,v.biff,d=v,v=_,x={key:Ro(x),verificationBytes:Ro(x)},d.password&&(x.verifier=Sv(d.password)),v.valid=x.verificationBytes===x.verifier,v.valid&&(v.insitu=r8(d.password))),_}},49:{f:function(d,x,v){var _={dyHeight:d.read_shift(2),fl:d.read_shift(2)};switch(v&&v.biff||8){case 2:break;case 3:case 4:d.l+=2;break;default:d.l+=10}return _.name=ng(d,0,v),_}},51:{f:Ro},60:{},61:{f:function(d){return{Pos:[d.read_shift(2),d.read_shift(2)],Dim:[d.read_shift(2),d.read_shift(2)],Flags:d.read_shift(2),CurTab:d.read_shift(2),FirstTab:d.read_shift(2),Selected:d.read_shift(2),TabRatio:d.read_shift(2)}}},64:{f:Li},65:{f:function(){}},66:{f:Ro},77:{},80:{},81:{},82:{},85:{f:Ro},89:{},90:{},91:{},92:{f:function(d,x,k){if(k.enc)return d.l+=x,"";var _=d.l,k=e0(d,0,k);return d.read_shift(x+_-d.l),k}},93:{f:function(d,x,v){return v&&v.biff<8?function(_,k,F){_.l+=4;var I=_.read_shift(2),R=_.read_shift(2),W=_.read_shift(2);_.l+=2,_.l+=2,_.l+=2,_.l+=2,_.l+=2,_.l+=2,_.l+=2,_.l+=2,_.l+=2,_.l+=6,k-=36;var q=[];return q.push((Ze[I]||gi)(_,k,F)),{cmo:[R,I,W],ft:q}}(d,x,v):{cmo:v=G3(d),ft:function(_,k){for(var F=_.l+k,I=[];_.l<F;){var R=_.read_shift(2);_.l-=2;try{I.push(ZT[R](_,F-_.l))}catch{return _.l=F,I}}return _.l!=F&&(_.l=F),I}(d,x-22,v[1])}}},94:{},95:{f:Li},96:{},97:{},99:{f:Li},125:{f:xt},128:{f:function(d){if(d.l+=4,(d=[d.read_shift(2),d.read_shift(2)])[0]!==0&&d[0]--,d[1]!==0&&d[1]--,7<d[0]||7<d[1])throw new Error("Bad Gutters: "+d.join("|"));return d}},129:{f:function(d,x,v){return{fDialog:16&(x=v&&v.biff==8||x==2?d.read_shift(2):(d.l+=x,0)),fBelow:64&x,fRight:128&x}}},130:{f:Ro},131:{f:Li},132:{f:Li},133:{f:function(d,x,v){var _=d.read_shift(4),k=3&d.read_shift(1),F=d.read_shift(1);switch(F){case 0:F="Worksheet";break;case 1:F="Macrosheet";break;case 2:F="Chartsheet";break;case 6:F="VBAModule"}return v=ng(d,0,v),{pos:_,hs:k,dt:F,name:v=v.length===0?"Sheet1":v}}},134:{},140:{f:function(d){var x=[0,0],v=d.read_shift(2);return x[0]=yf[v]||v,v=d.read_shift(2),x[1]=yf[v]||v,x}},141:{f:Ro},144:{},146:{f:function(d){for(var x=d.read_shift(2),v=[];0<x--;)v.push(cp(d));return v}},151:{},152:{},153:{},154:{},155:{},156:{f:Ro},157:{},158:{},160:{f:it},161:{f:function(d,x){var v={};return x<32||(d.l+=16,v.header=Gt(d),v.footer=Gt(d),d.l+=2),v}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(d,x){for(var v=d.l+x-2,_=d.read_shift(2),k=d.read_shift(2),F=[];d.l<v;)F.push(W3(d));if(d.l!==v)throw new Error("MulRK read error");if(x=d.read_shift(2),F.length!=x-k+1)throw new Error("MulRK length mismatch");return{r:_,c:k,C:x,rkrec:F}}},190:{f:function(d,x){for(var v=d.l+x-2,_=d.read_shift(2),k=d.read_shift(2),F=[];d.l<v;)F.push(d.read_shift(2));if(d.l!==v)throw new Error("MulBlank read error");if(x=d.read_shift(2),F.length!=x-k+1)throw new Error("MulBlank length mismatch");return{r:_,c:k,C:x,ixfe:F}}},193:{f:Pc},197:{},198:{},199:{},200:{},201:{},202:{f:Li},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ro},220:{},221:{f:Li},222:{},224:{f:function(d,x,v){var _,k,F,I={};return I.ifnt=d.read_shift(2),I.numFmtId=d.read_shift(2),I.flags=d.read_shift(2),I.fStyle=I.flags>>2&1,x-=6,I.data=(_=d,I.fStyle,k=v,F={},x=_.read_shift(4),d=_.read_shift(4),v=_.read_shift(4),_=_.read_shift(2),F.patternType=sh[v>>26],k.cellStyles&&(F.alc=7&x,F.fWrap=x>>3&1,F.alcV=x>>4&7,F.fJustLast=x>>7&1,F.trot=x>>8&255,F.cIndent=x>>16&15,F.fShrinkToFit=x>>20&1,F.iReadOrder=x>>22&2,F.fAtrNum=x>>26&1,F.fAtrFnt=x>>27&1,F.fAtrAlc=x>>28&1,F.fAtrBdr=x>>29&1,F.fAtrPat=x>>30&1,F.fAtrProt=x>>31&1,F.dgLeft=15&d,F.dgRight=d>>4&15,F.dgTop=d>>8&15,F.dgBottom=d>>12&15,F.icvLeft=d>>16&127,F.icvRight=d>>23&127,F.grbitDiag=d>>30&3,F.icvTop=127&v,F.icvBottom=v>>7&127,F.icvDiag=v>>14&127,F.dgDiag=v>>21&15,F.icvFore=127&_,F.icvBack=_>>7&127,F.fsxButton=_>>14&1),F),I}},225:{f:function(d,x){return x===0||d.read_shift(2),1200}},226:{f:Pc},227:{},229:{f:function(d,x){for(var v=[],_=d.read_shift(2);_--;)v.push(sg(d));return v}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(d,x){for(var v=d.l+x,x=d.read_shift(4),_=d.read_shift(4),k=[],F=0;F!=_&&d.l<v;++F)k.push(function(R){var W=o;o=1200;var q,Q=R.read_shift(2),ce=4&(ve=R.read_shift(1)),fe=8&ve,pe=1+(1&ve),Ae=0,ve={};return fe&&(Ae=R.read_shift(2)),ce&&(q=R.read_shift(4)),pe=pe==2?"dbcs-cont":"sbcs-cont",pe=Q===0?"":R.read_shift(Q,pe),fe&&(R.l+=4*Ae),ce&&(R.l+=q),ve.t=pe,fe||(ve.raw="<t>"+ve.t+"</t>",ve.r=ve.t),o=W,ve}(d));return k.Count=x,k.Unique=_,k}},253:{f:function(d){var x=ad(d);return x.isst=d.read_shift(4),x}},255:{f:function(d,x){var v={};return v.dsst=d.read_shift(2),d.l+=x-2,v}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:oh},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Li},353:{f:Pc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(d,F,v){var _=d.l+F,k=d.read_shift(2),F=d.read_shift(2);if((v.sbcch=F)==1025||F==14849)return[F,k];if(F<1||255<F)throw new Error("Unexpected SupBook type: "+F);for(var v=em(d,F),I=[];_>d.l;)I.push(lp(d));return[F,k,v,I]}},431:{f:Li},432:{},433:{},434:{},437:{},438:{f:function(d,x,v){var _=d.l,k="";try{d.l+=4;var F=(v.lastobj||{cmo:[0,0]}).cmo[1];[0,5,7,11,12,14].indexOf(F)==-1?d.l+=6:function(q){var Q=q.read_shift(1);q.l++;var ce=q.read_shift(2);q.l+=2}(d);var I=d.read_shift(2);d.read_shift(2),Ro(d),F=d.read_shift(2),d.l+=F;for(var R=1;R<d.lens.length-1;++R){if(d.l-_!=d.lens[R])throw new Error("TxO: bad continue record");var W=d[d.l];if((k+=em(d,d.lens[R+1]-d.lens[R]-1)).length>=(W?I:2*I))break}if(k.length!==I&&k.length!==2*I)throw new Error("cchText: "+I+" != "+k.length);return d.l=_+x,{t:k}}catch{return d.l=_+x,{t:k}}}},439:{f:Li},440:{f:function(d,x){var v=sg(d);return d.l+=16,[v,function(_,k){var F=_.l+k;if((ce=_.read_shift(4))!==2)throw new Error("Unrecognized streamVersion: "+ce);k=_.read_shift(2),_.l+=2;var I,R,W,q,Q,ce="";16&k&&(I=vv(_,_.l)),128&k&&(R=vv(_,_.l)),(257&k)==257&&(W=vv(_,_.l)),(257&k)==1&&(fe=V3(_,_.l)),8&k&&(ce=vv(_,_.l)),32&k&&(q=_.read_shift(16)),64&k&&(Q=Gb(_)),_.l=F;var fe=R||W||fe||"";return fe&&ce&&(fe+="#"+ce),fe=fe||"#"+ce,fe={Target:fe=2&k&&fe.charAt(0)=="/"&&fe.charAt(1)!="/"?"file://"+fe:fe},q&&(fe.guid=q),Q&&(fe.time=Q),I&&(fe.Tooltip=I),fe}(d,x-24)]}},441:{},442:{f:lp},443:{},444:{f:Ro},445:{},446:{},448:{f:Pc},449:{f:function(d){return d.read_shift(2),d.read_shift(4)},r:2},450:{f:Pc},512:{f:Zb},513:{f:Mt},515:{f:function(d,x,v){return v.biffguess&&v.biff==2&&(v.biff=5),v=ad(d),d=Gt(d),v.val=d,v}},516:{f:function(d,x,v){return v.biffguess&&v.biff==2&&(v.biff=5),d.l,x=ad(d),v.biff==2&&d.l++,v=lp(d,d.l,v),x.val=v,x}},517:{f:Y},519:{f:k8},520:{f:function(d){var x={};x.r=d.read_shift(2),x.c=d.read_shift(2),x.cnt=d.read_shift(2)-x.c;var v=d.read_shift(2);d.l+=4;var _=d.read_shift(1);return d.l+=3,7&_&&(x.level=7&_),32&_&&(x.hidden=!0),64&_&&(x.hpt=v/20),x}},523:{},545:{f:qe},549:{f:K3},566:{},574:{f:function(d,x,v){return v&&2<=v.biff&&v.biff<5?{}:{RTL:64&d.read_shift(2)}}},638:{f:function(_){var x=_.read_shift(2),v=_.read_shift(2),_=W3(_);return{r:x,c:v,ixfe:_[0],rknum:_[1]}}},659:{},1048:{},1054:{f:function(d,x,v){return[d.read_shift(2),e0(d,0,v)]}},1084:{},1212:{f:function(d,x,v){var _=q3(d);d.l++;var k=d.read_shift(1);return[function(F,I,R){var W,q=F.l+I,Q=F.read_shift(2),ce=cw(F,Q,R);return Q==65535?[[],gi(F,I-2)]:(I!==Q+2&&(W=lw(F,q-Q-2,ce,R)),[ce,W])}(d,x-=8,v),k,_]}},2048:{f:function(d,x){return d.read_shift(2),[sg(d),d.read_shift((x-10)/2,"dbcs-cont").replace(ae,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:og},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Pc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(d){d.l+=2;var x={cxfs:0,crc:0};return x.cxfs=d.read_shift(2),x.crc=d.read_shift(4),x},r:12},2173:{f:function(d,x){d.l,d.l+=2,x=d.read_shift(2),d.l+=2;for(var v=d.read_shift(2),_=[];0<v--;)_.push($1e(d,d.l));return{ixfe:x,ext:_}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Li,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(d,x,v){if(!(v.biff<8)){var _=d.read_shift(2),k=d.read_shift(2);return[em(d,_,v),em(d,k,v)]}d.l+=x},r:12},2197:{},2198:{f:function(d,x,v){var _=d.l+x;if(d.read_shift(4)!==124226)if(v.cellStyles){var k,F=d.slice(d.l);d.l=_;try{k=Wa(F,{type:"array"})}catch{return}if(x=va(k,"theme/theme/theme1.xml",!0),x)return zB(x,v)}else d.l=_},r:12},2199:{},2200:{},2201:{},2202:{f:function(d){return[d.read_shift(4)!==0,d.read_shift(4)!==0,d.read_shift(4)]},r:12},2203:{f:Pc},2204:{},2205:{},2206:{},2207:{},2211:{f:function(d){var x,v,_=(v=(x=d).read_shift(2),_=x.read_shift(2),x.l+=8,{type:v,flags:_});if(_.type!=2211)throw new Error("Invalid Future Record "+_.type);return d.read_shift(4)!==0}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ro},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(d,x,v){var _={area:!1};return v.biff!=5?d.l+=x:(x=d.read_shift(1),d.l+=3,16&x&&(_.area=!0)),_}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(d){for(var x=d.read_shift(2),v=[];0<x--;)v.push(cp(d));return v}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Zb},1:{},2:{f:function(d){var x=ad(d);return++d.l,d=d.read_shift(2),x.t="n",x.val=d,x}},3:{f:function(d){var x=ad(d);return++d.l,d=Gt(d),x.t="n",x.val=d,x}},4:{f:function(d,x,v){v.biffguess&&v.biff==5&&(v.biff=2);var _=ad(d);return++d.l,v=e0(d,0,v),_.t="str",_.val=v,_}},5:{f:Y},7:{f:function(d){var x=d.read_shift(1);return x===0?(d.l++,""):d.read_shift(x,"sbcs-cont")}},8:{},9:{f:og},11:{},22:{f:Ro},30:{f:Pv},31:{},32:{},33:{f:qe},36:{},37:{f:K3},50:{f:function(d,x){d.l+=6,d.l+=2,d.l+=1,d.l+=3,d.l+=1,d.l+=x-13}},62:{},52:{},67:{},68:{f:Ro},69:{},86:{},126:{},127:{f:function(d){var x=d.read_shift(2),_=d.read_shift(2),v=d.read_shift(4),_={fmt:x,env:_,len:v,data:d.slice(d.l,d.l+v)};return d.l+=v,_}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(d,F,I){var _=d.l+F,k=ad(d),F=d.read_shift(2),I=em(d,F,I);return d.l=_,k.t="str",k.val=I,k}},223:{},234:{},354:{},421:{},518:{f:c8},521:{f:og},536:{f:Le},547:{f:we},561:{},579:{},1030:{f:c8},1033:{f:og},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Xr(d,x,v,_){var k=x;isNaN(k)||(x=_||(v||[]).length||0,(_=d.next(4)).write_shift(2,k),_.write_shift(2,x),0<x&&pr(v)&&d.push(v))}function pw(d,x,v){return(d=d||Kt(7)).write_shift(2,x),d.write_shift(2,v),d.write_shift(2,0),d.write_shift(1,0),d}function sxe(d,x,v,_){if(x.v!=null)switch(x.t){case"d":case"n":var k=x.t=="d"?Va(Xe(x.v)):x.v;return void(k==(0|k)&&0<=k&&k<65536?Xr(d,2,(Q=v,ce=_,fe=k,pw(pe=Kt(9),Q,ce),pe.write_shift(2,fe),pe)):Xr(d,3,(fe=v,pe=_,k=k,pw(q=Kt(15),fe,pe),q.write_shift(8,k,"f"),q)));case"b":case"e":return void Xr(d,5,(q=v,F=_,I=x.v,R=x.t,pw(W=Kt(9),q,F),Iu(I,R||"b",W),W));case"s":case"str":return void Xr(d,4,(F=v,I=_,R=(x.v||"").slice(0,255),pw(W=Kt(8+2*R.length),F,I),W.write_shift(1,R.length),W.write_shift(R.length,R,"sbcs"),W.l<W.length?W.slice(0,W.l):W))}var F,I,R,W,q,Q,ce,fe,pe;Xr(d,1,pw(null,v,_))}function oxe(d,x){for(var v=x||{},x=Os(),_=0,k=0;k<d.SheetNames.length;++k)d.SheetNames[k]==v.sheet&&(_=k);if(_==0&&v.sheet&&d.SheetNames[0]!=v.sheet)throw new Error("Sheet not found: "+v.sheet);return Xr(x,v.biff==4?1033:v.biff==3?521:9,up(0,16,v)),function(F,I,R){var W,q,Q=Array.isArray(I),ce=La(I["!ref"]||"A1"),fe=[];if(255<ce.e.c||16383<ce.e.r){if(R.WTF)throw new Error("Range "+(I["!ref"]||"A1")+" exceeds format limit A1:IV16384");ce.e.c=Math.min(ce.e.c,255),ce.e.r=Math.min(ce.e.c,16383),W=kn(ce)}for(var pe=ce.s.r;pe<=ce.e.r;++pe){q=Oi(pe);for(var Ae=ce.s.c;Ae<=ce.e.c;++Ae){pe===ce.s.r&&(fe[Ae]=Ca(Ae)),W=fe[Ae]+q;var ve=Q?(I[pe]||[])[Ae]:I[W];ve&&sxe(F,ve,pe,Ae)}}}(x,d.Sheets[d.SheetNames[_]],v),Xr(x,10),x.end()}function lxe(d,x,v){var _,k;Xr(d,49,(k=(_={sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"}).name||"Arial",(d=Kt((v=(d=v)&&d.biff==5)?15+k.length:16+2*k.length)).write_shift(2,20*(_.sz||12)),d.write_shift(4,0),d.write_shift(2,400),d.write_shift(4,0),d.write_shift(2,0),d.write_shift(1,k.length),v||d.write_shift(1,1),d.write_shift((v?1:2)*k.length,k,v?"sbcs":"utf16le"),d))}function cxe(d,x,v){x&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(_){for(var k,F,I,R,W=_[0];W<=_[1];++W)x[W]!=null&&Xr(d,1054,(k=W,F=x[W],R=void 0,I=(I=v)&&I.biff==5,(R=R||Kt(I?3+F.length:5+2*F.length)).write_shift(2,k),R.write_shift(I?1:2,F.length),I||R.write_shift(1,1),R.write_shift((I?1:2)*F.length,F,I?"sbcs":"utf16le"),(R=R.length>R.l?R.slice(0,R.l):R).l==null&&(R.l=R.length),R))})}function uxe(d,x){for(var v=0;v<x["!links"].length;++v){var _=x["!links"][v];Xr(d,440,at(_)),_[1].Tooltip&&Xr(d,2048,function(k){var F=k[1].Tooltip,I=Kt(10+2*(F.length+1));I.write_shift(2,2048),k=ci(k[0]),I.write_shift(2,k.r),I.write_shift(2,k.r),I.write_shift(2,k.c),I.write_shift(2,k.c);for(var R=0;R<F.length;++R)I.write_shift(2,F.charCodeAt(R));return I.write_shift(2,0),I}(_))}delete x["!links"]}function dxe(d,x){var v;x&&(v=0,x.forEach(function(_,k){var F;++v<=256&&_&&Xr(d,125,(F=lN(k,_),_=k,(k=Kt(12)).write_shift(2,_),k.write_shift(2,_),k.write_shift(2,256*F.width),k.write_shift(2,0),_=0,F.hidden&&(_|=1),k.write_shift(1,_),_=F.level||0,k.write_shift(1,_),k.write_shift(2,0),k))}))}function fxe(d,x,v,_,k){var F,I,R,W,q,Q,ce,fe,pe,Ae,ve,Re=16+xp(k.cellXfs,x,k);if(x.v!=null||x.bf)if(x.bf)Xr(d,6,Q1e(x,v,_,0,Re));else switch(x.t){case"d":case"n":var je=x.t=="d"?Va(Xe(x.v)):x.v;Xr(d,515,(Q=v,ce=_,fe=je,pe=Re,Ae=Kt(14),t0(Q,ce,pe,Ae),or(fe,Ae),Ae));break;case"b":case"e":Xr(d,517,(je=v,Q=_,ce=x.v,pe=Re,fe=x.t,Ae=Kt(8),t0(je,Q,pe,Ae),Iu(ce,fe,Ae),Ae));break;case"s":case"str":k.bookSST?(ve=d8(k.Strings,x.v,k.revStrings),Xr(d,253,(F=v,I=_,R=ve,W=Re,q=Kt(10),t0(F,I,W,q),q.write_shift(4,R),q))):Xr(d,516,(ve=v,F=_,I=(x.v||"").slice(0,255),W=Re,R=Kt(+(q=!(R=k)||R.biff==8)+8+(1+q)*I.length),t0(ve,F,W,R),R.write_shift(2,I.length),q&&R.write_shift(1,1),R.write_shift((1+q)*I.length,I,q?"utf16le":"sbcs"),R));break;default:Xr(d,513,t0(v,_,Re))}else Xr(d,513,t0(v,_,Re))}function hxe(d,x,v){var _,k,F=Os(),Fe=v.SheetNames[d],I=v.Sheets[Fe]||{},R=(v||{}).Workbook||{},W=(R.Sheets||[])[d]||{},q=Array.isArray(I),Q=x.biff==8,ce=[],fe=La(I["!ref"]||"A1"),pe=Q?65536:16384;if(255<fe.e.c||fe.e.r>=pe){if(x.WTF)throw new Error("Range "+(I["!ref"]||"A1")+" exceeds format limit A1:IV16384");fe.e.c=Math.min(fe.e.c,255),fe.e.r=Math.min(fe.e.c,pe-1)}Xr(F,2057,up(0,16,x)),Xr(F,13,Ou(1)),Xr(F,12,Ou(100)),Xr(F,15,Zs(!0)),Xr(F,17,Zs(!1)),Xr(F,16,or(.001)),Xr(F,95,Zs(!0)),Xr(F,42,Zs(!1)),Xr(F,43,Zs(!1)),Xr(F,130,Ou(1)),Xr(F,128,(v=[0,0],(d=Kt(8)).write_shift(4,0),d.write_shift(2,v[0]?v[0]+1:0),d.write_shift(2,v[1]?v[1]+1:0),d)),Xr(F,131,Zs(!1)),Xr(F,132,Zs(!1)),Q&&dxe(F,I["!cols"]),Xr(F,512,(pe=fe,(v=Kt(2*(d=(v=x).biff!=8&&v.biff?2:4)+6)).write_shift(d,pe.s.r),v.write_shift(d,pe.e.r+1),v.write_shift(2,pe.s.c),v.write_shift(2,pe.e.c+1),v.write_shift(2,0),v)),Q&&(I["!links"]=[]);for(var Ae=fe.s.r;Ae<=fe.e.r;++Ae){k=Oi(Ae);for(var ve=fe.s.c;ve<=fe.e.c;++ve){Ae===fe.s.r&&(ce[ve]=Ca(ve)),_=ce[ve]+k;var Re=q?(I[Ae]||[])[ve]:I[_];Re&&(fxe(F,Re,Ae,ve,x),Q&&Re.l&&I["!links"].push([_,Re.l]))}}var je,_e,Fe=W.CodeName||W.name||Fe;return Q&&Xr(F,574,(R=(R.Views||[])[0],_e=Kt(18),je=1718,R&&R.RTL&&(je|=64),_e.write_shift(2,je),_e.write_shift(4,0),_e.write_shift(4,64),_e.write_shift(4,0),_e.write_shift(4,0),_e)),Q&&(I["!merges"]||[]).length&&Xr(F,229,function(We){var He=Kt(2+8*We.length);He.write_shift(2,We.length);for(var mt=0;mt<We.length;++mt)H3(We[mt],He);return He}(I["!merges"])),Q&&uxe(F,I),Xr(F,442,Xb(Fe)),Q&&(je=F,_e=I,(Fe=Kt(19)).write_shift(4,2151),Fe.write_shift(4,0),Fe.write_shift(4,0),Fe.write_shift(2,3),Fe.write_shift(1,1),Fe.write_shift(4,0),Xr(je,2151,Fe),(Fe=Kt(39)).write_shift(4,2152),Fe.write_shift(4,0),Fe.write_shift(4,0),Fe.write_shift(2,3),Fe.write_shift(1,0),Fe.write_shift(4,0),Fe.write_shift(2,1),Fe.write_shift(4,4),Fe.write_shift(2,0),H3(La(_e["!ref"]||"A1"),Fe),Fe.write_shift(4,4),Xr(je,2152,Fe)),Xr(F,10),F.end()}function mxe(d,x,v){var _=Os(),R=(d||{}).Workbook||{},k=R.Sheets||[],F=R.WBProps||{},I=v.biff==8,R=v.biff==5;Xr(_,2057,up(0,5,v)),v.bookType=="xla"&&Xr(_,135),Xr(_,225,I?Ou(1200):null),Xr(_,193,function(je,_e){_e=_e||Kt(je);for(var Fe=0;Fe<je;++Fe)_e.write_shift(1,0);return _e}(2)),R&&Xr(_,191),R&&Xr(_,192),Xr(_,226),Xr(_,92,function(je){var _e=!je||je.biff==8,Fe=Kt(_e?112:54);for(Fe.write_shift(je.biff==8?2:1,7),_e&&Fe.write_shift(1,0),Fe.write_shift(4,859007059),Fe.write_shift(4,5458548|(_e?0:536870912));Fe.l<Fe.length;)Fe.write_shift(1,_e?0:32);return Fe}(v)),Xr(_,66,Ou(I?1200:1252)),I&&Xr(_,353,Ou(0)),I&&Xr(_,448),Xr(_,317,function(je){for(var _e=Kt(2*je),Fe=0;Fe<je;++Fe)_e.write_shift(2,Fe+1);return _e}(d.SheetNames.length)),I&&d.vbaraw&&Xr(_,211),I&&d.vbaraw&&Xr(_,442,Xb(F.CodeName||"ThisWorkbook")),Xr(_,156,Ou(17)),Xr(_,25,Zs(!1)),Xr(_,18,Zs(!1)),Xr(_,19,Ou(0)),I&&Xr(_,431,Zs(!1)),I&&Xr(_,444,Ou(0)),Xr(_,61,((R=Kt(18)).write_shift(2,0),R.write_shift(2,0),R.write_shift(2,29280),R.write_shift(2,17600),R.write_shift(2,56),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(2,1),R.write_shift(2,500),R)),Xr(_,64,Zs(!1)),Xr(_,141,Ou(0)),Xr(_,34,Zs(((F=d).Workbook&&F.Workbook.WBProps&&Jr(F.Workbook.WBProps.date1904)?"true":"false")=="true")),Xr(_,14,Zs(!0)),I&&Xr(_,439,Zs(!1)),Xr(_,218,Ou(0)),lxe(_,0,v),cxe(_,d.SSF,v),function(je,_e){for(var Fe=0;Fe<16;++Fe)Xr(je,224,z({numFmtId:0,style:!0},0,_e));_e.cellXfs.forEach(function(We){Xr(je,224,z(We,0,_e))})}(_,v),I&&Xr(_,352,Zs(!1)),R=_.end(),F=Os(),I&&Xr(F,140,((Re=Re||Kt(4)).write_shift(2,1),Re.write_shift(2,1),Re)),I&&v.Strings&&function(je,_e,Fe){var We=(Fe||[]).length||0;if(We<=8224)return Xr(je,_e,Fe,We);if(!isNaN(_e)){for(var He=Fe.parts||[],mt=0,At=0,vt=0;vt+(He[mt]||8224)<=8224;)vt+=He[mt]||8224,mt++;var Bt=je.next(4);for(Bt.write_shift(2,_e),Bt.write_shift(2,vt),je.push(Fe.slice(At,At+vt)),At+=vt;At<We;){for((Bt=je.next(4)).write_shift(2,60),vt=0;vt+(He[mt]||8224)<=8224;)vt+=He[mt]||8224,mt++;Bt.write_shift(2,vt),je.push(Fe.slice(At,At+vt)),At+=vt}}}(F,252,JT(v.Strings)),Xr(F,10);for(var _=F.end(),W=Os(),q=0,Q=0,Q=0;Q<d.SheetNames.length;++Q)q+=(I?12:11)+(I?2:1)*d.SheetNames[Q].length;var ce,fe,pe,Ae,ve=R.length+q+_.length;for(Q=0;Q<d.SheetNames.length;++Q)Xr(W,133,(ce={pos:ve,hs:(k[Q]||{}).Hidden||0,dt:0,name:d.SheetNames[Q]},Ae=pe=void 0,pe=!(fe=v)||8<=fe.biff?2:1,(Ae=Kt(8+pe*ce.name.length)).write_shift(4,ce.pos),Ae.write_shift(1,ce.hs||0),Ae.write_shift(1,ce.dt),Ae.write_shift(1,ce.name.length),8<=fe.biff&&Ae.write_shift(1,1),Ae.write_shift(pe*ce.name.length,ce.name,fe.biff<8?"sbcs":"utf16le"),(fe=Ae.slice(0,Ae.l)).l=Ae.l,fe)),ve+=x[Q].length;var Re=W.end();if(q!=Re.length)throw new Error("BS8 "+q+" != "+Re.length);return F=[],R.length&&F.push(R),Re.length&&F.push(Re),_.length&&F.push(_),re(F)}function TU(d,x){for(var v=0;v<=d.SheetNames.length;++v){var _=d.Sheets[d.SheetNames[v]];_&&_["!ref"]&&255<_o(_["!ref"]).e.c&&typeof console<"u"&&console.error&&console.error("Worksheet '"+d.SheetNames[v]+"' extends beyond column IV (255).  Data may be lost.")}var k=x||{};switch(k.biff||2){case 8:case 5:return function(F,I){var R=I||{},W=[];F&&!F.SSF&&(F.SSF=yt(te)),F&&F.SSF&&(ti(),Gr(F.SSF),R.revssf=js(F.SSF),R.revssf[F.SSF[65535]]=0,R.ssf=F.SSF),R.Strings=[],R.Strings.Count=0,R.Strings.Unique=0,_8(R),R.cellXfs=[],xp(R.cellXfs,{},{revssf:{General:0}}),F.Props||(F.Props={});for(var q=0;q<F.SheetNames.length;++q)W[W.length]=hxe(q,R,F);return W.unshift(mxe(F,W,R)),re(W)}(d,x);case 4:case 3:case 2:return oxe(d,x)}throw new Error("invalid type "+k.bookType+" for BIFF")}function kU(d,x){var v=x||{},_=v.dense?[]:{},k=(d=d.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!k)throw new Error("Invalid HTML: could not find <table>");for(var F,x=d.match(/<\/table/i),fe=k.index,I=x&&x.index||d.length,R=br(d.slice(fe,I),/(:?<tr[^>]*>)/i,"<tr>"),W=-1,q=0,Q={s:{r:1e7,c:1e7},e:{r:0,c:0}},ce=[],fe=0;fe<R.length;++fe){var pe=R[fe].trim(),Ae=pe.slice(0,3).toLowerCase();if(Ae!="<tr"){if(Ae=="<td"||Ae=="<th")for(var ve=pe.split(/<\/t[dh]>/i),I=0;I<ve.length;++I){var Re=ve[I].trim();if(Re.match(/<t[dh]/i)){for(var je=Re,_e=0;je.charAt(0)=="<"&&-1<(_e=je.indexOf(">"));)je=je.slice(_e+1);for(var Fe=0;Fe<ce.length;++Fe){var We=ce[Fe];We.s.c==q&&We.s.r<W&&W<=We.e.r&&(q=We.e.c+1,Fe=-1)}var He=Wn(Re.slice(0,Re.indexOf(">"))),mt=He.colspan?+He.colspan:1;(1<(F=+He.rowspan)||1<mt)&&ce.push({s:{r:W,c:q},e:{r:W+(F||1)-1,c:q+mt-1}}),Re=He.t||He["data-t"]||"",je.length&&(je=Au(je),Q.s.r>W&&(Q.s.r=W),Q.e.r<W&&(Q.e.r=W),Q.s.c>q&&(Q.s.c=q),Q.e.c<q&&(Q.e.c=q),je.length&&(He={t:"s",v:je},v.raw||!je.trim().length||Re=="s"||(je==="TRUE"?He={t:"b",v:!0}:je==="FALSE"?He={t:"b",v:!1}:isNaN(St(je))?isNaN(It(je).getDate())||(He={t:"d",v:Xe(je)},(He=v.cellDates?He:{t:"n",v:Va(He.v)}).z=v.dateNF||te[14]):He={t:"n",v:St(je)}),v.dense?(_[W]||(_[W]=[]),_[W][q]=He):_[wn({r:W,c:q})]=He)),q+=mt}}}else{if(++W,v.sheetRows&&v.sheetRows<=W){--W;break}q=0}}return _["!ref"]=kn(Q),ce.length&&(_["!merges"]=ce),_}function PU(d,x,v,_){for(var k=d["!merges"]||[],F=[],I=x.s.c;I<=x.e.c;++I){for(var R,W,q,Q,ce=0,fe=0,pe=0;pe<k.length;++pe)if(!(k[pe].s.r>v||k[pe].s.c>I||k[pe].e.r<v||k[pe].e.c<I)){if(k[pe].s.r<v||k[pe].s.c<I){ce=-1;break}ce=k[pe].e.r-k[pe].s.r+1,fe=k[pe].e.c-k[pe].s.c+1;break}ce<0||(R=wn({r:v,c:I}),q=(W=_.dense?(d[v]||[])[I]:d[R])&&W.v!=null&&(W.h||tl(W.w||(ic(W),W.w)||""))||"",Q={},1<ce&&(Q.rowspan=ce),1<fe&&(Q.colspan=fe),_.editable?q='<span contenteditable="true">'+q+"</span>":W&&(Q["data-t"]=W&&W.t||"z",W.v!=null&&(Q["data-v"]=W.v),W.z!=null&&(Q["data-z"]=W.z),W.l&&(W.l.Target||"#").charAt(0)!="#"&&(q='<a href="'+W.l.Target+'">'+q+"</a>")),Q.id=(_.id||"sjs")+"-"+R,F.push(Er("td",q,Q)))}return"<tr>"+F.join("")+"</tr>"}var OU='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',IU="</body></html>";function FU(d,x,v){return[].join("")+"<table"+(v&&v.id?' id="'+v.id+'"':"")+">"}function DU(d,k){var v=k||{},_=v.header!=null?v.header:OU,k=v.footer!=null?v.footer:IU,F=[_],I=_o(d["!ref"]);v.dense=Array.isArray(d),F.push(FU(0,0,v));for(var R=I.s.r;R<=I.e.r;++R)F.push(PU(d,I,R,v));return F.push("</table>"+k),F.join("")}function RU(d,x,v){var _=v||{},k=0,F=0;_.origin!=null&&(typeof _.origin=="number"?k=_.origin:(k=(v=typeof _.origin=="string"?ci(_.origin):_.origin).r,F=v.c));var I=x.getElementsByTagName("tr"),R=Math.min(_.sheetRows||1e7,I.length),W={s:{r:0,c:0},e:{r:k,c:F}};d["!ref"]&&(x=_o(d["!ref"]),W.s.r=Math.min(W.s.r,x.s.r),W.s.c=Math.min(W.s.c,x.s.c),W.e.r=Math.max(W.e.r,x.e.r),W.e.c=Math.max(W.e.c,x.e.c),k==-1&&(W.e.r=k=x.e.r+1));var q,Q,ce=[],fe=0,pe=d["!rows"]||(d["!rows"]=[]),Ae=0,ve=0,Re=0,je=0;for(d["!cols"]||(d["!cols"]=[]);Ae<I.length&&ve<R;++Ae){var _e=I[Ae];if(LU(_e)){if(_.display)continue;pe[ve]={hidden:!0}}for(var Fe=_e.children,Re=je=0;Re<Fe.length;++Re){var We=Fe[Re];if(!_.display||!LU(We)){for(var He=We.hasAttribute("data-v")?We.getAttribute("data-v"):We.hasAttribute("v")?We.getAttribute("v"):Au(We.innerHTML),mt=We.getAttribute("data-z")||We.getAttribute("z"),fe=0;fe<ce.length;++fe){var At=ce[fe];At.s.c==je+F&&At.s.r<ve+k&&ve+k<=At.e.r&&(je=At.e.c+1-F,fe=-1)}Q=+We.getAttribute("colspan")||1,(1<(q=+We.getAttribute("rowspan")||1)||1<Q)&&ce.push({s:{r:ve+k,c:je+F},e:{r:ve+k+(q||1)-1,c:je+F+(Q||1)-1}});var vt={t:"s",v:He},Bt=We.getAttribute("data-t")||We.getAttribute("t")||"";He!=null&&(He.length==0?vt.t=Bt||"z":_.raw||He.trim().length==0||Bt=="s"||(He==="TRUE"?vt={t:"b",v:!0}:He==="FALSE"?vt={t:"b",v:!1}:isNaN(St(He))?isNaN(It(He).getDate())||(vt={t:"d",v:Xe(He)},(vt=_.cellDates?vt:{t:"n",v:Va(vt.v)}).z=_.dateNF||te[14]):vt={t:"n",v:St(He)})),vt.z===void 0&&mt!=null&&(vt.z=mt);var dr="",fr=We.getElementsByTagName("A");if(fr&&fr.length)for(var Wt=0;Wt<fr.length&&(!fr[Wt].hasAttribute("href")||(dr=fr[Wt].getAttribute("href")).charAt(0)=="#");++Wt);dr&&dr.charAt(0)!="#"&&(vt.l={Target:dr}),_.dense?(d[ve+k]||(d[ve+k]=[]),d[ve+k][je+F]=vt):d[wn({c:je+F,r:ve+k})]=vt,W.e.c<je+F&&(W.e.c=je+F),je+=Q}}++ve}return ce.length&&(d["!merges"]=(d["!merges"]||[]).concat(ce)),W.e.r=Math.max(W.e.r,ve-1+k),d["!ref"]=kn(W),R<=ve&&(d["!fullref"]=kn((W.e.r=I.length-Ae+ve-1+k,W))),d}function MU(d,x){return RU((x||{}).dense?[]:{},d,x)}function LU(d){var v,x="",v=(v=d).ownerDocument.defaultView&&typeof v.ownerDocument.defaultView.getComputedStyle=="function"?v.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null;return(x=(x=v?v(d).getPropertyValue("display"):x)||d.style&&d.style.display)==="none"}var BU={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function UU(d,x){var v=x||{},_,k,F,I,R,W=Id(d),q=[],Q={name:""},ce="",fe=0,pe={},Ae=[],ve=v.dense?[]:{},Re={value:""},je="",_e=0,Fe=[],We=-1,He=-1,mt={s:{r:1e6,c:1e7},e:{r:0,c:0}},At=0,vt={},Bt=[],dr={},fr=[],Wt=1,Cr=1,cn=[],Qr={Names:[]},Lr={},$r=["",""],Fr=[],xr={},gn="",Nn=0,ra=!1,ni=!1,fn=0;for(rl.lastIndex=0,W=W.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");I=rl.exec(W);)switch(I[3]=I[3].replace(/_.*$/,"")){case"table":case"":I[1]==="/"?(mt.e.c>=mt.s.c&&mt.e.r>=mt.s.r?ve["!ref"]=kn(mt):ve["!ref"]="A1:A1",0<v.sheetRows&&v.sheetRows<=mt.e.r&&(ve["!fullref"]=ve["!ref"],mt.e.r=v.sheetRows-1,ve["!ref"]=kn(mt)),Bt.length&&(ve["!merges"]=Bt),fr.length&&(ve["!rows"]=fr),F.name=F.||F.name,typeof JSON<"u"&&JSON.stringify(F),Ae.push(F.name),pe[F.name]=ve,ni=!1):I[0].charAt(I[0].length-2)!=="/"&&(F=Wn(I[0],!1),We=He=-1,mt.s.r=mt.s.c=1e7,mt.e.r=mt.e.c=0,ve=v.dense?[]:{},Bt=[],fr=[],ni=!0);break;case"table-row-group":I[1]==="/"?--At:++At;break;case"table-row":case"":if(I[1]==="/"){We+=Wt,Wt=1;break}if((Nr=Wn(I[0],!1)).?We=Nr.-1:We==-1&&(We=0),(Wt=+Nr["number-rows-repeated"]||1)<10)for(fn=0;fn<Wt;++fn)0<At&&(fr[We+fn]={level:At});He=-1;break;case"covered-table-cell":I[1]!=="/"&&++He,v.sheetStubs&&(v.dense?(ve[We]||(ve[We]=[]),ve[We][He]={t:"z"}):ve[wn({r:We,c:He})]={t:"z"}),je="",Fe=[];break;case"table-cell":case"":if(I[0].charAt(I[0].length-2)==="/")++He,Re=Wn(I[0],!1),Cr=parseInt(Re["number-columns-repeated"]||"1",10),R={t:"z",v:null},Re.formula&&v.cellFormula!=0&&(R.f=oU(vn(Re.formula))),(Re.||Re["value-type"])=="string"&&(R.t="s",R.v=vn(Re["string-value"]||""),v.dense?(ve[We]||(ve[We]=[]),ve[We][He]=R):ve[wn({r:We,c:He})]=R),He+=Cr-1;else if(I[1]!=="/"){je="",_e=0,Fe=[],Cr=1;var Nr=Wt?We+Wt-1:We;if(++He>mt.e.c&&(mt.e.c=He),He<mt.s.c&&(mt.s.c=He),We<mt.s.r&&(mt.s.r=We),Nr>mt.e.r&&(mt.e.r=Nr),Fr=[],xr={},R={t:(Re=Wn(I[0],!1)).||Re["value-type"],v:null},v.cellFormula)if(Re.formula&&(Re.formula=vn(Re.formula)),Re["number-matrix-columns-spanned"]&&Re["number-matrix-rows-spanned"]&&(dr={s:{r:We,c:He},e:{r:We+(parseInt(Re["number-matrix-rows-spanned"],10)||0)-1,c:He+(parseInt(Re["number-matrix-columns-spanned"],10)||0)-1}},R.F=kn(dr),cn.push([dr,R.F])),Re.formula)R.f=oU(Re.formula);else for(fn=0;fn<cn.length;++fn)We>=cn[fn][0].s.r&&We<=cn[fn][0].e.r&&He>=cn[fn][0].s.c&&He<=cn[fn][0].e.c&&(R.F=cn[fn][1]);switch((Re["number-columns-spanned"]||Re["number-rows-spanned"])&&(dr={s:{r:We,c:He},e:{r:We+(parseInt(Re["number-rows-spanned"],10)||0)-1,c:He+(parseInt(Re["number-columns-spanned"],10)||0)-1}},Bt.push(dr)),Re["number-columns-repeated"]&&(Cr=parseInt(Re["number-columns-repeated"],10)),R.t){case"boolean":R.t="b",R.v=Jr(Re["boolean-value"]);break;case"float":case"percentage":case"currency":R.t="n",R.v=parseFloat(Re.value);break;case"date":R.t="d",R.v=Xe(Re["date-value"]),v.cellDates||(R.t="n",R.v=Va(R.v)),R.z="m/d/yy";break;case"time":R.t="n",R.v=function(fi){var as=0,Bo=0,gt=!1,is=fi.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!is)throw new Error("|"+fi+"| is not an ISO8601 Duration");for(var Gi=1;Gi!=is.length;++Gi)if(is[Gi]){switch(Bo=1,3<Gi&&(gt=!0),is[Gi].slice(is[Gi].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+is[Gi].slice(is[Gi].length-1));case"D":Bo*=24;case"H":Bo*=60;case"M":if(!gt)throw new Error("Unsupported ISO Duration Field: M");Bo*=60}as+=Bo*parseInt(is[Gi],10)}return as}(Re["time-value"])/86400,v.cellDates&&(R.t="d",R.v=Ie(R.v)),R.z="HH:MM:SS";break;case"number":R.t="n",R.v=parseFloat(Re.);break;default:if(R.t!=="string"&&R.t!=="text"&&R.t)throw new Error("Unsupported value type "+R.t);R.t="s",Re["string-value"]!=null&&(je=vn(Re["string-value"]),Fe=[])}}else{if(ra=!1,R.t==="s"&&(R.v=je||"",Fe.length&&(R.R=Fe),ra=_e==0),Lr.Target&&(R.l=Lr),0<Fr.length&&(R.c=Fr,Fr=[]),je&&v.cellText!==!1&&(R.w=je),ra&&(R.t="z",delete R.v),(!ra||v.sheetStubs)&&!(v.sheetRows&&v.sheetRows<=We))for(var Pa=0;Pa<Wt;++Pa){if(Cr=parseInt(Re["number-columns-repeated"]||"1",10),v.dense)for(ve[We+Pa]||(ve[We+Pa]=[]),ve[We+Pa][He]=Pa==0?R:yt(R);0<--Cr;)ve[We+Pa][He+Cr]=yt(R);else for(ve[wn({r:We+Pa,c:He})]=R;0<--Cr;)ve[wn({r:We+Pa,c:He+Cr})]=yt(R);mt.e.c<=He&&(mt.e.c=He)}He+=(Cr=parseInt(Re["number-columns-repeated"]||"1",10))-1,Cr=0,R={},je="",Fe=[]}Lr={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(I[1]==="/"){if((_=q.pop())[0]!==I[3])throw"Bad state: "+_}else I[0].charAt(I[0].length-2)!=="/"&&q.push([I[3],!0]);break;case"annotation":if(I[1]==="/"){if((_=q.pop())[0]!==I[3])throw"Bad state: "+_;xr.t=je,Fe.length&&(xr.R=Fe),xr.a=gn,Fr.push(xr)}else I[0].charAt(I[0].length-2)!=="/"&&q.push([I[3],!1]);je=gn="",_e=Nn=0,Fe=[];break;case"creator":I[1]==="/"?gn=W.slice(Nn,I.index):Nn=I.index+I[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(I[1]==="/"){if((_=q.pop())[0]!==I[3])throw"Bad state: "+_}else I[0].charAt(I[0].length-2)!=="/"&&q.push([I[3],!1]);je="",_e=0,Fe=[];break;case"scientific-number":case"currency-symbol":case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(I[1]==="/"){if(vt[Q.name]=ce,(_=q.pop())[0]!==I[3])throw"Bad state: "+_}else I[0].charAt(I[0].length-2)!=="/"&&(ce="",Q=Wn(I[0],!1),q.push([I[3],!0]));break;case"script":case"libraries":case"automatic-styles":break;case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":break;case"number":switch(q[q.length-1][0]){case"time-style":case"date-style":k=Wn(I[0],!1),ce+=BU[I[3]][k.style==="long"?1:0]}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(q[q.length-1][0]){case"time-style":case"date-style":k=Wn(I[0],!1),ce+=BU[I[3]][k.style==="long"?1:0]}break;case"boolean-style":case"boolean":case"text-style":break;case"text":if(I[0].slice(-2)==="/>")break;if(I[1]==="/")switch(q[q.length-1][0]){case"number-style":case"date-style":case"time-style":ce+=W.slice(fe,I.index)}else fe=I.index+I[0].length;break;case"named-range":$r=u8((k=Wn(I[0],!1))["cell-range-address"]);var Si={Name:k.name,Ref:$r[0]+"!"+$r[1]};ni&&(Si.Sheet=Ae.length),Qr.Names.push(Si);break;case"text-content":case"text-properties":case"embedded-text":break;case"body":case"":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":break;case"p":case"":if(-1<["master-styles"].indexOf(q[q.length-1][0]))break;I[1]!=="/"||Re&&Re["string-value"]?(Wn(I[0],!1),_e=I.index+I[0].length):(Si=(Si=W.slice(_e,I.index)).replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(fi,as){return Array(parseInt(as,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),Si=[vn(Si.replace(/<[^>]*>/g,""))],je=(0<je.length?je+`
`:"")+Si[0]);break;case"s":break;case"database-range":if(I[1]==="/")break;try{pe[($r=u8(Wn(I[0])["target-range-address"]))[0]]["!autofilter"]={ref:$r[1]}}catch{}break;case"date":case"object":break;case"title":case"":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":break;case"a":if(I[1]!=="/"){if(!(Lr=Wn(I[0],!1)).href)break;Lr.Target=vn(Lr.href),delete Lr.href,Lr.Target.charAt(0)=="#"&&-1<Lr.Target.indexOf(".")?($r=u8(Lr.Target.slice(1)),Lr.Target="#"+$r[0]+"!"+$r[1]):Lr.Target.match(/^\.\.[\\\/]/)&&(Lr.Target=Lr.Target.slice(3))}break;case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;default:switch(I[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(v.WTF)throw new Error(I)}}return d={Sheets:pe,SheetNames:Ae,Workbook:Qr},v.bookSheets&&delete d.Sheets,d}function $U(d,x){x=x||{},Sr(d,"META-INF/manifest.xml")&&function(_,k){for(var F,I,R=Id(_);F=rl.exec(R);)switch(F[3]){case"manifest":break;case"file-entry":if((I=Wn(F[0],!1)).path=="/"&&I.type!==ku)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(k&&k.WTF)throw F}}(Ut(d,"META-INF/manifest.xml"),x);var v=va(d,"content.xml");if(!v)throw new Error("Missing content.xml in ODS / UOF file");return x=UU(wi(v),x),Sr(d,"meta.xml")&&(x.Props=tg(Ut(d,"meta.xml"))),x}function zU(d,x){return UU(d,x)}var pxe=function(){var d=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),x="<office:document-styles "+Eu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+d+"</office:document-styles>";return function(){return Tn+x}}(),VU=function(){function d(v,_,k){var F=[];F.push('      <table:table table:name="'+Ke(_.SheetNames[k])+`" table:style-name="ta1">
`);var I=0,R=0,W=_o(v["!ref"]||"A1"),q=v["!merges"]||[],Q=0,ce=Array.isArray(v);if(v["!cols"])for(R=0;R<=W.e.c;++R)F.push("        <table:table-column"+(v["!cols"][R]?' table:style-name="co'+v["!cols"][R].ods+'"':"")+`></table:table-column>
`);for(var fe="",pe=v["!rows"]||[],I=0;I<W.s.r;++I)fe=pe[I]?' table:style-name="ro'+pe[I].ods+'"':"",F.push("        <table:table-row"+fe+`></table:table-row>
`);for(;I<=W.e.r;++I){for(fe=pe[I]?' table:style-name="ro'+pe[I].ods+'"':"",F.push("        <table:table-row"+fe+`>
`),R=0;R<W.s.c;++R)F.push(x);for(;R<=W.e.c;++R){for(var Ae=!1,ve={},Re="",Q=0;Q!=q.length;++Q)if(!(q[Q].s.c>R||q[Q].s.r>I||q[Q].e.c<R||q[Q].e.r<I)){q[Q].s.c==R&&q[Q].s.r==I||(Ae=!0),ve["table:number-columns-spanned"]=q[Q].e.c-q[Q].s.c+1,ve["table:number-rows-spanned"]=q[Q].e.r-q[Q].s.r+1;break}if(Ae)F.push(`          <table:covered-table-cell/>
`);else{var je=wn({r:I,c:R}),_e=ce?(v[I]||[])[R]:v[je];if(_e&&_e.f&&(ve["table:formula"]=Ke(("of:="+_e.f.replace(s8,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")),_e.F&&_e.F.slice(0,je.length)==je&&(Fe=_o(_e.F),ve["table:number-matrix-columns-spanned"]=Fe.e.c-Fe.s.c+1,ve["table:number-matrix-rows-spanned"]=Fe.e.r-Fe.s.r+1)),_e){switch(_e.t){case"b":Re=_e.v?"TRUE":"FALSE",ve["office:value-type"]="boolean",ve["office:boolean-value"]=_e.v?"true":"false";break;case"n":Re=_e.w||String(_e.v||0),ve["office:value-type"]="float",ve["office:value"]=_e.v||0;break;case"s":case"str":Re=_e.v==null?"":_e.v,ve["office:value-type"]="string";break;case"d":Re=_e.w||Xe(_e.v).toISOString(),ve["office:value-type"]="date",ve["office:date-value"]=Xe(_e.v).toISOString(),ve["table:style-name"]="ce1";break;default:F.push(x);continue}var Fe,je=Ke(Re).replace(/  +/g,function(He){return'<text:s text:c="'+He.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");_e.l&&_e.l.Target&&(je=Er("text:a",je,{"xlink:href":(Fe=(Fe=(Fe=_e.l.Target).charAt(0)=="#"?"#"+Fe.slice(1).replace(/\./,"!"):Fe).charAt(0)!="#"&&!Fe.match(/^\w+:/)?"../"+Fe:Fe).replace(/&/g,"&amp;")})),F.push("          "+Er("table:table-cell",Er("text:p",je,{}),ve)+`
`)}else F.push(x)}}F.push(`        </table:table-row>
`)}return F.push(`      </table:table>
`),F.join("")}var x=`          <table:table-cell />
`;return function(v,_){var k=[Tn],F=Eu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),I=Eu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});_.bookType=="fods"?(k.push("<office:document"+F+I+`>
`),k.push(eg().replace(/office:document-meta/g,"office:meta"))):k.push("<office:document-content"+F+`>
`),function(W,q){W.push(` <office:automatic-styles>
`),W.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),W.push(`   <number:month number:style="long"/>
`),W.push(`   <number:text>/</number:text>
`),W.push(`   <number:day number:style="long"/>
`),W.push(`   <number:text>/</number:text>
`),W.push(`   <number:year/>
`),W.push(`  </number:date-style>
`);var Q=0;q.SheetNames.map(function(fe){return q.Sheets[fe]}).forEach(function(fe){if(fe&&fe["!cols"]){for(var pe=0;pe<fe["!cols"].length;++pe)if(fe["!cols"][pe]){var Ae=fe["!cols"][pe];if(Ae.width==null&&Ae.wpx==null&&Ae.wch==null)continue;pp(Ae),Ae.ods=Q,Ae=fe["!cols"][pe].wpx+"px",W.push('  <style:style style:name="co'+Q+`" style:family="table-column">
`),W.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+Ae+`"/>
`),W.push(`  </style:style>
`),++Q}}});var ce=0;q.SheetNames.map(function(fe){return q.Sheets[fe]}).forEach(function(fe){if(fe&&fe["!rows"])for(var pe,Ae=0;Ae<fe["!rows"].length;++Ae)fe["!rows"][Ae]&&(fe["!rows"][Ae].ods=ce,pe=fe["!rows"][Ae].hpx+"px",W.push('  <style:style style:name="ro'+ce+`" style:family="table-row">
`),W.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+pe+`"/>
`),W.push(`  </style:style>
`),++ce)}),W.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),W.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),W.push(`  </style:style>
`),W.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),W.push(` </office:automatic-styles>
`)}(k,v),k.push(`  <office:body>
`),k.push(`    <office:spreadsheet>
`);for(var R=0;R!=v.SheetNames.length;++R)k.push(d(v.Sheets[v.SheetNames[R]],v,R));return k.push(`    </office:spreadsheet>
`),k.push(`  </office:body>
`),_.bookType=="fods"?k.push("</office:document>"):k.push("</office:document-content>"),k.join("")}}();function WU(d,x){if(x.bookType=="fods")return VU(d,x);var v=Cc(),_=[],k=[];return ea(v,"mimetype","application/vnd.oasis.opendocument.spreadsheet"),ea(v,"content.xml",VU(d,x)),_.push(["content.xml","text/xml"]),k.push(["content.xml","ContentFile"]),ea(v,"styles.xml",pxe(d,x)),_.push(["styles.xml","text/xml"]),k.push(["styles.xml","StylesFile"]),ea(v,"meta.xml",Tn+eg()),_.push(["meta.xml","text/xml"]),k.push(["meta.xml","MetadataFile"]),ea(v,"manifest.rdf",function(F){var I=[Tn];I.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var R=0;R!=F.length;++R)I.push(Pu(F[R][0],F[R][1])),I.push([`  <rdf:Description rdf:about="">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+F[R][0]+`"/>
`,`  </rdf:Description>
`].join(""));return I.push(Pu("","Document","pkg")),I.push("</rdf:RDF>"),I.join("")}(k)),_.push(["manifest.rdf","application/rdf+xml"]),ea(v,"META-INF/manifest.xml",function(F){var I=[Tn];I.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),I.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var R=0;R<F.length;++R)I.push('  <manifest:file-entry manifest:full-path="'+F[R][0]+'" manifest:media-type="'+F[R][1]+`"/>
`);return I.push("</manifest:manifest>"),I.join("")}(_)),v}function nm(d){return new DataView(d.buffer,d.byteOffset,d.byteLength)}function x8(d){return typeof TextDecoder<"u"?new TextDecoder().decode(d):wi(K(d))}function HU(d){return typeof TextEncoder<"u"?new TextEncoder().encode(d):U(Ri(d))}function vp(d){var x=d.reduce(function(k,F){return k+F.length},0),v=new Uint8Array(x),_=0;return d.forEach(function(k){v.set(k,_),_+=k.length}),v}function qU(d){return 16843009*((d=(858993459&(d-=d>>1&1431655765))+(d>>2&858993459))+(d>>4)&252645135)>>>24}function gw(d,x){var v=x?x[0]:0,_=127&d[v];return 128<=d[v++]&&(_|=(127&d[v])<<7,d[v++]<128||(_|=(127&d[v])<<14,d[v++]<128||(_|=(127&d[v])<<21,d[v++]<128||(_+=(127&d[v])*Math.pow(2,28),++v,d[v++]<128||(_+=(127&d[v])*Math.pow(2,35),++v,d[v++]<128||(_+=(127&d[v])*Math.pow(2,42),++v,d[v++])))))),x&&(x[0]=v),_}function Bi(d){var x=new Uint8Array(7);x[0]=127&d;var v=1;return 127<d&&(x[v-1]|=128,x[v]=d>>7&127,++v,d<=16383||(x[v-1]|=128,x[v]=d>>14&127,++v,d<=2097151||(x[v-1]|=128,x[v]=d>>21&127,++v,d<=268435455||(x[v-1]|=128,x[v]=d/256>>>21&127,++v,d<=34359738367||(x[v-1]|=128,x[v]=d/65536>>>21&127,++v,d<=4398046511103||(x[v-1]|=128,x[v]=d/16777216>>>21&127,++v)))))),x.slice(0,v)}function fo(d){var x=0,v=127&d[0];return 128<=d[x++]&&(v|=(127&d[1])<<7,d[x++]<128||(v|=(127&d[2])<<14,d[x++]<128||(v|=(127&d[3])<<21,d[+x]<128||(v|=(127&d[4])<<28)))),v}function Ni(d){for(var x=[],v=[0];v[0]<d.length;){var _,k=v[0],F=gw(d,v),I=7&F,R=0;if((F=Math.floor(F/8))==0)break;switch(I){case 0:for(var W=v[0];128<=d[v[0]++];);_=d.slice(W,v[0]);break;case 5:R=4,_=d.slice(v[0],v[0]+R),v[0]+=R;break;case 1:R=8,_=d.slice(v[0],v[0]+R),v[0]+=R;break;case 2:R=gw(d,v),_=d.slice(v[0],v[0]+R),v[0]+=R;break;case 3:case 4:default:throw new Error("PB Type ".concat(I," for Field ").concat(F," at offset ").concat(k))}var q={data:_,type:I};x[F]==null?x[F]=[q]:x[F].push(q)}return x}function No(d){var x=[];return d.forEach(function(v,_){_!=0&&v.forEach(function(k){k.data&&(x.push(Bi(8*_+k.type)),k.type==2&&x.push(Bi(k.data.length)),x.push(k.data))})}),vp(x)}function v8(d,x){return(d==null?void 0:d.map(function(v){return x(v.data)}))||[]}function wf(d){for(var x=[],v=[0];v[0]<d.length;){var _=gw(d,v),k=Ni(d.slice(v[0],v[0]+_));v[0]+=_;var F={id:fo(k[1][0].data),messages:[]};k[2].forEach(function(W){var R=Ni(W.data),W=fo(R[3][0].data);F.messages.push({meta:R,data:d.slice(v[0],v[0]+W)}),v[0]+=W}),(_=k[3])!=null&&_[0]&&(F.merge=0<fo(k[3][0].data)>>>0),x.push(F)}return x}function pg(d){var x=[];return d.forEach(function(v){var _=[[],[{data:Bi(v.id),type:0}],[]];v.merge!=null&&(_[3]=[{data:Bi(+!!v.merge),type:0}]);var k=[];v.messages.forEach(function(F){k.push(F.data),F.meta[3]=[{type:0,data:Bi(F.data.length)}],_[2].push({data:No(F.meta),type:2})}),v=No(_),x.push(Bi(v.length)),x.push(v),k.forEach(function(F){return x.push(F)})}),vp(x)}function _f(d){for(var x=[],v=0;v<d.length;){var _=d[v++],k=d[v]|d[v+1]<<8|d[v+2]<<16;v+=3,x.push(function(F,I){if(F!=0)throw new Error("Unexpected Snappy chunk type ".concat(F));for(var R=[0],W=gw(I,R),q=[];R[0]<I.length;){var Q=3&I[R[0]];if(Q!=0){var ce=0,fe=0;if(Q==1?(fe=4+(I[R[0]]>>2&7),ce=(224&I[R[0]++])<<3,ce|=I[R[0]++]):(fe=1+(I[R[0]++]>>2),Q==2?(ce=I[R[0]]|I[R[0]+1]<<8,R[0]+=2):(ce=(I[R[0]]|I[R[0]+1]<<8|I[R[0]+2]<<16|I[R[0]+3]<<24)>>>0,R[0]+=4)),q=[vp(q)],ce==0)throw new Error("Invalid offset 0");if(ce>q[0].length)throw new Error("Invalid offset beyond length");if(ce<=fe)for(q.push(q[0].slice(-ce)),fe-=ce;fe>=q[q.length-1].length;)q.push(q[q.length-1]),fe-=q[q.length-1].length;q.push(q[0].slice(-ce,-ce+fe))}else Q=I[R[0]++]>>2,Q<60?++Q:(ce=Q-59,Q=I[R[0]],1<ce&&(Q|=I[R[0]+1]<<8),2<ce&&(Q|=I[R[0]+2]<<16),3<ce&&(Q|=I[R[0]+3]<<24),Q>>>=0,Q++,R[0]+=ce),q.push(I.slice(R[0],R[0]+Q)),R[0]+=Q}if((F=vp(q)).length!=W)throw new Error("Unexpected length: ".concat(F.length," != ").concat(W));return F}(_,d.slice(v,v+k))),v+=k}if(v!==d.length)throw new Error("data is not a valid framed stream!");return vp(x)}function gg(d){for(var x=[],v=0;v<d.length;){var _=Math.min(d.length-v,268435455),k=new Uint8Array(4);x.push(k);var F=Bi(_),I=F.length;x.push(F),_<=60?(I++,x.push(new Uint8Array([_-1<<2]))):_<=256?(I+=2,x.push(new Uint8Array([240,_-1&255]))):_<=65536?(I+=3,x.push(new Uint8Array([244,_-1&255,_-1>>8&255]))):_<=16777216?(I+=4,x.push(new Uint8Array([248,_-1&255,_-1>>8&255,_-1>>16&255]))):_<=4294967296&&(I+=5,x.push(new Uint8Array([252,_-1&255,_-1>>8&255,_-1>>16&255,_-1>>>24&255]))),x.push(d.slice(v,v+_)),I+=_,k[0]=0,k[1]=255&I,k[2]=I>>8&255,k[3]=I>>16&255,v+=_}return vp(x)}function gxe(d,x,v){var _,k=nm(d),F=k.getUint32(8,!0),I=12,R=-1,W=-1,q=NaN,Q=NaN,ce=new Date(2001,0,1);switch(1&F&&(q=function(fe,pe){for(var Ae=(127&fe[pe+15])<<7|fe[pe+14]>>1,ve=1&fe[pe+14],Re=pe+13;pe<=Re;--Re)ve=256*ve+fe[Re];return(128&fe[pe+15]?-ve:ve)*Math.pow(10,Ae-6176)}(d,I),I+=16),2&F&&(Q=k.getFloat64(I,!0),I+=8),4&F&&(ce.setTime(ce.getTime()+1e3*k.getFloat64(I,!0)),I+=8),8&F&&(W=k.getUint32(I,!0),I+=4),16&F&&(R=k.getUint32(I,!0),I+=4),d[1]){case 0:break;case 2:_={t:"n",v:q};break;case 3:_={t:"s",v:x[W]};break;case 5:_={t:"d",v:ce};break;case 6:_={t:"b",v:0<Q};break;case 7:_={t:"n",v:Q/86400};break;case 8:_={t:"e",v:0};break;case 9:if(!(-1<R))throw new Error("Unsupported cell type ".concat(d[1]," : ").concat(31&F," : ").concat(d.slice(0,4)));_={t:"s",v:v[R]};break;case 10:_={t:"n",v:q};break;default:throw new Error("Unsupported cell type ".concat(d[1]," : ").concat(31&F," : ").concat(d.slice(0,4)))}return _}function y8(d,x){var v=new Uint8Array(32),_=nm(v),k=12,F=0;switch(v[0]=5,d.t){case"n":v[1]=2,function(I,R,W){var q=Math.floor(W==0?0:Math.LOG10E*Math.log(Math.abs(W)))+6176-16,Q=W/Math.pow(10,q-6176);I[R+15]|=q>>7,I[R+14]|=(127&q)<<1;for(var ce=0;1<=Q;++ce,Q/=256)I[R+ce]=255&Q;I[R+15]|=0<=W?0:128}(v,k,d.v),F|=1,k+=16;break;case"b":v[1]=6,_.setFloat64(k,d.v?1:0,!0),F|=2,k+=8;break;case"s":if(x.indexOf(d.v)==-1)throw new Error("Value ".concat(d.v," missing from SST!"));v[1]=3,_.setUint32(k,x.indexOf(d.v),!0),F|=8,k+=4;break;default:throw"unsupported cell type "+d.t}return _.setUint32(8,F,!0),v.slice(0,k)}function b8(d,x){var v=new Uint8Array(32),_=nm(v),k=12,F=0;switch(v[0]=3,d.t){case"n":v[2]=2,_.setFloat64(k,d.v,!0),F|=32,k+=8;break;case"b":v[2]=6,_.setFloat64(k,d.v?1:0,!0),F|=32,k+=8;break;case"s":if(x.indexOf(d.v)==-1)throw new Error("Value ".concat(d.v," missing from SST!"));v[2]=3,_.setUint32(k,x.indexOf(d.v),!0),F|=16,k+=4;break;default:throw"unsupported cell type "+d.t}return _.setUint32(4,F,!0),v.slice(0,k)}function xxe(d,x,v){switch(d[0]){case 0:case 1:case 2:case 3:return function(_,k,F,I){var R,W=nm(_),q=W.getUint32(4,!0),Q=(1<I?12:8)+4*qU(q&(1<I?3470:398)),ce=-1,fe=-1,pe=NaN,Ae=new Date(2001,0,1);switch(512&q&&(ce=W.getUint32(Q,!0),Q+=4),Q+=4*qU(q&(1<I?12288:4096)),16&q&&(fe=W.getUint32(Q,!0),Q+=4),32&q&&(pe=W.getFloat64(Q,!0),Q+=8),64&q&&(Ae.setTime(Ae.getTime()+1e3*W.getFloat64(Q,!0)),Q+=8),_[2]){case 0:break;case 2:R={t:"n",v:pe};break;case 3:R={t:"s",v:k[fe]};break;case 5:R={t:"d",v:Ae};break;case 6:R={t:"b",v:0<pe};break;case 7:R={t:"n",v:pe/86400};break;case 8:R={t:"e",v:0};break;case 9:if(-1<ce)R={t:"s",v:F[ce]};else if(-1<fe)R={t:"s",v:k[fe]};else{if(isNaN(pe))throw new Error("Unsupported cell type ".concat(_.slice(0,4)));R={t:"n",v:pe}}break;default:throw new Error("Unsupported cell type ".concat(_.slice(0,4)))}return R}(d,x,v,d[0]);case 5:return gxe(d,x,v);default:throw new Error("Unsupported payload version ".concat(d[0]))}}function Fc(d){return gw(Ni(d)[1][0].data)}function GU(d,_){var _=Ni(_.data),v=fo(_[1][0].data),_=_[3],k=[];return(_||[]).forEach(function(F){var I=Ni(F.data),R=fo(I[1][0].data)>>>0;switch(v){case 1:k[R]=x8(I[3][0].data);break;case 8:var q=Ni(d[Fc(I[9][0].data)][0].data),W=d[Fc(q[1][0].data)][0],q=fo(W.meta[1][0].data);if(q!=2001)throw new Error("2000 unexpected reference to ".concat(q));W=Ni(W.data),k[R]=W[3].map(function(Q){return x8(Q.data)}).join("")}}),k}function vxe(d,k){var v=Ni(k.data),_=(k=v==null?void 0:v[7])!=null&&k[0]?0<fo(v[7][0].data)>>>0?1:0:-1,k=v8(v[5],function(F){return function(I,R){var W,q,Q,ce=Ni(I),fe=fo(ce[1][0].data)>>>0,pe=fo(ce[2][0].data)>>>0,Ae=((I=(Ae=ce[8])==null?void 0:Ae[0])==null?void 0:I.data)&&0<fo(ce[8][0].data)||!1;if((I=(I=ce[7])==null?void 0:I[0])!=null&&I.data&&R!=0)q=(W=(W=ce[7])==null?void 0:W[0])==null?void 0:W.data,Q=(W=(W=ce[6])==null?void 0:W[0])==null?void 0:W.data;else{if((W=(W=ce[4])==null?void 0:W[0])==null||!W.data||R==1)throw"NUMBERS Tile missing ".concat(R," cell storage");q=(R=(R=ce[4])==null?void 0:R[0])==null?void 0:R.data,Q=(ce=(ce=ce[3])==null?void 0:ce[0])==null?void 0:ce.data}for(var ve=Ae?4:1,Re=nm(q),je=[],_e=0;_e<q.length/2;++_e){var Fe=Re.getUint16(2*_e,!0);Fe<65535&&je.push([_e,Fe])}if(je.length!=pe)throw"Expected ".concat(pe," cells, found ").concat(je.length);for(var We=[],_e=0;_e<je.length-1;++_e)We[je[_e][0]]=Q.subarray(je[_e][1]*ve,je[_e+1][1]*ve);return 1<=je.length&&(We[je[je.length-1][0]]=Q.subarray(je[je.length-1][1]*ve)),{R:fe,cells:We}}(F,_)});return{nrows:fo(v[4][0].data)>>>0,data:k.reduce(function(F,I){return F[I.R]||(F[I.R]=[]),I.cells.forEach(function(R,W){if(F[I.R][W])throw new Error("Duplicate cell r=".concat(I.R," c=").concat(W));F[I.R][W]=R}),F},[])}}function yxe(d,k){var v={"!ref":"A1"},_=d[Fc(Ni(k.data)[2][0].data)],k=fo(_[0].meta[1][0].data);if(k!=6001)throw new Error("6000 unexpected reference to ".concat(k));return function(F,W,R){var ce=Ni(W.data);if((W={s:{r:0,c:0},e:{r:0,c:0}}).e.r=(fo(ce[6][0].data)>>>0)-1,W.e.r<0)throw new Error("Invalid row varint ".concat(ce[6][0].data));if(W.e.c=(fo(ce[7][0].data)>>>0)-1,W.e.c<0)throw new Error("Invalid col varint ".concat(ce[7][0].data));R["!ref"]=kn(W);var W=Ni(ce[4][0].data),q=GU(F,F[Fc(W[4][0].data)][0]),Q=(ce=W[17])!=null&&ce[0]?GU(F,F[Fc(W[17][0].data)][0]):[],ce=Ni(W[3][0].data),fe=0;if(ce[1].forEach(function(Ae){var ve=Ni(Ae.data),Ae=F[Fc(ve[2][0].data)][0],ve=fo(Ae.meta[1][0].data);if(ve!=6002)throw new Error("6001 unexpected reference to ".concat(ve));Ae=vxe(0,Ae),Ae.data.forEach(function(Re,je){Re.forEach(function(_e,Fe){Fe=wn({r:fe+je,c:Fe}),_e=xxe(_e,q,Q),_e&&(R[Fe]=_e)})}),fe+=Ae.nrows}),(ce=W[13])!=null&&ce[0]){if(ce=F[Fc(W[13][0].data)][0],W=fo(ce.meta[1][0].data),W!=6144)throw new Error("Expected merge type 6144, found ".concat(W));R["!merges"]=(ce=Ni(ce.data))==null?void 0:ce[1].map(function(Ae){var ve=Ni(Ae.data),Ae=nm(Ni(ve[1][0].data)[1][0].data),ve=nm(Ni(ve[2][0].data)[1][0].data);return{s:{r:Ae.getUint16(0,!0),c:Ae.getUint16(2,!0)},e:{r:Ae.getUint16(0,!0)+ve.getUint16(0,!0)-1,c:Ae.getUint16(2,!0)+ve.getUint16(2,!0)-1}}})}}(d,_[0],v),v}function bxe(d,x){var v=j8(),_=Ni(x.data);if((x=_[2])!=null&&x[0])throw new Error("Keynote presentations are not supported");if(v8(_[1],Fc).forEach(function(k){d[k].forEach(function(F){var I,R,W,q;fo(F.meta[1][0].data)==2&&(R=d,F=Ni((W=F).data),q={name:(W=F[1])!=null&&W[0]?x8(F[1][0].data):"",sheets:[]},v8(F[2],Fc).forEach(function(Q){R[Q].forEach(function(ce){fo(ce.meta[1][0].data)==6e3&&q.sheets.push(yxe(R,ce))})}),(I=q).sheets.forEach(function(Q,ce){T8(v,Q,ce==0?I.name:I.name+"_"+ce,!0)}))})}),v.SheetNames.length==0)throw new Error("Empty NUMBERS file");return v}function KU(d){var x={},v=[];if(d.FullPaths.forEach(function(k){if(k.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),d.FileIndex.forEach(function(k){if(k.name.match(/\.iwa$/)){var F,I;try{F=_f(k.content)}catch(R){return console.log("?? "+k.content.length+" "+(R.message||R))}try{I=wf(F)}catch(R){return console.log("## "+(R.message||R))}I.forEach(function(R){x[R.id]=R.messages,v.push(R.id)})}}),!v.length)throw new Error("File has no messages");if((d=(d=(d=(d=x==null?void 0:x[1])==null?void 0:d[0])==null?void 0:d.meta)==null?void 0:d[1])!=null&&d[0].data&&fo(x[1][0].meta[1][0].data)==1e4)throw new Error("Pages documents are not supported");var _=((d=(d=(d=(d=x==null?void 0:x[1])==null?void 0:d[0])==null?void 0:d.meta)==null?void 0:d[1])==null?void 0:d[0].data)&&fo(x[1][0].meta[1][0].data)==1&&x[1][0];if(_||v.forEach(function(k){x[k].forEach(function(F){if(fo(F.meta[1][0].data)>>>0==1){if(_)throw new Error("Document has multiple roots");_=F}})}),!_)throw new Error("Cannot find Document root");return bxe(x,_)}function wxe(d,x){if(!x||!x.numbers)throw new Error("Must pass a `numbers` option -- check the README");var v=d.Sheets[d.SheetNames[0]];1<d.SheetNames.length&&console.error("The Numbers writer currently writes only the first table");var _=_o(v["!ref"]);_.s.r=_.s.c=0;var k=!1;9<_.e.c&&(k=!0,_.e.c=9),49<_.e.r&&(k=!0,_.e.r=49),k&&console.error("The Numbers writer is currently limited to ".concat(kn(_)));var F=pN(v,{range:_,header:1}),I=["~Sh33tJ5~"];F.forEach(function(Lr){return Lr.forEach(function($r){typeof $r=="string"&&I.push($r)})});var R={},W=[],q=Ir.read(x.numbers,{type:"base64"});q.FileIndex.map(function(Lr,$r){return[Lr,q.FullPaths[$r]]}).forEach(function(Lr){var $r=Lr[0],Fr=Lr[1];$r.type==2&&$r.name.match(/\.iwa/)&&wf(_f($r.content)).forEach(function(xr){W.push(xr.id),R[xr.id]={deps:[],location:Fr,type:fo(xr.messages[0].meta[1][0].data)}})}),W.sort(function(Lr,$r){return Lr-$r});var Q=W.filter(function(Lr){return 1<Lr}).map(function(Lr){return[Lr,Bi(Lr)]});q.FileIndex.map(function(Lr,$r){return[Lr,q.FullPaths[$r]]}).forEach(function(Lr){var $r=Lr[0];Lr[1],$r.name.match(/\.iwa/)&&wf(_f($r.content)).forEach(function(Fr){Fr.messages.forEach(function(xr){Q.forEach(function(gn){Fr.messages.some(function(Nn){return fo(Nn.meta[1][0].data)!=11006&&function(ra,ni){e:for(var fn=0;fn<=ra.length-ni.length;++fn){for(var Nr=0;Nr<ni.length;++Nr)if(ra[fn+Nr]!=ni[Nr])continue e;return!0}return!1}(Nn.data,gn[1])})&&R[gn[0]].deps.push(Fr.id)})})})});for(var ce,fe=Ir.find(q,R[1].location),pe=wf(_f(fe.content)),Ae=0;Ae<pe.length;++Ae){var ve=pe[Ae];ve.id==1&&(ce=ve)}for(var Re=Fc(Ni(ce.messages[0].data)[1][0].data),pe=wf(_f((fe=Ir.find(q,R[Re].location)).content)),Ae=0;Ae<pe.length;++Ae)(ve=pe[Ae]).id==Re&&(ce=ve);var dr=Ni(ce.messages[0].data);for(dr[1]=[{type:2,data:HU(d.SheetNames[0])}],ce.messages[0].data=No(dr),fe.content=gg(pg(pe)),fe.size=fe.content.length,Re=Fc(dr[2][0].data),pe=wf(_f((fe=Ir.find(q,R[Re].location)).content)),Ae=0;Ae<pe.length;++Ae)(ve=pe[Ae]).id==Re&&(ce=ve);for(Re=Fc(Ni(ce.messages[0].data)[2][0].data),pe=wf(_f((fe=Ir.find(q,R[Re].location)).content)),Ae=0;Ae<pe.length;++Ae)(ve=pe[Ae]).id==Re&&(ce=ve);k=Ni(ce.messages[0].data),k[6][0].data=Bi(_.e.r+1),k[7][0].data=Bi(_.e.c+1);for(var je=Fc(k[46][0].data),x=Ir.find(q,R[je].location),_e=wf(_f(x.content)),Fe=0;Fe<_e.length&&_e[Fe].id!=je;++Fe);if(_e[Fe].id!=je)throw"Bad ColumnRowUIDMapArchive";var We=Ni(_e[Fe].messages[0].data);We[1]=[],We[2]=[],We[3]=[];for(var He=0;He<=_.e.c;++He)We[1].push({type:2,data:No([[],[{type:0,data:Bi(He+420690)}],[{type:0,data:Bi(He+420690)}]])}),We[2].push({type:0,data:Bi(He)}),We[3].push({type:0,data:Bi(He)});We[4]=[],We[5]=[],We[6]=[];for(var mt=0;mt<=_.e.r;++mt)We[4].push({type:2,data:No([[],[{type:0,data:Bi(mt+726270)}],[{type:0,data:Bi(mt+726270)}]])}),We[5].push({type:0,data:Bi(mt)}),We[6].push({type:0,data:Bi(mt)});if(_e[Fe].messages[0].data=No(We),x.content=gg(pg(_e)),x.size=x.content.length,delete k[46],d=Ni(k[4][0].data),d[7][0].data=Bi(_.e.r+1),dr=Fc(Ni(d[1][0].data)[2][0].data),(_e=wf(_f((x=Ir.find(q,R[dr].location)).content)))[0].id!=dr)throw"Bad HeaderStorageBucket";for(var At=Ni(_e[0].messages[0].data),mt=0;mt<F.length;++mt){var vt=Ni(At[2][0].data);vt[1][0].data=Bi(mt),vt[4][0].data=Bi(F[mt].length),At[2][mt]={type:At[2][0].type,data:No(vt)}}_e[0].messages[0].data=No(At),x.content=gg(pg(_e)),x.size=x.content.length;var Bt,dr=Fc(d[2][0].data);if((_e=wf(_f((x=Ir.find(q,R[dr].location)).content)))[0].id!=dr)throw"Bad HeaderStorageBucket";for(At=Ni(_e[0].messages[0].data),He=0;He<=_.e.c;++He)(vt=Ni(At[2][0].data))[1][0].data=Bi(He),vt[4][0].data=Bi(_.e.r+1),At[2][He]={type:At[2][0].type,data:No(vt)};_e[0].messages[0].data=No(At),x.content=gg(pg(_e)),x.size=x.content.length,v["!merges"]&&(cn=function(Lr){for(var $r=927262;$r<2e6;++$r)if(!R[$r])return R[$r]=Lr,$r;throw new Error("Too many messages")}({type:6144,deps:[Re],location:R[Re].location}),Bt=[[],[]],v["!merges"].forEach(function(Lr){Bt[1].push({type:2,data:No([[],[{type:2,data:No([[],[{type:5,data:new Uint8Array(new Uint16Array([Lr.s.r,Lr.s.c]).buffer)}]])}],[{type:2,data:No([[],[{type:5,data:new Uint8Array(new Uint16Array([Lr.e.r-Lr.s.r+1,Lr.e.c-Lr.s.c+1]).buffer)}]])}]])})}),d[13]=[{type:2,data:No([[],[{type:0,data:Bi(cn)}]])}],pe.push({id:cn,messages:[(Cr=6144,cn=No(Bt),{meta:[[],[{type:0,data:Bi(Cr)}]],data:cn})]}));var fr=Fc(d[4][0].data);(function(){for(var Lr,$r=Ir.find(q,R[fr].location),Fr=wf(_f($r.content)),xr=0;xr<Fr.length;++xr){var gn=Fr[xr];gn.id==fr&&(Lr=gn)}var Nn=Ni(Lr.messages[0].data);Nn[3]=[],I.forEach(function(ra,ni){Nn[3].push({type:2,data:No([[],[{type:0,data:Bi(ni)}],[{type:0,data:Bi(1)}],[{type:2,data:HU(ra)}]])})}),Lr.messages[0].data=No(Nn),$r.content=gg(pg(Fr)),$r.size=$r.content.length})();var Wt=Ni(d[3][0].data),Cr=Wt[1][0];delete Wt[2];var Cr,cn,cn=Ni(Cr.data),Qr=Fc(cn[2][0].data);return function(){for(var Lr,$r=Ir.find(q,R[Qr].location),Fr=wf(_f($r.content)),xr=0;xr<Fr.length;++xr){var gn=Fr[xr];gn.id==Qr&&(Lr=gn)}var Nn=Ni(Lr.messages[0].data);delete Nn[6],delete Wt[7];var ra=new Uint8Array(Nn[5][0].data);Nn[5]=[];for(var ni=0,fn=0;fn<=_.e.r;++fn){var Nr=Ni(ra);ni+=function(Pa,Si,fi){var as,Bo;if((as=Pa[6])==null||!as[0]||(Bo=Pa[7])==null||!Bo[0])throw"Mutation only works on post-BNC storages!";if((Bo=(Bo=Pa[8])==null?void 0:Bo[0])!=null&&Bo.data&&0<fo(Pa[8][0].data))throw"Math only works with normal offsets";for(var gt,is,Gi=0,$l=nm(Pa[7][0].data),Sf=0,tt=[],Ht=nm(Pa[4][0].data),ht=0,zt=[],ut=0;ut<Si.length;++ut)if(Si[ut]!=null){switch($l.setUint16(2*ut,Sf,!0),Ht.setUint16(2*ut,ht,!0),typeof Si[ut]){case"string":gt=y8({t:"s",v:Si[ut]},fi),is=b8({t:"s",v:Si[ut]},fi);break;case"number":gt=y8({t:"n",v:Si[ut]},fi),is=b8({t:"n",v:Si[ut]},fi);break;case"boolean":gt=y8({t:"b",v:Si[ut]},fi),is=b8({t:"b",v:Si[ut]},fi);break;default:throw new Error("Unsupported value "+Si[ut])}tt.push(gt),Sf+=gt.length,zt.push(is),ht+=is.length,++Gi}else $l.setUint16(2*ut,65535,!0),Ht.setUint16(2*ut,65535);for(Pa[2][0].data=Bi(Gi);ut<Pa[7][0].data.length/2;++ut)$l.setUint16(2*ut,65535,!0),Ht.setUint16(2*ut,65535,!0);return Pa[6][0].data=vp(tt),Pa[3][0].data=vp(zt),Gi}(Nr,F[fn],I),Nr[1][0].data=Bi(fn),Nn[5].push({data:No(Nr),type:2})}Nn[1]=[{type:0,data:Bi(_.e.c+1)}],Nn[2]=[{type:0,data:Bi(_.e.r+1)}],Nn[3]=[{type:0,data:Bi(ni)}],Nn[4]=[{type:0,data:Bi(_.e.r+1)}],Lr.messages[0].data=No(Nn),$r.content=gg(pg(Fr)),$r.size=$r.content.length}(),Cr.data=No(cn),d[3][0].data=No(Wt),k[4][0].data=No(d),ce.messages[0].data=No(k),fe.content=gg(pg(pe)),fe.size=fe.content.length,q}function YU(d){return function(x){for(var v=0;v!=d.length;++v){var _=d[v];x[_[0]]===void 0&&(x[_[0]]=_[1]),_[2]==="n"&&(x[_[0]]=Number(x[_[0]]))}}}function w8(d){YU([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(d)}function _8(d){YU([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(d)}function _xe(d,x){if(!d)return 0;try{d=x.map(function(v){return v.id||(v.id=v.strRelID),[v.name,d["!id"][v.id].Target,(v=d["!id"][v.id].Type,-1<Ha.WS.indexOf(v)?"sheet":Ha.CS&&v==Ha.CS?"chart":Ha.DS&&v==Ha.DS?"dialog":Ha.MS&&v==Ha.MS?"macro":v&&v.length?v:"sheet")]})}catch{return null}return d&&d.length!==0?d:null}function Nxe(d,x,v,_,k,F,I,R,W,q,Q,ce){try{F[_]=ip(va(d,v,!0),x);var fe=Ut(d,x);switch(R){case"sheet":ve=zge(fe,x,k,W,F[_],q,Q,ce);break;case"chart":if(!(ve=Vge(fe,x,k,W,F[_],q))||!ve["!drawel"])break;var Ae=Sa(ve["!drawel"].Target,x),pe=ap(Ae),_e=Sa((_e=va(d,Ae,!0),pe=ip(va(d,pe,!0),Ae),_e?(_e=(_e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1],pe["!id"][_e].Target):"??"),Ae),Ae=ap(_e),ve=Pge(va(d,_e,!0),0,0,ip(va(d,Ae,!0),_e),0,ve);break;case"macro":je=x,F[_],je.slice(-4),ve={"!type":"macro"};break;case"dialog":je=x,F[_],je.slice(-4),ve={"!type":"dialog"};break;default:throw new Error("Unrecognized sheet type "+R)}I[_]=ve;var Re=[];F&&F[_]&&Na(F[_]).forEach(function(Fe){var We,He,mt,At,vt,Bt,dr="";if(F[_][Fe].Type==Ha.CMNT){dr=Sa(F[_][Fe].Target,x);var fr=qge(Ut(d,dr,!0),dr,W);if(!fr||!fr.length)return;HB(ve,fr,!1)}F[_][Fe].Type==Ha.TCMNT&&(dr=Sa(F[_][Fe].Target,x),Re=Re.concat((We=Ut(d,dr,!0),He=W,At=!(mt=[]),vt={},Bt=0,We.replace(Ts,function(Wt,Cr){var cn=Wn(Wt);switch(bo(cn[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":break;case"<threadedComment":vt={author:cn.personId,guid:cn.id,ref:cn.ref,T:1};break;case"</threadedComment>":vt.t!=null&&mt.push(vt);break;case"<text>":case"<text":Bt=Cr+Wt.length;break;case"</text>":vt.t=We.slice(Bt,Cr).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":At=!0;break;case"</mentions>":At=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":At=!0;break;case"</ext>":At=!1;break;default:if(!At&&He.WTF)throw new Error("unrecognized "+cn[0]+" in threaded comments")}return Wt}),mt)))}),Re&&Re.length&&HB(ve,Re,!0,W.people||[])}catch(Fe){if(W.WTF)throw Fe}var je,_e}function Nf(d){return d.charAt(0)=="/"?d.slice(1):d}function XU(d,x){if(ti(),w8(x=x||{}),Sr(d,"META-INF/manifest.xml")||Sr(d,"objectdata.xml"))return $U(d,x);if(Sr(d,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(d.FileIndex)return KU(d);var v=Ir.utils.cfb_new();return Ta(d).forEach(function(Fr){ea(v,Fr,function xr(gn,Nn,ra){if(!ra)return Tr(ua(gn,Nn));if(!Nn)return null;try{return xr(gn,Nn)}catch{return null}}(d,Fr))}),KU(v)}if(!Sr(d,"[Content_Types].xml"))throw Sr(d,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Sr(d,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var _,k,F=Ta(d),I=function(Fr){var xr=dv();if(!Fr||!Fr.match)return xr;var gn={};if((Fr.match(Ts)||[]).forEach(function(Nn){var ra=Wn(Nn);switch(ra[0].replace(Z0,"<")){case"<?xml":break;case"<Types":xr.xmlns=ra["xmlns"+(ra[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":gn[ra.Extension]=ra.ContentType;break;case"<Override":xr[uv[ra.ContentType]]!==void 0&&xr[uv[ra.ContentType]].push(ra.PartName)}}),xr.xmlns!==ps.CT)throw new Error("Unknown Namespace: "+xr.xmlns);return xr.calcchain=0<xr.calcchains.length?xr.calcchains[0]:"",xr.sst=0<xr.strs.length?xr.strs[0]:"",xr.style=0<xr.styles.length?xr.styles[0]:"",xr.defaults=gn,delete xr.calcchains,xr}(va(d,"[Content_Types].xml")),vt=!1;if(I.workbooks.length===0&&Ut(d,k="xl/workbook.xml",!0)&&I.workbooks.push(k),I.workbooks.length===0){if(!Ut(d,k="xl/workbook.bin",!0))throw new Error("Could not find workbook");I.workbooks.push(k),vt=!0}I.workbooks[0].slice(-3)=="bin"&&(vt=!0);var R={},W={};if(!x.bookSheets&&!x.bookProps){if(uw=[],I.sst)try{uw=Hge(Ut(d,Nf(I.sst)),I.sst,x)}catch(Fr){if(x.WTF)throw Fr}x.cellStyles&&I.themes.length&&(Ae=va(d,I.themes[0].replace(/^\//,""),!0)||"",I.themes[0],R=zB(Ae,x)),I.style&&(W=Wge(Ut(d,Nf(I.style)),I.style,R,x))}I.links.map(function(Fr){try{return ip(va(d,ap(Nf(Fr))),Fr),Kge(Ut(d,Nf(Fr)),0,Fr,x)}catch{}});var q,Q,ce,fe=$ge(Ut(d,Nf(I.workbooks[0])),I.workbooks[0],x),pe={},Ae="";I.coreprops.length&&((Ae=Ut(d,Nf(I.coreprops[0]),!0))&&(pe=tg(Ae)),I.extprops.length!==0&&(Ae=Ut(d,Nf(I.extprops[0]),!0))&&(ve=x,ce={},Q=(Q=pe)||{},q=wi(q=Ae),Qh.forEach(function(Fr){var xr=(q.match(sa(Fr[0]))||[])[1];switch(Fr[2]){case"string":xr&&(Q[Fr[1]]=vn(xr));break;case"bool":Q[Fr[1]]=xr==="true";break;case"raw":var gn=q.match(new RegExp("<"+Fr[0]+"[^>]*>([\\s\\S]*?)</"+Fr[0]+">"));gn&&0<gn.length&&(ce[Fr[1]]=gn[1])}}),ce.HeadingPairs&&ce.TitlesOfParts&&mv(ce.HeadingPairs,ce.TitlesOfParts,Q,ve)));var ve={};x.bookSheets&&!x.bookProps||I.custprops.length!==0&&(Ae=va(d,Nf(I.custprops[0]),!0))&&(ve=function(Fr,xr){var gn={},Nn="",ra=Fr.match(qb);if(ra)for(var ni=0;ni!=ra.length;++ni){var fn=ra[ni],Nr=Wn(fn);switch(Nr[0]){case"<?xml":case"<Properties":break;case"<property":Nn=vn(Nr.name);break;case"</property>":Nn=null;break;default:if(fn.indexOf("<vt:")===0){var Pa=fn.split(">"),Si=Pa[0].slice(4),fi=Pa[1];switch(Si){case"lpstr":case"bstr":case"lpwstr":gn[Nn]=vn(fi);break;case"bool":gn[Nn]=Jr(fi);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":gn[Nn]=parseInt(fi,10);break;case"r4":case"r8":case"decimal":gn[Nn]=parseFloat(fi);break;case"filetime":case"date":gn[Nn]=Xe(fi);break;case"cy":case"error":gn[Nn]=vn(fi);break;default:if(Si.slice(-1)=="/")break;xr.WTF&&typeof console<"u"&&console.warn("Unexpected",fn,Si,Pa)}}else if(fn.slice(0,2)!=="</"&&xr.WTF)throw new Error(fn)}}return gn}(Ae,x));var Re={};if((x.bookSheets||x.bookProps)&&(fe.Sheets?_=fe.Sheets.map(function(Fr){return Fr.name}):pe.Worksheets&&0<pe.SheetNames.length&&(_=pe.SheetNames),x.bookProps&&(Re.Props=pe,Re.Custprops=ve),x.bookSheets&&_!==void 0&&(Re.SheetNames=_),x.bookSheets?Re.SheetNames:x.bookProps))return Re;_={},Ae={},x.bookDeps&&I.calcchain&&(Ae=Gge(Ut(d,Nf(I.calcchain)),I.calcchain));var je,_e,Fe=0,We={},He=fe.Sheets;pe.Worksheets=He.length,pe.SheetNames=[];for(var mt=0;mt!=He.length;++mt)pe.SheetNames[mt]=He[mt].name;var At=vt?"bin":"xml",vt=I.workbooks[0].lastIndexOf("/"),Bt=(I.workbooks[0].slice(0,vt+1)+"_rels/"+I.workbooks[0].slice(vt+1)+".rels").replace(/^\//,"");Sr(d,Bt)||(Bt="xl/_rels/workbook."+At+".rels");var dr,fr,Wt,Cr=ip(va(d,Bt,!0),Bt.replace(/_rels.*/,"s5s"));1<=(I.metadata||[]).length&&(x.xlmeta=Yge(Ut(d,Nf(I.metadata[0])),I.metadata[0],x)),1<=(I.people||[]).length&&(x.people=(vt=Ut(d,Nf(I.people[0])),dr=x,Wt=!(fr=[]),vt.replace(Ts,function(Fr){var xr=Wn(Fr);switch(bo(xr[0])){case"<?xml":case"<personList":case"</personList>":break;case"<person":fr.push({name:xr.displayname,id:xr.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":Wt=!0;break;case"</ext>":Wt=!1;break;default:if(!Wt&&dr.WTF)throw new Error("unrecognized "+xr[0]+" in threaded comments")}return Fr}),fr)),Cr=Cr&&_xe(Cr,fe.Sheets);var cn=Ut(d,"xl/worksheets/sheet.xml",!0)?1:0;e:for(Fe=0;Fe!=pe.Worksheets;++Fe){var Qr="sheet";if(Cr&&Cr[Fe]?(je="xl/"+Cr[Fe][1].replace(/[\/]?xl\//,""),Sr(d,je)||(je=Cr[Fe][1]),Sr(d,je)||(je=Bt.replace(/_rels\/.*$/,"")+Cr[Fe][1]),Qr=Cr[Fe][2]):je=(je="xl/worksheets/sheet"+(Fe+1-cn)+"."+At).replace(/sheet0\./,"sheet."),_e=je.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),x&&x.sheets!=null)switch(typeof x.sheets){case"number":if(Fe!=x.sheets)continue e;break;case"string":if(pe.SheetNames[Fe].toLowerCase()!=x.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(x.sheets)){for(var Lr=!1,$r=0;$r!=x.sheets.length;++$r)typeof x.sheets[$r]=="number"&&x.sheets[$r]==Fe&&(Lr=1),typeof x.sheets[$r]=="string"&&x.sheets[$r].toLowerCase()==pe.SheetNames[Fe].toLowerCase()&&(Lr=1);if(!Lr)continue e}}Nxe(d,je,_e,pe.SheetNames[Fe],Fe,We,_,Qr,x,fe,R,W)}return Re={Directory:I,Workbook:fe,Props:pe,Custprops:ve,Deps:Ae,Sheets:_,SheetNames:pe.SheetNames,Strings:uw,Styles:W,Themes:R,SSF:yt(te)},x&&x.bookFiles&&(d.files?(Re.keys=F,Re.files=d.files):(Re.keys=[],Re.files={},d.FullPaths.forEach(function(Fr,xr){Fr=Fr.replace(/^Root Entry[\/]/,""),Re.keys.push(Fr),Re.files[Fr]=d.FileIndex[xr]}))),x&&x.bookVBA&&(0<I.vba.length?Re.vbaraw=Ut(d,Nf(I.vba[0]),!0):I.defaults&&I.defaults.bin===W1e&&(Re.vbaraw=Ut(d,"xl/vbaProject.bin",!0))),Re}function Sxe(d,x){var v,_=x||{},k="Workbook",F=Ir.find(d,k);try{if(k="/!DataSpaces/Version",!(F=Ir.find(d,k))||!F.content)throw new Error("ECMA-376 Encrypted file missing "+k);if(I=F.content,(v={}).id=I.read_shift(0,"lpp4"),v.R=lh(I,4),v.U=lh(I,4),v.W=lh(I,4),k="/!DataSpaces/DataSpaceMap",!(F=Ir.find(d,k))||!F.content)throw new Error("ECMA-376 Encrypted file missing "+k);var I=_v(F.content);if(I.length!==1||I[0].comps.length!==1||I[0].comps[0].t!==0||I[0].name!=="StrongEncryptionDataSpace"||I[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+k);if(k="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(F=Ir.find(d,k))||!F.content)throw new Error("ECMA-376 Encrypted file missing "+k);if(I=function(R){var W=[];R.l+=4;for(var q=R.read_shift(4);0<q--;)W.push(R.read_shift(0,"lpp4"));return W}(F.content),I.length!=1||I[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+k);if(k="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(F=Ir.find(d,k))||!F.content)throw new Error("ECMA-376 Encrypted file missing "+k);Q3(F.content)}catch{}if(k="/EncryptionInfo",!(F=Ir.find(d,k))||!F.content)throw new Error("ECMA-376 Encrypted file missing "+k);if(x=eN(F.content),k="/EncryptedPackage",!(F=Ir.find(d,k))||!F.content)throw new Error("ECMA-376 Encrypted file missing "+k);if(x[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(x[1],F.content,_.password||"",_);if(x[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(x[1],F.content,_.password||"",_);throw new Error("File is password-protected")}function Cxe(d,x){return(x.bookType=="ods"?WU:x.bookType=="numbers"?wxe:x.bookType=="xlsb"?function(v,_){Ev=1024,v&&!v.SSF&&(v.SSF=yt(te)),v&&v.SSF&&(ti(),Gr(v.SSF),_.revssf=js(v.SSF),_.revssf[v.SSF[65535]]=0,_.ssf=v.SSF),_.rels={},_.wbrels={},_.Strings=[],_.Strings.Count=0,_.Strings.Unique=0,dw?_.revStrings=new Map:(_.revStrings={},_.revStrings.foo=[],delete _.revStrings.foo);var k=_.bookType=="xlsb"?"bin":"xml",F=-1<GB.indexOf(_.bookType),I=dv();_8(_=_||{});var R=Cc(),W="",q=0;if(_.cellXfs=[],xp(_.cellXfs,{},{revssf:{General:0}}),v.Props||(v.Props={}),ea(R,W="docProps/core.xml",fv(v.Props,_)),I.coreprops.push(W),Ii(_.rels,2,W,Ha.CORE_PROPS),W="docProps/app.xml",!v.Props||!v.Props.SheetNames)if(v.Workbook&&v.Workbook.Sheets){for(var Q=[],ce=0;ce<v.SheetNames.length;++ce)(v.Workbook.Sheets[ce]||{}).Hidden!=2&&Q.push(v.SheetNames[ce]);v.Props.SheetNames=Q}else v.Props.SheetNames=v.SheetNames;for(v.Props.Worksheets=v.Props.SheetNames.length,ea(R,W,rg(v.Props)),I.extprops.push(W),Ii(_.rels,3,W,Ha.EXT_PROPS),v.Custprops!==v.Props&&0<Na(v.Custprops||{}).length&&(ea(R,W="docProps/custom.xml",O3(v.Custprops)),I.custprops.push(W),Ii(_.rels,4,W,Ha.CUST_PROPS)),q=1;q<=v.SheetNames.length;++q){var fe,pe,Ae,ve={"!id":{}},Re=v.Sheets[v.SheetNames[q-1]];ea(R,W="xl/worksheets/sheet"+q+"."+k,function(je,_e,Fe,We,He){return(_e.slice(-4)===".bin"?kge:xU)(je,Fe,We,He)}(q-1,W,_,v,ve)),I.sheets.push(W),Ii(_.wbrels,-1,"worksheets/sheet"+q+"."+k,Ha.WS[0]),Re&&(fe=Re["!comments"],pe=!1,Ae="",fe&&0<fe.length&&(ea(R,Ae="xl/comments"+q+"."+k,function(je,_e,Fe){return(_e.slice(-4)===".bin"?V1e:qB)(je)}(fe,Ae)),I.comments.push(Ae),Ii(ve,-1,"../comments"+q+"."+k,Ha.CMNT),pe=!0),Re["!legacy"]&&pe&&ea(R,"xl/drawings/vmlDrawing"+q+".vml",WB(q,Re["!comments"])),delete Re["!comments"],delete Re["!legacy"]),ve["!id"].rId1&&ea(R,ap(W),Jh(ve))}return _.Strings!=null&&0<_.Strings.length&&(ea(R,W="xl/sharedStrings."+k,function(je,_e,Fe){return(_e.slice(-4)===".bin"?dg:ug)(je,Fe)}(_.Strings,W,_)),I.strs.push(W),Ii(_.wbrels,-1,"sharedStrings."+k,Ha.SST)),ea(R,W="xl/workbook."+k,function(je,_e,Fe){return(_e.slice(-4)===".bin"?Uge:CU)(je)}(v,W)),I.workbooks.push(W),Ii(_.rels,1,W,Ha.WB),ea(R,W="xl/theme/theme1.xml",a8(v.Themes,_)),I.themes.push(W),Ii(_.wbrels,-1,"theme/theme1.xml",Ha.THEME),ea(R,W="xl/styles."+k,function(je,_e,Fe){return(_e.slice(-4)===".bin"?P1e:LB)(je,Fe)}(v,W,_)),I.styles.push(W),Ii(_.wbrels,-1,"styles."+k,Ha.STY),v.vbaraw&&F&&(ea(R,W="xl/vbaProject.bin",v.vbaraw),I.vba.push(W),Ii(_.wbrels,-1,"vbaProject.bin",Ha.VBA)),ea(R,W="xl/metadata."+k,function(je){return(je.slice(-4)===".bin"?z1e:VB)()}(W)),I.metadata.push(W),Ii(_.wbrels,-1,"metadata."+k,Ha.XLMETA),ea(R,"[Content_Types].xml",Hb(I,_)),ea(R,"_rels/.rels",Jh(_.rels)),ea(R,"xl/_rels/workbook."+k+".rels",Jh(_.wbrels)),delete _.revssf,delete _.ssf,R}:ZU)(d,x)}function ZU(d,x){Ev=1024,d&&!d.SSF&&(d.SSF=yt(te)),d&&d.SSF&&(ti(),Gr(d.SSF),x.revssf=js(d.SSF),x.revssf[d.SSF[65535]]=0,x.ssf=d.SSF),x.rels={},x.wbrels={},x.Strings=[],x.Strings.Count=0,x.Strings.Unique=0,dw?x.revStrings=new Map:(x.revStrings={},x.revStrings.foo=[],delete x.revStrings.foo);var v="xml",_=-1<GB.indexOf(x.bookType),k=dv();_8(x=x||{});var F=Cc(),I="",R=0;if(x.cellXfs=[],xp(x.cellXfs,{},{revssf:{General:0}}),d.Props||(d.Props={}),I="docProps/core.xml",ea(F,I,fv(d.Props,x)),k.coreprops.push(I),Ii(x.rels,2,I,Ha.CORE_PROPS),I="docProps/app.xml",!d.Props||!d.Props.SheetNames)if(d.Workbook&&d.Workbook.Sheets){for(var W=[],q=0;q<d.SheetNames.length;++q)(d.Workbook.Sheets[q]||{}).Hidden!=2&&W.push(d.SheetNames[q]);d.Props.SheetNames=W}else d.Props.SheetNames=d.SheetNames;d.Props.Worksheets=d.Props.SheetNames.length,ea(F,I,rg(d.Props)),k.extprops.push(I),Ii(x.rels,3,I,Ha.EXT_PROPS),d.Custprops!==d.Props&&0<Na(d.Custprops||{}).length&&(ea(F,I="docProps/custom.xml",O3(d.Custprops)),k.custprops.push(I),Ii(x.rels,4,I,Ha.CUST_PROPS));var Q,ce=["SheetJ5"];for(x.tcid=0,R=1;R<=d.SheetNames.length;++R){var fe,pe,Ae,ve,Re={"!id":{}},je=d.Sheets[d.SheetNames[R-1]];ea(F,I="xl/worksheets/sheet"+R+"."+v,xU(R-1,x,d,Re)),k.sheets.push(I),Ii(x.wbrels,-1,"worksheets/sheet"+R+"."+v,Ha.WS[0]),je&&(pe=!1,Ae="",(fe=je["!comments"])&&0<fe.length&&(ve=!1,fe.forEach(function(_e){_e[1].forEach(function(Fe){Fe.T==1&&(ve=!0)})}),ve&&(ea(F,Ae="xl/threadedComments/threadedComment"+R+"."+v,function(_e,Fe,We){var He=[Tn,Er("ThreadedComments",null,{xmlns:ps.TCMNT}).replace(/[\/]>/,">")];return _e.forEach(function(mt){var At="";(mt[1]||[]).forEach(function(vt,Bt){var dr;vt.T?(vt.a&&Fe.indexOf(vt.a)==-1&&Fe.push(vt.a),dr={ref:mt[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+We.tcid++).slice(-12)+"}"},Bt==0?At=dr.id:dr.parentId=At,vt.ID=dr.id,vt.a&&(dr.personId="{54EE7950-7262-4200-6969-"+("000000000000"+Fe.indexOf(vt.a)).slice(-12)+"}"),He.push(Er("threadedComment",Ys("text",vt.t||""),dr))):delete vt.ID})}),He.push("</ThreadedComments>"),He.join("")}(fe,ce,x)),k.threadedcomments.push(Ae),Ii(Re,-1,"../threadedComments/threadedComment"+R+"."+v,Ha.TCMNT)),ea(F,Ae="xl/comments"+R+"."+v,qB(fe)),k.comments.push(Ae),Ii(Re,-1,"../comments"+R+"."+v,Ha.CMNT),pe=!0),je["!legacy"]&&pe&&ea(F,"xl/drawings/vmlDrawing"+R+".vml",WB(R,je["!comments"])),delete je["!comments"],delete je["!legacy"]),Re["!id"].rId1&&ea(F,ap(I),Jh(Re))}return x.Strings!=null&&0<x.Strings.length&&(ea(F,I="xl/sharedStrings.xml",ug(x.Strings,x)),k.strs.push(I),Ii(x.wbrels,-1,"sharedStrings.xml",Ha.SST)),ea(F,I="xl/workbook.xml",CU(d)),k.workbooks.push(I),Ii(x.rels,1,I,Ha.WB),ea(F,I="xl/theme/theme1.xml",a8(d.Themes,x)),k.themes.push(I),Ii(x.wbrels,-1,"theme/theme1.xml",Ha.THEME),ea(F,I="xl/styles.xml",LB(d,x)),k.styles.push(I),Ii(x.wbrels,-1,"styles.xml",Ha.STY),d.vbaraw&&_&&(ea(F,I="xl/vbaProject.bin",d.vbaraw),k.vba.push(I),Ii(x.wbrels,-1,"vbaProject.bin",Ha.VBA)),ea(F,I="xl/metadata.xml",VB()),k.metadata.push(I),Ii(x.wbrels,-1,"metadata.xml",Ha.XLMETA),1<ce.length&&(ea(F,I="xl/persons/person.xml",(_=ce,Q=[Tn,Er("personList",null,{xmlns:ps.TCMNT,"xmlns:x":tu[0]}).replace(/[\/]>/,">")],_.forEach(function(_e,Fe){Q.push(Er("person",null,{displayName:_e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+Fe).slice(-12)+"}",userId:_e,providerId:"None"}))}),Q.push("</personList>"),Q.join(""))),k.people.push(I),Ii(x.wbrels,-1,"persons/person.xml",Ha.PEOPLE)),ea(F,"[Content_Types].xml",Hb(k,x)),ea(F,"_rels/.rels",Jh(x.rels)),ea(F,"xl/_rels/workbook.xml.rels",Jh(x.wbrels)),delete x.revssf,delete x.ssf,F}function N8(d,x){var v="";switch((x||{}).type||"base64"){case"buffer":return[d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7]];case"base64":v=O(d.slice(0,12));break;case"binary":v=d;break;case"array":return[d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7]];default:throw new Error("Unrecognized type "+(x&&x.type||"undefined"))}return[v.charCodeAt(0),v.charCodeAt(1),v.charCodeAt(2),v.charCodeAt(3),v.charCodeAt(4),v.charCodeAt(5),v.charCodeAt(6),v.charCodeAt(7)]}function JU(d,x){var v=0;e:for(;v<d.length;)switch(d.charCodeAt(v)){case 10:case 13:case 32:++v;break;case 60:return p8(d.slice(v),x);default:break e}return oi.to_workbook(d,x)}function S8(d,x,v,_){return _?(v.type="string",oi.to_workbook(d,v)):oi.to_workbook(x,v)}function fN(d,x){g();var v=x||{};if(typeof ArrayBuffer<"u"&&d instanceof ArrayBuffer)return fN(new Uint8Array(d),((v=yt(v)).type="array",v));typeof Uint8Array<"u"&&d instanceof Uint8Array&&!v.type&&(v.type=typeof Deno<"u"?"buffer":"array");var _,k,F,I,R,W=d,q=!1;if(v.cellStyles&&(v.cellNF=!0,v.sheetStubs=!0),Tv={},v.dateNF&&(Tv.dateNF=v.dateNF),v.type||(v.type=M&&Buffer.isBuffer(d)?"buffer":"base64"),v.type=="file"&&(v.type=M?"buffer":"binary",W=function(ce){if(ia!==void 0)return ia.readFileSync(ce);if(typeof Deno<"u")return Deno.readFileSync(ce);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var fe=File(ce);fe.open("r"),fe.encoding="binary";var pe=fe.read();return fe.close(),pe}catch(Ae){if(!Ae.message||!Ae.message.match(/onstruct/))throw Ae}throw new Error("Cannot access file "+ce)}(d),typeof Uint8Array>"u"||M||(v.type="array")),v.type=="string"&&(q=!0,v.type="binary",v.codepage=65001,W=(Q=d).match(/[^\x00-\x7F]/)?Ri(Q):Q),v.type=="array"&&typeof Uint8Array<"u"&&d instanceof Uint8Array&&typeof ArrayBuffer<"u"){var Q=new ArrayBuffer(3),Q=new Uint8Array(Q);if(Q.foo="bar",!Q.foo)return(v=yt(v)).type="array",fN(G(W),v)}switch((_=N8(W,v))[0]){case 208:if(_[1]===207&&_[2]===17&&_[3]===224&&_[4]===161&&_[5]===177&&_[6]===26&&_[7]===225)return I=Ir.read(W,v),R=v,(Ir.find(I,"EncryptedPackage")?Sxe:dN)(I,R);break;case 9:if(_[1]<=8)return dN(W,v);break;case 60:return p8(W,v);case 73:if(_[1]===73&&_[2]===42&&_[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(_[1]===68)return function(ce,fe){var pe=fe||{},Ae=!!pe.WTF;pe.WTF=!0;try{var ve=qa.to_workbook(ce,pe);return pe.WTF=Ae,ve}catch(Re){if(pe.WTF=Ae,!Re.message.match(/SYLK bad record ID/)&&Ae)throw Re;return oi.to_workbook(ce,fe)}}(W,v);break;case 84:if(_[1]===65&&_[2]===66&&_[3]===76)return Mo.to_workbook(W,v);break;case 80:return _[1]===75&&_[2]<9&&_[3]<9?(F=R=W,(k=(k=v)||{}).type||(k.type=M&&Buffer.isBuffer(R)?"buffer":"base64"),XU(Wa(F,k),k)):S8(d,W,v,q);case 239:return _[3]===60?p8(W,v):S8(d,W,v,q);case 255:if(_[1]===254)return F=W,(k=v).type=="base64"&&(F=O(F)),F=i.utils.decode(1200,F.slice(2),"str"),k.type="binary",JU(F,k);if(_[1]===0&&_[2]===2&&_[3]===0)return il.to_workbook(W,v);break;case 0:if(_[1]===0&&(2<=_[2]&&_[3]===0||_[2]===0&&(_[3]===8||_[3]===9)))return il.to_workbook(W,v);break;case 3:case 131:case 139:case 140:return rr.to_workbook(W,v);case 123:if(_[1]===92&&_[2]===114&&_[3]===116)return nN.to_workbook(W,v);break;case 10:case 13:case 32:return function(ce,fe){var pe="",Ae=N8(ce,fe);switch(fe.type){case"base64":pe=O(ce);break;case"binary":pe=ce;break;case"buffer":pe=ce.toString("binary");break;case"array":pe=nt(ce);break;default:throw new Error("Unrecognized type "+fe.type)}return Ae[0]==239&&Ae[1]==187&&Ae[2]==191&&(pe=wi(pe)),fe.type="binary",JU(pe,fe)}(W,v);case 137:if(_[1]===80&&_[2]===78&&_[3]===71)throw new Error("PNG Image File is not a spreadsheet")}return-1<Dt.indexOf(_[0])&&_[2]<=12&&_[3]<=31?rr.to_workbook(W,v):S8(d,W,v,q)}function QU(d,x){return x=x||{},x.type="file",fN(d,x)}function e$(d,x){switch(x.type){case"base64":case"binary":break;case"buffer":case"array":x.type="";break;case"file":return Ss(x.file,Ir.write(d,{type:M?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+x.bookType+"' files");default:throw new Error("Unrecognized type "+x.type)}return Ir.write(d,x)}function t$(d,x){var v={},_=M?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(x.compression&&(v.compression="DEFLATE"),x.password)v.type=_;else switch(x.type){case"base64":v.type="base64";break;case"binary":v.type="string";break;case"string":throw new Error("'string' output type invalid for '"+x.bookType+"' files");case"buffer":case"file":v.type=_;break;default:throw new Error("Unrecognized type "+x.type)}if(d=d.FullPaths?Ir.write(d,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[v.type]||v.type,compression:!!x.compression}):d.generate(v),typeof Deno<"u"&&typeof d=="string"){if(x.type=="binary"||x.type=="base64")return d;d=new Uint8Array(J(d))}return x.password&&typeof encrypt_agile<"u"?e$(encrypt_agile(d,x.password),x):x.type==="file"?Ss(x.file,d):x.type=="string"?wi(d):d}function o0(d,x,v){var _=(v=v||"")+d;switch(x.type){case"base64":return T(Ri(_));case"binary":return Ri(_);case"string":return d;case"file":return Ss(x.file,_,"utf8");case"buffer":return M?B(_,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(_):o0(_,{type:"binary"}).split("").map(function(k){return k.charCodeAt(0)})}throw new Error("Unrecognized type "+x.type)}function hN(d,x){switch(x.type){case"string":case"base64":case"binary":for(var v="",_=0;_<d.length;++_)v+=String.fromCharCode(d[_]);return x.type=="base64"?T(v):x.type=="string"?wi(v):v;case"file":return Ss(x.file,d);case"buffer":return d;default:throw new Error("Unrecognized type "+x.type)}}function C8(d,x){g(),SU(d);var v,_=yt(x||{});return _.cellStyles&&(_.cellNF=!0,_.sheetStubs=!0),_.type!="array"?(v=d,x=yt((x=_)||{}),t$(ZU(v,x),x)):(_.type="binary",d=C8(d,_),_.type="array",J(d))}function mN(d,x){g(),SU(d);var v=yt(x||{});if(v.cellStyles&&(v.cellNF=!0,v.sheetStubs=!0),v.type=="array")return v.type="binary",x=mN(d,v),v.type="array",J(x);var _,k,F,I=0;if(v.sheet&&(I=typeof v.sheet=="number"?v.sheet:d.SheetNames.indexOf(v.sheet),!d.SheetNames[I]))throw new Error("Sheet not found: "+v.sheet+" : "+typeof v.sheet);switch(v.bookType||"xlsb"){case"xml":case"xlml":return o0(txe(d,v),v);case"slk":case"sylk":return o0(qa.from_sheet(d.Sheets[d.SheetNames[I]],v),v);case"htm":case"html":return o0(DU(d.Sheets[d.SheetNames[I]],v),v);case"txt":return function(R,W){switch(W.type){case"base64":return T(R);case"binary":case"string":return R;case"file":return Ss(W.file,R,"binary");case"buffer":return M?B(R,"binary"):R.split("").map(function(q){return q.charCodeAt(0)})}throw new Error("Unrecognized type "+W.type)}(s$(d.Sheets[d.SheetNames[I]],v),v);case"csv":return o0(E8(d.Sheets[d.SheetNames[I]],v),v,"\uFEFF");case"dif":return o0(Mo.from_sheet(d.Sheets[d.SheetNames[I]],v),v);case"dbf":return hN(rr.from_sheet(d.Sheets[d.SheetNames[I]],v),v);case"prn":return o0(oi.from_sheet(d.Sheets[d.SheetNames[I]],v),v);case"rtf":return o0(nN.from_sheet(d.Sheets[d.SheetNames[I]],v),v);case"eth":return o0(oc.from_sheet(d.Sheets[d.SheetNames[I]],v),v);case"fods":return o0(WU(d,v),v);case"wk1":return hN(il.sheet_to_wk1(d.Sheets[d.SheetNames[I]],v),v);case"wk3":return hN(il.book_to_wk3(d,v),v);case"biff2":v.biff||(v.biff=2);case"biff3":v.biff||(v.biff=3);case"biff4":return v.biff||(v.biff=4),hN(TU(d,v),v);case"biff5":v.biff||(v.biff=5);case"biff8":case"xla":case"xls":return v.biff||(v.biff=8),e$(ixe(d,F=(F=v)||{}),F);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return _=d,F=yt((k=v)||{}),iw=new Axe(k),t$(Cxe(_,F),F);default:throw new Error("Unrecognized bookType |"+v.bookType+"|")}}function A8(d){var x;d.bookType||((x=d.file.slice(d.file.lastIndexOf(".")).toLowerCase()).match(/^\.[a-z]+$/)&&(d.bookType=x.slice(1)),d.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[d.bookType]||d.bookType)}function r$(d,x,v){return v=v||{},v.type="file",v.file=x,A8(v),mN(d,v)}function n$(d,x,v,_,k,F,I,R){var W=Oi(v),q=R.defval,Q=R.raw||!Object.prototype.hasOwnProperty.call(R,"raw"),ce=!0,fe=k===1?[]:{};if(k!==1)if(Object.defineProperty)try{Object.defineProperty(fe,"__rowNum__",{value:v,enumerable:!1})}catch{fe.__rowNum__=v}else fe.__rowNum__=v;if(!I||d[v])for(var pe=x.s.c;pe<=x.e.c;++pe){var Ae=I?d[v][pe]:d[_[pe]+W];if(Ae!==void 0&&Ae.t!==void 0){var ve=Ae.v;switch(Ae.t){case"z":if(ve==null)break;continue;case"e":ve=ve==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+Ae.t)}if(F[pe]!=null){if(ve==null)if(Ae.t=="e"&&ve===null)fe[F[pe]]=null;else if(q!==void 0)fe[F[pe]]=q;else{if(!Q||ve!==null)continue;fe[F[pe]]=null}else fe[F[pe]]=Q&&(Ae.t!=="n"||Ae.t==="n"&&R.rawNumbers!==!1)?ve:ic(Ae,ve,R);ve!=null&&(ce=!1)}}else q!==void 0&&F[pe]!=null&&(fe[F[pe]]=q)}return{row:fe,isempty:ce}}function pN(d,x){if(d==null||d["!ref"]==null)return[];var v,_={t:"n",v:0},k=0,F=1,I=[],R="",W={s:{r:0,c:0},e:{r:0,c:0}},q=x||{},Q=q.range!=null?q.range:d["!ref"];switch(q.header===1?k=1:q.header==="A"?k=2:Array.isArray(q.header)?k=3:q.header==null&&(k=0),typeof Q){case"string":W=La(Q);break;case"number":(W=La(d["!ref"])).s.r=Q;break;default:W=Q}0<k&&(F=0);var ce=Oi(W.s.r),fe=[],pe=[],Ae=0,ve=0,Re=Array.isArray(d),je=W.s.r,_e=0,Fe={};Re&&!d[je]&&(d[je]=[]);for(var We,He=q.skipHidden&&d["!cols"]||[],mt=q.skipHidden&&d["!rows"]||[],_e=W.s.c;_e<=W.e.c;++_e)if(!(He[_e]||{}).hidden)switch(fe[_e]=Ca(_e),_=Re?d[je][_e]:d[fe[_e]+ce],k){case 1:I[_e]=_e-W.s.c;break;case 2:I[_e]=fe[_e];break;case 3:I[_e]=q.header[_e-W.s.c];break;default:if(R=v=ic(_=_??{w:"__EMPTY",t:"s"},null,q),ve=Fe[v]||0){for(;R=v+"_"+ve++,Fe[R];);Fe[v]=ve,Fe[R]=1}else Fe[v]=1;I[_e]=R}for(je=W.s.r+F;je<=W.e.r;++je)(mt[je]||{}).hidden||(We=n$(d,W,je,fe,k,I,Re,q)).isempty!==!1&&(k===1?q.blankrows===!1:!q.blankrows)||(pe[Ae++]=We.row);return pe.length=Ae,pe}var a$=/"/g;function i$(d,x,v,_,k,F,I,R){for(var W=!0,q=[],Q="",ce=Oi(v),fe=x.s.c;fe<=x.e.c;++fe)if(_[fe]){var pe=R.dense?(d[v]||[])[fe]:d[_[fe]+ce];if(pe==null)Q="";else if(pe.v!=null){W=!1,Q=""+(R.rawNumbers&&pe.t=="n"?pe.v:ic(pe,null,R));for(var Ae,ve=0;ve!==Q.length;++ve)if((Ae=Q.charCodeAt(ve))===k||Ae===F||Ae===34||R.forceQuotes){Q='"'+Q.replace(a$,'""')+'"';break}Q=="ID"&&(Q='"ID"')}else pe.f==null||pe.F?Q="":(W=!1,0<=(Q="="+pe.f).indexOf(",")&&(Q='"'+Q.replace(a$,'""')+'"'));q.push(Q)}return R.blankrows===!1&&W?null:q.join(I)}function E8(d,x){var v=[],_=x??{};if(d==null||d["!ref"]==null)return"";var k=La(d["!ref"]),F=_.FS!==void 0?_.FS:",",I=F.charCodeAt(0),R=_.RS!==void 0?_.RS:`
`,W=R.charCodeAt(0),q=new RegExp((F=="|"?"\\|":F)+"+$"),Q="",ce=[];_.dense=Array.isArray(d);for(var fe=_.skipHidden&&d["!cols"]||[],pe=_.skipHidden&&d["!rows"]||[],Ae=k.s.c;Ae<=k.e.c;++Ae)(fe[Ae]||{}).hidden||(ce[Ae]=Ca(Ae));for(var ve=0,Re=k.s.r;Re<=k.e.r;++Re)(pe[Re]||{}).hidden||(Q=i$(d,k,Re,ce,I,W,F,_))!=null&&(!(Q=_.strip?Q.replace(q,""):Q)&&_.blankrows===!1||v.push((ve++?R:"")+Q));return delete _.dense,v.join("")}function s$(d,x){return(x=x||{}).FS="	",x.RS=`
`,d=E8(d,x),i===void 0||x.type=="string"?d:(d=i.utils.encode(1200,d,"str"),String.fromCharCode(255)+String.fromCharCode(254)+d)}function o$(Q,x,v){var _,k=v||{},F=+!k.skipHeader,I=Q||{},R=0,W=0;I&&k.origin!=null&&(typeof k.origin=="number"?R=k.origin:(q=typeof k.origin=="string"?ci(k.origin):k.origin,R=q.r,W=q.c));var q,Q={s:{c:0,r:0},e:{c:W,r:R+x.length-1+F}};I["!ref"]?(q=La(I["!ref"]),Q.e.c=Math.max(Q.e.c,q.e.c),Q.e.r=Math.max(Q.e.r,q.e.r),R==-1&&(R=q.e.r+1,Q.e.r=R+x.length-1+F)):R==-1&&(R=0,Q.e.r=x.length-1+F);var ce=k.header||[],fe=0;x.forEach(function(Ae,ve){Na(Ae).forEach(function(We){(fe=ce.indexOf(We))==-1&&(ce[fe=ce.length]=We);var je=Ae[We],_e="z",Fe="",We=wn({c:W+fe,r:R+ve+F});_=gN(I,We),!je||typeof je!="object"||je instanceof Date?(typeof je=="number"?_e="n":typeof je=="boolean"?_e="b":typeof je=="string"?_e="s":je instanceof Date?(_e="d",k.cellDates||(_e="n",je=Va(je)),Fe=k.dateNF||te[14]):je===null&&k.nullError&&(_e="e",je=0),_?(_.t=_e,_.v=je,delete _.w,delete _.R,Fe&&(_.z=Fe)):I[We]=_={t:_e,v:je},Fe&&(_.z=Fe)):I[We]=je})}),Q.e.c=Math.max(Q.e.c,W+ce.length-1);var pe=Oi(R);if(F)for(fe=0;fe<ce.length;++fe)I[Ca(fe+W)+pe]={t:"s",v:ce[fe]};return I["!ref"]=kn(Q),I}function gN(d,x,v){return typeof x!="string"?gN(d,wn(typeof x!="number"?x:{r:x,c:v||0})):Array.isArray(d)?(v=ci(x),d[v.r]||(d[v.r]=[]),d[v.r][v.c]||(d[v.r][v.c]={t:"z"})):d[x]||(d[x]={t:"z"})}function j8(){return{SheetNames:[],Sheets:{}}}function T8(d,x,v,_){var k=1;if(!v)for(;k<=65535&&d.SheetNames.indexOf(v="Sheet"+k)!=-1;++k,v=void 0);if(!v||65535<=d.SheetNames.length)throw new Error("Too many worksheets");if(_&&0<=d.SheetNames.indexOf(v)){var _=v.match(/(^.*?)(\d+)$/),k=_&&+_[2]||0,F=_&&_[1]||v;for(++k;k<=65535&&d.SheetNames.indexOf(v=F+k)!=-1;++k);}if(NU(v),0<=d.SheetNames.indexOf(v))throw new Error("Worksheet with name |"+v+"| already exists!");return d.SheetNames.push(v),d.Sheets[v]=x,v}function l$(d,x,v){return x?(d.l={Target:x},v&&(d.l.Tooltip=v)):delete d.l,d}var xN,k8={encode_col:Ca,encode_row:Oi,encode_cell:wn,encode_range:kn,decode_col:ah,decode_row:Rd,split_cell:function(d){return d.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:ci,decode_range:_o,format_cell:ic,sheet_add_aoa:nl,sheet_add_json:o$,sheet_add_dom:RU,aoa_to_sheet:Fo,json_to_sheet:function(d,x){return o$(null,d,x)},table_to_sheet:MU,table_to_book:function(d,x){return xl(MU(d,x),x)},sheet_to_csv:E8,sheet_to_txt:s$,sheet_to_json:pN,sheet_to_html:DU,sheet_to_formulae:function(d){var x,v="",_="";if(d==null||d["!ref"]==null)return[];for(var k,F=La(d["!ref"]),I=[],R=[],W=Array.isArray(d),q=F.s.c;q<=F.e.c;++q)I[q]=Ca(q);for(var Q=F.s.r;Q<=F.e.r;++Q)for(k=Oi(Q),q=F.s.c;q<=F.e.c;++q)if(v=I[q]+k,_="",(x=W?(d[Q]||[])[q]:d[v])!==void 0){if(x.F!=null){if(v=x.F,!x.f)continue;_=x.f,v.indexOf(":")==-1&&(v=v+":"+v)}if(x.f!=null)_=x.f;else{if(x.t=="z")continue;if(x.t=="n"&&x.v!=null)_=""+x.v;else if(x.t=="b")_=x.v?"TRUE":"FALSE";else if(x.w!==void 0)_="'"+x.w;else{if(x.v===void 0)continue;_=x.t=="s"?"'"+x.v:""+x.v}}R[R.length]=v+"="+_}return R},sheet_to_row_object_array:pN,sheet_get_cell:gN,book_new:j8,book_append_sheet:T8,book_set_sheet_visibility:function(d,x,v){switch(d.Workbook||(d.Workbook={}),d.Workbook.Sheets||(d.Workbook.Sheets=[]),x=function(_,k){if(typeof k=="number"){if(0<=k&&_.SheetNames.length>k)return k;throw new Error("Cannot find sheet # "+k)}if(typeof k!="string")throw new Error("Cannot find sheet |"+k+"|");if(-1<(_=_.SheetNames.indexOf(k)))return _;throw new Error("Cannot find sheet name |"+k+"|")}(d,x),d.Workbook.Sheets[x]||(d.Workbook.Sheets[x]={}),v){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+v)}d.Workbook.Sheets[x].Hidden=v},cell_set_number_format:function(d,x){return d.z=x,d},cell_set_hyperlink:l$,cell_set_internal_link:function(d,x,v){return l$(d,"#"+x,v)},cell_add_comment:function(d,x,v){d.c||(d.c=[]),d.c.push({t:x,a:v||"SheetJS"})},sheet_set_array_formula:function(d,x,v,_){for(var k=typeof x!="string"?x:La(x),F=typeof x=="string"?x:kn(x),I=k.s.r;I<=k.e.r;++I)for(var R=k.s.c;R<=k.e.c;++R){var W=gN(d,I,R);W.t="n",W.F=F,delete W.v,I==k.s.r&&R==k.s.c&&(W.f=v,_&&(W.D=!0))}return d},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function c$(d){xN=d}var Pv={to_json:function(d,x){var v=xN({objectMode:!0});if(d==null||d["!ref"]==null)return v.push(null),v;var _,k={t:"n",v:0},F=0,I=1,R=[],W="",q={s:{r:0,c:0},e:{r:0,c:0}},Q=x||{},ce=Q.range!=null?Q.range:d["!ref"];switch(Q.header===1?F=1:Q.header==="A"?F=2:Array.isArray(Q.header)&&(F=3),typeof ce){case"string":q=La(ce);break;case"number":(q=La(d["!ref"])).s.r=ce;break;default:q=ce}0<F&&(I=0);var fe=Oi(q.s.r),pe=[],Ae=0,ve=Array.isArray(d),Re=q.s.r,je=0,_e={};ve&&!d[Re]&&(d[Re]=[]);for(var Fe=Q.skipHidden&&d["!cols"]||[],We=Q.skipHidden&&d["!rows"]||[],je=q.s.c;je<=q.e.c;++je)if(!(Fe[je]||{}).hidden)switch(pe[je]=Ca(je),k=ve?d[Re][je]:d[pe[je]+fe],F){case 1:R[je]=je-q.s.c;break;case 2:R[je]=pe[je];break;case 3:R[je]=Q.header[je-q.s.c];break;default:if(W=_=ic(k=k??{w:"__EMPTY",t:"s"},null,Q),Ae=_e[_]||0){for(;W=_+"_"+Ae++,_e[W];);_e[_]=Ae,_e[W]=1}else _e[_]=1;R[je]=W}return Re=q.s.r+I,v._read=function(){for(;Re<=q.e.r;)if(!(We[Re-1]||{}).hidden){var He=n$(d,q,Re,pe,F,R,ve,Q);if(++Re,He.isempty===!1||(F===1?Q.blankrows!==!1:Q.blankrows))return void v.push(He.row)}return v.push(null)},v},to_html:function(d,k){var v=xN(),_=k||{},k=_.header!=null?_.header:OU,F=_.footer!=null?_.footer:IU;v.push(k);var I=_o(d["!ref"]);_.dense=Array.isArray(d),v.push(FU(0,0,_));var R=I.s.r,W=!1;return v._read=function(){if(R>I.e.r)return W||(W=!0,v.push("</table>"+F)),v.push(null);for(;R<=I.e.r;){v.push(PU(d,I,R,_)),++R;break}},v},to_csv:function(d,x){var v=xN(),_=x??{};if(d==null||d["!ref"]==null)return v.push(null),v;var k=La(d["!ref"]),F=_.FS!==void 0?_.FS:",",I=F.charCodeAt(0),R=_.RS!==void 0?_.RS:`
`,W=R.charCodeAt(0),q=new RegExp((F=="|"?"\\|":F)+"+$"),Q="",ce=[];_.dense=Array.isArray(d);for(var fe=_.skipHidden&&d["!cols"]||[],pe=_.skipHidden&&d["!rows"]||[],Ae=k.s.c;Ae<=k.e.c;++Ae)(fe[Ae]||{}).hidden||(ce[Ae]=Ca(Ae));var ve=k.s.r,Re=!1,je=0;return v._read=function(){if(!Re)return Re=!0,v.push("\uFEFF");for(;ve<=k.e.r;)if(++ve,!(pe[ve-1]||{}).hidden&&(Q=i$(d,k,ve-1,ce,I,W,F,_),Q!=null&&((Q=_.strip?Q.replace(q,""):Q)||_.blankrows!==!1)))return v.push((je++?R:"")+Q);return v.push(null)},v},set_readable:c$},ki=function(){function d(x,v,_){return this instanceof d?(this.tagName=x,this._attributes=v||{},this._children=_||[],this._prefix="",this):new d(x,v,_)}return d.prototype.createElement=function(){return new d(arguments)},d.prototype.children=function(){return this._children},d.prototype.append=function(x){return this._children.push(x),this},d.prototype.prefix=function(x){return arguments.length==0?this._prefix:(this._prefix=x,this)},d.prototype.attr=function(x,v){if(v==null)return delete this._attributes[x],this;if(arguments.length==0)return this._attributes;if(typeof x=="string"&&arguments.length==1)return this._attributes.attr[x];if(typeof x=="object"&&arguments.length==1)for(var _ in x)this._attributes[_]=x[_];else arguments.length==2&&typeof x=="string"&&(this._attributes[x]=v);return this},d.prototype.escapeAttributeValue=function(x){return'"'+x.replace(/\"/g,"&quot;")+'"'},d.prototype.toXml=function(x){var v=(x=x||this)._prefix;if(v+="<"+x.tagName,x._attributes)for(var _ in x._attributes)v+=" "+_+"="+this.escapeAttributeValue(""+x._attributes[_]);if(x._children&&0<x._children.length){v+=">";for(var k=0;k<x._children.length;k++)v+=this.toXml(x._children[k]);v+="</"+x.tagName+">"}else v+="/>";return v},d}(),Axe=function(d){var x,v=164,_={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},k={};for(x in _)k[_[x]]=x;var F={};return{initialize:function(I){this.$fonts=ki("fonts").attr("count",0).attr("x14ac:knownFonts","1"),this.$fills=ki("fills").attr("count",0),this.$borders=ki("borders").attr("count",0),this.$numFmts=ki("numFmts").attr("count",0),this.$cellStyleXfs=ki("cellStyleXfs"),this.$xf=ki("xf").attr("numFmtId",0).attr("fontId",0).attr("fillId",0).attr("borderId",0),this.$cellXfs=ki("cellXfs").attr("count",0),this.$cellStyles=ki("cellStyles").append(ki("cellStyle").attr("name","Normal").attr("xfId",0).attr("builtinId",0)),this.$dxfs=ki("dxfs").attr("count","0"),this.$tableStyles=ki("tableStyles").attr("count","0").attr("defaultTableStyle","TableStyleMedium9").attr("defaultPivotStyle","PivotStyleMedium4"),this.$styles=ki("styleSheet").attr("xmlns:mc","http://schemas.openxmlformats.org/markup-compatibility/2006").attr("xmlns:x14ac","http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac").attr("xmlns","http://schemas.openxmlformats.org/spreadsheetml/2006/main").attr("mc:Ignorable","x14ac").prefix('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>').append(this.$numFmts).append(this.$fonts).append(this.$fills).append(this.$borders).append(this.$cellStyleXfs.append(this.$xf)).append(this.$cellXfs).append(this.$cellStyles).append(this.$dxfs).append(this.$tableStyles);var R=I.defaultCellStyle||{};return R.font||(R.font={name:"Calibri",sz:"11"}),R.font.name||(R.font.name="Calibri"),R.font.sz||(R.font.sz=11),R.fill||(R.fill={patternType:"none",fgColor:{}}),R.border||(R.border={}),R.numFmt||(R.numFmt=0),this.defaultStyle=R,I=JSON.parse(JSON.stringify(R)),I.fill={patternType:"gray125",fgColor:{}},this.addStyles([R,I]),this},addStyle:function(I){var R=JSON.stringify(I),W=F[R];return W==null?(W=this._addXf(I),F[R]=W):W=F[R],W},addStyles:function(I){var R=this;return I.map(function(W){return R.addStyle(W)})},_duckTypeStyle:function(I){return typeof I=="object"&&(I.patternFill||I.fgColor)?{fill:I}:I.font||I.numFmt||I.border||I.fill?I:this._getStyleCSS(I)},_getStyleCSS:function(I){return I},_addXf:function(I){var R=this._addFont(I.font),W=this._addFill(I.fill),q=this._addBorder(I.border),Q=this._addNumFmt(I.numFmt),ce=ki("xf").attr("numFmtId",Q).attr("fontId",R).attr("fillId",W).attr("borderId",q).attr("xfId","0");return 0<R&&ce.attr("applyFont","1"),0<W&&ce.attr("applyFill","1"),0<q&&ce.attr("applyBorder","1"),0<Q&&ce.attr("applyNumberFormat","1"),I.alignment&&(Q=ki("alignment"),I.alignment.horizontal&&Q.attr("horizontal",I.alignment.horizontal),I.alignment.vertical&&Q.attr("vertical",I.alignment.vertical),I.alignment.indent&&Q.attr("indent",I.alignment.indent),I.alignment.readingOrder&&Q.attr("readingOrder",I.alignment.readingOrder),I.alignment.wrapText&&Q.attr("wrapText",I.alignment.wrapText),I.alignment.textRotation!=null&&Q.attr("textRotation",I.alignment.textRotation),ce.append(Q).attr("applyAlignment",1)),this.$cellXfs.append(ce),ce=+this.$cellXfs.children().length,this.$cellXfs.attr("count",ce),ce-1},_addFont:function(I){if(!I)return 0;var R=ki("font").append(ki("sz").attr("val",I.sz||this.defaultStyle.font.sz)).append(ki("name").attr("val",I.name||this.defaultStyle.font.name));return I.bold&&R.append(ki("b")),I.underline&&R.append(ki("u")),I.italic&&R.append(ki("i")),I.strike&&R.append(ki("strike")),I.outline&&R.append(ki("outline")),I.shadow&&R.append(ki("shadow")),I.vertAlign&&R.append(ki("vertAlign").attr("val",I.vertAlign)),I.color&&(I.color.theme?(R.append(ki("color").attr("theme",I.color.theme)),I.color.tint&&R.append(ki("tint").attr("theme",I.color.tint))):I.color.rgb&&R.append(ki("color").attr("rgb",I.color.rgb))),this.$fonts.append(R),R=this.$fonts.children().length,this.$fonts.attr("count",R),R-1},_addNumFmt:function(I){if(!I)return 0;if(typeof I=="string"){var R=k[I];if(0<=R)return R}return/^[0-9]+$/.exec(I)?I:(I=I.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),I=ki("numFmt").attr("numFmtId",++v).attr("formatCode",I),this.$numFmts.append(I),I=this.$numFmts.children().length,this.$numFmts.attr("count",I),v)},_addFill:function(I){if(!I)return 0;var R,W=ki("patternFill").attr("patternType",I.patternType||"solid");return I.fgColor&&(R=ki("fgColor"),I.fgColor.rgb?(I.fgColor.rgb.length==6&&(I.fgColor.rgb="FF"+I.fgColor.rgb),R.attr("rgb",I.fgColor.rgb),W.append(R)):I.fgColor.theme&&(R.attr("theme",I.fgColor.theme),I.fgColor.tint&&R.attr("tint",I.fgColor.tint),W.append(R)),I.bgColor||(I.bgColor={indexed:"64"})),I.bgColor&&(I=ki("bgColor").attr(I.bgColor),W.append(I)),W=ki("fill").append(W),this.$fills.append(W),W=this.$fills.children().length,this.$fills.attr("count",W),W-1},_getSubBorder:function(I,R){var W=ki(I);return R&&(W.attr("style",R.style||"medium"),R.color&&(I=ki("color"),R.color.auto?I.attr("auto",R.color.auto):R.color.rgb?I.attr("rgb",R.color.rgb):(R.color.theme||R.color.tint)&&(I.attr("theme",R.color.theme||"1"),I.attr("tint",R.color.tint||"0")),W.append(I))),W},_addBorder:function(I){if(!I)return 0;var R=this,W=ki("border").attr("diagonalUp",I.diagonalUp).attr("diagonalDown",I.diagonalDown);["left","right","top","bottom","diagonal"].forEach(function(Q){W.append(R._getSubBorder(Q,I[Q]))}),this.$borders.append(W);var q=this.$borders.children().length;return this.$borders.attr("count",q),q-1},toXml:function(){return this.$styles.toXml()}}.initialize(d||{})};dN!==void 0&&(a.parse_xlscfb=dN),a.parse_zip=XU,a.read=fN,a.readFile=QU,a.readFileSync=QU,a.write=mN,a.writeFile=r$,a.writeFileSync=r$,a.writeFileAsync=function(d,x,v,_){var k=v||{};return k.type="file",k.file=d,A8(k),k.type="buffer",_ instanceof Function||(_=v),ia.writeFile(d,mN(x,k),_)},a.utils=k8,a.writeXLSX=C8,a.writeFileXLSX=function(d,x,v){return(v=v||{}).type="file",v.file=x,A8(v),C8(d,v)},a.SSF=Qn,Pv!==void 0&&(a.stream=Pv),Ir!==void 0&&(a.CFB=Ir),typeof NC>"u"||((Pv=lO)||{}).Readable&&c$(Pv.Readable)}if(n(t),typeof window<"u"&&!window.XLSX)try{window.XLSX=r}catch{}})(hR,hR.exports);var hu=hR.exports;const Jme=({data:e,headers:t,sheetName:r="Export",fileName:n="export.xlsx"})=>{const a=[t.map(g=>g.label),...e.map(g=>t.map(p=>g[p.key]??""))],i=hu.utils.aoa_to_sheet(a),o={font:{name:"Poppins",bold:!0},alignment:{horizontal:"center",vertical:"center"},fill:{fgColor:{rgb:"EFEAFF"}},border:{bottom:{style:"medium",color:{rgb:"B3A4F2"}},top:{style:"thin",color:{rgb:"DDDDDD"}},left:{style:"thin",color:{rgb:"DDDDDD"}},right:{style:"thin",color:{rgb:"DDDDDD"}}}},l={font:{name:"Poppins"},alignment:{horizontal:"left",vertical:"center"},border:{bottom:{style:"thin",color:{rgb:"DDDDDD"}},top:{style:"thin",color:{rgb:"DDDDDD"}},left:{style:"thin",color:{rgb:"DDDDDD"}},right:{style:"thin",color:{rgb:"DDDDDD"}}}},c={...l,fill:{fgColor:{rgb:"FAFAFA"}}},u=hu.utils.decode_range(i["!ref"]);for(let g=u.s.c;g<=u.e.c;++g){const p=hu.utils.encode_cell({r:0,c:g});i[p].s=o;for(let N=1;N<=u.e.r;++N){const b=hu.utils.encode_cell({r:N,c:g});i[b]&&(i[b].s=N%2===0?c:l)}}const f=t.map((g,p)=>{const N=[g.label,...e.map(b=>b[g.key]??"")];return{wch:Math.max(...N.map(b=>String(b).length))+2}});i["!cols"]=f,i["!autofilter"]={ref:hu.utils.encode_range(u)},i["!freeze"]={ySplit:1,state:"frozen"};const h=hu.utils.book_new();hu.utils.book_append_sheet(h,i,r),hu.writeFile(h,n)},WZ=({events:e,onRefresh:t})=>{const[r,n]=A.useState(e),[a,i]=A.useState(""),[o,l]=A.useState("all"),[c,u]=A.useState("all"),[f,h]=A.useState(null),[g,p]=A.useState(!1),[N,b]=A.useState(!1),S=Ia();A.useEffect(()=>{let B=e;if(a){const L=a.toLowerCase();B=B.filter(H=>{var U,J,K,G;return((U=H.title)==null?void 0:U.toLowerCase().includes(L))||((J=H.city)==null?void 0:J.toLowerCase().includes(L))||((G=(K=H.organizer)==null?void 0:K.full_name)==null?void 0:G.toLowerCase().includes(L))})}o!=="all"&&(B=B.filter(L=>L.status===o)),c!=="all"&&(B=B.filter(L=>L.event_type===c)),n(B)},[a,o,c,e]);const C=async B=>{const L=B.status==="active"?"inactive":"active";try{const{error:H}=await Je.from("events").update({status:L}).eq("id",B.id);if(H)throw H;ot({title:"Statut mis  jour",description:`L'vnement est maintenant ${L==="active"?"actif":"inactif"}.`}),t&&t()}catch(H){ot({title:"Erreur",description:H.message,variant:"destructive"})}},j=async()=>{if(f){b(!0);try{const B=e.find(H=>H.id===f);if(B&&B.cover_image){const H=S7(B.cover_image);if(H){const{error:U}=await Je.storage.from(H.bucket).remove([H.path]);U&&console.warn("Storage cleanup warning:",U)}}const{error:L}=await Je.rpc("delete_event_completely",{p_event_id:f});if(L)throw L;ot({title:"vnement supprim",description:"L'vnement et toutes ses donnes associes ont t supprims."}),t&&t(),p(!1),h(null)}catch(B){console.error("Delete error:",B),ot({title:"Erreur critique",description:"Impossible de supprimer l'vnement. "+B.message,variant:"destructive"})}finally{b(!1)}}},T=()=>{if(!r||r.length===0){ot({title:"Aucune donne",description:"Rien  exporter pour le moment.",variant:"destructive"});return}const B=r.map(L=>{var H;return{ID:L.id,Titre:L.title,Type:L.event_type,Organisateur:((H=L.organizer)==null?void 0:H.full_name)||"Inconnu",Date:new Date(L.event_date).toLocaleString("fr-FR"),Lieu:`${L.city}, ${L.country}`,Statut:L.status,Prix_Pi:L.price_pi,Vues:L.views_count,Interactions:L.interactions_count}});Jme({data:B,fileName:`export_evenements_${new Date().toISOString().split("T")[0]}.xlsx`,sheetName:"vnements"}),ot({title:"Exportation russie"})},O=B=>{switch(B){case"ticketing":return s.jsxs(Vr,{variant:"outline",className:"border-blue-500 text-blue-500",children:[s.jsx(ul,{className:"w-3 h-3 mr-1"})," Billetterie"]});case"voting":return s.jsxs(Vr,{variant:"outline",className:"border-green-500 text-green-500",children:[s.jsx(w1,{className:"w-3 h-3 mr-1"})," Vote"]});case"raffle":return s.jsxs(Vr,{variant:"outline",className:"border-purple-500 text-purple-500",children:[s.jsx(gx,{className:"w-3 h-3 mr-1"})," Tombola"]});case"stand_rental":return s.jsxs(Vr,{variant:"outline",className:"border-orange-500 text-orange-500",children:[s.jsx(M0,{className:"w-3 h-3 mr-1"})," Stands"]});case"protected":return s.jsxs(Vr,{variant:"outline",className:"border-red-500 text-red-500",children:[s.jsx(gc,{className:"w-3 h-3 mr-1"})," Protg"]});default:return s.jsxs(Vr,{variant:"outline",className:"border-gray-500 text-gray-500",children:[s.jsx($u,{className:"w-3 h-3 mr-1"})," Standard"]})}},M=B=>{switch(B){case"active":return"success";case"inactive":return"secondary";case"completed":return"default";default:return"outline"}};return s.jsxs(qt,{className:"glass-effect shadow-lg border-none",children:[s.jsxs(zr,{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 border-b border-border/10 pb-6",children:[s.jsxs("div",{children:[s.jsx(Wr,{className:"text-2xl font-bold",children:"Gestion des vnements"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Grez tous les types d'vnements de la plateforme"})]}),s.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[s.jsx(Ue,{onClick:t,variant:"ghost",size:"sm",children:s.jsx(Jt,{className:"h-4 w-4 "})}),s.jsxs(Ue,{onClick:T,variant:"outline",size:"sm",className:"ml-auto",children:[s.jsx(Ym,{className:"mr-2 h-4 w-4"})," Exporter"]})]})]}),s.jsxs(Xt,{className:"pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 mb-6",children:[s.jsxs("div",{className:"md:col-span-5 relative",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(er,{placeholder:"Rechercher (titre, ville, organisateur)...",value:a,onChange:B=>i(B.target.value),className:"pl-10"})]}),s.jsx("div",{className:"md:col-span-3",children:s.jsxs(Ai,{value:c,onValueChange:u,children:[s.jsx(vi,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(I7,{className:"w-4 h-4 text-muted-foreground"}),s.jsx(Ei,{placeholder:"Type d'vnement"})]})}),s.jsxs(yi,{children:[s.jsx(on,{value:"all",children:"Tous les types"}),s.jsx(on,{value:"standard",children:"Standard"}),s.jsx(on,{value:"protected",children:"Protg"}),s.jsx(on,{value:"ticketing",children:"Billetterie"}),s.jsx(on,{value:"voting",children:"Vote"}),s.jsx(on,{value:"raffle",children:"Tombola"}),s.jsx(on,{value:"stand_rental",children:"Location Stands"})]})]})}),s.jsx("div",{className:"md:col-span-4",children:s.jsxs(Ai,{value:o,onValueChange:l,children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Statut"})}),s.jsxs(yi,{children:[s.jsx(on,{value:"all",children:"Tous les statuts"}),s.jsx(on,{value:"active",children:"Actif"}),s.jsx(on,{value:"inactive",children:"Inactif"}),s.jsx(on,{value:"completed",children:"Termin"})]})]})})]}),s.jsx("div",{className:"rounded-md border border-border/50 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-muted/50",children:s.jsxs("tr",{className:"text-left text-muted-foreground border-b border-border/50",children:[s.jsx("th",{className:"p-4 font-medium",children:"vnement"}),s.jsx("th",{className:"p-4 font-medium hidden md:table-cell",children:"Type"}),s.jsx("th",{className:"p-4 font-medium hidden sm:table-cell",children:"Organisateur"}),s.jsx("th",{className:"p-4 font-medium hidden lg:table-cell",children:"Lieu & Date"}),s.jsx("th",{className:"p-4 font-medium",children:"Statut"}),s.jsx("th",{className:"p-4 font-medium text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-border/50",children:r.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-8 text-center text-muted-foreground",children:"Aucun vnement trouv pour ces critres."})}):r.map(B=>{var L;return s.jsxs("tr",{className:"hover:bg-muted/20 transition-colors",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-foreground line-clamp-1",children:B.title}),s.jsx("span",{className:"text-xs text-muted-foreground md:hidden",children:new Date(B.event_date).toLocaleDateString()})]})}),s.jsx("td",{className:"p-4 hidden md:table-cell",children:O(B.event_type)}),s.jsx("td",{className:"p-4 hidden sm:table-cell text-muted-foreground",children:((L=B.organizer)==null?void 0:L.full_name)||"Inconnu"}),s.jsx("td",{className:"p-4 hidden lg:table-cell",children:s.jsxs("div",{className:"flex flex-col text-xs text-muted-foreground",children:[s.jsx("span",{children:new Date(B.event_date).toLocaleDateString("fr-FR")}),s.jsxs("span",{children:[B.city,", ",B.country]})]})}),s.jsx("td",{className:"p-4",children:s.jsx(Vr,{variant:M(B.status),className:B.status==="active"?"bg-green-500/15 text-green-600 hover:bg-green-500/25 border-green-500/20":"",children:B.status==="active"?"Actif":B.status==="inactive"?"Inactif":B.status})}),s.jsx("td",{className:"p-4 text-right",children:s.jsxs(q5,{children:[s.jsx(G5,{asChild:!0,children:s.jsx(Ue,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-muted",children:s.jsx(l_e,{className:"h-4 w-4"})})}),s.jsxs(vb,{align:"end",children:[s.jsx(K5,{children:"Actions"}),s.jsx(E1,{}),s.jsxs(md,{onClick:()=>S(`/event/${B.id}`),children:[s.jsx(Xm,{className:"mr-2 h-4 w-4"})," Voir dtails"]}),s.jsx(md,{onClick:()=>C(B),children:B.status==="active"?s.jsxs(s.Fragment,{children:[s.jsx(Yte,{className:"mr-2 h-4 w-4"})," Dsactiver"]}):s.jsxs(s.Fragment,{children:[s.jsx(Xte,{className:"mr-2 h-4 w-4"})," Activer"]})}),s.jsx(E1,{}),s.jsxs(md,{className:"text-red-600 focus:text-red-600 focus:bg-red-50 dark:focus:bg-red-950/20",onClick:()=>{h(B.id),p(!0)},children:[s.jsx(Yo,{className:"mr-2 h-4 w-4"})," Supprimer"]})]})]})})]},B.id)})})]})})}),s.jsx(hl,{open:g,onOpenChange:p,children:s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:"Suppression dfinitive"}),s.jsxs(el,{children:["Cette action supprimera l'vnement slectionn ainsi que ",s.jsx("strong",{children:"tous les billets, votes, commentaires et statistiques associs"}),". Cette action est irrversible."]})]}),s.jsxs(ml,{children:[s.jsx(gl,{disabled:N,children:"Annuler"}),s.jsx(pl,{onClick:j,className:"bg-destructive hover:bg-destructive/90",disabled:N,children:N?s.jsx(Jt,{className:"w-4 h-4 animate-spin mr-2"}):"Confirmer la suppression"})]})]})})]})]})},HZ=({promotions:e,onRefresh:t})=>{const r=Ia(),[n,a]=A.useState(e),[i,o]=A.useState("all"),[l,c]=A.useState(""),[,u]=A.useState(0);A.useEffect(()=>{const p=setInterval(()=>u(N=>N+1),6e4);return()=>clearInterval(p)},[]),A.useEffect(()=>{let p=e;if(l&&(p=p.filter(N=>{var b,S,C;return N.title.toLowerCase().includes(l.toLowerCase())||((S=(b=N.organizer)==null?void 0:b.full_name)==null?void 0:S.toLowerCase().includes(l.toLowerCase()))||((C=N.description)==null?void 0:C.toLowerCase().includes(l.toLowerCase()))})),i!=="all"){const N=new Date().toISOString();i==="active"?p=p.filter(b=>b.pack_expires_at>N&&b.status==="active"):i==="expired"?p=p.filter(b=>b.pack_expires_at<=N):i==="inactive"&&(p=p.filter(b=>b.status!=="active"))}a(p)},[e,l,i]);const f=async(p,N)=>{try{const b=N==="active"?"cancelled":"active",{error:S}=await Je.from("event_promotions").update({status:b,cancelled_at:b==="cancelled"?new Date().toISOString():null}).eq("id",p);if(S)throw S;ot({title:"Statut de la promotion mis  jour"}),t()}catch(b){console.error("Error updating promotion status:",b),ot({title:"Erreur lors de la mise  jour",variant:"destructive"})}},h=async p=>{if(window.confirm("tes-vous sr de vouloir supprimer cette promotion ? Cette action est irrversible."))try{const{error:N}=await Je.from("event_promotions").delete().eq("id",p);if(N)throw N;ot({title:"Promotion supprime avec succs"}),t()}catch(N){console.error("Error deleting promotion:",N),ot({title:"Erreur lors de la suppression",variant:"destructive"})}},g=({endDate:p})=>{const[N,b]=A.useState("");return A.useEffect(()=>{const S=()=>{const j=new Date(p)-new Date;if(j<=0){b("Expir");return}const T=Math.floor(j/(1e3*60*60*24)),O=Math.floor(j/(1e3*60*60)%24);b(`${T}j ${O}h restants`)};S();const C=setInterval(S,6e4);return()=>clearInterval(C)},[p]),s.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[s.jsx(Yf,{className:"w-3 h-3"})," ",N]})};return s.jsxs(qt,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[s.jsx(zr,{children:s.jsx(Wr,{className:"text-white",children:" Gestion des Promotions"})}),s.jsxs(Xt,{children:[s.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Il,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(er,{type:"text",placeholder:"Rechercher une promotion...",className:"pl-10 w-full",value:l,onChange:p=>c(p.target.value)})]}),s.jsxs(Ai,{value:i,onValueChange:o,children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Toutes les promotions"})}),s.jsxs(yi,{children:[s.jsx(on,{value:"all",children:"Toutes les promotions"}),s.jsx(on,{value:"active",children:"Actives"}),s.jsx(on,{value:"expired",children:"Expires"}),s.jsx(on,{value:"inactive",children:"Inactives/Annules"})]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-background/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left",children:"Promotion (vnement)"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Organisateur"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Cot"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Actions"})]})}),s.jsx("tbody",{children:n.map(p=>{var S;const N=new Date(p.pack_expires_at)<new Date,b=p.status==="active"&&!N;return s.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-800/50",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("p",{className:"font-semibold text-white",children:p.title}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Pack: ",p.pack_name]})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("p",{className:"text-white",children:(S=p.organizer)==null?void 0:S.full_name})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(za,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-bold text-primary",children:p.cost_pi})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold w-fit ${b?"bg-green-500/20 text-green-400":N?"bg-gray-500/20 text-gray-400":"bg-red-500/20 text-red-400"}`,children:b?"Active":N?"Expire":"Inactive/Annule"}),s.jsx(g,{endDate:p.pack_expires_at})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Ue,{size:"icon",variant:"ghost",onClick:()=>r(`/event/${p.event_id}`),children:s.jsx(Xm,{className:"w-4 h-4"})}),s.jsx(Ue,{size:"icon",variant:"ghost",className:b?"text-yellow-500":"text-green-500",onClick:()=>f(p.id,p.status),children:b?s.jsx(m_e,{className:"w-4 h-4"}):s.jsx(hy,{className:"w-4 h-4"})}),s.jsx(Ue,{size:"icon",variant:"ghost",className:"text-red-500",onClick:()=>h(p.id),children:s.jsx(Yo,{className:"w-4 h-4"})})]})})]},p.id)})})]})})]})]})},S2t=({popups:e,onRefresh:t})=>{const{user:r}=bn(),{toast:n}=qs(),[a,i]=A.useState(e||[]),[o,l]=A.useState(!1),[c,u]=A.useState(null),[f,h]=A.useState(!1),[g,p]=A.useState(!1),[N,b]=A.useState(!1),[S,C]=A.useState(null),[j,T]=A.useState(null),[O,M]=A.useState({alt_text:"",image_url:"",is_active:!0});A.useEffect(()=>{!e||e.length===0?B():i(e)},[e]);const B=async()=>{l(!0);try{const{data:ae,error:X}=await Je.from("welcome_popups").select("*").order("created_at",{ascending:!1});if(X)throw X;i(ae||[])}catch(ae){console.error("Erreur lors du chargement des popups:",ae),n({title:"Erreur",description:"Impossible de charger les popups.",variant:"destructive"})}finally{l(!1)}},L=async()=>{await B(),t&&t()},H=()=>{u(null),h(!1),T(null),M({alt_text:"",image_url:"",is_active:!0})},U=ae=>{u(ae),M({alt_text:ae.alt_text||"",image_url:ae.image_url||"",is_active:ae.is_active}),h(!0)},J=async ae=>{ae.preventDefault(),p(!0);try{let X=O.image_url;if(j){const Se=j.name.split(".").pop(),ee=`welcome-popups/${`popup_${Date.now()}.${Se}`}`;console.log("Tlversement du fichier:",ee);const{error:he}=await Je.storage.from("media").upload(ee,j,{cacheControl:"3600",upsert:!1});if(he)throw he;const{data:se}=Je.storage.from("media").getPublicUrl(ee);X=se.publicUrl,console.log("URL publique gnre:",X)}if(!X&&!O.image_url)throw new Error("L'URL de l'image ou un fichier tlvers est requis.");const ne={alt_text:O.alt_text||"",image_url:X||O.image_url,is_active:O.is_active,uploaded_by:r.id,updated_at:new Date().toISOString()};console.log("Donnes  sauvegarder:",ne);let de;c?de=await Je.from("welcome_popups").update(ne).eq("id",c.id).select():de=await Je.from("welcome_popups").insert(ne).select();const{data:le,error:xe}=de;if(xe)throw console.error("Erreur Supabase:",xe),xe;console.log("Popup sauvegard avec succs:",le),n({title:"Succs",description:`Popup ${c?"mis  jour":"cr"} avec succs.`}),H(),await L()}catch(X){console.error("Erreur de sauvegarde:",X),n({title:"Erreur",description:`La sauvegarde a chou: ${X.message}`,variant:"destructive"})}finally{p(!1)}},K=ae=>{C(ae),b(!0)},G=async()=>{if(S)try{const{error:ae}=await Je.from("welcome_popups").delete().eq("id",S);if(ae)throw ae;n({title:"Succs",description:"Popup supprim avec succs."}),i(X=>X.filter(ne=>ne.id!==S)),t&&t()}catch(ae){console.error("Erreur de suppression:",ae),n({title:"Erreur",description:"La suppression a chou.",variant:"destructive"})}finally{b(!1),C(null)}},re=async ae=>{try{const{error:X}=await Je.from("welcome_popups").update({is_active:!ae.is_active,updated_at:new Date().toISOString()}).eq("id",ae.id);if(X)throw X;n({title:"Succs",description:`Popup ${ae.is_active?"dsactiv":"activ"}.`}),i(ne=>ne.map(de=>de.id===ae.id?{...de,is_active:!ae.is_active}:de)),t&&t()}catch(X){console.error("Erreur de changement de statut:",X),n({title:"Erreur",description:"Le changement de statut a chou.",variant:"destructive"})}};return s.jsxs(qt,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[s.jsxs(zr,{className:"flex flex-row items-center justify-between",children:[s.jsx(Wr,{className:"text-white",children:" Gestion des Popups de Bienvenue"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ue,{onClick:L,variant:"outline",size:"sm",disabled:o,className:"flex items-center gap-2",children:[s.jsx(qc,{className:`w-4 h-4 ${o?"animate-spin":""}`}),"Actualiser"]}),s.jsxs(Ue,{onClick:()=>{H(),h(!0)},className:"flex items-center gap-2",children:[s.jsx(h4,{className:"w-4 h-4"}),"Nouveau Popup"]})]})]}),s.jsxs(Xt,{children:[f&&s.jsxs("form",{onSubmit:J,className:"space-y-4 mb-8 p-4 border border-border/50 rounded-xl shadow-inner bg-background/30",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:c?" Modifier le Popup":" Ajouter un Popup"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"alt_text",className:"text-white",children:"Texte alternatif (pour le SEO)"}),s.jsx(er,{id:"alt_text",value:O.alt_text,onChange:ae=>M({...O,alt_text:ae.target.value}),placeholder:"Description de l'image",className:"bg-white/10 border-white/20 text-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"image_url",className:"text-white",children:"URL de l'image (ou tlverser)"}),s.jsx(er,{id:"image_url",value:O.image_url,onChange:ae=>M({...O,image_url:ae.target.value}),placeholder:"https://...",className:"bg-white/10 border-white/20 text-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"file-upload",className:"text-white",children:"Tlverser une image"}),s.jsx(er,{id:"file-upload",type:"file",accept:"image/*",onChange:ae=>T(ae.target.files[0]),className:"bg-white/10 border-white/20 text-white file:text-white"}),j&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("p",{className:"text-sm text-green-300",children:["Fichier slectionn: ",j.name]}),s.jsx("img",{src:URL.createObjectURL(j),alt:"Aperu",className:"w-32 h-32 object-contain mt-2 rounded border border-white/20"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zu,{id:"is_active",checked:O.is_active,onCheckedChange:ae=>M({...O,is_active:ae}),className:"data-[state=checked]:bg-primary"}),s.jsx(jt,{htmlFor:"is_active",className:"text-white cursor-pointer",children:"Actif"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-white/20",children:[s.jsx(Ue,{type:"button",variant:"ghost",onClick:H,className:"text-white hover:bg-white/20",children:"Annuler"}),s.jsxs(Ue,{type:"submit",disabled:g||!O.image_url&&!j,className:"bg-primary hover:bg-primary/90",children:[g&&s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),c?"Mettre  jour":"Enregistrer"]})]})]}),o?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Jt,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-white",children:"Chargement des popups..."})]}):a.length===0?s.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-white/20 rounded-xl",children:[s.jsx("p",{className:"text-white/70 mb-4",children:"Aucun popup de bienvenue configur"}),s.jsxs(Ue,{onClick:()=>{H(),h(!0)},variant:"outline",className:"border-white/30 text-white hover:bg-white/10",children:[s.jsx(h4,{className:"w-4 h-4 mr-2"}),"Crer votre premier popup"]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(ae=>s.jsxs("div",{className:`flex flex-col p-4 rounded-xl shadow-sm gap-4 transition-all ${ae.is_active?"bg-gradient-to-br from-green-900/20 to-green-900/5 border border-green-500/30":"bg-gradient-to-br from-red-900/20 to-red-900/5 border border-red-500/30"}`,children:[s.jsxs("div",{className:"flex-grow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${ae.is_active?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:`text-sm font-medium ${ae.is_active?"text-green-300":"text-red-300"}`,children:ae.is_active?"Actif":"Inactif"})]}),s.jsx("span",{className:"text-xs text-white/50",children:new Date(ae.created_at).toLocaleDateString()})]}),s.jsx("div",{className:"relative w-full h-48 mb-3",children:s.jsx("img",{src:ae.image_url,alt:ae.alt_text,className:"w-full h-full object-cover rounded-lg",onError:X=>{X.target.src="https://placehold.co/400x300/1a1a2e/ffffff?text=Image+non+charge"}})}),s.jsx("p",{className:"font-medium text-white mb-1 truncate",children:ae.alt_text||"Image sans description"}),s.jsxs("p",{className:"text-xs text-white/60 truncate",children:["URL: ",ae.image_url.substring(0,30),"..."]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>re(ae),className:"h-8 w-8 hover:bg-white/20",title:ae.is_active?"Dsactiver":"Activer",children:ae.is_active?s.jsx(L7,{className:"h-4 w-4 text-yellow-400"}):s.jsx(B7,{className:"h-4 w-4 text-green-400"})}),s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>U(ae),className:"h-8 w-8 hover:bg-white/20",title:"Modifier",children:s.jsx(f4,{className:"h-4 w-4 text-blue-400"})}),s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>K(ae.id),className:"h-8 w-8 hover:bg-white/20",title:"Supprimer",children:s.jsx(Yo,{className:"h-4 w-4 text-red-400"})})]}),s.jsxs("span",{className:"text-xs text-white/40",children:["ID: ",ae.id.substring(0,8),"..."]})]})]},ae.id))}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-white/60 pt-4 border-t border-white/10",children:[s.jsxs("div",{children:["Total: ",a.length," popup",a.length>1?"s":"","  Actifs: ",a.filter(ae=>ae.is_active).length,"  Inactifs:"," ",a.filter(ae=>!ae.is_active).length]}),s.jsxs("div",{className:"text-xs",children:["Dernire mise  jour: ",new Date().toLocaleTimeString()]})]})]})]}),s.jsx(hl,{open:N,onOpenChange:b,children:s.jsxs(Zo,{className:"bg-gray-900 border border-gray-700",children:[s.jsxs(Jo,{children:[s.jsx(Qo,{className:"text-white",children:"tes-vous sr ?"}),s.jsx(el,{className:"text-gray-300",children:"Cette action est irrversible. Le popup sera dfinitivement supprim de la base de donnes."})]}),s.jsxs(ml,{children:[s.jsx(gl,{className:"bg-gray-800 text-white border-gray-700 hover:bg-gray-700",children:"Annuler"}),s.jsx(pl,{onClick:G,className:"bg-red-600 hover:bg-red-700 text-white",children:"Supprimer"})]})]})})]})},mR=({onRefresh:e})=>{var G;const{t}=Xa(),{user:r}=bn(),{userProfile:n}=ai(),[a,i]=A.useState([]),[o,l]=A.useState([]),[c,u]=A.useState(null),[f,h]=A.useState(""),[g,p]=A.useState(""),[N,b]=A.useState(!1),[S,C]=A.useState(""),[j,T]=A.useState([]),[O,M]=A.useState(!0),[B,L]=A.useState(null),H=A.useCallback(async()=>{try{let re=Je.from("profiles").select("*");(n==null?void 0:n.user_type)==="secretary"&&(re=re.eq("country",n.country));const{data:ae,error:X}=await re;if(X)throw X;i(ae||[])}catch{ot({title:t("common.error_title"),description:"Impossible de charger les utilisateurs.",variant:"destructive"})}},[t,n]),U=A.useCallback(async()=>{M(!0);try{const{data:re,error:ae}=await Je.from("admin_logs").select("id, created_at, details, target_user:target_id (full_name, email)").eq("actor_id",r.id).eq("action_type","user_credited").order("created_at",{ascending:!1}).limit(10);if(ae)throw ae;T(re.filter(X=>{var ne;return!((ne=X.details)!=null&&ne.reversed)})||[])}catch{ot({title:t("common.error_title"),description:"Impossible de charger l'historique.",variant:"destructive"})}finally{M(!1)}},[r.id,t]);A.useEffect(()=>{H(),U()},[H,U]),A.useEffect(()=>{if(S===""){l([]);return}const re=S.toLowerCase(),ae=a.filter(X=>{var ne,de;return((ne=X.full_name)==null?void 0:ne.toLowerCase().includes(re))||((de=X.email)==null?void 0:de.toLowerCase().includes(re))});l(ae)},[S,a]);const J=async re=>{if(re.preventDefault(),!c||!f||parseInt(f)<=0){ot({title:t("common.error_title"),description:"Veuillez remplir tous les champs.",variant:"destructive"});return}b(!0);try{const{data:ae,error:X}=await Je.rpc("credit_user_coins",{p_user_id:c.id,p_amount:parseInt(f),p_reason:g,p_creditor_id:r.id});if(X)throw new Error(X.message);if(!ae.success)throw new Error(ae.message);ot({title:"Succs",description:`${c.full_name} a t crdit de ${f} pices.`}),u(null),h(""),p(""),C(""),U(),e&&e()}catch(ae){ot({title:t("common.error_title"),description:ae.message,variant:"destructive"})}finally{b(!1)}},K=async()=>{if(B){b(!0);try{const{data:re,error:ae}=await Je.rpc("reverse_credit",{p_log_id:B.id,p_reverser_id:r.id});if(ae)throw new Error(ae.message);if(!re.success)throw new Error(re.message);ot({title:"Succs",description:"Le crdit a t annul."}),U(),e&&e()}catch(re){ot({title:t("common.error_title"),description:re.message,variant:"destructive"})}finally{b(!1),L(null)}}};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(qt,{className:"glass-effect",children:[s.jsx(zr,{children:s.jsx(Wr,{children:t("secretary_dashboard.credit_form.title")})}),s.jsx(Xt,{children:s.jsxs("form",{onSubmit:J,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"user-search",children:t("secretary_dashboard.credit_form.search_user_label")}),s.jsxs("div",{className:"relative",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(er,{id:"user-search",placeholder:t("secretary_dashboard.credit_form.search_user_placeholder"),value:S,onChange:re=>C(re.target.value),className:"pl-10"})]})]}),S&&s.jsxs("div",{children:[s.jsx(jt,{htmlFor:"user-select",children:t("secretary_dashboard.credit_form.user_label")}),s.jsxs(Ai,{onValueChange:re=>u(a.find(ae=>ae.id===re)),children:[s.jsx(vi,{id:"user-select",children:s.jsx(Ei,{placeholder:t("secretary_dashboard.credit_form.select_user_placeholder")})}),s.jsx(yi,{children:o.map(re=>s.jsxs(on,{value:re.id,children:[re.full_name," (",re.email,")"]},re.id))})]})]}),s.jsxs("div",{children:[s.jsx(jt,{htmlFor:"amount",children:t("secretary_dashboard.credit_form.amount_label")}),s.jsx(er,{id:"amount",type:"number",value:f,onChange:re=>h(re.target.value),placeholder:t("secretary_dashboard.credit_form.amount_placeholder")})]}),s.jsxs("div",{children:[s.jsx(jt,{htmlFor:"reason",children:t("secretary_dashboard.credit_form.reason_label")}),s.jsx(er,{id:"reason",type:"text",value:g,onChange:re=>p(re.target.value),placeholder:t("secretary_dashboard.credit_form.reason_placeholder")})]}),s.jsxs(Ue,{type:"submit",disabled:N||!c,className:"w-full",children:[N?s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(z7,{className:"w-4 h-4 mr-2"}),t("secretary_dashboard.credit_form.submit_button")]})]})})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(qt,{className:"glass-effect",children:[s.jsxs(zr,{children:[s.jsx(Wr,{children:"Mes 10 derniers crdits"}),s.jsx(Ya,{children:"Liste de vos crdits les plus rcents qui n'ont pas t annuls."})]}),s.jsx(Xt,{children:O?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Jt,{className:"animate-spin text-primary"})}):j.length>0?s.jsx("div",{className:"space-y-3",children:j.map(re=>{var ae;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:(ae=re.target_user)==null?void 0:ae.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(re.created_at).toLocaleString()})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"font-bold flex items-center gap-1",children:[re.details.amount," ",s.jsx(za,{className:"w-4 h-4 text-yellow-400"})]}),s.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>L(re),children:s.jsx(o1,{className:"w-4 h-4 text-red-500"})})]})]},re.id)})}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucun crdit effectu rcemment."})})]})}),s.jsx(hl,{open:!!B,onOpenChange:()=>L(null),children:s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:"Confirmer l'annulation"}),s.jsxs(el,{children:["Voulez-vous vraiment annuler ce crdit de ",B==null?void 0:B.details.amount," pices pour ",(G=B==null?void 0:B.target_user)==null?void 0:G.full_name,"? Cette action est irrversible et dduira le montant du solde de l'utilisateur."]})]}),s.jsxs(ml,{children:[s.jsx(gl,{children:"Non"}),s.jsx(pl,{onClick:K,children:"Oui, annuler"})]})]})})]})},C2t=()=>{const{userProfile:e,adminConfig:t}=ai(),[r,n]=A.useState([]),[a,i]=A.useState(!0),[o,l]=A.useState(""),[c,u]=A.useState({totalCoins:0,totalFCFA:0,totalEUR:0,totalUSD:0}),f=(t==null?void 0:t.coin_to_fcfa_rate)||10,h=(t==null?void 0:t.currency_eur_rate)||650,g=(t==null?void 0:t.currency_usd_rate)||550,p=A.useCallback(async()=>{if(e!=null&&e.country){i(!0);try{const{data:b,error:S}=await Je.from("profiles").select("id").in("user_type",["super_admin","secretary"]);if(S)throw S;const C=b.map(J=>J.id);let j=Je.from("admin_logs").select(`
          id,
          created_at,
          details,
          actor:actor_id (full_name, user_type),
          target_user:target_id (full_name, email, country, city)
        `).in("actor_id",C).eq("action_type","user_credited").eq("target_user.country",e.country).order("created_at",{ascending:!1});o&&(j=j.or(`target_user.full_name.ilike.%${o}%,target_user.email.ilike.%${o}%`));const{data:T,error:O}=await j;if(O)throw O;const M=T.filter(J=>{var K;return!((K=J.details)!=null&&K.reversed)});n(M);const B=M.reduce((J,K)=>{var G;return J+(((G=K.details)==null?void 0:G.amount)||0)},0),L=B*f,H=L/h,U=L/g;u({totalCoins:B,totalFCFA:L,totalEUR:H,totalUSD:U})}catch(b){ot({title:"Erreur",description:"Impossible de charger l'historique des crdits.",variant:"destructive"}),console.error(b)}finally{i(!1)}}},[e==null?void 0:e.country,o,f,h,g]);A.useEffect(()=>{p()},[p]);const N=(b,S="FCFA")=>new Intl.NumberFormat("fr-FR",{style:S!=="FCFA"?"currency":void 0,currency:S==="EUR"?"EUR":S==="USD"?"USD":void 0,minimumFractionDigits:0,maximumFractionDigits:0}).format(b)+(S==="FCFA"?" FCFA":"");return s.jsxs(qt,{className:"glass-effect shadow-lg",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"flex items-center gap-2",children:[s.jsx(Cd,{className:"w-6 h-6 text-green-500"}),"Historique des Crdits",s.jsxs(Vr,{variant:"secondary",className:"ml-2",children:["Zone: ",e==null?void 0:e.country]})]}),s.jsx("p",{className:"text-muted-foreground",children:"Liste des utilisateurs de votre pays crdits par les Super Admins et secrtaires."})]}),s.jsxs(Xt,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsx(qt,{className:"bg-gradient-to-br from-amber-50 to-amber-100 border-amber-200",children:s.jsx(Xt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Total Pices"}),s.jsx("p",{className:"text-2xl font-bold text-amber-900",children:c.totalCoins.toLocaleString("fr-FR")})]}),s.jsx("div",{className:"p-2 bg-amber-500 rounded-full",children:s.jsx(za,{className:"w-6 h-6 text-white"})})]})})}),s.jsx(qt,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:s.jsxs(Xt,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Valeur FCFA"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:N(c.totalFCFA)})]}),s.jsx("div",{className:"p-2 bg-green-500 rounded-full",children:s.jsx(Cd,{className:"w-6 h-6 text-white"})})]}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Taux: 1 = ",f," FCFA"]})]})}),s.jsx(qt,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:s.jsxs(Xt,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Valeur EUR"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:N(c.totalEUR,"EUR")})]}),s.jsx("div",{className:"p-2 bg-blue-500 rounded-full",children:s.jsx(Kwe,{className:"w-6 h-6 text-white"})})]}),s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["1 = ",h.toLocaleString("fr-FR")," FCFA"]})]})}),s.jsx(qt,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:s.jsxs(Xt,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Valeur USD"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:N(c.totalUSD,"USD")})]}),s.jsx("div",{className:"p-2 bg-purple-500 rounded-full",children:s.jsx(Eh,{className:"w-6 h-6 text-white"})})]}),s.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["1$ = ",g.toLocaleString("fr-FR")," FCFA"]})]})})]}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(er,{placeholder:"Rechercher par nom ou email d'utilisateur...",value:o,onChange:b=>l(b.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsxs("span",{children:[r.length," crdit(s) distribus"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsxs("span",{children:["Moyenne: ",r.length>0?Math.round(c.totalCoins/r.length):0," par crdit"]})]})]}),a?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Jt,{className:"animate-spin text-primary w-8 h-8"})}):s.jsxs(cf,{children:[s.jsx(uf,{children:s.jsxs(pi,{children:[s.jsx(Sn,{children:"Utilisateur Crdit"}),s.jsx(Sn,{children:"Localisation"}),s.jsx(Sn,{children:"Montant"}),s.jsx(Sn,{children:"Valeur FCFA"}),s.jsx(Sn,{children:"Crdit par"}),s.jsx(Sn,{children:"Date"})]})}),s.jsx(df,{children:r.length===0?s.jsx(pi,{children:s.jsxs(rn,{colSpan:"6",className:"text-center py-8 text-muted-foreground",children:[s.jsx(za,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Aucun crdit trouv dans votre zone."})]})}):r.map(b=>{var j,T,O,M,B,L,H,U;const S=((j=b.details)==null?void 0:j.amount)||0,C=S*f;return s.jsxs(pi,{className:"hover:bg-muted/50",children:[s.jsxs(rn,{children:[s.jsx("p",{className:"font-semibold",children:((T=b.target_user)==null?void 0:T.full_name)||"Utilisateur inconnu"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(O=b.target_user)==null?void 0:O.email})]}),s.jsxs(rn,{children:[s.jsx("p",{className:"font-medium",children:((M=b.target_user)==null?void 0:M.city)||"N/A"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(B=b.target_user)==null?void 0:B.country})]}),s.jsx(rn,{children:s.jsxs("div",{className:"flex items-center gap-1 font-bold text-amber-600",children:[S.toLocaleString("fr-FR"),s.jsx(za,{className:"w-4 h-4"})]})}),s.jsx(rn,{className:"text-green-600 font-semibold",children:N(C)}),s.jsxs(rn,{children:[s.jsx("p",{className:"font-medium",children:(L=b.actor)==null?void 0:L.full_name}),s.jsx(Vr,{variant:"outline",className:"text-xs capitalize",children:((U=(H=b.actor)==null?void 0:H.user_type)==null?void 0:U.replace("_"," "))||"Admin"})]}),s.jsxs(rn,{className:"text-sm text-muted-foreground",children:[new Date(b.created_at).toLocaleDateString("fr-FR"),s.jsx("br",{}),s.jsx("span",{className:"text-xs",children:new Date(b.created_at).toLocaleTimeString("fr-FR")})]})]},b.id)})})]})]})]})},A2t=({badge:e,onToggle:t})=>{const n=(a=>{const i={starter:{gradient:"from-gray-500 to-gray-700",icon:"",title:"Ambassadeur de Ville"},business:{gradient:"from-green-500 to-green-700",icon:"",title:"Ambassadeur Rgional"},premium:{gradient:"from-yellow-500 to-yellow-700",icon:"",title:"Ambassadeur National"}};return i[e.license_type]||i.starter})(e.license_type);return s.jsxs(qt,{className:`overflow-hidden transition-all duration-300 ${e.is_active?"border-primary/50 shadow-lg":"border-border opacity-70"} rounded-xl`,children:[s.jsx(zr,{className:`bg-gradient-to-r ${n.gradient} text-white p-4`,children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-2xl",children:n.icon}),s.jsxs("div",{children:[s.jsx(Wr,{className:"text-lg text-white",children:e.partner_name}),s.jsx(Ya,{className:"text-white/80 text-sm",children:n.title})]})]})})}),s.jsxs(Xt,{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:[s.jsx(Eo,{className:"w-4 h-4"})," Zone"]}),s.jsx("span",{className:"font-semibold",children:e.zone})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:[s.jsx(Rte,{className:"w-4 h-4"})," ID Badge"]}),s.jsx("code",{className:"text-xs font-mono bg-muted px-2 py-1 rounded",children:e.badge_id})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t mt-3",children:[s.jsx("label",{htmlFor:`toggle-${e.id}`,className:"text-sm font-medium",children:e.is_active?"Activ":"Dsactiv"}),s.jsx(Zd,{id:`toggle-${e.id}`,checked:e.is_active,onCheckedChange:a=>t(e.id,a)})]})]})]})},E2t=()=>{const{badges:e,loading:t,toggleBadgeStatus:r,refreshBadges:n}=noe();return t?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(Jt,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs(qt,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[s.jsxs(zr,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(Wr,{className:"text-white",children:"Gestion des Badges Partenaires"}),s.jsxs(Ya,{children:[e.filter(a=>a.is_active).length," badge(s) actif(s) sur ",e.length," au total."]})]}),s.jsxs(Ue,{onClick:n,size:"sm",variant:"outline",children:[s.jsx(qc,{className:"w-4 h-4 mr-2"})," Actualiser"]})]}),s.jsxs(Xt,{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(a=>s.jsx(A2t,{badge:a,onToggle:r},a.id))}),e.length===0&&s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Rte,{className:"w-12 h-12 mx-auto mb-4"}),s.jsx("p",{className:"text-lg",children:"Aucun badge partenaire trouv."})]})]})]})},qZ=({users:e,onRefresh:t})=>{const{userProfile:r}=ai(),[n,a]=A.useState(!1),[i,o]=A.useState(""),[l,c]=A.useState(!1),[u,f]=A.useState([]),h=(r==null?void 0:r.user_type)==="super_admin",g=(r==null?void 0:r.user_type)==="admin";A.useEffect(()=>{if(h){const O=e.filter(M=>M.user_type==="admin");f(O)}},[e,h]);const p=A.useMemo(()=>h?e.filter(O=>O.user_type==="secretary"):g?e.filter(O=>O.user_type==="secretary"&&O.appointed_by===r.id):[],[e,h,g,r]),N=A.useMemo(()=>e.filter(O=>(O.user_type==="user"||O.user_type==="organizer")&&O.country===r.country),[e,r]),b=async(O,M)=>{await Je.from("admin_logs").insert({actor_id:r.id,action_type:O,target_id:M})},S=async(O,M,B=null)=>{c(!0);try{const{error:L}=await Je.from("profiles").update({user_type:M,appointed_by:M==="secretary"?B:null}).eq("id",O);if(L)throw L;await b(M==="secretary"?"secretary_appointed":"secretary_revoked",O),ot({title:"Rle mis  jour avec succs"}),t(),a(!1),o("")}catch(L){ot({title:"Erreur",description:L.message,variant:"destructive"})}finally{c(!1)}},C=()=>{if(!i){ot({title:"Veuillez slectionner un utilisateur",variant:"destructive"});return}S(i,"secretary",r.id)},j=O=>{S(O,"user")},T=O=>{if(!h)return null;const M=u.find(B=>B.id===O);return M?{name:M.full_name,country:M.country}:null};return s.jsxs(s.Fragment,{children:[s.jsxs(qt,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[s.jsxs(zr,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsx(Wr,{className:"text-white",children:"Gestion des secrtaires"}),(h||g)&&s.jsxs(Ue,{onClick:()=>a(!0),children:[s.jsx(z7,{className:"w-4 h-4 mr-2"}),"Nommer un secrtaire"]})]}),s.jsx(Xt,{children:s.jsxs("div",{className:"space-y-4",children:[p.map(O=>{var B,L;const M=T(O.appointed_by);return s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-background/50 rounded-xl shadow-sm gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(_1,{className:"w-12 h-12",children:[s.jsx(N1,{src:O.avatar_url}),s.jsx(S1,{className:"bg-purple-500 text-white",children:(L=(B=O.full_name)==null?void 0:B.charAt(0))==null?void 0:L.toUpperCase()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white",children:O.full_name}),s.jsx("p",{className:"text-sm text-gray-400",children:O.email}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[s.jsx(Vr,{className:"bg-purple-500 text-white text-xs",children:"Secrtaire"}),M&&s.jsxs(Vr,{variant:"secondary",className:"text-xs",children:[s.jsx(v1,{className:"w-3 h-3 mr-1"})," Nomm par: ",M.name]}),(M==null?void 0:M.country)&&s.jsxs(Vr,{variant:"outline",className:"text-xs",children:[s.jsx(p0,{className:"w-3 h-3 mr-1"})," ",M.country]})]})]})]}),s.jsx("div",{className:"flex items-center space-x-2 flex-shrink-0",children:s.jsxs(Ue,{size:"sm",variant:"destructive",onClick:()=>j(O.id),disabled:l,children:[l?s.jsx(Jt,{className:"w-4 h-4 animate-spin"}):s.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Rvoquer"]})})]},O.id)}),p.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(my,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Aucun secrtaire nomm"})]})]})})]}),s.jsx(To,{open:n,onOpenChange:a,children:s.jsxs(xo,{children:[s.jsxs(ko,{children:[s.jsx(Po,{children:"Nommer un nouveau secrtaire"}),s.jsx(dl,{children:"Slectionnez un utilisateur de votre zone pour lui attribuer le rle de secrtaire."})]}),s.jsx("div",{className:"py-4",children:s.jsxs(Ai,{onValueChange:o,children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Slectionnez un utilisateur..."})}),s.jsx(yi,{children:N.map(O=>s.jsxs(on,{value:O.id,children:[O.full_name," (",O.email,")"]},O.id))})]})}),s.jsxs(Jc,{children:[s.jsx(Ue,{variant:"outline",onClick:()=>a(!1),children:"Annuler"}),s.jsx(Ue,{onClick:C,disabled:l||!i,children:l?s.jsx(Jt,{className:"w-4 h-4 animate-spin"}):"Confirmer"})]})]})})]})},j2t=5*60*1e3,GZ=50,T2t=1e4,k2t=({country:e,initialTransactions:t})=>{const[r,n]=A.useState([]),[a,i]=A.useState(!0),[o,l]=A.useState(null),[c,u]=A.useState("all"),[f,h]=A.useState(""),[g,p]=A.useState(0),[N,b]=A.useState(!0);A.useState(0);const S=A.useRef({}),C=A.useCallback(async(M=!1,B=0)=>{const L=performance.now(),H=`${e||"all"}-${c}-${f}-${g}`;if(!M&&S.current[H]&&Date.now()-S.current[H].timestamp<j2t){console.log("Using cached transactions"),n(S.current[H].data),i(!1);return}i(!0),l(null);try{const U=new Promise((X,ne)=>setTimeout(()=>ne(new Error("Request timed out")),T2t)),J=(async()=>{let X;const ne=g*GZ,de=ne+GZ-1;e?(X=Je.from("transactions").select("*",{count:"exact"}).eq("country",e).order("created_at",{ascending:!1}).range(ne,de),c!=="all"&&(X=X.eq("transaction_type",c)),f&&(X=X.ilike("description",`%${f}%`))):(X=Je.from("coin_spending").select(`
              id, amount, description, created_at, purpose,
              user:user_id (full_name, email)
            `,{count:"exact"}).order("created_at",{ascending:!1}).range(ne,de),c!=="all"&&(X=X.eq("purpose",c)),f&&(X=X.or(`description.ilike.%${f}%`)));const{data:le,error:xe,count:Se}=await X;if(xe)throw xe;return{data:le,count:Se}})(),{data:K,count:G}=await Promise.race([J,U]),re=K.map(X=>{var ne,de;return{id:X.id,user_full_name:X.user_full_name||((ne=X.user)==null?void 0:ne.full_name)||"Utilisateur",user_email:X.user_email||((de=X.user)==null?void 0:de.email)||"-",description:X.description||X.purpose,amount:X.amount||X.amount_pi,type:X.type||X.purpose||X.transaction_type,created_at:X.created_at,status:X.status||"completed"}});n(X=>M?[...X,...re]:re),b(r.length+re.length<G),S.current[H]={data:re,timestamp:Date.now()};const ae=performance.now()-L;console.log(`Transactions fetched in ${ae.toFixed(2)}ms`)}catch(U){if(console.error("Error fetching transactions:",U),B<3){const J=Math.pow(2,B)*1e3;console.log(`Retrying in ${J}ms (Attempt ${B+1}/3)...`),setTimeout(()=>C(M,B+1),J)}else l(U.message||"Erreur de chargement"),ot({title:"Erreur",description:"Impossible de charger les transactions.",variant:"destructive"})}finally{i(!1)}},[e,c,f,g]);A.useEffect(()=>{p(0),C(!1)},[C]);const j=()=>{if(r.length===0){ot({title:"Aucune donne  exporter",variant:"destructive"});return}const M=r.map(B=>({id:B.id,user:B.user_full_name,email:B.user_email,description:B.description,amount:B.amount,type:B.type,date:new Date(B.created_at).toLocaleString("fr-FR"),status:B.status}));Jme({data:M,headers:[{label:"ID",key:"id"},{label:"Utilisateur",key:"user"},{label:"Email",key:"email"},{label:"Description",key:"description"},{label:"Montant",key:"amount"},{label:"Type",key:"type"},{label:"Date",key:"date"},{label:"Statut",key:"status"}],sheetName:"Transactions",fileName:`transactions_${new Date().toISOString().split("T")[0]}.xlsx`}),ot({title:"Succs",description:"Exportation termine."})},T=M=>M>0?s.jsx(Mwe,{className:"w-4 h-4 text-red-400"}):s.jsx(Dwe,{className:"w-4 h-4 text-green-400"}),O=M=>M>0?"text-red-400":"text-green-400";return s.jsxs(qt,{className:"glass-effect shadow-lg rounded-xl border-primary/20",children:[s.jsxs(zr,{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[s.jsxs(Wr,{className:"text-white flex items-center gap-2",children:[" Transactions ",a&&s.jsx(Jt,{className:"w-4 h-4 animate-spin text-muted-foreground"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ue,{variant:"outline",size:"sm",onClick:()=>C(!1),disabled:a,children:[s.jsx(qc,{className:`w-4 h-4 mr-2 ${a?"animate-spin":""}`}),"Actualiser"]}),s.jsxs(Ue,{variant:"outline",size:"sm",onClick:j,children:[s.jsx(Ym,{className:"w-4 h-4 mr-2"}),"Exporter"]})]})]}),s.jsxs(Xt,{children:[s.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Il,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(er,{type:"text",placeholder:"Rechercher...",className:"pl-10 w-full",value:f,onChange:M=>h(M.target.value)})]}),s.jsxs(Ai,{value:c,onValueChange:u,children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Tous les types"})}),s.jsxs(yi,{children:[s.jsx(on,{value:"all",children:"Tous les types"}),s.jsx(on,{value:"manual_credit",children:"Crdit (Manuel)"}),s.jsx(on,{value:"raffle_ticket",children:"Ticket Tombola"}),s.jsx(on,{value:"vote",children:"Vote"}),s.jsx(on,{value:"ticket_purchase",children:"Achat Ticket"}),s.jsx(on,{value:"stand_rental",children:"Location Stand"})]})]})]}),o&&s.jsxs("div",{className:"p-4 mb-4 bg-destructive/10 border border-destructive/20 rounded-lg flex items-center justify-between text-destructive",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wu,{className:"w-5 h-5"}),s.jsx("span",{children:o})]}),s.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>C(!1),className:"border-destructive/30 hover:bg-destructive/20",children:"Ressayer"})]}),a&&r.length===0?s.jsxs("div",{className:"space-y-3",children:[s.jsx($c,{className:"h-12 w-full"}),s.jsx($c,{className:"h-12 w-full"}),s.jsx($c,{className:"h-12 w-full"}),s.jsx("div",{className:"text-center text-sm text-muted-foreground animate-pulse",children:"Chargement des transactions..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto rounded-md border border-gray-800",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black/20",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left",children:"ID"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Utilisateur"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Description"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Montant"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left",children:"Statut"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-800",children:r.length>0?r.map(M=>s.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4 font-mono text-xs text-gray-500",children:[M.id.slice(0,8),"..."]}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-medium text-white",children:M.user_full_name}),s.jsx("div",{className:"text-xs text-gray-500",children:M.user_email})]}),s.jsx("td",{className:"px-6 py-4 text-gray-300",children:M.description||M.type}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-1",children:[T(M.amount),s.jsx("span",{className:`font-bold ${O(M.amount)}`,children:Math.abs(M.amount)}),s.jsx(za,{className:"w-3 h-3 text-yellow-500"})]})}),s.jsxs("td",{className:"px-6 py-4 text-gray-400",children:[new Date(M.created_at).toLocaleDateString(),s.jsx("span",{className:"block text-xs opacity-70",children:new Date(M.created_at).toLocaleTimeString()})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(Vr,{variant:M.status==="completed"?"success":M.status==="pending"?"warning":"destructive",children:M.status})})]},M.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:"Aucune transaction trouve"})})})]})}),N&&s.jsx("div",{className:"mt-4 text-center",children:s.jsxs(Ue,{variant:"secondary",onClick:()=>{p(M=>M+1),C(!0)},disabled:a,children:[a?s.jsx(Jt,{className:"w-4 h-4 animate-spin mr-2"}):null,"Charger plus de transactions"]})})]})]})]})};var Oa=function(){return Oa=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Oa.apply(this,arguments)};function P2t(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Qme(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function j3(e){return e.mode==="multiple"}function T3(e){return e.mode==="range"}function UT(e){return e.mode==="single"}var O2t={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function I2t(e,t){return mi(e,"LLLL y",t)}function F2t(e,t){return mi(e,"d",t)}function D2t(e,t){return mi(e,"LLLL",t)}function R2t(e){return"".concat(e)}function M2t(e,t){return mi(e,"cccccc",t)}function L2t(e,t){return mi(e,"yyyy",t)}var B2t=Object.freeze({__proto__:null,formatCaption:I2t,formatDay:F2t,formatMonthCaption:D2t,formatWeekNumber:R2t,formatWeekdayName:M2t,formatYearCaption:L2t}),U2t=function(e,t,r){return mi(e,"do MMMM (EEEE)",r)},$2t=function(){return"Month: "},z2t=function(){return"Go to next month"},V2t=function(){return"Go to previous month"},W2t=function(e,t){return mi(e,"cccc",t)},H2t=function(e){return"Week n. ".concat(e)},q2t=function(){return"Year: "},G2t=Object.freeze({__proto__:null,labelDay:U2t,labelMonthDropdown:$2t,labelNext:z2t,labelPrevious:V2t,labelWeekNumber:H2t,labelWeekday:W2t,labelYearDropdown:q2t});function K2t(){var e="buttons",t=O2t,r=lL,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:B2t,labels:G2t,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Y2t(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Nd(n):t&&(i=new Date(t,0,1)),a?o=sL(a):r&&(o=new Date(r,11,31)),{fromDate:i?wy(i):void 0,toDate:o?wy(o):void 0}}var epe=A.createContext(void 0);function X2t(e){var t,r=e.initialProps,n=K2t(),a=Y2t(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(UT(r)||j3(r)||T3(r))&&(c=r.onSelect);var u=Oa(Oa(Oa({},n),r),{captionLayout:l,classNames:Oa(Oa({},n.classNames),r.classNames),components:Oa({},r.components),formatters:Oa(Oa({},n.formatters),r.formatters),fromDate:i,labels:Oa(Oa({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Oa(Oa({},n.modifiers),r.modifiers),modifiersClassNames:Oa(Oa({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Oa(Oa({},n.styles),r.styles),toDate:o});return s.jsx(epe.Provider,{value:u,children:e.children})}function Gs(){var e=A.useContext(epe);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function tpe(e){var t=Gs(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Z2t(e){return s.jsx("svg",Oa({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function rpe(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=Gs(),f=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Z2t;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(f,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function J2t(e){var t,r=Gs(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,f=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var h=[];if(rIe(n,a))for(var g=Nd(n),p=n.getMonth();p<=a.getMonth();p++)h.push(Vk(g,p));else for(var g=Nd(new Date),p=0;p<=11;p++)h.push(Vk(g,p));var N=function(S){var C=Number(S.target.value),j=Vk(Nd(e.displayMonth),C);e.onChange(j)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:rpe;return s.jsx(b,{name:"months","aria-label":f(),className:c.dropdown_month,style:i.dropdown_month,onChange:N,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(S){return s.jsx("option",{value:S.getMonth(),children:l(S,{locale:o})},S.getMonth())})})}function Q2t(e){var t,r=e.displayMonth,n=Gs(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,f=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,g=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var p=a.getFullYear(),N=i.getFullYear(),b=p;b<=N;b++)g.push(lH(ooe(new Date),b));var S=function(j){var T=lH(Nd(r),Number(j.target.value));e.onChange(T)},C=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:rpe;return s.jsx(C,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:S,value:r.getFullYear(),caption:f(r,{locale:o}),children:g.map(function(j){return s.jsx("option",{value:j.getFullYear(),children:f(j,{locale:o})},j.getFullYear())})})}function eyt(e,t){var r=A.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function tyt(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&C4(i,a)<0){var u=-1*(c-1);a=$h(i,u)}return o&&C4(a,o)<0&&(a=o),Nd(a)}function ryt(){var e=Gs(),t=tyt(e),r=eyt(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Nd(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function nyt(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Nd(e),i=Nd($h(a,n)),o=C4(i,a),l=[],c=0;c<o;c++){var u=$h(a,c);l.push(u)}return r&&(l=l.reverse()),l}function ayt(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Nd(e);if(!r)return $h(l,o);var c=C4(r,e);if(!(c<i))return $h(l,o)}}function iyt(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Nd(e);if(!r)return $h(l,-o);var c=C4(l,r);if(!(c<=0))return $h(l,-o)}}var npe=A.createContext(void 0);function syt(e){var t=Gs(),r=ryt(),n=r[0],a=r[1],i=nyt(n,t),o=ayt(n,t),l=iyt(n,t),c=function(h){return i.some(function(g){return cL(h,g)})},u=function(h,g){c(h)||(g&&moe(h,g)?a($h(h,1+t.numberOfMonths*-1)):a(h))},f={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(npe.Provider,{value:f,children:e.children})}function k3(){var e=A.useContext(npe);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function KZ(e){var t,r=Gs(),n=r.classNames,a=r.styles,i=r.components,o=k3().goToMonth,l=function(f){o($h(f,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:tpe,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(J2t,{onChange:l,displayMonth:e.displayMonth}),s.jsx(Q2t,{onChange:l,displayMonth:e.displayMonth})]})}function oyt(e){return s.jsx("svg",Oa({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function lyt(e){return s.jsx("svg",Oa({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var XE=A.forwardRef(function(e,t){var r=Gs(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Oa(Oa({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Oa({},e,{ref:t,type:"button",className:o,style:l}))});function cyt(e){var t,r,n=Gs(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,f=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var g=u(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),N=f(e.nextMonth,{locale:i}),b=[o.nav_button,o.nav_button_next].join(" "),S=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:lyt,C=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:oyt;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(XE,{name:"previous-month","aria-label":g,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(S,{className:o.nav_icon,style:l.nav_icon}):s.jsx(C,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(XE,{name:"next-month","aria-label":N,className:b,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(C,{className:o.nav_icon,style:l.nav_icon}):s.jsx(S,{className:o.nav_icon,style:l.nav_icon})})]})}function YZ(e){var t=Gs().numberOfMonths,r=k3(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(N){return cL(e.displayMonth,N)}),c=l===0,u=l===o.length-1,f=t>1&&(c||!u),h=t>1&&(u||!c),g=function(){n&&i(n)},p=function(){a&&i(a)};return s.jsx(cyt,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:h,nextMonth:a,previousMonth:n,onPreviousClick:g,onNextClick:p})}function uyt(e){var t,r=Gs(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:tpe,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(KZ,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(KZ,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(YZ,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(YZ,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function dyt(e){var t=Gs(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function fyt(e,t,r){for(var n=r?_x(new Date):B0(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Lu(n,i);a.push(o)}return a}function hyt(){var e=Gs(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=fyt(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(f,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(f,{locale:a}),children:l(f,{locale:a})},h)})]})}function myt(){var e,t=Gs(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:hyt;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function pyt(e){var t=Gs(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var fB=A.createContext(void 0);function gyt(e){if(!j3(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(fB.Provider,{value:t,children:e.children})}return s.jsx(xyt,{initialProps:e.initialProps,children:e.children})}function xyt(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,f,h){var g,p;(g=t.onDayClick)===null||g===void 0||g.call(t,u,f,h);var N=!!(f.selected&&a&&(n==null?void 0:n.length)===a);if(!N){var b=!!(!f.selected&&i&&(n==null?void 0:n.length)===i);if(!b){var S=n?Qme([],n,!0):[];if(f.selected){var C=S.findIndex(function(j){return pd(u,j)});S.splice(C,1)}else S.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,S,u,f,h)}}},l={disabled:[]};n&&l.disabled.push(function(u){var f=i&&n.length>i-1,h=n.some(function(g){return pd(g,u)});return!!(f&&!h)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(fB.Provider,{value:c,children:r})}function hB(){var e=A.useContext(fB);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function vyt(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?pd(a,e)&&pd(n,e)?void 0:pd(a,e)?{from:a,to:void 0}:pd(n,e)?void 0:iF(n,e)?{from:e,to:a}:{from:n,to:e}:a?iF(e,a)?{from:a,to:e}:{from:e,to:a}:n?moe(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var mB=A.createContext(void 0);function yyt(e){if(!T3(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(mB.Provider,{value:t,children:e.children})}return s.jsx(byt,{initialProps:e.initialProps,children:e.children})}function byt(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(p,N,b){var S,C;(S=t.onDayClick)===null||S===void 0||S.call(t,p,N,b);var j=vyt(p,n);(C=t.onSelect)===null||C===void 0||C.call(t,j,p,N,b)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(f.range_start=[i],o?(f.range_end=[o],pd(i,o)||(f.range_middle=[{after:i,before:o}])):f.range_end=[i]):o&&(f.range_start=[o],f.range_end=[o]),l&&(i&&!o&&f.disabled.push({after:z2(i,l-1),before:Lu(i,l-1)}),i&&o&&f.disabled.push({after:i,before:Lu(i,l-1)}),!i&&o&&f.disabled.push({after:z2(o,l-1),before:Lu(o,l-1)})),c){if(i&&!o&&(f.disabled.push({before:Lu(i,-c+1)}),f.disabled.push({after:Lu(i,c-1)})),i&&o){var h=kh(o,i)+1,g=c-h;f.disabled.push({before:z2(i,g)}),f.disabled.push({after:Lu(o,g)})}!i&&o&&(f.disabled.push({before:Lu(o,-c+1)}),f.disabled.push({after:Lu(o,c-1)}))}return s.jsx(mB.Provider,{value:{selected:n,onDayClick:u,modifiers:f},children:r})}function pB(){var e=A.useContext(mB);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function SC(e){return Array.isArray(e)?Qme([],e,!0):e!==void 0?[e]:[]}function wyt(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=SC(a)}),t}var Vh;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Vh||(Vh={}));var _yt=Vh.Selected,um=Vh.Disabled,Nyt=Vh.Hidden,Syt=Vh.Today,cO=Vh.RangeEnd,uO=Vh.RangeMiddle,dO=Vh.RangeStart,Cyt=Vh.Outside;function Ayt(e,t,r){var n,a=(n={},n[_yt]=SC(e.selected),n[um]=SC(e.disabled),n[Nyt]=SC(e.hidden),n[Syt]=[e.today],n[cO]=[],n[uO]=[],n[dO]=[],n[Cyt]=[],n);return e.fromDate&&a[um].push({before:e.fromDate}),e.toDate&&a[um].push({after:e.toDate}),j3(e)?a[um]=a[um].concat(t.modifiers[um]):T3(e)&&(a[um]=a[um].concat(r.modifiers[um]),a[dO]=r.modifiers[dO],a[uO]=r.modifiers[uO],a[cO]=r.modifiers[cO]),a}var ape=A.createContext(void 0);function Eyt(e){var t=Gs(),r=hB(),n=pB(),a=Ayt(t,r,n),i=wyt(t.modifiers),o=Oa(Oa({},a),i);return s.jsx(ape.Provider,{value:o,children:e.children})}function ipe(){var e=A.useContext(ape);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function jyt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Tyt(e){return!!(e&&typeof e=="object"&&"from"in e)}function kyt(e){return!!(e&&typeof e=="object"&&"after"in e)}function Pyt(e){return!!(e&&typeof e=="object"&&"before"in e)}function Oyt(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Iyt(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=kh(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=kh(e,n)>=0&&kh(a,e)>=0;return o}return a?pd(a,e):n?pd(n,e):!1}function Fyt(e){return iL(e)}function Dyt(e){return Array.isArray(e)&&e.every(iL)}function Ryt(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Fyt(r))return pd(e,r);if(Dyt(r))return r.includes(e);if(Tyt(r))return Iyt(e,r);if(Oyt(r))return r.dayOfWeek.includes(e.getDay());if(jyt(r)){var n=kh(r.before,e),a=kh(r.after,e),i=n>0,o=a<0,l=iF(r.before,r.after);return l?o&&i:i||o}return kyt(r)?kh(e,r.after)>0:Pyt(r)?kh(r.before,e)>0:typeof r=="function"?r(e):!1})}function gB(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return Ryt(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!cL(e,r)&&(a.outside=!0),a}function Myt(e,t){for(var r=Nd(e[0]),n=sL(e[e.length-1]),a,i,o=r;o<=n;){var l=gB(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Lu(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Lu(o,1)}return i||a}var Lyt=365;function spe(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,f=a.toDate,h=a.locale,g={day:Lu,week:aF,month:$h,year:qPe,startOfWeek:function(S){return a.ISOWeek?_x(S):B0(S,{locale:h,weekStartsOn:c})},endOfWeek:function(S){return a.ISOWeek?loe(S):oL(S,{locale:h,weekStartsOn:c})}},p=g[r](e,n==="after"?1:-1);n==="before"&&u?p=GPe([u,p]):n==="after"&&f&&(p=KPe([f,p]));var N=!0;if(i){var b=gB(p,i);N=!b.disabled&&!b.hidden}return N?p:l.count>Lyt?l.lastFocused:spe(p,{moveBy:r,direction:n,context:a,modifiers:i,retry:Oa(Oa({},l),{count:l.count+1})})}var ope=A.createContext(void 0);function Byt(e){var t=k3(),r=ipe(),n=A.useState(),a=n[0],i=n[1],o=A.useState(),l=o[0],c=o[1],u=Myt(t.displayMonths,r),f=a??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(a),i(void 0)},g=function(S){i(S)},p=Gs(),N=function(S,C){if(a){var j=spe(a,{moveBy:S,direction:C,context:p,modifiers:r});pd(a,j)||(t.goToDate(j,a),g(j))}},b={focusedDay:a,focusTarget:f,blur:h,focus:g,focusDayAfter:function(){return N("day","after")},focusDayBefore:function(){return N("day","before")},focusWeekAfter:function(){return N("week","after")},focusWeekBefore:function(){return N("week","before")},focusMonthBefore:function(){return N("month","before")},focusMonthAfter:function(){return N("month","after")},focusYearBefore:function(){return N("year","before")},focusYearAfter:function(){return N("year","after")},focusStartOfWeek:function(){return N("startOfWeek","before")},focusEndOfWeek:function(){return N("endOfWeek","after")}};return s.jsx(ope.Provider,{value:b,children:e.children})}function xB(){var e=A.useContext(ope);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Uyt(e,t){var r=ipe(),n=gB(e,r,t);return n}var vB=A.createContext(void 0);function $yt(e){if(!UT(e.initialProps)){var t={selected:void 0};return s.jsx(vB.Provider,{value:t,children:e.children})}return s.jsx(zyt,{initialProps:e.initialProps,children:e.children})}function zyt(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,u,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(vB.Provider,{value:a,children:r})}function lpe(){var e=A.useContext(vB);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Vyt(e,t){var r=Gs(),n=lpe(),a=hB(),i=pB(),o=xB(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,f=o.focusWeekBefore,h=o.blur,g=o.focus,p=o.focusMonthBefore,N=o.focusMonthAfter,b=o.focusYearBefore,S=o.focusYearAfter,C=o.focusStartOfWeek,j=o.focusEndOfWeek,T=function(de){var le,xe,Se,ye;UT(r)?(le=n.onDayClick)===null||le===void 0||le.call(n,e,t,de):j3(r)?(xe=a.onDayClick)===null||xe===void 0||xe.call(a,e,t,de):T3(r)?(Se=i.onDayClick)===null||Se===void 0||Se.call(i,e,t,de):(ye=r.onDayClick)===null||ye===void 0||ye.call(r,e,t,de)},O=function(de){var le;g(e),(le=r.onDayFocus)===null||le===void 0||le.call(r,e,t,de)},M=function(de){var le;h(),(le=r.onDayBlur)===null||le===void 0||le.call(r,e,t,de)},B=function(de){var le;(le=r.onDayMouseEnter)===null||le===void 0||le.call(r,e,t,de)},L=function(de){var le;(le=r.onDayMouseLeave)===null||le===void 0||le.call(r,e,t,de)},H=function(de){var le;(le=r.onDayPointerEnter)===null||le===void 0||le.call(r,e,t,de)},U=function(de){var le;(le=r.onDayPointerLeave)===null||le===void 0||le.call(r,e,t,de)},J=function(de){var le;(le=r.onDayTouchCancel)===null||le===void 0||le.call(r,e,t,de)},K=function(de){var le;(le=r.onDayTouchEnd)===null||le===void 0||le.call(r,e,t,de)},G=function(de){var le;(le=r.onDayTouchMove)===null||le===void 0||le.call(r,e,t,de)},re=function(de){var le;(le=r.onDayTouchStart)===null||le===void 0||le.call(r,e,t,de)},ae=function(de){var le;(le=r.onDayKeyUp)===null||le===void 0||le.call(r,e,t,de)},X=function(de){var le;switch(de.key){case"ArrowLeft":de.preventDefault(),de.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":de.preventDefault(),de.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":de.preventDefault(),de.stopPropagation(),u();break;case"ArrowUp":de.preventDefault(),de.stopPropagation(),f();break;case"PageUp":de.preventDefault(),de.stopPropagation(),de.shiftKey?b():p();break;case"PageDown":de.preventDefault(),de.stopPropagation(),de.shiftKey?S():N();break;case"Home":de.preventDefault(),de.stopPropagation(),C();break;case"End":de.preventDefault(),de.stopPropagation(),j();break}(le=r.onDayKeyDown)===null||le===void 0||le.call(r,e,t,de)},ne={onClick:T,onFocus:O,onBlur:M,onKeyDown:X,onKeyUp:ae,onMouseEnter:B,onMouseLeave:L,onPointerEnter:H,onPointerLeave:U,onTouchCancel:J,onTouchEnd:K,onTouchMove:G,onTouchStart:re};return ne}function Wyt(){var e=Gs(),t=lpe(),r=hB(),n=pB(),a=UT(e)?t.selected:j3(e)?r.selected:T3(e)?n.selected:void 0;return a}function Hyt(e){return Object.values(Vh).includes(e)}function qyt(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(Hyt(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Gyt(e,t){var r=Oa({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Oa(Oa({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Kyt(e,t,r){var n,a,i,o=Gs(),l=xB(),c=Uyt(e,t),u=Vyt(e,c),f=Wyt(),h=!!(o.onDayClick||o.mode!=="default");A.useEffect(function(){var B;c.outside||l.focusedDay&&h&&pd(l.focusedDay,e)&&((B=r.current)===null||B===void 0||B.focus())},[l.focusedDay,e,r,h,c.outside]);var g=qyt(o,c).join(" "),p=Gyt(o,c),N=!!(c.outside&&!o.showOutsideDays||c.hidden),b=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:pyt,S=s.jsx(b,{date:e,displayMonth:t,activeModifiers:c}),C={style:p,className:g,children:S,role:"gridcell"},j=l.focusTarget&&pd(l.focusTarget,e)&&!c.outside,T=l.focusedDay&&pd(l.focusedDay,e),O=Oa(Oa(Oa({},C),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=T||j?0:-1,n)),u),M={isButton:h,isHidden:N,activeModifiers:c,selectedDays:f,buttonProps:O,divProps:C};return M}function Yyt(e){var t=A.useRef(null),r=Kyt(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(XE,Oa({name:"day",ref:t},r.buttonProps)):s.jsx("div",Oa({},r.divProps))}function Xyt(e){var t=e.number,r=e.dates,n=Gs(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,f=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:f});var h=c(Number(t),{locale:l}),g=function(p){a(t,r,p)};return s.jsx(XE,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:g,children:f})}function Zyt(e){var t,r,n=Gs(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Yyt,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Xyt,f;return o&&(f=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[f,e.dates.map(function(h){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:h})},QOe(h))})]})}function XZ(e,t,r){for(var n=r!=null&&r.ISOWeek?loe(t):oL(t,r),a=r!=null&&r.ISOWeek?_x(e):B0(e,r),i=kh(n,a),o=[],l=0;l<=i;l++)o.push(Lu(a,l));var c=o.reduce(function(u,f){var h=r!=null&&r.ISOWeek?uoe(f):foe(f,r),g=u.find(function(p){return p.weekNumber===h});return g?(g.dates.push(f),u):(u.push({weekNumber:h,dates:[f]}),u)},[]);return c}function Jyt(e,t){var r=XZ(Nd(e),sL(e),t);if(t!=null&&t.useFixedWeeks){var n=tIe(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=aF(i,6-n),l=XZ(aF(i,1),o,t);r.push.apply(r,l)}}return r}function Qyt(e){var t,r,n,a=Gs(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,f=a.components,h=a.weekStartsOn,g=a.firstWeekContainsDate,p=a.ISOWeek,N=Jyt(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:g}),b=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:myt,S=(r=f==null?void 0:f.Row)!==null&&r!==void 0?r:Zyt,C=(n=f==null?void 0:f.Footer)!==null&&n!==void 0?n:dyt;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(b,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:N.map(function(j){return s.jsx(S,{displayMonth:e.displayMonth,dates:j.dates,weekNumber:j.weekNumber},j.weekNumber)})}),s.jsx(C,{displayMonth:e.displayMonth})]})}function ebt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var tbt=ebt()?A.useLayoutEffect:A.useEffect,fO=!1,rbt=0;function ZZ(){return"react-day-picker-".concat(++rbt)}function nbt(e){var t,r=e??(fO?ZZ():null),n=A.useState(r),a=n[0],i=n[1];return tbt(function(){a===null&&i(ZZ())},[]),A.useEffect(function(){fO===!1&&(fO=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function abt(e){var t,r,n=Gs(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=k3().displayMonths,u=nbt(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],g=o.month,p=e.displayIndex===0,N=e.displayIndex===c.length-1,b=!p&&!N;a==="rtl"&&(t=[p,N],N=t[0],p=t[1]),p&&(h.push(i.caption_start),g=Oa(Oa({},g),o.caption_start)),N&&(h.push(i.caption_end),g=Oa(Oa({},g),o.caption_end)),b&&(h.push(i.caption_between),g=Oa(Oa({},g),o.caption_between));var S=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:uyt;return s.jsxs("div",{className:h.join(" "),style:g,children:[s.jsx(S,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Qyt,{id:f,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function ibt(e){var t=Gs(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function sbt(e){var t,r,n=e.initialProps,a=Gs(),i=xB(),o=k3(),l=A.useState(!1),c=l[0],u=l[1];A.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var f=[a.classNames.root,a.className];a.numberOfMonths>1&&f.push(a.classNames.multiple_months),a.showWeekNumber&&f.push(a.classNames.with_weeknumber);var h=Oa(Oa({},a.styles.root),a.style),g=Object.keys(n).filter(function(N){return N.startsWith("data-")}).reduce(function(N,b){var S;return Oa(Oa({},N),(S={},S[b]=n[b],S))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:ibt;return s.jsx("div",Oa({className:f.join(" "),style:h,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},g,{children:s.jsx(p,{children:o.displayMonths.map(function(N,b){return s.jsx(abt,{displayIndex:b,displayMonth:N},b)})})}))}function obt(e){var t=e.children,r=P2t(e,["children"]);return s.jsx(X2t,{initialProps:r,children:s.jsx(syt,{children:s.jsx($yt,{initialProps:r,children:s.jsx(gyt,{initialProps:r,children:s.jsx(yyt,{initialProps:r,children:s.jsx(Eyt,{children:s.jsx(Byt,{children:t})})})})})})})}function lbt(e){return s.jsx(obt,Oa({},e,{children:s.jsx(sbt,{initialProps:e})}))}function cpe({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(lbt,{showOutsideDays:r,className:kr("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:kr(II({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:kr(II({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(kj,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(px,{className:"h-4 w-4"})},...n})}cpe.displayName="Calendar";const Kw=10,MS={user_credited:{label:"Crdit Utilisateur",color:"text-blue-600 bg-blue-50 border-blue-200",icon:jm},manual_credit:{label:"Crdit Manuel",color:"text-blue-600 bg-blue-50 border-blue-200",icon:jm},user_debited:{label:"Dbit Utilisateur",color:"text-orange-600 bg-orange-50 border-orange-200",icon:qo},withdrawal_approved:{label:"Retrait Approuv",color:"text-green-600 bg-green-50 border-green-200",icon:jl},withdrawal_rejected:{label:"Retrait Rejet",color:"text-red-600 bg-red-50 border-red-200",icon:Dj},withdrawal_requested:{label:"Retrait Demand",color:"text-orange-600 bg-orange-50 border-orange-200",icon:qo},role_updated:{label:"Rle Modifi",color:"text-purple-600 bg-purple-50 border-purple-200",icon:Jte},user_deleted:{label:"Utilisateur Supprim",color:"text-destructive bg-destructive/10 border-destructive/20",icon:Yo},login:{label:"Connexion",color:"text-gray-600 bg-gray-50 border-gray-200",icon:s_e},logout:{label:"Dconnexion",color:"text-gray-600 bg-gray-50 border-gray-200",icon:fy},credit_reversal:{label:"Annulation Crdit",color:"text-amber-600 bg-amber-50 border-amber-200",icon:Zte},license_renewed:{label:"Licence Renouvele",color:"text-indigo-600 bg-indigo-50 border-indigo-200",icon:$u},default:{label:"Action Admin",color:"text-slate-600 bg-slate-50 border-slate-200",icon:$u}},JZ=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!0),[a,i]=A.useState(0),[o,l]=A.useState(1),[c,u]=A.useState(""),[f,h]=A.useState("all"),[g,p]=A.useState({from:null,to:null}),N=A.useCallback(async()=>{n(!0);try{let T=Je.from("admin_logs").select(`
                    *,
                    actor:actor_id (full_name, email, avatar_url, user_type),
                    target:target_id (full_name, email, avatar_url)
                `,{count:"exact"});if(c){const U=`%${c}%`;T=T.or(`action_type.ilike.${U},actor_name.ilike.${U},target_name.ilike.${U},actor_email.ilike.${U}`)}if(f&&f!=="all"&&(T=T.eq("action_type",f)),g!=null&&g.from&&(T=T.gte("created_at",g.from.toISOString())),g!=null&&g.to){const U=new Date(g.to);U.setHours(23,59,59,999),T=T.lte("created_at",U.toISOString())}const O=(o-1)*Kw,M=O+Kw-1,{data:B,error:L,count:H}=await T.order("created_at",{ascending:!1}).range(O,M);if(L)throw L;t(B||[]),i(H||0)}catch(T){console.error("Error fetching logs:",T),ot({title:"Erreur",description:"Impossible de charger le journal d'activit.",variant:"destructive"})}finally{n(!1)}},[o,c,f,g]);A.useEffect(()=>{const T=setTimeout(()=>{N()},300);return()=>clearTimeout(T)},[N]);const b=()=>{try{const T=e.map(B=>{var L,H,U,J;return{Date:mi(new Date(B.created_at),"dd/MM/yyyy HH:mm"),Action:((L=MS[B.action_type])==null?void 0:L.label)||B.action_type,Acteur:((H=B.actor)==null?void 0:H.full_name)||B.actor_name||"Systme",Email_Acteur:((U=B.actor)==null?void 0:U.email)||B.actor_email||"-",Cible:((J=B.target)==null?void 0:J.full_name)||B.target_name||"-",Dtails:JSON.stringify(B.details||{})}}),O=hu.utils.json_to_sheet(T),M=hu.utils.book_new();hu.utils.book_append_sheet(M,O,"Journal Activit"),hu.writeFile(M,`journal_activite_${mi(new Date,"yyyyMMdd")}.xlsx`),ot({title:"Export russi",description:"Le fichier a t tlcharg.",variant:"success"})}catch(T){console.error("Export error:",T),ot({title:"Erreur d'export",description:T.message,variant:"destructive"})}},S=T=>MS[T]||MS.default,C=T=>{var L,H,U;const O=T.details||{},M=T.action_type,B=O.reversed===!0;return s.jsxs("div",{className:"text-sm space-y-1.5",children:[(M==="user_credited"||M==="user_debited"||M==="manual_credit")&&s.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Montant:"}),s.jsxs(Vr,{variant:"outline",className:"font-mono text-sm font-bold",children:[(L=O.amount)==null?void 0:L.toLocaleString()," "]})]}),O.reason&&s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-medium text-muted-foreground",children:"Raison:"}),s.jsxs("span",{className:"text-foreground font-medium",children:['"',O.reason,'"']})]})]}),M==="withdrawal_approved"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[s.jsxs(Vr,{className:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",children:[(H=O.amount_pi)==null?void 0:H.toLocaleString()," "]}),O.amount_fcfa&&s.jsxs("span",{className:"text-muted-foreground text-xs",children:["(",(U=O.amount_fcfa)==null?void 0:U.toLocaleString()," FCFA)"]})]}),O.notes&&s.jsxs("p",{className:"text-xs text-muted-foreground italic",children:["Notes: ",O.notes]})]}),M==="role_updated"&&s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Vr,{variant:"secondary",className:"line-through opacity-70",children:O.old_role||"?"}),s.jsx(Dte,{className:"w-3 h-3 text-muted-foreground"}),s.jsx(Vr,{variant:"default",className:"bg-purple-100 text-purple-800 hover:bg-purple-200 border-purple-200",children:O.new_role})]}),B&&s.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-100 rounded-md flex items-start gap-2 text-xs text-red-700 animate-in fade-in slide-in-from-top-1",children:[s.jsx(Zte,{className:"w-4 h-4 mt-0.5 shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:" ANNUL"}),s.jsxs("p",{children:["Le: ",O.reversed_at?mi(new Date(O.reversed_at),"dd/MM/yyyy HH:mm"):"-"]}),s.jsxs("p",{children:["Par: ",O.reversed_by_name||"Admin"]})]})]}),!["user_credited","manual_credit","user_debited","withdrawal_approved","role_updated"].includes(M)&&Object.keys(O).length>0&&s.jsx("div",{className:"bg-muted/30 rounded p-1.5 text-xs font-mono text-muted-foreground overflow-x-auto",children:Object.entries(O).map(([J,K])=>J!=="reversed"&&J!=="reversed_by"&&J!=="reversed_at"&&s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("span",{className:"opacity-70",children:[J,":"]}),s.jsx("span",{className:"font-semibold truncate",children:typeof K=="object"?JSON.stringify(K):String(K)})]},J))})]})},j=Math.ceil(a/Kw);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 items-start md:items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Journal d'Activit"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Historique complet des actions administratives et vnements systme."})]}),s.jsxs("div",{className:"flex items-center gap-2 self-end",children:[s.jsxs(Ue,{variant:"outline",size:"sm",onClick:N,disabled:r,children:[r?s.jsx(Jt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(I7,{className:"w-4 h-4 mr-2"}),"Actualiser"]}),s.jsxs(Ue,{variant:"default",size:"sm",onClick:b,disabled:e.length===0,children:[s.jsx(Ym,{className:"w-4 h-4 mr-2"})," Exporter"]})]})]}),s.jsxs(qt,{className:"border-muted",children:[s.jsx(zr,{className:"pb-3 border-b bg-muted/10",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[s.jsx(Il,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(er,{placeholder:"Rechercher (action, acteur, cible)...",className:"pl-9 bg-background",value:c,onChange:T=>{u(T.target.value),l(1)}})]}),s.jsxs(Ai,{value:f,onValueChange:T=>{h(T),l(1)},children:[s.jsx(vi,{className:"w-full lg:w-[220px] bg-background",children:s.jsx(Ei,{placeholder:"Type d'action"})}),s.jsxs(yi,{children:[s.jsx(on,{value:"all",children:"Toutes les actions"}),Object.entries(MS).map(([T,O])=>T!=="default"&&s.jsx(on,{value:T,children:O.label},T))]})]}),s.jsxs(Nse,{children:[s.jsx(Sse,{asChild:!0,children:s.jsxs(Ue,{variant:"outline",className:"w-full lg:w-[240px] justify-start text-left font-normal bg-background",children:[s.jsx(oo,{className:"mr-2 h-4 w-4"}),g!=null&&g.from?g.to?s.jsxs(s.Fragment,{children:[mi(g.from,"d MMM",{locale:Vc})," -"," ",mi(g.to,"d MMM",{locale:Vc})]}):mi(g.from,"d MMM yyyy",{locale:Vc}):s.jsx("span",{children:"Filtrer par date"})]})}),s.jsx(tL,{className:"w-auto p-0",align:"end",children:s.jsx(cpe,{initialFocus:!0,mode:"range",defaultMonth:g==null?void 0:g.from,selected:g,onSelect:T=>{p(T),l(1)},numberOfMonths:2})})]}),(c||f!=="all"||(g==null?void 0:g.from))&&s.jsx(Ue,{variant:"ghost",onClick:()=>{u(""),h("all"),p({from:null,to:null})},className:"px-3 text-muted-foreground hover:text-foreground",children:"Rinitialiser"})]})}),s.jsxs(Xt,{className:"p-0",children:[r&&e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-4",children:[s.jsx(Jt,{className:"w-10 h-10 animate-spin text-primary/50"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement du journal..."})]}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center space-y-3 bg-muted/5",children:[s.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:s.jsx(Gte,{className:"w-8 h-8 text-muted-foreground/50"})}),s.jsx("h3",{className:"text-lg font-semibold",children:"Aucune activit trouve"}),s.jsx("p",{className:"text-muted-foreground max-w-sm",children:"Aucun journal ne correspond  vos critres. Essayez de modifier les filtres ou la priode."})]}):s.jsx("div",{className:"divide-y divide-border",children:e.map(T=>{var B,L,H,U,J,K,G,re,ae,X;const O=S(T.action_type),M=O.icon;return s.jsx("div",{className:"p-4 hover:bg-accent/5 transition-colors group",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"md:w-[200px] shrink-0 flex md:flex-col items-center md:items-start gap-3 md:gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border shadow-sm shrink-0 ${O.color}`,children:s.jsx(M,{className:"w-4 h-4"})}),s.jsx("span",{className:"font-semibold text-sm md:hidden",children:O.label})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs font-medium hidden md:inline-block mb-1 px-2 py-0.5 rounded-full bg-muted/50 w-fit",children:O.label}),s.jsx("span",{className:"text-xs text-muted-foreground pl-1",children:mi(new Date(T.created_at),"d MMM yyyy",{locale:Vc})}),s.jsx("span",{className:"text-xs text-muted-foreground pl-1",children:mi(new Date(T.created_at),"HH:mm",{locale:Vc})})]})]}),s.jsxs("div",{className:"md:w-[300px] shrink-0 space-y-2.5 py-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground w-10 shrink-0",children:"Acteur"}),s.jsxs("div",{className:"flex items-center gap-2 bg-muted/30 px-2 py-1 rounded-full max-w-full",children:[s.jsxs(_1,{className:"w-5 h-5 border",children:[s.jsx(N1,{src:(B=T.actor)==null?void 0:B.avatar_url}),s.jsx(S1,{className:"text-[8px] bg-primary/10 text-primary",children:(((H=(L=T.actor)==null?void 0:L.full_name)==null?void 0:H[0])||((U=T.actor_name)==null?void 0:U[0])||"S").toUpperCase()})]}),s.jsx("div",{className:"flex flex-col overflow-hidden",children:s.jsx("span",{className:"text-xs font-medium truncate max-w-[140px]",title:T.actor_email,children:((J=T.actor)==null?void 0:J.full_name)||T.actor_name||"Systme"})})]})]}),T.target_id&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground w-10 shrink-0",children:"Cible"}),s.jsxs("div",{className:"flex items-center gap-2 bg-muted/30 px-2 py-1 rounded-full max-w-full",children:[s.jsxs(_1,{className:"w-5 h-5 border",children:[s.jsx(N1,{src:(K=T.target)==null?void 0:K.avatar_url}),s.jsx(S1,{className:"text-[8px] bg-indigo-50 text-indigo-600",children:(((re=(G=T.target)==null?void 0:G.full_name)==null?void 0:re[0])||((ae=T.target_name)==null?void 0:ae[0])||"?").toUpperCase()})]}),s.jsx("div",{className:"flex flex-col overflow-hidden",children:s.jsx("span",{className:"text-xs font-medium truncate max-w-[140px]",title:T.target_email,children:((X=T.target)==null?void 0:X.full_name)||T.target_name||"Utilisateur"})})]})]})]}),s.jsxs("div",{className:"flex-1 min-w-0 py-1 border-l md:pl-4 md:border-l-border/50",children:[s.jsx("div",{className:"text-[10px] uppercase tracking-wider text-muted-foreground mb-1",children:"Dtails"}),C(T)]})]})},T.id)})}),a>0&&s.jsxs("div",{className:"p-4 border-t bg-muted/5 flex items-center justify-between",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Affichage de ",s.jsx("strong",{children:(o-1)*Kw+1}),"  ",s.jsx("strong",{children:Math.min(o*Kw,a)})," sur ",s.jsx("strong",{children:a})," entres"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ue,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>l(T=>Math.max(1,T-1)),disabled:o===1,children:s.jsx(kj,{className:"w-4 h-4"})}),s.jsxs("div",{className:"text-xs font-medium px-2",children:["Page ",o," / ",j]}),s.jsx(Ue,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>l(T=>Math.min(j,T+1)),disabled:o===j,children:s.jsx(px,{className:"w-4 h-4"})})]})]})]})]})]})},cbt=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!0),[a,i]=A.useState(""),[o,l]=A.useState("all"),{toast:c}=qs(),u=async()=>{n(!0);try{const{data:p,error:N}=await Je.from("paiements_admin").select(`
          id,
          mois,
          ca_zone,
          taux_commission,
          score,
          montant_a_payer,
          statut,
          paye_le,
          admin_id,
          admin:admin_id (
            full_name,
            email
          )
        `).order("mois",{ascending:!1});if(N)throw N;t(p||[])}catch(p){console.error("Error fetching admin payments:",p),c({title:"Erreur",description:"Impossible de charger les paiements administrateurs.",variant:"destructive"})}finally{n(!1)}};A.useEffect(()=>{u()},[]);const f=async p=>{try{const{error:N}=await Je.from("paiements_admin").update({statut:"pay",paye_le:new Date().toISOString()}).eq("id",p);if(N)throw N;t(e.map(b=>b.id===p?{...b,statut:"pay",paye_le:new Date().toISOString()}:b)),c({title:"Paiement mis  jour",description:'Le statut a t chang en "Pay".',variant:"success"})}catch{c({title:"Erreur",description:"Impossible de mettre  jour le paiement.",variant:"destructive"})}},h=()=>{const p=g.map(S=>{var C,j;return{Mois:mi(new Date(S.mois),"MMMM yyyy",{locale:Vc}),Administrateur:((C=S.admin)==null?void 0:C.full_name)||"Inconnu",Email:((j=S.admin)==null?void 0:j.email)||"Inconnu","CA Zone (FCFA)":S.ca_zone,"Taux Commission (%)":S.taux_commission,"Score Performance":S.score,"Montant  Payer (FCFA)":S.montant_a_payer,Statut:S.statut==="pay"?"Pay":"En attente","Date Paiement":S.paye_le?mi(new Date(S.paye_le),"dd/MM/yyyy"):"-"}}),N=hu.utils.json_to_sheet(p),b=hu.utils.book_new();hu.utils.book_append_sheet(b,N,"Paiements Admin"),hu.writeFile(b,`paiements_admin_${mi(new Date,"dd-MM-yyyy")}.xlsx`)},g=e.filter(p=>{var S,C;const N=(((S=p.admin)==null?void 0:S.full_name)||"").toLowerCase().includes(a.toLowerCase())||(((C=p.admin)==null?void 0:C.email)||"").toLowerCase().includes(a.toLowerCase()),b=o==="all"||p.statut===o;return N&&b});return s.jsxs(qt,{children:[s.jsxs(zr,{className:"flex flex-row items-center justify-between",children:[s.jsx(Wr,{children:"Paiements Administrateurs"}),s.jsxs(Ue,{onClick:h,variant:"outline",size:"sm",children:[s.jsx(Ym,{className:"mr-2 h-4 w-4"}),"Exporter Excel"]})]}),s.jsxs(Xt,{children:[s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Il,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(er,{placeholder:"Rechercher un administrateur...",value:a,onChange:p=>i(p.target.value),className:"pl-8"})]}),s.jsxs(Ai,{value:o,onValueChange:l,children:[s.jsx(vi,{className:"w-[180px]",children:s.jsx(Ei,{placeholder:"Filtrer par statut"})}),s.jsxs(yi,{children:[s.jsx(on,{value:"all",children:"Tous les statuts"}),s.jsx(on,{value:"en_attente",children:"En attente"}),s.jsx(on,{value:"pay",children:"Pay"})]})]})]}),r?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Jt,{className:"h-8 w-8 animate-spin text-primary"})}):g.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucun paiement trouv."}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(cf,{children:[s.jsx(uf,{children:s.jsxs(pi,{children:[s.jsx(Sn,{children:"Mois"}),s.jsx(Sn,{children:"Administrateur"}),s.jsx(Sn,{children:"Performance"}),s.jsx(Sn,{className:"text-right",children:"Montant (FCFA)"}),s.jsx(Sn,{children:"Statut"}),s.jsx(Sn,{className:"text-right",children:"Actions"})]})}),s.jsx(df,{children:g.map(p=>{var N,b,S,C;return s.jsxs(pi,{children:[s.jsx(rn,{className:"font-medium",children:mi(new Date(p.mois),"MMMM yyyy",{locale:Vc})}),s.jsx(rn,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:((N=p.admin)==null?void 0:N.full_name)||"Inconnu"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:(b=p.admin)==null?void 0:b.email})]})}),s.jsx(rn,{children:s.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[s.jsxs("span",{children:["CA: ",(S=p.ca_zone)==null?void 0:S.toLocaleString()," FCFA"]}),s.jsxs("span",{children:["Taux: ",p.taux_commission,"%"]}),s.jsxs("span",{children:["Score: ",p.score]})]})}),s.jsxs(rn,{className:"text-right font-bold text-green-600",children:[(C=p.montant_a_payer)==null?void 0:C.toLocaleString()," FCFA"]}),s.jsxs(rn,{children:[s.jsx(Vr,{variant:p.statut==="pay"?"success":"warning",children:p.statut==="pay"?"Pay":"En attente"}),p.paye_le&&s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["le ",mi(new Date(p.paye_le),"dd/MM/yyyy")]})]}),s.jsx(rn,{className:"text-right",children:p.statut!=="pay"&&s.jsxs(Ue,{size:"sm",onClick:()=>f(p.id),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(jl,{className:"mr-2 h-3 w-3"}),"Marquer pay"]})})]},p.id)})})]})})]})]})},QZ=()=>{ai();const[e,t]=A.useState([]),[r,n]=A.useState(new Map),[a,i]=A.useState(!0),[o,l]=A.useState(""),c=A.useCallback(async()=>{i(!0);try{const{data:p,error:N}=await Je.from("locations").select("*").order("created_at",{ascending:!1});if(N)throw console.error("Fetch locations error:",N),new Error(`Impossible de charger les lieux: ${N.message}`);const{data:b,error:S}=await Je.from("profiles").select("id, full_name, email");if(S)throw console.error("Fetch profiles error:",S),new Error(`Impossible de charger les profils utilisateurs: ${S.message}`);const C=new Map(b.map(j=>[j.id,j]));n(C),t(p||[])}catch(p){ot({title:"Erreur de chargement",description:p.message,variant:"destructive"})}finally{i(!1)}},[]);A.useEffect(()=>{c()},[c]);const u=A.useMemo(()=>e.map(p=>({...p,profile:r.get(p.user_id)||{full_name:"N/A",email:""}})),[e,r]),f=A.useMemo(()=>{if(!o)return u;const p=o.toLowerCase();return u.filter(N=>{var b;return N.name&&N.name.toLowerCase().includes(p)||N.city&&N.city.toLowerCase().includes(p)||((b=N.profile)==null?void 0:b.full_name)&&N.profile.full_name.toLowerCase().includes(p)})},[u,o]),h=async p=>{const N=!p.is_active;try{const{error:b}=await Je.from("locations").update({is_active:N}).eq("id",p.id);if(b)throw b;ot({title:"Statut mis  jour avec succs!"}),c()}catch(b){ot({title:"Erreur lors de la mise  jour",description:b.message,variant:"destructive"})}},g=async p=>{try{const{error:N}=await Je.rpc("delete_location",{p_location_id:p});if(N)throw N;ot({title:"Lieu supprim avec succs!"}),c()}catch(N){ot({title:"Erreur lors de la suppression",description:N.message,variant:"destructive"})}};return a?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Jt,{className:"animate-spin text-primary"})}):s.jsxs(qt,{className:"glass-effect border-purple-500/20",children:[s.jsx(zr,{children:s.jsx(Wr,{children:"Gestion des Lieux"})}),s.jsxs(Xt,{children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(er,{placeholder:"Rechercher par nom, ville ou utilisateur...",value:o,onChange:p=>l(p.target.value),className:"pl-10"})]}),s.jsx("div",{className:"space-y-4",children:f.map(p=>{var N;return s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-background/50 rounded-lg gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-grow",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Eo,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:p.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.address,", ",p.city,", ",p.country]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ajout par: ",((N=p.profile)==null?void 0:N.full_name)||"N/A"]}),s.jsx(Vr,{variant:p.is_active?"success":"destructive",className:"mt-1",children:p.is_active?"Actif":"Inactif"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>h(p),children:p.is_active?s.jsx(Yte,{className:"w-5 h-5 text-yellow-500"}):s.jsx(Xte,{className:"w-5 h-5 text-green-500"})}),s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>g(p.id),className:"text-red-500",children:s.jsx(Yo,{className:"w-4 h-4"})})]})]},p.id)})})]})]})},ubt=()=>{const{user:e}=bn(),[t,r]=A.useState([]),[n,a]=A.useState(!0),[i,o]=A.useState(!1),[l,c]=A.useState(!1),[u,f]=A.useState(null),[h,g]=A.useState({credits:!1,revenue:!1}),p=async()=>{a(!0);try{const{data:S,error:C}=await Je.rpc("get_zones_stats");if(C)throw C;r(S||[])}catch(S){console.error("Error fetching zone stats:",S),ot({title:"Erreur",description:"Impossible de charger les statistiques des zones.",variant:"destructive"})}finally{a(!1)}};A.useEffect(()=>{p()},[]);const N=(S=null)=>{f(S),g({credits:!1,revenue:!1}),c(!0)},b=async()=>{if(!h.credits&&!h.revenue){ot({title:"Slection requise",description:"Veuillez choisir au moins une donne  rinitialiser.",variant:"warning"});return}o(!0),c(!1);try{const S=u?[u]:t;let C=0,j=0;for(const T of S){const{data:O,error:M}=await Je.rpc("reset_zone_data",{p_admin_id:e.id,p_country:T.country,p_reset_credits:h.credits,p_reset_revenue:h.revenue});M||!O.success?(console.error(`Failed to reset ${T.country}`,M),j++):C++}C>0&&ot({title:"Rinitialisation termine",description:`${C} zone(s) traite(s) avec succs.`,variant:"success"}),j>0&&ot({title:"Erreurs survenues",description:`${j} zone(s) n'ont pas pu tre traites.`,variant:"destructive"}),await p()}catch(S){ot({title:"Erreur critique",description:S.message,variant:"destructive"})}finally{o(!1)}};return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[s.jsxs(qt,{className:"border-orange-500/20 shadow-lg",children:[s.jsx(zr,{className:"bg-orange-500/5 rounded-t-xl",children:s.jsxs("div",{className:"flex justify-between items-start md:items-center flex-col md:flex-row gap-4",children:[s.jsxs("div",{children:[s.jsxs(Wr,{className:"flex items-center gap-2 text-xl text-orange-700 dark:text-orange-400",children:[s.jsx(o1,{className:"h-6 w-6"}),"Rinitialisation par Zone"]}),s.jsx(Ya,{children:"Grez et remettez  zro les statistiques financires par pays. Utile pour corriger des donnes de test ou dmarrer une nouvelle priode comptable."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ue,{variant:"outline",size:"sm",onClick:p,disabled:n||i,children:[s.jsx(qc,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Actualiser"]}),s.jsxs(Ue,{variant:"destructive",size:"sm",onClick:()=>N(null),disabled:n||i||t.length===0,children:[s.jsx(Gwe,{className:"h-4 w-4 mr-2"}),"Tout Rinitialiser"]})]})]})}),s.jsx(Xt,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(cf,{children:[s.jsx(uf,{children:s.jsxs(pi,{className:"bg-muted/50",children:[s.jsx(Sn,{className:"font-bold",children:"Pays / Zone"}),s.jsx(Sn,{className:"text-center",children:"Utilisateurs"}),s.jsx(Sn,{className:"text-right",children:"Crdits Distribus"}),s.jsx(Sn,{className:"text-right",children:"Revenus (Achats)"}),s.jsx(Sn,{className:"text-center",children:"Actions"})]})}),s.jsx(df,{children:n?s.jsx(pi,{children:s.jsx(rn,{colSpan:5,className:"h-32 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 text-muted-foreground",children:[s.jsx(Jt,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{children:"Chargement des donnes..."})]})})}):t.length===0?s.jsx(pi,{children:s.jsx(rn,{colSpan:5,className:"h-32 text-center text-muted-foreground",children:"Aucune donne de zone trouve."})}):t.map(S=>s.jsxs(pi,{className:"hover:bg-muted/30 transition-colors",children:[s.jsx(rn,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Eo,{className:"h-4 w-4 text-primary/70"}),S.country]})}),s.jsx(rn,{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(ao,{className:"h-3 w-3 text-muted-foreground"}),S.user_count]})}),s.jsx(rn,{className:"text-right",children:s.jsxs(Vr,{variant:"outline",className:"font-mono bg-blue-50 text-blue-700 border-blue-200",children:[S.total_credits.toLocaleString()," "]})}),s.jsx(rn,{className:"text-right",children:s.jsxs(Vr,{variant:"outline",className:"font-mono bg-green-50 text-green-700 border-green-200",children:[S.total_revenue.toLocaleString()," FCFA"]})}),s.jsx(rn,{className:"text-center",children:s.jsxs(Ue,{variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-700 hover:bg-orange-100",onClick:()=>N(S),disabled:i,children:[s.jsx(o1,{className:"h-4 w-4 mr-1"}),"Rinitialiser"]})})]},S.country))})]})})})]}),s.jsx(hl,{open:l,onOpenChange:c,children:s.jsxs(Zo,{className:"sm:max-w-[500px]",children:[s.jsxs(Jo,{children:[s.jsxs(Qo,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(Kc,{className:"h-5 w-5"}),"Confirmation de Rinitialisation"]}),s.jsxs(el,{children:["Vous tes sur le point de rinitialiser les donnes pour :",s.jsx("span",{className:"font-bold text-foreground block mt-1 text-lg",children:u?u.country:"TOUTES LES ZONES"})]})]}),s.jsxs("div",{className:"py-4 space-y-4 border-y border-border/50",children:[s.jsx("p",{className:"text-sm font-medium mb-3",children:"Slectionnez les donnes  supprimer :"}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-md hover:bg-muted/50 border border-transparent hover:border-border transition-all cursor-pointer",onClick:()=>g(S=>({...S,credits:!S.credits})),children:[s.jsx(zu,{id:"reset-credits",checked:h.credits,onCheckedChange:S=>g(C=>({...C,credits:S}))}),s.jsxs("div",{className:"grid gap-1.5 leading-none",children:[s.jsx(jt,{htmlFor:"reset-credits",className:"font-semibold cursor-pointer",children:"Crdits Distribus (Coins)"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Supprime l'historique des pices crdites manuellement par les administrateurs."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-md hover:bg-muted/50 border border-transparent hover:border-border transition-all cursor-pointer",onClick:()=>g(S=>({...S,revenue:!S.revenue})),children:[s.jsx(zu,{id:"reset-revenue",checked:h.revenue,onCheckedChange:S=>g(C=>({...C,revenue:S}))}),s.jsxs("div",{className:"grid gap-1.5 leading-none",children:[s.jsx(jt,{htmlFor:"reset-revenue",className:"font-semibold cursor-pointer",children:"Revenus (Achats FCFA)"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Supprime l'historique des achats de packs et licences effectus par les utilisateurs."})]})]})]}),s.jsxs(ml,{children:[s.jsx(gl,{children:"Annuler"}),s.jsxs(pl,{onClick:b,className:"bg-destructive hover:bg-destructive/90",disabled:!h.credits&&!h.revenue,children:[i?s.jsx(Jt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(o1,{className:"h-4 w-4 mr-2"}),"Confirmer la Suppression"]})]})]})})]})},dbt=()=>{const[e,t]=A.useState(!0),[r,n]=A.useState([]),[a,i]=A.useState(0),o=A.useCallback(async()=>{t(!0);try{const{data:l,error:c}=await Je.from("transactions").select("amount_pi, country, transaction_type, created_at, status").in("transaction_type",["manual_credit","credit_reversal","coin_pack","bonus"]);if(c)throw c;console.log("Credits by country: [data]",l);const u={};let f=0;l.forEach(g=>{if(g.status==="completed"||g.status==="paid"){const p=g.country||"Inconnu",N=g.amount_pi||0;u[p]||(u[p]={country:p,totalAmount:0,transactionCount:0,reversals:0}),u[p].totalAmount+=N,u[p].transactionCount+=1,N<0&&(u[p].reversals+=Math.abs(N)),f+=N}});const h=Object.values(u).sort((g,p)=>p.totalAmount-g.totalAmount);n(h),i(f),console.log("Total credits: [amount]",f)}catch(l){console.error("Error fetching credit stats:",l)}finally{t(!1)}},[]);return A.useEffect(()=>{o()},[o]),e?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Jt,{className:"animate-spin h-8 w-8 text-primary"})}):s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs(qt,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-100",children:[s.jsx(zr,{className:"pb-2",children:s.jsx(Wr,{className:"text-sm font-medium text-muted-foreground",children:"Total Crdits Distribus"})}),s.jsxs(Xt,{children:[s.jsxs("div",{className:"text-3xl font-bold text-blue-700",children:[a.toLocaleString()," "]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Net aprs annulations"})]})]}),s.jsxs(qt,{children:[s.jsx(zr,{className:"pb-2",children:s.jsx(Wr,{className:"text-sm font-medium text-muted-foreground",children:"Pays Actifs"})}),s.jsxs(Xt,{children:[s.jsx("div",{className:"text-3xl font-bold",children:r.length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Zones gographiques touches"})]})]})]}),s.jsxs(qt,{children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"flex items-center gap-2",children:[s.jsx(p0,{className:"h-5 w-5"}),"Rpartition par Pays"]}),s.jsx(Ya,{children:"Dtail des crdits et achats de pices par zone gographique."})]}),s.jsx(Xt,{children:s.jsxs(cf,{children:[s.jsx(uf,{children:s.jsxs(pi,{children:[s.jsx(Sn,{children:"Pays"}),s.jsx(Sn,{className:"text-right",children:"Transactions"}),s.jsx(Sn,{className:"text-right",children:"Annulations (Reversals)"}),s.jsx(Sn,{className:"text-right",children:"Total Net ()"})]})}),s.jsx(df,{children:r.length===0?s.jsx(pi,{children:s.jsx(rn,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"Aucune donne de crdit disponible."})}):r.map(l=>s.jsxs(pi,{children:[s.jsx(rn,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vr,{variant:"outline",className:"rounded-sm",children:l.country.substring(0,2).toUpperCase()}),l.country]})}),s.jsx(rn,{className:"text-right",children:l.transactionCount}),s.jsx(rn,{className:"text-right text-red-500",children:l.reversals>0?`-${l.reversals.toLocaleString()} `:"-"}),s.jsxs(rn,{className:"text-right font-bold text-green-600",children:[l.totalAmount.toLocaleString()," "]})]},l.country))})]})})]})]})},CC=({isSuperAdmin:e,country:t})=>{const{user:r}=bn(),[n,a]=A.useState([]),[i,o]=A.useState(!0),[l,c]=A.useState(""),[u,f]=A.useState(null),[h,g]=A.useState(!1),p=A.useCallback(async()=>{o(!0);try{let S=Je.from("admin_logs").select(`
                    id,
                    created_at,
                    details,
                    actor:actor_id (id, full_name, email),
                    target:target_id (full_name, email, country)
                `).order("created_at",{ascending:!1}).limit(100);e||t&&(S=S.eq("target.country",t));const{data:C,error:j}=await S;if(j)throw j;a(C||[])}catch(S){console.error("Error fetching credit logs:",S),ot({title:"Erreur",description:"Impossible de charger les crdits.",variant:"destructive"})}finally{o(!1)}},[e,t]);A.useEffect(()=>{const S=setTimeout(()=>{p()},500);return()=>clearTimeout(S)},[p,l]);const N=async()=>{if(!(!u||!r)){g(!0);try{const{data:S,error:C}=await Je.rpc("reverse_credit",{p_log_id:u.id,p_reverser_id:r.id});if(C)throw C;if(S&&!S.success)throw new Error(S.message);ot({title:"Succs",description:"Le crdit a t annul."}),p()}catch(S){ot({title:"Erreur",description:S.message,variant:"destructive"})}finally{g(!1),f(null)}}},b=n.filter(S=>{var j,T,O,M,B,L,H,U,J;if(!(((j=S.details)==null?void 0:j.reversed)===!0))return!1;if(l){const K=l.toLowerCase();return((O=(T=S.actor)==null?void 0:T.full_name)==null?void 0:O.toLowerCase().includes(K))||((B=(M=S.actor)==null?void 0:M.email)==null?void 0:B.toLowerCase().includes(K))||((H=(L=S.target)==null?void 0:L.full_name)==null?void 0:H.toLowerCase().includes(K))||((J=(U=S.target)==null?void 0:U.email)==null?void 0:J.toLowerCase().includes(K))}return!0});return s.jsxs(s.Fragment,{children:[s.jsxs(qt,{className:"glass-effect",children:[s.jsxs(zr,{children:[s.jsx(Wr,{children:"Historique des Crdits Annuls"}),s.jsxs("div",{className:"relative mt-4",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(er,{placeholder:"Rechercher par utilisateur ou admin...",value:l,onChange:S=>c(S.target.value),className:"pl-10"})]})]}),s.jsx(Xt,{children:i?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin"})}):s.jsx("div",{className:"space-y-4",children:b.length>0?b.map(S=>{var C,j,T,O,M,B,L,H;return s.jsxs("div",{className:"p-4 bg-background/50 rounded-lg shadow-sm border border-destructive/20",children:[s.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-2",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-destructive",children:["Crdit Annul de ",((C=S.details)==null?void 0:C.amount)||"N/A"," "]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Utilisateur:"})," ",((j=S.target)==null?void 0:j.full_name)||((T=S.target)==null?void 0:T.email)||"N/A"]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Crdit par:"})," ",((O=S.actor)==null?void 0:O.full_name)||((M=S.actor)==null?void 0:M.email)||"Systme"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Annul par:"})," ",((B=S.details)==null?void 0:B.reversed_by_name)||"N/A"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Crdit du ",mi(new Date(S.created_at),"d MMM yyyy",{locale:Vc})]}),((L=S.details)==null?void 0:L.reversed_at)&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Annul le ",mi(new Date(S.details.reversed_at),"d MMM yyyy, HH:mm",{locale:Vc})]})]})]}),((H=S.details)==null?void 0:H.reason)&&s.jsx("div",{className:"mt-2 text-xs bg-muted p-2 rounded",children:s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Raison du crdit:"})," ",S.details.reason]})})]},S.id)}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucun crdit annul trouv."})})})]}),s.jsx(hl,{open:!!u,onOpenChange:()=>f(null),children:s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:"Confirmer l'annulation"}),s.jsxs(el,{children:["Voulez-vous vraiment annuler le crdit de ",u==null?void 0:u.details.amount,"  pour ",u==null?void 0:u.target.full_name," ? Cette action est irrversible."]})]}),s.jsxs(ml,{children:[s.jsx(gl,{children:"Non"}),s.jsxs(pl,{onClick:N,disabled:h,children:[h&&s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}),"Oui, annuler"]})]})]})})]})},eJ=({actorId:e})=>{const[t,r]=A.useState([]),[n,a]=A.useState(!0),[i,o]=A.useState(""),l=A.useCallback(async()=>{a(!0);try{let u=Je.from("organizer_withdrawal_requests").select(`
          id,
          amount_pi,
          amount_fcfa,
          status,
          admin_notes,
          requested_at,
          reviewed_at,
          paid_at,
          organizer:organizer_id (full_name, email),
          reviewer:reviewed_by_admin (full_name)
        `).neq("status","pending").order("requested_at",{ascending:!1});e&&(u=u.eq("reviewed_by_admin",e)),i&&(u=u.or(`organizer.full_name.ilike.%${i}%,organizer.email.ilike.%${i}%`));const{data:f,error:h}=await u;if(h)throw h;const g=f.map(p=>({id:p.id,created_at:p.reviewed_at||p.requested_at,action_type:`withdrawal_${p.status}`,details:{amount_pi:p.amount_pi,amount_fcfa:p.amount_fcfa,notes:p.admin_notes,status:p.status},target_user:p.organizer,actor:p.reviewer}));r(g)}catch(u){console.error("Erreur chargement historique:",u),ot({title:"Erreur",description:"Impossible de charger l'historique des retraits.",variant:"destructive"})}finally{a(!1)}},[e,i]);A.useEffect(()=>{l()},[l]);const c=u=>{const f={withdrawal_approved:{variant:"default",label:"Approuv"},withdrawal_rejected:{variant:"destructive",label:"Rejet"},withdrawal_paid:{variant:"secondary",label:"Pay"}},h=f[u]||f.withdrawal_approved;return s.jsx(Vr,{variant:h.variant,children:h.label})};return s.jsxs(qt,{className:"glass-effect shadow-lg",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Historique des Traitements de Retraits"}),s.jsxs(Ue,{variant:"outline",size:"sm",onClick:l,disabled:n,className:"flex items-center gap-2",children:[s.jsx(qc,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Actualiser"]})]}),s.jsx(Ya,{children:"Suivi des approbations et rejets de demandes de retrait."})]}),s.jsxs(Xt,{children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(er,{placeholder:"Rechercher par nom ou email d'organisateur...",value:i,onChange:u=>o(u.target.value),className:"pl-10"})]}),n?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Jt,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(cf,{children:[s.jsx(uf,{children:s.jsxs(pi,{children:[s.jsx(Sn,{children:"Organisateur"}),s.jsx(Sn,{children:"Montant"}),s.jsx(Sn,{children:"Action"}),!e&&s.jsx(Sn,{children:"Trait par"}),s.jsx(Sn,{children:"Date traitement"}),s.jsx(Sn,{children:"Notes"})]})}),s.jsx(df,{children:t.length===0?s.jsx(pi,{children:s.jsx(rn,{colSpan:e?5:6,className:"text-center py-8",children:"Aucun traitement de retrait trouv."})}):t.map(u=>{var f,h,g,p,N,b,S,C;return s.jsxs(pi,{children:[s.jsxs(rn,{children:[s.jsx("p",{className:"font-semibold",children:((f=u.target_user)==null?void 0:f.full_name)||"N/A"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:((h=u.target_user)==null?void 0:h.email)||"N/A"})]}),s.jsxs(rn,{children:[s.jsxs("div",{className:"font-bold flex items-center gap-1",children:[(g=u.details)==null?void 0:g.amount_pi," ",s.jsx(za,{className:"w-4 h-4 text-yellow-400"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[(N=(p=u.details)==null?void 0:p.amount_fcfa)==null?void 0:N.toLocaleString("fr-FR")," FCFA"]})]}),s.jsx(rn,{children:c(u.action_type)}),!e&&s.jsx(rn,{children:s.jsx("p",{className:"text-sm",children:((b=u.actor)==null?void 0:b.full_name)||"Systme"})}),s.jsxs(rn,{children:[new Date(u.created_at).toLocaleDateString("fr-FR"),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(u.created_at).toLocaleTimeString("fr-FR")})]}),s.jsx(rn,{children:s.jsx("div",{className:"text-sm max-w-xs truncate",title:(S=u.details)==null?void 0:S.notes,children:((C=u.details)==null?void 0:C.notes)||""})})]},u.id)})})]})})]})]})},fbt=({open:e,onOpenChange:t,availableAmount:r,validatedAmount:n=0,estimatedAmount:a=0,onSuccess:i,adminId:o,config:l})=>{const{toast:c}=qs(),[u,f]=A.useState(!1),[h,g]=A.useState(""),[p,N]=A.useState(""),[b,S]=A.useState({phone:"",bank_account:"",bank_name:""});A.useEffect(()=>{e&&(g(""),N(""),S({phone:"",bank_account:"",bank_name:""}))},[e]);const C=(l==null?void 0:l.min_withdrawal_amount)||1e3,j=(l==null?void 0:l.max_withdrawal_amount)||5e5,T=l!=null&&l.withdrawal_methods&&Array.isArray(l.withdrawal_methods)?l.withdrawal_methods:["Orange Money","MTN Money","Moov Money","Virement Bancaire"],O=async()=>{const B=Number(h);if(!h||B<=0){c({title:"Erreur",description:"Veuillez entrer un montant valide.",variant:"destructive"});return}if(B<C){c({title:"Montant insuffisant",description:`Minimum: ${C.toLocaleString()} FCFA`,variant:"destructive"});return}if(B>j){c({title:"Montant excessif",description:`Maximum: ${j.toLocaleString()} FCFA`,variant:"destructive"});return}if(B>r){c({title:"Solde insuffisant",description:"Le montant dpasse votre solde total disponible.",variant:"destructive"});return}if(!p){c({title:"Erreur",description:"Slectionnez une mthode de paiement.",variant:"destructive"});return}f(!0);try{const L=p.toLowerCase().includes("bank")||p.toLowerCase().includes("virement")||p.toLowerCase().includes("banque"),H=!L;if(L&&(!b.bank_name||!b.bank_account))throw new Error("Veuillez remplir les dtails bancaires (Banque + Numro).");if(H&&!b.phone)throw new Error("Veuillez entrer le numro de tlphone pour le transfert.");const{error:U}=await Je.from("admin_withdrawal_requests").insert({admin_id:o,amount_fcfa:B,amount_pi:Math.ceil(B/10),status:"pending",method:p,mobile_money_number:H?b.phone:null,bank_name:L?b.bank_name:null,account_number:L?b.bank_account:null,requested_at:new Date().toISOString(),notes:`Demande partielle ou totale. Solde dispo: ${r}. Demand: ${B}.`});if(U)throw U;c({title:"Demande envoye !",description:`${B.toLocaleString()} FCFA demands via ${p}.`,variant:"success"}),i&&i(),t(!1)}catch(L){console.error("Withdrawal error:",L),c({title:"Erreur",description:L.message||"Impossible de traiter la demande.",variant:"destructive"})}finally{f(!1)}},M=p.toLowerCase().includes("bank")||p.toLowerCase().includes("virement")||p.toLowerCase().includes("banque");return s.jsx(To,{open:e,onOpenChange:t,children:s.jsxs(xo,{className:"sm:max-w-[450px]",children:[s.jsxs(ko,{children:[s.jsxs(Po,{className:"flex items-center gap-2 text-xl",children:[s.jsx(qo,{className:"h-6 w-6 text-primary"}),"Retrait de Salaire"]}),s.jsx(dl,{children:"Vous pouvez retirer tout ou une partie de votre solde disponible."})]}),s.jsxs("div",{className:"grid gap-5 py-2",children:[s.jsxs(zc,{className:"bg-blue-50 border-blue-200 text-blue-800 py-3",children:[s.jsx(of,{className:"h-4 w-4 text-blue-600"}),s.jsxs(Rf,{className:"text-sm font-bold ml-2",children:["Solde Disponible: ",r.toLocaleString()," FCFA"]}),s.jsxs(mu,{className:"text-xs ml-2 opacity-90 mt-1",children:["Comprend ",n.toLocaleString()," FCFA valids + ",a.toLocaleString()," FCFA estims."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"amount",className:"font-medium",children:"Montant  retirer (FCFA)"}),s.jsxs("div",{className:"relative",children:[s.jsx(er,{id:"amount",type:"number",value:h,onChange:B=>g(B.target.value),placeholder:"Entrez le montant...",className:"pr-20 text-lg font-semibold"}),s.jsx(Ue,{type:"button",variant:"ghost",className:"absolute right-1 top-1 h-7 text-xs text-primary hover:text-primary/80",onClick:()=>g(r),children:"Tout retirer"})]}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground px-1",children:[s.jsxs("span",{children:["Min: ",C.toLocaleString()]}),s.jsxs("span",{className:Number(h)>r?"text-red-500 font-bold":"",children:["Max: ",Math.min(j,r).toLocaleString()]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{className:"font-medium",children:"Mthode de paiement"}),s.jsxs(Ai,{value:p,onValueChange:N,children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Slectionnez un moyen de paiement"})}),s.jsx(yi,{children:T.map((B,L)=>s.jsx(on,{value:B,children:B},L))})]})]}),p&&s.jsx("div",{className:"space-y-3 bg-muted/30 p-3 rounded-md border border-dashed border-muted-foreground/20 animate-in fade-in zoom-in-95 duration-200",children:M?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(jt,{className:"text-xs",children:"Nom de la banque"}),s.jsx(er,{className:"bg-white h-9",value:b.bank_name,onChange:B=>S({...b,bank_name:B.target.value}),placeholder:"Ex: Ecobank, UBA..."})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(jt,{className:"text-xs",children:"RIB / Numro de compte"}),s.jsx(er,{className:"bg-white h-9",value:b.bank_account,onChange:B=>S({...b,bank_account:B.target.value}),placeholder:"CI059..."})]})]}):s.jsxs("div",{className:"space-y-1",children:[s.jsxs(jt,{className:"text-xs",children:["Numro de tlphone (",p,")"]}),s.jsx(er,{className:"bg-white h-9",value:b.phone,onChange:B=>S({...b,phone:B.target.value}),placeholder:"+237..."})]})})]}),s.jsxs(Jc,{className:"gap-2 sm:gap-0",children:[s.jsx(Ue,{variant:"outline",onClick:()=>t(!1),children:"Annuler"}),s.jsxs(Ue,{onClick:O,disabled:u||!h||!p,className:"w-full sm:w-auto",children:[u&&s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirmer le retrait"]})]})]})})};var hbt=Symbol("radix.slottable");function mbt(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=hbt,t}var[$T,N5t]=Nc("Tooltip",[B1]),zT=B1(),upe="TooltipProvider",pbt=700,pR="tooltip.open",[gbt,yB]=$T(upe),dpe=e=>{const{__scopeTooltip:t,delayDuration:r=pbt,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=A.useRef(!0),l=A.useRef(!1),c=A.useRef(0);return A.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(gbt,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:A.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:A.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};dpe.displayName=upe;var C5="Tooltip",[xbt,VT]=$T(C5),fpe=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=yB(C5,e.__scopeTooltip),u=zT(t),[f,h]=A.useState(null),g=_d(),p=A.useRef(0),N=o??c.disableHoverableContent,b=l??c.delayDuration,S=A.useRef(!1),[C,j]=_c({prop:n,defaultProp:a??!1,onChange:L=>{L?(c.onOpen(),document.dispatchEvent(new CustomEvent(pR))):c.onClose(),i==null||i(L)},caller:C5}),T=A.useMemo(()=>C?S.current?"delayed-open":"instant-open":"closed",[C]),O=A.useCallback(()=>{window.clearTimeout(p.current),p.current=0,S.current=!1,j(!0)},[j]),M=A.useCallback(()=>{window.clearTimeout(p.current),p.current=0,j(!1)},[j]),B=A.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{S.current=!0,j(!0),p.current=0},b)},[b,j]);return A.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(Kj,{...u,children:s.jsx(xbt,{scope:t,contentId:g,open:C,stateAttribute:T,trigger:f,onTriggerChange:h,onTriggerEnter:A.useCallback(()=>{c.isOpenDelayedRef.current?B():O()},[c.isOpenDelayedRef,B,O]),onTriggerLeave:A.useCallback(()=>{N?M():(window.clearTimeout(p.current),p.current=0)},[M,N]),onOpen:O,onClose:M,disableHoverableContent:N,children:r})})};fpe.displayName=C5;var gR="TooltipTrigger",hpe=A.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=VT(gR,r),i=yB(gR,r),o=zT(r),l=A.useRef(null),c=Ra(t,l,a.onTriggerChange),u=A.useRef(!1),f=A.useRef(!1),h=A.useCallback(()=>u.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(z5,{asChild:!0,...o,children:s.jsx(Dn.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Rr(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:Rr(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:Rr(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Rr(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Rr(e.onBlur,a.onClose),onClick:Rr(e.onClick,a.onClose)})})});hpe.displayName=gR;var vbt="TooltipPortal",[S5t,ybt]=$T(vbt,{forceMount:void 0}),ib="TooltipContent",mpe=A.forwardRef((e,t)=>{const r=ybt(ib,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=VT(ib,e.__scopeTooltip);return s.jsx(td,{present:n||o.open,children:o.disableHoverableContent?s.jsx(ppe,{side:a,...i,ref:t}):s.jsx(bbt,{side:a,...i,ref:t})})}),bbt=A.forwardRef((e,t)=>{const r=VT(ib,e.__scopeTooltip),n=yB(ib,e.__scopeTooltip),a=A.useRef(null),i=Ra(t,a),[o,l]=A.useState(null),{trigger:c,onClose:u}=r,f=a.current,{onPointerInTransitChange:h}=n,g=A.useCallback(()=>{l(null),h(!1)},[h]),p=A.useCallback((N,b)=>{const S=N.currentTarget,C={x:N.clientX,y:N.clientY},j=Cbt(C,S.getBoundingClientRect()),T=Abt(C,j),O=Ebt(b.getBoundingClientRect()),M=Tbt([...T,...O]);l(M),h(!0)},[h]);return A.useEffect(()=>()=>g(),[g]),A.useEffect(()=>{if(c&&f){const N=S=>p(S,f),b=S=>p(S,c);return c.addEventListener("pointerleave",N),f.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",N),f.removeEventListener("pointerleave",b)}}},[c,f,p,g]),A.useEffect(()=>{if(o){const N=b=>{const S=b.target,C={x:b.clientX,y:b.clientY},j=(c==null?void 0:c.contains(S))||(f==null?void 0:f.contains(S)),T=!jbt(C,o);j?g():T&&(g(),u())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[c,f,o,u,g]),s.jsx(ppe,{...e,ref:i})}),[wbt,_bt]=$T(C5,{isInside:!1}),Nbt=mbt("TooltipContent"),ppe=A.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=VT(ib,r),u=zT(r),{onClose:f}=c;return A.useEffect(()=>(document.addEventListener(pR,f),()=>document.removeEventListener(pR,f)),[f]),A.useEffect(()=>{if(c.trigger){const h=g=>{const p=g.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),s.jsx(Vx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:s.jsxs(Yj,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Nbt,{children:n}),s.jsx(wbt,{scope:r,isInside:!0,children:s.jsx(fwe,{id:c.contentId,role:"tooltip",children:a||n})})]})})});mpe.displayName=ib;var gpe="TooltipArrow",Sbt=A.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=zT(r);return _bt(gpe,r).isInside?null:s.jsx(Xj,{...a,...n,ref:t})});Sbt.displayName=gpe;function Cbt(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Abt(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Ebt(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function jbt(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,f=l.y,h=c.x,g=c.y;f>n!=g>n&&r<(h-u)*(n-f)/(g-f)+u&&(a=!a)}return a}function Tbt(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),kbt(t)}function kbt(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Pbt=dpe,Obt=fpe,Ibt=hpe,xpe=mpe;const Fbt=Pbt,Dbt=Obt,Rbt=Ibt,vpe=Ve.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(xpe,{ref:n,sideOffset:t,className:kr("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));vpe.displayName=xpe.displayName;const Mbt=()=>{const{user:e}=bn(),{userProfile:t}=ai(),[r,n]=A.useState(!0),[a,i]=A.useState([]),[o,l]=A.useState([]),[c,u]=A.useState(null),[f,h]=A.useState(0),[g,p]=A.useState(0),[N,b]=A.useState(0),[S,C]=A.useState(0),[j,T]=A.useState(0),[O,M]=A.useState({withdrawal_available_date:5}),[B,L]=A.useState(!1),[H,U]=A.useState(!1),[J,K]=A.useState(null),[G,re]=A.useState(null),ae=A.useCallback(async()=>{if(e){console.log("Refreshing balance..."),n(!0);try{const{data:le}=await Je.from("admin_withdrawal_config").select("*").limit(1).maybeSingle(),xe=le||{withdrawal_available_date:5};M(xe);const Se=new Date,ye=Se.getDate(),ee=xe.withdrawal_available_date;let he;ye>=ee?he=Se:he=nIe(Se,ee),K(he);const{data:se}=await Je.from("admin_balances").select("available_balance").eq("admin_id",e.id).maybeSingle(),te=(se==null?void 0:se.available_balance)||0;h(te);const{data:ge,error:ue}=await Je.rpc("get_admin_salary_stats",{p_admin_id:e.id,p_month:new Date().toISOString()});let Ce=0;!ue&&ge&&(Ce=ge.total_salary_fcfa||0,p(Ce),T(ge.personal_score||0));const{data:Ne}=await Je.from("admin_payment_info").select("*").eq("admin_id",e.id).maybeSingle();re(Ne);const{data:Ee,error:Ge}=await Je.from("admin_withdrawal_requests").select("*").eq("admin_id",e.id).order("requested_at",{ascending:!1});if(Ge)throw Ge;const Be=Ee||[];l(Be),i(Be.filter(ar=>ar.status==="approved"));const st=Be.filter(ar=>ar.status==="pending").reduce((ar,Tt)=>ar+(Tt.amount_fcfa||0),0);C(st);const lt=Math.max(0,te+Ce-st);b(lt);const Me=ye>=ee,wt=lt>0,_t=Be.some(ar=>ar.status==="pending");U(Me&&wt&&!_t)}catch(le){console.error("Error fetching salary data:",le),ot({title:"Erreur",description:"Impossible de charger les donnes financires.",variant:"destructive"})}finally{n(!1)}}},[e]);A.useEffect(()=>{if(!e)return;const le=Je.channel("admin-salary-updates").on("postgres_changes",{event:"*",schema:"public",table:"admin_withdrawal_requests",filter:`admin_id=eq.${e.id}`},xe=>{console.log("Real-time: Withdrawal request update detected",xe),ae()}).on("postgres_changes",{event:"*",schema:"public",table:"admin_balances",filter:`admin_id=eq.${e.id}`},xe=>{console.log("Real-time: Balance update detected",xe),ae()}).subscribe();return()=>{Je.removeChannel(le)}},[e,ae]),A.useEffect(()=>{ae()},[ae]);const X=le=>{if(!le||!G)return null;const xe=le.toLowerCase();return xe.includes("orange")?G.orange_money:xe.includes("mtn")?G.mtn_money:xe.includes("moov")?G.moov_money:xe.includes("wave")?G.wave_number:xe.includes("bank")&&G.bank_iban?G.bank_iban:null},ne=le=>le?`+237 ${le.substring(0,2)} ${le.substring(2,4)} ${le.substring(4,6)} ${le.substring(6,8)}`:"",de=async le=>{var xe,Se,ye,ee,he,se;if(!(!le||!t)){u(le.id);try{const te=new na,ge=te.internal.pageSize.getWidth(),ue=20;te.setFillColor(30,41,59),te.rect(0,0,ge,50,"F"),te.setTextColor(255,255,255),te.setFontSize(22),te.setFont("helvetica","bold"),te.text("BONPLANINFOS",ue,30),te.setFontSize(14),te.setFont("helvetica","normal"),te.text("REU DE PAIEMENT CERTIFI",ge-ue,30,{align:"right"}),te.setFontSize(10),te.text("Document officiel de transaction",ge-ue,37,{align:"right"}),te.setDrawColor(79,70,229),te.setLineWidth(1),te.line(ue,55,ge-ue,55),te.setTextColor(0,0,0),te.setFontSize(10),te.text(`Date d'mission: ${mi(new Date,"dd/MM/yyyy HH:mm")}`,ue,65),te.text(`N de rfrence: ${le.id.substring(0,8).toUpperCase()}`,ue,72),te.text("Type de transaction: Retrait Salaire Administrateur",ge-ue,65,{align:"right"}),te.text("Statut: PAY",ge-ue,72,{align:"right"}),te.setFontSize(14),te.setFont("helvetica","bold"),te.setTextColor(30,41,59),te.text("INFORMATIONS DU BNFICIAIRE",ge/2,90,{align:"center"}),te.setDrawColor(200,200,200),te.setLineWidth(.5),te.rect(ue,95,ge-2*ue,70),te.setFontSize(10),te.setFont("helvetica","bold"),te.text("Nom complet:",ue+5,108),te.setFont("helvetica","normal"),te.text((t==null?void 0:t.full_name)||(e==null?void 0:e.email)||"Non spcifi",ue+40,108),te.setFont("helvetica","bold"),te.text("Email:",ue+5,116),te.setFont("helvetica","normal"),te.text((t==null?void 0:t.email)||"Non spcifi",ue+40,116),te.setFont("helvetica","bold"),te.text("Tlphone:",ue+5,124),te.setFont("helvetica","normal"),te.text(ne(t==null?void 0:t.phone)||(t==null?void 0:t.phone)||"Non spcifi",ue+40,124),te.setFont("helvetica","bold"),te.text("Ville:",ue+5,132),te.setFont("helvetica","normal"),te.text((t==null?void 0:t.city)||"Non spcifie",ue+40,132),te.setFont("helvetica","bold"),te.text("Pays:",ue+5,140),te.setFont("helvetica","normal"),te.text((t==null?void 0:t.country)||"Non spcifi",ue+40,140),te.setFont("helvetica","bold"),te.text("Type de licence:",ge/2,108),te.setFont("helvetica","normal"),te.text((t==null?void 0:t.license_type)||"Administrateur",ge/2+45,108),te.setFont("helvetica","bold"),te.text("N de licence:",ge/2,116),te.setFont("helvetica","normal"),te.text((t==null?void 0:t.license_number)||"N/A",ge/2+45,116),te.setFont("helvetica","bold"),te.text("IBAN:",ge/2,124),te.setFont("helvetica","normal"),te.text((G==null?void 0:G.bank_iban)||"Non spcifi",ge/2+45,124),te.setFont("helvetica","bold"),te.text("Mthode retrait:",ge/2,132),te.setFont("helvetica","normal"),te.text(le.method||"Non spcifie",ge/2+45,132),te.setFont("helvetica","bold"),te.text("ID Admin:",ge/2,140),te.setFont("helvetica","normal"),te.text(((xe=e==null?void 0:e.id)==null?void 0:xe.substring(0,8))||"N/A",ge/2+45,140),te.setFontSize(16),te.setFont("helvetica","bold"),te.setTextColor(79,70,229),te.text("DTAILS DU PAIEMENT",ge/2,165,{align:"center"}),te.setFillColor(34,197,94),te.rect(ue,170,ge-2*ue,40,"F"),te.setTextColor(255,255,255),te.setFontSize(18),te.setFont("helvetica","bold"),te.text("MONTANT VERS",ge/2,185,{align:"center"});const Ce=((Se=le.amount_fcfa)==null?void 0:Se.toString().replace(/\//g,".").replace(/\s/g,"."))||((ye=le.amount_fcfa)==null?void 0:ye.toString());te.setTextColor(255,255,255),te.setFontSize(28),te.setFont("helvetica","bold"),te.text(`${Ce} FCFA`,ge/2,205,{align:"center"}),te.setTextColor(0,0,0),te.setFontSize(10),te.setFont("helvetica","normal");const Ne=220;te.text("Dtails transactionnels:",ue,Ne);const Ee=X(le.method),Ge=[["Date de demande",mi(new Date(le.requested_at),"dd/MM/yyyy HH:mm")],["Date de traitement",le.processed_at?mi(new Date(le.processed_at),"dd/MM/yyyy HH:mm"):mi(new Date,"dd/MM/yyyy HH:mm")],["Rfrence interne",`BPI-${le.id.substring(0,6).toUpperCase()}`]];Ee&&Ge.push(["N compte/portefeuille",Ee]),Ge.forEach(([st,lt],Me)=>{const wt=Ne+10+Me*8;te.setFont("helvetica","bold"),te.text(`${st}:`,ue,wt),te.setFont("helvetica","normal"),te.text(lt,ue+70,wt)}),((ee=le.method)!=null&&ee.toLowerCase().includes("mobile")||(he=le.method)!=null&&he.toLowerCase().includes("money"))&&(te.setFillColor(255,251,235),te.rect(ue,265,ge-2*ue,25,"F"),te.setDrawColor(252,211,77),te.setLineWidth(.5),te.rect(ue,265,ge-2*ue,25),te.setTextColor(194,65,12),te.setFontSize(8),te.setFont("helvetica","bold"),te.text(" POUR TRANSFERT MOBILE MONEY",ue+5,275),te.setFont("helvetica","normal"),te.setTextColor(0,0,0),te.text(`Envoyez le paiement au: ${ne(Ee)||Ee||(t==null?void 0:t.phone)||""}`,ue+5,282)),te.setFillColor(30,41,59),te.rect(0,300,ge,40,"F"),te.setTextColor(255,255,255),te.setFontSize(8),te.setFont("helvetica","normal"),te.text("BonPlanInfos - Plateforme d'information et de services",ge/2,315,{align:"center"}),te.text("Email: support@bonplaninfos.com | Tlphone: +237 6XX XX XX XX",ge/2,322,{align:"center"}),te.text(" 2025 BonPlanInfos. Tous droits rservs. Ce document fait foi de paiement.",ge/2,329,{align:"center"}),te.setTextColor(240,240,240,20),te.setFontSize(60),te.setFont("helvetica","bold"),te.text("PAY",ge/2,200,{align:"center",angle:45});const Be=`recu_paiement_${((se=t==null?void 0:t.full_name)==null?void 0:se.replace(/\s+/g,"_"))||"admin"}_${le.amount_fcfa}_${mi(new Date(le.requested_at),"yyyyMMdd")}.pdf`;te.save(Be),ot({title:"Reu gnr avec succs",description:"Votre reu de paiement a t tlcharg.",variant:"default"})}catch(te){console.error("Erreur gnration PDF:",te),ot({title:"Erreur",description:"Impossible de gnrer le PDF.",variant:"destructive"})}finally{u(null)}}};return r&&!N?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[H&&s.jsxs("div",{className:"bg-green-100 border border-green-200 text-green-800 px-6 py-4 rounded-lg flex items-center justify-between shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-green-200 p-2 rounded-full",children:s.jsx(qo,{className:"w-5 h-5 text-green-700"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold",children:"Salaire disponible pour retrait !"}),s.jsx("p",{className:"text-sm",children:"Vous pouvez retirer votre solde valid ainsi que votre estimation du mois courant."})]})]}),s.jsx(Ue,{onClick:()=>L(!0),className:"bg-green-600 hover:bg-green-700 text-white border-none shadow-md",children:"Retirer maintenant"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(qt,{className:"md:col-span-1 shadow-lg border-primary/10 bg-gradient-to-br from-white to-indigo-50/30 dark:from-gray-900 dark:to-gray-800/50",children:[s.jsx(zr,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Wr,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Solde Total Disponible"}),s.jsx(Fbt,{children:s.jsxs(Dbt,{children:[s.jsx(Rbt,{children:s.jsx(of,{className:"w-4 h-4 text-muted-foreground"})}),s.jsx(vpe,{children:s.jsx("p",{children:"Calcul: (Valid + Estimation) - Demandes en attente"})})]})})]})}),s.jsxs(Xt,{children:[s.jsxs("div",{className:"text-3xl font-bold text-primary mb-1",children:[N.toLocaleString()," ",s.jsx("span",{className:"text-lg text-muted-foreground",children:"FCFA"})]}),s.jsxs("div",{className:"mt-3 mb-4 bg-white/50 dark:bg-black/20 p-2 rounded border border-indigo-100 dark:border-indigo-900 text-xs space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Solde valid:"}),s.jsxs("span",{className:"font-semibold",children:[f.toLocaleString()," FCFA"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Estimation en cours:"}),s.jsxs("span",{className:"font-semibold text-indigo-600",children:["+",g.toLocaleString()," FCFA"]})]}),S>0&&s.jsxs("div",{className:"flex justify-between text-amber-600",children:[s.jsx("span",{children:"En attente:"}),s.jsxs("span",{className:"font-semibold",children:["-",S.toLocaleString()," FCFA"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[s.jsx(Vr,{variant:H?"success":"secondary",className:"rounded-full px-2",children:H?"Retrait ouvert":S>0?"Retrait en cours":"En attente"}),!H&&!S&&s.jsxs("span",{className:"text-muted-foreground text-xs flex items-center gap-1",children:[s.jsx(R0,{className:"w-3 h-3"})," Dispo le ",O.withdrawal_available_date," du mois"]})]}),s.jsx(Ue,{className:"w-full",onClick:()=>L(!0),disabled:!H,children:H?"Demander un retrait":S>0?"Traitement en cours...":`Disponible le ${O.withdrawal_available_date}`})]})]}),s.jsxs(qt,{className:"md:col-span-1 shadow-md",children:[s.jsx(zr,{className:"pb-2",children:s.jsx(Wr,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Performance (Mois en cours)"})}),s.jsxs(Xt,{children:[s.jsxs("div",{className:"text-3xl font-bold text-gray-700 dark:text-gray-200 mb-1",children:[g.toLocaleString()," ",s.jsx("span",{className:"text-lg text-muted-foreground",children:"FCFA"})]}),s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Score Personnel"}),s.jsx("span",{className:"font-bold text-indigo-600",children:j.toFixed(2)})]}),s.jsx(M4,{value:j*100,className:"h-2"}),s.jsx("p",{className:"text-xs text-muted-foreground italic",children:"* Votre performance actuelle est incluse dans le solde disponible pour retrait."})]})]})]}),s.jsxs(qt,{className:"md:col-span-1 shadow-md bg-slate-50 dark:bg-slate-900/50",children:[s.jsx(zr,{className:"pb-2",children:s.jsx(Wr,{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Prochaine Date"})}),s.jsxs(Xt,{className:"flex flex-col justify-center h-[140px]",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx(Vwe,{className:"w-10 h-10 text-indigo-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:J?mi(J,"dd MMMM yyyy",{locale:Vc}):"---"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ouverture des retraits"})]})]}),s.jsx("div",{className:"text-xs text-muted-foreground mt-2 bg-white dark:bg-slate-800 p-2 rounded border",children:s.jsxs("p",{className:"flex items-start gap-2",children:[s.jsx(Kc,{className:"w-3 h-3 mt-0.5 text-amber-500"}),"Les demandes sont traites sous 48h ouvres aprs soumission."]})})]})]})]}),s.jsxs(qt,{className:"shadow-lg",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"flex items-center gap-2",children:[s.jsx($u,{className:"w-5 h-5"})," Historique des Retraits"]}),s.jsx(Ya,{children:"Consultez l'tat de vos demandes et tlchargez vos reus."})]}),s.jsx(Xt,{children:o.length>0?s.jsxs(cf,{children:[s.jsx(uf,{children:s.jsxs(pi,{children:[s.jsx(Sn,{children:"Date demande"}),s.jsx(Sn,{children:"Montant"}),s.jsx(Sn,{children:"Mthode"}),s.jsx(Sn,{children:"Statut"}),s.jsx(Sn,{className:"text-right",children:"Reu"})]})}),s.jsx(df,{children:o.map(le=>s.jsxs(pi,{children:[s.jsx(rn,{className:"font-medium",children:mi(new Date(le.requested_at),"dd/MM/yyyy HH:mm")}),s.jsxs(rn,{className:"font-bold text-indigo-600",children:[le.amount_fcfa.toLocaleString()," FCFA"]}),s.jsx(rn,{children:s.jsx("span",{className:"capitalize",children:le.method||le.withdrawal_method||"---"})}),s.jsx(rn,{children:s.jsx(Vr,{variant:le.status==="approved"||le.status==="paid"?"success":le.status==="rejected"?"destructive":"secondary",children:le.status==="approved"?"Valid":le.status==="paid"?"Pay":le.status==="rejected"?"Rejet":"En attente"})}),s.jsx(rn,{className:"text-right",children:(le.status==="approved"||le.status==="paid")&&s.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>de(le),disabled:c===le.id,children:c===le.id?s.jsx(Jt,{className:"h-4 w-4 animate-spin"}):s.jsx(Ym,{className:"h-4 w-4 text-gray-500"})})})]},le.id))})]}):s.jsxs("div",{className:"text-center py-12 text-muted-foreground bg-muted/10 rounded-lg border border-dashed border-muted-foreground/20",children:[s.jsx(Cd,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),s.jsx("p",{children:"Aucun historique de retrait pour le moment."})]})})]}),s.jsx(fbt,{open:B,onOpenChange:L,availableAmount:N,validatedAmount:f,estimatedAmount:g,adminId:e==null?void 0:e.id,config:O,onSuccess:()=>{ae(),console.log("Withdrawal request created successfully")}})]})},Lbt=()=>{const[e,t]=A.useState("requests");return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Retraits Salaires"}),s.jsx("p",{className:"text-muted-foreground",children:"Supervisez et validez les demandes de salaire des administrateurs."})]})}),s.jsxs(H0,{value:e,onValueChange:t,children:[s.jsxs(Hh,{children:[s.jsx(Gn,{value:"requests",children:"Demandes en attente"}),s.jsx(Gn,{value:"history",children:"Historique"}),s.jsx(Gn,{value:"config",children:"Configuration"})]}),s.jsx(Kn,{value:"requests",className:"space-y-4 animate-in fade-in slide-in-from-left-2",children:s.jsx(tJ,{status:"pending"})}),s.jsx(Kn,{value:"history",className:"space-y-4 animate-in fade-in slide-in-from-left-2",children:s.jsx(tJ,{status:"history"})}),s.jsx(Kn,{value:"config",className:"space-y-4 animate-in fade-in slide-in-from-left-2",children:s.jsx(Bbt,{})})]})]})},tJ=({status:e})=>{const{user:t}=bn(),[r,n]=A.useState([]),[a,i]=A.useState(!0),[o,l]=A.useState(null),c=async()=>{i(!0);try{let f=Je.from("admin_withdrawal_requests").select(`
                    *,
                    admin:admin_id (
                        full_name,
                        email,
                        phone,
                        city,
                        country
                    )
                `).order("requested_at",{ascending:!1});e==="pending"?f=f.eq("status","pending"):f=f.neq("status","pending");const{data:h,error:g}=await f;if(g)throw g;n(h||[])}catch(f){console.error("Error fetching requests:",f),ot({title:"Erreur",description:"Impossible de charger les demandes.",variant:"destructive"})}finally{i(!1)}};A.useEffect(()=>{c()},[e]);const u=async(f,h)=>{l(f);try{if(h==="approved"){const{data:g,error:p}=await Je.rpc("approve_admin_withdrawal",{p_request_id:f,p_processed_by:t.id});if(p)throw p;if(!g.success)throw new Error(g.message);ot({title:"Succs",description:"Demande approuve et solde mis  jour.",variant:"success"})}else{const{error:g}=await Je.from("admin_withdrawal_requests").update({status:"rejected",processed_at:new Date().toISOString(),processed_by:t.id}).eq("id",f);if(g)throw g;ot({title:"Rejet",description:"Demande rejete."})}c()}catch(g){console.error("Processing error:",g),ot({title:"Erreur",description:g.message,variant:"destructive"})}finally{l(null)}};return a?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx(Jt,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs(qt,{children:[s.jsxs(zr,{children:[s.jsx(Wr,{children:e==="pending"?"Validations requises":"Historique complet"}),s.jsx(Ya,{children:"Vrifiez les identifiants de paiement avant de valider."})]}),s.jsx(Xt,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(cf,{children:[s.jsx(uf,{children:s.jsxs(pi,{children:[s.jsx(Sn,{children:"Demandeur"}),s.jsx(Sn,{children:"Montant"}),s.jsx(Sn,{children:"Dtails Paiement"}),s.jsx(Sn,{children:"Infos Contact"}),s.jsx(Sn,{children:"Date"}),s.jsx(Sn,{children:"Statut"}),e==="pending"&&s.jsx(Sn,{className:"text-right",children:"Actions"})]})}),s.jsx(df,{children:r.length===0?s.jsx(pi,{children:s.jsx(rn,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Aucune demande trouve."})}):r.map(f=>{var h,g,p,N,b,S,C,j,T,O;return s.jsxs(pi,{className:f.status==="pending"?"bg-muted/20":"",children:[s.jsx(rn,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:((g=(h=f.admin)==null?void 0:h.full_name)==null?void 0:g.charAt(0))||"A"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:(p=f.admin)==null?void 0:p.full_name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:(N=f.admin)==null?void 0:N.email})]})]})}),s.jsxs(rn,{children:[s.jsx("span",{className:"font-bold text-lg text-primary",children:(b=f.amount_fcfa)==null?void 0:b.toLocaleString("fr-FR")}),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:"FCFA"})]}),s.jsx(rn,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(Vr,{variant:"outline",className:"w-fit capitalize",children:(S=f.method)==null?void 0:S.replace("_"," ")}),s.jsx("div",{className:"flex items-center gap-1.5 text-sm font-medium",children:(C=f.method)!=null&&C.includes("bank")?s.jsxs(s.Fragment,{children:[s.jsx(jm,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsxs("span",{children:[f.bank_name," - ",f.account_number]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Jwe,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{children:f.mobile_money_number||f.account_number})]})})]})}),s.jsx(rn,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[s.jsx(D5,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{children:((j=f.admin)==null?void 0:j.phone)||"N/A"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[(T=f.admin)==null?void 0:T.city,", ",(O=f.admin)==null?void 0:O.country]})]})}),s.jsxs(rn,{children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:mi(new Date(f.requested_at),"dd MMM yyyy",{locale:Vc})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:mi(new Date(f.requested_at),"HH:mm")})]}),s.jsx(rn,{children:s.jsx(Vr,{variant:f.status==="pending"?"secondary":f.status==="approved"?"success":"destructive",children:f.status==="approved"?"Valid":f.status==="pending"?"En attente":"Refus"})}),e==="pending"&&s.jsx(rn,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Ue,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white h-8 w-8 p-0",onClick:()=>u(f.id,"approved"),disabled:o===f.id,title:"Approuver",children:o===f.id?s.jsx(Jt,{className:"h-4 w-4 animate-spin"}):s.jsx(Hx,{className:"h-4 w-4"})}),s.jsx(Ue,{size:"sm",variant:"destructive",className:"h-8 w-8 p-0",onClick:()=>u(f.id,"rejected"),disabled:o===f.id,title:"Rejeter",children:o===f.id?s.jsx(Jt,{className:"h-4 w-4 animate-spin"}):s.jsx(kl,{className:"h-4 w-4"})})]})})]},f.id)})})]})})})]})},Bbt=()=>{const[e,t]=A.useState({withdrawal_available_date:5,min_withdrawal_amount:1e3,max_withdrawal_amount:5e5,withdrawal_methods:["Orange Money","Bank Transfer"]}),[r,n]=A.useState(!0),[a,i]=A.useState(!1),o=async()=>{n(!0);try{const{data:c,error:u}=await Je.from("admin_withdrawal_config").select("*").limit(1).maybeSingle();c&&t(c)}catch(c){console.error("Error config:",c)}finally{n(!1)}};A.useEffect(()=>{o()},[]);const l=async()=>{i(!0);try{const c={withdrawal_available_date:parseInt(e.withdrawal_available_date),min_withdrawal_amount:parseInt(e.min_withdrawal_amount),max_withdrawal_amount:parseInt(e.max_withdrawal_amount),withdrawal_methods:Array.isArray(e.withdrawal_methods)?e.withdrawal_methods:e.withdrawal_methods.split(",").map(f=>f.trim())},{error:u}=await Je.from("admin_withdrawal_config").upsert(e.id?{...c,id:e.id}:c);if(u)throw u;ot({title:"Configuration sauvegarde",variant:"success"}),o()}catch(c){ot({title:"Erreur",description:c.message,variant:"destructive"})}finally{i(!1)}};return r?s.jsx("div",{className:"flex justify-center p-10",children:s.jsx(Jt,{className:"animate-spin"})}):s.jsxs(qt,{children:[s.jsxs(zr,{children:[s.jsx(Wr,{children:"Configuration du systme"}),s.jsx(Ya,{children:"Paramtres globaux pour les retraits administrateurs."})]}),s.jsxs(Xt,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Jour d'ouverture (du mois)"}),s.jsx(er,{type:"number",min:"1",max:"28",value:e.withdrawal_available_date,onChange:c=>t({...e,withdrawal_available_date:c.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Date  partir de laquelle le retrait est possible."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Mthodes autorises (virgule)"}),s.jsx(er,{value:Array.isArray(e.withdrawal_methods)?e.withdrawal_methods.join(", "):e.withdrawal_methods,onChange:c=>t({...e,withdrawal_methods:c.target.value.split(",")})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Minimim (FCFA)"}),s.jsx(er,{type:"number",value:e.min_withdrawal_amount,onChange:c=>t({...e,min_withdrawal_amount:c.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Maximum (FCFA)"}),s.jsx(er,{type:"number",value:e.max_withdrawal_amount,onChange:c=>t({...e,max_withdrawal_amount:c.target.value})})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs(Ue,{onClick:l,disabled:a,children:[a&&s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),s.jsx(R5,{className:"mr-2 h-4 w-4"})," Sauvegarder"]})})]})]})},Ubt=({userProfile:e})=>{const{t}=Xa(),[r,n]=A.useState({credited:0,purchased:0,activeUsers:0,monthlyRevenue:0}),[a,i]=A.useState(!0),o=A.useCallback(async()=>{if(!(e!=null&&e.country)){i(!1);return}i(!0);try{const l=new Date,c=new Date(l.getFullYear(),l.getMonth(),1),u=new Date(l.getFullYear(),l.getMonth()+1,0);let f=Je.from("transactions").select("amount_pi").eq("country",e.country).eq("transaction_type","manual_credit").gte("created_at",c.toISOString()).lte("created_at",u.toISOString());e.city&&(f=f.eq("city",e.city));const{data:h,error:g}=await f;if(g)throw g;const p=h.reduce((H,U)=>H+(U.amount_pi||0),0);let N=Je.from("user_coin_transactions").select(`
                    amount_fcfa,
                    user:user_id!inner(country, city)
                `).eq("user.country",e.country).gte("created_at",c.toISOString()).lte("created_at",u.toISOString()).eq("status","completed");e.city&&(N=N.eq("user.city",e.city));const{data:b,error:S}=await N;if(S)throw S;const C=b.reduce((H,U)=>H+(Number(U.amount_fcfa)||0),0);let j=Je.from("profiles").select("id",{count:"exact"}).eq("country",e.country).eq("is_active",!0);e.city&&(j=j.eq("city",e.city));const{count:T,error:O}=await j;if(O)throw O;const L=p*10+C;n({credited:p,purchased:C,activeUsers:T||0,monthlyRevenue:L})}catch(l){console.error("Failed to fetch admin stats:",l),ot({title:t("admin_dashboard.stats.error_title"),description:l.message,variant:"destructive"})}finally{i(!1)}},[e,t]);return A.useEffect(()=>{o()},[o]),a?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:s.jsxs(qt,{className:"glass-effect shadow-lg",children:[s.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Wr,{className:"text-sm font-medium",children:"Chargement..."}),s.jsx(Jt,{className:"h-5 w-5 text-primary animate-spin"})]}),s.jsx(Xt,{children:s.jsx("div",{className:"text-2xl font-bold",children:"..."})})]})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs(qt,{className:"glass-effect shadow-lg border-l-4 border-l-green-500",children:[s.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Wr,{className:"text-sm font-medium",children:t("admin_dashboard.stats.revenue_title")}),s.jsx(Eh,{className:"h-5 w-5 text-green-500"})]}),s.jsxs(Xt,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[r.monthlyRevenue.toLocaleString("fr-FR")," FCFA"]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsxs("span",{className:"block",children:["Achats: ",r.purchased.toLocaleString("fr-FR")," FCFA"]}),s.jsxs("span",{className:"block",children:["Crdits: ",(r.credited*10).toLocaleString("fr-FR")," FCFA (",r.credited," )"]})]})]})]}),s.jsxs(qt,{className:"glass-effect shadow-lg",children:[s.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Wr,{className:"text-sm font-medium",children:"Utilisateurs actifs"}),s.jsx(ao,{className:"h-5 w-5 text-primary"})]}),s.jsxs(Xt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.activeUsers.toLocaleString("fr-FR")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"dans votre zone"})]})]}),s.jsxs(qt,{className:"glass-effect shadow-lg",children:[s.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Wr,{className:"text-sm font-medium",children:"Zone"}),s.jsx(Eo,{className:"h-5 w-5 text-primary"})]}),s.jsxs(Xt,{children:[s.jsxs("div",{className:"text-lg font-bold",children:[e==null?void 0:e.country,(e==null?void 0:e.city)&&`, ${e.city}`]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e!=null&&e.city?"Ville spcifique":"Tout le pays"})]})]})]})},$bt=({user:e})=>{const{t}=Xa(),[r,n]=A.useState(null),[a,i]=A.useState({days:0,hours:0,minutes:0,seconds:0,expired:!1,totalSeconds:0}),[o,l]=A.useState(!0),[c,u]=A.useState(!1),f=A.useCallback(async()=>{if(!(e!=null&&e.id))return;l(!0);const{data:J,error:K}=await Je.from("partners").select("*, license:license_id(*)").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();K?ot({title:t("admin_dashboard.license.partner_error_title"),variant:"destructive",description:K.message}):n(J),l(!1)},[e,t]);A.useEffect(()=>{f()},[f]),A.useEffect(()=>{if(!(r!=null&&r.expiration_date))return;const J=()=>{const G=new Date(r.expiration_date),re=new Date,ae=G.getTime()-re.getTime();if(ae<=0){i({days:0,hours:0,minutes:0,seconds:0,expired:!0,totalSeconds:0});return}const X=Math.floor(ae/1e3),ne=Math.floor(X/(3600*24)),de=Math.floor(X%(3600*24)/3600),le=Math.floor(X%3600/60),xe=Math.floor(X%60);i({days:ne,hours:de,minutes:le,seconds:xe,expired:!1,totalSeconds:X})};J();const K=setInterval(J,1e3);return()=>clearInterval(K)},[r==null?void 0:r.expiration_date]);const h=async()=>{if(r){u(!0);try{const{error:J}=await Je.from("licence_renewal_requests").insert({admin_id:e.id,licence_id:r.license_id,status:"pending",request_date:new Date().toISOString()});if(J)throw J;ot({title:t("admin_dashboard.license.renewal_sent_title"),description:t("admin_dashboard.license.renewal_sent_desc")})}catch(J){ot({title:t("common.error_title"),description:t("admin_dashboard.license.renewal_error_desc")+J.message,variant:"destructive"})}finally{u(!1)}}};if(o)return s.jsx("div",{className:"p-4 mb-6 rounded-lg bg-background/50 flex justify-center items-center",children:s.jsx(Jt,{className:"animate-spin"})});if(!r)return null;const g=new Date(r.activation_date),p=new Date(r.expiration_date),{days:N,hours:b,minutes:S,seconds:C,expired:j,totalSeconds:T}=a,O=new Date,M=new Date(r.expiration_date),B=Math.ceil((M-O)/(1e3*60*60*24));let L="",H="";j?(L="bg-red-500/20 text-red-800 dark:bg-red-900/50 dark:text-red-300",H=t("admin_dashboard.license.status_expired")):N>30?(L="bg-green-500/20 text-green-800 dark:bg-green-900/50 dark:text-green-300",H=t("admin_dashboard.license.status_active")):N>7?(L="bg-yellow-500/20 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",H=t("Licence")):(L="bg-orange-500/20 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",H=t("admin_dashboard.license.status_critical"));const U=(J,K)=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-2xl font-bold",children:J.toString().padStart(2,"0")}),s.jsx("span",{className:"text-xs",children:K})]});return s.jsxs("div",{className:`p-4 mb-6 rounded-lg border ${L} transition-colors duration-300`,children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yf,{className:"w-6 h-6 flex-shrink-0"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-lg",children:[t("admin_dashboard.license.status_title"),":",s.jsxs("span",{className:`ml-2 px-2 py-1 rounded-md ${B>30?"bg-green-500 text-white":B>7?"bg-yellow-500 text-white":B>0?"bg-orange-500 text-white":"bg-red-500 text-white"}`,children:[r.license.name," - ",H]})]}),s.jsxs("div",{className:"text-xs mt-2 space-y-1 text-gray-300",children:[s.jsxs("p",{children:[t("admin_dashboard.license.activated_on"),":"," ",g.toLocaleDateString("fr-FR")]}),s.jsxs("p",{children:[t("admin_dashboard.license.expires_on"),":"," ",p.toLocaleDateString("fr-FR")]}),r.license.commission_rate&&s.jsxs("p",{children:["Taux de commission:"," ",s.jsxs("strong",{children:[r.license.commission_rate,"%"]})]})]})]})]}),s.jsx("div",{className:"text-center",children:j?s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-lg text-red-600",children:t("admin_dashboard.license.expired_since",{count:Math.floor(Math.abs(T)/(3600*24))})}),s.jsx("p",{className:"text-xs mt-2",children:"Licence expire"})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[U(N,"Jours"),s.jsx("span",{className:"text-xl font-bold",children:":"}),U(b,"Heures"),s.jsx("span",{className:"text-xl font-bold",children:":"}),U(S,"Minutes"),s.jsx("span",{className:"text-xl font-bold",children:":"}),U(C,"Secondes")]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t("admin_dashboard.license.days_remaining")})]})}),s.jsxs(hl,{children:[s.jsx(nL,{asChild:!0,children:s.jsxs(Ue,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white w-full sm:w-auto",disabled:c,children:[c?s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(qc,{className:"mr-2 h-4 w-4"}),t("admin_dashboard.license.renew_button")]})}),s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:t("admin_dashboard.license.confirm_renewal_title")}),s.jsx(el,{children:t("admin_dashboard.license.confirm_renewal_desc")})]}),s.jsxs(ml,{children:[s.jsx(gl,{children:t("common.cancel")}),s.jsx(pl,{onClick:h,disabled:c,children:c?s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}):t("common.confirm")})]})]})]})]}),!j&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Temps restant"}),s.jsxs("span",{children:[N," jours"]})]}),s.jsx("div",{className:"h-2 bg-white/30 dark:bg-black/30 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-1000 ${N>30?"bg-green-500":N>7?"bg-yellow-500":"bg-orange-500"}`,style:{width:`${Math.min(100,T/(90*24*3600)*100)}%`}})})]})]})},zbt=({status:e})=>{const{t}=Xa();if(e==="active")return null;let r,n;switch(e){case"pending_verification":case"pending":r=t("admin_dashboard.banner.pending"),n="bg-yellow-500/20 text-yellow-300 border-yellow-500/30";break;case"suspended":r=t("admin_dashboard.banner.suspended"),n="bg-orange-500/20 text-orange-300 border-orange-500/30";break;case"expired":r=t("admin_dashboard.banner.expired"),n="bg-red-500/20 text-red-300 border-red-500/30";break;default:return null}return s.jsxs("div",{className:`p-4 mb-6 rounded-lg border flex items-center gap-3 ${n}`,children:[s.jsx(Kc,{className:"w-6 h-6 flex-shrink-0"}),s.jsx("p",{className:"font-semibold",children:r})]})},Vbt=()=>{const{t:e}=Xa(),{user:t}=bn(),{userProfile:r,loadingProfile:n,getPromotions:a,getEvents:i}=ai(),[o,l]=A.useState([]),[c,u]=A.useState([]),[f,h]=A.useState([]),[g,p]=A.useState([]),[N,b]=A.useState([]),[S,C]=A.useState([]),[j,T]=A.useState(!0),[O,M]=A.useState("analytics"),[B,L]=A.useState("inactive"),[H,U]=A.useState(null),J=(r==null?void 0:r.user_type)==="super_admin",K=(r==null?void 0:r.user_type)==="admin",G=(r==null?void 0:r.user_type)==="secretary"&&(r==null?void 0:r.appointed_by_super_admin),re=J||B==="active";A.useEffect(()=>{(async()=>{const{data:{session:le},error:xe}=await Je.auth.getSession();(xe||!le)&&(console.warn("Invalid session on dashboard load. Redirecting."),await Je.auth.signOut(),window.location.href="/auth")})()},[]),A.useEffect(()=>{(async()=>{const{data:{user:le}}=await Je.auth.getUser();if(le&&le.id!==(t==null?void 0:t.id)){const{data:xe}=await Je.from("profiles").select("*").eq("id",le.id).single();U(xe)}else U(null)})()},[t]);const ae=async()=>{T(!0);const{error:de}=await Je.auth.revert();de?(ot({title:"Erreur",description:de.message,variant:"destructive"}),T(!1)):(ot({title:"Retour  la normale",description:"Vous tes revenu  votre compte."}),window.location.reload())};A.useEffect(()=>{K&&t&&(async()=>{const{data:le,error:xe}=await Je.from("partners").select("status, expiration_date").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(1).single();if(xe&&xe.code!=="PGRST116")console.error("Error fetching partner status:",xe);else if(le){const Se=new Date;new Date(le.expiration_date)<Se?L("expired"):L(le.status)}})()},[K,t]),A.useEffect(()=>{J?M("analytics"):K||G&&M("credits")},[J,K,G]);const X=A.useCallback(async()=>{if(!(!r||!t)){T(!0);try{const de=K?r.country:null,le=()=>{let ge=Je.from("profiles").select("*");return de&&!J&&(ge=ge.eq("country",de),r.city&&(ge=ge.eq("city",r.city))),ge};let xe;J&&(xe=Je.from("transactions").select(`
                    id, amount_pi, amount_fcfa, description, created_at, transaction_type,
                    user:user_id (full_name, email)
                `).order("created_at",{ascending:!1}));const[Se,ye,ee,he,se,te]=await Promise.all([le(),Je.from("announcements").select("*").order("created_at",{ascending:!1}),i(de?{country:de}:{}),a(de?{country:de}:{}),Je.from("welcome_popups").select("*").order("created_at",{ascending:!1}),xe||Promise.resolve({data:[],error:null})]);if(Se.error)throw Se.error;if(ye.error)throw ye.error;if(se.error)throw se.error;if(te.error)throw te.error;l(Se.data||[]),u(ye.data||[]),h(ee||[]),p(he||[]),te.data&&C(te.data.map(ge=>{var ue,Ce;return{id:ge.id,user_full_name:(ue=ge.user)==null?void 0:ue.full_name,user_email:(Ce=ge.user)==null?void 0:Ce.email,description:ge.description,amount:ge.amount_pi,amount_fcfa:ge.amount_fcfa,created_at:ge.created_at,status:"completed",type:ge.transaction_type}}))}catch(de){console.error("Error fetching admin data:",de),ot({title:e("admin_dashboard.loading_error_title"),description:de.message,variant:"destructive"})}finally{T(!1)}}},[r,K,J,t,a,i,e]);if(A.useEffect(()=>{r&&X()},[r,X]),n||j)return s.jsx("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8 flex items-center justify-center",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})});if(!t||!J&&!K&&!G)return s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[s.jsx("h1",{className:"text-2xl text-red-500",children:e("admin_dashboard.unauthorized_title")}),s.jsx("p",{className:"text-muted-foreground",children:e("admin_dashboard.unauthorized_desc")})]});const ne=J?e("admin_dashboard.super_admin_title"):K?e("admin_dashboard.admin_title",{country:r.country}):e("admin_dashboard.secretary_title");return s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8 relative",children:[H&&s.jsx(rL,{user:H,onRevert:ae}),s.jsxs("header",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:ne}),s.jsx("p",{className:"text-muted-foreground",children:e("admin_dashboard.welcome",{name:r.full_name||t.email})}),K&&(r==null?void 0:r.country)&&s.jsx("div",{className:"mt-2",children:s.jsxs(Vr,{variant:"outline",className:"text-sm",children:[s.jsx(Eo,{className:"w-3 h-3 mr-1"}),"Zone: ",r.country,r.city&&`, ${r.city}`]})})]}),K&&re&&(r==null?void 0:r.country)&&s.jsx(Ubt,{userProfile:r}),K&&re&&s.jsx($bt,{user:r}),K&&s.jsx(zbt,{status:B}),s.jsxs(H0,{value:O,onValueChange:M,className:"w-full",children:[s.jsxs(Hh,{className:"flex flex-wrap h-auto items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",children:[J&&s.jsxs(s.Fragment,{children:[s.jsxs(Gn,{value:"analytics",children:[s.jsx(Bwe,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.analytics")]}),s.jsxs(Gn,{value:"credit_stats",children:[s.jsx(Fwe,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.credit_stats")]}),s.jsxs(Gn,{value:"activity_log",children:[s.jsx(Mp,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.activity_log")]}),s.jsxs(Gn,{value:"transactions",children:[s.jsx(nx,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.transactions")]}),s.jsxs(Gn,{value:"payments",children:[s.jsx(Eh,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.payments")]}),s.jsxs(Gn,{value:"users",children:[s.jsx(ao,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.users")]}),s.jsxs(Gn,{value:"secretaries",children:[s.jsx(my,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.secretaries")]}),s.jsxs(Gn,{value:"credits",children:[s.jsx(jm,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.credits")]}),s.jsxs(Gn,{value:"reversed_credits",children:[s.jsx(o1,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.reversed_credits")]}),s.jsxs(Gn,{value:"withdrawals",children:[s.jsx(qo,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawals")]}),s.jsxs(Gn,{value:"salary_withdrawals",children:[s.jsx(qo,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.salary_withdrawals")]}),s.jsxs(Gn,{value:"withdrawal_history",children:[s.jsx(nx,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawal_history")]}),s.jsxs(Gn,{value:"events",children:[s.jsx(oo,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.events")]}),s.jsxs(Gn,{value:"locations",children:[s.jsx(Eo,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.locations")]}),s.jsxs(Gn,{value:"promotions",children:[s.jsx(xx,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.promotions")]}),s.jsxs(Gn,{value:"partners",children:[s.jsx($we,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.partners")]}),s.jsxs(Gn,{value:"badges",children:[s.jsx(hy,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.badges")]}),s.jsxs(Gn,{value:"announcements",children:[s.jsx(Vte,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.announcements")]}),s.jsxs(Gn,{value:"popups",children:[s.jsx(Ij,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.popups")]}),s.jsxs(Gn,{value:"videos",children:[s.jsx(Qte,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.videos")]}),s.jsxs(Gn,{value:"config",children:[s.jsx(fb,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.config")]}),s.jsxs(Gn,{value:"zone_reset",children:[s.jsx(Pj,{className:"w-4 h-4 mr-2"}),"Rinitialisation Zones"]})]}),K&&re&&s.jsxs(s.Fragment,{children:[s.jsxs(Gn,{value:"salary",children:[s.jsx(qo,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.salary")||"Salaire"]}),s.jsxs(Gn,{value:"events",children:[s.jsx(oo,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.events")]}),s.jsxs(Gn,{value:"locations",children:[s.jsx(Eo,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.locations")]}),s.jsxs(Gn,{value:"promotions",children:[s.jsx(xx,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.promotions")]}),s.jsxs(Gn,{value:"credits_history",children:[s.jsx(jm,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.credits_history")||"Historique Crdits"]}),s.jsxs(Gn,{value:"reversed_credits",children:[s.jsx(o1,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.reversed_credits")]}),s.jsxs(Gn,{value:"withdrawals",children:[s.jsx(qo,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawals")]}),s.jsxs(Gn,{value:"users",children:[s.jsx(ao,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.users")]}),s.jsxs(Gn,{value:"secretaries",children:[s.jsx(my,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.secretaries")]}),s.jsxs(Gn,{value:"activity_log",children:[s.jsx(Mp,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.activity_log")]})]}),G&&s.jsxs(s.Fragment,{children:[s.jsxs(Gn,{value:"credits",children:[s.jsx(jm,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.credits")]}),s.jsxs(Gn,{value:"reversed_credits",children:[s.jsx(o1,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.reversed_credits")]}),s.jsxs(Gn,{value:"withdrawals",children:[s.jsx(qo,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawals")]}),s.jsxs(Gn,{value:"withdrawal_history",children:[s.jsx(nx,{className:"w-4 h-4 mr-2"}),e("admin_dashboard.tabs.withdrawal_history")]})]})]}),J&&s.jsxs(s.Fragment,{children:[s.jsx(Kn,{value:"analytics",children:s.jsx(wht,{})}),s.jsx(Kn,{value:"credit_stats",children:s.jsx(dbt,{})}),s.jsx(Kn,{value:"activity_log",children:s.jsx(JZ,{})}),s.jsx(Kn,{value:"transactions",children:s.jsx(k2t,{transactions:S})}),s.jsx(Kn,{value:"payments",children:s.jsx(cbt,{})}),s.jsx(Kn,{value:"users",children:s.jsx(Vq,{users:o,onRefresh:X})}),s.jsx(Kn,{value:"secretaries",children:s.jsx(qZ,{users:o,onRefresh:X})}),s.jsx(Kn,{value:"credits",children:s.jsx(mR,{onRefresh:X})}),s.jsx(Kn,{value:"reversed_credits",children:s.jsx(CC,{isSuperAdmin:!0})}),s.jsx(Kn,{value:"withdrawals",children:s.jsx(_C,{})}),s.jsx(Kn,{value:"salary_withdrawals",children:s.jsx(Lbt,{})}),s.jsx(Kn,{value:"withdrawal_history",children:s.jsx(eJ,{})}),s.jsx(Kn,{value:"events",children:s.jsx(WZ,{events:f,onRefresh:X})}),s.jsx(Kn,{value:"locations",children:s.jsx(QZ,{})}),s.jsx(Kn,{value:"promotions",children:s.jsx(HZ,{promotions:g,onRefresh:X})}),s.jsx(Kn,{value:"partners",children:s.jsx(Tht,{})}),s.jsx(Kn,{value:"badges",children:s.jsx(E2t,{})}),s.jsx(Kn,{value:"announcements",children:s.jsx(b2t,{announcements:c,onRefresh:X})}),s.jsx(Kn,{value:"popups",children:s.jsx(S2t,{popups:N,onRefresh:X})}),s.jsx(Kn,{value:"videos",children:s.jsx(Eht,{})}),s.jsx(Kn,{value:"config",children:s.jsx(rBe,{})}),s.jsx(Kn,{value:"zone_reset",children:s.jsx(ubt,{})})]}),K&&re&&s.jsxs(s.Fragment,{children:[s.jsx(Kn,{value:"salary",children:s.jsx(Mbt,{userProfile:r})}),s.jsx(Kn,{value:"events",children:s.jsx(WZ,{events:f,userProfile:r,onRefresh:X})}),s.jsx(Kn,{value:"locations",children:s.jsx(QZ,{userProfile:r})}),s.jsx(Kn,{value:"promotions",children:s.jsx(HZ,{promotions:g,userProfile:r,onRefresh:X})}),s.jsx(Kn,{value:"credits_history",children:s.jsx(C2t,{userProfile:r})}),s.jsx(Kn,{value:"reversed_credits",children:s.jsx(CC,{isSuperAdmin:!1,country:r.country,userProfile:r})}),s.jsx(Kn,{value:"withdrawals",children:s.jsx(_C,{userProfile:r})}),s.jsx(Kn,{value:"users",children:s.jsx(Vq,{users:o,userProfile:r,onRefresh:X})}),s.jsx(Kn,{value:"secretaries",children:s.jsx(qZ,{users:o,userProfile:r,onRefresh:X})}),s.jsx(Kn,{value:"activity_log",children:s.jsx(JZ,{userProfile:r})})]}),G&&s.jsxs(s.Fragment,{children:[s.jsx(Kn,{value:"credits",children:s.jsx(mR,{onRefresh:X,userProfile:r})}),s.jsx(Kn,{value:"reversed_credits",children:s.jsx(CC,{isSuperAdmin:!1,actorId:r.id,userProfile:r})}),s.jsx(Kn,{value:"withdrawals",children:s.jsx(_C,{userProfile:r})}),s.jsx(Kn,{value:"withdrawal_history",children:s.jsx(eJ,{actorId:r.id,userProfile:r})})]})]})]})},Wbt=({users:e,onRefresh:t})=>{const{userProfile:r}=ai(),{user:n}=bn(),[a,i]=A.useState(!1),[o,l]=A.useState(null),[c,u]=A.useState(!1),[f,h]=A.useState(""),[g,p]=A.useState(""),[N,b]=A.useState(""),[S,C]=A.useState({page:0,size:20}),j=A.useMemo(()=>e?e.filter(U=>{var J,K,G,re;return U.country===(r==null?void 0:r.country)&&(((J=U.full_name)==null?void 0:J.toLowerCase().includes(N.toLowerCase()))||((K=U.email)==null?void 0:K.toLowerCase().includes(N.toLowerCase()))||((G=U.user_type)==null?void 0:G.toLowerCase().includes(N.toLowerCase()))||((re=U.affiliate_code)==null?void 0:re.toLowerCase().includes(N.toLowerCase())))}):[],[e,N,r==null?void 0:r.country]),T=A.useMemo(()=>{const U=S.page*S.size,J=U+S.size;return j.slice(U,J)},[j,S]),O=Math.ceil(j.length/S.size),M=async U=>{const J=!U.is_active;i(!0);try{const{error:K}=await Je.from("profiles").update({is_active:J}).eq("id",U.id);if(K)throw K;ot({title:J?"Utilisateur ractiv":"Utilisateur dsactiv",description:`Le compte de ${U.full_name||U.email} est maintenant ${J?"actif":"inactif"}.`,variant:J?"default":"destructive"}),t&&t()}catch(K){console.error("Status toggle error:",K),ot({title:"Erreur",description:K.message,variant:"destructive"})}finally{i(!1)}},B=U=>{l(U),h(""),p(""),u(!0)},L=async()=>{if(!o||!f||a)return;const U=parseInt(f,10);if(isNaN(U)||U<=0){ot({title:"Erreur",description:"Veuillez entrer un montant valide.",variant:"destructive"});return}i(!0);try{const{data:J,error:K}=await Je.rpc("credit_user_coins",{p_user_id:o.id,p_amount:U,p_reason:g,p_creditor_id:n.id});if(K)throw K;if(!J.success)throw new Error(J.message||"chec du crdit utilisateur.");ot({title:"Succs",description:J.message||`Utilisateur ${o.full_name} crdit de ${U} pices.`}),t&&t(),u(!1)}catch(J){ot({title:"Erreur",description:J.message,variant:"destructive"})}finally{i(!1)}},H=U=>{U&&(navigator.clipboard.writeText(U),ot({title:"Copi",description:"Code copi"}))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4 items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Gestion des Utilisateurs (",r==null?void 0:r.country,")"]}),s.jsxs("div",{className:"relative w-full md:w-auto",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(er,{placeholder:"Rechercher (nom, email, code)...",value:N,onChange:U=>b(U.target.value),className:"pl-10 max-w-sm"})]})]}),s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(cf,{children:[s.jsx(uf,{children:s.jsxs(pi,{children:[s.jsx(Sn,{children:"Utilisateur"}),s.jsx(Sn,{children:"Statut"}),s.jsx(Sn,{children:"Rle"}),s.jsx(Sn,{children:"Solde"}),s.jsx(Sn,{children:"Code Parrainage"}),s.jsx(Sn,{className:"text-right",children:"Actions"})]})}),s.jsx(df,{children:a&&T.length===0?s.jsx(pi,{children:s.jsx(rn,{colSpan:6,className:"h-24 text-center",children:s.jsx(Jt,{className:"mx-auto h-6 w-6 animate-spin"})})}):T.length===0?s.jsx(pi,{children:s.jsx(rn,{colSpan:6,className:"h-24 text-center text-muted-foreground",children:"Aucun utilisateur trouv."})}):T.map(U=>s.jsxs(pi,{children:[s.jsx(rn,{children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"font-medium",children:[s.jsx("div",{children:U.full_name||"Sans nom"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:U.email})]})})}),s.jsx(rn,{children:s.jsx(Vr,{variant:U.is_active?"success":"destructive",className:"text-[10px]",children:U.is_active?"Actif":"Inactif"})}),s.jsx(rn,{children:s.jsx(Vr,{variant:"outline",children:U.user_type})}),s.jsx(rn,{children:s.jsxs("div",{className:"flex flex-col text-xs",children:[s.jsxs("span",{className:"font-semibold",children:[U.coin_balance||0,"  (Payant)"]}),s.jsxs("span",{className:"text-muted-foreground",children:[U.free_coin_balance||0,"  (Gratuit)"]})]})}),s.jsx(rn,{children:U.affiliate_code?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs font-mono",children:U.affiliate_code}),s.jsx(Ue,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>H(U.affiliate_code),children:s.jsx(dy,{className:"h-3 w-3"})})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Non gnr"})}),s.jsx(rn,{className:"text-right",children:s.jsxs(q5,{children:[s.jsx(G5,{asChild:!0,children:s.jsx(Ue,{variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(Hte,{className:"h-4 w-4"})})}),s.jsxs(vb,{align:"end",children:[s.jsx(K5,{children:"Actions"}),s.jsx(E1,{}),s.jsxs(md,{onClick:()=>B(U),children:[s.jsx(za,{className:"mr-2 h-4 w-4 text-primary"})," Crditer"]}),s.jsx(md,{onClick:()=>M(U),disabled:a,children:U.is_active?s.jsxs(s.Fragment,{children:[s.jsx(Mte,{className:"mr-2 h-4 w-4 text-orange-500"}),s.jsx("span",{className:"text-orange-500",children:"Dsactiver"})]}):s.jsxs(s.Fragment,{children:[s.jsx(jl,{className:"mr-2 h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-green-500",children:"Ractiver"})]})})]})]})})]},U.id))})]})}),s.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[s.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>C(U=>({...U,page:Math.max(0,U.page-1)})),disabled:S.page===0,children:"Prcdent"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",S.page+1," sur ",O||1]}),s.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>C(U=>({...U,page:Math.min(O-1,U.page+1)})),disabled:S.page>=O-1,children:"Suivant"})]}),s.jsx(To,{open:c,onOpenChange:u,children:s.jsxs(xo,{children:[s.jsxs(ko,{children:[s.jsxs(Po,{children:["Crditer l'utilisateur: ",o==null?void 0:o.full_name]}),s.jsx(dl,{children:"Ajouter des pices au solde de l'utilisateur."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(jt,{htmlFor:"amount",className:"text-right",children:"Montant ()"}),s.jsx(er,{id:"amount",type:"number",value:f,onChange:U=>h(U.target.value),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(jt,{htmlFor:"reason",className:"text-right",children:"Raison"}),s.jsx(ec,{id:"reason",value:g,onChange:U=>p(U.target.value),className:"col-span-3"})]})]}),s.jsxs(Jc,{children:[s.jsx(Ue,{variant:"outline",onClick:()=>u(!1),children:"Annuler"}),s.jsx(Ue,{onClick:L,disabled:a,children:a?s.jsx(Jt,{className:"w-4 h-4 animate-spin"}):"Crditer"})]})]})})]})};var ype="Toggle",bpe=A.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n,onPressedChange:a,...i}=e,[o,l]=_c({prop:r,onChange:a,defaultProp:n??!1,caller:ype});return s.jsx(Dn.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:Rr(e.onClick,()=>{e.disabled||l(!o)})})});bpe.displayName=ype;var Z1="ToggleGroup",[wpe,C5t]=Nc(Z1,[xb]),_pe=xb(),bB=Ve.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const a=n;return s.jsx(Hbt,{...a,ref:t})}if(r==="multiple"){const a=n;return s.jsx(qbt,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Z1}\``)});bB.displayName=Z1;var[Npe,Spe]=wpe(Z1),Hbt=Ve.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=_c({prop:r,defaultProp:n??"",onChange:a,caller:Z1});return s.jsx(Npe,{scope:e.__scopeToggleGroup,type:"single",value:Ve.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:Ve.useCallback(()=>l(""),[l]),children:s.jsx(Cpe,{...i,ref:t})})}),qbt=Ve.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=_c({prop:r,defaultProp:n??[],onChange:a,caller:Z1}),c=Ve.useCallback(f=>l((h=[])=>[...h,f]),[l]),u=Ve.useCallback(f=>l((h=[])=>h.filter(g=>g!==f)),[l]);return s.jsx(Npe,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:u,children:s.jsx(Cpe,{...i,ref:t})})});bB.displayName=Z1;var[Gbt,Kbt]=wpe(Z1),Cpe=Ve.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:a=!0,orientation:i,dir:o,loop:l=!0,...c}=e,u=_pe(r),f=qx(o),h={role:"group",dir:f,...c};return s.jsx(Gbt,{scope:r,rovingFocus:a,disabled:n,children:a?s.jsx(fM,{asChild:!0,...u,orientation:i,dir:f,loop:l,children:s.jsx(Dn.div,{...h,ref:t})}):s.jsx(Dn.div,{...h,ref:t})})}),ZE="ToggleGroupItem",Ape=Ve.forwardRef((e,t)=>{const r=Spe(ZE,e.__scopeToggleGroup),n=Kbt(ZE,e.__scopeToggleGroup),a=_pe(e.__scopeToggleGroup),i=r.value.includes(e.value),o=n.disabled||e.disabled,l={...e,pressed:i,disabled:o},c=Ve.useRef(null);return n.rovingFocus?s.jsx(hM,{asChild:!0,...a,focusable:!o,active:i,ref:c,children:s.jsx(rJ,{...l,ref:t})}):s.jsx(rJ,{...l,ref:t})});Ape.displayName=ZE;var rJ=Ve.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...a}=e,i=Spe(ZE,r),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=i.type==="single"?o:void 0;return s.jsx(bpe,{...l,...a,ref:t,onPressedChange:c=>{c?i.onItemActivate(n):i.onItemDeactivate(n)}})}),Epe=bB,jpe=Ape;const Tpe=Ve.createContext({size:"default",variant:"default"}),xR=Ve.forwardRef(({className:e,variant:t,size:r,children:n,...a},i)=>s.jsx(Epe,{ref:i,className:kr("flex items-center justify-center gap-1",e),...a,children:s.jsx(Tpe.Provider,{value:{variant:t,size:r},children:n})}));xR.displayName=Epe.displayName;const Ybt=Wx("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),r2=Ve.forwardRef(({className:e,children:t,variant:r,size:n,...a},i)=>{const o=Ve.useContext(Tpe);return s.jsx(jpe,{ref:i,className:kr(Ybt({variant:r||o.variant,size:n||o.size}),e),...a,children:t})});r2.displayName=jpe.displayName;const Xbt=()=>{const{t:e}=Xa(),{userProfile:t}=ai(),{user:r}=bn(),[n,a]=A.useState([]),[i,o]=A.useState([]),[l,c]=A.useState(!0),[u,f]=A.useState("events"),[h,g]=A.useState(""),[p,N]=A.useState("all"),b=A.useCallback(async(O,M,B={})=>{await Je.from("admin_logs").insert({actor_id:r.id,action_type:O,target_id:M,details:B})},[r.id]),S=A.useCallback(async()=>{if(t!=null&&t.country){c(!0);try{const[O,M]=await Promise.all([Je.from("events").select("*, organizer:organizer_id(full_name)").eq("country",t.country),Je.from("locations").select("*, user:user_id(full_name)").eq("country",t.country)]);if(O.error)throw O.error;if(M.error)throw M.error;a(O.data||[]),o(M.data||[])}catch{ot({title:e("common.error_title"),description:"Impossible de charger les donnes.",variant:"destructive"})}finally{c(!1)}}},[t==null?void 0:t.country,e]);A.useEffect(()=>{S()},[S]);const C=A.useMemo(()=>{let M=(u==="events"?n:i).filter(B=>{var L,H;return((L=B.name)==null?void 0:L.toLowerCase().includes(h.toLowerCase()))||((H=B.title)==null?void 0:H.toLowerCase().includes(h.toLowerCase()))});if(p!=="all"){const B=p==="active";M=M.filter(L=>L.is_active===B||L.status==="active"&&B||L.status!=="active"&&!B)}return M},[u,n,i,h,p]),j=async(O,M)=>{try{const{error:B}=await Je.rpc(M==="event"?"delete_event_completely":"delete_location",{[M==="event"?"p_event_id":"p_location_id"]:O});if(B)throw B;ot({title:e("common.success_title"),description:`${M==="event"?"vnement":"Lieu"} supprim.`}),await b(`${M}_deleted`,O),S()}catch{ot({title:e("common.error_title"),description:"Impossible de supprimer.",variant:"destructive"})}},T=async(O,M)=>{const B=M==="event"?"events":"locations",L=O.status||O.is_active,H=L==="active"||L===!0?M==="event"?"inactive":!1:M==="event"?"active":!0;try{const{error:U}=await Je.from(B).update({[M==="event"?"status":"is_active"]:H}).eq("id",O.id);if(U)throw U;ot({title:e("common.success_title"),description:"Statut mis  jour."}),await b(`${M}_status_toggled`,O.id,{new_status:H}),S()}catch{ot({title:e("common.error_title"),description:"Mise  jour impossible.",variant:"destructive"})}};return s.jsxs(qt,{className:"glass-effect border-purple-500/20",children:[s.jsxs(zr,{children:[s.jsx(Wr,{children:e("secretary_dashboard.tabs.event_moderation")}),s.jsx(Ya,{children:e("secretary_dashboard.event_moderation.zone_country",{country:t==null?void 0:t.country})})]}),s.jsxs(Xt,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[s.jsxs(xR,{type:"single",value:u,onValueChange:O=>O&&f(O),size:"sm",children:[s.jsxs(r2,{value:"events",children:[s.jsx(oo,{className:"w-4 h-4 mr-2"}),"vnements"]}),s.jsxs(r2,{value:"locations",children:[s.jsx(Eo,{className:"w-4 h-4 mr-2"}),"Lieux"]})]}),s.jsxs("div",{className:"relative flex-grow",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(er,{placeholder:`Rechercher des ${u==="events"?"vnements":"lieux"}...`,value:h,onChange:O=>g(O.target.value),className:"pl-10"})]}),s.jsxs(xR,{type:"single",value:p,onValueChange:O=>O&&N(O),size:"sm",children:[s.jsx(r2,{value:"all",children:e("secretary_dashboard.event_moderation.filter_all")}),s.jsx(r2,{value:"active",children:e("secretary_dashboard.event_moderation.filter_active")}),s.jsx(r2,{value:"inactive",children:e("secretary_dashboard.event_moderation.filter_inactive")})]})]}),l?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Jt,{className:"animate-spin text-primary"})}):s.jsx("div",{className:"space-y-4",children:C.map(O=>{var M,B;return s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-background/50 rounded-lg gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4 flex-grow",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center flex-shrink-0",children:u==="events"?s.jsx(oo,{className:"w-6 h-6 text-primary"}):s.jsx(Eo,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white",children:O.title||O.name}),s.jsx("p",{className:"text-sm text-gray-400",children:u==="events"?`Par ${((M=O.organizer)==null?void 0:M.full_name)||"N/A"}`:`Ajout par ${((B=O.user)==null?void 0:B.full_name)||"N/A"}`})]})]}),s.jsx(Vr,{variant:O.status==="active"||O.is_active?"success":"destructive",className:"text-xs",children:O.status==="active"||O.is_active?"Actif":"Inactif"}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(Ue,{size:"icon",variant:"ghost",onClick:()=>T(O,u==="events"?"event":"location"),className:"hover:text-yellow-400",children:O.status==="active"||O.is_active?s.jsx(L7,{className:"w-4 h-4"}):s.jsx(B7,{className:"w-4 h-4"})}),s.jsxs(hl,{children:[s.jsx(nL,{asChild:!0,children:s.jsx(Ue,{size:"icon",variant:"ghost",className:"hover:text-red-400",children:s.jsx(Yo,{className:"w-4 h-4"})})}),s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsx(Qo,{children:e("secretary_dashboard.event_moderation.confirm_delete_title")}),s.jsx(el,{children:"Cette action est irrversible."})]}),s.jsxs(ml,{children:[s.jsx(gl,{children:e("common.cancel")}),s.jsx(pl,{onClick:()=>j(O.id,u==="events"?"event":"location"),children:e("common.delete")})]})]})]})]})]},O.id)})})]})]})},Zbt=()=>{const{t:e}=Xa(),{user:t}=bn(),{userProfile:r,loadingProfile:n}=ai(),[a,i]=A.useState([]),[o,l]=A.useState(!0),c=A.useCallback(async()=>{if(r!=null&&r.country){l(!0);try{const{data:u,error:f}=await Je.from("profiles").select("*").eq("country",r.country);if(f)throw f;i(u||[])}catch{ot({title:e("common.error_title"),description:"Impossible de charger les donnes.",variant:"destructive"})}finally{l(!1)}}},[r==null?void 0:r.country,e]);return A.useEffect(()=>{r&&c()},[r,c]),n||o?s.jsx("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8 flex items-center justify-center",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})}):!t||(r==null?void 0:r.user_type)!=="secretary"?s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[s.jsx("h1",{className:"text-2xl text-red-500",children:e("admin_dashboard.unauthorized_title")}),s.jsx("p",{className:"text-muted-foreground",children:e("admin_dashboard.unauthorized_desc")})]}):s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[s.jsxs("header",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:e("secretary_dashboard.title")}),s.jsx("p",{className:"text-muted-foreground",children:e("secretary_dashboard.welcome",{name:r.full_name||t.email})}),s.jsx("p",{className:"text-sm text-primary",children:e("secretary_dashboard.competence_zone",{country:r.country})})]}),s.jsxs(H0,{defaultValue:"moderation",className:"w-full",children:[s.jsxs(Hh,{className:"grid w-full grid-cols-2 md:grid-cols-5",children:[s.jsxs(Gn,{value:"moderation",children:[s.jsx(oo,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.event_moderation")]}),s.jsxs(Gn,{value:"users",children:[s.jsx(M5,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.user_management")]}),s.jsxs(Gn,{value:"credits",children:[s.jsx(jm,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.credit_management")]}),s.jsxs(Gn,{value:"reversed_credits",children:[s.jsx(o1,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.reversed_credits")]}),s.jsxs(Gn,{value:"withdrawals",children:[s.jsx(qo,{className:"w-4 h-4 mr-2"}),e("secretary_dashboard.tabs.withdrawal_management")]})]}),s.jsx(Kn,{value:"moderation",className:"mt-4",children:s.jsx(Xbt,{})}),s.jsx(Kn,{value:"users",className:"mt-4",children:s.jsx(Wbt,{users:a,onRefresh:c})}),s.jsx(Kn,{value:"credits",className:"mt-4",children:s.jsx(mR,{users:a,onRefresh:c,userProfile:r})}),s.jsx(Kn,{value:"reversed_credits",className:"mt-4",children:s.jsx(CC,{isSuperAdmin:!1,country:r.country,actorId:t.id})}),s.jsx(Kn,{value:"withdrawals",className:"mt-4",children:s.jsx(_C,{})})]})]})},Jbt=()=>{const{user:e}=bn(),{userProfile:t,loadingProfile:r,adminConfig:n,forceRefreshUserProfile:a}=ai(),i=Ia(),{t:o}=Xa(),[l,c]=A.useState(!1),u=async()=>{c(!0),await a(),setTimeout(()=>c(!1),1e3)};if(r)return s.jsx("div",{className:"flex justify-center items-center h-screen bg-background",children:s.jsx(Jt,{className:"w-16 h-16 animate-spin text-primary"})});if(!e||!t)return s.jsxs("div",{className:"p-4 text-center",children:[s.jsx("p",{children:o("profile_page.unauthorized_desc")}),s.jsx(Ue,{onClick:()=>i("/auth"),children:o("auth.login.button")})]});const{free_coin_balance:f,coin_balance:h,available_earnings:g}=t,p=(f||0)+(h||0),N=(g||0)*((n==null?void 0:n.coin_to_fcfa_rate)||10),b=({icon:S,title:C,value:j,color:T,description:O,isCurrency:M=!1})=>s.jsx(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsxs(qt,{className:`overflow-hidden bg-gradient-to-br ${T} text-white`,children:[s.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Wr,{className:"text-sm font-medium",children:C}),S]}),s.jsxs(Xt,{children:[s.jsx("div",{className:"text-4xl font-bold",children:M?j.toLocaleString():j}),O&&s.jsx("p",{className:"text-xs text-white/80",children:O})]})]})});return s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[s.jsxs("header",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary",children:o("wallet_page.title")}),s.jsx(Ue,{onClick:u,variant:"ghost",size:"icon",disabled:l,children:s.jsx(qc,{className:`h-5 w-5 ${l?"animate-spin":""}`})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-8",children:[s.jsx(b,{icon:s.jsx(qo,{className:"h-6 w-6 text-white/80"}),title:o("wallet_page.total_balance"),value:p.toLocaleString(),color:"from-blue-500 to-indigo-600",description:`(${(f==null?void 0:f.toLocaleString())||0} ${o("wallet_page.free_coins")} + ${(h==null?void 0:h.toLocaleString())||0} ${o("wallet_page.paid_coins")})`}),s.jsx(b,{icon:s.jsx(Eh,{className:"h-6 w-6 text-white/80"}),title:o("wallet_page.available_earnings"),value:(g==null?void 0:g.toLocaleString())||0,color:"from-green-500 to-teal-600",description:o("wallet_page.earnings_in_fcfa",{amount:N.toLocaleString()})}),s.jsx(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsxs(qt,{className:"flex flex-col items-center justify-center h-full bg-gradient-to-br from-amber-400 to-orange-500 text-white",children:[s.jsx(zr,{children:s.jsx(Wr,{children:o("wallet_page.buy_coins_title")})}),s.jsxs(Xt,{className:"flex flex-col items-center",children:[s.jsx("p",{className:"text-center mb-4",children:o("wallet_page.buy_coins_desc")}),s.jsxs(Ue,{onClick:()=>i("/packs"),className:"bg-white text-orange-500 hover:bg-white/90",children:[s.jsx(wm,{className:"mr-2 h-4 w-4"})," ",o("wallet_page.buy_coins_button")]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs(qt,{className:"bg-card/80 backdrop-blur-sm",children:[s.jsx(zr,{children:s.jsxs(Wr,{className:"flex items-center gap-2",children:[s.jsx(za,{className:"text-primary"})," ",o("wallet_page.balance_details_title")]})}),s.jsxs(Xt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-background rounded-lg",children:[s.jsx("span",{className:"font-medium",children:o("wallet_page.free_coins")}),s.jsxs("span",{className:"font-bold text-lg text-green-400",children:[(f==null?void 0:f.toLocaleString())||0," "]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-background rounded-lg",children:[s.jsx("span",{className:"font-medium",children:o("wallet_page.paid_coins")}),s.jsxs("span",{className:"font-bold text-lg text-blue-400",children:[(h==null?void 0:h.toLocaleString())||0," "]})]}),s.jsx("p",{className:"text-xs text-muted-foreground pt-2",children:o("wallet_page.free_coins_desc")})]})]}),s.jsxs(qt,{className:"bg-card/80 backdrop-blur-sm",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"flex items-center gap-2",children:[s.jsx($te,{className:"text-primary"})," ",o("wallet_page.withdrawal_title")]}),s.jsx(Ya,{children:o("wallet_page.withdrawal_desc")})]}),s.jsxs(Xt,{children:[s.jsxs("div",{className:"p-4 rounded-lg bg-background text-center mb-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:o("wallet_page.available_earnings")}),s.jsxs("p",{className:"text-3xl font-bold text-green-400",children:[(g==null?void 0:g.toLocaleString())||0," "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o("wallet_page.earnings_in_fcfa",{amount:N.toLocaleString()})})]}),s.jsx(Ue,{className:"w-full",disabled:(g||0)<((n==null?void 0:n.min_withdrawal_pi)||5e3),children:o("wallet_page.request_withdrawal_button")}),s.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:o("wallet_page.withdrawal_minimum",{amount:(n==null?void 0:n.min_withdrawal_pi)||5e3})})]})]})]}),s.jsx(Zt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:s.jsxs(qt,{className:"mt-8 bg-card/80 backdrop-blur-sm",children:[s.jsx(zr,{children:s.jsx(Wr,{children:"Historique des Transactions"})}),s.jsx(Xt,{children:s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"L'historique des transactions sera bientt disponible ici."})})})]})})]})},Qbt=()=>{var f,h;const{user:e}=bn(),{userProfile:t,updateUserProfile:r}=ai(),[n,a]=A.useState(!1),[i,o]=A.useState({full_name:"",email:"",phone:"",city:"",country:"",bio:"",avatar_url:""});A.useEffect(()=>{t&&o({full_name:t.full_name||"",email:t.email||(e==null?void 0:e.email)||"",phone:t.phone||"",city:t.city||"",country:t.country||"",bio:t.bio||"",avatar_url:t.avatar_url||""})},[t,e]);const l=s3.map(g=>g.name).sort(),c=()=>i.full_name.trim()?!i.email.trim()||!/\S+@\S+\.\S+/.test(i.email)?(console.error("Validation error: email"),ot({title:"Erreur",description:"L'email est invalide.",variant:"destructive"}),!1):i.bio&&i.bio.length>500?(console.error("Validation error: bio length"),ot({title:"Erreur",description:"La biographie est trop longue (max 500 caractres).",variant:"destructive"}),!1):!0:(console.error("Validation error: full_name"),ot({title:"Erreur",description:"Le nom complet est obligatoire.",variant:"destructive"}),!1),u=async()=>{if(c()){a(!0);try{const g=await r(e.id,i);if(g.success)ot({title:"Profil mis  jour",description:"Vos informations ont t sauvegardes avec succs.",variant:"success"});else throw g.error}catch(g){console.error("Error saving profile:",g),ot({title:"Erreur",description:g.message||"Une erreur est survenue lors de la sauvegarde.",variant:"destructive",action:s.jsx(Ue,{variant:"outline",size:"sm",onClick:u,children:"Ressayer"})})}finally{a(!1)}}};return s.jsxs(qt,{className:"glass-effect border-primary/20",children:[s.jsx(zr,{children:s.jsxs(Wr,{className:"text-foreground flex items-center gap-2",children:["Informations personnelles",n&&s.jsx(Jt,{className:"h-4 w-4 animate-spin"})]})}),s.jsxs(Xt,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"name",className:"text-foreground",children:"Nom complet *"}),s.jsx(er,{id:"name",value:i.full_name,onChange:g=>o({...i,full_name:g.target.value}),className:"bg-secondary border-border text-foreground",placeholder:"Votre nom complet"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"email",className:"text-foreground",children:"Email *"}),s.jsx(er,{id:"email",type:"email",value:i.email,onChange:g=>o({...i,email:g.target.value}),className:"bg-secondary border-border text-foreground",placeholder:"votre@email.com"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"phone",className:"text-foreground",children:"Tlphone"}),s.jsx(er,{id:"phone",value:i.phone,onChange:g=>o({...i,phone:g.target.value}),className:"bg-secondary border-border text-foreground",placeholder:"+XXX XXXXXXXXX"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"avatar_url",className:"text-foreground",children:"URL de l'Avatar"}),s.jsx(er,{id:"avatar_url",value:i.avatar_url,onChange:g=>o({...i,avatar_url:g.target.value}),className:"bg-secondary border-border text-foreground",placeholder:"https://exemple.com/photo.jpg"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"country",className:"text-foreground",children:"Pays"}),s.jsxs(Ai,{value:i.country,onValueChange:g=>o({...i,country:g,city:""}),children:[s.jsx(vi,{className:"bg-secondary border-border text-foreground",children:s.jsx(Ei,{placeholder:"Choisir un pays"})}),s.jsx(yi,{className:"bg-card border-border h-60",children:l.map(g=>s.jsx(on,{value:g,className:"text-foreground",children:g},g))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"city",className:"text-foreground",children:"Ville"}),s.jsxs(Ai,{value:i.city,onValueChange:g=>o({...i,city:g}),disabled:!i.country,children:[s.jsx(vi,{className:"bg-secondary border-border text-foreground",children:s.jsx(Ei,{placeholder:"Choisir une ville"})}),s.jsx(yi,{className:"bg-card border-border h-60",children:i.country&&((f=Ny[i.country])==null?void 0:f.map(g=>s.jsx(on,{value:g,className:"text-foreground",children:g},g)))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(jt,{htmlFor:"bio",className:"text-foreground",children:["Biographie (",((h=i.bio)==null?void 0:h.length)||0,"/500)"]}),s.jsx(ec,{id:"bio",value:i.bio,onChange:g=>o({...i,bio:g.target.value}),className:"bg-secondary border-border text-foreground min-h-[100px]",placeholder:"Parlez-nous un peu de vous...",maxLength:500})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(Ue,{onClick:u,disabled:n,className:"gradient-red text-white hover:opacity-90 w-full md:w-auto",children:[n?s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(R5,{className:"w-4 h-4 mr-2"}),n?"Sauvegarde...":"Sauvegarder les modifications"]})})]})]})},ewt=()=>{const{toast:e}=qs(),[t,r]=A.useState(""),[n,a]=A.useState(""),[i,o]=A.useState(!1),[l,c]=A.useState(!1),u=async()=>{if(t!==n){e({title:"Erreur",description:"Les mots de passe ne correspondent pas.",variant:"destructive"});return}if(t.length<6){e({title:"Erreur",description:"Le mot de passe doit contenir au moins 6 caractres.",variant:"destructive"});return}o(!0);try{const{error:h}=await Je.auth.updateUser({password:t});if(h)throw h;e({title:"Succs",description:"Votre mot de passe a t modifi."}),c(!1),r(""),a("")}catch(h){e({title:"Erreur",description:h.message,variant:"destructive"})}finally{o(!1)}},f=()=>{e({title:" Cette fonctionnalit n'est pas encore implmente.",description:"Ne vous inquitez pas ! Vous pouvez la demander dans votre prochaine requte ! "})};return s.jsxs(qt,{className:"glass-effect border-primary/20",children:[s.jsxs(zr,{children:[s.jsx(Wr,{className:"text-foreground",children:"Scurit et Connexion"}),s.jsx(Ya,{className:"text-muted-foreground",children:"Grez vos options de scurit."})]}),s.jsxs(Xt,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground",children:"Changer le mot de passe"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Il est recommand d'utiliser un mot de passe fort."})]}),s.jsxs(To,{open:l,onOpenChange:c,children:[s.jsx(i3,{asChild:!0,children:s.jsx(Ue,{variant:"outline",children:"Changer"})}),s.jsxs(xo,{children:[s.jsxs(ko,{children:[s.jsx(Po,{children:"Changer de mot de passe"}),s.jsx(dl,{children:"Entrez votre nouveau mot de passe ci-dessous."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"new-password",children:"Nouveau mot de passe"}),s.jsx(er,{id:"new-password",type:"password",value:t,onChange:h=>r(h.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"confirm-password",children:"Confirmer le mot de passe"}),s.jsx(er,{id:"confirm-password",type:"password",value:n,onChange:h=>a(h.target.value)})]})]}),s.jsxs(Jc,{children:[s.jsx(Ue,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),s.jsxs(Ue,{onClick:u,disabled:i,children:[i?s.jsx(Jt,{className:"w-4 h-4 animate-spin"}):s.jsx(R0,{className:"w-4 h-4 mr-2"}),"Modifier"]})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground",children:"Authentification  deux facteurs"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez une couche de scurit supplmentaire."})]}),s.jsx(Ue,{variant:"outline",onClick:f,children:"Activer"})]})]})]})},hO={push_notifications_enabled:!0,new_events_notification:!0,promoted_events_notification:!0,nearby_events_notification:!0},twt=()=>{const{user:e}=bn(),[t,r]=A.useState(hO),[n,a]=A.useState(!0),i=A.useCallback(async()=>{if(e){a(!0);try{const{data:c,error:u}=await Je.from("profiles").select("notification_settings").eq("id",e.id).single();if(u&&u.code!=="PGRST116")throw u;c&&c.notification_settings?r({...hO,...c.notification_settings}):r(hO)}catch{ot({title:"Erreur",description:"Impossible de charger les paramtres de notification.",variant:"destructive"})}finally{a(!1)}}},[e,ot]);A.useEffect(()=>{i()},[i]);const o=async()=>{if(e){a(!0);try{const{error:c}=await Je.from("profiles").update({notification_settings:t}).eq("id",e.id);if(c)throw c;ot({title:"Succs",description:"Paramtres de notification enregistrs."})}catch{ot({title:"Erreur",description:"Impossible d'enregistrer les paramtres.",variant:"destructive"})}finally{a(!1)}}},l=c=>{r(u=>({...u,[c]:!u[c]}))};return n?s.jsxs(qt,{className:"glass-effect border-primary/20",children:[s.jsx(zr,{children:s.jsx(Wr,{className:"text-foreground",children:"Paramtres de notification"})}),s.jsx(Xt,{className:"flex items-center justify-center h-48",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})})]}):s.jsxs(qt,{className:"glass-effect border-primary/20",children:[s.jsx(zr,{children:s.jsx(Wr,{className:"text-foreground",children:"Paramtres de notification"})}),s.jsxs(Xt,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(jt,{htmlFor:"push_notifications_enabled",className:"font-medium text-foreground",children:"Activer les notifications Push"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des notifications sur votre appareil."})]}),s.jsx(Zd,{id:"push_notifications_enabled",checked:t.push_notifications_enabled,onCheckedChange:()=>l("push_notifications_enabled")})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(jt,{htmlFor:"new_events_notification",className:"font-medium text-foreground",children:"Nouveaux vnements"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des notifications pour les nouveaux vnements."})]}),s.jsx(Zd,{id:"new_events_notification",checked:t.new_events_notification,onCheckedChange:()=>l("new_events_notification")})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(jt,{htmlFor:"promoted_events_notification",className:"font-medium text-foreground",children:"vnements promus"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des notifications pour les vnements mis en avant."})]}),s.jsx(Zd,{id:"promoted_events_notification",checked:t.promoted_events_notification,onCheckedChange:()=>l("promoted_events_notification")})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(jt,{htmlFor:"nearby_events_notification",className:"font-medium text-foreground",children:"vnements  proximit"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des notifications pour les vnements prs de chez vous."})]}),s.jsx(Zd,{id:"nearby_events_notification",checked:t.nearby_events_notification,onCheckedChange:()=>l("nearby_events_notification")})]})]}),s.jsxs(Ue,{onClick:o,disabled:n,className:"gradient-red text-white",children:[n?s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(R5,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})]})]})};var kpe=["PageUp","PageDown"],Ppe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ope={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Vb="Slider",[vR,rwt,nwt]=ub(Vb),[Ipe,A5t]=Nc(Vb,[nwt]),[awt,WT]=Ipe(Vb),Fpe=A.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:f,onValueChange:h=()=>{},onValueCommit:g=()=>{},inverted:p=!1,form:N,...b}=e,S=A.useRef(new Set),C=A.useRef(0),T=o==="horizontal"?iwt:swt,[O=[],M]=_c({prop:f,defaultProp:u,onChange:K=>{var re;(re=[...S.current][C.current])==null||re.focus(),h(K)}}),B=A.useRef(O);function L(K){const G=dwt(O,K);J(K,G)}function H(K){J(K,C.current)}function U(){const K=B.current[C.current];O[C.current]!==K&&g(O)}function J(K,G,{commit:re}={commit:!1}){const ae=pwt(i),X=gwt(Math.round((K-n)/i)*i+n,ae),ne=_A(X,[n,a]);M((de=[])=>{const le=cwt(de,ne,G);if(mwt(le,c*i)){C.current=le.indexOf(ne);const xe=String(le)!==String(de);return xe&&re&&g(le),xe?le:de}else return de})}return s.jsx(awt,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:C,thumbs:S.current,values:O,orientation:o,form:N,children:s.jsx(vR.Provider,{scope:e.__scopeSlider,children:s.jsx(vR.Slot,{scope:e.__scopeSlider,children:s.jsx(T,{"aria-disabled":l,"data-disabled":l?"":void 0,...b,ref:t,onPointerDown:Rr(b.onPointerDown,()=>{l||(B.current=O)}),min:n,max:a,inverted:p,onSlideStart:l?void 0:L,onSlideMove:l?void 0:H,onSlideEnd:l?void 0:U,onHomeKeyDown:()=>!l&&J(n,0,{commit:!0}),onEndKeyDown:()=>!l&&J(a,O.length-1,{commit:!0}),onStepKeyDown:({event:K,direction:G})=>{if(!l){const X=kpe.includes(K.key)||K.shiftKey&&Ppe.includes(K.key)?10:1,ne=C.current,de=O[ne],le=i*X*G;J(de+le,ne,{commit:!0})}}})})})})});Fpe.displayName=Vb;var[Dpe,Rpe]=Ipe(Vb,{startEdge:"left",endEdge:"right",size:"width",direction:1}),iwt=A.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...f}=e,[h,g]=A.useState(null),p=Ra(t,T=>g(T)),N=A.useRef(void 0),b=qx(a),S=b==="ltr",C=S&&!i||!S&&i;function j(T){const O=N.current||h.getBoundingClientRect(),M=[0,O.width],L=wB(M,C?[r,n]:[n,r]);return N.current=O,L(T-O.left)}return s.jsx(Dpe,{scope:e.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:s.jsx(Mpe,{dir:b,"data-orientation":"horizontal",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const O=j(T.clientX);o==null||o(O)},onSlideMove:T=>{const O=j(T.clientX);l==null||l(O)},onSlideEnd:()=>{N.current=void 0,c==null||c()},onStepKeyDown:T=>{const M=Ope[C?"from-left":"from-right"].includes(T.key);u==null||u({event:T,direction:M?-1:1})}})})}),swt=A.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,f=A.useRef(null),h=Ra(t,f),g=A.useRef(void 0),p=!a;function N(b){const S=g.current||f.current.getBoundingClientRect(),C=[0,S.height],T=wB(C,p?[n,r]:[r,n]);return g.current=S,T(b-S.top)}return s.jsx(Dpe,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:s.jsx(Mpe,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const S=N(b.clientY);i==null||i(S)},onSlideMove:b=>{const S=N(b.clientY);o==null||o(S)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:b=>{const C=Ope[p?"from-bottom":"from-top"].includes(b.key);c==null||c({event:b,direction:C?-1:1})}})})}),Mpe=A.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,f=WT(Vb,r);return s.jsx(Dn.span,{...u,ref:t,onKeyDown:Rr(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):kpe.concat(Ppe).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Rr(e.onPointerDown,h=>{const g=h.target;g.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(g)?g.focus():n(h)}),onPointerMove:Rr(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:Rr(e.onPointerUp,h=>{const g=h.target;g.hasPointerCapture(h.pointerId)&&(g.releasePointerCapture(h.pointerId),i(h))})})}),Lpe="SliderTrack",Bpe=A.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=WT(Lpe,r);return s.jsx(Dn.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});Bpe.displayName=Lpe;var yR="SliderRange",Upe=A.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=WT(yR,r),i=Rpe(yR,r),o=A.useRef(null),l=Ra(t,o),c=a.values.length,u=a.values.map(g=>Vpe(g,a.min,a.max)),f=c>1?Math.min(...u):0,h=100-Math.max(...u);return s.jsx(Dn.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:f+"%",[i.endEdge]:h+"%"}})});Upe.displayName=yR;var bR="SliderThumb",$pe=A.forwardRef((e,t)=>{const r=rwt(e.__scopeSlider),[n,a]=A.useState(null),i=Ra(t,l=>a(l)),o=A.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(owt,{...e,ref:i,index:o})}),owt=A.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=WT(bR,r),l=Rpe(bR,r),[c,u]=A.useState(null),f=Ra(t,j=>u(j)),h=c?o.form||!!c.closest("form"):!0,g=Gj(c),p=o.values[n],N=p===void 0?0:Vpe(p,o.min,o.max),b=uwt(n,o.values.length),S=g==null?void 0:g[l.size],C=S?fwt(S,N,l.direction):0;return A.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${N}% + ${C}px)`},children:[s.jsx(vR.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Dn.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:f,style:p===void 0?{display:"none"}:e.style,onFocus:Rr(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),h&&s.jsx(zpe,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});$pe.displayName=bR;var lwt="RadioBubbleInput",zpe=A.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=A.useRef(null),i=Ra(a,n),o=x6(t);return A.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const h=new Event("input",{bubbles:!0});f.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Dn.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});zpe.displayName=lwt;function cwt(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function Vpe(e,t,r){const i=100/(r-t)*(e-t);return _A(i,[0,100])}function uwt(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function dwt(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function fwt(e,t,r){const n=e/2,i=wB([0,50],[0,n]);return(n-i(t)*r)*r}function hwt(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function mwt(e,t){if(t>0){const r=hwt(e);return Math.min(...r)>=t}return!0}function wB(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function pwt(e){return(String(e).split(".")[1]||"").length}function gwt(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Wpe=Fpe,xwt=Bpe,vwt=Upe,ywt=$pe;const Hpe=Ve.forwardRef(({className:e,...t},r)=>s.jsxs(Wpe,{ref:r,className:kr("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(xwt,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(vwt,{className:"absolute h-full bg-primary"})}),s.jsx(ywt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Hpe.displayName=Wpe.displayName;const bwt=()=>{const{user:e}=bn(),{userProfile:t,updateUserProfile:r}=ai(),[n,a]=A.useState(!1),[i,o]=A.useState(20);A.useEffect(()=>{t&&t.notification_radius&&o(t.notification_radius)},[t]);const l=async()=>{a(!0);try{await r(e.id,{notification_radius:i}),ot({title:"Prfrences mises  jour",description:"Vos prfrences ont t sauvegardes avec succs."})}catch{ot({title:"Erreur",description:"Une erreur est survenue lors de la sauvegarde.",variant:"destructive"})}finally{a(!1)}};return s.jsxs(qt,{className:"glass-effect border-[#C9A227]/20",children:[s.jsx(zr,{children:s.jsx(Wr,{className:"text-white",children:"Prfrences de dcouverte"})}),s.jsxs(Xt,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs(jt,{className:"text-white mb-4 block",children:["Rayon de dcouverte: ",i," km"]}),s.jsx(Hpe,{value:[i],onValueChange:c=>o(c[0]),max:100,min:5,step:5,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-2",children:[s.jsx("span",{children:"5 km"}),s.jsx("span",{children:"50 km"}),s.jsx("span",{children:"100 km"})]})]}),s.jsxs(Ue,{onClick:l,disabled:n,className:"gradient-gold text-[#0B0B0D] hover:opacity-90",children:[n?s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(R5,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})]})]})},wwt=()=>{const{t:e}=Xa();return s.jsxs(s.Fragment,{children:[s.jsxs(Di,{children:[s.jsxs("title",{children:[e("settings.title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("settings.description")})]}),s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8",children:[s.jsxs("header",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:e("settings.title")}),s.jsx("p",{className:"text-muted-foreground",children:e("settings.subtitle")})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[s.jsx(Qbt,{}),s.jsx(bwt,{}),s.jsx(twt,{}),s.jsx(ewt,{})]})]})]})},_wt=({promotion:e,isUnlocked:t,onClick:r,adminConfig:n})=>{const[a,i]=A.useState("");return A.useEffect(()=>{const o=()=>{if(!e.pack_expires_at){i("");return}const c=new Date(e.pack_expires_at),u=new Date,f=c.getTime()-u.getTime();if(f<=0){i("Termin");return}const h=Math.floor(f/(1e3*60*60*24));if(h>0)i(`${h}j`);else{const g=Math.floor(f/36e5);i(`${g}h`)}};o();const l=setInterval(o,36e5);return()=>clearInterval(l)},[e.pack_expires_at]),s.jsx(Zt.div,{onClick:r,className:"cursor-pointer h-full",whileHover:{y:-5},children:s.jsxs(qt,{className:"h-full flex flex-col bg-card border-border overflow-hidden hover:border-primary transition-all shadow-lg",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{className:"w-full h-48 object-cover",alt:`Aperu pour ${e.title}`,src:e.cover_image||"https://images.unsplash.com/photo-1509930854872-0f61005b282e?auto=format&fit=crop&w=400&h=300&q=75"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),a&&s.jsxs(Vr,{variant:"secondary",className:"absolute top-3 left-3 bg-black/50 text-white backdrop-blur-sm",children:[s.jsx(Yf,{className:"w-3 h-3 mr-1"}),a]}),s.jsx(Vr,{variant:"secondary",className:"absolute top-3 right-3 bg-primary text-primary-foreground",children:e.pack_name||"Promo"}),!t&&s.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center backdrop-blur-sm",children:[s.jsx(R0,{className:"w-8 h-8 text-accent mb-2"}),s.jsx("p",{className:"text-white font-bold",children:"Dtails verrouills"}),s.jsxs("div",{className:"flex items-center text-xs text-amber-300 mt-1",children:[s.jsx(za,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{children:[(n==null?void 0:n.interaction_cost_pi)||2," pour voir"]})]})]})]}),s.jsx(Xt,{className:"p-4 flex-grow flex flex-col justify-between",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-bold text-lg text-foreground line-clamp-2 font-heading",children:e.title}),t?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[s.jsx($7,{className:"w-4 h-4 mr-2 text-primary"}),e.category]}),s.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[s.jsx(Eo,{className:"w-4 h-4 mr-2 text-primary"}),e.city]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connectez-vous pour voir tous les dtails."})]})})]})})},Nwt=()=>{const e=Ia(),{getPromotions:t,userProfile:r,adminConfig:n,forceRefreshUserProfile:a}=ai(),{user:i}=bn(),[o,l]=A.useState([]),[c,u]=A.useState(!0),[f,h]=A.useState(""),[g,p]=A.useState(new Set),[N,b]=A.useState(!1),[S,C]=A.useState(!1),[j,T]=A.useState({amountFcfa:0,packId:null,action:""});A.useEffect(()=>{(async()=>{u(!0);const H=await t({status:"active"});l(H),u(!1)})()},[t]),A.useEffect(()=>{(async()=>{if(i){const{data:H,error:U}=await Je.from("user_interactions").select("event_id").eq("user_id",i.id).eq("interaction_type","view");if(U)console.error("Error fetching unlocked promotions:",U);else{const J=new Set(H.map(K=>K.event_id));p(J)}}})()},[i]);const O=async L=>{if(!i){ot({title:"Connexion requise",description:"Veuillez vous connecter pour voir les dtails.",variant:"destructive"}),e("/auth");return}if(g.has(L.event_id)||L.organizer_id===i.id){e(`/event/${L.event_id}`);return}const U=(n==null?void 0:n.interaction_cost_pi)||2,J=async()=>{try{await Yl.debitCoins(i.id,U,`Dblocage promotion: ${L.title}`,L.event_id,"event");const{error:G}=await Je.from("user_interactions").insert({event_id:L.event_id,user_id:i.id,interaction_type:"view",cost_paid:U});if(G)throw G;p(re=>new Set(re).add(L.event_id)),a(),ot({title:"Promotion dbloque!",description:`Vous pouvez maintenant voir les dtails de "${L.title}".`}),e(`/event/${L.event_id}`)}catch(G){ot({title:"Erreur",description:G.message,variant:"destructive"})}},K=()=>{C(!0)};await Yl.handleAction({userId:i.id,requiredCoins:U,onSuccess:J,onInsufficientBalance:K})},M=A.useMemo(()=>(f?o.filter(H=>H.title.toLowerCase().includes(f.toLowerCase())||H.description&&H.description.toLowerCase().includes(f.toLowerCase())||H.category.toLowerCase().includes(f.toLowerCase())):o).sort((H,U)=>{const J=g.has(H.event_id)||i&&H.organizer_id===i.id,K=g.has(U.event_id)||i&&U.organizer_id===i.id;return J&&!K?1:!J&&K?-1:new Date(U.created_at)-new Date(H.created_at)}),[o,f,g,i]),B=r&&["organizer","admin","super_admin"].includes(r.user_type);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(Di,{children:[s.jsx("title",{children:"Promotions - BonPlaninfos"}),s.jsx("meta",{name:"description",content:"Dcouvrez les meilleures promotions et offres spciales."})]}),s.jsxs("main",{className:"container mx-auto px-4 pt-8 pb-24",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Promotions"}),B&&s.jsxs(Ue,{onClick:()=>e("/create-event"),className:"bg-primary text-primary-foreground rounded-full shadow-lg hover:bg-primary/90",children:[s.jsx(Ql,{className:"w-4 h-4 mr-2"})," Crer un vnement"]})]}),s.jsxs(Zt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative mb-6",children:[s.jsx(Il,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),s.jsx(er,{placeholder:"Rechercher une promotion, une catgorie...",value:f,onChange:L=>h(L.target.value),className:"pl-12 h-12 rounded-full bg-card border-border focus-visible:ring-primary"})]}),s.jsx(Zt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:c?s.jsx("p",{className:"text-center text-muted-foreground mt-8",children:"Chargement des promotions..."}):M.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:M.map(L=>s.jsx(_wt,{promotion:L,isUnlocked:g.has(L.event_id)||i&&L.organizer_id===i.id,onClick:()=>O(L),adminConfig:n},L.id))}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("h3",{className:"text-xl font-semibold text-muted-foreground mb-2",children:"Aucune promotion trouve"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Essayez de modifier votre recherche ou revenez plus tard."})]})})]}),s.jsx(W0,{isOpen:S,onClose:()=>C(!1),onProceed:()=>{C(!1),T({amountFcfa:0,packId:null,action:"buy_coins"}),b(!0)}}),s.jsx(P6,{isOpen:N,onClose:()=>b(!1),amountFcfa:j.amountFcfa,packId:j.packId,action:j.action})]})},Swt=()=>{const e=Ia(),{user:t}=bn(),{userProfile:r,adminConfig:n,forceRefreshUserProfile:a,getEvents:i}=ai(),[o,l]=A.useState(!1),[c,u]=A.useState(!1),[f,h]=A.useState([]),[g,p]=A.useState({event_id:"",promotion_pack_id:""});A.useEffect(()=>{t||(ot({title:"Accs refus",description:"Veuillez vous connecter pour crer une promotion.",variant:"destructive"}),e("/auth",{state:{from:"/create-promotion"}}))},[t,e]),A.useEffect(()=>{(async()=>{if(t){const T=await i({organizer_id:t.id});h(T)}})()},[t,i]);const N=(n==null?void 0:n.promotion_packs)||[],b=async j=>{if(j.preventDefault(),!t){ot({title:"Erreur",description:"Vous devez tre connect.",variant:"destructive"}),e("/auth");return}l(!0);try{if(!g.event_id||!g.promotion_pack_id)throw new Error("Veuillez slectionner un vnement et un pack de promotion.");const T=N.find(B=>B.id===g.promotion_pack_id);if(!T)throw new Error("Pack de promotion invalide.");const O=async()=>{try{await Yl.debitCoins(t.id,T.cost_pi,`Promotion pour l'vnement ID: ${g.event_id}`);const{data:B,error:L}=await Je.from("event_promotions").insert({event_id:g.event_id,organizer_id:t.id,promotion_pack_id:g.promotion_pack_id,start_date:new Date().toISOString(),end_date:new Date(Date.now()+T.duration_days*24*60*60*1e3).toISOString(),cost_pi:T.cost_pi,status:"active",payment_status:"paid"}).select().single();if(L)throw L;a(),ot({title:"Promotion cre !",description:"Votre vnement est maintenant promu."}),e(`/event/${g.event_id}`)}catch(B){console.error("Payment success, but DB update failed:",B),ot({title:"Erreur de base de donnes",description:"Votre paiement a russi, mais la mise  jour de la promotion a chou. Veuillez contacter le support.",variant:"destructive"})}},M=()=>{l(!1),u(!0)};await Yl.handleAction({userId:t.id,requiredCoins:T.cost_pi,onSuccess:O,onInsufficientBalance:M,amountFcfa:Yl.convertCoinsToFcfa(T.cost_pi),action:"create_promotion",packId:T.id,email:t.email,phone:r==null?void 0:r.phone})}catch(T){ot({title:"Erreur",description:T.message,variant:"destructive"}),l(!1)}},S=(j,T)=>{p(O=>({...O,[j]:T}))},C=()=>{u(!1);const j=N.find(T=>T.id===g.promotion_pack_id);j&&Yl.generateMoneyFusionLink({userId:t.id,amountFcfa:Yl.convertCoinsToFcfa(j.cost_pi),action:"create_promotion",packId:j.id,eventId:g.event_id,email:t.email,phone:r==null?void 0:r.phone})};return t?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(Di,{children:[s.jsx("title",{children:"Promouvoir un vnement - BonPlaninfos"}),s.jsx("meta",{name:"description",content:"Promouvez votre vnement sur BonPlaninfos."})]}),s.jsxs("main",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs(Ue,{variant:"ghost",onClick:()=>e(-1),className:"text-muted-foreground hover:text-primary mb-4",children:[s.jsx(_u,{className:"w-4 h-4 mr-2"}),"Retour"]}),s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Promouvoir un vnement"}),s.jsx("p",{className:"text-muted-foreground",children:"Augmentez la visibilit de votre vnement pour toucher plus de monde."})]}),s.jsx(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsxs("form",{onSubmit:b,className:"space-y-8",children:[s.jsxs(qt,{className:"glass-effect border-primary/20",children:[s.jsx(zr,{children:s.jsxs(Wr,{className:"flex items-center",children:[s.jsx(of,{className:"w-5 h-5 mr-2 text-primary"}),"Slectionnez votre vnement"]})}),s.jsx(Xt,{className:"space-y-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"event_id",children:"vnement  promouvoir *"}),s.jsxs(Ai,{value:g.event_id,onValueChange:j=>S("event_id",j),children:[s.jsx(vi,{id:"event_id",children:s.jsx(Ei,{placeholder:"Choisir un de vos vnements"})}),s.jsx(yi,{children:f.length>0?f.map(j=>s.jsx(on,{value:j.id,children:j.title},j.id)):s.jsx(on,{value:"none",disabled:!0,children:"Vous n'avez aucun vnement actif."})})]})]})})]}),s.jsxs(qt,{className:"glass-effect border-primary/20",children:[s.jsx(zr,{children:s.jsxs(Wr,{className:"flex items-center",children:[s.jsx(p2,{className:"w-5 h-5 mr-2 text-primary"}),"Choix du Pack de Promotion *"]})}),s.jsx(Xt,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Slectionnez un pack pour votre promotion"}),s.jsxs(Ai,{value:g.promotion_pack_id,onValueChange:j=>S("promotion_pack_id",j),children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Choisir un pack"})}),s.jsx(yi,{children:N.map(j=>s.jsx(on,{value:j.id,children:s.jsxs("div",{className:"flex justify-between w-full",children:[s.jsxs("span",{children:[j.name," - ",j.duration_days," jours"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(za,{className:"w-3 h-3"}),j.cost_pi]})]})},j.id))})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Le cot en pices sera dduit de votre portefeuille lors de la publication. Si votre solde est insuffisant, vous serez redirig pour payer."})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[s.jsx(Ue,{type:"button",variant:"outline",onClick:()=>e(-1),children:"Annuler"}),s.jsxs(Ue,{type:"submit",disabled:o||!g.event_id||!g.promotion_pack_id,className:"gradient-gold text-background hover:opacity-90 flex-1",children:[o?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"})," Publication..."]}):"Publier la promotion",s.jsx(wd,{className:"w-4 h-4 ml-2"})]})]})]})})]}),s.jsx(W0,{isOpen:c,onClose:()=>u(!1),onProceed:C})]}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary"})})},nJ=({type:e})=>{const r={new_event:s.jsx(oo,{className:"w-5 h-5 text-blue-400"}),promotion:s.jsx($7,{className:"w-5 h-5 text-purple-400"}),system:s.jsx(fb,{className:"w-5 h-5 text-gray-400"}),earning:s.jsx(za,{className:"w-5 h-5 text-yellow-400"}),success:s.jsx(jl,{className:"w-5 h-5 text-green-400"}),error:s.jsx(wu,{className:"w-5 h-5 text-red-400"}),info:s.jsx(of,{className:"w-5 h-5 text-cyan-400"})}[e]||s.jsx(E0,{className:"w-5 h-5 text-gray-400"}),a={new_event:"bg-blue-500/20",promotion:"bg-purple-500/20",system:"bg-gray-500/20",earning:"bg-yellow-500/20",success:"bg-green-500/20",error:"bg-red-500/20",info:"bg-cyan-500/20"}[e]||"bg-gray-500/20";return s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-4 ${a}`,children:r})},Cwt=()=>{const{t:e}=Xa(),t=Ia(),{user:r}=bn(),[n,a]=A.useState([]),[i,o]=A.useState(!0);A.useEffect(()=>{r?(async()=>{o(!0);const{data:g,error:p}=await Je.from("notifications").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});p?ot({title:e("notifications_page.update_error"),description:"Impossible de charger les notifications.",variant:"destructive"}):a(g),o(!1)})():t("/auth")},[r,t,e]);const l=async()=>{try{const{error:h}=await Je.from("notifications").update({is_read:!0}).eq("user_id",r.id).eq("is_read",!1);if(h)throw h;a(n.map(g=>({...g,is_read:!0}))),ot({title:e("notifications_page.update_success"),description:e("notifications_page.update_success_desc"),duration:5e3})}catch{ot({title:e("notifications_page.update_error"),description:"Impossible de marquer les notifications comme lues.",variant:"destructive",duration:5e3})}},c=async h=>{var g,p;if(!h.is_read){const{error:N}=await Je.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",h.id);N||a(b=>b.map(S=>S.id===h.id?{...S,is_read:!0}:S))}(g=h.data)!=null&&g.event_id?t(`/event/${h.data.event_id}`):(p=h.data)!=null&&p.link&&t(h.data.link)};if(!r)return null;const u=n.filter(h=>!h.is_read),f=u.length;return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(Di,{children:[s.jsxs("title",{children:[e("notifications_page.title")," - BonPlaninfos"]}),s.jsx("meta",{name:"description",content:"Consultez vos dernires notifications et restez inform."})]}),s.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center",children:[s.jsx(E0,{className:"w-8 h-8 mr-3 text-primary"}),e("notifications_page.title")]}),s.jsx(Ue,{variant:"outline",onClick:l,disabled:f===0,children:e("notifications_page.mark_all_read")})]}),s.jsxs(H0,{defaultValue:"all",className:"w-full",children:[s.jsxs(Hh,{className:"grid w-full grid-cols-2 bg-muted",children:[s.jsx(Gn,{value:"all",children:e("notifications_page.tabs.all")}),s.jsxs(Gn,{value:"unread",className:"relative",children:[e("notifications_page.tabs.unread"),f>0&&s.jsx(Vr,{className:"absolute -top-1 -right-1 h-5 w-5 justify-center p-0 gradient-red text-white text-xs",children:f})]})]}),s.jsxs(Kn,{value:"all",className:"mt-6 space-y-4",children:[n.map(h=>s.jsxs("div",{className:`p-4 flex items-start rounded-lg transition-all cursor-pointer hover:bg-muted/80 ${h.is_read?"bg-muted/50":"bg-primary/5 border-l-4 border-primary"}`,onClick:()=>c(h),children:[s.jsx(nJ,{type:h.type}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:h.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:h.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(h.created_at).toLocaleString("fr-FR")})]})]},h.id)),n.length===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx(E0,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:e("notifications_page.no_notifications")})]})]}),s.jsxs(Kn,{value:"unread",className:"mt-6 space-y-4",children:[u.map(h=>s.jsxs("div",{className:"p-4 flex items-start rounded-lg bg-primary/5 border-l-4 border-primary cursor-pointer hover:bg-muted/80",onClick:()=>c(h),children:[s.jsx(nJ,{type:h.type}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:h.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:h.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(h.created_at).toLocaleString("fr-FR")})]})]},h.id)),f===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx(E0,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:e("notifications_page.no_unread_notifications")})]})]})]})]})})]})},aJ=()=>{const e=Ia(),[t,r]=A.useState("fr"),n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},o={fr:{title:"Conditions Gnrales d'Utilisation",subtitle:"BonPlanInfos - Votre plateforme de mise en relation",lastUpdate:"Date de dernire mise  jour : 01/10/2025",effectiveDate:"Entre en vigueur : 05/10/2025",back:"Retour",navigation:"Navigation",contact:"Nous Contacter",questions:"Vous avez des questions ?",contactText:"Notre quipe est disponible pour vous accompagner et rpondre  toutes vos interrogations concernant nos conditions d'utilisation.",articles:[{icon:gc,title:"Article 1 : Objet et Acceptation",content:`
            Les prsentes Conditions Gnrales d'Utilisation (CGU) rgissent l'utilisation de la plateforme BonPlanInfos (bonplaninfos.net), application de mise en relation entre crateurs de contenu, organisateurs d'vnements, annonceurs et utilisateurs en Afrique.
            
            **Acceptation :** L'utilisation de la plateforme implique l'acceptation sans rserve des prsentes CGU.

            ### Section 1 - Accs et Responsabilits
            L'Administrateur Pays s'engage  :
            - Maintenir la confidentialit de ses identifiants
            - Ne pas partager son accs admin avec des tiers
            - Respecter les guidelines de contenu BonPlanInfos
            - Modrer activement les annonces de son territoire
            - Signaler tout comportement suspect au Super Admin

            **Interdictions formelles :**
            - Tenter d'accder aux donnes d'autres pays
            - Modifier la structure technique de la plateforme
            - Installer des extensions non autorises
            - Utiliser la plateforme  des fins personnelles

            ### Section 2 - Standards de Contenu
            Chaque Administrateur Pays doit garantir :
            - L'authenticit des annonces publies
            - Le respect des lois locales sur le commerce
            - La modration des contenus inappropris sous 24h
            - La vrification des coordonnes des annonceurs

            ### Option A - Pour les Investisseurs-Fondateurs
            Le partenaire investit **100.000f  500.000f** pour obtenir la licence d'exploitation pour son pays.

            **Revenue Sharing :** 60% pour le partenaire local / 40% pour la maison mre
            - Les 60% couvrent : marketing local, quipe, frais oprationnels
            - Les 40% couvrent : maintenance technique, dveloppement, support global

            ### Option B - Pour les Gestionnaires Salaris
            **Systme de Paiement Centralis :**

            **Processus de Rpartition :**
            1. Tous les paiements arrivent sur le compte central BonPlanInfos
            2. Le systme tracke automatiquement les revenus par pays
            3. Les rapports financiers sont gnrs le 01 de chaque mois
            4. Les virements aux partenaires sont effectus le 05 du mois
            5. Reu et justificatifs fournis pour chaque transaction
          `},{icon:$u,title:"Article 2 : Dfinitions",content:`
            - **Plateforme :** Application et site web BonPlanInfos
            - **Utilisateur :** Toute personne utilisant la plateforme
            - **Crateur ou Organisateur :** Utilisateur publiant du contenu (vnements, promotions)
            - **Organisateur :** Crateur organisant des vnements payants ou gratuits
            - **Annonceur ou Utilisateur :** Utilisateur publiant des promotions commerciales
            - **Pices :** Monnaie virtuelle de la plateforme (50 pice = 500 FCFA)
            - **Contenu :** vnements, promotions, publications, commentaires, notification a temps rel.
          `},{icon:ao,title:"Article 3 : Inscription et Compte",content:`
            ### 3.1 L'inscription ncessite :
            - Une adresse email valide
            - Un numro de tlphone vrifi
            - Votre Pays et ville de rsidence
            - L'acceptation des CGU et de la politique de confidentialit

            ### 3.2 Les utilisateurs s'engagent  :
            - Fournir des informations exactes et compltes
            - Maintenir la confidentialit de leurs identifiants
            - Informer immdiatement de toute utilisation non autorise

            ### 3.3 Types de comptes :
            - Utilisateur standard (accs gratuit aux fonctionnalits de base)
            - Organisateur: (publication d'vnements, vrification requise)
            - Annonceur Utilisateur: (publication de promotions, vrification requise)
            - Admin (gestion de plateforme)

            ### 3.4 Contenus et responsabilits
            Vous vous engagez  ne pas publier de contenus offensants, illgaux, ou portant atteinte aux droits de tiers.

            BonPlaninfos se rserve le droit de supprimer tout contenu qui ne respecte pas nos standards.
          `},{icon:Eh,title:"Article 4 : Systme de Pices et Montisation",content:`
            ### 4.1 Acquisition de pices :
            - Achat via packs (50  1.000.000 pices)
            - Parrainage (20 pices par filleul actif)
            - Rcompenses pour contenu populaire
            - Participation aux programmes de fidlit

            ### 4.2 Utilisation des pices :
            - Publication d'vnements (cot variable)
            - Publication de promotions (cot variable)
            - Boost de visibilit du contenu
            - Accs  du contenu exclusif

            ### 4.3 Conversion et retraits :
            - Taux de conversion : 50 pices = 500 FCFA
            - Seuil minimal de retrait : 50 pices
            - Modalits de retrait : Orange Money, Moov Money, Wave, PayPal
            - Dlai de traitement : 24-72 heures

            ### 4.4 Politique de remboursement :
            - Aucun remboursement des pices achetes
            - Annulation d'vnement : remboursement des pices utilises
            - Content supprim : pas de remboursement des pices dpenses
          `},{icon:Mp,title:"Article 5 : Contenu et Publications",content:`
            ### 5.1 Responsabilits des crateurs :
            - Exactitude des informations publies
            - Respect des droits d'auteur et proprit intellectuelle
            - Conformit avec la lgislation locale
            - Obtenir les autorisations ncessaires pour les vnements

            ### 5.2 Contenu interdit :
            - Contenu illgal ou frauduleux
            - Contenu discriminatoire ou haineux
            - Contenu pornographique ou explicite
            - Informations commerciales trompeuses
            - Spam et contenus rptitifs

            ### 5.3 Modration :
            - Droit de modration a posteriori par BonPlanInfos
            - Possibilit de suppression sans pravis des contenus non conformes
            - Systme de signalement par les utilisateurs
          `},{icon:gc,title:"Article 6 : Proprit Intellectuelle",content:`
            ### 6.1 Contenu utilisateur :
            - Les utilisateurs conservent leurs droits sur leur contenu
            - Licence d'utilisation accorde  BonPlanInfos pour l'exploitation de la plateforme

            ### 6.2 Plateforme BonPlanInfos :
            - Marque, logo et lments graphiques protgs
            - Code source et architecture technique protgs
            - Interdiction de reproduction sans autorisation

            Le Partenaire reconnat que la plateforme, son code source, sa base de donnes et la marque BonPlanInfos sont et restent la proprit exclusive du Fondateur Principal.
          `},{icon:$u,title:"Article 7 : Donnes Personnelles",content:`
            ### 7.1 Collecte et utilisation :
            - Donnes collectes : identit, coordonnes, localisation, contenus, interactions
            - Finalits : fourniture du service, personnalisation, analytics, marketing

            ### 7.2 Cookies et traceurs :
            - Utilisation de cookies techniques et analytiques
            - Consentement requis pour les cookies marketing
            - Possibilit de dsactivation dans les paramtres

            ### 7.3 Droits des utilisateurs :
            - Droit d'accs, rectification, opposition, suppression
            - Contact : bonplaninfos@gmail.com
            - Dlai de rponse : 30 jours maximum
          `},{icon:ao,title:"Article 8 : Responsabilits",content:`
            ### 8.1 Responsabilit de BonPlanInfos :
            - Fourniture du service avec diligence raisonnable
            - Non responsable des contenus publis par les utilisateurs
            - Obligation de moyens, non de rsultat

            ### 8.2 Responsabilit des utilisateurs :
            - Exactitude des informations publies
            - Respect des engagements envers les autres utilisateurs
            - Utilisation conforme aux lois en vigueur

            ### 8.3 Force majeure :
            - Interruptions de service pour maintenance technique
            - Cas de force majeure (panne infrastructure, etc.)
          `},{icon:Eh,title:"Article 9 : Transactions et Paiements",content:`
            ### 9.1 vnements payants :
            - traitement des paiements via partenaires certifis
            - Retrait ; Commission de 2% est applique sur les transactions
            - Paiement aux organisateurs sous 5 jours ouvrs

            ### 9.2 Promotions payantes :
            - Tarification selon visibilit et dure
            - Aucun remboursement aprs publication

            ### 9.3 Paiements et commissions
            Les commissions et gains sont verss selon les conditions tablies sur la plateforme.

            BonPlaninfos ne peut tre tenu responsable des retards ou erreurs de paiement causs par des informations incorrectes fournies par l'utilisateur

            ### 9.3 Litiges :
            - Mdiation prioritaire en cas de litige entre utilisateurs
            - Recours possibles auprs des autorits comptentes
          `},{icon:Mp,title:"Article 10 : Suspension et Rsiliation",content:`
            ### 10.1 Par l'utilisateur :
            - Rsiliation  tout temps via paramtres du compte
            - Suppression des donnes conformment  la politique de conservation

            ### 10.2 Par BonPlanInfos :
            - Suspension immdiate en cas de violation des CGU
            - Rsiliation aprs avertissement sans rgularisation
            - Conservation des donnes en cas d'obligation lgale
          `},{icon:gc,title:"Article 11 : volutions et Modifications",content:`
            ### 11.1 Service :
            - BonPlanInfos se rserve le droit de faire voluer les fonctionnalits
            - Information des utilisateurs des modifications substantielles

            ### 11.2 CGU :
            - Modification possible  tout temps
            - Information par email et notification dans l'application
            - Acceptation implicite si poursuite d'utilisation
          `},{icon:$u,title:"Article 12 : Loi Applicable et Litiges",content:`
            ### 12.1 Loi applicable :
            - Droit applicable : selon pays d'incorporation
            - Langue d'interprtation : franais

            ### 12.2 Rglement des litiges :
            - Tentative de mdiation obligatoire
            - Recours aux tribunaux comptents en cas d'chec
          `},{icon:ao,title:"Article 13 : Dispositions Diverses",content:`
            **13.1 Indpendance des parties :** Aucune relation de socit ou de mandat
            **13.2 Divisibilit :** Nullit partielle n'affectant pas le reste des dispositions
            **13.3 Non-renonciation :** Absence de poursuite ne valant pas renonciation
          `},{icon:s1,title:"Article 14 : Contact",content:`
            Pour toute question concernant les CGU :

            - Email : lgal bonplaninfos@gmail.com
            - Adresse postale : [bonplaninfos@gmail.com]
            - Dlai de rponse : 15 jours ouvrs
          `}]},en:{title:"Terms and Conditions",subtitle:"BonPlanInfos - Your connection platform",lastUpdate:"Last update date: 10/01/2025",effectiveDate:"Effective date: 10/05/2025",back:"Back",navigation:"Navigation",contact:"Contact Us",questions:"Do you have questions?",contactText:"Our team is available to assist you and answer all your questions regarding our terms of use.",articles:[{icon:gc,title:"Article 1: Purpose and Acceptance",content:`
            These General Terms of Use (GTU) govern the use of the BonPlanInfos platform (bonplaninfos.net), a connection application between content creators, event organizers, advertisers and users in Africa.
            
            **Acceptance:** Use of the platform implies unreserved acceptance of these GTU.

            ### Section 1 - Access and Responsibilities
            The Country Administrator undertakes to:
            - Maintain the confidentiality of their credentials
            - Not share their admin access with third parties
            - Respect BonPlanInfos content guidelines
            - Actively moderate ads in their territory
            - Report any suspicious behavior to the Super Admin

            **Strict prohibitions:**
            - Attempt to access data from other countries
            - Modify the technical structure of the platform
            - Install unauthorized extensions
            - Use the platform for personal purposes

            ### Section 2 - Content Standards
            Each Country Administrator must guarantee:
            - The authenticity of published ads
            - Compliance with local commercial laws
            - Moderation of inappropriate content within 24 hours
            - Verification of advertiser contact details

            ### Option A - For Investor-Founders
            The partner invests **2,550,000F** to obtain the operating license for their country.

            **Revenue Sharing:** 60% for local partner / 40% for headquarters
            - The 60% covers: local marketing, team, operational expenses
            - The 40% covers: technical maintenance, development, global support

            ### Option B - For Salaried Managers
            **Centralized Payment System:**

            **Distribution Process:**
            1. All payments go to the central BonPlanInfos account
            2. The system automatically tracks revenue by country
            3. Financial reports are generated on the 5th of each month
            4. Transfers to partners are made on the 15th of the month
            5. Receipt and supporting documents provided for each transaction
          `},{icon:$u,title:"Article 2: Definitions",content:`
            - **Platform:** BonPlanInfos application and website
            - **User:** Any person using the platform
            - **Creator or Organizer:** User publishing content (events, promotions)
            - **Organizer:** Creator organizing paid or free events
            - **Advertiser or User:** User publishing commercial promotions
            - **Coins:** Virtual platform currency (50 coins = 500 FCFA)
            - **Content:** Events, promotions, publications, comments, real-time notifications
          `},{icon:ao,title:"Article 3: Registration and Account",content:`
            ### 3.1 Registration requires:
            - A valid email address
            - A verified phone number
            - Your country and city of residence
            - Acceptance of the GTU and privacy policy

            ### 3.2 Users undertake to:
            - Provide accurate and complete information
            - Maintain the confidentiality of their credentials
            - Immediately report any unauthorized use

            ### 3.3 Account types:
            - Standard user (free access to basic features)
            - Organizer: (event publication, verification required)
            - Advertiser User: (promotion publication, verification required)
            - Admin (platform management)

            ### 3.4 Content and responsibilities
            You agree not to publish offensive, illegal content, or content that infringes on third-party rights.

            BonPlaninfos reserves the right to remove any content that does not meet our standards.
          `},{icon:Eh,title:"Article 4: Coin System and Monetization",content:`
            ### 4.1 Coin acquisition:
            - Purchase via packs (50 to 1300 coins)
            - Referral (20 coins per active referral)
            - Rewards for popular content
            - Participation in loyalty programs

            ### 4.2 Coin usage:
            - Event publication (variable cost)
            - Promotion publication (variable cost)
            - Content visibility boost
            - Access to exclusive content

            ### 4.3 Conversion and withdrawals:
            - Conversion rate: 50 coins = 500 FCFA
            - Minimum withdrawal threshold: 50 coins
            - Withdrawal methods: Orange Money, Moov Money, Wave, Visa, PayPal
            - Processing time: 24-72 hours

            ### 4.4 Refund policy:
            - No refund for purchased coins
            - Event cancellation: refund of coins used
            - Deleted content: no refund of spent coins
          `},{icon:Mp,title:"Article 5: Content and Publications",content:`
            ### 5.1 Creator responsibilities:
            - Accuracy of published information
            - Respect for copyright and intellectual property
            - Compliance with local legislation
            - Obtain necessary authorizations for events

            ### 5.2 Prohibited content:
            - Illegal or fraudulent content
            - Discriminatory or hateful content
            - Pornographic or explicit content
            - Misleading commercial information
            - Spam and repetitive content

            ### 5.3 Moderation:
            - Right of a posteriori moderation by BonPlanInfos
            - Possibility of removal without notice for non-compliant content
            - User reporting system
          `},{icon:gc,title:"Article 6: Intellectual Property",content:`
            ### 6.1 User content:
            - Users retain their rights to their content
            - Usage license granted to BonPlanInfos for platform operation

            ### 6.2 BonPlanInfos Platform:
            - Protected brand, logo and graphic elements
            - Protected source code and technical architecture
            - Reproduction prohibited without authorization

            The Partner acknowledges that the platform, its source code, database and BonPlanInfos brand are and remain the exclusive property of the Principal Founder.
          `},{icon:$u,title:"Article 7: Personal Data",content:`
            ### 7.1 Collection and use:
            - Data collected: identity, contact details, location, content, interactions
            - Purposes: service provision, personalization, analytics, marketing

            ### 7.2 Cookies and trackers:
            - Use of technical and analytical cookies
            - Consent required for marketing cookies
            - Possibility of deactivation in settings

            ### 7.3 User rights:
            - Right of access, rectification, opposition, deletion
            - Contact: bonplaninfos@gmail.com
            - Response time: maximum 30 days
          `},{icon:ao,title:"Article 8: Responsibilities",content:`
            ### 8.1 BonPlanInfos responsibility:
            - Provision of service with reasonable diligence
            - Not responsible for content published by users
            - Obligation of means, not of result

            ### 8.2 User responsibility:
            - Accuracy of published information
            - Respect for commitments to other users
            - Use in compliance with applicable laws

            ### 8.3 Force majeure:
            - Service interruptions for technical maintenance
            - Cases of force majeure (infrastructure failure, etc.)
          `},{icon:Eh,title:"Article 9: Transactions and Payments",content:`
            ### 9.1 Paid events:
            - Payment processing via certified partners
            - Withdrawal; 2% commission applied to transactions
            - Payment to Partenariats within 5 working days

            ### 9.2 Paid promotions:
            - Pricing based on visibility and duration
            - No refund after publication

            ### 9.3 Payments and commissions
            Commissions and earnings are paid according to the conditions established on the platform.

            BonPlaninfos cannot be held responsible for payment delays or errors caused by incorrect information provided by the user.

            ### 9.3 Disputes:
            - Priority mediation in case of disputes between users
            - Possible recourse to competent authorities
          `},{icon:Mp,title:"Article 10: Suspension and Termination",content:`
            ### 10.1 By the user:
            - Termination at any time via account settings
            - Data deletion according to retention policy

            ### 10.2 By BonPlanInfos:
            - Immediate suspension in case of GTU violation
            - Termination after warning without regularization
            - Data retention in case of legal obligation
          `},{icon:gc,title:"Article 11: Evolution and Modifications",content:`
            ### 11.1 Service:
            - BonPlanInfos reserves the right to evolve features
            - User information of substantial modifications

            ### 11.2 GTU:
            - Modification possible at any time
            - Information by email and in-app notification
            - Implicit acceptance if continued use
          `},{icon:$u,title:"Article 12: Applicable Law and Disputes",content:`
            ### 12.1 Applicable law:
            - Applicable law: according to country of incorporation
            - Interpretation language: French

            ### 12.2 Dispute resolution:
            - Mandatory mediation attempt
            - Recourse to competent courts in case of failure
          `},{icon:ao,title:"Article 13: Miscellaneous Provisions",content:`
            **13.1 Independence of parties:** No partnership or agency relationship
            **13.2 Severability:** Partial nullity not affecting the rest of the provisions
            **13.3 Non-waiver:** Lack of pursuit not constituting waiver
          `},{icon:s1,title:"Article 14: Contact",content:`
            For any questions regarding the GTU:

            - Email: legal bonplaninfos@gmail.com
            - Postal address: [bonplaninfos@gmail.com]
            - Response time: 15 working days
          `}]}}[t],l=c=>c.split(`

`).map((f,h)=>{if(f.startsWith("### "))return s.jsx("h3",{className:"text-lg font-semibold text-white mt-4 mb-2",children:f.replace("### ","")},h);if(f.startsWith("**")&&f.endsWith("**"))return s.jsx("div",{className:"bg-white/5 rounded-xl p-4 border-l-4 border-[#C9A227] my-3",children:s.jsx("p",{className:"font-semibold text-white",children:f.replace(/\*\*/g,"")})},h);if(f.includes(":")){const g=f.split(`
`).filter(p=>p.trim());return s.jsx("div",{className:"my-4",children:g.map((p,N)=>s.jsxs("div",{className:"flex items-start mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-[#C9A227] rounded-full mt-2 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:p})]},N))},h)}else if(f.includes("1.")){const g=f.split(`
`).filter(p=>p.trim());return s.jsx("ol",{className:"list-decimal list-inside ml-4 space-y-2 my-3",children:g.map((p,N)=>s.jsx("li",{className:"text-gray-300",children:p.replace(/^\d+\.\s*/,"")},N))},h)}else return s.jsx("p",{className:"text-gray-300 mb-3",children:f},h)});return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0B0B0D] to-[#1a1a2e] text-white",children:[s.jsxs(Di,{children:[s.jsxs("title",{children:[o.title," - BonPlaninfos"]}),s.jsx("meta",{name:"description",content:o.title})]}),s.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12 text-center",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs(Ue,{variant:"ghost",onClick:()=>e(-1),className:"text-gray-300 hover:text-[#C9A227] border border-gray-700 hover:border-[#C9A227] transition-all duration-300",children:[s.jsx(_u,{className:"w-4 h-4 mr-2"}),o.back]}),s.jsxs(Ue,{variant:"outline",onClick:()=>r(t==="fr"?"en":"fr"),className:"text-gray-300 hover:text-[#C9A227] border border-gray-700 hover:border-[#C9A227] transition-all duration-300",children:[s.jsx(p0,{className:"w-4 h-4 mr-2"}),t==="fr"?"EN":"FR"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-[#C9A227] to-[#e5c158] rounded-2xl blur-lg opacity-20"}),s.jsxs("div",{className:"relative bg-[#0f0f15] border border-gray-800 rounded-2xl p-8",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-[#C9A227] to-[#e5c158] bg-clip-text text-transparent mb-4",children:o.title}),s.jsx("p",{className:"text-gray-400 text-lg mb-2",children:o.subtitle}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4 text-sm text-gray-500",children:[s.jsx("span",{children:o.lastUpdate}),s.jsx("span",{className:"hidden sm:block",children:""}),s.jsx("span",{children:o.effectiveDate})]})]})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[s.jsx(Zt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-1",children:s.jsxs("div",{className:"glass-effect rounded-2xl p-6 sticky top-8",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[s.jsx(Mp,{className:"w-5 h-5 mr-2 text-[#C9A227]"}),o.navigation]}),s.jsx("nav",{className:"space-y-2",children:o.articles.map((c,u)=>{const f=c.icon;return s.jsxs("button",{onClick:()=>{const h=document.getElementById(`article-${u+1}`);h==null||h.scrollIntoView({behavior:"smooth"})},className:"w-full text-left px-3 py-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/5 transition-all duration-200 flex items-center group",children:[s.jsx(f,{className:"w-4 h-4 mr-3 text-[#C9A227] group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"text-sm",children:c.title.split(" : ")[0]})]},u)})})]})}),s.jsxs(Zt.div,{variants:n,initial:"hidden",animate:"visible",className:"lg:col-span-3 space-y-8",children:[o.articles.map((c,u)=>s.jsxs(Zt.section,{variants:a,id:`article-${u+1}`,className:"glass-effect rounded-2xl p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#C9A227] rounded-full -translate-y-16 translate-x-16 opacity-10"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(c.icon,{className:"w-8 h-8 text-[#C9A227] mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:c.title})]}),s.jsx("div",{className:"space-y-4 text-gray-300",children:l(c.content)})]})]},u)),s.jsx(Zt.section,{variants:a,className:"text-center py-12",children:s.jsxs("div",{className:"glass-effect rounded-2xl p-8 border border-[#C9A227]/20",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:o.questions}),s.jsx("p",{className:"text-gray-300 mb-6 max-w-2xl mx-auto",children:o.contactText}),s.jsxs(Ue,{className:"bg-gradient-to-r from-[#C9A227] to-[#e5c158] text-black font-semibold hover:opacity-90 transition-opacity",children:[s.jsx(s1,{className:"w-4 h-4 mr-2"}),o.contact]})]})})]})]})]}),s.jsx("style",{jsx:!0,children:`
        .glass-effect {
          background: rgba(15, 15, 21, 0.8);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.1);
        }
      `})]})},Awt=()=>{const{t:e}=Xa(),[t,r]=A.useState([]),[n,a]=A.useState(!0);A.useEffect(()=>{(async()=>{a(!0);try{const{data:c,error:u}=await Je.from("announcements").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(u)throw u;r(c||[])}catch(c){console.error("Error fetching announcements:",c),ot({title:e("news.error.title"),description:c.message,variant:"destructive"})}finally{a(!1)}})()},[e]);const i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},o={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return s.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[s.jsxs(Di,{children:[s.jsx("title",{children:e("news.meta.title")}),s.jsx("meta",{name:"description",content:e("news.meta.description")})]}),s.jsxs("main",{className:"container mx-auto px-4 pt-8 pb-16",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-black font-heading uppercase tracking-wider text-primary",children:e("news.title")}),s.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:e("news.subtitle")})]}),n?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Jt,{className:"w-12 h-12 animate-spin text-primary"})}):t.length>0?s.jsx(Zt.div,{className:"space-y-6 max-w-4xl mx-auto",variants:i,initial:"hidden",animate:"visible",children:t.map(l=>s.jsx(Zt.div,{variants:o,children:s.jsxs(qt,{className:"glass-effect overflow-hidden hover:border-primary/50 transition-all duration-300",children:[s.jsxs(zr,{children:[s.jsx(Wr,{className:"text-xl md:text-2xl text-white",children:l.title}),s.jsx(Ya,{className:"text-xs text-muted-foreground pt-1",children:e("news.publishedOn",{date:new Date(l.created_at).toLocaleDateString()})})]}),s.jsx(Xt,{children:s.jsx("p",{className:"text-foreground/90 whitespace-pre-wrap",children:l.content})})]})},l.id))}):s.jsxs(Zt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center flex flex-col items-center justify-center h-64",children:[s.jsx(c_e,{className:"w-24 h-24 text-muted-foreground mb-6"}),s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:e("news.noNews.title")}),s.jsx("p",{className:"text-muted-foreground max-w-md",children:e("news.noNews.description")})]})]})]})},Ewt=()=>{var K;const e=Ia(),t=ed(),{user:r}=bn(),{adminConfig:n,forceRefreshUserProfile:a}=ai(),[i,o]=A.useState(!1),[l,c]=A.useState([]),[u,f]=A.useState(""),[h,g]=A.useState(""),[p,N]=A.useState(!1),[b,S]=A.useState(!0),[C,j]=A.useState([]),[T,O]=A.useState(!1);A.useEffect(()=>{(async()=>{O(!0);try{const{data:re,error:ae}=await Je.from("promotion_packs").select("*").eq("is_active",!0).order("duration_days",{ascending:!0});if(ae)throw ae;const X=[],ne=new Map;re.forEach(le=>{const xe=ne.get(le.duration_days);(!xe||le.cost_pi<xe.cost_pi)&&ne.set(le.duration_days,le)});const de=Array.from(ne.values()).sort((le,xe)=>le.duration_days-xe.duration_days);j(de),de.length===1&&g(de[0].id)}catch(re){console.error("Error fetching promotion packs:",re),ot({title:"Erreur",description:"Impossible de charger les packs de promotion.",variant:"destructive"})}finally{O(!1)}})()},[]),A.useEffect(()=>{if(!r){e("/auth");return}(async()=>{var re;S(!0);try{const{data:ae,error:X}=await Je.from("events").select("id, title, event_type, is_promoted, promoted_until, status, cover_image").eq("organizer_id",r.id).eq("status","active").order("created_at",{ascending:!1});if(X)throw X;const ne=new Date,le=ae.filter(xe=>!!(!xe.is_promoted||xe.promoted_until&&new Date(xe.promoted_until)<ne)).map(xe=>({value:xe.id,label:`${xe.title} (${xe.event_type})`,event:xe,isPromoted:xe.is_promoted&&xe.promoted_until>ne}));if(c(le),(re=t.state)!=null&&re.eventId){const xe=le.find(Se=>Se.value===t.state.eventId);xe&&f(xe.value)}le.length===1&&!u&&f(le[0].value)}catch(ae){console.error("Error fetching user content:",ae),ot({title:"Erreur",description:"Impossible de charger vos vnements.",variant:"destructive"})}finally{S(!1)}})()},[r,e,t.state,u]);const M=(K=l.find(G=>G.value===u))==null?void 0:K.event,B=C.find(G=>G.id===h),L=()=>{N(!1),e("/wallet")},H=G=>{if(!G)return[];try{return Array.isArray(G)?G:typeof G=="string"&&G.startsWith("[")?JSON.parse(G):typeof G=="string"?G.split(",").map(re=>re.trim()):[]}catch(re){return console.error("Error parsing features:",re),[]}},U=G=>G*((n==null?void 0:n.coin_to_fcfa_rate)||10),J=async()=>{if(!u||!B){ot({title:"Erreur",description:"Veuillez slectionner un vnement et un pack de promotion.",variant:"destructive"});return}o(!0);const G=async()=>{try{const re=await Yl.debitCoins(r.id,B.cost_pi,`Boost: ${B.name} - ${M==null?void 0:M.title}`,u,"event"),ae=new Date().toISOString(),X=new Date(Date.now()+B.duration_days*24*60*60*1e3).toISOString(),ne={event_id:u,organizer_id:r.id,promotion_pack_id:B.id,start_date:ae,end_date:X,cost_pi:B.cost_pi,status:"active",payment_status:"paid"};re&&typeof re=="object"&&(re.freeCoinsUsed!==void 0&&(ne.free_coins_used=re.freeCoinsUsed),re.paidCoinsUsed!==void 0&&(ne.paid_coins_used=re.paidCoinsUsed));const{error:de}=await Je.from("event_promotions").insert(ne);if(de){console.error("Promotion insert error:",de);const Se={...ne};delete Se.free_coins_used,delete Se.paid_coins_used;const{error:ye}=await Je.from("event_promotions").insert(Se);if(ye)throw ye}const le={is_promoted:!0,promoted_until:X},{error:xe}=await Je.from("events").update(le).eq("id",u);if(xe){console.error("Event update error:",xe);const Se={is_promoted:!0},{error:ye}=await Je.from("events").update(Se).eq("id",u);if(ye)throw ye}ot({title:" Promotion active !",description:`Votre vnement est maintenant mis en avant pour ${B.duration_days} jours.`,className:"bg-green-500 text-white"}),await(a==null?void 0:a()),e(`/event/${u}`)}catch(re){console.error("Boost error details:",re),re.message.includes("schema cache")||re.message.includes("column")?ot({title:"Erreur de base de donnes",description:"Une mise  jour de la structure de la base de donnes est ncessaire. Contactez l'administrateur.",variant:"destructive"}):ot({title:"Erreur lors du boost",description:re.message||"Une erreur est survenue lors de la promotion de l'vnement.",variant:"destructive"})}finally{o(!1)}};await Yl.handleAction({userId:r.id,requiredCoins:B.cost_pi,onSuccess:G,onInsufficientBalance:()=>{N(!0),o(!1)}})};return!b&&l.length===0?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-background flex items-center justify-center p-4",children:s.jsxs(qt,{className:"max-w-md w-full glass-effect border-primary/30",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"text-2xl flex items-center gap-2",children:[s.jsx(wu,{className:"w-6 h-6"}),"Aucun vnement disponible"]}),s.jsx(Ya,{children:"Crez un nouvel vnement ou vrifiez vos vnements existants."})]}),s.jsxs(Xt,{className:"space-y-4",children:[s.jsx("div",{className:"text-center p-4",children:s.jsx("p",{className:"text-muted-foreground mb-6",children:"Tous vos vnements sont dj en promotion active ou vous n'avez pas encore cr d'vnements."})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(Ue,{variant:"outline",onClick:()=>e("/my-events"),className:"flex-1",children:"Mes vnements"}),s.jsx(Ue,{onClick:()=>e("/create-event"),className:"flex-1",variant:"premium",children:"Crer un vnement"})]})]})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-background",children:[s.jsxs(Di,{children:[s.jsx("title",{children:"Booster la Visibilit - BonPlaninfos"}),s.jsx("meta",{name:"description",content:"Mettez en avant vos vnements et promotions pour atteindre une plus large audience."})]}),s.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs(Ue,{variant:"ghost",onClick:()=>e(-1),className:"text-muted-foreground hover:text-primary mb-6",children:[s.jsx(_u,{className:"w-4 h-4 mr-2"}),"Retour"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full",children:s.jsx(xu,{className:"w-10 h-10 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-500 mb-2",children:"Booster la Visibilit"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl",children:"Augmentez la visibilit de vos vnements et atteignez plus de participants avec nos packs de promotion."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(qt,{className:"glass-effect border-primary/30 shadow-lg",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"text-xl flex items-center gap-2",children:[s.jsx("span",{className:"bg-primary text-white w-6 h-6 rounded-full flex items-center justify-center text-sm",children:"1"}),"vnement  booster"]}),s.jsx(Ya,{children:"Slectionnez un vnement actif"})]}),s.jsx(Xt,{children:s.jsx("div",{className:"space-y-4",children:b?s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx(Jt,{className:"w-6 h-6 animate-spin text-primary mr-2"}),s.jsx("span",{className:"text-muted-foreground",children:"Chargement..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Ai,{onValueChange:f,value:u,children:[s.jsx(vi,{className:"h-12 text-left",children:s.jsx(Ei,{placeholder:"Slectionnez un vnement"})}),s.jsx(yi,{children:l.map(G=>s.jsx(on,{value:G.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium truncate max-w-[200px]",children:G.label}),G.isPromoted&&s.jsx(Vr,{variant:"outline",className:"text-xs mt-1",children:"Promotion expire"})]})]})},G.value))})]}),M&&s.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg border border-primary/20",children:s.jsxs("div",{className:"flex items-start gap-3",children:[M.cover_image&&s.jsx("img",{src:M.cover_image,alt:M.title,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-lg mb-1",children:M.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Type: ",M.event_type]}),M.is_promoted&&s.jsxs(Vr,{variant:"secondary",className:"mt-2",children:[s.jsx(Ku,{className:"w-3 h-3 mr-1"}),"Dj promu"]})]})]})})]})})})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(qt,{className:"glass-effect border-primary/30 shadow-lg",children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"text-xl flex items-center gap-2",children:[s.jsx("span",{className:"bg-primary text-white w-6 h-6 rounded-full flex items-center justify-center text-sm",children:"2"}),"Pack de promotion"]}),s.jsx(Ya,{children:"Choisissez la dure et les avantages"})]}),s.jsxs(Xt,{children:[T?s.jsxs("div",{className:"flex items-center justify-center p-12",children:[s.jsx(Jt,{className:"w-8 h-8 animate-spin text-primary mr-3"}),s.jsx("span",{className:"text-muted-foreground",children:"Chargement des packs..."})]}):C.length===0?s.jsxs("div",{className:"text-center p-12",children:[s.jsx(wu,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucun pack de promotion disponible."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(G=>{const re=H(G.features),ae=h===G.id;return s.jsx(Zt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs("div",{onClick:()=>g(G.id),className:`h-full p-5 flex flex-col rounded-xl border-2 cursor-pointer transition-all duration-300 ${ae?"border-primary bg-gradient-to-br from-primary/20 to-primary/5 ring-2 ring-primary/30 shadow-lg":"border-border hover:border-primary/40 hover:bg-card/70"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-1",children:G.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[G.duration_days," jours"]})]}),ae&&s.jsx(jl,{className:"w-5 h-5 text-primary flex-shrink-0"})]}),s.jsxs("div",{className:"mb-4 flex-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:G.description||`Boost de ${G.duration_days} jours`}),re.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-primary",children:"Avantages inclus :"}),s.jsx("ul",{className:"space-y-1",children:re.map((X,ne)=>s.jsxs("li",{className:"flex items-start text-xs text-muted-foreground",children:[s.jsx(xu,{className:"w-3 h-3 text-amber-500 mr-2 mt-0.5 flex-shrink-0"}),X]},ne))})]})]}),s.jsx("div",{className:"pt-4 border-t border-border/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(za,{className:"w-5 h-5 text-amber-500 mr-2"}),s.jsxs("span",{className:"text-xl font-bold",children:[G.cost_pi," "]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[" ",U(G.cost_pi).toLocaleString("fr-FR")," FCFA"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[Math.round(G.cost_pi/G.duration_days*10)/10," / jour"]})]})]})})]})},G.id)})}),B&&s.jsx("div",{className:"mt-8 p-6 bg-gradient-to-r from-primary/5 to-primary/10 rounded-xl border border-primary/20",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold mb-2",children:["Pack slectionn : ",B.name]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(xu,{className:"w-4 h-4 text-primary mr-2"}),s.jsxs("span",{children:["Dure : ",s.jsxs("strong",{children:[B.duration_days," jours"]})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(za,{className:"w-4 h-4 text-amber-500 mr-2"}),s.jsxs("span",{children:["Cot : ",s.jsxs("strong",{children:[B.cost_pi," "]})," (",U(B.cost_pi).toLocaleString("fr-FR")," FCFA)"]})]})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Promotion active jusqu'au ",new Date(Date.now()+B.duration_days*24*60*60*1e3).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})})]})})]})]})})]}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[s.jsx(Ue,{onClick:J,disabled:i||!u||!h||b||T,className:"px-12 py-7 text-lg rounded-full shadow-xl hover:shadow-2xl transition-shadow",variant:"premium",size:"lg",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"mr-3 h-5 w-5 animate-spin"}),"Activation en cours..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xu,{className:"mr-3 h-5 w-5"}),"Activer la promotion",B&&s.jsxs("span",{className:"ml-3 bg-white/20 px-3 py-1 rounded-full text-sm",children:[B.cost_pi," "]})]})}),M&&B&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-4 max-w-2xl mx-auto",children:["En cliquant, vous confirmez la promotion de ",s.jsxs("strong",{children:['"',M.title,'"']}),"avec le pack ",s.jsx("strong",{children:B.name})," pendant ",B.duration_days," jours pour un cot de ",B.cost_pi,"  (",U(B.cost_pi).toLocaleString("fr-FR")," FCFA)."]})]})})]}),s.jsx(W0,{isOpen:p,onClose:()=>N(!1),onProceed:L})]})},jwt=({onCtaClick:e})=>{const{t}=Xa(),[r,n]=A.useState("concert"),[a,i]=A.useState(5e3),[o,l]=A.useState(200),[c,u]=A.useState(0),[f,h]=A.useState({potentialRevenue:0,platformFee:0,netEarning:0}),g={concert:{name:"Concert",description:"95% pour organisateur et 5% pour la plateforme comme frais sur les participations",hasTickets:!0,hasInteractions:!1},stands:{name:"Vente de stands",description:"95% pour organisateur et 5% pour la plateforme comme frais sur les participations",hasTickets:!0,hasInteractions:!1},election:{name:"lection vote",description:"95% pour organisateur et 5% pour la plateforme comme frais sur les participations",hasTickets:!0,hasInteractions:!1},lottery:{name:"Tirage au sort (Lotterie)",description:"95% pour organisateur et 5% pour la plateforme comme frais sur les participations",hasTickets:!0,hasInteractions:!1},protected:{name:"vnement Protg Montis",description:"1 pice  chaque interaction soit 10 FCFA pour l'organisateur. Minimum pour retrait: 50 pices",hasTickets:!1,hasInteractions:!0}};A.useEffect(()=>{let b=0,S=0,C=0;const j=g[r];j.hasTickets?(b=a*o,S=b*.05,C=b-S):j.hasInteractions&&(b=c*10,S=0,C=b),h({potentialRevenue:Math.round(b),platformFee:Math.round(S),netEarning:Math.round(C)})},[r,a,o,c]);const p=b=>new Intl.NumberFormat("fr-FR").format(b),N=g[r];return s.jsx("section",{className:"py-16 md:py-24",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:t("marketing.simulation.title")}),s.jsx("p",{className:"text-muted-foreground mt-2 max-w-2xl mx-auto",children:t("marketing.simulation.subtitle")})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(qt,{className:"glass-effect shadow-lg",children:[s.jsx(zr,{children:s.jsx(Wr,{className:"text-center text-2xl",children:t("marketing.simulation.title")})}),s.jsxs(Xt,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:t("marketing.simulation.event_type")}),s.jsxs("select",{className:"w-full p-3 border border-border rounded-lg bg-background text-foreground text-sm md:text-base",value:r,onChange:b=>n(b.target.value),children:[s.jsx("option",{value:"concert",children:"Concert"}),s.jsx("option",{value:"stands",children:"Vente de stands"}),s.jsx("option",{value:"election",children:"lection vote"}),s.jsx("option",{value:"lottery",children:"Tirage au sort (Lotterie)"}),s.jsx("option",{value:"protected",children:"vnement Protg Montis"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:N.description})]}),N.hasTickets&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:t("marketing.simulation.ticket_price")}),s.jsxs("div",{className:"flex items-center border border-border rounded-lg bg-background px-3",children:[s.jsx("input",{type:"number",className:"w-full p-3 bg-transparent text-foreground text-sm md:text-base border-none outline-none",value:a,onChange:b=>i(Number(b.target.value)),min:"0",step:"100"}),s.jsx("span",{className:"text-muted-foreground whitespace-nowrap text-sm",children:"FCFA"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:t("marketing.simulation.number_of_tickets")}),s.jsx("input",{type:"number",className:"w-full p-3 border border-border rounded-lg bg-background text-foreground text-sm md:text-base",value:o,onChange:b=>l(Number(b.target.value)),min:"0"})]})]}),N.hasInteractions&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Nombre d'interactions estimes"}),s.jsx("input",{type:"number",className:"w-full p-3 border border-border rounded-lg bg-background text-foreground text-sm md:text-base",value:c,onChange:b=>u(Number(b.target.value)),min:"0",placeholder:"50 interactions minimum pour retrait"}),c<50&&s.jsx("p",{className:"text-xs text-amber-600 mt-2",children:" Minimum 50 interactions requis pour le retrait (500 FCFA)"})]})]}),s.jsxs("div",{className:"space-y-4 bg-muted/30 rounded-lg p-4 md:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-3",children:[s.jsx("span",{className:"text-foreground font-medium text-sm md:text-base",children:N.hasInteractions?"Revenu des interactions":t("marketing.simulation.potential_revenue")}),s.jsxs("span",{className:"font-semibold text-green-600 text-sm md:text-base",children:[p(f.potentialRevenue)," FCFA"]})]}),N.hasTickets&&s.jsxs("div",{className:"flex justify-between items-center border-b border-border pb-3",children:[s.jsx("span",{className:"text-foreground font-medium text-sm md:text-base",children:t("marketing.simulation.platform_fee")}),s.jsxs("span",{className:"font-semibold text-red-500 text-sm md:text-base",children:["- ",p(f.platformFee)," FCFA"]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2",children:[s.jsx("span",{className:"text-foreground font-bold text-sm md:text-base",children:t("marketing.simulation.your_net_earning")}),s.jsxs("span",{className:"font-bold text-green-600 text-lg md:text-xl",children:[p(f.netEarning)," FCFA"]})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:s.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:[" ",s.jsx("strong",{children:"Simulation en temps rel"})," - Modifiez les valeurs pour voir l'impact sur vos revenus"]})})]})]}),s.jsxs("div",{className:"mt-6 md:mt-8 text-center",children:[s.jsx(Ue,{size:"lg",className:"gradient-red text-primary-foreground shadow-lg w-full md:w-auto text-sm md:text-base hover:scale-105 transition-transform",onClick:e,children:t("marketing.simulation.cta")}),s.jsx("p",{className:"text-xs md:text-sm text-muted-foreground mt-3 md:mt-4",children:t("marketing.simulation.note")})]})]})]})})]})})},Twt=()=>{const{t:e}=Xa(),t=new Date().getFullYear(),[r,n]=A.useState([]),[a,i]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const{data:h,error:g}=await Je.from("sponsors").select("*").eq("is_active",!0).eq("show_in_footer",!0).order("display_order",{ascending:!0}).order("name",{ascending:!0});if(g){console.error("Error fetching sponsors:",g);return}n(h||[])}catch(h){console.error("Error in fetchSponsors:",h)}finally{i(!1)}})()},[]);const o={platform:[{to:"/",text:e("footer.home")},{to:"/how-it-works",text:e("footer.how_it_works")},{to:"/aide",text:e("footer.help")},{to:"/faq",text:e("footer.faq")}],company:[{to:"/about",text:e("footer.about")},{to:"/partner-signup",text:e("footer.partnership")},{to:"/sponsors",text:e("footer.sponsors")},{href:"mailto:support@bonplaninfos.net",text:"support@bonplaninfos.net"},{href:"https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH",text:e("footer.whatsapp_community")},{href:"tel:+2250712275374",text:"Tel: 002250712275374"}],legal:[{to:"/politique-confidentialite",text:e("footer.privacy")},{to:"/conditions-utilisation",text:e("footer.terms")},{to:"/protection-donnees",text:e("footer.data_protection")},{to:"/legal-mentions",text:e("footer.legal_mentions")}]},l=f=>{switch(f){case"gold":return"text-yellow-500 border-yellow-500 bg-yellow-50";case"silver":return"text-gray-600 border-gray-400 bg-gray-50";case"bronze":return"text-orange-700 border-orange-600 bg-orange-50";default:return"text-primary border-primary bg-muted"}},c=f=>{switch(f){case"gold":return"Or";case"silver":return"Argent";case"bronze":return"Bronze";default:return null}},u=r.length>0?[...r,...r,...r]:[];return s.jsxs("footer",{className:"bg-card border-t border-border/50",children:[s.jsxs("div",{className:"container py-12",children:[r.length>0&&s.jsxs("div",{className:"mb-12 pb-8 border-b border-border/50",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[s.jsx(y1,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"text-lg font-bold font-heading text-center text-foreground",children:e("sponsors.title")}),s.jsx(y1,{className:"w-5 h-5 text-primary"})]}),a?s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"flex animate-scroll whitespace-nowrap",children:u.map((f,h)=>s.jsxs("a",{href:f.website_url||"#",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center mx-4 group flex-shrink-0",children:[s.jsx("div",{className:`relative p-3 bg-background rounded-lg border-2 ${l(f.level)} transition-all duration-300 group-hover:scale-105 group-hover:shadow-md`,children:f.logo_url?s.jsx("img",{src:f.logo_url,alt:f.name,className:"h-10 w-auto max-w-28 object-contain"}):s.jsx("div",{className:`h-10 w-28 flex items-center justify-center text-xs font-medium text-center ${l(f.level)}`,children:f.name})}),f.level&&s.jsx("span",{className:`mt-1 px-2 py-0.5 text-xs font-medium rounded-full border ${l(f.level)} capitalize`,children:c(f.level)})]},`${f.id}-${h}`))}),s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-card to-transparent z-10"}),s.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-card to-transparent z-10"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("h3",{className:"font-bold font-heading text-lg mb-2 text-foreground",children:"BonPlanInfos"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("footer.tagline")})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold font-heading mb-3 text-foreground",children:e("footer.platform")}),s.jsx("ul",{className:"space-y-2 text-sm",children:o.platform.map(f=>s.jsx("li",{children:s.jsx(Ho,{to:f.to,className:"text-muted-foreground hover:text-primary",children:f.text})},f.to))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold font-heading mb-3 text-foreground",children:e("footer.company")}),s.jsx("ul",{className:"space-y-2 text-sm",children:o.company.map(f=>s.jsx("li",{children:f.to?s.jsx(Ho,{to:f.to,className:"text-muted-foreground hover:text-primary",children:f.text}):s.jsx("a",{href:f.href,className:"text-muted-foreground hover:text-primary",target:"_blank",rel:"noopener noreferrer",children:f.text})},f.to||f.href))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold font-heading mb-3 text-foreground",children:e("footer.legal")}),s.jsx("ul",{className:"space-y-2 text-sm",children:o.legal.map(f=>s.jsx("li",{children:s.jsx(Ho,{to:f.to,className:"text-muted-foreground hover:text-primary",children:f.text})},f.to))})]})]}),s.jsxs("div",{className:"mt-12 border-t border-border/50 pt-8 text-center text-xs text-muted-foreground",children:[s.jsxs("p",{children:[" ",t," BonPlanInfos  ",e("footer.all_rights_reserved")," | ",s.jsx(Ho,{to:"/politique-confidentialite",className:"hover:text-primary",children:e("footer.privacy")})," | ",s.jsx(Ho,{to:"/conditions-utilisation",className:"hover:text-primary",children:e("footer.terms")})]}),s.jsxs("p",{className:"mt-2",children:["support@bonplaninfos.net | WhatsApp : ",s.jsx("a",{href:"https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH",className:"hover:text-primary",target:"_blank",rel:"noopener noreferrer",children:e("footer.whatsapp_community")})," | Tel : +225 07 12 27 53 74"]}),s.jsxs("p",{className:"mt-2 text-muted-foreground",children:[e("footer.version")," 1.0.0"]})]})]}),s.jsx("style",{jsx:!0,children:`
                @keyframes scroll {
                    0% { transform: translateX(0); }
                    100% { transform: translateX(-33.333%); }
                }
                .animate-scroll { animation: scroll 30s linear infinite; }
                .animate-scroll:hover { animation-play-state: paused; }
            `})]})},kwt=()=>{const e=Ia(),{t}=Xa(),r=[{icon:xx,title:t("marketing.why.feature1"),description:t("marketing.why.feature1_desc")},{icon:xu,title:t("marketing.why.feature2"),description:t("marketing.why.feature2_desc")},{icon:Cd,title:t("marketing.why.feature3"),description:t("marketing.why.feature3_desc")},{icon:T7,title:t("marketing.why.feature4"),description:t("marketing.why.feature4_desc")},{icon:gc,title:t("marketing.why.feature5"),description:t("marketing.why.feature5_desc")},{icon:n_e,title:t("marketing.why.feature6"),description:t("marketing.why.feature6_desc")}],n=[{name:t("marketing.testimonials.bintou_diallo_name"),role:t("marketing.testimonials.bintou_diallo_role"),quote:t("marketing.testimonials.dj_kerozen_quote")},{name:t("marketing.testimonials.kwesi_mensah_name"),role:t("marketing.testimonials.kwesi_mensah_role"),quote:t("marketing.testimonials.fatou_sylla_quote")},{name:t("marketing.testimonials.aisha_traore_name"),role:t("marketing.testimonials.aisha_traore_role"),quote:t("marketing.testimonials.eric_b_quote")},{name:t("marketing.testimonials.amadou_ba_name"),role:t("marketing.testimonials.amadou_ba_role"),quote:t("marketing.testimonials.amadou_ba_quote")},{name:t("marketing.testimonials.chimamanda_ngozi_name"),role:t("marketing.testimonials.chimamanda_ngozi_role"),quote:t("marketing.testimonials.chimamanda_ngozi_quote")},{name:t("marketing.testimonials.didier_kouame_name"),role:t("marketing.testimonials.didier_kouame_role"),quote:t("marketing.testimonials.didier_kouame_quote")},{name:t("marketing.testimonials.mariam_kone_name"),role:t("marketing.testimonials.mariam_kone_role"),quote:t("marketing.testimonials.mariam_kone_quote")},{name:t("marketing.testimonials.femi_adebayo_name"),role:t("marketing.testimonials.femi_adebayo_role"),quote:t("marketing.testimonials.femi_adebayo_quote")},{name:t("marketing.testimonials.abena_asante_name"),role:t("marketing.testimonials.abena_asante_role"),quote:t("marketing.testimonials.abena_asante_quote")},{name:t("marketing.testimonials.yannick_zongo_name"),role:t("marketing.testimonials.yannick_zongo_role"),quote:t("marketing.testimonials.yannick_zongo_quote")}],a=({testimonials:i})=>{const o=A.useRef(null),[l,c]=A.useState(0),[u,f]=A.useState(!1),h=QM(0);V8e();const g=A.useRef(null);A.useEffect(()=>{const b=()=>{if(o.current){const S=o.current.scrollWidth,C=o.current.offsetWidth;c(S-C)}};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[i]),A.useEffect(()=>{if(u||l===0)return;const b=()=>{let C=h.get()-1;C<-l&&(C=0),h.set(C),g.current=requestAnimationFrame(b)};return g.current=requestAnimationFrame(b),()=>{g.current&&cancelAnimationFrame(g.current)}},[u,l,h]);const p=(b,S)=>{const j=h.get()+S.delta.x*1.5;h.set(j)},N=[...i,...i];return s.jsxs(Zt.div,{ref:o,className:"cursor-grab overflow-hidden touch-pan-x relative",onMouseDown:()=>f(!0),onMouseUp:()=>f(!1),onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),children:[s.jsx(Zt.div,{drag:"x",dragConstraints:{right:0,left:-l},dragElastic:.3,dragTransition:{bounceStiffness:600,bounceDamping:20},style:{x:h},onDrag:p,className:"flex gap-4 md:gap-6 lg:gap-8 px-4 md:px-0",whileTap:{cursor:"grabbing",scale:.98},children:N.map((b,S)=>s.jsx(Zt.div,{className:"min-w-[85vw] sm:min-w-[60vw] md:min-w-[45vw] lg:min-w-[35vw] flex-shrink-0",whileHover:{scale:u?1:1.03,y:-5,transition:{duration:.2}},children:s.jsxs(qt,{className:"h-full glass-effect flex flex-col shadow-lg border hover:shadow-xl transition-all duration-300",children:[s.jsx(Xt,{className:"p-4 md:p-6 flex-grow",children:s.jsxs("p",{className:"text-foreground/80 italic text-sm md:text-base leading-relaxed",children:['"',b.quote,'"']})}),s.jsx(zr,{className:"pt-0 px-4 md:px-6 pb-4 md:pb-6",children:s.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-tr from-primary to-secondary flex items-center justify-center text-white font-bold text-lg md:text-xl flex-shrink-0 shadow-md",children:b.name.charAt(0)}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-semibold text-foreground text-sm md:text-base truncate",children:b.name}),s.jsx("p",{className:"text-xs md:text-sm text-muted-foreground truncate",children:b.role})]})]})})]})},S))}),s.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:i.slice(0,5).map((b,S)=>s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/30 transition-all duration-300"},S))})]})};return s.jsxs("div",{className:"bg-background text-foreground",children:[s.jsx(O6,{pageData:{title:t("marketing.meta_title"),description:t("marketing.meta_description")}}),s.jsxs("section",{className:"relative pt-20 pb-20 md:pt-32 md:pb-24 text-center overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-secondary/10"}),s.jsx("div",{className:"container mx-auto px-4 relative",children:s.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsx(Vr,{variant:"secondary",className:"mb-4 text-sm font-semibold py-1 px-3",children:t("marketing.badge")}),s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-6xl font-extrabold tracking-tight mb-4 text-transparent bg-clip-text bg-gradient-to-r from-primary via-red-500 to-secondary",children:t("marketing.title")}),s.jsx("p",{className:"max-w-3xl mx-auto text-base sm:text-lg md:text-xl text-muted-foreground mb-6 sm:mb-8 px-4 sm:px-0",children:t("marketing.subtitle")}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[s.jsx(Ue,{size:"lg",className:"gradient-red text-primary-foreground shadow-lg hover:scale-105 transition-transform",onClick:()=>e("/create-event"),children:t("marketing.createEventCta")}),s.jsx(Ue,{size:"lg",variant:"outline",className:"border-primary text-primary hover:bg-primary/10 hover:scale-105 transition-transform",onClick:()=>e("/partner-signup"),children:t("marketing.becomePartnerCta")})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-6",children:t("marketing.trust")})]})})]}),s.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:t("marketing.why.title")}),s.jsx("p",{className:"text-muted-foreground mt-2 max-w-2xl mx-auto",children:t("marketing.why.subtitle")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((i,o)=>s.jsx(Zt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:o*.1},whileHover:{y:-5,transition:{duration:.2}},children:s.jsxs(qt,{className:"h-full text-center sm:text-left glass-effect hover:border-primary/50 transition-all duration-300 hover:shadow-lg",children:[s.jsxs(zr,{className:"flex flex-col sm:flex-row items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-full flex-shrink-0",children:s.jsx(i.icon,{className:"w-6 h-6 text-primary"})}),s.jsx(Wr,{className:"text-xl text-foreground",children:i.title})]}),s.jsx(Xt,{children:s.jsx("p",{className:"text-muted-foreground",children:i.description})})]})},o))})]})}),s.jsx(jwt,{onCtaClick:()=>e("/create-event")}),s.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:t("marketing.testimonials.title")}),s.jsx("p",{className:"mt-2 text-muted-foreground text-sm md:text-base",children:"Dfilement automatique - Glissez pour acclrer le dfilement"})]}),s.jsx(a,{testimonials:n})]})}),s.jsx(Zt.div,{className:"my-8 md:my-12 container px-4",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.6},children:s.jsxs(qt,{className:"overflow-hidden shadow-xl border-amber-500/30 hover:shadow-2xl transition-all duration-300",children:[s.jsx(zr,{className:"pb-4",children:s.jsx(Wr,{className:"text-center text-xl md:text-2xl",children:"Paiements Flexibles et Scuriss"})}),s.jsx(Xt,{className:"p-0",children:s.jsx("img",{src:"https://horizons-cdn.hostinger.com/b046caa6-31e1-44c9-b7bb-4c0c24e49566/b4e1bcde8a95f1bcad910ed8862c6c37.jpg",alt:"Mthodes de paiement varies",className:"w-full h-auto object-contain max-h-32 md:max-h-48"})})]})}),s.jsx("section",{className:"py-16 md:py-24",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"relative bg-gradient-to-r from-primary to-red-500 rounded-lg p-8 md:p-12 text-center text-primary-foreground overflow-hidden",children:[s.jsx("div",{className:"absolute -top-4 -left-4 w-32 h-32 bg-white/10 rounded-full opacity-50"}),s.jsx("div",{className:"absolute -bottom-8 -right-8 w-48 h-48 bg-white/10 rounded-lg transform rotate-45 opacity-50"}),s.jsxs("div",{className:"relative",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:t("marketing.cta.title")}),s.jsx("p",{className:"max-w-2xl mx-auto text-lg mb-8 text-primary-foreground/90",children:t("marketing.cta.subtitle")}),s.jsx(Ue,{size:"lg",variant:"secondary",className:"bg-white text-primary hover:bg-gray-100 shadow-lg transform hover:scale-105 transition-transform",onClick:()=>e("/partner-signup"),children:t("marketing.cta.cta")})]})]})})}),s.jsx(Twt,{})]})};let LS;const Pwt=new Uint8Array(16);function Owt(){if(!LS&&(LS=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!LS))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return LS(Pwt)}const Dc=[];for(let e=0;e<256;++e)Dc.push((e+256).toString(16).slice(1));function Iwt(e,t=0){return Dc[e[t+0]]+Dc[e[t+1]]+Dc[e[t+2]]+Dc[e[t+3]]+"-"+Dc[e[t+4]]+Dc[e[t+5]]+"-"+Dc[e[t+6]]+Dc[e[t+7]]+"-"+Dc[e[t+8]]+Dc[e[t+9]]+"-"+Dc[e[t+10]]+Dc[e[t+11]]+Dc[e[t+12]]+Dc[e[t+13]]+Dc[e[t+14]]+Dc[e[t+15]]}const Fwt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iJ={randomUUID:Fwt};function Xu(e,t,r){if(iJ.randomUUID&&!t&&!e)return iJ.randomUUID();e=e||{};const n=e.random||(e.rng||Owt)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let a=0;a<16;++a)t[r+a]=n[a];return t}return Iwt(n)}class p1{static async getCoinPacks(){const{data:t,error:r}=await Je.from("coin_packs").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(r)throw r;return t.map(n=>({...n,total_coins:(n.coin_amount||0)+(n.bonus_coins||0),price_per_coin:(n.coin_amount||0)+(n.bonus_coins||0)>0?Number((n.fcfa_price/((n.coin_amount||0)+(n.bonus_coins||0))).toFixed(2)):0,type:"coin_pack"}))}static async getCoinPackBySlug(t){const{data:r,error:n}=await Je.from("coin_packs").select("*").eq("slug",t).maybeSingle();if(n&&n.code!=="PGRST116")throw console.error("Error fetching pack by slug:",n),n;return r}static async getLicensePacks(){const{data:t,error:r}=await Je.from("partner_license_packs").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(r)throw r;return t.map(n=>({...n,type:"partner_license",duration_months:Math.floor(n.duration_days/30)}))}static async initiatePurchase(t,r){const{type:n}=r;if(n==="coin_pack")return await this.initiateCoinPack(t,r);if(n==="custom_coins")return await this.initiateCustomCoins(t,r);if(n==="partner_license")return await this.initiatePartnerLicense(t,r);throw new Error("Type d'achat non support")}static async initiateCoinPack(t,{pack_id:r}){const{data:n,error:a}=await Je.from("coin_packs").select("*").eq("id",r).eq("is_active",!0).eq("is_custom",!1).single();if(a||!n)throw new Error("Ce pack de pices n'est pas disponible pour le moment.");const i=`BPI-COIN-${r}-${Xu().substring(0,8)}`,o=n.coin_amount+n.bonus_coins,{error:l}=await Je.from("user_coin_transactions").insert({user_id:t,transaction_id:i,amount_fcfa:n.fcfa_price,coin_amount:n.coin_amount,bonus_coins:n.bonus_coins,total_coins:o,pack_id:r,transaction_type:"coin_pack"});if(l)throw new Error("Erreur lors de la cration de la transaction: "+l.message);return{success:!0,transaction_id:i,redirect_url:this.generateRedirectUrl(i,n.fcfa_price,"coin_pack",n.id)}}static async initiateCustomCoins(t,{amount_fcfa:r}){if(r<500)throw new Error("Le montant minimum pour un achat personnalis est de 500 FCFA.");if(r>4e5)throw new Error("Le montant maximum pour un achat personnalis est de 400,000 FCFA.");const n=Math.floor(r/10),a=this.calculateCustomBonus(r),i=n+a,o=`BPI-CUSTOM-${Xu().substring(0,8)}`,{error:l}=await Je.from("user_coin_transactions").insert({user_id:t,transaction_id:o,amount_fcfa:r,coin_amount:n,bonus_coins:a,total_coins:i,transaction_type:"custom_coins"});if(l)throw new Error("Erreur lors de la cration de la transaction personnalise: "+l.message);return{success:!0,transaction_id:o,redirect_url:this.generateRedirectUrl(o,r,"custom_coins")}}static async initiatePartnerLicense(t,{license_pack_id:r}){const{data:n,error:a}=await Je.from("partner_license_packs").select("*").eq("id",r).eq("is_active",!0).single();if(a||!n)throw new Error("Cette licence de partenariat n'est pas disponible.");const i=`BPI-LIC-${r}-${Xu().substring(0,8)}`,{error:o}=await Je.from("user_coin_transactions").insert({user_id:t,transaction_id:i,amount_fcfa:n.fcfa_price,license_pack_id:r,transaction_type:"partner_license"});if(o)throw new Error("Erreur lors de la cration de la transaction de licence: "+o.message);return{success:!0,transaction_id:i,redirect_url:this.generateRedirectUrl(i,n.fcfa_price,"partner_license",r)}}static calculateCustomBonus(t){return t>=2e5?Math.floor(t/10*.08):t>=1e5?Math.floor(t/10*.06):t>=5e4?Math.floor(t/10*.05):t>=2e4?Math.floor(t/10*.03):t>=1e4?Math.floor(t/10*.02):t>=5e3?Math.floor(t/10*.01):0}static generateRedirectUrl(t,r,n,a=null){const i=new URLSearchParams({transaction_id:t,amount:r,type:n});return a&&i.append("pack_id",a),`/payment/checkout?${i.toString()}`}static async verifyAndCreditPayment(t,r,n){try{const{data:a,error:i}=await Je.from("user_coin_transactions").select("*").eq("transaction_id",t).eq("status","pending").single();if(i||!a)return{success:!1,message:"Transaction non trouve ou dj traite."};const{error:o}=await Je.from("user_coin_transactions").update({status:"completed",user_email:r,moneyfusion_reference:n,payment_date:new Date().toISOString(),verified_at:new Date().toISOString()}).eq("transaction_id",t);if(o)throw o;if(a.transaction_type==="coin_pack"||a.transaction_type==="custom_coins"){const{error:l}=await Je.rpc("increment_user_coins",{p_user_id:a.user_id,p_coin_increment:a.total_coins,p_fcfa_increment:parseFloat(a.amount_fcfa)});if(l)throw l;return{success:!0,message:`${a.total_coins} pices ont t crdites sur votre compte.`,type:"coins",amount:a.total_coins}}else if(a.transaction_type==="partner_license"){const{data:l}=await Je.from("partner_license_packs").select("*").eq("id",a.license_pack_id).single();if(!l)throw new Error("Pack de licence non trouv pour la transaction.");const c=new Date;c.setDate(c.getDate()+l.duration_days);const{error:u}=await Je.from("user_partner_licenses").insert({user_id:a.user_id,license_pack_id:a.license_pack_id,transaction_id:t,purchase_date:new Date().toISOString(),expiry_date:c.toISOString(),revenue_share_percent:l.revenue_share_percent,status:"active"});if(u)throw u;return{success:!0,message:`Votre Licence ${l.name} est maintenant active pour ${l.duration_days} jours.`,type:"license",license_name:l.name,expiry_date:c}}}catch(a){return console.error("Erreur de vrification/crditation:",a),{success:!1,message:"Une erreur technique est survenue: "+a.message}}return{success:!1,message:"Type de transaction inconnu."}}static async getUserLicenses(t){if(!t)return[];const{data:r,error:n}=await Je.from("user_partner_licenses").select("*, partner_license_packs (*)").eq("user_id",t).eq("status","active").order("purchase_date",{ascending:!1});if(n)throw console.error("Erreur lors de la rcupration des licences utilisateur",n),n;return r}}const Dwt=({user:e,userLicenses:t,onLicenseUpdate:r})=>{const[n,a]=A.useState([]),[i,o]=A.useState(!0),[l,c]=A.useState(null),{toast:u}=qs(),f=Ia(),{t:h}=Xa(),g=A.useCallback(async()=>{o(!0);try{const C=await p1.getLicensePacks();a(C)}catch(C){console.error("Erreur chargement licences:",C),N(h("partner_signup.error_loading_licenses"))}finally{o(!1)}},[h]);A.useEffect(()=>{g()},[g]);const p=async C=>{if(!e){N(h("partner_signup.error_toast.login_required"));return}c(C.id);try{f(`/payment/checkout?amount=${C.fcfa_price}&packId=${C.id}&type=partner_license&from=/partner-signup`)}catch(j){N(j.message)}finally{c(null)}},N=C=>{u({title:h("partner_signup.error_toast.title"),description:C,variant:"destructive"})},b=C=>C?new Date(C).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"N/A",S=C=>new Date(C)>new Date;return i?s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:h("partner_signup.loading_licenses")})]}):s.jsxs("div",{className:"license-purchase",children:[s.jsx(Su,{children:t&&t.length>0&&s.jsxs(Zt.section,{className:"active-licenses",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[s.jsxs("h2",{children:[s.jsx("span",{role:"img","aria-label":"ticket",children:""})," ",h("partner_signup.your_licenses_title")]}),s.jsx("div",{className:"licenses-grid",children:t.map(C=>{var j;return s.jsxs("div",{className:`license-card ${S(C.expiry_date)?"active":"expired"}`,children:[s.jsxs("div",{className:"license-header",children:[s.jsx("h3",{children:((j=C.partner_license_packs)==null?void 0:j.name)||"Licence"}),s.jsx("span",{className:"license-status",children:S(C.expiry_date)?` ${h("partner_signup.license_card.active")}`:` ${h("partner_signup.license_card.expired")}`})]}),s.jsxs("div",{className:"license-details",children:[s.jsx("p",{children:s.jsx("strong",{children:h("partner_signup.license_card.revenue_share",{percent:C.revenue_share_percent})})}),s.jsxs("p",{children:[s.jsx("strong",{children:h("partner_signup.license_card.purchased_on")})," ",b(C.purchase_date)]}),s.jsxs("p",{children:[s.jsx("strong",{children:h("partner_signup.license_card.expires_on")})," ",b(C.expiry_date)]}),s.jsx("p",{children:s.jsx("strong",{children:h("partner_signup.license_card.days_remaining",{count:Math.max(0,Math.ceil((new Date(C.expiry_date)-new Date)/(1e3*60*60*24)))})})})]})]},C.id)})})]})}),s.jsxs("section",{className:"available-licenses",children:[s.jsxs("h2",{children:[s.jsx("span",{role:"img","aria-label":"rocket",children:""})," ",h("partner_signup.available_licenses_title")]}),s.jsx("p",{className:"license-subtitle",children:h("partner_signup.available_licenses_subtitle")}),s.jsx("div",{className:"licenses-grid",children:n.map((C,j)=>s.jsxs(Zt.div,{className:"license-pack-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},children:[C.badge&&s.jsx("div",{className:"license-badge",children:C.badge}),s.jsxs("div",{className:"license-pack-header",children:[s.jsx("h3",{children:C.name}),s.jsxs("div",{className:"license-price",children:[C.fcfa_price.toLocaleString()," FCFA ",s.jsx("span",{className:"text-lg font-normal text-muted-foreground",children:h("partner_signup.per_month")})]})]}),s.jsxs("div",{className:"revenue-share",children:[s.jsxs("div",{className:"revenue-percent",children:[C.revenue_share_percent,"%"]}),s.jsx("div",{className:"revenue-label",children:h("partner_signup.revenue_label")})]}),s.jsxs("div",{className:"license-duration",children:[s.jsx("span",{role:"img","aria-label":"timer",children:""})," ",h("partner_signup.duration_label",{months:C.duration_months,days:C.duration_days})]}),s.jsx("div",{className:"license-features",children:s.jsx("ul",{children:C.features.map((T,O)=>s.jsxs("li",{children:[s.jsx("span",{role:"img","aria-label":"check",children:""})," ",T]},O))})}),s.jsx("div",{className:"license-description",children:C.description}),s.jsx(Ue,{onClick:()=>p(C),className:"buy-license-button",disabled:l===C.id,children:l===C.id?s.jsx(Jt,{className:"animate-spin"}):h("partner_signup.purchase_cta")})]},C.id))})]})]})},Rwt=()=>{const{user:e}=bn(),{userProfile:t,loadingProfile:r}=ai(),n=Ia(),{toast:a}=qs(),{t:i}=Xa(),[o,l]=A.useState([]),[c,u]=A.useState(!0),f=A.useCallback(async()=>{if(!e){u(!1);return}try{u(!0);const h=await p1.getUserLicenses(e.id);l(h)}catch{a({title:i("partner_signup.error_toast.title"),description:i("partner_signup.error_loading_licenses"),variant:"destructive"})}finally{u(!1)}},[e,a,i]);return A.useEffect(()=>{f()},[f]),e?r||c?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(Jt,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[s.jsx(O6,{pageData:{title:i("partner_signup.meta_title"),description:i("partner_signup.meta_description")}}),s.jsx(Zt.div,{initial:{opacity:0},animate:{opacity:1},className:"container mx-auto px-4 py-12 md:py-20",children:s.jsx(Dwt,{user:t,userLicenses:o,onLicenseUpdate:f})})]}):s.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center text-center p-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:i("partner_signup.unauthorized_title")}),s.jsx("p",{className:"text-muted-foreground mb-6",children:i("partner_signup.unauthorized_desc")}),s.jsx(Ue,{onClick:()=>n("/auth"),children:i("partner_signup.unauthorized_cta")})]})})};const Mwt=()=>{const{user:e}=bn(),{toast:t}=qs(),[r,n]=A.useState(!1),[a,i]=A.useState(null),[o,l]=A.useState(!1),[c,u]=A.useState(0),[f,h]=A.useState(""),[g,p]=A.useState(!1),N=A.useRef(null);A.useCallback(async()=>{if(e)try{const{data:T,error:O}=await Je.rpc("get_todays_mandatory_video",{user_uuid:e.id});if(O){console.error("Error fetching mandatory video status:",O);return}}catch(T){console.error("Error in checkMandatoryVideo:",T)}},[e]),A.useEffect(()=>{},[e]);const b=async()=>{l(!0)},S=async()=>{if(c!==0){p(!0);try{const T=N.current?Math.floor(N.current.currentTime):a.video_duration,{data:O,error:M}=await Je.rpc("complete_mandatory_video",{user_uuid:e.id,video_uuid:a.id,watch_duration:T,device_data:{userAgent:navigator.userAgent}});if(M)throw M;if(O.success)t({title:" Rcompense reue !",description:O.message,className:"bg-green-500 text-white"}),l(!1),n(!1);else throw new Error(O.message)}catch(T){console.error("Error submitting rating:",T),t({title:"Erreur",description:T.message||"Une erreur est survenue lors de la soumission de votre avis.",variant:"destructive"})}finally{p(!1)}}},C=T=>{u(T),T>=4&&(h(""),setTimeout(()=>S(),500))},j=()=>[1,2,3,4,5].map(T=>s.jsx("button",{type:"button",className:`star ${T<=c?"filled":""}`,onClick:()=>C(T),disabled:g,children:""},T));return!r||!a?null:s.jsx(Su,{children:r&&s.jsx(Zt.div,{className:"mandatory-video-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsx(Zt.div,{className:"mandatory-video-popup",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},children:o?s.jsxs("div",{className:"rating-container",children:[s.jsxs("div",{className:"rating-header",children:[s.jsx("h2",{children:"Que pensez-vous de cette vido ?"}),s.jsx("p",{children:"Votre avis nous aide  amliorer la plateforme"})]}),s.jsx("div",{className:"stars-container",children:j()}),c>0&&c<=3&&s.jsx("div",{className:"feedback-container",children:s.jsx(ec,{value:f,onChange:T=>h(T.target.value),placeholder:"Merci de nous expliquer ce qui n'a pas fonctionn pour vous...",rows:"3",disabled:g,className:"bg-slate-100"})}),s.jsx("div",{className:"rating-actions",children:s.jsx(Ue,{onClick:S,disabled:c===0||g||c<=3&&!f.trim(),className:"submit-rating-btn",children:g?s.jsx(Jt,{className:"animate-spin"}):"Soumettre mon avis"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"video-header",children:[s.jsx("h2",{children:a.title}),s.jsx("p",{children:a.description})]}),s.jsx("div",{className:"video-container",children:s.jsx("video",{ref:N,controls:!0,autoPlay:!0,onEnded:b,src:a.video_url,className:"mandatory-video"})}),s.jsx("div",{className:"video-footer",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Attention:"})," Vous devez regarder cette vido jusqu' la fin pour recevoir votre rcompense et accder  toutes les fonctionnalits."]})})]})})})})};const Lwt=()=>{const{t:e}=Xa(),t=Ia(),r=[{icon:s.jsx(p0,{className:"text-blue-400"}),title:e("about.vision.global.title"),description:e("about.vision.global.description")},{icon:s.jsx(xx,{className:"text-green-400"}),title:e("about.vision.empowerment.title"),description:e("about.vision.empowerment.description")},{icon:s.jsx(wd,{className:"text-purple-400"}),title:e("about.vision.innovation.title"),description:e("about.vision.innovation.description")}],n=[{icon:s.jsx(oo,{className:"text-orange-400"}),metric:e("about.highlights.events.metric"),label:e("about.highlights.events.label")},{icon:s.jsx(ao,{className:"text-blue-400"}),metric:e("about.highlights.community.metric"),label:e("about.highlights.community.label")},{icon:s.jsx(yI,{className:"text-yellow-400"}),metric:e("about.highlights.success.metric"),label:e("about.highlights.success.label")},{icon:s.jsx(Cd,{className:"text-green-400"}),metric:e("about.highlights.growth.metric"),label:e("about.highlights.growth.label")}],a=[{icon:s.jsx(Oj,{className:"text-red-400"}),title:e("about.values.passion.title"),description:e("about.values.passion.description")},{icon:s.jsx(gc,{className:"text-blue-400"}),title:e("about.values.trust.title"),description:e("about.values.trust.description")},{icon:s.jsx(xu,{className:"text-yellow-400"}),title:e("about.values.agility.title"),description:e("about.values.agility.description")},{icon:s.jsx(aA,{className:"text-purple-400"}),title:e("about.values.impact.title"),description:e("about.values.impact.description")}],i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},o={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6}}},l=()=>{window.open("https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH","_blank")},c=()=>{const f="2250712275374",h=encodeURIComponent("Bonjour BonPlanInfos, je souhaite en savoir plus sur vos services.");window.open(`https://wa.me/${f}?text=${h}`,"_blank")},u=()=>{window.open("tel:+2250712275374","_self")};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800",children:[s.jsxs(Di,{children:[s.jsx("title",{children:e("about.meta_title")}),s.jsx("meta",{name:"description",content:e("about.meta_description")})]}),s.jsxs("section",{className:"relative py-20 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-gray-800 [mask-image:linear-gradient(0deg,rgba(0,0,0,0.1),rgba(0,0,0,0.5))]"}),s.jsx("div",{className:"container relative",children:s.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent mb-6",children:e("about.hero.title")}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 leading-relaxed",children:e("about.hero.subtitle")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Ue,{size:"lg",className:"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-full font-semibold transition-all duration-300",onClick:()=>t("/auth"),children:e("about.hero.cta_primary")}),s.jsx(Ue,{size:"lg",variant:"outline",className:"border-blue-400 text-blue-400 hover:bg-blue-400 hover:text-gray-900 px-8 py-3 rounded-full font-semibold transition-all duration-300",onClick:()=>t("/discover"),children:e("about.hero.cta_secondary")})]})]})})]}),s.jsx("section",{className:"py-20 bg-gray-900",children:s.jsxs("div",{className:"container",children:[s.jsxs(Zt.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:e("about.vision.title")}),s.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:e("about.vision.description")})]}),s.jsx(Zt.div,{variants:i,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid md:grid-cols-3 gap-8",children:r.map((f,h)=>s.jsxs(Zt.div,{variants:o,className:"text-center p-8 rounded-2xl bg-gray-800 hover:shadow-gray-700/20 transition-all duration-300 border border-gray-700",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-700 rounded-2xl flex items-center justify-center shadow-gray-900",children:f.icon}),s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:f.title}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:f.description})]},h))})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-700 to-blue-900 text-white",children:s.jsxs("div",{className:"container",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold mb-4",children:e("about.highlights.title")}),s.jsx("p",{className:"text-xl opacity-90",children:e("about.highlights.subtitle")})]}),s.jsx(Zt.div,{variants:i,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:n.map((f,h)=>s.jsxs(Zt.div,{variants:o,className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-black/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:f.icon}),s.jsx("div",{className:"text-3xl font-bold mb-2",children:f.metric}),s.jsx("div",{className:"text-blue-200 font-medium",children:f.label})]},h))})]})}),s.jsx("section",{className:"py-20 bg-gray-900",children:s.jsxs("div",{className:"container",children:[s.jsxs(Zt.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:e("about.values.title")}),s.jsx("p",{className:"text-lg text-gray-300",children:e("about.values.description")})]}),s.jsx(Zt.div,{variants:i,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map((f,h)=>s.jsxs(Zt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:h*.1},className:"bg-gray-800 p-8 rounded-2xl shadow-lg hover:shadow-gray-700/20 transition-all duration-300 border border-gray-700",children:[s.jsx("div",{className:"value-icon w-16 h-16 mx-auto mb-6 bg-blue-900/30 rounded-2xl flex items-center justify-center",children:f.icon}),s.jsx("h4",{className:"font-bold text-xl text-white mt-4 text-center",children:f.title}),s.jsx("p",{className:"text-gray-300 text-sm mt-4 text-center leading-relaxed",children:f.description})]},h))})]})}),s.jsx("section",{className:"py-20 bg-gray-900",children:s.jsx("div",{className:"container",children:s.jsxs(Zt.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"text-center max-w-3xl mx-auto",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:e("about.cta.title")}),s.jsx("p",{className:"text-lg text-gray-300 mb-8 leading-relaxed",children:e("about.cta.description")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",children:[s.jsx(Ue,{size:"lg",className:"bg-gradient-to-r from-blue-700 to-blue-900 hover:from-blue-600 hover:to-blue-800 text-white px-8 py-3 rounded-full font-semibold shadow-lg transition-all duration-300",onClick:()=>t("/auth?tab=register"),children:e("about.cta.button_primary")}),s.jsxs(Ue,{size:"lg",variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800 px-8 py-3 rounded-full font-semibold transition-all duration-300",onClick:u,children:[s.jsx(D5,{className:"w-5 h-5 mr-2"}),e("about.cta.call")]})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-8 mt-8",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-6",children:e("about.cta.contact_direct")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-4",children:[s.jsxs(Ue,{size:"lg",className:"bg-green-700 hover:bg-green-600 text-white px-6 py-3 rounded-full font-semibold shadow-lg transition-all duration-300",onClick:l,children:[s.jsx(ao,{className:"w-5 h-5 mr-2"}),e("about.cta.whatsapp_group")]}),s.jsxs(Ue,{size:"lg",className:"bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-full font-semibold shadow-lg transition-all duration-300",onClick:c,children:[s.jsx(tA,{className:"w-5 h-5 mr-2"}),e("about.cta.whatsapp_direct")]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-4",children:e("about.cta.available_hours")})]})]})})})]})};const sJ=()=>{const{t:e}=Xa(),t=[{key:"introduction",icon:s.jsx(hy,{})},{key:"data_collected",icon:s.jsx(M5,{})},{key:"data_usage",icon:s.jsx(fb,{})},{key:"cookies",icon:s.jsx(P7,{})},{key:"data_sharing",icon:s.jsx(b1,{})},{key:"security",icon:s.jsx(R0,{})},{key:"your_rights",icon:s.jsx($u,{})},{key:"contact",icon:s.jsx(s1,{})}];return s.jsxs("div",{className:"legal-mentions-page",children:[s.jsxs(Di,{children:[s.jsxs("title",{children:[e("privacy.meta_title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("privacy.meta_description")})]}),s.jsxs("main",{children:[s.jsx("section",{className:"legal-hero",children:s.jsxs("div",{className:"container",children:[s.jsxs("h1",{children:[s.jsx(hy,{className:"inline-block w-12 h-12 mb-4"})," ",e("privacy.title")]}),s.jsx("p",{children:e("privacy.meta_description")}),s.jsx("div",{className:"last-update",children:e("privacy.last_updated")})]})}),s.jsx("section",{className:"legal-content",children:s.jsx("div",{className:"container",children:t.map(({key:r,icon:n})=>{const a=e(`privacy.${r}`,{returnObjects:!0});return s.jsxs("div",{className:"legal-section",children:[s.jsxs("h2",{children:[n," ",a.title]}),s.jsx("p",{children:a.p1}),r==="data_collected"||r==="data_usage"||r==="your_rights"?s.jsx("ul",{children:Object.keys(a).filter(i=>i.startsWith("item")).map(i=>s.jsx("li",{dangerouslySetInnerHTML:{__html:a[i]}},i))}):null,r==="your_rights"&&a.p2&&s.jsx("p",{children:a.p2}),r==="contact"&&s.jsx("p",{children:s.jsx("a",{href:`mailto:${a.email}`,className:"text-primary hover:underline",children:a.email})})]},r)})})})]})]})};var HT="Collapsible",[Bwt,qpe]=Nc(HT),[Uwt,_B]=Bwt(HT),Gpe=A.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=_c({prop:n,defaultProp:a??!1,onChange:o,caller:HT});return s.jsx(Uwt,{scope:r,disabled:i,contentId:_d(),open:c,onOpenToggle:A.useCallback(()=>u(f=>!f),[u]),children:s.jsx(Dn.div,{"data-state":SB(c),"data-disabled":i?"":void 0,...l,ref:t})})});Gpe.displayName=HT;var Kpe="CollapsibleTrigger",Ype=A.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=_B(Kpe,r);return s.jsx(Dn.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":SB(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Rr(e.onClick,a.onOpenToggle)})});Ype.displayName=Kpe;var NB="CollapsibleContent",Xpe=A.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_B(NB,e.__scopeCollapsible);return s.jsx(td,{present:r||a.open,children:({present:i})=>s.jsx($wt,{...n,ref:t,present:i})})});Xpe.displayName=NB;var $wt=A.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=_B(NB,r),[l,c]=A.useState(n),u=A.useRef(null),f=Ra(t,u),h=A.useRef(0),g=h.current,p=A.useRef(0),N=p.current,b=o.open||l,S=A.useRef(b),C=A.useRef(void 0);return A.useEffect(()=>{const j=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(j)},[]),fl(()=>{const j=u.current;if(j){C.current=C.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const T=j.getBoundingClientRect();h.current=T.height,p.current=T.width,S.current||(j.style.transitionDuration=C.current.transitionDuration,j.style.animationName=C.current.animationName),c(n)}},[o.open,n]),s.jsx(Dn.div,{"data-state":SB(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!b,...i,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":N?`${N}px`:void 0,...e.style},children:b&&a})});function SB(e){return e?"open":"closed"}var zwt=Gpe,Vwt=Ype,Wwt=Xpe,Yh="Accordion",Hwt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[CB,qwt,Gwt]=ub(Yh),[qT,E5t]=Nc(Yh,[Gwt,qpe]),AB=qpe(),Zpe=Ve.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(CB.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(Zwt,{...i,ref:t}):s.jsx(Xwt,{...a,ref:t})})});Zpe.displayName=Yh;var[Jpe,Kwt]=qT(Yh),[Qpe,Ywt]=qT(Yh,{collapsible:!1}),Xwt=Ve.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=_c({prop:r,defaultProp:n??"",onChange:a,caller:Yh});return s.jsx(Jpe,{scope:e.__scopeAccordion,value:Ve.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Ve.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(Qpe,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(e1e,{...o,ref:t})})})}),Zwt=Ve.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=_c({prop:r,defaultProp:n??[],onChange:a,caller:Yh}),c=Ve.useCallback(f=>l((h=[])=>[...h,f]),[l]),u=Ve.useCallback(f=>l((h=[])=>h.filter(g=>g!==f)),[l]);return s.jsx(Jpe,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(Qpe,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(e1e,{...i,ref:t})})})}),[Jwt,GT]=qT(Yh),e1e=Ve.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=Ve.useRef(null),c=Ra(l,t),u=qwt(r),h=qx(a)==="ltr",g=Rr(e.onKeyDown,p=>{var H;if(!Hwt.includes(p.key))return;const N=p.target,b=u().filter(U=>{var J;return!((J=U.ref.current)!=null&&J.disabled)}),S=b.findIndex(U=>U.ref.current===N),C=b.length;if(S===-1)return;p.preventDefault();let j=S;const T=0,O=C-1,M=()=>{j=S+1,j>O&&(j=T)},B=()=>{j=S-1,j<T&&(j=O)};switch(p.key){case"Home":j=T;break;case"End":j=O;break;case"ArrowRight":i==="horizontal"&&(h?M():B());break;case"ArrowDown":i==="vertical"&&M();break;case"ArrowLeft":i==="horizontal"&&(h?B():M());break;case"ArrowUp":i==="vertical"&&B();break}const L=j%C;(H=b[L].ref.current)==null||H.focus()});return s.jsx(Jwt,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(CB.Slot,{scope:r,children:s.jsx(Dn.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:g})})})}),JE="AccordionItem",[Qwt,EB]=qT(JE),t1e=Ve.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=GT(JE,r),o=Kwt(JE,r),l=AB(r),c=_d(),u=n&&o.value.includes(n)||!1,f=i.disabled||e.disabled;return s.jsx(Qwt,{scope:r,open:u,disabled:f,triggerId:c,children:s.jsx(zwt,{"data-orientation":i.orientation,"data-state":o1e(u),...l,...a,ref:t,disabled:f,open:u,onOpenChange:h=>{h?o.onItemOpen(n):o.onItemClose(n)}})})});t1e.displayName=JE;var r1e="AccordionHeader",n1e=Ve.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=GT(Yh,r),i=EB(r1e,r);return s.jsx(Dn.h3,{"data-orientation":a.orientation,"data-state":o1e(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});n1e.displayName=r1e;var wR="AccordionTrigger",a1e=Ve.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=GT(Yh,r),i=EB(wR,r),o=Ywt(wR,r),l=AB(r);return s.jsx(CB.ItemSlot,{scope:r,children:s.jsx(Vwt,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});a1e.displayName=wR;var i1e="AccordionContent",s1e=Ve.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=GT(Yh,r),i=EB(i1e,r),o=AB(r);return s.jsx(Wwt,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});s1e.displayName=i1e;function o1e(e){return e?"open":"closed"}var e_t=Zpe,t_t=t1e,r_t=n1e,l1e=a1e,c1e=s1e;const u1e=e_t,jB=A.forwardRef(({className:e,...t},r)=>s.jsx(t_t,{ref:r,className:kr("border-b",e),...t}));jB.displayName="AccordionItem";const TB=A.forwardRef(({className:e,children:t,...r},n)=>s.jsx(r_t,{className:"flex",children:s.jsxs(l1e,{ref:n,className:kr("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(Tj,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));TB.displayName=l1e.displayName;const kB=A.forwardRef(({className:e,children:t,...r},n)=>s.jsx(c1e,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:kr("pb-4 pt-0",e),children:t})}));kB.displayName=c1e.displayName;const oJ=()=>{const{t:e}=Xa(),[t,r]=A.useState(""),n=A.useMemo(()=>e("help_center.faq_sections",{returnObjects:!0})||{},[e]),a=A.useMemo(()=>{if(!t)return n;const c=t.toLowerCase(),u={};for(const f in n){const h=n[f],g={};let p=!1;if(h.title&&h.title.toLowerCase().includes(c)){p=!0;for(const N in h)N.startsWith("q")&&(g[N]=h[N],g[N.replace("q","a")]=h[N.replace("q","a")])}else for(const N in h)if(N.startsWith("q")){const b=h[N],S=h[N.replace("q","a")];b&&S&&(b.toLowerCase().includes(c)||S.toLowerCase().includes(c))&&(g[N]=b,g[N.replace("q","a")]=S,p=!0)}p&&(u[f]={title:h.title,...g})}return u},[t,n]),i=n&&typeof n=="object"&&Object.keys(n).length>0,o=[{icon:s.jsx(s1,{}),title:e("help_center.email"),desc:e("help_center.emailDesc"),buttonText:e("help_center.writeUs"),href:"mailto:support@bonplaninfos.net"},{icon:s.jsx(d4,{}),title:e("help_center.chat"),desc:e("help_center.chatDesc"),buttonText:e("help_center.startChat"),href:"https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH"},{icon:s.jsx(D5,{}),title:e("help_center.phone"),desc:e("help_center.phoneDesc"),buttonText:e("help_center.call"),href:"tel:+2250712275374"}],l=c=>c?s.jsx("div",{className:"prose dark:prose-invert max-w-none text-muted-foreground",dangerouslySetInnerHTML:{__html:c.replace(/\n/g,"<br />")}}):null;return s.jsxs("div",{className:"help-center-page bg-background",children:[s.jsxs(Di,{children:[s.jsx("title",{children:e("help_center.meta_title")}),s.jsx("meta",{name:"description",content:e("help_center.meta_description")})]}),s.jsxs("main",{className:"overflow-x-hidden",children:[s.jsx("section",{className:"help-hero",children:s.jsxs("div",{className:"container text-center",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx(e_e,{className:"inline-block w-12 h-12 mb-4 text-primary"}),s.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold",children:e("help_center.title")})]}),s.jsx(Zt.p,{className:"mt-4 text-lg text-muted-foreground",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e("help_center.subtitle")})]})}),s.jsx("section",{className:"search-section",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"search-container",children:[s.jsx(Il,{className:"search-icon"}),s.jsx(er,{type:"text",placeholder:e("help_center.searchPlaceholder"),className:"search-box",value:t,onChange:c=>r(c.target.value)})]})})}),s.jsx("section",{className:"faq-section",children:s.jsxs("div",{className:"container",children:[s.jsx("h2",{className:"section-title",children:e("help_center.faq")}),s.jsx("div",{className:"max-w-4xl mx-auto",children:i?Object.keys(a).length>0?Object.entries(a).map(([c,u])=>u.title&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4 text-center",children:u.title}),s.jsx(u1e,{type:"single",collapsible:!0,className:"w-full space-y-2",children:Object.keys(u).filter(f=>f.startsWith("q")).sort().map((f,h)=>u[f]&&s.jsxs(jB,{value:`${c}-item-${h}`,className:"bg-card border rounded-lg",children:[s.jsx(TB,{className:"p-4 text-base text-left font-semibold text-foreground hover:no-underline",children:u[f]}),s.jsx(kB,{className:"p-4 pt-0",children:l(u[f.replace("q","a")])})]},`${c}-${h}`))})]},c)):s.jsx("div",{className:"text-center py-8",children:s.jsxs("p",{className:"text-muted-foreground",children:['Aucun rsultat trouv pour "',t,'".']})}):s.jsx("p",{className:"text-center text-muted-foreground",children:"Le contenu du centre d'aide est en cours de chargement..."})})]})}),s.jsx("section",{className:"contact-section",children:s.jsxs("div",{className:"container",children:[s.jsx("h2",{className:"section-title",children:e("help_center.contact")}),s.jsx("div",{className:"contact-grid",children:o.map((c,u)=>s.jsx(Zt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:u*.1},children:s.jsxs(qt,{className:"contact-card h-full",children:[s.jsxs(zr,{children:[s.jsx("div",{className:"contact-icon",children:c.icon}),s.jsx(Wr,{children:c.title})]}),s.jsxs(Xt,{className:"flex flex-col flex-grow",children:[s.jsx("p",{className:"contact-description flex-grow",children:c.desc}),s.jsx(Ue,{asChild:!0,className:"mt-4 w-full",children:s.jsx("a",{href:c.href,target:"_blank",rel:"noopener noreferrer",children:c.buttonText})})]})]})},u))})]})})]})]})},n_t=()=>{const{t:e}=Xa(),t=e("legal_mentions.sections",{returnObjects:!0}),r=[{key:"editor",icon:s.jsx(v1,{})},{key:"director",icon:s.jsx(y_e,{})},{key:"hosting",icon:s.jsx(qte,{})},{key:"data",icon:s.jsx(Pj,{})},{key:"cookies",icon:s.jsx(P7,{})},{key:"ip",icon:s.jsx(qwe,{})},{key:"liability",icon:s.jsx(Kc,{})},{key:"links",icon:s.jsx(a_e,{})},{key:"applicableLaw",icon:s.jsx(Lz,{})}],n=(a,i)=>{if(!i)return null;switch(a){case"editor":return s.jsxs(s.Fragment,{children:[s.jsx("p",{children:i.content}),s.jsxs("div",{className:"legal-details",children:[s.jsx("p",{children:s.jsx("strong",{children:i.company})}),s.jsx("p",{children:i.capital}),s.jsx("p",{children:i.address}),s.jsx("p",{children:i.phone}),s.jsxs("p",{children:["Email: ",s.jsx("a",{href:`mailto:${i.email}`,children:i.email})]})]})]});case"hosting":return s.jsxs(s.Fragment,{children:[s.jsx("p",{children:i.content}),s.jsxs("div",{className:"legal-details",children:[s.jsx("p",{children:s.jsx("strong",{children:i.company})}),s.jsx("p",{children:i.address}),s.jsx("p",{children:s.jsx("a",{href:i.website,target:"_blank",rel:"noopener noreferrer",children:i.website})})]})]});case"cookies":return s.jsxs(s.Fragment,{children:[s.jsx("p",{children:i.content1}),s.jsxs("ul",{children:[s.jsx("li",{children:i.item1}),s.jsx("li",{children:i.item2}),s.jsx("li",{children:i.item3})]}),s.jsx("p",{children:i.content2})]});case"data":return s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:[i.content1,s.jsx("a",{href:"mailto:privacy@bonplaninfos.net",className:"text-primary hover:underline",children:"privacy@bonplaninfos.net"}),"."]}),s.jsx("p",{children:s.jsxs(tM,{i18nKey:"legal_mentions.sections.data.content2",children:["Pour plus d'informations, veuillez consulter notre ",s.jsx(Ho,{to:"/privacy-policy",className:"text-primary hover:underline",children:"Politique de Confidentialit"}),"."]})})]});default:return s.jsx("p",{dangerouslySetInnerHTML:{__html:i.content||i.content1}})}};return s.jsxs("div",{className:"legal-mentions-page",children:[s.jsxs(Di,{children:[s.jsxs("title",{children:[e("legal_mentions.meta_title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("legal_mentions.meta_description")})]}),s.jsxs("main",{children:[s.jsx("section",{className:"legal-hero",children:s.jsxs("div",{className:"container",children:[s.jsxs("h1",{children:[s.jsx(Lz,{className:"inline-block w-12 h-12 mb-4"})," ",e("legal_mentions.title")]}),s.jsx("p",{children:e("legal_mentions.subtitle")}),s.jsx("div",{className:"last-update",children:e("legal_mentions.lastUpdate")})]})}),s.jsx("section",{className:"legal-content",children:s.jsx("div",{className:"container",children:r.map(({key:a,icon:i})=>{const o=t[a];return o?s.jsxs("div",{className:"legal-section",children:[s.jsxs("h2",{children:[i," ",o.title]}),n(a,o)]},a):null})})})]})]})},a_t=()=>{const e=Ia(),t=[{icon:s.jsx(ao,{className:"w-8 h-8"}),title:"1. Crez votre compte",description:"L'inscription est rapide, gratuite et ne prend que 30 secondes. Remplissez quelques informations de base et vous tes prt  commencer."},{icon:s.jsx(vx,{className:"w-8 h-8"}),title:"2. Publiez un vnement",description:"Vous tes organisateur ? Publiez les dtails de votre vnement (concert, soire, confrence...) pour le rendre visible  des milliers d'utilisateurs."},{icon:s.jsx(b1,{className:"w-8 h-8"}),title:"3. Partagez des Contenus",description:"Trouvez un vnement ou une promotion qui vous plat et partagez-le avec vos amis et votre communaut sur les rseaux sociaux."},{icon:s.jsx(za,{className:"w-8 h-8"}),title:"4. Gagnez des Pices",description:"Pour chaque interaction (partage, tlchargement, vue) sur le contenu que vous avez publi ou partag, vous accumulez des pices dans votre portefeuille."},{icon:s.jsx(xu,{className:"w-8 h-8"}),title:"5. Boostez votre visibilit",description:"Utilisez vos pices pour 'booster' vos publications et atteindre une audience encore plus large sur la plateforme."},{icon:s.jsx($te,{className:"w-8 h-8"}),title:"6. Encaissez vos Gains",description:"Convertissez vos pices en argent rel et retirez vos gains directement sur votre compte mobile money (Orange, Moov, Wave)."}];return s.jsxs("div",{className:"bg-background text-foreground",children:[s.jsxs(Di,{children:[s.jsx("title",{children:"Comment a marche - BonPlanInfos"}),s.jsx("meta",{name:"description",content:"Dcouvrez comment gagner de l'argent en partageant des vnements sur BonPlanInfos. Le guide complet de notre plateforme."})]}),s.jsxs("main",{className:"container mx-auto px-4 py-12",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary mb-4",children:"Comment a Marche ?"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Transformez votre passion pour les vnements en une source de revenus, tape par tape."})]}),s.jsx(Zt.div,{className:"my-12",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:s.jsx(qt,{className:"overflow-hidden shadow-lg border-primary/20",children:s.jsx(Xt,{className:"p-0",children:s.jsx("img",{src:"https://horizons-cdn.hostinger.com/b046caa6-31e1-44c9-b7bb-4c0c24e49566/150a140f02368866d8206eba11ea3767.jpg",alt:"Faites vivre vos vnements",className:"w-full h-auto object-contain"})})})}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-4 bottom-4 w-1 bg-border/40 rounded-full hidden md:block"}),t.map((r,n)=>s.jsxs(Zt.div,{initial:{opacity:0,x:n%2===0?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.5},transition:{duration:.6},className:`flex items-center w-full mb-12 flex-col md:flex-row ${n%2===0?"":"md:flex-row-reverse"}`,children:[s.jsx("div",{className:`md:w-5/12 ${n%2===0?"":"md:text-right"}`,children:s.jsxs(qt,{className:"glass-effect border-primary/30",children:[s.jsx(zr,{children:s.jsx(Wr,{children:r.title})}),s.jsx(Xt,{children:s.jsx("p",{className:"text-muted-foreground",children:r.description})})]})}),s.jsx("div",{className:"hidden md:flex w-2/12 items-center justify-center",children:s.jsx("div",{className:"z-10 w-16 h-16 rounded-full bg-primary text-primary-foreground flex items-center justify-center shadow-lg",children:r.icon})}),s.jsx("div",{className:"md:hidden mt-4 w-16 h-16 rounded-full bg-primary text-primary-foreground flex items-center justify-center shadow-lg",children:r.icon})]},n))]})}),s.jsxs(Zt.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0,amount:.5},transition:{duration:.6},className:"text-center mt-16",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Prt  vous lancer ?"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Rejoignez des milliers d'autres personnes qui montisent dj leur passion."}),s.jsx(Ue,{size:"lg",className:"gradient-gold text-background",onClick:()=>e("/auth",{state:{isRegistering:!0}}),children:"Crer mon compte gratuitement"})]})]})]})},i_t=()=>{var i;const e=Ia(),{adminConfig:t}=ai(),{t:r}=Xa(),n=((i=t==null?void 0:t.event_packs)==null?void 0:i.map(o=>({...o,price:o.coins*((t==null?void 0:t.coin_to_cfa_rate)||20)})))||[],a=[{icon:s.jsx(aA,{className:"w-8 h-8 mb-4 text-primary"}),title:r("pricing.business.boost.title"),price:r("pricing.business.boost.price"),description:r("pricing.business.boost.description"),features:[r("pricing.business.boost.feature1"),r("pricing.business.boost.feature2"),r("pricing.business.boost.feature3")],actionText:r("pricing.business.boost.actionText"),action:()=>e("/boost")},{icon:s.jsx(Ku,{className:"w-8 h-8 mb-4 text-yellow-400"}),title:r("pricing.business.promo.title"),price:r("pricing.business.promo.price"),description:r("pricing.business.promo.description"),features:[r("pricing.business.promo.feature1"),r("pricing.business.promo.feature2"),r("pricing.business.promo.feature3")],actionText:r("pricing.business.promo.actionText"),action:()=>e("/create-promotion")},{icon:s.jsx(F7,{className:"w-8 h-8 mb-4 text-purple-400"}),title:r("pricing.business.partner.title"),price:r("pricing.business.partner.price"),description:r("pricing.business.partner.description"),features:[r("pricing.business.partner.feature1"),r("pricing.business.partner.feature2"),r("pricing.business.partner.feature3")],actionText:r("pricing.business.partner.actionText"),action:()=>e("/marketing")}];return s.jsxs("div",{className:"bg-background text-foreground",children:[s.jsxs(Di,{children:[s.jsx("title",{children:r("pricing.meta.title")}),s.jsx("meta",{name:"description",content:r("pricing.meta.description")})]}),s.jsxs("main",{className:"container mx-auto px-4 py-12",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary mb-4",children:r("pricing.hero.title")}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:r("pricing.hero.subtitle")})]}),s.jsxs("section",{className:"mb-20",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-10",children:r("pricing.user_packs.title")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:n.map((o,l)=>{var c,u;return s.jsx(Zt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:l*.1},children:s.jsxs(qt,{className:`flex flex-col h-full glass-effect hover:border-primary transition-all ${o.id==="vip"?"border-primary":"border-border"}`,children:[s.jsxs(zr,{className:"text-center",children:[o.id==="vip"&&s.jsx(Vr,{className:"absolute top-4 right-4 bg-primary",children:r("pricing.popular")}),s.jsx(Wr,{className:"text-2xl",children:o.name}),s.jsxs("div",{className:"my-4",children:[s.jsx("span",{className:"text-5xl font-bold",children:o.coins+(((u=(c=o.bonus)==null?void 0:c.match(/\d+/g))==null?void 0:u.map(Number)[0])||0)}),s.jsxs("span",{className:"text-muted-foreground",children:[" ",r("pricing.coins")]})]}),o.bonus&&s.jsx(Ya,{className:"text-green-400 font-semibold",children:o.bonus})]}),s.jsx(Xt,{className:"flex-grow"}),s.jsxs(wx,{className:"flex-col gap-4",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[o.price.toLocaleString()," FCFA"]}),s.jsx(Ue,{className:"w-full gradient-gold text-background",onClick:()=>e("/wallet"),children:r("pricing.buy_pack")})]})]})},o.id)})})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-10",children:r("pricing.business.title")}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:a.map((o,l)=>s.jsx(Zt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:l*.1},children:s.jsxs(qt,{className:"flex flex-col h-full glass-effect hover:border-primary transition-all",children:[s.jsxs(zr,{className:"text-center",children:[o.icon,s.jsx(Wr,{className:"text-2xl",children:o.title}),s.jsx("p",{className:"text-primary font-bold text-lg",children:o.price}),s.jsx(Ya,{children:o.description})]}),s.jsx(Xt,{className:"flex-grow",children:s.jsx("ul",{className:"space-y-3 mt-4",children:o.features.map((c,u)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(Hx,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-1"}),s.jsx("span",{className:"text-muted-foreground",children:c})]},u))})}),s.jsx(wx,{children:s.jsx(Ue,{className:"w-full",onClick:o.action,children:o.actionText})})]})},l))})]})]})]})},d1e=()=>{var N,b;const{user:e,signOut:t,permissions:r}=bn(),{userProfile:n}=ai(),a=Ia(),i=ed(),[o,l]=A.useState(!1),c=async()=>{await t(),a("/"),l(!1)},u=[{path:"/",icon:D7,label:"Accueil"},{path:"/events",icon:oo,label:"vnements"},{path:"/promotions",icon:Kte,label:"Promos"},...e&&((r==null?void 0:r.role)==="organizer"||(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin")?[{path:"/create-event",icon:Ql,label:"Crer"}]:[]],f=[{path:"/wallet",icon:qo,label:"Portefeuille"},{path:"/profile",icon:M5,label:"Profil"}],h=[...(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin"?[{path:"/admin",icon:gc,label:"Admin"}]:[],...(r==null?void 0:r.role)==="secretary"?[{path:"/secretary",icon:my,label:"Secrtaire"}]:[]],g=S=>i.pathname===S,p=3;return s.jsxs("nav",{className:"sticky top-0 z-50 glass-effect border-b border-[#C9A227]/20",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs(Ho,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 gradient-gold rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-[#0B0B0D] font-bold text-sm",children:"BP"})}),s.jsx("span",{className:"text-xl font-bold text-[#C9A227]",children:"BonPlaninfos"})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[u.map(S=>s.jsxs(Ho,{to:S.path,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${g(S.path)?"bg-[#C9A227] text-[#0B0B0D]":"text-gray-300 hover:text-[#0B0B0D] hover:bg-[#C9A227]"}`,children:[s.jsx(S.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:S.label})]},S.path)),h.map(S=>s.jsxs(Ho,{to:S.path,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${g(S.path)?"bg-[#E53935] text-white":"text-gray-300 hover:text-white hover:bg-[#E53935]"}`,children:[s.jsx(S.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:S.label})]},S.path))]}),s.jsx("div",{className:"hidden md:flex items-center space-x-4",children:e&&n?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Ue,{variant:"ghost",size:"sm",onClick:()=>a("/notifications"),className:"relative text-gray-300 hover:text-[#C9A227]",children:[s.jsx(E0,{className:"w-5 h-5"}),s.jsx(Vr,{className:"absolute -top-1 -right-1 h-4 w-4 justify-center p-0 gradient-red text-white text-xs border-2 border-[#111]",children:p})]}),s.jsxs("div",{className:"flex items-center space-x-2 bg-[#C9A227]/10 px-3 py-1 rounded-full cursor-pointer",onClick:()=>a("/wallet"),children:[s.jsx(qo,{className:"w-4 h-4 text-[#C9A227]"}),s.jsxs("span",{className:"text-sm font-medium text-[#C9A227]",children:[n.total_coins||0," pices"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>a("/profile"),children:[s.jsxs(_1,{className:"w-8 h-8",children:[s.jsx(N1,{src:n.avatar_url}),s.jsx(S1,{className:"bg-[#C9A227] text-[#0B0B0D]",children:(b=(N=n.name)==null?void 0:N.charAt(0))==null?void 0:b.toUpperCase()})]}),s.jsx("span",{className:"text-sm text-gray-300",children:n.name})]}),s.jsx(Ue,{variant:"ghost",size:"sm",onClick:c,className:"text-gray-300 hover:text-[#E53935]",children:s.jsx(fy,{className:"w-5 h-5"})})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ue,{variant:"ghost",onClick:()=>a("/auth"),className:"text-gray-300 hover:text-[#C9A227]",children:"Connexion"}),s.jsx(Ue,{onClick:()=>a("/auth"),className:"gradient-gold text-[#0B0B0D] hover:opacity-90",children:"Inscription"})]})}),s.jsx(Ue,{variant:"ghost",size:"sm",className:"md:hidden text-gray-300",onClick:()=>l(!o),children:o?s.jsx(kl,{className:"w-5 h-5"}):s.jsx(Wte,{className:"w-5 h-5"})})]})}),o&&s.jsx(Zt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden glass-effect border-t border-[#C9A227]/20",children:s.jsxs("div",{className:"px-4 py-4 space-y-2",children:[u.map(S=>s.jsxs(Ho,{to:S.path,onClick:()=>l(!1),className:`flex items-center space-x-3 px-3 py-3 rounded-lg transition-all duration-200 ${g(S.path)?"bg-[#C9A227] text-[#0B0B0D]":"text-gray-300 hover:text-[#0B0B0D] hover:bg-[#C9A227]"}`,children:[s.jsx(S.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:S.label})]},S.path)),e&&s.jsx("div",{className:"border-t border-[#C9A227]/20 pt-4 space-y-2",children:f.map(S=>s.jsxs(Ho,{to:S.path,onClick:()=>l(!1),className:`flex items-center space-x-3 px-3 py-3 rounded-lg transition-all duration-200 ${g(S.path)?"bg-[#C9A227] text-[#0B0B0D]":"text-gray-300 hover:text-[#0B0B0D] hover:bg-[#C9A227]"}`,children:[s.jsx(S.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:S.label})]},S.path))}),h.map(S=>s.jsxs(Ho,{to:S.path,onClick:()=>l(!1),className:`flex items-center space-x-3 px-3 py-3 rounded-lg transition-all duration-200 ${g(S.path)?"bg-[#E53935] text-white":"text-gray-300 hover:text-white hover:bg-[#E53935]"}`,children:[s.jsx(S.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:S.label})]},S.path)),e?s.jsxs("div",{className:"pt-4 border-t border-[#C9A227]/20 space-y-2",children:[s.jsxs(Ho,{to:"/settings",onClick:()=>l(!1),className:"flex items-center space-x-3 px-3 py-3 rounded-lg text-gray-300 hover:text-[#0B0B0D] hover:bg-[#C9A227]",children:[s.jsx(fb,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Paramtres"})]}),s.jsxs("button",{onClick:c,className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg text-gray-300 hover:text-white hover:bg-[#E53935]",children:[s.jsx(fy,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Dconnexion"})]})]}):s.jsxs("div",{className:"pt-4 border-t border-[#C9A227]/20 space-y-2",children:[s.jsx(Ue,{onClick:()=>{a("/auth"),l(!1)},className:"w-full justify-start text-gray-300 hover:text-[#C9A227]",children:"Connexion"}),s.jsx(Ue,{onClick:()=>{a("/auth"),l(!1)},className:"w-full gradient-gold text-[#0B0B0D] hover:opacity-90",children:"Inscription"})]})]})})]})},s_t=()=>{const{t:e}=Xa(),{toast:t}=qs(),[r]=I5(),{forceRefreshUserProfile:n,triggerVisualEffect:a}=ai(),{user:i}=bn(),[o,l]=A.useState(!0),[c,u]=A.useState("processing"),[f,h]=A.useState(e("paymentSuccess.processing")),g=A.useCallback(async()=>{const C=r.get("transaction_id"),j=r.get("reference"),T=i==null?void 0:i.email;if(!C){u("error"),h(e("paymentError.missingParams")),l(!1);return}try{const O=await p1.verifyAndCreditPayment(C,T,j);O.success?(u("success"),h(O.message),t({title:e("paymentSuccess.title"),description:O.message,variant:"success"}),n(),a("bubbles")):(u("error"),h(O.message||"Erreur lors du traitement du paiement."),t({title:e("paymentError.title"),description:O.message,variant:"destructive"}))}catch(O){console.error("Payment processing error:",O),u("error"),h(e("paymentError.message")),t({title:e("paymentError.title"),description:O.message,variant:"destructive"})}finally{l(!1)}},[r,e,t,n,a,i]);A.useEffect(()=>{i&&g()},[i,g]);const p=()=>{switch(c){case"success":return{icon:s.jsx(jl,{className:"mx-auto h-24 w-24 text-green-500"}),header:e("paymentSuccess.header"),message:f};case"error":return{icon:s.jsx(Kc,{className:"mx-auto h-24 w-24 text-destructive"}),header:e("paymentError.title"),message:f};default:return{icon:s.jsx(Jt,{className:"mx-auto h-24 w-24 text-primary animate-spin"}),header:e("paymentSuccess.processingHeader"),message:f}}},{icon:N,header:b,message:S}=p();return s.jsxs(s.Fragment,{children:[s.jsx(d1e,{}),s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[N,s.jsx("h1",{className:"mt-6 text-3xl font-bold tracking-tight text-foreground sm:text-4xl",children:b}),s.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:S}),s.jsxs("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:[s.jsx(Ho,{to:"/wallet",className:"rounded-md bg-primary px-3.5 py-2.5 text-sm font-semibold text-primary-foreground shadow-sm hover:bg-primary/90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:e("paymentSuccess.walletButton")}),s.jsxs(Ho,{to:"/",className:"text-sm font-semibold leading-6 text-foreground",children:[e("paymentSuccess.homeButton")," ",s.jsx("span",{"aria-hidden":"true",children:""})]})]})]})})]})},o_t=()=>{const{t:e}=Xa();return s.jsxs(s.Fragment,{children:[s.jsx(d1e,{}),s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(Dj,{className:"mx-auto h-24 w-24 text-destructive"}),s.jsx("h1",{className:"mt-6 text-3xl font-bold tracking-tight text-foreground sm:text-4xl",children:e("paymentCancel.header")}),s.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:e("paymentCancel.message")}),s.jsxs("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:[s.jsx(Ho,{to:"/wallet",className:"rounded-md bg-primary px-3.5 py-2.5 text-sm font-semibold text-primary-foreground shadow-sm hover:bg-primary/90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:e("paymentCancel.retryButton")}),s.jsxs(Ho,{to:"/",className:"text-sm font-semibold leading-6 text-foreground",children:[e("paymentCancel.homeButton")," ",s.jsx("span",{"aria-hidden":"true",children:""})]})]})]})})]})},l_t=({contest:e,onClick:t})=>{e.primary_media_url&&e.primary_media_url;const r=()=>{const i=new Date(e.end_date)-new Date;if(i<=0)return"Termin";const o=Math.floor(i/(1e3*60*60*24)),l=Math.floor(i/(1e3*60*60)%24);return`${o}j ${l}h restantes`};return s.jsx(Zt.div,{onClick:t,className:"cursor-pointer h-full",whileHover:{y:-5},children:s.jsxs(qt,{className:"h-full flex flex-col bg-card border-border overflow-hidden hover:border-primary transition-all shadow-lg",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{class:"w-full h-40 object-cover",alt:`Aperu pour ${e.title}`,src:"https://images.unsplash.com/photo-1535281047371-e7d8b0e96d7f"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs(Vr,{variant:"secondary",className:"absolute top-3 right-3 bg-primary text-primary-foreground",children:[s.jsx(Yf,{className:"w-3 h-3 mr-1"})," ",r()]})]}),s.jsxs(Xt,{className:"p-4 flex-grow flex flex-col justify-between",children:[s.jsx("h3",{className:"font-bold text-lg text-foreground line-clamp-2 font-heading",children:e.title}),s.jsxs("div",{className:"flex items-center text-muted-foreground text-sm mt-2",children:[s.jsx(Mh,{className:"w-4 h-4 mr-2 text-primary"}),e.category||"Concours"]})]})]})})},c_t=()=>{const e=Ia(),[t,r]=A.useState([]),[n,a]=A.useState(!0);return A.useEffect(()=>{(async()=>{a(!0);const{data:o,error:l}=await Je.from("contests").select("*").eq("is_active",!0).order("end_date",{ascending:!0});l?console.error("Error fetching contests:",l):r(o),a(!1)})()},[]),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(Di,{children:[s.jsx("title",{children:"Concours - BonPlaninfos"}),s.jsx("meta",{name:"description",content:"Participez aux concours et votez pour vos favoris."})]}),s.jsxs("main",{className:"container mx-auto px-4 pt-8 pb-24",children:[s.jsx(Zt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ue,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>e(-1),children:s.jsx(_u,{className:"h-5 w-5"})}),s.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center",children:[s.jsx(Mh,{className:"w-8 h-8 mr-3 text-primary"}),"Concours"]})]})}),s.jsx(Zt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:n?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Jt,{className:"w-12 h-12 animate-spin text-primary"})}):t.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(i=>s.jsx(l_t,{contest:i,onClick:()=>e(`/contest/${i.id}`)},i.id))}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Mh,{className:"w-24 h-24 text-muted-foreground/20 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-muted-foreground mb-2",children:"Aucun concours pour le moment"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Revenez bientt pour dcouvrir de nouveaux concours passionnants."})]})})]})]})},u_t=({candidate:e,onVote:t,totalVotes:r})=>{var a;const n=r>0?(e.vote_count/r*100).toFixed(2):0;return s.jsxs(Zt.div,{className:"bg-gray-800/50 rounded-lg p-4 flex items-center justify-between",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsxs(_1,{className:"w-16 h-16 border-2 border-primary",children:[s.jsx(N1,{src:e.photo_url,alt:e.name}),s.jsx(S1,{children:(a=e.name)==null?void 0:a.charAt(0)})]}),s.jsxs("div",{className:"w-full",children:[s.jsx("p",{className:"font-bold text-lg text-white",children:e.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:s.jsx(Zt.div,{className:"bg-gradient-to-r from-amber-400 to-primary h-2.5 rounded-full",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.5,ease:"easeOut"}})}),s.jsxs("span",{className:"text-amber-400 font-bold text-sm min-w-[50px] text-right",children:[n,"%"]})]})]})]}),s.jsx(Ue,{onClick:t,size:"sm",className:"ml-4 gradient-gold text-background font-bold",children:"Voter"})]})},d_t=()=>{var H;const{id:e}=w7(),t=Ia(),{user:r}=bn(),{userProfile:n,forceRefreshUserProfile:a}=ai(),[i,o]=A.useState(null),[l,c]=A.useState([]),[u,f]=A.useState(!0),[h,g]=A.useState(!1),[p,N]=A.useState(!1),[b,S]=A.useState({isOpen:!1,candidate:null,quantity:1}),[C,j]=A.useState(!1),T=A.useCallback(async()=>{const{data:U,error:J}=await Je.from("contests").select("*").eq("id",e).single();if(J||!U){ot({title:"Erreur",description:"Concours non trouv.",variant:"destructive"}),t("/contests");return}o(U);const{data:K,error:G}=await Je.from("candidates").select("*").eq("contest_id",e).order("vote_count",{ascending:!1});G?ot({title:"Erreur",description:"Impossible de charger les candidats.",variant:"destructive"}):c(K)},[e,t]);A.useEffect(()=>{f(!0),T().finally(()=>f(!1))},[T]),A.useEffect(()=>{const U=Je.channel(`contest-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"candidates",filter:`contest_id=eq.${e}`},()=>{T()}).subscribe();return()=>{Je.removeChannel(U)}},[e,T]);const O=async()=>{if(!r){ot({title:"Connexion requise",variant:"destructive"}),t("/auth");return}const{candidate:U,quantity:J}=b,K=i.vote_cost_coins*J;j(!0),S(ae=>({...ae,isOpen:!1}));const G=async()=>{try{await Yl.debitCoins(r.id,K,`Vote: ${i.title}`);const{error:ae}=await Je.rpc("increment_vote_count",{candidate_id_to_inc:U.id,inc_amount:J});if(ae)throw ae;await a(),ot({title:"Vote russi!",description:`Vous avez donn ${J} voix  ${U.name}.`})}catch(ae){ot({title:"Erreur de vote",description:ae.message,variant:"destructive"})}finally{j(!1)}},re=()=>{N(!0),j(!1)};await Yl.handleAction({userId:r.id,requiredCoins:K,onSuccess:G,onInsufficientBalance:re})},M=U=>{S({isOpen:!0,candidate:U,quantity:1})},B=U=>{S(J=>({...J,quantity:Math.max(1,J.quantity+U)}))},L=A.useMemo(()=>l.reduce((U,J)=>U+J.vote_count,0),[l]);return u&&!i?s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsx(Jt,{className:"w-12 h-12 animate-spin text-primary"})}):i?s.jsxs("div",{className:"min-h-screen bg-black text-white",style:{background:"linear-gradient(180deg, #1a1a1a 0%, #000000 100%)"},children:[s.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:s.jsxs(Ue,{variant:"ghost",onClick:()=>t("/contests"),className:"text-gray-400 hover:text-white",children:[s.jsx(_u,{className:"w-4 h-4 mr-2"}),"Retour"]})}),s.jsx(qt,{className:"bg-transparent border-0 shadow-none text-center mb-8",children:s.jsxs(Xt,{className:"p-0",children:[s.jsx("h1",{className:"text-4xl font-extrabold text-amber-400 tracking-tight uppercase",children:i.title}),s.jsx("p",{className:"text-gray-300 mt-2 max-w-2xl mx-auto",children:i.description}),s.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-2 justify-center mt-4 text-sm text-gray-400",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mh,{className:"w-4 h-4 mr-2 text-amber-400"})," Cot: ",s.jsxs("strong",{className:"ml-1.5 flex items-center text-white",children:[i.vote_cost_coins," ",s.jsx(za,{className:"w-3 h-3 ml-1 text-amber-400"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Yf,{className:"w-4 h-4 mr-2 text-amber-400"})," Fin: ",s.jsx("strong",{className:"ml-1.5 text-white",children:new Date(i.end_date).toLocaleDateString("fr-FR")})]})]})]})}),s.jsx("div",{className:"space-y-4",children:u&&l.length===0?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Jt,{className:"w-12 h-12 animate-spin text-primary"})}):l.map(U=>s.jsx(u_t,{candidate:U,onVote:()=>M(U),totalVotes:L},U.id))})]}),s.jsx(P6,{isOpen:h,onClose:()=>g(!1)}),s.jsx(W0,{isOpen:p,onClose:()=>N(!1),onProceed:()=>{N(!1),g(!0)}}),s.jsx(hl,{open:b.isOpen,onOpenChange:()=>S({isOpen:!1,candidate:null,quantity:1}),children:s.jsxs(Zo,{children:[s.jsxs(Jo,{children:[s.jsxs(Qo,{children:["Voter pour ",(H=b.candidate)==null?void 0:H.name]}),s.jsxs(el,{children:["Chaque vote cote ",i.vote_cost_coins," pices. Combien de voix souhaitez-vous donner ?"]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 my-4",children:[s.jsx(Ue,{variant:"outline",size:"icon",onClick:()=>B(-1),children:s.jsx(rA,{className:"w-4 h-4"})}),s.jsx(er,{type:"number",value:b.quantity,readOnly:!0,className:"w-20 text-center text-lg font-bold"}),s.jsx(Ue,{variant:"outline",size:"icon",onClick:()=>B(1),children:s.jsx(Ql,{className:"w-4 h-4"})})]}),s.jsxs("p",{className:"text-center font-semibold",children:["Cot total : ",i.vote_cost_coins*b.quantity," pices"]}),s.jsxs(ml,{children:[s.jsx(gl,{children:"Annuler"}),s.jsx(pl,{onClick:O,disabled:C,children:C?s.jsx(Jt,{className:"animate-spin"}):`Confirmer ${b.quantity} voix`})]})]})})]}):null},f_t=()=>{const{t:e}=Xa(),t=Ia(),{user:r}=bn(),[n,a]=A.useState([]),[i,o]=A.useState(!0),[l,c]=A.useState("");A.useEffect(()=>{(async()=>{o(!0);try{console.log(" Dbut du chargement des lieux...");let S=Je.from("locations").select("*").eq("is_active",!0).order("created_at",{ascending:!1});l&&(S=S.or(`name.ilike.%${l}%,city.ilike.%${l}%,country.ilike.%${l}%`));const{data:C,error:j}=await S;j?(console.error(" Erreur Supabase:",j),ot({title:e("common.error_title"),description:"Impossible de charger les lieux.",variant:"destructive"})):(console.log(" Lieux chargs:",C),a(C||[]))}catch(S){console.error(" Erreur fetch:",S),ot({title:e("common.error_title"),description:"Erreur lors du chargement.",variant:"destructive"})}o(!1)})()},[e,l]);const u=async b=>{try{const{data:S,error:C}=await Je.from("locations").select("views_count").eq("id",b).single();if(C){console.error(" Erreur rcupration vues:",C);return}const j=(S.views_count||0)+1,{error:T}=await Je.from("locations").update({views_count:j,updated_at:new Date().toISOString()}).eq("id",b);T?console.error(" Erreur mise  jour vues:",T):(console.log(" Compteur de vues incrment pour:",b),a(O=>O.map(M=>M.id===b?{...M,views_count:j}:M)))}catch(S){console.error(" Erreur incrmentation vues:",S)}},f=b=>b.images&&Array.isArray(b.images)&&b.images.length>0?b.images[0]:null,h=b=>{const S=new Date,C=new Date(b.created_at),j=Math.floor((S-C)/(1e3*60*60*24));return j<=7?{type:"new",label:"Nouveau",icon:wd,color:"bg-green-500 text-white",iconColor:"text-white"}:b.views_count>100?{type:"popular",label:"Populaire",icon:Cd,color:"bg-orange-500 text-white",iconColor:"text-white"}:j<=30&&b.views_count<50?{type:"discover",label:" dcouvrir",icon:Ku,color:"bg-blue-500 text-white",iconColor:"text-white"}:null},g=b=>{var j;const S={"789b35de-0aed-48a2-99cb-dd6ead850f0b":{name:"Visite",icon:k7,color:"bg-pink-100 text-pink-800 border-pink-200"},"e26854f8-e52e-43b4-bea7-1d1f74cdb42c":{name:"Htel",icon:Bz,color:"bg-purple-100 text-purple-800 border-purple-200"}};if(b.type_id&&S[b.type_id])return S[b.type_id];const C=((j=b.name)==null?void 0:j.toLowerCase())||"";return C.includes("htel")||C.includes("hotel")?{name:"Htel",icon:Bz,color:"bg-purple-100 text-purple-800 border-purple-200"}:C.includes("restaurant")?{name:"Restaurant",icon:w_e,color:"bg-amber-100 text-amber-800 border-amber-200"}:C.includes("caf")||C.includes("cafe")||C.includes("bar")?{name:"Caf/Bar",icon:Hwe,color:"bg-orange-100 text-orange-800 border-orange-200"}:C.includes("boutique")||C.includes("magasin")||C.includes("shop")?{name:"Shopping",icon:Kte,color:"bg-cyan-100 text-cyan-800 border-cyan-200"}:{name:"Lieu",icon:v1,color:"bg-gray-100 text-gray-800 border-gray-200"}},p=()=>{r?t("/add-location"):(t("/auth"),ot({title:"Connexion requise",description:"Vous devez tre connect pour ajouter un lieu."}))},N=async(b,S)=>{S.stopPropagation(),await u(b.id),b.google_maps_link?window.open(b.google_maps_link,"_blank","noopener,noreferrer"):ot({title:"Lien non disponible",description:"Aucun lien Google Maps fourni pour ce lieu.",variant:"destructive"})};return A.useEffect(()=>{n.length>0&&(console.log(" Donnes charges:",n),console.log(" Nombre de lieux:",n.length),console.log(" Premier lieu:",n[0]))},[n]),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(Di,{children:[s.jsxs("title",{children:[e("discover_page.title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("discover_page.subtitle")})]}),s.jsxs("main",{className:"container mx-auto max-w-7xl px-4 py-8",children:[s.jsxs("header",{className:"mb-8 text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:e("discover_page.title")}),s.jsx("p",{className:"text-lg text-muted-foreground",children:e("discover_page.subtitle")})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8 justify-center",children:[s.jsxs("div",{className:"relative flex-grow max-w-lg",children:[s.jsx(Il,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),s.jsx(er,{placeholder:e("common.search"),className:"pl-12 h-12 rounded-full bg-card border-border focus-visible:ring-primary",value:l,onChange:b=>c(b.target.value)})]}),s.jsxs(Ue,{onClick:p,className:"h-12 rounded-full bg-primary hover:bg-primary/90",children:[s.jsx(Ql,{className:"w-4 h-4 mr-2"}),e("discover_page.add_place")]})]}),i?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement des lieux..."})]}):n.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Eo,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Aucun lieu trouv"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:l?"Aucun lieu ne correspond  votre recherche.":"Aucun lieu disponible pour le moment."}),s.jsxs(Ue,{onClick:p,className:"mt-4 bg-primary hover:bg-primary/90",children:[s.jsx(Ql,{className:"w-4 h-4 mr-2"}),"Ajouter le premier lieu"]})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(b=>{const S=f(b),C=h(b),j=g(b),T=j.icon;return s.jsxs("div",{className:"bg-card rounded-xl shadow-sm overflow-hidden hover:shadow-lg transition-all duration-300 border border-border hover:border-primary/20 group relative",children:[C&&s.jsxs("div",{className:`absolute top-3 left-3 z-10 px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1 ${C.color} backdrop-blur-sm`,children:[s.jsx(C.icon,{className:`w-3 h-3 ${C.iconColor}`}),C.label]}),j&&s.jsxs("div",{className:`absolute top-3 right-3 z-10 px-2 py-1 rounded-full text-xs font-semibold ${j.color} border backdrop-blur-sm flex items-center gap-1`,children:[s.jsx(T,{className:"w-3 h-3"}),j.name]}),s.jsxs("div",{className:"w-full h-48 bg-gradient-to-br from-muted/50 to-muted relative overflow-hidden",children:[S?s.jsx("img",{src:S,alt:b.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:O=>{console.error(" Erreur chargement image:",S),O.target.style.display="none"}}):s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground",children:[s.jsx(v1,{className:"w-12 h-12 mb-2 opacity-50"}),s.jsx("span",{className:"text-sm",children:"Aucune image"})]}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300"}),s.jsxs("div",{className:"absolute bottom-3 left-3 bg-black/60 text-white px-2 py-1 rounded-full text-xs backdrop-blur-sm",children:[" ",b.views_count||0," vues"]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-foreground mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:b.name}),s.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[s.jsx(Eo,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:b.address}),s.jsxs("p",{className:"text-xs text-muted-foreground/80",children:[b.city,", ",b.country]})]})]}),b.description&&s.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:b.description}),s.jsxs("div",{className:"flex items-center justify-between mb-4 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yf,{className:"w-3 h-3"}),s.jsxs("span",{children:[Math.floor((new Date-new Date(b.created_at))/(1e3*60*60*24)),"j"]})]}),b.rating>0&&s.jsxs("div",{className:"flex items-center gap-1 bg-primary/10 px-2 py-1 rounded-full",children:[s.jsx(Ku,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"font-semibold",children:b.rating.toFixed(1)})]})]}),s.jsxs(Ue,{onClick:O=>N(b,O),className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",disabled:!b.google_maps_link,children:[s.jsx(O7,{className:"w-4 h-4 mr-2"}),"Y Aller"]}),!b.google_maps_link&&s.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Lien Google Maps non disponible"})]})]},b.id)})})]})]})},h_t={"Pack Dbutant":s.jsx(xu,{className:"w-8 h-8 text-yellow-400"}),"Pack Intermediaire":s.jsx(wd,{className:"w-8 h-8 text-blue-400"}),"Pack Standard":s.jsx(Ku,{className:"w-8 h-8 text-orange-400"}),"Pack Premium":s.jsx(F7,{className:"w-8 h-8 text-purple-400"}),"Pack VIP":s.jsx(y1,{className:"w-8 h-8 text-red-400"}),"Pack King":s.jsx("img",{src:"/king-icon.png",alt:"King",className:"w-10 h-10"})},m_t=()=>{const{user:e}=bn(),[t,r]=A.useState([]),[n,a]=A.useState(!0),[i,o]=A.useState(1e3),[l,c]=A.useState(100),{toast:u}=qs(),f=Ia();A.useEffect(()=>{(async()=>{try{const N=await p1.getCoinPacks();r(N)}catch{u({title:"Erreur",description:"Impossible de charger les packs de pices.",variant:"destructive"})}finally{a(!1)}})()},[u]),A.useEffect(()=>{const p=Math.floor(i/10)+p1.calculateCustomBonus(i);c(p)},[i]);const h=p=>{if(!e){u({title:"Connexion requise",description:"Veuillez vous connecter pour acheter des pices.",variant:"destructive"}),f("/auth");return}f(`/payment/checkout?amount=${p.fcfa_price}&packId=${p.id}&type=coin_pack`)},g=()=>{if(!e){u({title:"Connexion requise",description:"Veuillez vous connecter pour acheter des pices.",variant:"destructive"}),f("/auth");return}if(i<500){u({title:"Montant invalide",description:"Le montant minimum est de 500 FCFA.",variant:"destructive"});return}f(`/payment/checkout?amount=${i}&type=custom_coins`)};return n?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(Jt,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/50 text-foreground",children:[s.jsx(O6,{pageData:{title:"Acheter des Pices - BonPlanInfos",description:"Rechargez votre compte en pices pour interagir avec les vnements, voter, et plus encore. Packs avantageux et bonus disponibles."}}),s.jsxs("div",{className:"container mx-auto px-4 py-12 md:py-20",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-primary via-red-500 to-secondary",children:"Boutique de Pices"}),s.jsx("p",{className:"max-w-2xl mx-auto mt-4 text-lg text-muted-foreground",children:"Rechargez votre portefeuille et dbloquez tout le potentiel de BonPlanInfos."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[t.filter(p=>!p.is_custom).map((p,N)=>s.jsx(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.1},children:s.jsxs(qt,{className:`h-full flex flex-col glass-effect hover:border-primary/50 transition-all duration-300 relative overflow-hidden ${p.badge?"border-primary":""}`,children:[p.badge&&s.jsx("div",{className:"absolute top-3 right-3 bg-primary text-primary-foreground text-xs font-bold px-2 py-1 rounded-full",children:p.badge}),s.jsxs(zr,{className:"items-center text-center",children:[h_t[p.name]||s.jsx(xu,{className:"w-8 h-8 text-gray-400"}),s.jsx(Wr,{className:"text-2xl",children:p.name}),s.jsx(Ya,{children:p.description})]}),s.jsxs(Xt,{className:"flex-grow flex flex-col text-center",children:[s.jsxs("div",{className:"my-4",children:[s.jsx("span",{className:"text-5xl font-bold",children:p.total_coins.toLocaleString()}),s.jsx("span",{className:"text-xl text-muted-foreground",children:" pices"})]}),p.bonus_coins>0&&s.jsxs("p",{className:"text-green-500 font-semibold mb-4",children:["+",p.bonus_coins," pices bonus incluses !"]}),s.jsxs("div",{className:"text-2xl font-semibold text-primary mb-6",children:[p.fcfa_price.toLocaleString()," FCFA"]}),s.jsxs(Ue,{onClick:()=>h(p),size:"lg",className:"w-full mt-auto gradient-red text-primary-foreground",children:["Acheter ce pack ",s.jsx(bI,{className:"w-4 h-4 ml-2"})]})]})]})},p.id)),s.jsx(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t.length*.1},className:"md:col-span-2 lg:col-span-1",children:s.jsxs(qt,{className:"h-full flex flex-col glass-effect border-dashed border-2 hover:border-primary transition-all",children:[s.jsxs(zr,{className:"items-center text-center",children:[s.jsx(wd,{className:"w-8 h-8 text-green-400"}),s.jsx(Wr,{className:"text-2xl",children:"Montant Personnalis"}),s.jsx(Ya,{children:"Choisissez exactement combien vous voulez dpenser."})]}),s.jsx(Xt,{className:"flex-grow flex flex-col text-center justify-center",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(jt,{htmlFor:"custom-amount",className:"text-muted-foreground",children:"Montant en FCFA"}),s.jsx(er,{id:"custom-amount",type:"number",value:i,onChange:p=>o(parseInt(p.target.value)||0),className:"text-center text-2xl font-bold h-14",min:"500"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Vous recevrez"}),s.jsxs("p",{className:"text-3xl font-bold text-green-500",children:[l.toLocaleString()," pices"]})]}),s.jsxs(Ue,{onClick:g,size:"lg",className:"w-full gradient-green text-primary-foreground",children:["Procder au paiement ",s.jsx(bI,{className:"w-4 h-4 ml-2"})]})]})})]})})]})]})]})},p_t=()=>{const{packSlug:e}=w7(),{user:t}=bn(),r=Ia(),n=ed(),{toast:a}=qs(),[i,o]=A.useState(!0),[l,c]=A.useState(null),[u,f]=A.useState(!1),[h,g]=A.useState(0);A.useEffect(()=>{const b=new URLSearchParams(n.search).get("amount");e==="custom"&&b?(f(!0),g(parseInt(b,10))):e==="custom"&&!b&&(c("Le montant pour un achat personnalis est manquant."),o(!1))},[n.search,e]);const p=A.useCallback(async()=>{if(!t){a({title:"Connexion requise",description:"Veuillez vous connecter pour effectuer un achat.",variant:"destructive"}),r("/auth");return}o(!0);try{let N;if(u)N=await p1.initiateCustomCoins(t.id,{amount_fcfa:h});else{const b=await p1.getCoinPackBySlug(e);if(!b)throw new Error("Le pack que vous essayez d'acheter n'a pas t trouv.");N=await p1.initiateCoinPack(t.id,{pack_id:b.id})}if(N&&N.redirect_url)r(N.redirect_url);else throw new Error("Impossible de gnrer le lien de paiement.")}catch(N){c(N.message),a({title:"Erreur de transaction",description:N.message,variant:"destructive"}),o(!1)}},[t,e,r,a,u,h]);return A.useEffect(()=>{l||t&&(u||e&&e!=="custom")&&p()},[t,u,e,l,p]),i?s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center text-center p-4",children:[s.jsx(Jt,{className:"w-16 h-16 animate-spin text-primary mb-4"}),s.jsx("h1",{className:"text-2xl font-bold",children:"Prparation de votre transaction..."}),s.jsx("p",{className:"text-muted-foreground",children:"Veuillez patienter un instant."})]}):l?s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center text-center p-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-destructive mb-4",children:"Une erreur est survenue"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:l}),s.jsx(Ue,{onClick:()=>r("/packs"),children:"Retour  la boutique"})]}):null},g_t=()=>{const{user:e}=bn(),{adminConfig:t,userProfile:r}=ai(),n=Ia(),[a,i]=A.useState(!1),[o,l]=A.useState(!1),[c,u]=A.useState([]),[f,h]=A.useState(1),g={XOF:1,EUR:655.957,USD:600,PI:(t==null?void 0:t.pi_conversion_rate)||10},[p,N]=A.useState({title:"",description:"",categoryId:"",drawDate:"",coverImage:null,coverImageUrl:"",country:(r==null?void 0:r.country)||"Cte d'Ivoire",city:(r==null?void 0:r.city)||"",address:"",isOnline:!1,ticketPrice:500,ticketCurrency:"XOF",totalTickets:100,maxTicketsPerUser:10,minTicketsRequired:50,showRemainingTickets:!0,prizes:[{id:Xu(),rank:1,description:"",value_fcfa:0}],autoDraw:!0,notifyParticipants:!0,showParticipants:!0,termsAccepted:!1}),b=A.useMemo(()=>{const ne=p.ticketPrice*(g[p.ticketCurrency]||1);return Math.ceil(ne/g.PI)},[p.ticketPrice,p.ticketCurrency,g]),S=A.useMemo(()=>b*p.totalTickets,[b,p.totalTickets]),C=A.useMemo(()=>p.prizes.reduce((ne,de)=>ne+(de.value_fcfa||0),0),[p.prizes]);A.useEffect(()=>{(async()=>{const{data:de,error:le}=await Je.from("event_categories").select("*").eq("is_active",!0).order("name");le?console.error("Error fetching categories:",le):u(de)})()},[]),A.useEffect(()=>()=>{p.coverImageUrl&&URL.revokeObjectURL(p.coverImageUrl)},[]);const j=(ne,de)=>{N(le=>({...le,[ne]:de}))},T=(ne,de,le)=>{N(xe=>({...xe,prizes:xe.prizes.map(Se=>Se.id===ne?{...Se,[de]:de==="value_fcfa"?Number(le):le}:Se)}))},O=()=>{N(ne=>({...ne,prizes:[...ne.prizes,{id:Xu(),rank:ne.prizes.length+1,description:"",value_fcfa:0}]}))},M=ne=>{N(de=>({...de,prizes:de.prizes.filter(le=>le.id!==ne).map((le,xe)=>({...le,rank:xe+1}))}))},B=async ne=>{if(!ne)return null;l(!0);try{if(ne.size>2*1024*1024)return ot({title:"Fichier trop volumineux",description:"L'image ne doit pas dpasser 2MB.",variant:"destructive"}),null;if(!ne.type.startsWith("image/"))return ot({title:"Type de fichier invalide",description:"Veuillez slectionner une image",variant:"destructive"}),null;const de=ne.name.replace(/[^a-zA-Z0-9-_\.]/g,"_"),le=`events/${e.id}/${Xu()}-${de}`,{error:xe}=await Je.storage.from("media").upload(le,ne);if(xe)throw xe;const{data:Se}=Je.storage.from("media").getPublicUrl(le);return{publicUrl:Se.publicUrl,filePath:le}}catch(de){return console.error("Erreur upload image:",de),ot({title:"Erreur d'upload",description:"Impossible de tlcharger l'image",variant:"destructive"}),null}finally{l(!1)}},L=async ne=>{const de=ne.target.files[0];if(!de)return;const le=URL.createObjectURL(de);N(xe=>({...xe,coverImage:de,coverImageUrl:le}))},H=()=>{p.coverImageUrl&&URL.revokeObjectURL(p.coverImageUrl),N(ne=>({...ne,coverImage:null,coverImageUrl:""}))},U=async ne=>{if(ne.preventDefault(),!e){ot({title:"Erreur",description:"Vous devez tre connect.",variant:"destructive"});return}if(!p.termsAccepted){ot({title:"Erreur",description:"Vous devez accepter les conditions.",variant:"destructive"});return}i(!0);try{let de="",le="";if(p.coverImage){const Ce=await B(p.coverImage);Ce&&(de=Ce.publicUrl,le=Ce.filePath)}const xe=p.ticketPrice*(g[p.ticketCurrency]||1),{data:Se,error:ye}=await Je.from("events").insert({title:p.title,description:p.description,event_date:p.drawDate,city:p.city,country:p.country,address:p.isOnline?"En ligne":p.address,organizer_id:e.id,event_type:"raffle",category_id:p.categoryId,status:"active",is_online:p.isOnline,cover_image:de}).select().single();if(ye)throw console.error("Erreur cration event:",ye),ye;const ee=Se.id,{data:he,error:se}=await Je.from("raffle_events").insert({event_id:ee,draw_date:p.drawDate,base_price:p.ticketPrice,base_currency:p.ticketCurrency,calculated_price_pi:b,total_tickets:p.totalTickets,max_tickets_per_user:p.maxTicketsPerUser,min_tickets_required:p.minTicketsRequired,auto_draw:p.autoDraw}).select().single();if(se)throw console.error("Erreur cration raffle:",se),se;const{error:te}=await Je.from("event_settings").insert({event_id:ee,raffle_enabled:!0,show_remaining_tickets:p.showRemainingTickets,show_participants:p.showParticipants,notify_participants:p.notifyParticipants});if(te)throw console.error("Erreur settings:",te),te;const ge=p.prizes.map(Ce=>({event_id:ee,raffle_event_id:he.id,rank:Ce.rank,description:Ce.description,value_fcfa:Ce.value_fcfa})),{error:ue}=await Je.from("raffle_prizes").insert(ge);if(ue)throw console.error("Erreur prizes:",ue),ue;ot({title:" Tombola cre !",description:"Votre tombola a t cre avec succs."}),n(`/event/${ee}`)}catch(de){console.error("Error creating raffle event:",de),ot({title:"Erreur de cration",description:de.message||"Une erreur est survenue lors de la cration",variant:"destructive"})}finally{i(!1)}},X=[()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"title",children:"Titre de la tombola *"}),s.jsx(er,{id:"title",value:p.title,onChange:ne=>j("title",ne.target.value),placeholder:"Ex: Grande Tombola de Nol",required:!0,className:"text-lg font-bold p-4 bg-transparent border-0 border-b-2 border-input focus:ring-0 focus:border-primary transition-all duration-300 ease-in-out placeholder-muted-foreground/50 bg-gradient-to-r from-primary/5 to-accent/5"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"description",children:"Description"}),s.jsx(ec,{id:"description",value:p.description,onChange:ne=>j("description",ne.target.value),placeholder:"Dcrivez votre tombola, son objectif, les rgles particulires...",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Image de couverture"}),p.coverImageUrl?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"border-2 border-primary/20 rounded-lg overflow-hidden",children:s.jsx("img",{src:p.coverImageUrl,alt:"Aperu de l'affiche",className:"w-full h-64 object-cover"})}),s.jsx(Ue,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 bg-red-500/90 hover:bg-red-600",onClick:H,children:s.jsx(kl,{className:"w-4 h-4"})}),o&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:s.jsx(Jt,{className:"w-8 h-8 text-white animate-spin"})})]}):s.jsxs("div",{className:"border-2 border-dashed border-input rounded-lg p-6 text-center hover:border-primary/50 transition-colors cursor-pointer",children:[s.jsx("input",{type:"file",id:"coverImage",accept:"image/*",onChange:L,className:"hidden"}),s.jsx("label",{htmlFor:"coverImage",className:"cursor-pointer",children:s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[s.jsx(vx,{className:"w-8 h-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Ajouter une affiche"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Cliquez pour slectionner une image"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"PNG, JPG - Max 2MB"})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"category",children:"Catgorie *"}),s.jsxs(Ai,{onValueChange:ne=>j("categoryId",ne),value:p.categoryId,children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Choisir une catgorie..."})}),s.jsx(yi,{children:c.map(ne=>s.jsx(on,{value:ne.id,children:ne.name},ne.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"drawDate",children:"Date du tirage *"}),s.jsx(er,{id:"drawDate",type:"datetime-local",value:p.drawDate,onChange:ne=>j("drawDate",ne.target.value),required:!0})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx(Ue,{onClick:()=>h(2),className:"bg-primary hover:bg-primary/90",children:"Suivant"})})]}),()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(jt,{htmlFor:"isOnline",className:"font-semibold",children:"vnement en ligne"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cochez si votre tombola est 100% digitale"})]}),s.jsx(Zd,{checked:p.isOnline,onCheckedChange:ne=>j("isOnline",ne)})]}),!p.isOnline&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"address",children:"Lieu (Adresse) *"}),s.jsx(er,{id:"address",value:p.address,onChange:ne=>j("address",ne.target.value),placeholder:"Nom du lieu, rue, numro...",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"city",children:"Ville *"}),s.jsx(er,{id:"city",value:p.city,onChange:ne=>j("city",ne.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"country",children:"Pays *"}),s.jsx(er,{id:"country",value:p.country,onChange:ne=>j("country",ne.target.value),required:!0})]})]})]}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx(Ue,{variant:"outline",onClick:()=>h(1),children:"Prcdent"}),s.jsx(Ue,{onClick:()=>h(3),className:"bg-primary hover:bg-primary/90",children:"Suivant"})]})]}),()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"ticketPrice",children:"Prix du ticket"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(er,{id:"ticketPrice",type:"number",value:p.ticketPrice,onChange:ne=>j("ticketPrice",ne.target.value),required:!0}),s.jsxs(Ai,{value:p.ticketCurrency,onValueChange:ne=>j("ticketCurrency",ne),children:[s.jsx(vi,{className:"w-24",children:s.jsx(Ei,{})}),s.jsxs(yi,{children:[s.jsx(on,{value:"XOF",children:"XOF"}),s.jsx(on,{value:"EUR",children:"EUR"}),s.jsx(on,{value:"USD",children:"USD"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"totalTickets",children:"Nombre total de tickets *"}),s.jsx(er,{id:"totalTickets",type:"number",value:p.totalTickets,onChange:ne=>j("totalTickets",ne.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"maxTicketsPerUser",children:"Max tickets par personne"}),s.jsx(er,{id:"maxTicketsPerUser",type:"number",value:p.maxTicketsPerUser,onChange:ne=>j("maxTicketsPerUser",ne.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"minTicketsRequired",children:"Objectif minimum *"}),s.jsx(er,{id:"minTicketsRequired",type:"number",value:p.minTicketsRequired,onChange:ne=>j("minTicketsRequired",ne.target.value),min:"1",max:p.totalTickets,required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Le tirage ncessite cet objectif minimum de tickets vendus"})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[s.jsx(jt,{children:"Prix en  (Pi)"}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary flex items-center justify-center gap-2",children:[b," ",s.jsx(za,{className:"w-6 h-6"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.ticketPrice," ",p.ticketCurrency," = ",b,""]})]})]}),s.jsx(qt,{className:"bg-gradient-to-r from-primary/5 to-accent/5 border-primary/20",children:s.jsxs(Xt,{className:"p-4",children:[s.jsx("h4",{className:"font-bold text-lg mb-3 text-center",children:"Rsum Financier"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold",children:"Revenu total estim"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[S,""]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold",children:"Valeur en FCFA"}),s.jsxs("p",{className:"text-lg font-bold text-green-600",children:[(S*g.PI).toLocaleString()," FCFA"]})]})]}),s.jsx("div",{className:"mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-orange-700 text-center",children:[s.jsx(xx,{className:"w-4 h-4 inline mr-1"}),s.jsxs("strong",{children:["Objectif minimum : ",p.minTicketsRequired," tickets"]})]})})]})}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(jt,{className:"font-semibold",children:"Afficher les tickets restants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Montrer le nombre de tickets disponibles"})]}),s.jsx(Zd,{checked:p.showRemainingTickets,onCheckedChange:ne=>j("showRemainingTickets",ne)})]}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx(Ue,{variant:"outline",onClick:()=>h(2),children:"Prcdent"}),s.jsx(Ue,{onClick:()=>h(4),className:"bg-primary hover:bg-primary/90",children:"Suivant"})]})]}),()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[p.prizes.map(ne=>s.jsx(qt,{className:"border-2",children:s.jsxs(Xt,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx(Vr,{className:"text-lg px-3 py-1 bg-primary text-white",children:ne.rank===1?" GRAND LOT":ne.rank===2?" SECOND LOT":ne.rank===3?" TROISIME LOT":`Lot N${ne.rank}`})}),p.prizes.length>1&&s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>M(ne.id),children:s.jsx(Fj,{className:"w-4 h-4 text-destructive"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(jt,{children:"Description du lot *"}),s.jsx(ec,{value:ne.description,onChange:de=>T(ne.id,"description",de.target.value),placeholder:"Dcrivez le lot en dtail...",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(jt,{children:"Valeur estime (FCFA)"}),s.jsx(er,{type:"number",value:ne.value_fcfa,onChange:de=>T(ne.id,"value_fcfa",de.target.value),placeholder:"0"})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("div",{className:"p-2 bg-muted rounded-lg text-sm w-full",children:[s.jsx("p",{className:"font-semibold",children:"Valeur en "}),s.jsxs("p",{className:"text-primary font-bold",children:[Math.ceil(ne.value_fcfa/g.PI),""]})]})})]})]})]})},ne.id)),s.jsxs(Ue,{variant:"outline",onClick:O,className:"w-full py-6 border-2 border-dashed",children:[s.jsx(Ql,{className:"w-5 h-5 mr-2"})," Ajouter un lot"]})]}),C>0&&s.jsx(qt,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:s.jsxs(Xt,{className:"p-4",children:[s.jsx("h4",{className:"font-bold text-lg mb-2 text-center",children:"Valeur Totale des Lots"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[C.toLocaleString()," FCFA"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Valeur totale"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.ceil(C/g.PI),""]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"En pices"})]})]})]})}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx(Ue,{variant:"outline",onClick:()=>h(3),children:"Prcdent"}),s.jsx(Ue,{onClick:()=>h(5),className:"bg-primary hover:bg-primary/90",children:"Suivant"})]})]}),()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(jt,{className:"font-semibold",children:"Tirage automatique"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Le gagnant est tir automatiquement  la date prvue"})]}),s.jsx(Zd,{checked:p.autoDraw,onCheckedChange:ne=>j("autoDraw",ne)})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(jt,{className:"font-semibold",children:"Notifier les participants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Envoyer des notifications aux participants"})]}),s.jsx(Zd,{checked:p.notifyParticipants,onCheckedChange:ne=>j("notifyParticipants",ne)})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(jt,{className:"font-semibold",children:"Afficher les participants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Montrer la liste des participants"})]}),s.jsx(Zd,{checked:p.showParticipants,onCheckedChange:ne=>j("showParticipants",ne)})]}),s.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[s.jsx(er,{type:"checkbox",checked:p.termsAccepted,onChange:ne=>j("termsAccepted",ne.target.checked),className:"w-5 h-5 mt-1"}),s.jsxs("div",{children:[s.jsx(jt,{className:"font-semibold",children:"J'accepte les conditions d'utilisation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Je certifie tre le propritaire lgitime de cette tombola et m'engage  respecter les rgles de BonPlanInfos. Je comprends que les transactions se font en  (Pi) et que les taux de conversion sont fixs par la plateforme."})]})]})]}),s.jsx(qt,{className:"border-2 border-primary/20",children:s.jsxs(Xt,{className:"p-6",children:[s.jsx("h4",{className:"font-bold text-xl mb-4 text-center",children:"Rcapitulatif"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Titre:"}),s.jsx("span",{className:"font-bold",children:p.title||"Non dfini"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Prix du ticket:"}),s.jsxs("span",{className:"font-bold",children:[b," (",p.ticketPrice," ",p.ticketCurrency,")"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total tickets:"}),s.jsx("span",{className:"font-bold",children:p.totalTickets})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Objectif minimum:"}),s.jsxs("span",{className:"font-bold text-orange-600",children:[p.minTicketsRequired," tickets"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Revenu total estim:"}),s.jsxs("span",{className:"font-bold text-primary",children:[S,""]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Nombre de lots:"}),s.jsx("span",{className:"font-bold",children:p.prizes.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Date du tirage:"}),s.jsx("span",{className:"font-bold",children:p.drawDate?new Date(p.drawDate).toLocaleDateString("fr-FR"):"Non dfinie"})]}),p.coverImage&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Image de couverture:"}),s.jsx("span",{className:"font-bold text-green-600",children:" Ajoute"})]})]})]})}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx(Ue,{variant:"outline",onClick:()=>h(4),children:"Prcdent"}),s.jsxs(Ue,{onClick:U,disabled:a||!p.termsAccepted,className:"bg-primary hover:bg-primary/90",children:[a?s.jsx(Jt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(gx,{className:"w-4 h-4 mr-2"}),a?"Cration...":"Crer la tombola"]})]})]})];return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Di,{children:s.jsx("title",{children:"Crer une Tombola - BonPlanInfos"})}),s.jsx("main",{className:"container mx-auto max-w-2xl px-4 py-8",children:s.jsxs(Zt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsxs(Ue,{variant:"ghost",onClick:()=>n(-1),className:"mb-4",children:[s.jsx(_u,{className:"w-4 h-4 mr-2"})," Retour"]}),s.jsxs(qt,{children:[s.jsxs(zr,{children:[s.jsxs(Wr,{className:"flex items-center gap-2",children:[s.jsx(ul,{className:"w-6 h-6 text-primary"}),"Crer une Tombola"]}),s.jsx(Ya,{children:"Crez votre tombola en quelques tapes simples et commencez  vendre des tickets !"})]}),s.jsxs(Xt,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 relative",children:[s.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-muted -translate-y-1/2 -z-10"}),[1,2,3,4,5].map(ne=>s.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm transition-all duration-300 ${f===ne?"bg-primary text-primary-foreground scale-110":f>ne?"bg-green-500 text-white":"bg-muted text-muted-foreground"}`,children:f>ne?"":ne}),s.jsx("span",{className:`text-xs mt-2 font-medium ${f===ne?"text-primary":"text-muted-foreground"}`,children:["Infos","Lieu","Tickets","Lots","Final"][ne-1]})]},ne))]}),s.jsx("form",{className:"space-y-6",children:X[f-1]()})]})]})]})})]})},x_t=()=>{const{user:e}=bn(),t=Ia(),[r,n]=A.useState(!1),[a,i]=A.useState(1),[o,l]=A.useState(!1),[c,u]=A.useState(""),[f,h]=A.useState(""),[g,p]=A.useState(100),[N,b]=A.useState(""),[S,C]=A.useState(null),[j,T]=A.useState(["Gnral"]),[O,M]=A.useState(""),[B,L]=A.useState([{id:Xu(),name:"",photo_url:"",description:"",category:"Gnral"}]),H=X=>new Promise((ne,de)=>{const le=new FileReader;le.onload=xe=>{const Se=new Image;Se.onload=()=>{const ye=document.createElement("canvas");ye.width=Se.width,ye.height=Se.height;const ee=ye.getContext("2d");ee.fillStyle="#FFFFFF",ee.fillRect(0,0,ye.width,ye.height),ee.drawImage(Se,0,0),ye.toBlob(he=>{if(he){const se=new File([he],X.name.replace(/\.[^/.]+$/,"")+".jpg",{type:"image/jpeg"});ne(se)}else de(new Error("Conversion failed"))},"image/jpeg",.9)},Se.onerror=ye=>de(ye),Se.src=xe.target.result},le.readAsDataURL(X)}),U=async(X,ne=null)=>{if(X){l(!0);try{const de=await H(X),le=`${Date.now()}-${Xu()}.jpg`,xe=ne?"candidates":"events",Se=`voting/${e.id}/${xe}/${le}`,{error:ye}=await Je.storage.from("media").upload(Se,de);if(ye)throw ye;const{data:{publicUrl:ee}}=Je.storage.from("media").getPublicUrl(Se);ne?L(he=>he.map(se=>se.id===ne?{...se,photo_url:ee}:se)):C(ee),ot({title:"Image tlcharge",description:"Format converti et sauvegard."})}catch(de){console.error("Upload error:",de),ot({title:"Erreur upload",description:de.message,variant:"destructive"})}finally{l(!1)}}},J=()=>{O.trim()&&!j.includes(O.trim())&&(T([...j,O.trim()]),M(""))},K=X=>{X!=="Gnral"&&(T(j.filter(ne=>ne!==X)),L(ne=>ne.map(de=>de.category===X?{...de,category:"Gnral"}:de)))},G=async()=>{if(e){if(!c||!S||B.some(X=>!X.name)){ot({title:"Champs manquants",description:"Veuillez remplir tous les champs obligatoires (*)",variant:"destructive"});return}n(!0);try{const{data:X,error:ne}=await Je.from("events").insert({title:c,description:f,organizer_id:e.id,event_type:"voting",status:"active",cover_image:S,cover_image_url:S,event_date:new Date().toISOString(),city:"Online",country:"Global",tags:j}).select().single();if(ne)throw ne;const de=Math.ceil(g/10),{error:le}=await Je.from("event_settings").insert({event_id:X.id,vote_price_fcfa:g,vote_price_pi:de,voting_enabled:!0,end_date:N||new Date(Date.now()+30*24*60*60*1e3).toISOString(),organizer_rate:95,commission_rate:5});if(le)throw le;const xe=B.map(ye=>({event_id:X.id,name:ye.name,description:ye.description,photo_url:ye.photo_url||null,vote_count:0,category:ye.category||"Gnral"})),{error:Se}=await Je.from("candidates").insert(xe);if(Se)throw Se;ot({title:"Concours cr avec succs !",className:"bg-green-600 text-white"}),t(`/event/${X.id}`)}catch(X){console.error(X),ot({title:"Erreur",description:X.message,variant:"destructive"})}finally{n(!1)}}},re=[{id:1,title:"Dtails",icon:$u},{id:2,title:"Catgories",icon:$z},{id:3,title:"Candidats",icon:ao}],ae=a/re.length*100;return s.jsxs("div",{className:"min-h-screen bg-black text-white py-8 px-4 sm:px-6 lg:px-8",children:[s.jsx(Di,{children:s.jsx("title",{children:"Crer un vote - BonPlanInfos"})}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Crer un Concours"}),s.jsx("p",{className:"text-gray-400",children:"Configurez votre vnement, dfinissez des catgories et ajoutez vos candidats."})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex justify-between mb-4",children:re.map(X=>s.jsxs("div",{className:`flex flex-col items-center ${a>=X.id?"text-emerald-500":"text-gray-600"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 mb-2 transition-colors ${a>=X.id?"border-emerald-500 bg-emerald-950":"border-gray-700 bg-gray-900"}`,children:s.jsx(X.icon,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-xs font-medium uppercase tracking-wider",children:X.title})]},X.id))}),s.jsx(M4,{value:ae,className:"h-1 bg-gray-800",indicatorClassName:"bg-emerald-500"})]}),s.jsxs(qt,{className:"border-0 bg-gray-900 shadow-xl ring-1 ring-white/10",children:[s.jsxs(Xt,{className:"p-6 sm:p-8",children:[a===1&&s.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(jt,{htmlFor:"title",className:"text-gray-300",children:["Titre de l'vnement ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(er,{id:"title",value:c,onChange:X=>u(X.target.value),placeholder:"Ex: Awards de la Musique 2024",className:"pl-10 bg-gray-950 border-gray-800 text-white placeholder:text-gray-600 focus:ring-emerald-500 focus:border-emerald-500 h-12"}),s.jsx(w1,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-500"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"desc",className:"text-gray-300",children:"Description"}),s.jsx(ec,{id:"desc",value:f,onChange:X=>h(X.target.value),placeholder:"Dcrivez le but du concours...",className:"min-h-[120px] bg-gray-950 border-gray-800 text-white placeholder:text-gray-600 focus:ring-emerald-500 focus:border-emerald-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"price",className:"text-gray-300",children:"Prix du vote (FCFA)"}),s.jsxs("div",{className:"relative",children:[s.jsx(er,{id:"price",type:"number",value:g,onChange:X=>p(Number(X.target.value)),min:"0",className:"pl-10 bg-gray-950 border-gray-800 text-white placeholder:text-gray-600 focus:ring-emerald-500"}),s.jsx(Eh,{className:"absolute left-3 top-3 w-4 h-4 text-gray-500"})]}),s.jsxs("p",{className:"text-xs text-emerald-400 font-mono",children:[" ",Math.ceil(g/10)," "]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"date",className:"text-gray-300",children:"Fin des votes"}),s.jsxs("div",{className:"relative",children:[s.jsx(er,{id:"date",type:"datetime-local",value:N,onChange:X=>b(X.target.value),className:"pl-10 bg-gray-950 border-gray-800 text-white placeholder:text-gray-600 focus:ring-emerald-500 [&::-webkit-calendar-picker-indicator]:invert"}),s.jsx(oo,{className:"absolute left-3 top-3 w-4 h-4 text-gray-500"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(jt,{className:"text-gray-300",children:["Image de couverture ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:`border-2 border-dashed rounded-xl h-64 md:h-full flex flex-col items-center justify-center p-4 transition-all ${S?"border-emerald-500/50 bg-emerald-950/10":"border-gray-800 hover:border-gray-600 bg-gray-950"}`,children:S?s.jsxs("div",{className:"relative w-full h-full group",children:[s.jsx("img",{src:S,alt:"Cover",className:"w-full h-full object-cover rounded-lg shadow-sm"}),s.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-lg",children:s.jsx(Ue,{variant:"secondary",size:"sm",className:"pointer-events-none",children:"Changer l'image"})}),s.jsx(er,{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*",onChange:X=>X.target.files[0]&&U(X.target.files[0]),disabled:o})]}):s.jsxs("div",{className:"text-center relative w-full h-full flex flex-col items-center justify-center",children:[o?s.jsx(Jt,{className:"w-10 h-10 text-emerald-500 animate-spin mb-2"}):s.jsx(Ij,{className:"w-10 h-10 text-gray-600 mb-2"}),s.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Cliquez pour ajouter une image"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"JPG, PNG (Max 5MB)"}),s.jsx(er,{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*",onChange:X=>X.target.files[0]&&U(X.target.files[0]),disabled:o})]})})]})]})}),a===2&&s.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Dfinir les Catgories"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Crez des catgories pour classer vos candidats (ex: Meilleur Acteur, Rvlation, etc.)"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(er,{value:O,onChange:X=>M(X.target.value),placeholder:"Nom de la catgorie...",onKeyDown:X=>X.key==="Enter"&&J(),className:"bg-gray-950 border-gray-800 text-white focus:ring-emerald-500"}),s.jsxs(Ue,{onClick:J,disabled:!O.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[s.jsx(Ql,{className:"w-4 h-4 mr-2"})," Ajouter"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-4",children:j.map((X,ne)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-950 border border-gray-800 rounded-lg shadow-sm group hover:border-gray-700 transition-colors",children:[s.jsx("span",{className:"font-medium text-gray-200",children:X}),X!=="Gnral"&&s.jsx(Ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500 hover:text-red-400 hover:bg-red-950/20",onClick:()=>K(X),children:s.jsx(kl,{className:"w-4 h-4"})})]},ne))}),j.length===1&&s.jsxs("div",{className:"bg-blue-950/30 border border-blue-900/50 p-4 rounded-lg text-blue-300 text-sm flex items-center gap-2",children:[s.jsx($z,{className:"w-4 h-4"}),`Si vous n'ajoutez pas de catgories, tous les candidats seront dans "Gnral".`]})]}),a===3&&s.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[B.map((X,ne)=>s.jsxs(qt,{className:"overflow-hidden border-l-4 border-l-emerald-500 bg-gray-950 border-y-gray-800 border-r-gray-800 relative group hover:bg-gray-900 transition-colors",children:[s.jsx(Xt,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4 items-start",children:[s.jsxs("div",{className:"w-24 h-24 bg-gray-900 rounded-lg flex-shrink-0 relative overflow-hidden border border-gray-800 group-hover:border-gray-700",children:[X.photo_url?s.jsx("img",{src:X.photo_url,alt:X.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:s.jsx(vx,{className:"w-8 h-8"})}),s.jsx(er,{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*",onChange:de=>de.target.files[0]&&U(de.target.files[0],X.id),disabled:o}),o&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:s.jsx(Jt,{className:"w-6 h-6 text-white animate-spin"})})]}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsx(er,{placeholder:"Nom du candidat *",value:X.name,onChange:de=>L(le=>le.map(xe=>xe.id===X.id?{...xe,name:de.target.value}:xe)),className:"font-semibold bg-black/20 border-gray-800 text-white placeholder:text-gray-600 focus:ring-emerald-500"}),s.jsxs(Ai,{value:X.category,onValueChange:de=>L(le=>le.map(xe=>xe.id===X.id?{...xe,category:de}:xe)),children:[s.jsx(vi,{className:"h-8 text-sm bg-black/20 border-gray-800 text-gray-300",children:s.jsx(Ei,{placeholder:"Catgorie"})}),s.jsx(yi,{className:"bg-gray-900 border-gray-800 text-white",children:j.map(de=>s.jsx(on,{value:de,className:"focus:bg-gray-800 focus:text-emerald-400",children:de},de))})]}),s.jsx(ec,{placeholder:"Courte bio...",value:X.description,onChange:de=>L(le=>le.map(xe=>xe.id===X.id?{...xe,description:de.target.value}:xe)),className:"h-16 text-xs resize-none bg-black/20 border-gray-800 text-white placeholder:text-gray-600 focus:ring-emerald-500"})]})]})}),B.length>1&&s.jsx(Ue,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-gray-600 hover:text-red-400 hover:bg-red-950/20",onClick:()=>L(de=>de.filter(le=>le.id!==X.id)),children:s.jsx(Fj,{className:"w-4 h-4"})})]},X.id)),s.jsxs(Ue,{variant:"outline",className:"h-full min-h-[200px] border-dashed border-2 border-gray-800 bg-transparent text-gray-500 flex flex-col gap-2 hover:border-emerald-500/50 hover:text-emerald-500 hover:bg-emerald-950/10 transition-all",onClick:()=>L(X=>[...X,{id:Xu(),name:"",photo_url:"",category:j[0]||"Gnral"}]),children:[s.jsx(Ql,{className:"w-8 h-8"}),s.jsx("span",{children:"Ajouter un candidat"})]})]})})]}),s.jsxs(wx,{className:"flex justify-between border-t border-gray-800 bg-gray-950 p-6 rounded-b-xl",children:[s.jsxs(Ue,{variant:"outline",onClick:()=>i(Math.max(1,a-1)),disabled:a===1||r,className:"border-gray-700 bg-transparent text-gray-300 hover:bg-gray-800 hover:text-white",children:[s.jsx(_u,{className:"w-4 h-4 mr-2"})," Retour"]}),a<3?s.jsxs(Ue,{onClick:()=>i(Math.min(3,a+1)),className:"bg-gray-100 text-black hover:bg-white",children:["Suivant ",s.jsx(Um,{className:"w-4 h-4 ml-2"})]}):s.jsxs(Ue,{className:"bg-emerald-600 hover:bg-emerald-700 text-white min-w-[150px] shadow-lg shadow-emerald-900/20",onClick:G,disabled:r||o,children:[r?s.jsx(Jt,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(w1,{className:"w-4 h-4 mr-2"}),"Publier le Concours"]})]})]})]})]})},f1e=({onImageUploaded:e,existingImage:t})=>{const[r,n]=A.useState(!1),[a,i]=A.useState(t||null),o=A.useRef(null),l=async u=>{const f=u.target.files[0];if(!f)return;if(!f.type.startsWith("image/")){ot({title:"Format invalide",description:"Veuillez slectionner une image.",variant:"destructive"});return}if(f.size>5*1024*1024){ot({title:"Image trop lourde",description:"La taille maximum est de 5MB.",variant:"destructive"});return}n(!0);const h=URL.createObjectURL(f);i(h);try{const g=f.name.split(".").pop(),p=`event-covers/${Date.now()}-${Math.random().toString(36).substring(2)}.${g}`,{error:N}=await Je.storage.from("media").upload(p,f,{cacheControl:"3600",upsert:!1});if(N)throw N;const{data:{publicUrl:b}}=Je.storage.from("media").getPublicUrl(p);console.log("Image uploaded:",b),e(b),ot({title:"Image tlcharge",description:"L'image de couverture a t ajoute avec succs."})}catch(g){console.error("Error uploading image:",g),ot({title:"Erreur",description:"Impossible de tlcharger l'image.",variant:"destructive"}),i(null)}finally{n(!1)}},c=()=>{i(null),e(null),o.current&&(o.current.value="")};return s.jsx("div",{className:"w-full space-y-4",children:s.jsxs("div",{className:`
          relative w-full h-64 border-2 border-dashed rounded-xl flex flex-col items-center justify-center transition-all
          ${a?"border-primary/50 bg-background":"border-muted-foreground/20 bg-muted/5 hover:bg-muted/10 cursor-pointer"}
        `,onClick:()=>{var u;return!a&&((u=o.current)==null?void 0:u.click())},children:[a?s.jsxs("div",{className:"relative w-full h-full group overflow-hidden rounded-xl",children:[s.jsx("img",{src:a,alt:"Cover preview",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsxs(Ue,{variant:"destructive",size:"sm",onClick:u=>{u.stopPropagation(),c()},children:[s.jsx(kl,{className:"w-4 h-4 mr-2"})," Supprimer"]})})]}):s.jsxs("div",{className:"text-center space-y-2 p-6",children:[s.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:r?s.jsx(Jt,{className:"w-6 h-6 text-primary animate-spin"}):s.jsx(Ij,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"text-sm font-medium",children:[s.jsx("span",{className:"text-primary",children:"Cliquez pour ajouter"})," ou glissez une image ici"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, WEBP (max 5MB)"})]}),s.jsx("input",{type:"file",ref:o,className:"hidden",accept:"image/*",onChange:l,disabled:r})]})})},AC=(e,t)=>{let r=10;t==="XOF"||t==="XAF"?r=10:t==="EUR"?r=655/10:t==="USD"&&(r=600/10);const n=parseFloat(e)||0;return Math.ceil(n/r)},v_t=(e,t)=>{const r=parseFloat(e)||0;return new Intl.NumberFormat("fr-FR",{style:"currency",currency:t==="XOF"?"XOF":t,minimumFractionDigits:0,maximumFractionDigits:0}).format(r)},y_t=A.memo(({st:e,index:t,onChange:r,onRemove:n,canRemove:a})=>s.jsx(qt,{className:"relative border-2 border-muted hover:border-primary/30 transition-all group mb-4",children:s.jsxs(Xt,{className:"p-6",children:[s.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[s.jsxs(Vr,{variant:"outline",className:"bg-background",children:["Type #",t+1]}),a&&s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>n(e.id),className:"h-8 w-8 text-muted-foreground hover:text-destructive hover:bg-destructive/10",children:s.jsx(Fj,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Nom du stand *"}),s.jsx(er,{value:e.name,onChange:i=>r(e.id,"name",i.target.value),placeholder:"Ex: Stand Premium",className:"font-semibold"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Dimensions"}),s.jsx(er,{value:e.size,onChange:i=>r(e.id,"size",i.target.value),placeholder:"Ex: 9m"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Quantit *"}),s.jsx(er,{type:"number",min:"1",value:e.quantity_available,onChange:i=>r(e.id,"quantity_available",i.target.value)})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Prix unitaire *"}),s.jsx(er,{type:"number",min:"0",value:e.base_price,onChange:i=>r(e.id,"base_price",i.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Devise"}),s.jsxs(Ai,{value:e.base_currency,onValueChange:i=>r(e.id,"base_currency",i),children:[s.jsx(vi,{children:s.jsx(Ei,{})}),s.jsxs(yi,{children:[s.jsx(on,{value:"XOF",children:"FCFA (XOF)"}),s.jsx(on,{value:"USD",children:"Dollar (USD)"}),s.jsx(on,{value:"EUR",children:"Euro (EUR)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{className:"text-primary font-bold",children:"Prix en Pices (Auto)"}),s.jsxs("div",{className:"h-10 flex items-center px-3 rounded-md bg-primary/10 text-primary font-bold border border-primary/20",children:[s.jsx(za,{className:"w-4 h-4 mr-2"}),AC(e.base_price,e.base_currency)," "]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Inclus / Description"}),s.jsx(ec,{value:e.description,onChange:i=>r(e.id,"description",i.target.value),placeholder:"lectricit, Wifi, Mobilier...",rows:2,className:"bg-muted/20"})]})]})})),b_t=()=>{const{user:e}=bn(),t=Ia(),[r,n]=A.useState(!1),[a,i]=A.useState([]),[o,l]=A.useState(1),[c,u]=A.useState(""),[f,h]=A.useState(""),[g,p]=A.useState(null),[N,b]=A.useState(""),[S,C]=A.useState(""),[j,T]=A.useState(""),[O,M]=A.useState(""),[B,L]=A.useState(""),[H,U]=A.useState(""),[J,K]=A.useState(500),[G,re]=A.useState(!0),[ae,X]=A.useState([{id:Xu(),name:"Stand Standard",base_price:5e4,base_currency:"XOF",quantity_available:10,description:"Espace 3x3m avec table et chaises",size:"3x3m"}]);A.useEffect(()=>{(async()=>{const{data:Ce,error:Ne}=await Je.from("event_categories").select("*").eq("is_active",!0).order("name");Ne?console.error("Error fetching categories:",Ne):i(Ce||[])})()},[]);const ne=A.useCallback((ue,Ce,Ne)=>{X(Ee=>Ee.map(Ge=>Ge.id===ue?{...Ge,[Ce]:Ne}:Ge))},[]),de=()=>{X(ue=>[...ue,{id:Xu(),name:"",base_price:0,base_currency:"XOF",quantity_available:5,description:"",size:"3x3m"}])},le=A.useCallback(ue=>{X(Ce=>Ce.length>1?Ce.filter(Ne=>Ne.id!==ue):(ot({title:"Action impossible",description:"Vous devez proposer au moins un type de stand.",variant:"destructive"}),Ce))},[]),xe=()=>{const ue={title:c,categoryId:H,eventDate:N,city:j,country:O};if(Object.keys(ue).filter(Ee=>!ue[Ee]).length>0)return ot({title:"Champs manquants",description:"Veuillez remplir tous les champs obligatoires (*)",variant:"destructive"}),!1;const Ne=new Date(N);return Ne<new Date?(ot({title:"Date invalide",description:"La date de dbut doit tre dans le futur",variant:"destructive"}),!1):S&&new Date(S)<=Ne?(ot({title:"Date invalide",description:"La date de fin doit tre aprs la date de dbut",variant:"destructive"}),!1):(g||ot({title:"Image manquante",description:"Une image de couverture est recommande pour attirer les exposants.",variant:"default"}),!0)},Se=()=>{for(const ue of ae)if(!ue.name.trim()||ue.base_price<=0||ue.quantity_available<1)return ot({title:"Configuration invalide",description:"Vrifiez que tous les stands ont un nom, un prix valide et une quantit positive.",variant:"destructive"}),!1;return!0},ye=()=>{o===1&&xe()?l(2):o===2&&Se()&&l(3)},ee=()=>l(ue=>Math.max(ue-1,1)),he=async ue=>{if(ue.preventDefault(),!e){ot({title:"Erreur",description:"Session expire. Veuillez vous reconnecter.",variant:"destructive"}),t("/auth");return}if(!(!xe()||!Se())){n(!0);try{const{data:Ce,error:Ne}=await Je.from("events").insert({title:c,description:f,event_date:N,end_date:S||null,city:j,country:O,address:B,organizer_id:e.id,event_type:"stand_rental",category_id:H,status:"active",max_participants:J,is_public:G,cover_image:g,created_at:new Date().toISOString()}).select().single();if(Ne)throw Ne;const Ee=Ce.id,{data:Ge,error:Be}=await Je.from("stand_events").insert({event_id:Ee,base_currency:ae[0].base_currency||"XOF"}).select().single();if(Be)throw Be;const st=Ge.id,lt=ae.map(wt=>({stand_event_id:st,event_id:Ee,name:wt.name,description:wt.description,size:wt.size,base_price:parseFloat(wt.base_price),base_currency:wt.base_currency,calculated_price_pi:AC(wt.base_price,wt.base_currency),quantity_available:parseInt(wt.quantity_available),quantity_rented:0,is_active:!0})),{error:Me}=await Je.from("stand_types").insert(lt);if(Me)throw Me;await Je.from("event_settings").insert({event_id:Ee,stands_enabled:!0,total_stands:ae.reduce((wt,_t)=>wt+parseInt(_t.quantity_available),0),stands_rented:0,created_at:new Date().toISOString()}),ot({title:"Flicitations !",description:"Votre espace de location de stands a t cr avec succs.",className:"bg-green-600 text-white border-none"}),t(`/event/${Ee}`)}catch(Ce){console.error("Error creating stand event:",Ce),ot({title:"Erreur technique",description:Ce.message||"Impossible de crer l'vnement.",variant:"destructive"})}finally{n(!1)}}},se=()=>s.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(jt,{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Ij,{className:"w-5 h-5 text-primary"})," Image de couverture"]}),s.jsxs("div",{className:"bg-muted/30 p-6 rounded-xl border border-dashed border-2 hover:border-primary/50 transition-colors",children:[s.jsx(f1e,{onImageUploaded:p,existingImage:g,className:"w-full"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Recommand: 1200x630px. Max 5MB."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"title",className:"font-semibold",children:"Titre du salon/foire *"}),s.jsx(er,{id:"title",value:c,onChange:ue=>u(ue.target.value),placeholder:"Ex: Salon de l'Habitat 2025",required:!0,className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"category",className:"font-semibold",children:"Catgorie *"}),s.jsxs(Ai,{onValueChange:U,value:H,children:[s.jsx(vi,{className:"h-11",children:s.jsx(Ei,{placeholder:"Choisir une catgorie"})}),s.jsx(yi,{children:a.map(ue=>s.jsx(on,{value:ue.id,children:ue.name},ue.id))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"description",className:"font-semibold",children:"Description complte"}),s.jsx(ec,{id:"description",value:f,onChange:ue=>h(ue.target.value),placeholder:"Dcrivez votre vnement, les opportunits pour les exposants, le public attendu...",className:"min-h-[120px]"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"eventDate",className:"font-semibold",children:"Date de dbut *"}),s.jsx(er,{id:"eventDate",type:"datetime-local",value:N,onChange:ue=>b(ue.target.value),required:!0,className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"endDate",className:"font-semibold",children:"Date de fin"}),s.jsx(er,{id:"endDate",type:"datetime-local",value:S,onChange:ue=>C(ue.target.value),className:"h-11"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"country",className:"font-semibold",children:"Pays *"}),s.jsx(er,{id:"country",value:O,onChange:ue=>M(ue.target.value),placeholder:"Pays",required:!0,className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"city",className:"font-semibold",children:"Ville *"}),s.jsx(er,{id:"city",value:j,onChange:ue=>T(ue.target.value),placeholder:"Ville",required:!0,className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"address",className:"font-semibold",children:"Lieu / Adresse"}),s.jsx(er,{id:"address",value:B,onChange:ue=>L(ue.target.value),placeholder:"Palais des Congrs...",className:"h-11"})]})]})]}),te=()=>s.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/30 p-4 rounded-xl border border-blue-200 dark:border-blue-800 mb-6 flex gap-3",children:[s.jsx(M0,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mt-1 shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-blue-700 dark:text-blue-300",children:"Gagnez 95% des revenus"}),s.jsx("p",{className:"text-sm text-blue-600/80 dark:text-blue-400/80",children:"Configurez vos types de stands (Standard, Premium, Corner...). La plateforme prlve 5% de commission."})]})]}),s.jsx("div",{className:"space-y-4",children:ae.map((ue,Ce)=>s.jsx(y_t,{st:ue,index:Ce,onChange:ne,onRemove:le,canRemove:ae.length>1},ue.id))}),s.jsxs(Ue,{onClick:de,variant:"outline",className:"w-full py-8 border-dashed border-2 hover:border-primary hover:bg-primary/5 hover:text-primary transition-all",children:[s.jsx(Ql,{className:"w-5 h-5 mr-2"})," Ajouter un autre type de stand"]})]}),ge=()=>{const ue=ae.reduce((Ne,Ee)=>Ne+(parseInt(Ee.quantity_available)||0),0),Ce=ae.reduce((Ne,Ee)=>Ne+AC(Ee.base_price,Ee.base_currency)*(parseInt(Ee.quantity_available)||0),0);return s.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{className:"bg-card p-6 rounded-xl border shadow-sm flex flex-col md:flex-row gap-6",children:[g&&s.jsx("div",{className:"w-full md:w-1/3 aspect-video rounded-lg overflow-hidden border",children:s.jsx("img",{src:g,alt:"Cover",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold",children:c}),s.jsxs("p",{className:"text-muted-foreground flex items-center gap-2 mt-1",children:[s.jsx(Eo,{className:"w-4 h-4"})," ",j,", ",O]}),s.jsxs("p",{className:"text-muted-foreground flex items-center gap-2",children:[s.jsx(oo,{className:"w-4 h-4"})," ",new Date(N).toLocaleDateString()]})]}),s.jsx("div",{className:"p-4 bg-muted rounded-lg text-sm",children:f||s.jsx("span",{className:"italic text-muted-foreground",children:"Aucune description"})})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(M0,{className:"w-5 h-5 text-primary"}),"Configuration des Stands"]}),s.jsx("div",{className:"grid grid-cols-1 gap-3",children:ae.map((Ne,Ee)=>s.jsxs("div",{className:"flex justify-between items-center p-4 bg-background border rounded-lg hover:border-primary/30 transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:Ne.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ne.quantity_available," units  ",Ne.size]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-primary text-lg",children:[AC(Ne.base_price,Ne.base_currency)," "]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:v_t(Ne.base_price,Ne.base_currency)})]})]},Ee))}),s.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800 rounded-xl flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800 dark:text-green-300",children:"Revenu Potentiel Max (brut)"}),s.jsxs("p",{className:"text-xs text-green-600/80 dark:text-green-400/80",children:["Si les ",ue," stands sont lous"]})]}),s.jsxs("p",{className:"text-3xl font-extrabold text-green-600 dark:text-green-400",children:[Ce," "]})]})]})]})};return s.jsxs("div",{className:"min-h-screen bg-background text-foreground pb-20",children:[s.jsx(Di,{children:s.jsx("title",{children:"Crer un Espace Stands - BonPlanInfos"})}),s.jsx("main",{className:"container mx-auto max-w-4xl px-4 py-8",children:s.jsxs(qt,{className:"shadow-xl border-primary/10",children:[s.jsxs(zr,{className:"text-center pb-6 bg-muted/20 border-b",children:[s.jsx(Wr,{className:"text-3xl font-bold font-heading",children:"Crer un Espace Stands"}),s.jsx(Ya,{className:"text-base mt-2",children:"Organisez votre salon professionnel en 3 tapes simples"})]}),s.jsxs(Xt,{className:"pt-8 px-6 md:px-10",children:[s.jsx("div",{className:"flex items-center justify-center mb-10 w-full max-w-2xl mx-auto",children:[1,2,3].map(ue=>s.jsxs(Ve.Fragment,{children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`
                      w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300 font-bold
                      ${o>=ue?"bg-primary text-white border-primary shadow-lg scale-110":"bg-background text-muted-foreground border-muted"}
                    `,children:ue}),s.jsx("span",{className:`text-xs mt-2 font-medium ${o>=ue?"text-primary":"text-muted-foreground"}`,children:ue===1?"Dtails":ue===2?"Stands":"Confirmer"})]}),ue<3&&s.jsx("div",{className:`flex-1 h-1 mx-4 w-12 transition-all duration-500 rounded-full ${o>ue?"bg-primary":"bg-muted"}`})]},ue))}),s.jsxs("div",{className:"mt-8",children:[o===1&&s.jsx(se,{}),o===2&&s.jsx(te,{}),o===3&&s.jsx(ge,{})]})]}),s.jsxs(wx,{className:"flex justify-between border-t bg-muted/20 p-6 md:px-10",children:[o>1?s.jsxs(Ue,{onClick:ee,variant:"outline",size:"lg",className:"gap-2",children:[s.jsx(_u,{className:"w-4 h-4"})," Prcdent"]}):s.jsx("div",{}),o<3?s.jsxs(Ue,{onClick:ye,size:"lg",className:"gap-2 shadow-md",children:["Suivant ",s.jsx(Um,{className:"w-4 h-4"})]}):s.jsxs(Ue,{onClick:he,disabled:r,size:"lg",className:"bg-green-600 hover:bg-green-700 text-white gap-2 shadow-lg min-w-[200px]",children:[r?s.jsx(Jt,{className:"w-5 h-5 animate-spin"}):s.jsx(Vp,{className:"w-5 h-5"}),"Publier l'vnement"]})]})]})})]})},BS=[{name:"Bleu (Standard)",value:"blue",hex:"bg-blue-500"},{name:"Bronze",value:"bronze",hex:"bg-amber-600"},{name:"Argent",value:"silver",hex:"bg-slate-400"},{name:"Or",value:"gold",hex:"bg-yellow-500"},{name:"Violet (VIP)",value:"purple",hex:"bg-purple-600"},{name:"Rouge",value:"red",hex:"bg-red-500"},{name:"Vert",value:"green",hex:"bg-green-500"},{name:"Noir",value:"black",hex:"bg-slate-900"}],w_t=()=>{const{user:e}=bn(),{adminConfig:t}=ai(),r=Ia(),[n,a]=A.useState(!1),[i,o]=A.useState([]),[l,c]=A.useState(1),u=(t==null?void 0:t.coin_to_fcfa_rate)||10,[f,h]=A.useState(""),[g,p]=A.useState(""),[N,b]=A.useState(""),[S,C]=A.useState(""),[j,T]=A.useState(""),[O,M]=A.useState(""),[B,L]=A.useState(""),[H,U]=A.useState(""),[J,K]=A.useState(1e3),[G,re]=A.useState(!0),[ae,X]=A.useState(!1),[ne,de]=A.useState(""),[le,xe]=A.useState([{id:Xu(),name:"Standard",price:5e3,presale_price:3e3,quantity_available:100,sales_start_date:"",sales_end_date:"",description:"Accs standard  l'vnement",color:"blue"}]);A.useEffect(()=>{(async()=>{const{data:ge,error:ue}=await Je.from("event_categories").select("*").eq("is_active",!0);ue?console.error("Error fetching categories:",ue):o(ge||[])})()},[]);const Se=(te,ge,ue)=>{xe(le.map(Ce=>Ce.id===te?{...Ce,[ge]:ue}:Ce))},ye=()=>{xe([...le,{id:Xu(),name:"Nouveau Billet",price:0,presale_price:0,quantity_available:50,sales_start_date:"",sales_end_date:"",description:"",color:"blue"}])},ee=te=>{if(le.length<=1){ot({title:"Impossible",description:"Il faut au moins un type de billet.",variant:"destructive"});return}xe(le.filter(ge=>ge.id!==te))},he=te=>Math.ceil(parseInt(te||0,10)/u),se=async te=>{if(te.preventDefault(),!e){ot({title:"Erreur",description:"Vous devez tre connect.",variant:"destructive"});return}if(!f||!N||!j||!H){ot({title:"Erreur",description:"Veuillez remplir les champs obligatoires (Titre, Date, Ville, Catgorie).",variant:"destructive"});return}a(!0);try{console.log("Creating event with image:",f);const{data:ge,error:ue}=await Je.from("events").insert({title:f,description:g,event_date:N||null,end_date:S||null,city:j,country:O,address:B,cover_image:ne,organizer_id:e.id,event_type:"ticketing",category_id:H,status:"active",max_attendees:parseInt(J,10)||null,is_public:G,requires_approval:ae}).select().single();if(ue)throw ue;const Ce=ge.id,Ne=le.reduce((st,lt)=>st+parseInt(lt.quantity_available||0,10),0),{error:Ee}=await Je.from("ticketing_events").insert({event_id:Ce,total_tickets:Ne,tickets_sold:0});if(Ee)throw Ee;const Ge=le.map(st=>({event_id:Ce,name:st.name,description:st.description,quantity_available:parseInt(st.quantity_available,10),price:parseInt(st.price,10),price_coins:he(st.price),price_pi:he(st.price),presale_price_fcfa:parseInt(st.presale_price,10),presale_price_pi:he(st.presale_price),sales_start:st.sales_start_date||new Date().toISOString(),sales_end:st.sales_end_date||N,is_active:!0,color:st.color||"blue"})),{error:Be}=await Je.from("ticket_types").insert(Ge);if(Be)throw Be;ot({title:"Succs",description:"vnement billetterie cr avec succs!"}),setTimeout(()=>{r(`/event/${Ce}`)},1e3)}catch(ge){console.error("Error creating event:",ge),ot({title:"Erreur",description:ge.message,variant:"destructive"})}finally{a(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 md:p-8 pb-20",children:[s.jsx(Di,{children:s.jsx("title",{children:"Crer Billetterie - BonPlanInfos"})}),s.jsxs(qt,{className:"max-w-4xl mx-auto glass-effect shadow-xl border-none",children:[s.jsx(zr,{className:"border-b border-border/50 pb-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(ul,{className:"w-8 h-8 text-primary"})}),s.jsxs("div",{children:[s.jsx(Wr,{className:"text-2xl font-bold",children:"Crer une Billetterie"}),s.jsx(Ya,{children:"Configurez votre vnement, vos billets et vos tarifs."})]})]})}),s.jsx(Xt,{className:"pt-6",children:s.jsxs(H0,{value:String(l),onValueChange:te=>c(parseInt(te)),children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-muted rounded-full"}),s.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-primary rounded-full transition-all duration-300 ease-in-out",style:{width:l===1?"33%":l===2?"66%":"100%"}}),s.jsxs(Hh,{className:"grid w-full grid-cols-3 bg-transparent p-0",children:[s.jsx(Gn,{value:"1",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:text-primary text-base md:text-lg font-medium border-b-2 border-transparent rounded-none pb-2",children:"1. Informations"}),s.jsx(Gn,{value:"2",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:text-primary text-base md:text-lg font-medium border-b-2 border-transparent rounded-none pb-2",children:"2. Billets"}),s.jsx(Gn,{value:"3",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:text-primary text-base md:text-lg font-medium border-b-2 border-transparent rounded-none pb-2",children:"3. Confirmation"})]})]}),s.jsxs(Kn,{value:"1",className:"space-y-6 animate-in fade-in slide-in-from-left-4 duration-300",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{className:"text-base",children:"Image de couverture"}),s.jsx(f1e,{onImageUploaded:de,existingImage:ne})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Titre de l'vnement *"}),s.jsx(er,{value:f,onChange:te=>h(te.target.value),placeholder:"Ex: Concert Gant...",className:"bg-background/50"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Pays"}),s.jsx(er,{value:O,onChange:te=>M(te.target.value),className:"bg-background/50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Ville *"}),s.jsx(er,{value:j,onChange:te=>T(te.target.value),className:"bg-background/50"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Adresse prcise"}),s.jsx(er,{value:B,onChange:te=>L(te.target.value),placeholder:"Lieu, Salle, Rue...",className:"bg-background/50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Catgorie *"}),s.jsxs(Ai,{onValueChange:U,value:H,children:[s.jsx(vi,{className:"bg-background/50",children:s.jsx(Ei,{placeholder:"Slectionner une catgorie"})}),s.jsx(yi,{children:i.map(te=>s.jsx(on,{value:te.id,children:te.name},te.id))})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Description"}),s.jsx(ec,{value:g,onChange:te=>p(te.target.value),placeholder:"Dtaillez votre vnement...",className:"min-h-[150px] bg-background/50"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Dbut *"}),s.jsx(er,{type:"datetime-local",value:N,onChange:te=>b(te.target.value),className:"bg-background/50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Fin"}),s.jsx(er,{type:"datetime-local",value:S,onChange:te=>C(te.target.value),className:"bg-background/50"})]})]}),s.jsx("div",{className:"flex justify-end mt-8",children:s.jsxs(Ue,{onClick:()=>c(2),className:"px-8",children:["Suivant ",s.jsx(Um,{className:"ml-2 w-4 h-4"})]})})]}),s.jsxs(Kn,{value:"2",className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800 text-sm flex gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-full h-fit",children:s.jsx(za,{className:"w-5 h-5 text-blue-600 dark:text-blue-300"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-base text-blue-800 dark:text-blue-300",children:"Conversion Automatique"}),s.jsx("p",{className:"text-muted-foreground",children:"Le systme calcule automatiquement le prix en Pices (10 FCFA = 1 ). Les revenus sont partags  95% pour vous."})]})]}),s.jsx("div",{className:"space-y-4",children:le.map((te,ge)=>{var ue,Ce,Ne;return s.jsx(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ge*.1},children:s.jsx(qt,{className:"border-l-4 overflow-hidden hover:shadow-md transition-all",style:{borderLeftColor:((ue=BS.find(Ee=>Ee.value===te.color))==null?void 0:ue.hex.replace("bg-",""))||"gray"},children:s.jsxs(Xt,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Vr,{variant:"outline",className:"text-sm px-3 py-1",children:["Billet #",ge+1]}),s.jsx(er,{value:te.name,onChange:Ee=>Se(te.id,"name",Ee.target.value),className:"font-bold text-lg border-none shadow-none focus-visible:ring-0 px-0 w-auto min-w-[200px]",placeholder:"Nom du billet (ex: VIP)"})]}),le.length>1&&s.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>ee(te.id),className:"text-muted-foreground hover:text-destructive hover:bg-destructive/10",children:s.jsx(Fj,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4 lg:col-span-2",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Quantit disponible"}),s.jsx(er,{type:"number",value:te.quantity_available,onChange:Ee=>Se(te.id,"quantity_available",Ee.target.value),className:"bg-background/50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Couleur du billet"}),s.jsxs(Ai,{value:te.color,onValueChange:Ee=>Se(te.id,"color",Ee),children:[s.jsx(vi,{className:"bg-background/50",children:s.jsx(Ei,{placeholder:"Choisir une couleur",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${(Ce=BS.find(Ee=>Ee.value===te.color))==null?void 0:Ce.hex}`}),s.jsx("span",{children:(Ne=BS.find(Ee=>Ee.value===te.color))==null?void 0:Ne.name})]})})}),s.jsx(yi,{children:BS.map(Ee=>s.jsx(on,{value:Ee.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${Ee.hex}`}),s.jsx("span",{children:Ee.name})]})},Ee.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Description courte"}),s.jsx(er,{value:te.description,onChange:Ee=>Se(te.id,"description",Ee.target.value),placeholder:"Avantages inclus...",className:"bg-background/50"})]})]}),s.jsxs("div",{className:"bg-muted/30 p-4 rounded-xl space-y-4 border border-border/50",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(jt,{className:"text-orange-600 font-bold flex items-center gap-2",children:[s.jsx("span",{children:"Prix Prvente (J-1)"}),s.jsx(Vr,{variant:"secondary",className:"text-[10px] h-5",children:"Promo"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex-grow",children:[s.jsx(er,{type:"number",value:te.presale_price,onChange:Ee=>Se(te.id,"presale_price",Ee.target.value),className:"pr-12 bg-background"}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-muted-foreground",children:"FCFA"})]}),s.jsxs(Vr,{variant:"outline",className:"h-10 px-3 text-base font-medium min-w-[80px] justify-center",children:[he(te.presale_price)," "]})]})]}),s.jsxs("div",{className:"space-y-3 pt-2 border-t border-dashed border-border",children:[s.jsx(jt,{className:"text-green-600 font-bold",children:"Prix Jour J (J-0)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex-grow",children:[s.jsx(er,{type:"number",value:te.price,onChange:Ee=>Se(te.id,"price",Ee.target.value),className:"pr-12 bg-background"}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-muted-foreground",children:"FCFA"})]}),s.jsxs(Vr,{variant:"outline",className:"h-10 px-3 text-base font-medium min-w-[80px] justify-center",children:[he(te.price)," "]})]})]})]})]})]})})},te.id)})}),s.jsx(Ue,{variant:"outline",onClick:ye,className:"w-full py-8 border-dashed border-2 hover:border-primary hover:text-primary transition-all group",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Ql,{className:"w-6 h-6 group-hover:scale-110 transition-transform"}),s.jsx("span",{children:"Ajouter un autre type de billet"})]})}),s.jsxs("div",{className:"flex justify-between pt-8 border-t border-border",children:[s.jsxs(Ue,{variant:"outline",onClick:()=>c(1),className:"px-6",children:[s.jsx(_u,{className:"mr-2 w-4 h-4"})," Retour"]}),s.jsxs(Ue,{onClick:()=>c(3),className:"px-8",children:["Suivant ",s.jsx(Um,{className:"ml-2 w-4 h-4"})]})]})]}),s.jsxs(Kn,{value:"3",className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[s.jsx(qt,{className:"border-dashed border-2",children:s.jsxs(Xt,{className:"p-8 text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(jl,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold",children:"Prt  publier ?"}),s.jsxs("p",{className:"text-muted-foreground max-w-md mx-auto",children:["Votre vnement ",s.jsx("strong",{children:f})," est prt.",s.jsx("br",{}),s.jsxs("span",{className:"flex items-center justify-center gap-2 font-medium text-green-600 mt-2",children:[s.jsx(d4,{className:"w-4 h-4"}),"Livraison automatique via WhatsApp"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-sm mx-auto text-left bg-muted/30 p-4 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground block",children:"Date"}),s.jsx("span",{className:"font-medium",children:new Date(N).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground block",children:"Lieu"}),s.jsx("span",{className:"font-medium",children:j})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground block",children:"Billets"}),s.jsxs("span",{className:"font-medium",children:[le.reduce((te,ge)=>te+parseInt(ge.quantity_available),0)," total"]})]})]})]})}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsxs(Ue,{variant:"outline",onClick:()=>c(2),className:"px-6",children:[s.jsx(_u,{className:"mr-2 w-4 h-4"})," Retour"]}),s.jsxs(Ue,{onClick:se,disabled:n,size:"lg",className:"px-8 bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90 text-white shadow-lg hover:shadow-xl transition-all w-full sm:w-auto",children:[n?s.jsx(Jt,{className:"animate-spin mr-2"}):s.jsx(R5,{className:"mr-2 w-4 h-4"}),"Confirmer et Publier"]})]})]})]})})]})]})},__t=()=>{const[e]=I5(),{toast:t}=qs(),r=Ia();bn();const n=e.get("amount");e.get("packId"),e.get("type");const a=e.get("from")||"/packs",i="https://www.pay.moneyfusion.net/acheter-votre-pack-ici_1760809319837/",o="https://horizons-cdn.hostinger.com/b046caa6-31e1-44c9-b7bb-4c0c24e49566/596514675056f152f9b271c249be25a8.jpg",l=c=>{navigator.clipboard.writeText(c),t({title:"Copi !",description:"Le lien de paiement a t copi dans le presse-papiers."})};return n?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/50 to-background flex items-center justify-center p-4",children:s.jsxs(qt,{className:"w-full max-w-md shadow-2xl glass-effect",children:[s.jsxs(zr,{className:"text-center relative",children:[s.jsx(Ue,{variant:"ghost",size:"icon",className:"absolute top-4 left-4",onClick:()=>r(a),children:s.jsx(_u,{className:"h-5 w-5"})}),s.jsx(Wr,{className:"text-2xl font-bold pt-8",children:"Finalisez votre paiement"}),s.jsx(Ya,{children:"Scannez le QR code ou utilisez le lien ci-dessous."})]}),s.jsxs(Xt,{className:"flex flex-col items-center gap-6",children:[s.jsx("div",{className:"p-2 bg-white rounded-lg shadow-inner",children:s.jsx("img",{src:o,alt:"Scannez pour payer avec MoneyFusion",className:"w-64 h-64"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold",children:"Montant  payer"}),s.jsxs("p",{className:"text-3xl font-bold text-primary",children:[Number(n).toLocaleString()," FCFA"]})]}),s.jsxs("div",{className:"instructions text-left w-full mt-2",children:[s.jsx("h4",{className:"text-lg font-semibold mb-2 text-center",children:" Remplissez le formulaire sur MoneyFusion avec:"}),s.jsxs("ul",{className:"list-none space-y-2 text-muted-foreground bg-secondary/30 p-4 rounded-md",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Montant:"})," ",Number(n).toLocaleString()," FCFA"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Nom & Prnoms:"})," Votre nom complet"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Numro Mobile Money:"})," Votre numro de paiement"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Email:"})," L'email de votre compte Bonplaninfos"]})]})]}),s.jsxs("div",{className:"w-full flex flex-col gap-3",children:[s.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"w-full",children:s.jsxs(Ue,{className:"w-full gradient-green text-primary-foreground shadow-lg",children:[" Aller sur MoneyFusion pour payer ",s.jsx(O7,{className:"w-4 h-4 ml-2"})]})}),s.jsxs(Ue,{variant:"outline",onClick:()=>l(i),children:["Copier le lien de paiement ",s.jsx(dy,{className:"w-4 h-4 ml-2"})]})]}),s.jsxs("div",{className:"important-notice text-xs text-center bg-destructive/10 text-destructive-foreground p-3 rounded-md border border-destructive/20 w-full",children:[s.jsx("strong",{children:" Important:"})," Utilisez l'email de votre compte Bonplaninfos pour que vos pices soient crdites automatiquement ou votre licence soit active."]}),s.jsx(Ho,{to:a,children:s.jsx(Ue,{variant:"link",className:"mt-4 text-muted-foreground",children:"Retour  la boutique"})})]})]})}):s.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center text-center p-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-destructive mb-4",children:"Informations de paiement manquantes"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Impossible de gnrer la page de paiement."}),s.jsx(Ue,{onClick:()=>r(a),children:"Retour"})]})},N_t=()=>{const[e,t]=A.useState({title:"",description:"",category_id:null,event_date:"",location:"",city:"",country:"",price_fcfa:0,is_protected:!1,cover_image_file:null}),[r,n]=A.useState(!1),[a,i]=A.useState([]),[o,l]=A.useState(""),c=Ia(),{user:u}=bn(),{userProfile:f}=ai();A.useEffect(()=>{f&&t(C=>({...C,country:f.country||"",city:f.city||""})),(async()=>{n(!0);const{data:C,error:j}=await Je.from("event_categories").select("id, name").eq("is_active",!0).order("name");j?ot({title:"Erreur",description:"Impossible de charger les catgories.",variant:"destructive"}):i(C),n(!1)})()},[f]);const h=(S,C)=>{t(j=>({...j,[S]:C}))},g=S=>{const C=S.target.files[0];if(C){if(C.size>2*1024*1024){ot({title:"Fichier trop volumineux",description:"L'image ne doit pas dpasser 2MB.",variant:"destructive"});return}h("cover_image_file",C),l(URL.createObjectURL(C))}},p=Yl.convertFcfaToCoins(e.price_fcfa),N=e.title&&e.event_date&&e.location&&e.city&&e.country&&e.category_id,b=async S=>{if(S.preventDefault(),!N){ot({title:"Champs requis",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}n(!0);try{let C=null;if(e.cover_image_file){const M=e.cover_image_file.name.replace(/[^a-zA-Z0-9-_\.]/g,"_"),B=`events/${u.id}/${Xu()}-${M}`,{data:L,error:H}=await Je.storage.from("media").upload(B,e.cover_image_file);if(H)throw H;const{data:U}=Je.storage.from("media").getPublicUrl(L.path);C=U.publicUrl}const j={title:e.title,description:e.description,category_id:e.category_id,event_type:e.is_protected?"protected":"standard",event_date:e.event_date,location:e.location,address:e.location,city:e.city,country:e.country,price_fcfa:e.is_protected?0:e.price_fcfa,price_pi:e.is_protected?2:p,organizer_id:u.id,status:"active",cover_image:C},{data:T,error:O}=await Je.from("events").insert(j).select().single();if(O)throw O;ot({title:"vnement cr!",description:"Votre vnement a t publi avec succs."}),c(`/event/${T.id}`)}catch(C){ot({title:"Erreur",description:C.message,variant:"destructive"})}finally{n(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Di,{children:s.jsx("title",{children:"Crer un vnement Standard"})}),s.jsx("main",{className:"container mx-auto max-w-2xl px-4 py-8",children:s.jsxs(Zt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[s.jsxs(Ue,{variant:"ghost",onClick:()=>c(-1),className:"mb-4",children:[s.jsx(_u,{className:"w-4 h-4 mr-2"})," Retour"]}),s.jsxs(qt,{children:[s.jsxs(zr,{children:[s.jsx(Wr,{children:"Crer un vnement Standard"}),s.jsx(Ya,{children:"Remplissez les informations de base de votre vnement."})]}),s.jsx(Xt,{children:s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"title",children:"Titre de l'vnement *"}),s.jsx(er,{id:"title",value:e.title,onChange:S=>h("title",S.target.value),required:!0,className:"text-lg font-bold p-4 bg-transparent border-0 border-b-2 border-input focus:ring-0 focus:border-primary transition-all duration-300 ease-in-out placeholder-muted-foreground/50 bg-gradient-to-r from-primary/5 to-accent/5",placeholder:"Un titre qui claque !"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"description",children:"Description"}),s.jsx(ec,{id:"description",value:e.description,onChange:S=>h("description",S.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{children:"Image de couverture"}),o&&s.jsx("img",{className:"w-full h-auto rounded-lg max-h-60 object-cover",alt:"Aperu de l'vnement",src:o}),s.jsx(er,{type:"file",accept:"image/*",onChange:g})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"category",children:"Catgorie *"}),s.jsxs(Ai,{value:e.category_id||"",onValueChange:S=>h("category_id",S),children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Choisir une catgorie..."})}),s.jsx(yi,{children:a.map(S=>s.jsx(on,{value:S.id,children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"event_date",children:"Date et Heure *"}),s.jsx(er,{id:"event_date",type:"datetime-local",value:e.event_date,onChange:S=>h("event_date",S.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"location",children:"Lieu (Adresse) *"}),s.jsx(er,{id:"location",value:e.location,onChange:S=>h("location",S.target.value),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"city",children:"Ville *"}),s.jsx(er,{id:"city",value:e.city,onChange:S=>h("city",S.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"country",children:"Pays *"}),s.jsx(er,{id:"country",value:e.country,onChange:S=>h("country",S.target.value),disabled:!0})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(jt,{htmlFor:"is_protected",className:"flex items-center gap-2",children:[s.jsx(gc,{className:"w-5 h-5 text-primary"}),` Rendre l'vnement "protg"`]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Les utilisateurs paieront 2 pour chaque interaction. Vous gagnez 1 par interaction payante."})]}),s.jsx(Zd,{id:"is_protected",checked:e.is_protected,onCheckedChange:S=>h("is_protected",S)})]}),!e.is_protected&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"price_fcfa",children:"Prix d'entre (FCFA)"}),s.jsx(er,{id:"price_fcfa",type:"number",value:e.price_fcfa,onChange:S=>h("price_fcfa",parseInt(S.target.value)||0)}),s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(za,{className:"w-3 h-3"})," ",p," Pices"]})]})]}),s.jsx(Ue,{type:"submit",disabled:r||!N,className:"w-full",children:r?s.jsx(Jt,{className:"animate-spin mr-2"}):"Crer l'vnement"})]})})]})]})})]})},S_t=()=>{const[e,t]=A.useState({name:"",description:"",type_id:"",address:"",city:"",country:"Cte d'Ivoire",google_maps_link:"",website:"",phone_number:"",images_files:[]}),[r,n]=A.useState([]),[a,i]=A.useState(!1),[o,l]=A.useState(!1),[c,u]=A.useState(!1),f=Ia(),{user:h}=bn();A.useEffect(()=>{(async()=>{const{data:H,error:U}=await Je.from("location_types").select("id, name").eq("is_active",!0).order("name");U?ot({title:"Erreur",description:"Impossible de charger les types de lieux."}):n(H)})()},[]);const g=(L,H)=>{t(U=>({...U,[L]:H}))},p=L=>{t(H=>({...H,country:L,city:""}))},N=L=>{if(L.target.files.length>5){ot({title:"Trop d'images",description:"Vous ne pouvez tlverser que 5 images maximum.",variant:"destructive"});return}t(H=>({...H,images_files:[...L.target.files]}))},b=L=>{t(H=>({...H,images_files:H.images_files.filter((U,J)=>J!==L)}))},S=async L=>{if(L.preventDefault(),!h){ot({title:"Authentification requise",description:"Veuillez vous connecter pour ajouter un lieu.",variant:"destructive"}),f("/auth");return}i(!0);try{let H=[];if(e.images_files.length>0)for(const K of e.images_files){const G=`locations/${h.id}/${Xu()}-${K.name}`,{data:re,error:ae}=await Je.storage.from("media").upload(G,K);if(ae)throw ae;const{data:X}=Je.storage.from("media").getPublicUrl(re.path);H.push(X.publicUrl)}const U={name:e.name,description:e.description,type_id:e.type_id,address:e.address,city:e.city,country:e.country,google_maps_link:e.google_maps_link,website:e.website,phone_number:e.phone_number,images:H,user_id:h.id},{error:J}=await Je.from("locations").insert(U);if(J)throw J;ot({title:"Lieu ajout!",description:"Merci pour votre contribution!"}),f("/discover")}catch(H){ot({title:"Erreur",description:H.message,variant:"destructive"})}finally{i(!1)}},C=async()=>{if(!h){ot({title:"Authentification requise",description:"Veuillez vous connecter.",variant:"destructive"});return}l(!0);try{t({name:"",description:"",type_id:"",address:"",city:"",country:"Cte d'Ivoire",google_maps_link:"",website:"",phone_number:"",images_files:[]}),ot({title:"Formulaire vid",description:"Tous les champs ont t rinitialiss."})}catch{ot({title:"Erreur",description:"Impossible de vider le formulaire.",variant:"destructive"})}finally{l(!1),u(!1)}},j=()=>{u(!0)},T=()=>{u(!1)},O=A.useCallback(()=>e.country?Ny[e.country]||[]:[],[e.country]),M=e.name&&e.type_id&&e.address&&e.city&&e.country,B=e.name||e.description||e.type_id||e.address||e.city||e.google_maps_link||e.website||e.phone_number||e.images_files.length>0;return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Di,{children:s.jsx("title",{children:"Ajouter un lieu"})}),s.jsxs("main",{className:"container mx-auto max-w-2xl px-4 py-8",children:[s.jsxs(Ue,{variant:"ghost",onClick:()=>f(-1),className:"mb-4",children:[s.jsx(_u,{className:"w-4 h-4 mr-2"})," Retour"]}),s.jsxs(qt,{children:[s.jsx(zr,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(Wr,{children:"Ajouter un nouveau lieu"}),s.jsx(Ya,{children:"Partagez vos bons plans avec la communaut."})]}),B&&s.jsxs(Ue,{type:"button",variant:"destructive",size:"sm",onClick:j,disabled:o,children:[s.jsx(Yo,{className:"w-4 h-4 mr-2"}),o?"Suppression...":"Tout supprimer"]})]})}),s.jsxs(Xt,{children:[c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs(qt,{className:"w-full max-w-md mx-4",children:[s.jsxs(zr,{children:[s.jsx(Wr,{className:"text-destructive",children:"Confirmer la suppression"}),s.jsx(Ya,{children:"tes-vous sr de vouloir supprimer toutes les donnes du formulaire ? Cette action est irrversible."})]}),s.jsx(Xt,{children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(Ue,{variant:"outline",onClick:T,disabled:o,children:"Annuler"}),s.jsxs(Ue,{variant:"destructive",onClick:C,disabled:o,children:[o?s.jsx(Jt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Supprimer tout"]})]})})]})}),s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(jt,{htmlFor:"name",children:"Nom du lieu *"}),s.jsx(er,{id:"name",value:e.name,onChange:L=>g("name",L.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"type_id",children:"Type de lieu *"}),s.jsxs(Ai,{value:e.type_id,onValueChange:L=>g("type_id",L),children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Choisir un type..."})}),s.jsx(yi,{children:r.map(L=>s.jsx(on,{value:L.id,children:L.name},L.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"address",children:"Adresse *"}),s.jsx(er,{id:"address",value:e.address,onChange:L=>g("address",L.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"country",children:"Pays *"}),s.jsxs(Ai,{value:e.country,onValueChange:p,children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Choisir un pays..."})}),s.jsx(yi,{children:s3.map(L=>s.jsx(on,{value:L.name,children:L.name},L.code))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"city",children:"Ville *"}),s.jsxs(Ai,{value:e.city,onValueChange:L=>g("city",L),disabled:!e.country||O().length===0,children:[s.jsx(vi,{children:s.jsx(Ei,{placeholder:"Choisir une ville..."})}),s.jsx(yi,{children:O().map(L=>s.jsx(on,{value:L,children:L},L))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"description",children:"Description"}),s.jsx(ec,{id:"description",value:e.description,onChange:L=>g("description",L.target.value)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(jt,{htmlFor:"images",children:"Images (5 max)"}),s.jsx(er,{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:N}),e.images_files.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:Array.from(e.images_files).map((L,H)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:URL.createObjectURL(L),alt:`Preview ${H+1}`,className:"w-full h-24 object-cover rounded-lg border"}),s.jsx(Ue,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 w-6 h-6 p-0 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>b(H),children:s.jsx(kl,{className:"w-3 h-3"})}),s.jsx("div",{className:"text-xs text-center mt-1 truncate",children:L.name})]},H))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"google_maps_link",children:"Lien Google Maps"}),s.jsx(er,{id:"google_maps_link",value:e.google_maps_link,onChange:L=>g("google_maps_link",L.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"website",children:"Site Web"}),s.jsx(er,{id:"website",value:e.website,onChange:L=>g("website",L.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(jt,{htmlFor:"phone_number",children:"Tlphone"}),s.jsx(er,{id:"phone_number",value:e.phone_number,onChange:L=>g("phone_number",L.target.value)})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Ue,{type:"button",variant:"outline",onClick:()=>f(-1),className:"flex-1",children:"Annuler"}),s.jsx(Ue,{type:"submit",disabled:a||!M,className:"flex-1",children:a?s.jsx(Jt,{className:"animate-spin mr-2"}):"Ajouter le lieu"})]})]})]})]})]})]})};var jn;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(jn||(jn={}));var lJ=new Map([[jn.QR_CODE,"QR_CODE"],[jn.AZTEC,"AZTEC"],[jn.CODABAR,"CODABAR"],[jn.CODE_39,"CODE_39"],[jn.CODE_93,"CODE_93"],[jn.CODE_128,"CODE_128"],[jn.DATA_MATRIX,"DATA_MATRIX"],[jn.MAXICODE,"MAXICODE"],[jn.ITF,"ITF"],[jn.EAN_13,"EAN_13"],[jn.EAN_8,"EAN_8"],[jn.PDF_417,"PDF_417"],[jn.RSS_14,"RSS_14"],[jn.RSS_EXPANDED,"RSS_EXPANDED"],[jn.UPC_A,"UPC_A"],[jn.UPC_E,"UPC_E"],[jn.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),cJ;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(cJ||(cJ={}));function C_t(e){return Object.values(jn).includes(e)}var QE;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(QE||(QE={}));var A_t=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[QE.SCAN_TYPE_CAMERA,QE.SCAN_TYPE_FILE],e}(),h1e=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!lJ.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,lJ.get(t))},e}(),uJ=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),_R;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(_R||(_R={}));var E_t=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:_R.UNKWOWN_ERROR}},e}(),j_t=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function fm(e){return typeof e>"u"||e===null}var k2=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),m1e=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(a),o=Object.keys(t),l=0,c=o;l<c.length;l++){var u=c[l];if(i.has(u))return r.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},e}(),NR={exports:{}};(function(e,t){(function(r,n){n(t)})(Vs,function(r){function n(ke){return ke==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ke,m){ke.__proto__=m}||function(ke,m){for(var y in m)m.hasOwnProperty(y)&&(ke[y]=m[y])};function i(ke,m){a(ke,m);function y(){this.constructor=ke}ke.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}function o(ke,m){var y=Object.setPrototypeOf;y?y(ke,m):ke.__proto__=m}function l(ke,m){m===void 0&&(m=ke.constructor);var y=Error.captureStackTrace;y&&y(ke,m)}var c=function(ke){i(m,ke);function m(y){var w=this.constructor,E=ke.call(this,y)||this;return Object.defineProperty(E,"name",{value:w.name,enumerable:!1}),o(E,w.prototype),l(E),E}return m}(Error);class u extends c{constructor(m=void 0){super(m),this.message=m}getKind(){return this.constructor.kind}}u.kind="Exception";class f extends u{}f.kind="ArgumentException";class h extends u{}h.kind="IllegalArgumentException";class g{constructor(m){if(this.binarizer=m,m===null)throw new h("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(m,y){return this.binarizer.getBlackRow(m,y)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(m,y,w,E){const P=this.binarizer.getLuminanceSource().crop(m,y,w,E);return new g(this.binarizer.createBinarizer(P))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const m=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new g(this.binarizer.createBinarizer(m))}rotateCounterClockwise45(){const m=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new g(this.binarizer.createBinarizer(m))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class p extends u{static getChecksumInstance(){return new p}}p.kind="ChecksumException";class N{constructor(m){this.source=m}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class b{static arraycopy(m,y,w,E,P){for(;P--;)w[E++]=m[y++]}static currentTimeMillis(){return Date.now()}}class S extends u{}S.kind="IndexOutOfBoundsException";class C extends S{constructor(m=void 0,y=void 0){super(y),this.index=m,this.message=y}}C.kind="ArrayIndexOutOfBoundsException";class j{static fill(m,y){for(let w=0,E=m.length;w<E;w++)m[w]=y}static fillWithin(m,y,w,E){j.rangeCheck(m.length,y,w);for(let P=y;P<w;P++)m[P]=E}static rangeCheck(m,y,w){if(y>w)throw new h("fromIndex("+y+") > toIndex("+w+")");if(y<0)throw new C(y);if(w>m)throw new C(w)}static asList(...m){return m}static create(m,y,w){return Array.from({length:m}).map(P=>Array.from({length:y}).fill(w))}static createInt32Array(m,y,w){return Array.from({length:m}).map(P=>Int32Array.from({length:y}).fill(w))}static equals(m,y){if(!m||!y||!m.length||!y.length||m.length!==y.length)return!1;for(let w=0,E=m.length;w<E;w++)if(m[w]!==y[w])return!1;return!0}static hashCode(m){if(m===null)return 0;let y=1;for(const w of m)y=31*y+w;return y}static fillUint8Array(m,y){for(let w=0;w!==m.length;w++)m[w]=y}static copyOf(m,y){return m.slice(0,y)}static copyOfUint8Array(m,y){if(m.length<=y){const w=new Uint8Array(y);return w.set(m),w}return m.slice(0,y)}static copyOfRange(m,y,w){const E=w-y,P=new Int32Array(E);return b.arraycopy(m,y,P,0,E),P}static binarySearch(m,y,w){w===void 0&&(w=j.numberComparator);let E=0,P=m.length-1;for(;E<=P;){const D=P+E>>1,V=w(y,m[D]);if(V>0)E=D+1;else if(V<0)P=D-1;else return D}return-E-1}static numberComparator(m,y){return m-y}}class T{static numberOfTrailingZeros(m){let y;if(m===0)return 32;let w=31;return y=m<<16,y!==0&&(w-=16,m=y),y=m<<8,y!==0&&(w-=8,m=y),y=m<<4,y!==0&&(w-=4,m=y),y=m<<2,y!==0&&(w-=2,m=y),w-(m<<1>>>31)}static numberOfLeadingZeros(m){if(m===0)return 32;let y=1;return m>>>16||(y+=16,m<<=16),m>>>24||(y+=8,m<<=8),m>>>28||(y+=4,m<<=4),m>>>30||(y+=2,m<<=2),y-=m>>>31,y}static toHexString(m){return m.toString(16)}static toBinaryString(m){return String(parseInt(String(m),2))}static bitCount(m){return m=m-(m>>>1&1431655765),m=(m&858993459)+(m>>>2&858993459),m=m+(m>>>4)&252645135,m=m+(m>>>8),m=m+(m>>>16),m&63}static truncDivision(m,y){return Math.trunc(m/y)}static parseInt(m,y=void 0){return parseInt(m,y)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class O{constructor(m,y){m===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=m,y==null?this.bits=O.makeArray(m):this.bits=y)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(m){if(m>this.bits.length*32){const y=O.makeArray(m);b.arraycopy(this.bits,0,y,0,this.bits.length),this.bits=y}}get(m){return(this.bits[Math.floor(m/32)]&1<<(m&31))!==0}set(m){this.bits[Math.floor(m/32)]|=1<<(m&31)}flip(m){this.bits[Math.floor(m/32)]^=1<<(m&31)}getNextSet(m){const y=this.size;if(m>=y)return y;const w=this.bits;let E=Math.floor(m/32),P=w[E];P&=~((1<<(m&31))-1);const D=w.length;for(;P===0;){if(++E===D)return y;P=w[E]}const V=E*32+T.numberOfTrailingZeros(P);return V>y?y:V}getNextUnset(m){const y=this.size;if(m>=y)return y;const w=this.bits;let E=Math.floor(m/32),P=~w[E];P&=~((1<<(m&31))-1);const D=w.length;for(;P===0;){if(++E===D)return y;P=~w[E]}const V=E*32+T.numberOfTrailingZeros(P);return V>y?y:V}setBulk(m,y){this.bits[Math.floor(m/32)]=y}setRange(m,y){if(y<m||m<0||y>this.size)throw new h;if(y===m)return;y--;const w=Math.floor(m/32),E=Math.floor(y/32),P=this.bits;for(let D=w;D<=E;D++){const V=D>w?0:m&31,oe=(2<<(D<E?31:y&31))-(1<<V);P[D]|=oe}}clear(){const m=this.bits.length,y=this.bits;for(let w=0;w<m;w++)y[w]=0}isRange(m,y,w){if(y<m||m<0||y>this.size)throw new h;if(y===m)return!0;y--;const E=Math.floor(m/32),P=Math.floor(y/32),D=this.bits;for(let V=E;V<=P;V++){const Z=V>E?0:m&31,be=(2<<(V<P?31:y&31))-(1<<Z)&4294967295;if((D[V]&be)!==(w?be:0))return!1}return!0}appendBit(m){this.ensureCapacity(this.size+1),m&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(m,y){if(y<0||y>32)throw new h("Num bits must be between 0 and 32");this.ensureCapacity(this.size+y);for(let w=y;w>0;w--)this.appendBit((m>>w-1&1)===1)}appendBitArray(m){const y=m.size;this.ensureCapacity(this.size+y);for(let w=0;w<y;w++)this.appendBit(m.get(w))}xor(m){if(this.size!==m.size)throw new h("Sizes don't match");const y=this.bits;for(let w=0,E=y.length;w<E;w++)y[w]^=m.bits[w]}toBytes(m,y,w,E){for(let P=0;P<E;P++){let D=0;for(let V=0;V<8;V++)this.get(m)&&(D|=1<<7-V),m++;y[w+P]=D}}getBitArray(){return this.bits}reverse(){const m=new Int32Array(this.bits.length),y=Math.floor((this.size-1)/32),w=y+1,E=this.bits;for(let P=0;P<w;P++){let D=E[P];D=D>>1&1431655765|(D&1431655765)<<1,D=D>>2&858993459|(D&858993459)<<2,D=D>>4&252645135|(D&252645135)<<4,D=D>>8&16711935|(D&16711935)<<8,D=D>>16&65535|(D&65535)<<16,m[y-P]=D}if(this.size!==w*32){const P=w*32-this.size;let D=m[0]>>>P;for(let V=1;V<w;V++){const Z=m[V];D|=Z<<32-P,m[V-1]=D,D=Z>>>P}m[w-1]=D}this.bits=m}static makeArray(m){return new Int32Array(Math.floor((m+31)/32))}equals(m){if(!(m instanceof O))return!1;const y=m;return this.size===y.size&&j.equals(this.bits,y.bits)}hashCode(){return 31*this.size+j.hashCode(this.bits)}toString(){let m="";for(let y=0,w=this.size;y<w;y++)y&7||(m+=" "),m+=this.get(y)?"X":".";return m}clone(){return new O(this.size,this.bits.slice())}}var M;(function(ke){ke[ke.OTHER=0]="OTHER",ke[ke.PURE_BARCODE=1]="PURE_BARCODE",ke[ke.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",ke[ke.TRY_HARDER=3]="TRY_HARDER",ke[ke.CHARACTER_SET=4]="CHARACTER_SET",ke[ke.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",ke[ke.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",ke[ke.ASSUME_GS1=7]="ASSUME_GS1",ke[ke.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",ke[ke.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",ke[ke.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(M||(M={}));var B=M;class L extends u{static getFormatInstance(){return new L}}L.kind="FormatException";var H;(function(ke){ke[ke.Cp437=0]="Cp437",ke[ke.ISO8859_1=1]="ISO8859_1",ke[ke.ISO8859_2=2]="ISO8859_2",ke[ke.ISO8859_3=3]="ISO8859_3",ke[ke.ISO8859_4=4]="ISO8859_4",ke[ke.ISO8859_5=5]="ISO8859_5",ke[ke.ISO8859_6=6]="ISO8859_6",ke[ke.ISO8859_7=7]="ISO8859_7",ke[ke.ISO8859_8=8]="ISO8859_8",ke[ke.ISO8859_9=9]="ISO8859_9",ke[ke.ISO8859_10=10]="ISO8859_10",ke[ke.ISO8859_11=11]="ISO8859_11",ke[ke.ISO8859_13=12]="ISO8859_13",ke[ke.ISO8859_14=13]="ISO8859_14",ke[ke.ISO8859_15=14]="ISO8859_15",ke[ke.ISO8859_16=15]="ISO8859_16",ke[ke.SJIS=16]="SJIS",ke[ke.Cp1250=17]="Cp1250",ke[ke.Cp1251=18]="Cp1251",ke[ke.Cp1252=19]="Cp1252",ke[ke.Cp1256=20]="Cp1256",ke[ke.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",ke[ke.UTF8=22]="UTF8",ke[ke.ASCII=23]="ASCII",ke[ke.Big5=24]="Big5",ke[ke.GB18030=25]="GB18030",ke[ke.EUC_KR=26]="EUC_KR"})(H||(H={}));class U{constructor(m,y,w,...E){this.valueIdentifier=m,this.name=w,typeof y=="number"?this.values=Int32Array.from([y]):this.values=y,this.otherEncodingNames=E,U.VALUE_IDENTIFIER_TO_ECI.set(m,this),U.NAME_TO_ECI.set(w,this);const P=this.values;for(let D=0,V=P.length;D!==V;D++){const Z=P[D];U.VALUES_TO_ECI.set(Z,this)}for(const D of E)U.NAME_TO_ECI.set(D,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(m){if(m<0||m>=900)throw new L("incorect value");const y=U.VALUES_TO_ECI.get(m);if(y===void 0)throw new L("incorect value");return y}static getCharacterSetECIByName(m){const y=U.NAME_TO_ECI.get(m);if(y===void 0)throw new L("incorect value");return y}equals(m){if(!(m instanceof U))return!1;const y=m;return this.getName()===y.getName()}}U.VALUE_IDENTIFIER_TO_ECI=new Map,U.VALUES_TO_ECI=new Map,U.NAME_TO_ECI=new Map,U.Cp437=new U(H.Cp437,Int32Array.from([0,2]),"Cp437"),U.ISO8859_1=new U(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),U.ISO8859_2=new U(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),U.ISO8859_3=new U(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),U.ISO8859_4=new U(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),U.ISO8859_5=new U(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),U.ISO8859_6=new U(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),U.ISO8859_7=new U(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),U.ISO8859_8=new U(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),U.ISO8859_9=new U(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),U.ISO8859_10=new U(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),U.ISO8859_11=new U(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),U.ISO8859_13=new U(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),U.ISO8859_14=new U(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),U.ISO8859_15=new U(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),U.ISO8859_16=new U(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),U.SJIS=new U(H.SJIS,20,"SJIS","Shift_JIS"),U.Cp1250=new U(H.Cp1250,21,"Cp1250","windows-1250"),U.Cp1251=new U(H.Cp1251,22,"Cp1251","windows-1251"),U.Cp1252=new U(H.Cp1252,23,"Cp1252","windows-1252"),U.Cp1256=new U(H.Cp1256,24,"Cp1256","windows-1256"),U.UnicodeBigUnmarked=new U(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),U.UTF8=new U(H.UTF8,26,"UTF8","UTF-8"),U.ASCII=new U(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),U.Big5=new U(H.Big5,28,"Big5"),U.GB18030=new U(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),U.EUC_KR=new U(H.EUC_KR,30,"EUC_KR","EUC-KR");class J extends u{}J.kind="UnsupportedOperationException";class K{static decode(m,y){const w=this.encodingName(y);return this.customDecoder?this.customDecoder(m,w):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(w)?this.decodeFallback(m,w):new TextDecoder(w).decode(m)}static shouldDecodeOnFallback(m){return!K.isBrowser()&&m==="ISO-8859-1"}static encode(m,y){const w=this.encodingName(y);return this.customEncoder?this.customEncoder(m,w):typeof TextEncoder>"u"?this.encodeFallback(m):new TextEncoder().encode(m)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(m){return typeof m=="string"?m:m.getName()}static encodingCharacterSet(m){return m instanceof U?m:U.getCharacterSetECIByName(m)}static decodeFallback(m,y){const w=this.encodingCharacterSet(y);if(K.isDecodeFallbackSupported(w)){let E="";for(let P=0,D=m.length;P<D;P++){let V=m[P].toString(16);V.length<2&&(V="0"+V),E+="%"+V}return decodeURIComponent(E)}if(w.equals(U.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(m.buffer));throw new J(`Encoding ${this.encodingName(y)} not supported by fallback.`)}static isDecodeFallbackSupported(m){return m.equals(U.UTF8)||m.equals(U.ISO8859_1)||m.equals(U.ASCII)}static encodeFallback(m){const w=btoa(unescape(encodeURIComponent(m))).split(""),E=[];for(let P=0;P<w.length;P++)E.push(w[P].charCodeAt(0));return new Uint8Array(E)}}class G{static castAsNonUtf8Char(m,y=null){const w=y?y.getName():this.ISO88591;return K.decode(new Uint8Array([m]),w)}static guessEncoding(m,y){if(y!=null&&y.get(B.CHARACTER_SET)!==void 0)return y.get(B.CHARACTER_SET).toString();const w=m.length;let E=!0,P=!0,D=!0,V=0,Z=0,oe=0,be=0,Te=0,De=0,et=0,dt=0,pt=0,Nt=0,Rt=0;const Gt=m.length>3&&m[0]===239&&m[1]===187&&m[2]===191;for(let or=0;or<w&&(E||P||D);or++){const ir=m[or]&255;D&&(V>0?ir&128?V--:D=!1:ir&128&&(ir&64?(V++,ir&32?(V++,ir&16?(V++,ir&8?D=!1:be++):oe++):Z++):D=!1)),E&&(ir>127&&ir<160?E=!1:ir>159&&(ir<192||ir===215||ir===247)&&Rt++),P&&(Te>0?ir<64||ir===127||ir>252?P=!1:Te--:ir===128||ir===160||ir>239?P=!1:ir>160&&ir<224?(De++,dt=0,et++,et>pt&&(pt=et)):ir>127?(Te++,et=0,dt++,dt>Nt&&(Nt=dt)):(et=0,dt=0))}return D&&V>0&&(D=!1),P&&Te>0&&(P=!1),D&&(Gt||Z+oe+be>0)?G.UTF8:P&&(G.ASSUME_SHIFT_JIS||pt>=3||Nt>=3)?G.SHIFT_JIS:E&&P?pt===2&&De===2||Rt*10>=w?G.SHIFT_JIS:G.ISO88591:E?G.ISO88591:P?G.SHIFT_JIS:D?G.UTF8:G.PLATFORM_DEFAULT_ENCODING}static format(m,...y){let w=-1;function E(D,V,Z,oe,be,Te){if(D==="%%")return"%";if(y[++w]===void 0)return;D=oe?parseInt(oe.substr(1)):void 0;let De=be?parseInt(be.substr(1)):void 0,et;switch(Te){case"s":et=y[w];break;case"c":et=y[w][0];break;case"f":et=parseFloat(y[w]).toFixed(D);break;case"p":et=parseFloat(y[w]).toPrecision(D);break;case"e":et=parseFloat(y[w]).toExponential(D);break;case"x":et=parseInt(y[w]).toString(De||16);break;case"d":et=parseFloat(parseInt(y[w],De||10).toPrecision(D)).toFixed(0);break}et=typeof et=="object"?JSON.stringify(et):(+et).toString(De);let dt=parseInt(Z),pt=Z&&Z[0]+""=="0"?"0":" ";for(;et.length<dt;)et=V!==void 0?et+pt:pt+et;return et}let P=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return m.replace(P,E)}static getBytes(m,y){return K.encode(m,y)}static getCharCode(m,y=0){return m.charCodeAt(y)}static getCharAt(m){return String.fromCharCode(m)}}G.SHIFT_JIS=U.SJIS.getName(),G.GB2312="GB2312",G.ISO88591=U.ISO8859_1.getName(),G.EUC_JP="EUC_JP",G.UTF8=U.UTF8.getName(),G.PLATFORM_DEFAULT_ENCODING=G.UTF8,G.ASSUME_SHIFT_JIS=!1;class re{constructor(m=""){this.value=m}enableDecoding(m){return this.encoding=m,this}append(m){return typeof m=="string"?this.value+=m.toString():this.encoding?this.value+=G.castAsNonUtf8Char(m,this.encoding):this.value+=String.fromCharCode(m),this}appendChars(m,y,w){for(let E=y;y<y+w;E++)this.append(m[E]);return this}length(){return this.value.length}charAt(m){return this.value.charAt(m)}deleteCharAt(m){this.value=this.value.substr(0,m)+this.value.substring(m+1)}setCharAt(m,y){this.value=this.value.substr(0,m)+y+this.value.substr(m+1)}substring(m,y){return this.value.substring(m,y)}setLengthToZero(){this.value=""}toString(){return this.value}insert(m,y){this.value=this.value.substr(0,m)+y+this.value.substr(m+y.length)}}class ae{constructor(m,y,w,E){if(this.width=m,this.height=y,this.rowSize=w,this.bits=E,y==null&&(y=m),this.height=y,m<1||y<1)throw new h("Both dimensions must be greater than 0");w==null&&(w=Math.floor((m+31)/32)),this.rowSize=w,E==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(m){const y=m.length,w=m[0].length,E=new ae(w,y);for(let P=0;P<y;P++){const D=m[P];for(let V=0;V<w;V++)D[V]&&E.set(V,P)}return E}static parseFromString(m,y,w){if(m===null)throw new h("stringRepresentation cannot be null");const E=new Array(m.length);let P=0,D=0,V=-1,Z=0,oe=0;for(;oe<m.length;)if(m.charAt(oe)===`
`||m.charAt(oe)==="\r"){if(P>D){if(V===-1)V=P-D;else if(P-D!==V)throw new h("row lengths do not match");D=P,Z++}oe++}else if(m.substring(oe,oe+y.length)===y)oe+=y.length,E[P]=!0,P++;else if(m.substring(oe,oe+w.length)===w)oe+=w.length,E[P]=!1,P++;else throw new h("illegal character encountered: "+m.substring(oe));if(P>D){if(V===-1)V=P-D;else if(P-D!==V)throw new h("row lengths do not match");Z++}const be=new ae(V,Z);for(let Te=0;Te<P;Te++)E[Te]&&be.set(Math.floor(Te%V),Math.floor(Te/V));return be}get(m,y){const w=y*this.rowSize+Math.floor(m/32);return(this.bits[w]>>>(m&31)&1)!==0}set(m,y){const w=y*this.rowSize+Math.floor(m/32);this.bits[w]|=1<<(m&31)&4294967295}unset(m,y){const w=y*this.rowSize+Math.floor(m/32);this.bits[w]&=~(1<<(m&31)&4294967295)}flip(m,y){const w=y*this.rowSize+Math.floor(m/32);this.bits[w]^=1<<(m&31)&4294967295}xor(m){if(this.width!==m.getWidth()||this.height!==m.getHeight()||this.rowSize!==m.getRowSize())throw new h("input matrix dimensions do not match");const y=new O(Math.floor(this.width/32)+1),w=this.rowSize,E=this.bits;for(let P=0,D=this.height;P<D;P++){const V=P*w,Z=m.getRow(P,y).getBitArray();for(let oe=0;oe<w;oe++)E[V+oe]^=Z[oe]}}clear(){const m=this.bits,y=m.length;for(let w=0;w<y;w++)m[w]=0}setRegion(m,y,w,E){if(y<0||m<0)throw new h("Left and top must be nonnegative");if(E<1||w<1)throw new h("Height and width must be at least 1");const P=m+w,D=y+E;if(D>this.height||P>this.width)throw new h("The region must fit inside the matrix");const V=this.rowSize,Z=this.bits;for(let oe=y;oe<D;oe++){const be=oe*V;for(let Te=m;Te<P;Te++)Z[be+Math.floor(Te/32)]|=1<<(Te&31)&4294967295}}getRow(m,y){y==null||y.getSize()<this.width?y=new O(this.width):y.clear();const w=this.rowSize,E=this.bits,P=m*w;for(let D=0;D<w;D++)y.setBulk(D*32,E[P+D]);return y}setRow(m,y){b.arraycopy(y.getBitArray(),0,this.bits,m*this.rowSize,this.rowSize)}rotate180(){const m=this.getWidth(),y=this.getHeight();let w=new O(m),E=new O(m);for(let P=0,D=Math.floor((y+1)/2);P<D;P++)w=this.getRow(P,w),E=this.getRow(y-1-P,E),w.reverse(),E.reverse(),this.setRow(P,E),this.setRow(y-1-P,w)}getEnclosingRectangle(){const m=this.width,y=this.height,w=this.rowSize,E=this.bits;let P=m,D=y,V=-1,Z=-1;for(let oe=0;oe<y;oe++)for(let be=0;be<w;be++){const Te=E[oe*w+be];if(Te!==0){if(oe<D&&(D=oe),oe>Z&&(Z=oe),be*32<P){let De=0;for(;!(Te<<31-De&4294967295);)De++;be*32+De<P&&(P=be*32+De)}if(be*32+31>V){let De=31;for(;!(Te>>>De);)De--;be*32+De>V&&(V=be*32+De)}}}return V<P||Z<D?null:Int32Array.from([P,D,V-P+1,Z-D+1])}getTopLeftOnBit(){const m=this.rowSize,y=this.bits;let w=0;for(;w<y.length&&y[w]===0;)w++;if(w===y.length)return null;const E=w/m;let P=w%m*32;const D=y[w];let V=0;for(;!(D<<31-V&4294967295);)V++;return P+=V,Int32Array.from([P,E])}getBottomRightOnBit(){const m=this.rowSize,y=this.bits;let w=y.length-1;for(;w>=0&&y[w]===0;)w--;if(w<0)return null;const E=Math.floor(w/m);let P=Math.floor(w%m)*32;const D=y[w];let V=31;for(;!(D>>>V);)V--;return P+=V,Int32Array.from([P,E])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(m){if(!(m instanceof ae))return!1;const y=m;return this.width===y.width&&this.height===y.height&&this.rowSize===y.rowSize&&j.equals(this.bits,y.bits)}hashCode(){let m=this.width;return m=31*m+this.width,m=31*m+this.height,m=31*m+this.rowSize,m=31*m+j.hashCode(this.bits),m}toString(m="X ",y="  ",w=`
`){return this.buildToString(m,y,w)}buildToString(m,y,w){let E=new re;for(let P=0,D=this.height;P<D;P++){for(let V=0,Z=this.width;V<Z;V++)E.append(this.get(V,P)?m:y);E.append(w)}return E.toString()}clone(){return new ae(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends u{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class ne extends N{constructor(m){super(m),this.luminances=ne.EMPTY,this.buckets=new Int32Array(ne.LUMINANCE_BUCKETS)}getBlackRow(m,y){const w=this.getLuminanceSource(),E=w.getWidth();y==null||y.getSize()<E?y=new O(E):y.clear(),this.initArrays(E);const P=w.getRow(m,this.luminances),D=this.buckets;for(let Z=0;Z<E;Z++)D[(P[Z]&255)>>ne.LUMINANCE_SHIFT]++;const V=ne.estimateBlackPoint(D);if(E<3)for(let Z=0;Z<E;Z++)(P[Z]&255)<V&&y.set(Z);else{let Z=P[0]&255,oe=P[1]&255;for(let be=1;be<E-1;be++){const Te=P[be+1]&255;(oe*4-Z-Te)/2<V&&y.set(be),Z=oe,oe=Te}}return y}getBlackMatrix(){const m=this.getLuminanceSource(),y=m.getWidth(),w=m.getHeight(),E=new ae(y,w);this.initArrays(y);const P=this.buckets;for(let Z=1;Z<5;Z++){const oe=Math.floor(w*Z/5),be=m.getRow(oe,this.luminances),Te=Math.floor(y*4/5);for(let De=Math.floor(y/5);De<Te;De++){const et=be[De]&255;P[et>>ne.LUMINANCE_SHIFT]++}}const D=ne.estimateBlackPoint(P),V=m.getMatrix();for(let Z=0;Z<w;Z++){const oe=Z*y;for(let be=0;be<y;be++)(V[oe+be]&255)<D&&E.set(be,Z)}return E}createBinarizer(m){return new ne(m)}initArrays(m){this.luminances.length<m&&(this.luminances=new Uint8ClampedArray(m));const y=this.buckets;for(let w=0;w<ne.LUMINANCE_BUCKETS;w++)y[w]=0}static estimateBlackPoint(m){const y=m.length;let w=0,E=0,P=0;for(let be=0;be<y;be++)m[be]>P&&(E=be,P=m[be]),m[be]>w&&(w=m[be]);let D=0,V=0;for(let be=0;be<y;be++){const Te=be-E,De=m[be]*Te*Te;De>V&&(D=be,V=De)}if(E>D){const be=E;E=D,D=be}if(D-E<=y/16)throw new X;let Z=D-1,oe=-1;for(let be=D-1;be>E;be--){const Te=be-E,De=Te*Te*(D-be)*(w-m[be]);De>oe&&(Z=be,oe=De)}return Z<<ne.LUMINANCE_SHIFT}}ne.LUMINANCE_BITS=5,ne.LUMINANCE_SHIFT=8-ne.LUMINANCE_BITS,ne.LUMINANCE_BUCKETS=1<<ne.LUMINANCE_BITS,ne.EMPTY=Uint8ClampedArray.from([0]);class de extends ne{constructor(m){super(m),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const m=this.getLuminanceSource(),y=m.getWidth(),w=m.getHeight();if(y>=de.MINIMUM_DIMENSION&&w>=de.MINIMUM_DIMENSION){const E=m.getMatrix();let P=y>>de.BLOCK_SIZE_POWER;y&de.BLOCK_SIZE_MASK&&P++;let D=w>>de.BLOCK_SIZE_POWER;w&de.BLOCK_SIZE_MASK&&D++;const V=de.calculateBlackPoints(E,P,D,y,w),Z=new ae(y,w);de.calculateThresholdForBlock(E,P,D,y,w,V,Z),this.matrix=Z}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(m){return new de(m)}static calculateThresholdForBlock(m,y,w,E,P,D,V){const Z=P-de.BLOCK_SIZE,oe=E-de.BLOCK_SIZE;for(let be=0;be<w;be++){let Te=be<<de.BLOCK_SIZE_POWER;Te>Z&&(Te=Z);const De=de.cap(be,2,w-3);for(let et=0;et<y;et++){let dt=et<<de.BLOCK_SIZE_POWER;dt>oe&&(dt=oe);const pt=de.cap(et,2,y-3);let Nt=0;for(let Gt=-2;Gt<=2;Gt++){const or=D[De+Gt];Nt+=or[pt-2]+or[pt-1]+or[pt]+or[pt+1]+or[pt+2]}const Rt=Nt/25;de.thresholdBlock(m,dt,Te,Rt,E,V)}}}static cap(m,y,w){return m<y?y:m>w?w:m}static thresholdBlock(m,y,w,E,P,D){for(let V=0,Z=w*P+y;V<de.BLOCK_SIZE;V++,Z+=P)for(let oe=0;oe<de.BLOCK_SIZE;oe++)(m[Z+oe]&255)<=E&&D.set(y+oe,w+V)}static calculateBlackPoints(m,y,w,E,P){const D=P-de.BLOCK_SIZE,V=E-de.BLOCK_SIZE,Z=new Array(w);for(let oe=0;oe<w;oe++){Z[oe]=new Int32Array(y);let be=oe<<de.BLOCK_SIZE_POWER;be>D&&(be=D);for(let Te=0;Te<y;Te++){let De=Te<<de.BLOCK_SIZE_POWER;De>V&&(De=V);let et=0,dt=255,pt=0;for(let Rt=0,Gt=be*E+De;Rt<de.BLOCK_SIZE;Rt++,Gt+=E){for(let or=0;or<de.BLOCK_SIZE;or++){const ir=m[Gt+or]&255;et+=ir,ir<dt&&(dt=ir),ir>pt&&(pt=ir)}if(pt-dt>de.MIN_DYNAMIC_RANGE)for(Rt++,Gt+=E;Rt<de.BLOCK_SIZE;Rt++,Gt+=E)for(let or=0;or<de.BLOCK_SIZE;or++)et+=m[Gt+or]&255}let Nt=et>>de.BLOCK_SIZE_POWER*2;if(pt-dt<=de.MIN_DYNAMIC_RANGE&&(Nt=dt/2,oe>0&&Te>0)){const Rt=(Z[oe-1][Te]+2*Z[oe][Te-1]+Z[oe-1][Te-1])/4;dt<Rt&&(Nt=Rt)}Z[oe][Te]=Nt}}return Z}}de.BLOCK_SIZE_POWER=3,de.BLOCK_SIZE=1<<de.BLOCK_SIZE_POWER,de.BLOCK_SIZE_MASK=de.BLOCK_SIZE-1,de.MINIMUM_DIMENSION=de.BLOCK_SIZE*5,de.MIN_DYNAMIC_RANGE=24;class le{constructor(m,y){this.width=m,this.height=y}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(m,y,w,E){throw new J("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new J("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new J("This luminance source does not support rotation by 45 degrees.")}toString(){const m=new Uint8ClampedArray(this.width);let y=new re;for(let w=0;w<this.height;w++){const E=this.getRow(w,m);for(let P=0;P<this.width;P++){const D=E[P]&255;let V;D<64?V="#":D<128?V="+":D<192?V=".":V=" ",y.append(V)}y.append(`
`)}return y.toString()}}class xe extends le{constructor(m){super(m.getWidth(),m.getHeight()),this.delegate=m}getRow(m,y){const w=this.delegate.getRow(m,y),E=this.getWidth();for(let P=0;P<E;P++)w[P]=255-(w[P]&255);return w}getMatrix(){const m=this.delegate.getMatrix(),y=this.getWidth()*this.getHeight(),w=new Uint8ClampedArray(y);for(let E=0;E<y;E++)w[E]=255-(m[E]&255);return w}isCropSupported(){return this.delegate.isCropSupported()}crop(m,y,w,E){return new xe(this.delegate.crop(m,y,w,E))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new xe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new xe(this.delegate.rotateCounterClockwise45())}}class Se extends le{constructor(m){super(m.width,m.height),this.canvas=m,this.tempCanvasElement=null,this.buffer=Se.makeBufferFromCanvasImageData(m)}static makeBufferFromCanvasImageData(m){const y=m.getContext("2d").getImageData(0,0,m.width,m.height);return Se.toGrayscaleBuffer(y.data,m.width,m.height)}static toGrayscaleBuffer(m,y,w){const E=new Uint8ClampedArray(y*w);for(let P=0,D=0,V=m.length;P<V;P+=4,D++){let Z;if(m[P+3]===0)Z=255;else{const be=m[P],Te=m[P+1],De=m[P+2];Z=306*be+601*Te+117*De+512>>10}E[D]=Z}return E}getRow(m,y){if(m<0||m>=this.getHeight())throw new h("Requested row is outside the image: "+m);const w=this.getWidth(),E=m*w;return y===null?y=this.buffer.slice(E,E+w):(y.length<w&&(y=new Uint8ClampedArray(w)),y.set(this.buffer.slice(E,E+w))),y}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(m,y,w,E){return super.crop(m,y,w,E),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const m=this.canvas.ownerDocument.createElement("canvas");m.width=this.canvas.width,m.height=this.canvas.height,this.tempCanvasElement=m}return this.tempCanvasElement}rotate(m){const y=this.getTempCanvasElement(),w=y.getContext("2d"),E=m*Se.DEGREE_TO_RADIANS,P=this.canvas.width,D=this.canvas.height,V=Math.ceil(Math.abs(Math.cos(E))*P+Math.abs(Math.sin(E))*D),Z=Math.ceil(Math.abs(Math.sin(E))*P+Math.abs(Math.cos(E))*D);return y.width=V,y.height=Z,w.translate(V/2,Z/2),w.rotate(E),w.drawImage(this.canvas,P/-2,D/-2),this.buffer=Se.makeBufferFromCanvasImageData(y),this}invert(){return new xe(this)}}Se.DEGREE_TO_RADIANS=Math.PI/180;class ye{constructor(m,y,w){this.deviceId=m,this.label=y,this.kind="videoinput",this.groupId=w||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ee=(globalThis||Vs||self||window||void 0)&&(globalThis||Vs||self||window||void 0).__awaiter||function(ke,m,y,w){function E(P){return P instanceof y?P:new y(function(D){D(P)})}return new(y||(y=Promise))(function(P,D){function V(be){try{oe(w.next(be))}catch(Te){D(Te)}}function Z(be){try{oe(w.throw(be))}catch(Te){D(Te)}}function oe(be){be.done?P(be.value):E(be.value).then(V,Z)}oe((w=w.apply(ke,m||[])).next())})};class he{constructor(m,y=500,w){this.reader=m,this.timeBetweenScansMillis=y,this._hints=w,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(m){this._timeBetweenDecodingAttempts=m<0?0:m}set hints(m){this._hints=m||null}get hints(){return this._hints}listVideoInputDevices(){return ee(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const m=yield navigator.mediaDevices.enumerateDevices(),y=[];for(const w of m){const E=w.kind==="video"?"videoinput":w.kind;if(E!=="videoinput")continue;const P=w.deviceId||w.id,D=w.label||`Video device ${y.length+1}`,V=w.groupId,Z={deviceId:P,label:D,kind:E,groupId:V};y.push(Z)}return y})}getVideoInputDevices(){return ee(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(y=>new ye(y.deviceId,y.label))})}findDeviceById(m){return ee(this,void 0,void 0,function*(){const y=yield this.listVideoInputDevices();return y?y.find(w=>w.deviceId===m):null})}decodeFromInputVideoDevice(m,y){return ee(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(m,y)})}decodeOnceFromVideoDevice(m,y){return ee(this,void 0,void 0,function*(){this.reset();let w;m?w={deviceId:{exact:m}}:w={facingMode:"environment"};const E={video:w};return yield this.decodeOnceFromConstraints(E,y)})}decodeOnceFromConstraints(m,y){return ee(this,void 0,void 0,function*(){const w=yield navigator.mediaDevices.getUserMedia(m);return yield this.decodeOnceFromStream(w,y)})}decodeOnceFromStream(m,y){return ee(this,void 0,void 0,function*(){this.reset();const w=yield this.attachStreamToVideo(m,y);return yield this.decodeOnce(w)})}decodeFromInputVideoDeviceContinuously(m,y,w){return ee(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(m,y,w)})}decodeFromVideoDevice(m,y,w){return ee(this,void 0,void 0,function*(){let E;m?E={deviceId:{exact:m}}:E={facingMode:"environment"};const P={video:E};return yield this.decodeFromConstraints(P,y,w)})}decodeFromConstraints(m,y,w){return ee(this,void 0,void 0,function*(){const E=yield navigator.mediaDevices.getUserMedia(m);return yield this.decodeFromStream(E,y,w)})}decodeFromStream(m,y,w){return ee(this,void 0,void 0,function*(){this.reset();const E=yield this.attachStreamToVideo(m,y);return yield this.decodeContinuously(E,w)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(m,y){return ee(this,void 0,void 0,function*(){const w=this.prepareVideoElement(y);return this.addVideoSource(w,m),this.videoElement=w,this.stream=m,yield this.playVideoOnLoadAsync(w),w})}playVideoOnLoadAsync(m){return new Promise((y,w)=>this.playVideoOnLoad(m,()=>y()))}playVideoOnLoad(m,y){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(m),m.addEventListener("ended",this.videoEndedListener),m.addEventListener("canplay",this.videoCanPlayListener),m.addEventListener("playing",y),this.tryPlayVideo(m)}isVideoPlaying(m){return m.currentTime>0&&!m.paused&&!m.ended&&m.readyState>2}tryPlayVideo(m){return ee(this,void 0,void 0,function*(){if(this.isVideoPlaying(m)){console.warn("Trying to play video that is already playing.");return}try{yield m.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(m,y){const w=document.getElementById(m);if(!w)throw new f(`element with id '${m}' not found`);if(w.nodeName.toLowerCase()!==y.toLowerCase())throw new f(`element with id '${m}' must be an ${y} element`);return w}decodeFromImage(m,y){if(!m&&!y)throw new f("either imageElement with a src set or an url must be provided");return y&&!m?this.decodeFromImageUrl(y):this.decodeFromImageElement(m)}decodeFromVideo(m,y){if(!m&&!y)throw new f("Either an element with a src set or an URL must be provided");return y&&!m?this.decodeFromVideoUrl(y):this.decodeFromVideoElement(m)}decodeFromVideoContinuously(m,y,w){if(m===void 0&&y===void 0)throw new f("Either an element with a src set or an URL must be provided");return y&&!m?this.decodeFromVideoUrlContinuously(y,w):this.decodeFromVideoElementContinuously(m,w)}decodeFromImageElement(m){if(!m)throw new f("An image element must be provided.");this.reset();const y=this.prepareImageElement(m);this.imageElement=y;let w;return this.isImageLoaded(y)?w=this.decodeOnce(y,!1,!0):w=this._decodeOnLoadImage(y),w}decodeFromVideoElement(m){const y=this._decodeFromVideoElementSetup(m);return this._decodeOnLoadVideo(y)}decodeFromVideoElementContinuously(m,y){const w=this._decodeFromVideoElementSetup(m);return this._decodeOnLoadVideoContinuously(w,y)}_decodeFromVideoElementSetup(m){if(!m)throw new f("A video element must be provided.");this.reset();const y=this.prepareVideoElement(m);return this.videoElement=y,y}decodeFromImageUrl(m){if(!m)throw new f("An URL must be provided.");this.reset();const y=this.prepareImageElement();this.imageElement=y;const w=this._decodeOnLoadImage(y);return y.src=m,w}decodeFromVideoUrl(m){if(!m)throw new f("An URL must be provided.");this.reset();const y=this.prepareVideoElement(),w=this.decodeFromVideoElement(y);return y.src=m,w}decodeFromVideoUrlContinuously(m,y){if(!m)throw new f("An URL must be provided.");this.reset();const w=this.prepareVideoElement(),E=this.decodeFromVideoElementContinuously(w,y);return w.src=m,E}_decodeOnLoadImage(m){return new Promise((y,w)=>{this.imageLoadedListener=()=>this.decodeOnce(m,!1,!0).then(y,w),m.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(m){return ee(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(m),yield this.decodeOnce(m)})}_decodeOnLoadVideoContinuously(m,y){return ee(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(m),this.decodeContinuously(m,y)})}isImageLoaded(m){return!(!m.complete||m.naturalWidth===0)}prepareImageElement(m){let y;return typeof m>"u"&&(y=document.createElement("img"),y.width=200,y.height=200),typeof m=="string"&&(y=this.getMediaElement(m,"img")),m instanceof HTMLImageElement&&(y=m),y}prepareVideoElement(m){let y;return!m&&typeof document<"u"&&(y=document.createElement("video"),y.width=200,y.height=200),typeof m=="string"&&(y=this.getMediaElement(m,"video")),m instanceof HTMLVideoElement&&(y=m),y.setAttribute("autoplay","true"),y.setAttribute("muted","true"),y.setAttribute("playsinline","true"),y}decodeOnce(m,y=!0,w=!0){this._stopAsyncDecode=!1;const E=(P,D)=>{if(this._stopAsyncDecode){D(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const V=this.decode(m);P(V)}catch(V){const Z=y&&V instanceof X,be=(V instanceof p||V instanceof L)&&w;if(Z||be)return setTimeout(E,this._timeBetweenDecodingAttempts,P,D);D(V)}};return new Promise((P,D)=>E(P,D))}decodeContinuously(m,y){this._stopContinuousDecode=!1;const w=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const E=this.decode(m);y(E,null),setTimeout(w,this.timeBetweenScansMillis)}catch(E){y(null,E);const P=E instanceof p||E instanceof L,D=E instanceof X;(P||D)&&setTimeout(w,this._timeBetweenDecodingAttempts)}};w()}decode(m){const y=this.createBinaryBitmap(m);return this.decodeBitmap(y)}_isHTMLVideoElement(m){return m.videoWidth!==0}drawFrameOnCanvas(m,y,w){y||(y={sx:0,sy:0,sWidth:m.videoWidth,sHeight:m.videoHeight,dx:0,dy:0,dWidth:m.videoWidth,dHeight:m.videoHeight}),w||(w=this.captureCanvasContext),w.drawImage(m,y.sx,y.sy,y.sWidth,y.sHeight,y.dx,y.dy,y.dWidth,y.dHeight)}drawImageOnCanvas(m,y,w=this.captureCanvasContext){y||(y={sx:0,sy:0,sWidth:m.naturalWidth,sHeight:m.naturalHeight,dx:0,dy:0,dWidth:m.naturalWidth,dHeight:m.naturalHeight}),w||(w=this.captureCanvasContext),w.drawImage(m,y.sx,y.sy,y.sWidth,y.sHeight,y.dx,y.dy,y.dWidth,y.dHeight)}createBinaryBitmap(m){this.getCaptureCanvasContext(m),this._isHTMLVideoElement(m)?this.drawFrameOnCanvas(m):this.drawImageOnCanvas(m);const y=this.getCaptureCanvas(m),w=new Se(y),E=new de(w);return new g(E)}getCaptureCanvasContext(m){if(!this.captureCanvasContext){const w=this.getCaptureCanvas(m).getContext("2d");this.captureCanvasContext=w}return this.captureCanvasContext}getCaptureCanvas(m){if(!this.captureCanvas){const y=this.createCaptureCanvas(m);this.captureCanvas=y}return this.captureCanvas}decodeBitmap(m){return this.reader.decode(m,this._hints)}createCaptureCanvas(m){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const y=document.createElement("canvas");let w,E;return typeof m<"u"&&(m instanceof HTMLVideoElement?(w=m.videoWidth,E=m.videoHeight):m instanceof HTMLImageElement&&(w=m.naturalWidth||m.width,E=m.naturalHeight||m.height)),y.style.width=w+"px",y.style.height=E+"px",y.width=w,y.height=E,y}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(m=>m.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(m,y){try{m.srcObject=y}catch{m.src=URL.createObjectURL(y)}}cleanVideoSource(m){try{m.srcObject=null}catch{m.src=""}this.videoElement.removeAttribute("src")}}class se{constructor(m,y,w=y==null?0:8*y.length,E,P,D=b.currentTimeMillis()){this.text=m,this.rawBytes=y,this.numBits=w,this.resultPoints=E,this.format=P,this.timestamp=D,this.text=m,this.rawBytes=y,w==null?this.numBits=y==null?0:8*y.length:this.numBits=w,this.resultPoints=E,this.format=P,this.resultMetadata=null,D==null?this.timestamp=b.currentTimeMillis():this.timestamp=D}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(m,y){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(m,y)}putAllMetadata(m){m!==null&&(this.resultMetadata===null?this.resultMetadata=m:this.resultMetadata=new Map(m))}addResultPoints(m){const y=this.resultPoints;if(y===null)this.resultPoints=m;else if(m!==null&&m.length>0){const w=new Array(y.length+m.length);b.arraycopy(y,0,w,0,y.length),b.arraycopy(m,0,w,y.length,m.length),this.resultPoints=w}}getTimestamp(){return this.timestamp}toString(){return this.text}}var te;(function(ke){ke[ke.AZTEC=0]="AZTEC",ke[ke.CODABAR=1]="CODABAR",ke[ke.CODE_39=2]="CODE_39",ke[ke.CODE_93=3]="CODE_93",ke[ke.CODE_128=4]="CODE_128",ke[ke.DATA_MATRIX=5]="DATA_MATRIX",ke[ke.EAN_8=6]="EAN_8",ke[ke.EAN_13=7]="EAN_13",ke[ke.ITF=8]="ITF",ke[ke.MAXICODE=9]="MAXICODE",ke[ke.PDF_417=10]="PDF_417",ke[ke.QR_CODE=11]="QR_CODE",ke[ke.RSS_14=12]="RSS_14",ke[ke.RSS_EXPANDED=13]="RSS_EXPANDED",ke[ke.UPC_A=14]="UPC_A",ke[ke.UPC_E=15]="UPC_E",ke[ke.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(te||(te={}));var ge=te,ue;(function(ke){ke[ke.OTHER=0]="OTHER",ke[ke.ORIENTATION=1]="ORIENTATION",ke[ke.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",ke[ke.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",ke[ke.ISSUE_NUMBER=4]="ISSUE_NUMBER",ke[ke.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",ke[ke.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",ke[ke.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",ke[ke.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",ke[ke.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",ke[ke.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ue||(ue={}));var Ce=ue;class Ne{constructor(m,y,w,E,P=-1,D=-1){this.rawBytes=m,this.text=y,this.byteSegments=w,this.ecLevel=E,this.structuredAppendSequenceNumber=P,this.structuredAppendParity=D,this.numBits=m==null?0:8*m.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(m){this.numBits=m}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(m){this.errorsCorrected=m}getErasures(){return this.erasures}setErasures(m){this.erasures=m}getOther(){return this.other}setOther(m){this.other=m}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ee{exp(m){return this.expTable[m]}log(m){if(m===0)throw new h;return this.logTable[m]}static addOrSubtract(m,y){return m^y}}class Ge{constructor(m,y){if(y.length===0)throw new h;this.field=m;const w=y.length;if(w>1&&y[0]===0){let E=1;for(;E<w&&y[E]===0;)E++;E===w?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(w-E),b.arraycopy(y,E,this.coefficients,0,this.coefficients.length))}else this.coefficients=y}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(m){return this.coefficients[this.coefficients.length-1-m]}evaluateAt(m){if(m===0)return this.getCoefficient(0);const y=this.coefficients;let w;if(m===1){w=0;for(let D=0,V=y.length;D!==V;D++){const Z=y[D];w=Ee.addOrSubtract(w,Z)}return w}w=y[0];const E=y.length,P=this.field;for(let D=1;D<E;D++)w=Ee.addOrSubtract(P.multiply(m,w),y[D]);return w}addOrSubtract(m){if(!this.field.equals(m.field))throw new h("GenericGFPolys do not have same GenericGF field");if(this.isZero())return m;if(m.isZero())return this;let y=this.coefficients,w=m.coefficients;if(y.length>w.length){const D=y;y=w,w=D}let E=new Int32Array(w.length);const P=w.length-y.length;b.arraycopy(w,0,E,0,P);for(let D=P;D<w.length;D++)E[D]=Ee.addOrSubtract(y[D-P],w[D]);return new Ge(this.field,E)}multiply(m){if(!this.field.equals(m.field))throw new h("GenericGFPolys do not have same GenericGF field");if(this.isZero()||m.isZero())return this.field.getZero();const y=this.coefficients,w=y.length,E=m.coefficients,P=E.length,D=new Int32Array(w+P-1),V=this.field;for(let Z=0;Z<w;Z++){const oe=y[Z];for(let be=0;be<P;be++)D[Z+be]=Ee.addOrSubtract(D[Z+be],V.multiply(oe,E[be]))}return new Ge(V,D)}multiplyScalar(m){if(m===0)return this.field.getZero();if(m===1)return this;const y=this.coefficients.length,w=this.field,E=new Int32Array(y),P=this.coefficients;for(let D=0;D<y;D++)E[D]=w.multiply(P[D],m);return new Ge(w,E)}multiplyByMonomial(m,y){if(m<0)throw new h;if(y===0)return this.field.getZero();const w=this.coefficients,E=w.length,P=new Int32Array(E+m),D=this.field;for(let V=0;V<E;V++)P[V]=D.multiply(w[V],y);return new Ge(D,P)}divide(m){if(!this.field.equals(m.field))throw new h("GenericGFPolys do not have same GenericGF field");if(m.isZero())throw new h("Divide by 0");const y=this.field;let w=y.getZero(),E=this;const P=m.getCoefficient(m.getDegree()),D=y.inverse(P);for(;E.getDegree()>=m.getDegree()&&!E.isZero();){const V=E.getDegree()-m.getDegree(),Z=y.multiply(E.getCoefficient(E.getDegree()),D),oe=m.multiplyByMonomial(V,Z),be=y.buildMonomial(V,Z);w=w.addOrSubtract(be),E=E.addOrSubtract(oe)}return[w,E]}toString(){let m="";for(let y=this.getDegree();y>=0;y--){let w=this.getCoefficient(y);if(w!==0){if(w<0?(m+=" - ",w=-w):m.length>0&&(m+=" + "),y===0||w!==1){const E=this.field.log(w);E===0?m+="1":E===1?m+="a":(m+="a^",m+=E)}y!==0&&(y===1?m+="x":(m+="x^",m+=y))}}return m}}class Be extends u{}Be.kind="ArithmeticException";class st extends Ee{constructor(m,y,w){super(),this.primitive=m,this.size=y,this.generatorBase=w;const E=new Int32Array(y);let P=1;for(let V=0;V<y;V++)E[V]=P,P*=2,P>=y&&(P^=m,P&=y-1);this.expTable=E;const D=new Int32Array(y);for(let V=0;V<y-1;V++)D[E[V]]=V;this.logTable=D,this.zero=new Ge(this,Int32Array.from([0])),this.one=new Ge(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(m,y){if(m<0)throw new h;if(y===0)return this.zero;const w=new Int32Array(m+1);return w[0]=y,new Ge(this,w)}inverse(m){if(m===0)throw new Be;return this.expTable[this.size-this.logTable[m]-1]}multiply(m,y){return m===0||y===0?0:this.expTable[(this.logTable[m]+this.logTable[y])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(m){return m===this}}st.AZTEC_DATA_12=new st(4201,4096,1),st.AZTEC_DATA_10=new st(1033,1024,1),st.AZTEC_DATA_6=new st(67,64,1),st.AZTEC_PARAM=new st(19,16,1),st.QR_CODE_FIELD_256=new st(285,256,0),st.DATA_MATRIX_FIELD_256=new st(301,256,1),st.AZTEC_DATA_8=st.DATA_MATRIX_FIELD_256,st.MAXICODE_FIELD_64=st.AZTEC_DATA_6;class lt extends u{}lt.kind="ReedSolomonException";class Me extends u{}Me.kind="IllegalStateException";class wt{constructor(m){this.field=m}decode(m,y){const w=this.field,E=new Ge(w,m),P=new Int32Array(y);let D=!0;for(let et=0;et<y;et++){const dt=E.evaluateAt(w.exp(et+w.getGeneratorBase()));P[P.length-1-et]=dt,dt!==0&&(D=!1)}if(D)return;const V=new Ge(w,P),Z=this.runEuclideanAlgorithm(w.buildMonomial(y,1),V,y),oe=Z[0],be=Z[1],Te=this.findErrorLocations(oe),De=this.findErrorMagnitudes(be,Te);for(let et=0;et<Te.length;et++){const dt=m.length-1-w.log(Te[et]);if(dt<0)throw new lt("Bad error location");m[dt]=st.addOrSubtract(m[dt],De[et])}}runEuclideanAlgorithm(m,y,w){if(m.getDegree()<y.getDegree()){const et=m;m=y,y=et}const E=this.field;let P=m,D=y,V=E.getZero(),Z=E.getOne();for(;D.getDegree()>=(w/2|0);){let et=P,dt=V;if(P=D,V=Z,P.isZero())throw new lt("r_{i-1} was zero");D=et;let pt=E.getZero();const Nt=P.getCoefficient(P.getDegree()),Rt=E.inverse(Nt);for(;D.getDegree()>=P.getDegree()&&!D.isZero();){const Gt=D.getDegree()-P.getDegree(),or=E.multiply(D.getCoefficient(D.getDegree()),Rt);pt=pt.addOrSubtract(E.buildMonomial(Gt,or)),D=D.addOrSubtract(P.multiplyByMonomial(Gt,or))}if(Z=pt.multiply(V).addOrSubtract(dt),D.getDegree()>=P.getDegree())throw new Me("Division algorithm failed to reduce polynomial?")}const oe=Z.getCoefficient(0);if(oe===0)throw new lt("sigmaTilde(0) was zero");const be=E.inverse(oe),Te=Z.multiplyScalar(be),De=D.multiplyScalar(be);return[Te,De]}findErrorLocations(m){const y=m.getDegree();if(y===1)return Int32Array.from([m.getCoefficient(1)]);const w=new Int32Array(y);let E=0;const P=this.field;for(let D=1;D<P.getSize()&&E<y;D++)m.evaluateAt(D)===0&&(w[E]=P.inverse(D),E++);if(E!==y)throw new lt("Error locator degree does not match number of roots");return w}findErrorMagnitudes(m,y){const w=y.length,E=new Int32Array(w),P=this.field;for(let D=0;D<w;D++){const V=P.inverse(y[D]);let Z=1;for(let oe=0;oe<w;oe++)if(D!==oe){const be=P.multiply(y[oe],V),Te=be&1?be&-2:be|1;Z=P.multiply(Z,Te)}E[D]=P.multiply(m.evaluateAt(V),P.inverse(Z)),P.getGeneratorBase()!==0&&(E[D]=P.multiply(E[D],V))}return E}}var _t;(function(ke){ke[ke.UPPER=0]="UPPER",ke[ke.LOWER=1]="LOWER",ke[ke.MIXED=2]="MIXED",ke[ke.DIGIT=3]="DIGIT",ke[ke.PUNCT=4]="PUNCT",ke[ke.BINARY=5]="BINARY"})(_t||(_t={}));class ar{decode(m){this.ddata=m;let y=m.getBits(),w=this.extractBits(y),E=this.correctBits(w),P=ar.convertBoolArrayToByteArray(E),D=ar.getEncodedData(E),V=new Ne(P,D,null,null);return V.setNumBits(E.length),V}static highLevelDecode(m){return this.getEncodedData(m)}static getEncodedData(m){let y=m.length,w=_t.UPPER,E=_t.UPPER,P="",D=0;for(;D<y;)if(E===_t.BINARY){if(y-D<5)break;let V=ar.readCode(m,D,5);if(D+=5,V===0){if(y-D<11)break;V=ar.readCode(m,D,11)+31,D+=11}for(let Z=0;Z<V;Z++){if(y-D<8){D=y;break}const oe=ar.readCode(m,D,8);P+=G.castAsNonUtf8Char(oe),D+=8}E=w}else{let V=E===_t.DIGIT?4:5;if(y-D<V)break;let Z=ar.readCode(m,D,V);D+=V;let oe=ar.getCharacter(E,Z);oe.startsWith("CTRL_")?(w=E,E=ar.getTable(oe.charAt(5)),oe.charAt(6)==="L"&&(w=E)):(P+=oe,E=w)}return P}static getTable(m){switch(m){case"L":return _t.LOWER;case"P":return _t.PUNCT;case"M":return _t.MIXED;case"D":return _t.DIGIT;case"B":return _t.BINARY;case"U":default:return _t.UPPER}}static getCharacter(m,y){switch(m){case _t.UPPER:return ar.UPPER_TABLE[y];case _t.LOWER:return ar.LOWER_TABLE[y];case _t.MIXED:return ar.MIXED_TABLE[y];case _t.PUNCT:return ar.PUNCT_TABLE[y];case _t.DIGIT:return ar.DIGIT_TABLE[y];default:throw new Me("Bad table")}}correctBits(m){let y,w;this.ddata.getNbLayers()<=2?(w=6,y=st.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(w=8,y=st.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(w=10,y=st.AZTEC_DATA_10):(w=12,y=st.AZTEC_DATA_12);let E=this.ddata.getNbDatablocks(),P=m.length/w;if(P<E)throw new L;let D=m.length%w,V=new Int32Array(P);for(let De=0;De<P;De++,D+=w)V[De]=ar.readCode(m,D,w);try{new wt(y).decode(V,P-E)}catch(De){throw new L(De)}let Z=(1<<w)-1,oe=0;for(let De=0;De<E;De++){let et=V[De];if(et===0||et===Z)throw new L;(et===1||et===Z-1)&&oe++}let be=new Array(E*w-oe),Te=0;for(let De=0;De<E;De++){let et=V[De];if(et===1||et===Z-1)be.fill(et>1,Te,Te+w-1),Te+=w-1;else for(let dt=w-1;dt>=0;--dt)be[Te++]=(et&1<<dt)!==0}return be}extractBits(m){let y=this.ddata.isCompact(),w=this.ddata.getNbLayers(),E=(y?11:14)+w*4,P=new Int32Array(E),D=new Array(this.totalBitsInLayer(w,y));if(y)for(let V=0;V<P.length;V++)P[V]=V;else{let V=E+1+2*T.truncDivision(T.truncDivision(E,2)-1,15),Z=E/2,oe=T.truncDivision(V,2);for(let be=0;be<Z;be++){let Te=be+T.truncDivision(be,15);P[Z-be-1]=oe-Te-1,P[Z+be]=oe+Te+1}}for(let V=0,Z=0;V<w;V++){let oe=(w-V)*4+(y?9:12),be=V*2,Te=E-1-be;for(let De=0;De<oe;De++){let et=De*2;for(let dt=0;dt<2;dt++)D[Z+et+dt]=m.get(P[be+dt],P[be+De]),D[Z+2*oe+et+dt]=m.get(P[be+De],P[Te-dt]),D[Z+4*oe+et+dt]=m.get(P[Te-dt],P[Te-De]),D[Z+6*oe+et+dt]=m.get(P[Te-De],P[be+dt])}Z+=oe*8}return D}static readCode(m,y,w){let E=0;for(let P=y;P<y+w;P++)E<<=1,m[P]&&(E|=1);return E}static readByte(m,y){let w=m.length-y;return w>=8?ar.readCode(m,y,8):ar.readCode(m,y,w)<<8-w}static convertBoolArrayToByteArray(m){let y=new Uint8Array((m.length+7)/8);for(let w=0;w<y.length;w++)y[w]=ar.readByte(m,8*w);return y}totalBitsInLayer(m,y){return((y?88:112)+16*m)*m}}ar.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ar.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ar.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ar.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ar.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Tt{constructor(){}static round(m){return m===NaN?0:m<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:m>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:m+(m<0?-.5:.5)|0}static distance(m,y,w,E){const P=m-w,D=y-E;return Math.sqrt(P*P+D*D)}static sum(m){let y=0;for(let w=0,E=m.length;w!==E;w++){const P=m[w];y+=P}return y}}class sn{static floatToIntBits(m){return m}}sn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ct{constructor(m,y){this.x=m,this.y=y}getX(){return this.x}getY(){return this.y}equals(m){if(m instanceof ct){const y=m;return this.x===y.x&&this.y===y.y}return!1}hashCode(){return 31*sn.floatToIntBits(this.x)+sn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(m){const y=this.distance(m[0],m[1]),w=this.distance(m[1],m[2]),E=this.distance(m[0],m[2]);let P,D,V;if(w>=y&&w>=E?(D=m[0],P=m[1],V=m[2]):E>=w&&E>=y?(D=m[1],P=m[0],V=m[2]):(D=m[2],P=m[0],V=m[1]),this.crossProductZ(P,D,V)<0){const Z=P;P=V,V=Z}m[0]=P,m[1]=D,m[2]=V}static distance(m,y){return Tt.distance(m.x,m.y,y.x,y.y)}static crossProductZ(m,y,w){const E=y.x,P=y.y;return(w.x-E)*(m.y-P)-(w.y-P)*(m.x-E)}}class Ar{constructor(m,y){this.bits=m,this.points=y}getBits(){return this.bits}getPoints(){return this.points}}class jr extends Ar{constructor(m,y,w,E,P){super(m,y),this.compact=w,this.nbDatablocks=E,this.nbLayers=P}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class tn{constructor(m,y,w,E){this.image=m,this.height=m.getHeight(),this.width=m.getWidth(),y==null&&(y=tn.INIT_SIZE),w==null&&(w=m.getWidth()/2|0),E==null&&(E=m.getHeight()/2|0);const P=y/2|0;if(this.leftInit=w-P,this.rightInit=w+P,this.upInit=E-P,this.downInit=E+P,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let m=this.leftInit,y=this.rightInit,w=this.upInit,E=this.downInit,P=!1,D=!0,V=!1,Z=!1,oe=!1,be=!1,Te=!1;const De=this.width,et=this.height;for(;D;){D=!1;let dt=!0;for(;(dt||!Z)&&y<De;)dt=this.containsBlackPoint(w,E,y,!1),dt?(y++,D=!0,Z=!0):Z||y++;if(y>=De){P=!0;break}let pt=!0;for(;(pt||!oe)&&E<et;)pt=this.containsBlackPoint(m,y,E,!0),pt?(E++,D=!0,oe=!0):oe||E++;if(E>=et){P=!0;break}let Nt=!0;for(;(Nt||!be)&&m>=0;)Nt=this.containsBlackPoint(w,E,m,!1),Nt?(m--,D=!0,be=!0):be||m--;if(m<0){P=!0;break}let Rt=!0;for(;(Rt||!Te)&&w>=0;)Rt=this.containsBlackPoint(m,y,w,!0),Rt?(w--,D=!0,Te=!0):Te||w--;if(w<0){P=!0;break}D&&(V=!0)}if(!P&&V){const dt=y-m;let pt=null;for(let or=1;pt===null&&or<dt;or++)pt=this.getBlackPointOnSegment(m,E-or,m+or,E);if(pt==null)throw new X;let Nt=null;for(let or=1;Nt===null&&or<dt;or++)Nt=this.getBlackPointOnSegment(m,w+or,m+or,w);if(Nt==null)throw new X;let Rt=null;for(let or=1;Rt===null&&or<dt;or++)Rt=this.getBlackPointOnSegment(y,w+or,y-or,w);if(Rt==null)throw new X;let Gt=null;for(let or=1;Gt===null&&or<dt;or++)Gt=this.getBlackPointOnSegment(y,E-or,y-or,E);if(Gt==null)throw new X;return this.centerEdges(Gt,pt,Rt,Nt)}else throw new X}getBlackPointOnSegment(m,y,w,E){const P=Tt.round(Tt.distance(m,y,w,E)),D=(w-m)/P,V=(E-y)/P,Z=this.image;for(let oe=0;oe<P;oe++){const be=Tt.round(m+oe*D),Te=Tt.round(y+oe*V);if(Z.get(be,Te))return new ct(be,Te)}return null}centerEdges(m,y,w,E){const P=m.getX(),D=m.getY(),V=y.getX(),Z=y.getY(),oe=w.getX(),be=w.getY(),Te=E.getX(),De=E.getY(),et=tn.CORR;return P<this.width/2?[new ct(Te-et,De+et),new ct(V+et,Z+et),new ct(oe-et,be-et),new ct(P+et,D-et)]:[new ct(Te+et,De+et),new ct(V+et,Z-et),new ct(oe-et,be+et),new ct(P-et,D-et)]}containsBlackPoint(m,y,w,E){const P=this.image;if(E){for(let D=m;D<=y;D++)if(P.get(D,w))return!0}else for(let D=m;D<=y;D++)if(P.get(w,D))return!0;return!1}}tn.INIT_SIZE=10,tn.CORR=1;class ha{static checkAndNudgePoints(m,y){const w=m.getWidth(),E=m.getHeight();let P=!0;for(let D=0;D<y.length&&P;D+=2){const V=Math.floor(y[D]),Z=Math.floor(y[D+1]);if(V<-1||V>w||Z<-1||Z>E)throw new X;P=!1,V===-1?(y[D]=0,P=!0):V===w&&(y[D]=w-1,P=!0),Z===-1?(y[D+1]=0,P=!0):Z===E&&(y[D+1]=E-1,P=!0)}P=!0;for(let D=y.length-2;D>=0&&P;D-=2){const V=Math.floor(y[D]),Z=Math.floor(y[D+1]);if(V<-1||V>w||Z<-1||Z>E)throw new X;P=!1,V===-1?(y[D]=0,P=!0):V===w&&(y[D]=w-1,P=!0),Z===-1?(y[D+1]=0,P=!0):Z===E&&(y[D+1]=E-1,P=!0)}}}class mn{constructor(m,y,w,E,P,D,V,Z,oe){this.a11=m,this.a21=y,this.a31=w,this.a12=E,this.a22=P,this.a32=D,this.a13=V,this.a23=Z,this.a33=oe}static quadrilateralToQuadrilateral(m,y,w,E,P,D,V,Z,oe,be,Te,De,et,dt,pt,Nt){const Rt=mn.quadrilateralToSquare(m,y,w,E,P,D,V,Z);return mn.squareToQuadrilateral(oe,be,Te,De,et,dt,pt,Nt).times(Rt)}transformPoints(m){const y=m.length,w=this.a11,E=this.a12,P=this.a13,D=this.a21,V=this.a22,Z=this.a23,oe=this.a31,be=this.a32,Te=this.a33;for(let De=0;De<y;De+=2){const et=m[De],dt=m[De+1],pt=P*et+Z*dt+Te;m[De]=(w*et+D*dt+oe)/pt,m[De+1]=(E*et+V*dt+be)/pt}}transformPointsWithValues(m,y){const w=this.a11,E=this.a12,P=this.a13,D=this.a21,V=this.a22,Z=this.a23,oe=this.a31,be=this.a32,Te=this.a33,De=m.length;for(let et=0;et<De;et++){const dt=m[et],pt=y[et],Nt=P*dt+Z*pt+Te;m[et]=(w*dt+D*pt+oe)/Nt,y[et]=(E*dt+V*pt+be)/Nt}}static squareToQuadrilateral(m,y,w,E,P,D,V,Z){const oe=m-w+P-V,be=y-E+D-Z;if(oe===0&&be===0)return new mn(w-m,P-w,m,E-y,D-E,y,0,0,1);{const Te=w-P,De=V-P,et=E-D,dt=Z-D,pt=Te*dt-De*et,Nt=(oe*dt-De*be)/pt,Rt=(Te*be-oe*et)/pt;return new mn(w-m+Nt*w,V-m+Rt*V,m,E-y+Nt*E,Z-y+Rt*Z,y,Nt,Rt,1)}}static quadrilateralToSquare(m,y,w,E,P,D,V,Z){return mn.squareToQuadrilateral(m,y,w,E,P,D,V,Z).buildAdjoint()}buildAdjoint(){return new mn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(m){return new mn(this.a11*m.a11+this.a21*m.a12+this.a31*m.a13,this.a11*m.a21+this.a21*m.a22+this.a31*m.a23,this.a11*m.a31+this.a21*m.a32+this.a31*m.a33,this.a12*m.a11+this.a22*m.a12+this.a32*m.a13,this.a12*m.a21+this.a22*m.a22+this.a32*m.a23,this.a12*m.a31+this.a22*m.a32+this.a32*m.a33,this.a13*m.a11+this.a23*m.a12+this.a33*m.a13,this.a13*m.a21+this.a23*m.a22+this.a33*m.a23,this.a13*m.a31+this.a23*m.a32+this.a33*m.a33)}}class xa extends ha{sampleGrid(m,y,w,E,P,D,V,Z,oe,be,Te,De,et,dt,pt,Nt,Rt,Gt,or){const ir=mn.quadrilateralToQuadrilateral(E,P,D,V,Z,oe,be,Te,De,et,dt,pt,Nt,Rt,Gt,or);return this.sampleGridWithTransform(m,y,w,ir)}sampleGridWithTransform(m,y,w,E){if(y<=0||w<=0)throw new X;const P=new ae(y,w),D=new Float32Array(2*y);for(let V=0;V<w;V++){const Z=D.length,oe=V+.5;for(let be=0;be<Z;be+=2)D[be]=be/2+.5,D[be+1]=oe;E.transformPoints(D),ha.checkAndNudgePoints(m,D);try{for(let be=0;be<Z;be+=2)m.get(Math.floor(D[be]),Math.floor(D[be+1]))&&P.set(be/2,V)}catch{throw new X}}return P}}class Un{static setGridSampler(m){Un.gridSampler=m}static getInstance(){return Un.gridSampler}}Un.gridSampler=new xa;class nn{constructor(m,y){this.x=m,this.y=y}toResultPoint(){return new ct(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ca{constructor(m){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=m}detect(){return this.detectMirror(!1)}detectMirror(m){let y=this.getMatrixCenter(),w=this.getBullsEyeCorners(y);if(m){let D=w[0];w[0]=w[2],w[2]=D}this.extractParameters(w);let E=this.sampleGrid(this.image,w[this.shift%4],w[(this.shift+1)%4],w[(this.shift+2)%4],w[(this.shift+3)%4]),P=this.getMatrixCornerPoints(w);return new jr(E,P,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(m){if(!this.isValidPoint(m[0])||!this.isValidPoint(m[1])||!this.isValidPoint(m[2])||!this.isValidPoint(m[3]))throw new X;let y=2*this.nbCenterLayers,w=new Int32Array([this.sampleLine(m[0],m[1],y),this.sampleLine(m[1],m[2],y),this.sampleLine(m[2],m[3],y),this.sampleLine(m[3],m[0],y)]);this.shift=this.getRotation(w,y);let E=0;for(let D=0;D<4;D++){let V=w[(this.shift+D)%4];this.compact?(E<<=7,E+=V>>1&127):(E<<=10,E+=(V>>2&992)+(V>>1&31))}let P=this.getCorrectedParameterData(E,this.compact);this.compact?(this.nbLayers=(P>>6)+1,this.nbDataBlocks=(P&63)+1):(this.nbLayers=(P>>11)+1,this.nbDataBlocks=(P&2047)+1)}getRotation(m,y){let w=0;m.forEach((E,P,D)=>{let V=(E>>y-2<<1)+(E&1);w=(w<<3)+V}),w=((w&1)<<11)+(w>>1);for(let E=0;E<4;E++)if(T.bitCount(w^this.EXPECTED_CORNER_BITS[E])<=2)return E;throw new X}getCorrectedParameterData(m,y){let w,E;y?(w=7,E=2):(w=10,E=4);let P=w-E,D=new Int32Array(w);for(let Z=w-1;Z>=0;--Z)D[Z]=m&15,m>>=4;try{new wt(st.AZTEC_PARAM).decode(D,P)}catch{throw new X}let V=0;for(let Z=0;Z<E;Z++)V=(V<<4)+D[Z];return V}getBullsEyeCorners(m){let y=m,w=m,E=m,P=m,D=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Te=this.getFirstDifferent(y,D,1,-1),De=this.getFirstDifferent(w,D,1,1),et=this.getFirstDifferent(E,D,-1,1),dt=this.getFirstDifferent(P,D,-1,-1);if(this.nbCenterLayers>2){let pt=this.distancePoint(dt,Te)*this.nbCenterLayers/(this.distancePoint(P,y)*(this.nbCenterLayers+2));if(pt<.75||pt>1.25||!this.isWhiteOrBlackRectangle(Te,De,et,dt))break}y=Te,w=De,E=et,P=dt,D=!D}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let V=new ct(y.getX()+.5,y.getY()-.5),Z=new ct(w.getX()+.5,w.getY()+.5),oe=new ct(E.getX()-.5,E.getY()+.5),be=new ct(P.getX()-.5,P.getY()-.5);return this.expandSquare([V,Z,oe,be],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let m,y,w,E;try{let V=new tn(this.image).detect();m=V[0],y=V[1],w=V[2],E=V[3]}catch{let Z=this.image.getWidth()/2,oe=this.image.getHeight()/2;m=this.getFirstDifferent(new nn(Z+7,oe-7),!1,1,-1).toResultPoint(),y=this.getFirstDifferent(new nn(Z+7,oe+7),!1,1,1).toResultPoint(),w=this.getFirstDifferent(new nn(Z-7,oe+7),!1,-1,1).toResultPoint(),E=this.getFirstDifferent(new nn(Z-7,oe-7),!1,-1,-1).toResultPoint()}let P=Tt.round((m.getX()+E.getX()+y.getX()+w.getX())/4),D=Tt.round((m.getY()+E.getY()+y.getY()+w.getY())/4);try{let V=new tn(this.image,15,P,D).detect();m=V[0],y=V[1],w=V[2],E=V[3]}catch{m=this.getFirstDifferent(new nn(P+7,D-7),!1,1,-1).toResultPoint(),y=this.getFirstDifferent(new nn(P+7,D+7),!1,1,1).toResultPoint(),w=this.getFirstDifferent(new nn(P-7,D+7),!1,-1,1).toResultPoint(),E=this.getFirstDifferent(new nn(P-7,D-7),!1,-1,-1).toResultPoint()}return P=Tt.round((m.getX()+E.getX()+y.getX()+w.getX())/4),D=Tt.round((m.getY()+E.getY()+y.getY()+w.getY())/4),new nn(P,D)}getMatrixCornerPoints(m){return this.expandSquare(m,2*this.nbCenterLayers,this.getDimension())}sampleGrid(m,y,w,E,P){let D=Un.getInstance(),V=this.getDimension(),Z=V/2-this.nbCenterLayers,oe=V/2+this.nbCenterLayers;return D.sampleGrid(m,V,V,Z,Z,oe,Z,oe,oe,Z,oe,y.getX(),y.getY(),w.getX(),w.getY(),E.getX(),E.getY(),P.getX(),P.getY())}sampleLine(m,y,w){let E=0,P=this.distanceResultPoint(m,y),D=P/w,V=m.getX(),Z=m.getY(),oe=D*(y.getX()-m.getX())/P,be=D*(y.getY()-m.getY())/P;for(let Te=0;Te<w;Te++)this.image.get(Tt.round(V+Te*oe),Tt.round(Z+Te*be))&&(E|=1<<w-Te-1);return E}isWhiteOrBlackRectangle(m,y,w,E){let P=3;m=new nn(m.getX()-P,m.getY()+P),y=new nn(y.getX()-P,y.getY()-P),w=new nn(w.getX()+P,w.getY()-P),E=new nn(E.getX()+P,E.getY()+P);let D=this.getColor(E,m);if(D===0)return!1;let V=this.getColor(m,y);return V!==D||(V=this.getColor(y,w),V!==D)?!1:(V=this.getColor(w,E),V===D)}getColor(m,y){let w=this.distancePoint(m,y),E=(y.getX()-m.getX())/w,P=(y.getY()-m.getY())/w,D=0,V=m.getX(),Z=m.getY(),oe=this.image.get(m.getX(),m.getY()),be=Math.ceil(w);for(let De=0;De<be;De++)V+=E,Z+=P,this.image.get(Tt.round(V),Tt.round(Z))!==oe&&D++;let Te=D/w;return Te>.1&&Te<.9?0:Te<=.1===oe?1:-1}getFirstDifferent(m,y,w,E){let P=m.getX()+w,D=m.getY()+E;for(;this.isValid(P,D)&&this.image.get(P,D)===y;)P+=w,D+=E;for(P-=w,D-=E;this.isValid(P,D)&&this.image.get(P,D)===y;)P+=w;for(P-=w;this.isValid(P,D)&&this.image.get(P,D)===y;)D+=E;return D-=E,new nn(P,D)}expandSquare(m,y,w){let E=w/(2*y),P=m[0].getX()-m[2].getX(),D=m[0].getY()-m[2].getY(),V=(m[0].getX()+m[2].getX())/2,Z=(m[0].getY()+m[2].getY())/2,oe=new ct(V+E*P,Z+E*D),be=new ct(V-E*P,Z-E*D);P=m[1].getX()-m[3].getX(),D=m[1].getY()-m[3].getY(),V=(m[1].getX()+m[3].getX())/2,Z=(m[1].getY()+m[3].getY())/2;let Te=new ct(V+E*P,Z+E*D),De=new ct(V-E*P,Z-E*D);return[oe,Te,be,De]}isValid(m,y){return m>=0&&m<this.image.getWidth()&&y>0&&y<this.image.getHeight()}isValidPoint(m){let y=Tt.round(m.getX()),w=Tt.round(m.getY());return this.isValid(y,w)}distancePoint(m,y){return Tt.distance(m.getX(),m.getY(),y.getX(),y.getY())}distanceResultPoint(m,y){return Tt.distance(m.getX(),m.getY(),y.getX(),y.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class Cn{decode(m,y=null){let w=null,E=new ca(m.getBlackMatrix()),P=null,D=null;try{let be=E.detectMirror(!1);P=be.getPoints(),this.reportFoundResultPoints(y,P),D=new ar().decode(be)}catch(be){w=be}if(D==null)try{let be=E.detectMirror(!0);P=be.getPoints(),this.reportFoundResultPoints(y,P),D=new ar().decode(be)}catch(be){throw w??be}let V=new se(D.getText(),D.getRawBytes(),D.getNumBits(),P,ge.AZTEC,b.currentTimeMillis()),Z=D.getByteSegments();Z!=null&&V.putMetadata(Ce.BYTE_SEGMENTS,Z);let oe=D.getECLevel();return oe!=null&&V.putMetadata(Ce.ERROR_CORRECTION_LEVEL,oe),V}reportFoundResultPoints(m,y){if(m!=null){let w=m.get(B.NEED_RESULT_POINT_CALLBACK);w!=null&&y.forEach((E,P,D)=>{w.foundPossibleResultPoint(E)})}}reset(){}}class ms extends he{constructor(m=500){super(new Cn,m)}}class Zn{decode(m,y){try{return this.doDecode(m,y)}catch{if(y&&y.get(B.TRY_HARDER)===!0&&m.isRotateSupported()){const P=m.rotateCounterClockwise(),D=this.doDecode(P,y),V=D.getResultMetadata();let Z=270;V!==null&&V.get(Ce.ORIENTATION)===!0&&(Z=Z+V.get(Ce.ORIENTATION)%360),D.putMetadata(Ce.ORIENTATION,Z);const oe=D.getResultPoints();if(oe!==null){const be=P.getHeight();for(let Te=0;Te<oe.length;Te++)oe[Te]=new ct(be-oe[Te].getY()-1,oe[Te].getX())}return D}else throw new X}}reset(){}doDecode(m,y){const w=m.getWidth(),E=m.getHeight();let P=new O(w);const D=y&&y.get(B.TRY_HARDER)===!0,V=Math.max(1,E>>(D?8:5));let Z;D?Z=E:Z=15;const oe=Math.trunc(E/2);for(let be=0;be<Z;be++){const Te=Math.trunc((be+1)/2),De=(be&1)===0,et=oe+V*(De?Te:-Te);if(et<0||et>=E)break;try{P=m.getBlackRow(et,P)}catch{continue}for(let dt=0;dt<2;dt++){if(dt===1&&(P.reverse(),y&&y.get(B.NEED_RESULT_POINT_CALLBACK)===!0)){const pt=new Map;y.forEach((Nt,Rt)=>pt.set(Rt,Nt)),pt.delete(B.NEED_RESULT_POINT_CALLBACK),y=pt}try{const pt=this.decodeRow(et,P,y);if(dt===1){pt.putMetadata(Ce.ORIENTATION,180);const Nt=pt.getResultPoints();Nt!==null&&(Nt[0]=new ct(w-Nt[0].getX()-1,Nt[0].getY()),Nt[1]=new ct(w-Nt[1].getX()-1,Nt[1].getY()))}return pt}catch{}}}throw new X}static recordPattern(m,y,w){const E=w.length;for(let oe=0;oe<E;oe++)w[oe]=0;const P=m.getSize();if(y>=P)throw new X;let D=!m.get(y),V=0,Z=y;for(;Z<P;){if(m.get(Z)!==D)w[V]++;else{if(++V===E)break;w[V]=1,D=!D}Z++}if(!(V===E||V===E-1&&Z===P))throw new X}static recordPatternInReverse(m,y,w){let E=w.length,P=m.get(y);for(;y>0&&E>=0;)m.get(--y)!==P&&(E--,P=!P);if(E>=0)throw new X;Zn.recordPattern(m,y+1,w)}static patternMatchVariance(m,y,w){const E=m.length;let P=0,D=0;for(let oe=0;oe<E;oe++)P+=m[oe],D+=y[oe];if(P<D)return Number.POSITIVE_INFINITY;const V=P/D;w*=V;let Z=0;for(let oe=0;oe<E;oe++){const be=m[oe],Te=y[oe]*V,De=be>Te?be-Te:Te-be;if(De>w)return Number.POSITIVE_INFINITY;Z+=De}return Z/P}}class sr extends Zn{static findStartPattern(m){const y=m.getSize(),w=m.getNextSet(0);let E=0,P=Int32Array.from([0,0,0,0,0,0]),D=w,V=!1;const Z=6;for(let oe=w;oe<y;oe++)if(m.get(oe)!==V)P[E]++;else{if(E===Z-1){let be=sr.MAX_AVG_VARIANCE,Te=-1;for(let De=sr.CODE_START_A;De<=sr.CODE_START_C;De++){const et=Zn.patternMatchVariance(P,sr.CODE_PATTERNS[De],sr.MAX_INDIVIDUAL_VARIANCE);et<be&&(be=et,Te=De)}if(Te>=0&&m.isRange(Math.max(0,D-(oe-D)/2),D,!1))return Int32Array.from([D,oe,Te]);D+=P[0]+P[1],P=P.slice(2,P.length-1),P[E-1]=0,P[E]=0,E--}else E++;P[E]=1,V=!V}throw new X}static decodeCode(m,y,w){Zn.recordPattern(m,w,y);let E=sr.MAX_AVG_VARIANCE,P=-1;for(let D=0;D<sr.CODE_PATTERNS.length;D++){const V=sr.CODE_PATTERNS[D],Z=this.patternMatchVariance(y,V,sr.MAX_INDIVIDUAL_VARIANCE);Z<E&&(E=Z,P=D)}if(P>=0)return P;throw new X}decodeRow(m,y,w){const E=w&&w.get(B.ASSUME_GS1)===!0,P=sr.findStartPattern(y),D=P[2];let V=0;const Z=new Uint8Array(20);Z[V++]=D;let oe;switch(D){case sr.CODE_START_A:oe=sr.CODE_CODE_A;break;case sr.CODE_START_B:oe=sr.CODE_CODE_B;break;case sr.CODE_START_C:oe=sr.CODE_CODE_C;break;default:throw new L}let be=!1,Te=!1,De="",et=P[0],dt=P[1];const pt=Int32Array.from([0,0,0,0,0,0]);let Nt=0,Rt=0,Gt=D,or=0,ir=!0,ta=!1,da=!1;for(;!be;){const sh=Te;switch(Te=!1,Nt=Rt,Rt=sr.decodeCode(y,pt,dt),Z[V++]=Rt,Rt!==sr.CODE_STOP&&(ir=!0),Rt!==sr.CODE_STOP&&(or++,Gt+=or*Rt),et=dt,dt+=pt.reduce((Zh,Tc)=>Zh+Tc,0),Rt){case sr.CODE_START_A:case sr.CODE_START_B:case sr.CODE_START_C:throw new L}switch(oe){case sr.CODE_CODE_A:if(Rt<64)da===ta?De+=String.fromCharCode(" ".charCodeAt(0)+Rt):De+=String.fromCharCode(" ".charCodeAt(0)+Rt+128),da=!1;else if(Rt<96)da===ta?De+=String.fromCharCode(Rt-64):De+=String.fromCharCode(Rt+64),da=!1;else switch(Rt!==sr.CODE_STOP&&(ir=!1),Rt){case sr.CODE_FNC_1:E&&(De.length===0?De+="]C1":De+=String.fromCharCode(29));break;case sr.CODE_FNC_2:case sr.CODE_FNC_3:break;case sr.CODE_FNC_4_A:!ta&&da?(ta=!0,da=!1):ta&&da?(ta=!1,da=!1):da=!0;break;case sr.CODE_SHIFT:Te=!0,oe=sr.CODE_CODE_B;break;case sr.CODE_CODE_B:oe=sr.CODE_CODE_B;break;case sr.CODE_CODE_C:oe=sr.CODE_CODE_C;break;case sr.CODE_STOP:be=!0;break}break;case sr.CODE_CODE_B:if(Rt<96)da===ta?De+=String.fromCharCode(" ".charCodeAt(0)+Rt):De+=String.fromCharCode(" ".charCodeAt(0)+Rt+128),da=!1;else switch(Rt!==sr.CODE_STOP&&(ir=!1),Rt){case sr.CODE_FNC_1:E&&(De.length===0?De+="]C1":De+=String.fromCharCode(29));break;case sr.CODE_FNC_2:case sr.CODE_FNC_3:break;case sr.CODE_FNC_4_B:!ta&&da?(ta=!0,da=!1):ta&&da?(ta=!1,da=!1):da=!0;break;case sr.CODE_SHIFT:Te=!0,oe=sr.CODE_CODE_A;break;case sr.CODE_CODE_A:oe=sr.CODE_CODE_A;break;case sr.CODE_CODE_C:oe=sr.CODE_CODE_C;break;case sr.CODE_STOP:be=!0;break}break;case sr.CODE_CODE_C:if(Rt<100)Rt<10&&(De+="0"),De+=Rt;else switch(Rt!==sr.CODE_STOP&&(ir=!1),Rt){case sr.CODE_FNC_1:E&&(De.length===0?De+="]C1":De+=String.fromCharCode(29));break;case sr.CODE_CODE_A:oe=sr.CODE_CODE_A;break;case sr.CODE_CODE_B:oe=sr.CODE_CODE_B;break;case sr.CODE_STOP:be=!0;break}break}sh&&(oe=oe===sr.CODE_CODE_A?sr.CODE_CODE_B:sr.CODE_CODE_A)}const Ti=dt-et;if(dt=y.getNextUnset(dt),!y.isRange(dt,Math.min(y.getSize(),dt+(dt-et)/2),!1))throw new X;if(Gt-=or*Nt,Gt%103!==Nt)throw new p;const al=De.length;if(al===0)throw new X;al>0&&ir&&(oe===sr.CODE_CODE_C?De=De.substring(0,al-2):De=De.substring(0,al-1));const Do=(P[1]+P[0])/2,Vi=et+Ti/2,co=Z.length,vl=new Uint8Array(co);for(let sh=0;sh<co;sh++)vl[sh]=Z[sh];const yf=[new ct(Do,m),new ct(Vi,m)];return new se(De,vl,0,yf,ge.CODE_128,new Date().getTime())}}sr.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],sr.MAX_AVG_VARIANCE=.25,sr.MAX_INDIVIDUAL_VARIANCE=.7,sr.CODE_SHIFT=98,sr.CODE_CODE_C=99,sr.CODE_CODE_B=100,sr.CODE_CODE_A=101,sr.CODE_FNC_1=102,sr.CODE_FNC_2=97,sr.CODE_FNC_3=96,sr.CODE_FNC_4_A=101,sr.CODE_FNC_4_B=100,sr.CODE_START_A=103,sr.CODE_START_B=104,sr.CODE_START_C=105,sr.CODE_STOP=106;class ln extends Zn{constructor(m=!1,y=!1){super(),this.usingCheckDigit=m,this.extendedMode=y,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(m,y,w){let E=this.counters;E.fill(0),this.decodeRowResult="";let P=ln.findAsteriskPattern(y,E),D=y.getNextSet(P[1]),V=y.getSize(),Z,oe;do{ln.recordPattern(y,D,E);let pt=ln.toNarrowWidePattern(E);if(pt<0)throw new X;Z=ln.patternToChar(pt),this.decodeRowResult+=Z,oe=D;for(let Nt of E)D+=Nt;D=y.getNextSet(D)}while(Z!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let be=0;for(let pt of E)be+=pt;let Te=D-oe-be;if(D!==V&&Te*2<be)throw new X;if(this.usingCheckDigit){let pt=this.decodeRowResult.length-1,Nt=0;for(let Rt=0;Rt<pt;Rt++)Nt+=ln.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Rt));if(this.decodeRowResult.charAt(pt)!==ln.ALPHABET_STRING.charAt(Nt%43))throw new p;this.decodeRowResult=this.decodeRowResult.substring(0,pt)}if(this.decodeRowResult.length===0)throw new X;let De;this.extendedMode?De=ln.decodeExtended(this.decodeRowResult):De=this.decodeRowResult;let et=(P[1]+P[0])/2,dt=oe+be/2;return new se(De,null,0,[new ct(et,m),new ct(dt,m)],ge.CODE_39,new Date().getTime())}static findAsteriskPattern(m,y){let w=m.getSize(),E=m.getNextSet(0),P=0,D=E,V=!1,Z=y.length;for(let oe=E;oe<w;oe++)if(m.get(oe)!==V)y[P]++;else{if(P===Z-1){if(this.toNarrowWidePattern(y)===ln.ASTERISK_ENCODING&&m.isRange(Math.max(0,D-Math.floor((oe-D)/2)),D,!1))return[D,oe];D+=y[0]+y[1],y.copyWithin(0,2,2+P-1),y[P-1]=0,y[P]=0,P--}else P++;y[P]=1,V=!V}throw new X}static toNarrowWidePattern(m){let y=m.length,w=0,E;do{let P=2147483647;for(let Z of m)Z<P&&Z>w&&(P=Z);w=P,E=0;let D=0,V=0;for(let Z=0;Z<y;Z++){let oe=m[Z];oe>w&&(V|=1<<y-1-Z,E++,D+=oe)}if(E===3){for(let Z=0;Z<y&&E>0;Z++){let oe=m[Z];if(oe>w&&(E--,oe*2>=D))return-1}return V}}while(E>3);return-1}static patternToChar(m){for(let y=0;y<ln.CHARACTER_ENCODINGS.length;y++)if(ln.CHARACTER_ENCODINGS[y]===m)return ln.ALPHABET_STRING.charAt(y);if(m===ln.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(m){let y=m.length,w="";for(let E=0;E<y;E++){let P=m.charAt(E);if(P==="+"||P==="$"||P==="%"||P==="/"){let D=m.charAt(E+1),V="\0";switch(P){case"+":if(D>="A"&&D<="Z")V=String.fromCharCode(D.charCodeAt(0)+32);else throw new L;break;case"$":if(D>="A"&&D<="Z")V=String.fromCharCode(D.charCodeAt(0)-64);else throw new L;break;case"%":if(D>="A"&&D<="E")V=String.fromCharCode(D.charCodeAt(0)-38);else if(D>="F"&&D<="J")V=String.fromCharCode(D.charCodeAt(0)-11);else if(D>="K"&&D<="O")V=String.fromCharCode(D.charCodeAt(0)+16);else if(D>="P"&&D<="T")V=String.fromCharCode(D.charCodeAt(0)+43);else if(D==="U")V="\0";else if(D==="V")V="@";else if(D==="W")V="`";else if(D==="X"||D==="Y"||D==="Z")V="";else throw new L;break;case"/":if(D>="A"&&D<="O")V=String.fromCharCode(D.charCodeAt(0)-32);else if(D==="Z")V=":";else throw new L;break}w+=V,E++}else w+=P}return w}}ln.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ln.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ln.ASTERISK_ENCODING=148;class Fn extends Zn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(m,y,w){let E=this.decodeStart(y),P=this.decodeEnd(y),D=new re;Fn.decodeMiddle(y,E[1],P[0],D);let V=D.toString(),Z=null;w!=null&&(Z=w.get(B.ALLOWED_LENGTHS)),Z==null&&(Z=Fn.DEFAULT_ALLOWED_LENGTHS);let oe=V.length,be=!1,Te=0;for(let dt of Z){if(oe===dt){be=!0;break}dt>Te&&(Te=dt)}if(!be&&oe>Te&&(be=!0),!be)throw new L;const De=[new ct(E[1],m),new ct(P[0],m)];return new se(V,null,0,De,ge.ITF,new Date().getTime())}static decodeMiddle(m,y,w,E){let P=new Int32Array(10),D=new Int32Array(5),V=new Int32Array(5);for(P.fill(0),D.fill(0),V.fill(0);y<w;){Zn.recordPattern(m,y,P);for(let oe=0;oe<5;oe++){let be=2*oe;D[oe]=P[be],V[oe]=P[be+1]}let Z=Fn.decodeDigit(D);E.append(Z.toString()),Z=this.decodeDigit(V),E.append(Z.toString()),P.forEach(function(oe){y+=oe})}}decodeStart(m){let y=Fn.skipWhiteSpace(m),w=Fn.findGuardPattern(m,y,Fn.START_PATTERN);return this.narrowLineWidth=(w[1]-w[0])/4,this.validateQuietZone(m,w[0]),w}validateQuietZone(m,y){let w=this.narrowLineWidth*10;w=w<y?w:y;for(let E=y-1;w>0&&E>=0&&!m.get(E);E--)w--;if(w!==0)throw new X}static skipWhiteSpace(m){const y=m.getSize(),w=m.getNextSet(0);if(w===y)throw new X;return w}decodeEnd(m){m.reverse();try{let y=Fn.skipWhiteSpace(m),w;try{w=Fn.findGuardPattern(m,y,Fn.END_PATTERN_REVERSED[0])}catch(P){P instanceof X&&(w=Fn.findGuardPattern(m,y,Fn.END_PATTERN_REVERSED[1]))}this.validateQuietZone(m,w[0]);let E=w[0];return w[0]=m.getSize()-w[1],w[1]=m.getSize()-E,w}finally{m.reverse()}}static findGuardPattern(m,y,w){let E=w.length,P=new Int32Array(E),D=m.getSize(),V=!1,Z=0,oe=y;P.fill(0);for(let be=y;be<D;be++)if(m.get(be)!==V)P[Z]++;else{if(Z===E-1){if(Zn.patternMatchVariance(P,w,Fn.MAX_INDIVIDUAL_VARIANCE)<Fn.MAX_AVG_VARIANCE)return[oe,be];oe+=P[0]+P[1],b.arraycopy(P,2,P,0,Z-1),P[Z-1]=0,P[Z]=0,Z--}else Z++;P[Z]=1,V=!V}throw new X}static decodeDigit(m){let y=Fn.MAX_AVG_VARIANCE,w=-1,E=Fn.PATTERNS.length;for(let P=0;P<E;P++){let D=Fn.PATTERNS[P],V=Zn.patternMatchVariance(m,D,Fn.MAX_INDIVIDUAL_VARIANCE);V<y?(y=V,w=P):V===y&&(w=-1)}if(w>=0)return w%10;throw new X}}Fn.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Fn.MAX_AVG_VARIANCE=.38,Fn.MAX_INDIVIDUAL_VARIANCE=.5,Fn.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Fn.START_PATTERN=Int32Array.from([1,1,1,1]),Fn.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Gr extends Zn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(m){let y=!1,w,E=0,P=Int32Array.from([0,0,0]);for(;!y;){P=Int32Array.from([0,0,0]),w=Gr.findGuardPattern(m,E,!1,this.START_END_PATTERN,P);let D=w[0];E=w[1];let V=D-(E-D);V>=0&&(y=m.isRange(V,D,!1))}return w}static checkChecksum(m){return Gr.checkStandardUPCEANChecksum(m)}static checkStandardUPCEANChecksum(m){let y=m.length;if(y===0)return!1;let w=parseInt(m.charAt(y-1),10);return Gr.getStandardUPCEANChecksum(m.substring(0,y-1))===w}static getStandardUPCEANChecksum(m){let y=m.length,w=0;for(let E=y-1;E>=0;E-=2){let P=m.charAt(E).charCodeAt(0)-"0".charCodeAt(0);if(P<0||P>9)throw new L;w+=P}w*=3;for(let E=y-2;E>=0;E-=2){let P=m.charAt(E).charCodeAt(0)-"0".charCodeAt(0);if(P<0||P>9)throw new L;w+=P}return(1e3-w)%10}static decodeEnd(m,y){return Gr.findGuardPattern(m,y,!1,Gr.START_END_PATTERN,new Int32Array(Gr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(m,y,w,E){return this.findGuardPattern(m,y,w,E,new Int32Array(E.length))}static findGuardPattern(m,y,w,E,P){let D=m.getSize();y=w?m.getNextUnset(y):m.getNextSet(y);let V=0,Z=y,oe=E.length,be=w;for(let Te=y;Te<D;Te++)if(m.get(Te)!==be)P[V]++;else{if(V===oe-1){if(Zn.patternMatchVariance(P,E,Gr.MAX_INDIVIDUAL_VARIANCE)<Gr.MAX_AVG_VARIANCE)return Int32Array.from([Z,Te]);Z+=P[0]+P[1];let De=P.slice(2,P.length-1);for(let et=0;et<V-1;et++)P[et]=De[et];P[V-1]=0,P[V]=0,V--}else V++;P[V]=1,be=!be}throw new X}static decodeDigit(m,y,w,E){this.recordPattern(m,w,y);let P=this.MAX_AVG_VARIANCE,D=-1,V=E.length;for(let Z=0;Z<V;Z++){let oe=E[Z],be=Zn.patternMatchVariance(y,oe,Gr.MAX_INDIVIDUAL_VARIANCE);be<P&&(P=be,D=Z)}if(D>=0)return D;throw new X}}Gr.MAX_AVG_VARIANCE=.48,Gr.MAX_INDIVIDUAL_VARIANCE=.7,Gr.START_END_PATTERN=Int32Array.from([1,1,1]),Gr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Gr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ti{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(m,y,w){let E=this.decodeRowStringBuffer,P=this.decodeMiddle(y,w,E),D=E.toString(),V=ti.parseExtensionString(D),Z=[new ct((w[0]+w[1])/2,m),new ct(P,m)],oe=new se(D,null,0,Z,ge.UPC_EAN_EXTENSION,new Date().getTime());return V!=null&&oe.putAllMetadata(V),oe}decodeMiddle(m,y,w){let E=this.decodeMiddleCounters;E[0]=0,E[1]=0,E[2]=0,E[3]=0;let P=m.getSize(),D=y[1],V=0;for(let oe=0;oe<5&&D<P;oe++){let be=Gr.decodeDigit(m,E,D,Gr.L_AND_G_PATTERNS);w+=String.fromCharCode("0".charCodeAt(0)+be%10);for(let Te of E)D+=Te;be>=10&&(V|=1<<4-oe),oe!==4&&(D=m.getNextSet(D),D=m.getNextUnset(D))}if(w.length!==5)throw new X;let Z=this.determineCheckDigit(V);if(ti.extensionChecksum(w.toString())!==Z)throw new X;return D}static extensionChecksum(m){let y=m.length,w=0;for(let E=y-2;E>=0;E-=2)w+=m.charAt(E).charCodeAt(0)-"0".charCodeAt(0);w*=3;for(let E=y-1;E>=0;E-=2)w+=m.charAt(E).charCodeAt(0)-"0".charCodeAt(0);return w*=3,w%10}determineCheckDigit(m){for(let y=0;y<10;y++)if(m===this.CHECK_DIGIT_ENCODINGS[y])return y;throw new X}static parseExtensionString(m){if(m.length!==5)return null;let y=ti.parseExtension5String(m);return y==null?null:new Map([[Ce.SUGGESTED_PRICE,y]])}static parseExtension5String(m){let y;switch(m.charAt(0)){case"0":y="";break;case"5":y="$";break;case"9":switch(m){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}y="";break;default:y="";break}let w=parseInt(m.substring(1)),E=(w/100).toString(),P=w%100,D=P<10?"0"+P:P.toString();return y+E+"."+D}}class Qn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(m,y,w){let E=this.decodeRowStringBuffer,P=this.decodeMiddle(y,w,E),D=E.toString(),V=Qn.parseExtensionString(D),Z=[new ct((w[0]+w[1])/2,m),new ct(P,m)],oe=new se(D,null,0,Z,ge.UPC_EAN_EXTENSION,new Date().getTime());return V!=null&&oe.putAllMetadata(V),oe}decodeMiddle(m,y,w){let E=this.decodeMiddleCounters;E[0]=0,E[1]=0,E[2]=0,E[3]=0;let P=m.getSize(),D=y[1],V=0;for(let Z=0;Z<2&&D<P;Z++){let oe=Gr.decodeDigit(m,E,D,Gr.L_AND_G_PATTERNS);w+=String.fromCharCode("0".charCodeAt(0)+oe%10);for(let be of E)D+=be;oe>=10&&(V|=1<<1-Z),Z!==1&&(D=m.getNextSet(D),D=m.getNextUnset(D))}if(w.length!==2)throw new X;if(parseInt(w.toString())%4!==V)throw new X;return D}static parseExtensionString(m){return m.length!==2?null:new Map([[Ce.ISSUE_NUMBER,parseInt(m)]])}}class _a{static decodeRow(m,y,w){let E=Gr.findGuardPattern(y,w,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ti().decodeRow(m,y,E)}catch{return new Qn().decodeRow(m,y,E)}}}_a.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Yn extends Gr{constructor(){super(),this.decodeRowStringBuffer="",Yn.L_AND_G_PATTERNS=Yn.L_PATTERNS.map(m=>Int32Array.from(m));for(let m=10;m<20;m++){let y=Yn.L_PATTERNS[m-10],w=new Int32Array(y.length);for(let E=0;E<y.length;E++)w[E]=y[y.length-E-1];Yn.L_AND_G_PATTERNS[m]=w}}decodeRow(m,y,w){let E=Yn.findStartGuardPattern(y),P=w==null?null:w.get(B.NEED_RESULT_POINT_CALLBACK);if(P!=null){const ir=new ct((E[0]+E[1])/2,m);P.foundPossibleResultPoint(ir)}let D=this.decodeMiddle(y,E,this.decodeRowStringBuffer),V=D.rowOffset,Z=D.resultString;if(P!=null){const ir=new ct(V,m);P.foundPossibleResultPoint(ir)}let oe=this.decodeEnd(y,V);if(P!=null){const ir=new ct((oe[0]+oe[1])/2,m);P.foundPossibleResultPoint(ir)}let be=oe[1],Te=be+(be-oe[0]);if(Te>=y.getSize()||!y.isRange(be,Te,!1))throw new X;let De=Z.toString();if(De.length<8)throw new L;if(!Yn.checkChecksum(De))throw new p;let et=(E[1]+E[0])/2,dt=(oe[1]+oe[0])/2,pt=this.getBarcodeFormat(),Nt=[new ct(et,m),new ct(dt,m)],Rt=new se(De,null,0,Nt,pt,new Date().getTime()),Gt=0;try{let ir=_a.decodeRow(m,y,oe[1]);Rt.putMetadata(Ce.UPC_EAN_EXTENSION,ir.getText()),Rt.putAllMetadata(ir.getResultMetadata()),Rt.addResultPoints(ir.getResultPoints()),Gt=ir.getText().length}catch{}let or=w==null?null:w.get(B.ALLOWED_EAN_EXTENSIONS);if(or!=null){let ir=!1;for(let ta in or)if(Gt.toString()===ta){ir=!0;break}if(!ir)throw new X}return Rt}decodeEnd(m,y){return Yn.findGuardPattern(m,y,!1,Yn.START_END_PATTERN,new Int32Array(Yn.START_END_PATTERN.length).fill(0))}static checkChecksum(m){return Yn.checkStandardUPCEANChecksum(m)}static checkStandardUPCEANChecksum(m){let y=m.length;if(y===0)return!1;let w=parseInt(m.charAt(y-1),10);return Yn.getStandardUPCEANChecksum(m.substring(0,y-1))===w}static getStandardUPCEANChecksum(m){let y=m.length,w=0;for(let E=y-1;E>=0;E-=2){let P=m.charAt(E).charCodeAt(0)-"0".charCodeAt(0);if(P<0||P>9)throw new L;w+=P}w*=3;for(let E=y-2;E>=0;E-=2){let P=m.charAt(E).charCodeAt(0)-"0".charCodeAt(0);if(P<0||P>9)throw new L;w+=P}return(1e3-w)%10}}class ia extends Yn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(m,y,w){let E=this.decodeMiddleCounters;E[0]=0,E[1]=0,E[2]=0,E[3]=0;let P=m.getSize(),D=y[1],V=0;for(let oe=0;oe<6&&D<P;oe++){let be=Yn.decodeDigit(m,E,D,Yn.L_AND_G_PATTERNS);w+=String.fromCharCode("0".charCodeAt(0)+be%10);for(let Te of E)D+=Te;be>=10&&(V|=1<<5-oe)}w=ia.determineFirstDigit(w,V),D=Yn.findGuardPattern(m,D,!0,Yn.MIDDLE_PATTERN,new Int32Array(Yn.MIDDLE_PATTERN.length).fill(0))[1];for(let oe=0;oe<6&&D<P;oe++){let be=Yn.decodeDigit(m,E,D,Yn.L_PATTERNS);w+=String.fromCharCode("0".charCodeAt(0)+be);for(let Te of E)D+=Te}return{rowOffset:D,resultString:w}}getBarcodeFormat(){return ge.EAN_13}static determineFirstDigit(m,y){for(let w=0;w<10;w++)if(y===this.FIRST_DIGIT_ENCODINGS[w])return m=String.fromCharCode("0".charCodeAt(0)+w)+m,m;throw new X}}ia.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Jn extends Yn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(m,y,w){const E=this.decodeMiddleCounters;E[0]=0,E[1]=0,E[2]=0,E[3]=0;let P=m.getSize(),D=y[1];for(let Z=0;Z<4&&D<P;Z++){let oe=Yn.decodeDigit(m,E,D,Yn.L_PATTERNS);w+=String.fromCharCode("0".charCodeAt(0)+oe);for(let be of E)D+=be}D=Yn.findGuardPattern(m,D,!0,Yn.MIDDLE_PATTERN,new Int32Array(Yn.MIDDLE_PATTERN.length).fill(0))[1];for(let Z=0;Z<4&&D<P;Z++){let oe=Yn.decodeDigit(m,E,D,Yn.L_PATTERNS);w+=String.fromCharCode("0".charCodeAt(0)+oe);for(let be of E)D+=be}return{rowOffset:D,resultString:w}}getBarcodeFormat(){return ge.EAN_8}}class Ir extends Yn{constructor(){super(...arguments),this.ean13Reader=new ia}getBarcodeFormat(){return ge.UPC_A}decode(m,y){return this.maybeReturnResult(this.ean13Reader.decode(m))}decodeRow(m,y,w){return this.maybeReturnResult(this.ean13Reader.decodeRow(m,y,w))}decodeMiddle(m,y,w){return this.ean13Reader.decodeMiddle(m,y,w)}maybeReturnResult(m){let y=m.getText();if(y.charAt(0)==="0"){let w=new se(y.substring(1),null,null,m.getResultPoints(),ge.UPC_A);return m.getResultMetadata()!=null&&w.putAllMetadata(m.getResultMetadata()),w}else throw new X}reset(){this.ean13Reader.reset()}}class vo extends Yn{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(m,y,w){const E=this.decodeMiddleCounters.map(oe=>oe);E[0]=0,E[1]=0,E[2]=0,E[3]=0;const P=m.getSize();let D=y[1],V=0;for(let oe=0;oe<6&&D<P;oe++){const be=vo.decodeDigit(m,E,D,vo.L_AND_G_PATTERNS);w+=String.fromCharCode("0".charCodeAt(0)+be%10);for(let Te of E)D+=Te;be>=10&&(V|=1<<5-oe)}let Z=vo.determineNumSysAndCheckDigit(w,V);return{rowOffset:D,resultString:Z}}decodeEnd(m,y){return vo.findGuardPatternWithoutCounters(m,y,!0,vo.MIDDLE_END_PATTERN)}checkChecksum(m){return Yn.checkChecksum(vo.convertUPCEtoUPCA(m))}static determineNumSysAndCheckDigit(m,y){for(let w=0;w<=1;w++)for(let E=0;E<10;E++)if(y===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[w][E]){let P=String.fromCharCode("0".charCodeAt(0)+w),D=String.fromCharCode("0".charCodeAt(0)+E);return P+m+D}throw X.getNotFoundInstance()}getBarcodeFormat(){return ge.UPC_E}static convertUPCEtoUPCA(m){const y=m.slice(1,7).split("").map(P=>P.charCodeAt(0)),w=new re;w.append(m.charAt(0));let E=y[5];switch(E){case 0:case 1:case 2:w.appendChars(y,0,2),w.append(E),w.append("0000"),w.appendChars(y,2,3);break;case 3:w.appendChars(y,0,3),w.append("00000"),w.appendChars(y,3,2);break;case 4:w.appendChars(y,0,4),w.append("00000"),w.append(y[4]);break;default:w.appendChars(y,0,5),w.append("0000"),w.append(E);break}return m.length>=8&&w.append(m.charAt(7)),w.toString()}}vo.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),vo.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ss extends Zn{constructor(m){super();let y=m==null?null:m.get(B.POSSIBLE_FORMATS),w=[];n(y)?(w.push(new ia),w.push(new Ir),w.push(new Jn),w.push(new vo)):(y.indexOf(ge.EAN_13)>-1&&w.push(new ia),y.indexOf(ge.UPC_A)>-1&&w.push(new Ir),y.indexOf(ge.EAN_8)>-1&&w.push(new Jn),y.indexOf(ge.UPC_E)>-1&&w.push(new vo)),this.readers=w}decodeRow(m,y,w){for(let E of this.readers)try{const P=E.decodeRow(m,y,w),D=P.getBarcodeFormat()===ge.EAN_13&&P.getText().charAt(0)==="0",V=w==null?null:w.get(B.POSSIBLE_FORMATS),Z=V==null||V.includes(ge.UPC_A);if(D&&Z){const oe=P.getRawBytes(),be=new se(P.getText().substring(1),oe,oe?oe.length:null,P.getResultPoints(),ge.UPC_A);return be.putAllMetadata(P.getResultMetadata()),be}return P}catch{}throw new X}reset(){for(let m of this.readers)m.reset()}}class Na extends Zn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(m,y){for(let w=0;w<y.length;w++)if(Zn.patternMatchVariance(m,y[w],Na.MAX_INDIVIDUAL_VARIANCE)<Na.MAX_AVG_VARIANCE)return w;throw new X}static count(m){return Tt.sum(new Int32Array(m))}static increment(m,y){let w=0,E=y[0];for(let P=1;P<m.length;P++)y[P]>E&&(E=y[P],w=P);m[w]++}static decrement(m,y){let w=0,E=y[0];for(let P=1;P<m.length;P++)y[P]<E&&(E=y[P],w=P);m[w]--}static isFinderPattern(m){let y=m[0]+m[1],w=y+m[2]+m[3],E=y/w;if(E>=Na.MIN_FINDER_PATTERN_RATIO&&E<=Na.MAX_FINDER_PATTERN_RATIO){let P=Number.MAX_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;for(let V of m)V>D&&(D=V),V<P&&(P=V);return D<10*P}return!1}}Na.MAX_AVG_VARIANCE=.2,Na.MAX_INDIVIDUAL_VARIANCE=.45,Na.MIN_FINDER_PATTERN_RATIO=9.5/12,Na.MAX_FINDER_PATTERN_RATIO=12.5/14;class Io{constructor(m,y){this.value=m,this.checksumPortion=y}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(m){if(!(m instanceof Io))return!1;const y=m;return this.value===y.value&&this.checksumPortion===y.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Vn{constructor(m,y,w,E,P){this.value=m,this.startEnd=y,this.value=m,this.startEnd=y,this.resultPoints=new Array,this.resultPoints.push(new ct(w,P)),this.resultPoints.push(new ct(E,P))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(m){if(!(m instanceof Vn))return!1;const y=m;return this.value===y.value}hashCode(){return this.value}}class js{constructor(){}static getRSSvalue(m,y,w){let E=0;for(let Z of m)E+=Z;let P=0,D=0,V=m.length;for(let Z=0;Z<V-1;Z++){let oe;for(oe=1,D|=1<<Z;oe<m[Z];oe++,D&=~(1<<Z)){let be=js.combins(E-oe-1,V-Z-2);if(w&&D===0&&E-oe-(V-Z-1)>=V-Z-1&&(be-=js.combins(E-oe-(V-Z),V-Z-2)),V-Z-1>1){let Te=0;for(let De=E-oe-(V-Z-2);De>y;De--)Te+=js.combins(E-oe-De-1,V-Z-3);be-=Te*(V-1-Z)}else E-oe>y&&be--;P+=be}E-=oe}return P}static combins(m,y){let w,E;m-y>y?(E=y,w=m-y):(E=m-y,w=y);let P=1,D=1;for(let V=m;V>w;V--)P*=V,D<=E&&(P/=D,D++);for(;D<=E;)P/=D,D++;return P}}class rc{static buildBitArray(m){let y=m.length*2-1;m[m.length-1].getRightChar()==null&&(y-=1);let w=12*y,E=new O(w),P=0,V=m[0].getRightChar().getValue();for(let Z=11;Z>=0;--Z)V&1<<Z&&E.set(P),P++;for(let Z=1;Z<m.length;++Z){let oe=m[Z],be=oe.getLeftChar().getValue();for(let Te=11;Te>=0;--Te)be&1<<Te&&E.set(P),P++;if(oe.getRightChar()!=null){let Te=oe.getRightChar().getValue();for(let De=11;De>=0;--De)Te&1<<De&&E.set(P),P++}}return E}}class Va{constructor(m,y){y?this.decodedInformation=null:(this.finished=m,this.decodedInformation=y)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class yo{constructor(m){this.newPosition=m}getNewPosition(){return this.newPosition}}class ii extends yo{constructor(m,y){super(m),this.value=y}getValue(){return this.value}isFNC1(){return this.value===ii.FNC1}}ii.FNC1="$";class Zi extends yo{constructor(m,y,w){super(m),w?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=y}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ie extends yo{constructor(m,y,w){if(super(m),y<0||y>10||w<0||w>10)throw new L;this.firstDigit=y,this.secondDigit=w}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ie.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ie.FNC1}isAnyFNC1(){return this.firstDigit===Ie.FNC1||this.secondDigit===Ie.FNC1}}Ie.FNC1=10;class ze{constructor(){}static parseFieldsInGeneralPurpose(m){if(!m)return null;if(m.length<2)throw new X;let y=m.substring(0,2);for(let P of ze.TWO_DIGIT_DATA_LENGTH)if(P[0]===y)return P[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(2,P[2],m):ze.processFixedAI(2,P[1],m);if(m.length<3)throw new X;let w=m.substring(0,3);for(let P of ze.THREE_DIGIT_DATA_LENGTH)if(P[0]===w)return P[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(3,P[2],m):ze.processFixedAI(3,P[1],m);for(let P of ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(P[0]===w)return P[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,P[2],m):ze.processFixedAI(4,P[1],m);if(m.length<4)throw new X;let E=m.substring(0,4);for(let P of ze.FOUR_DIGIT_DATA_LENGTH)if(P[0]===E)return P[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,P[2],m):ze.processFixedAI(4,P[1],m);throw new X}static processFixedAI(m,y,w){if(w.length<m)throw new X;let E=w.substring(0,m);if(w.length<m+y)throw new X;let P=w.substring(m,m+y),D=w.substring(m+y),V="("+E+")"+P,Z=ze.parseFieldsInGeneralPurpose(D);return Z==null?V:V+Z}static processVariableAI(m,y,w){let E=w.substring(0,m),P;w.length<m+y?P=w.length:P=m+y;let D=w.substring(m,P),V=w.substring(P),Z="("+E+")"+D,oe=ze.parseFieldsInGeneralPurpose(V);return oe==null?Z:Z+oe}}ze.VARIABLE_LENGTH=[],ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ze.VARIABLE_LENGTH,20],["22",ze.VARIABLE_LENGTH,29],["30",ze.VARIABLE_LENGTH,8],["37",ze.VARIABLE_LENGTH,8],["90",ze.VARIABLE_LENGTH,30],["91",ze.VARIABLE_LENGTH,30],["92",ze.VARIABLE_LENGTH,30],["93",ze.VARIABLE_LENGTH,30],["94",ze.VARIABLE_LENGTH,30],["95",ze.VARIABLE_LENGTH,30],["96",ze.VARIABLE_LENGTH,30],["97",ze.VARIABLE_LENGTH,3],["98",ze.VARIABLE_LENGTH,30],["99",ze.VARIABLE_LENGTH,30]],ze.THREE_DIGIT_DATA_LENGTH=[["240",ze.VARIABLE_LENGTH,30],["241",ze.VARIABLE_LENGTH,30],["242",ze.VARIABLE_LENGTH,6],["250",ze.VARIABLE_LENGTH,30],["251",ze.VARIABLE_LENGTH,30],["253",ze.VARIABLE_LENGTH,17],["254",ze.VARIABLE_LENGTH,20],["400",ze.VARIABLE_LENGTH,30],["401",ze.VARIABLE_LENGTH,30],["402",17],["403",ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ze.VARIABLE_LENGTH,20],["421",ze.VARIABLE_LENGTH,15],["422",3],["423",ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ze.VARIABLE_LENGTH,15],["391",ze.VARIABLE_LENGTH,18],["392",ze.VARIABLE_LENGTH,15],["393",ze.VARIABLE_LENGTH,18],["703",ze.VARIABLE_LENGTH,30]],ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ze.VARIABLE_LENGTH,20],["8003",ze.VARIABLE_LENGTH,30],["8004",ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ze.VARIABLE_LENGTH,30],["8008",ze.VARIABLE_LENGTH,12],["8018",18],["8020",ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ze.VARIABLE_LENGTH,70],["8200",ze.VARIABLE_LENGTH,70]];class Ye{constructor(m){this.buffer=new re,this.information=m}decodeAllCodes(m,y){let w=y,E=null;do{let P=this.decodeGeneralPurposeField(w,E),D=ze.parseFieldsInGeneralPurpose(P.getNewString());if(D!=null&&m.append(D),P.isRemaining()?E=""+P.getRemainingValue():E=null,w===P.getNewPosition())break;w=P.getNewPosition()}while(!0);return m.toString()}isStillNumeric(m){if(m+7>this.information.getSize())return m+4<=this.information.getSize();for(let y=m;y<m+3;++y)if(this.information.get(y))return!0;return this.information.get(m+3)}decodeNumeric(m){if(m+7>this.information.getSize()){let P=this.extractNumericValueFromBitArray(m,4);return P===0?new Ie(this.information.getSize(),Ie.FNC1,Ie.FNC1):new Ie(this.information.getSize(),P-1,Ie.FNC1)}let y=this.extractNumericValueFromBitArray(m,7),w=(y-8)/11,E=(y-8)%11;return new Ie(m+7,w,E)}extractNumericValueFromBitArray(m,y){return Ye.extractNumericValueFromBitArray(this.information,m,y)}static extractNumericValueFromBitArray(m,y,w){let E=0;for(let P=0;P<w;++P)m.get(y+P)&&(E|=1<<w-P-1);return E}decodeGeneralPurposeField(m,y){this.buffer.setLengthToZero(),y!=null&&this.buffer.append(y),this.current.setPosition(m);let w=this.parseBlocks();return w!=null&&w.isRemaining()?new Zi(this.current.getPosition(),this.buffer.toString(),w.getRemainingValue()):new Zi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let m,y;do{let w=this.current.getPosition();if(this.current.isAlpha()?(y=this.parseAlphaBlock(),m=y.isFinished()):this.current.isIsoIec646()?(y=this.parseIsoIec646Block(),m=y.isFinished()):(y=this.parseNumericBlock(),m=y.isFinished()),!(w!==this.current.getPosition())&&!m)break}while(!m);return y.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let m=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(m.getNewPosition()),m.isFirstDigitFNC1()){let y;return m.isSecondDigitFNC1()?y=new Zi(this.current.getPosition(),this.buffer.toString()):y=new Zi(this.current.getPosition(),this.buffer.toString(),m.getSecondDigit()),new Va(!0,y)}if(this.buffer.append(m.getFirstDigit()),m.isSecondDigitFNC1()){let y=new Zi(this.current.getPosition(),this.buffer.toString());return new Va(!0,y)}this.buffer.append(m.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Va(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let m=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(m.getNewPosition()),m.isFNC1()){let y=new Zi(this.current.getPosition(),this.buffer.toString());return new Va(!0,y)}this.buffer.append(m.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Va(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let m=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(m.getNewPosition()),m.isFNC1()){let y=new Zi(this.current.getPosition(),this.buffer.toString());return new Va(!0,y)}this.buffer.append(m.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Va(!1)}isStillIsoIec646(m){if(m+5>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(m,5);if(y>=5&&y<16)return!0;if(m+7>this.information.getSize())return!1;let w=this.extractNumericValueFromBitArray(m,7);if(w>=64&&w<116)return!0;if(m+8>this.information.getSize())return!1;let E=this.extractNumericValueFromBitArray(m,8);return E>=232&&E<253}decodeIsoIec646(m){let y=this.extractNumericValueFromBitArray(m,5);if(y===15)return new ii(m+5,ii.FNC1);if(y>=5&&y<15)return new ii(m+5,"0"+(y-5));let w=this.extractNumericValueFromBitArray(m,7);if(w>=64&&w<90)return new ii(m+7,""+(w+1));if(w>=90&&w<116)return new ii(m+7,""+(w+7));let E=this.extractNumericValueFromBitArray(m,8),P;switch(E){case 232:P="!";break;case 233:P='"';break;case 234:P="%";break;case 235:P="&";break;case 236:P="'";break;case 237:P="(";break;case 238:P=")";break;case 239:P="*";break;case 240:P="+";break;case 241:P=",";break;case 242:P="-";break;case 243:P=".";break;case 244:P="/";break;case 245:P=":";break;case 246:P=";";break;case 247:P="<";break;case 248:P="=";break;case 249:P=">";break;case 250:P="?";break;case 251:P="_";break;case 252:P=" ";break;default:throw new L}return new ii(m+8,P)}isStillAlpha(m){if(m+5>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(m,5);if(y>=5&&y<16)return!0;if(m+6>this.information.getSize())return!1;let w=this.extractNumericValueFromBitArray(m,6);return w>=16&&w<63}decodeAlphanumeric(m){let y=this.extractNumericValueFromBitArray(m,5);if(y===15)return new ii(m+5,ii.FNC1);if(y>=5&&y<15)return new ii(m+5,"0"+(y-5));let w=this.extractNumericValueFromBitArray(m,6);if(w>=32&&w<58)return new ii(m+6,""+(w+33));let E;switch(w){case 58:E="*";break;case 59:E=",";break;case 60:E="-";break;case 61:E=".";break;case 62:E="/";break;default:throw new Me("Decoding invalid alphanumeric value: "+w)}return new ii(m+6,E)}isAlphaTo646ToAlphaLatch(m){if(m+1>this.information.getSize())return!1;for(let y=0;y<5&&y+m<this.information.getSize();++y)if(y===2){if(!this.information.get(m+2))return!1}else if(this.information.get(m+y))return!1;return!0}isAlphaOr646ToNumericLatch(m){if(m+3>this.information.getSize())return!1;for(let y=m;y<m+3;++y)if(this.information.get(y))return!1;return!0}isNumericToAlphaNumericLatch(m){if(m+1>this.information.getSize())return!1;for(let y=0;y<4&&y+m<this.information.getSize();++y)if(this.information.get(m+y))return!1;return!0}}class Qe{constructor(m){this.information=m,this.generalDecoder=new Ye(m)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Xe extends Qe{constructor(m){super(m)}encodeCompressedGtin(m,y){m.append("(01)");let w=m.length();m.append("9"),this.encodeCompressedGtinWithoutAI(m,y,w)}encodeCompressedGtinWithoutAI(m,y,w){for(let E=0;E<4;++E){let P=this.getGeneralDecoder().extractNumericValueFromBitArray(y+10*E,10);P/100===0&&m.append("0"),P/10===0&&m.append("0"),m.append(P)}Xe.appendCheckDigit(m,w)}static appendCheckDigit(m,y){let w=0;for(let E=0;E<13;E++){let P=m.charAt(E+y).charCodeAt(0)-"0".charCodeAt(0);w+=E&1?P:3*P}w=10-w%10,w===10&&(w=0),m.append(w)}}Xe.GTIN_SIZE=40;class nt extends Xe{constructor(m){super(m)}parseInformation(){let m=new re;m.append("(01)");let y=m.length(),w=this.getGeneralDecoder().extractNumericValueFromBitArray(nt.HEADER_SIZE,4);return m.append(w),this.encodeCompressedGtinWithoutAI(m,nt.HEADER_SIZE+4,y),this.getGeneralDecoder().decodeAllCodes(m,nt.HEADER_SIZE+44)}}nt.HEADER_SIZE=1+1+2;class yt extends Qe{constructor(m){super(m)}parseInformation(){let m=new re;return this.getGeneralDecoder().decodeAllCodes(m,yt.HEADER_SIZE)}}yt.HEADER_SIZE=2+1+2;class Ot extends Xe{constructor(m){super(m)}encodeCompressedWeight(m,y,w){let E=this.getGeneralDecoder().extractNumericValueFromBitArray(y,w);this.addWeightCode(m,E);let P=this.checkWeight(E),D=1e5;for(let V=0;V<5;++V)P/D===0&&m.append("0"),D/=10;m.append(P)}}class St extends Ot{constructor(m){super(m)}parseInformation(){if(this.getInformation().getSize()!=St.HEADER_SIZE+Ot.GTIN_SIZE+St.WEIGHT_SIZE)throw new X;let m=new re;return this.encodeCompressedGtin(m,St.HEADER_SIZE),this.encodeCompressedWeight(m,St.HEADER_SIZE+Ot.GTIN_SIZE,St.WEIGHT_SIZE),m.toString()}}St.HEADER_SIZE=4+1,St.WEIGHT_SIZE=15;class Pt extends St{constructor(m){super(m)}addWeightCode(m,y){m.append("(3103)")}checkWeight(m){return m}}class It extends St{constructor(m){super(m)}addWeightCode(m,y){y<1e4?m.append("(3202)"):m.append("(3203)")}checkWeight(m){return m<1e4?m:m-1e4}}class mr extends Xe{constructor(m){super(m)}parseInformation(){if(this.getInformation().getSize()<mr.HEADER_SIZE+Xe.GTIN_SIZE)throw new X;let m=new re;this.encodeCompressedGtin(m,mr.HEADER_SIZE);let y=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+Xe.GTIN_SIZE,mr.LAST_DIGIT_SIZE);m.append("(392"),m.append(y),m.append(")");let w=this.getGeneralDecoder().decodeGeneralPurposeField(mr.HEADER_SIZE+Xe.GTIN_SIZE+mr.LAST_DIGIT_SIZE,null);return m.append(w.getNewString()),m.toString()}}mr.HEADER_SIZE=5+1+2,mr.LAST_DIGIT_SIZE=2;class br extends Xe{constructor(m){super(m)}parseInformation(){if(this.getInformation().getSize()<br.HEADER_SIZE+Xe.GTIN_SIZE)throw new X;let m=new re;this.encodeCompressedGtin(m,br.HEADER_SIZE);let y=this.getGeneralDecoder().extractNumericValueFromBitArray(br.HEADER_SIZE+Xe.GTIN_SIZE,br.LAST_DIGIT_SIZE);m.append("(393"),m.append(y),m.append(")");let w=this.getGeneralDecoder().extractNumericValueFromBitArray(br.HEADER_SIZE+Xe.GTIN_SIZE+br.LAST_DIGIT_SIZE,br.FIRST_THREE_DIGITS_SIZE);w/100==0&&m.append("0"),w/10==0&&m.append("0"),m.append(w);let E=this.getGeneralDecoder().decodeGeneralPurposeField(br.HEADER_SIZE+Xe.GTIN_SIZE+br.LAST_DIGIT_SIZE+br.FIRST_THREE_DIGITS_SIZE,null);return m.append(E.getNewString()),m.toString()}}br.HEADER_SIZE=5+1+2,br.LAST_DIGIT_SIZE=2,br.FIRST_THREE_DIGITS_SIZE=10;class wr extends Ot{constructor(m,y,w){super(m),this.dateCode=w,this.firstAIdigits=y}parseInformation(){if(this.getInformation().getSize()!=wr.HEADER_SIZE+wr.GTIN_SIZE+wr.WEIGHT_SIZE+wr.DATE_SIZE)throw new X;let m=new re;return this.encodeCompressedGtin(m,wr.HEADER_SIZE),this.encodeCompressedWeight(m,wr.HEADER_SIZE+wr.GTIN_SIZE,wr.WEIGHT_SIZE),this.encodeCompressedDate(m,wr.HEADER_SIZE+wr.GTIN_SIZE+wr.WEIGHT_SIZE),m.toString()}encodeCompressedDate(m,y){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(y,wr.DATE_SIZE);if(w==38400)return;m.append("("),m.append(this.dateCode),m.append(")");let E=w%32;w/=32;let P=w%12+1;w/=12;let D=w;D/10==0&&m.append("0"),m.append(D),P/10==0&&m.append("0"),m.append(P),E/10==0&&m.append("0"),m.append(E)}addWeightCode(m,y){m.append("("),m.append(this.firstAIdigits),m.append(y/1e5),m.append(")")}checkWeight(m){return m%1e5}}wr.HEADER_SIZE=7+1,wr.WEIGHT_SIZE=20,wr.DATE_SIZE=16;function Tr(ke){try{if(ke.get(1))return new nt(ke);if(!ke.get(2))return new yt(ke);switch(Ye.extractNumericValueFromBitArray(ke,1,4)){case 4:return new Pt(ke);case 5:return new It(ke)}switch(Ye.extractNumericValueFromBitArray(ke,1,5)){case 12:return new mr(ke);case 13:return new br(ke)}switch(Ye.extractNumericValueFromBitArray(ke,1,7)){case 56:return new wr(ke,"310","11");case 57:return new wr(ke,"320","11");case 58:return new wr(ke,"310","13");case 59:return new wr(ke,"320","13");case 60:return new wr(ke,"310","15");case 61:return new wr(ke,"320","15");case 62:return new wr(ke,"310","17");case 63:return new wr(ke,"320","17")}}catch(m){throw console.log(m),new Me("unknown decoder: "+ke)}}class Sr{constructor(m,y,w,E){this.leftchar=m,this.rightchar=y,this.finderpattern=w,this.maybeLast=E}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(m,y){return m instanceof Sr?Sr.equalsOrNull(m.leftchar,y.leftchar)&&Sr.equalsOrNull(m.rightchar,y.rightchar)&&Sr.equalsOrNull(m.finderpattern,y.finderpattern):!1}static equalsOrNull(m,y){return m===null?y===null:Sr.equals(m,y)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ua{constructor(m,y,w){this.pairs=m,this.rowNumber=y,this.wasReversed=w}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(m){return this.checkEqualitity(this,m)}toString(){return"{ "+this.pairs+" }"}equals(m,y){return m instanceof ua?this.checkEqualitity(m,y)&&m.wasReversed===y.wasReversed:!1}checkEqualitity(m,y){if(!m||!y)return;let w;return m.forEach((E,P)=>{y.forEach(D=>{E.getLeftChar().getValue()===D.getLeftChar().getValue()&&E.getRightChar().getValue()===D.getRightChar().getValue()&&E.getFinderPatter().getValue()===D.getFinderPatter().getValue()&&(w=!0)})}),w}}class Ut extends Na{constructor(m){super(...arguments),this.pairs=new Array(Ut.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=m===!0}decodeRow(m,y,w){this.pairs.length=0,this.startFromEven=!1;try{return Ut.constructResult(this.decodeRow2pairs(m,y))}catch(E){this.verbose&&console.log(E)}return this.pairs.length=0,this.startFromEven=!0,Ut.constructResult(this.decodeRow2pairs(m,y))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(m,y){let w=!1;for(;!w;)try{this.pairs.push(this.retrieveNextPair(y,this.pairs,m))}catch(P){if(P instanceof X){if(!this.pairs.length)throw new X;w=!0}}if(this.checkChecksum())return this.pairs;let E;if(this.rows.length?E=!0:E=!1,this.storeRow(m,!1),E){let P=this.checkRowsBoolean(!1);if(P!=null||(P=this.checkRowsBoolean(!0),P!=null))return P}throw new X}checkRowsBoolean(m){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,m&&(this.rows=this.rows.reverse());let y=null;try{y=this.checkRows(new Array,0)}catch(w){this.verbose&&console.log(w)}return m&&(this.rows=this.rows.reverse()),y}checkRows(m,y){for(let w=y;w<this.rows.length;w++){let E=this.rows[w];this.pairs.length=0;for(let D of m)this.pairs.push(D.getPairs());if(this.pairs.push(E.getPairs()),!Ut.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let P=new Array(m);P.push(E);try{return this.checkRows(P,w+1)}catch(D){this.verbose&&console.log(D)}}throw new X}static isValidSequence(m){for(let y of Ut.FINDER_PATTERN_SEQUENCES){if(m.length>y.length)continue;let w=!0;for(let E=0;E<m.length;E++)if(m[E].getFinderPattern().getValue()!=y[E]){w=!1;break}if(w)return!0}return!1}storeRow(m,y){let w=0,E=!1,P=!1;for(;w<this.rows.length;){let D=this.rows[w];if(D.getRowNumber()>m){P=D.isEquivalent(this.pairs);break}E=D.isEquivalent(this.pairs),w++}P||E||Ut.isPartialRow(this.pairs,this.rows)||(this.rows.push(w,new ua(this.pairs,m,y)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(m,y){for(let w of y)if(w.getPairs().length!==m.length){for(let E of w.getPairs())for(let P of m)if(Sr.equals(E,P))break}}static isPartialRow(m,y){for(let w of y){let E=!0;for(let P of m){let D=!1;for(let V of w.getPairs())if(P.equals(V)){D=!0;break}if(!D){E=!1;break}}if(E)return!0}return!1}getRows(){return this.rows}static constructResult(m){let y=rc.buildBitArray(m),E=Tr(y).parseInformation(),P=m[0].getFinderPattern().getResultPoints(),D=m[m.length-1].getFinderPattern().getResultPoints(),V=[P[0],P[1],D[0],D[1]];return new se(E,null,null,V,ge.RSS_EXPANDED,null)}checkChecksum(){let m=this.pairs.get(0),y=m.getLeftChar(),w=m.getRightChar();if(w==null)return!1;let E=w.getChecksumPortion(),P=2;for(let V=1;V<this.pairs.size();++V){let Z=this.pairs.get(V);E+=Z.getLeftChar().getChecksumPortion(),P++;let oe=Z.getRightChar();oe!=null&&(E+=oe.getChecksumPortion(),P++)}return E%=211,211*(P-4)+E==y.getValue()}static getNextSecondBar(m,y){let w;return m.get(y)?(w=m.getNextUnset(y),w=m.getNextSet(w)):(w=m.getNextSet(y),w=m.getNextUnset(w)),w}retrieveNextPair(m,y,w){let E=y.length%2==0;this.startFromEven&&(E=!E);let P,D=!0,V=-1;do this.findNextPair(m,y,V),P=this.parseFoundFinderPattern(m,w,E),P==null?V=Ut.getNextSecondBar(m,this.startEnd[0]):D=!1;while(D);let Z=this.decodeDataCharacter(m,P,E,!0);if(!this.isEmptyPair(y)&&y[y.length-1].mustBeLast())throw new X;let oe;try{oe=this.decodeDataCharacter(m,P,E,!1)}catch(be){oe=null,this.verbose&&console.log(be)}return new Sr(Z,oe,P,!0)}isEmptyPair(m){return m.length===0}findNextPair(m,y,w){let E=this.getDecodeFinderCounters();E[0]=0,E[1]=0,E[2]=0,E[3]=0;let P=m.getSize(),D;w>=0?D=w:this.isEmptyPair(y)?D=0:D=y[y.length-1].getFinderPattern().getStartEnd()[1];let V=y.length%2!=0;this.startFromEven&&(V=!V);let Z=!1;for(;D<P&&(Z=!m.get(D),!!Z);)D++;let oe=0,be=D;for(let Te=D;Te<P;Te++)if(m.get(Te)!=Z)E[oe]++;else{if(oe==3){if(V&&Ut.reverseCounters(E),Ut.isFinderPattern(E)){this.startEnd[0]=be,this.startEnd[1]=Te;return}V&&Ut.reverseCounters(E),be+=E[0]+E[1],E[0]=E[2],E[1]=E[3],E[2]=0,E[3]=0,oe--}else oe++;E[oe]=1,Z=!Z}throw new X}static reverseCounters(m){let y=m.length;for(let w=0;w<y/2;++w){let E=m[w];m[w]=m[y-w-1],m[y-w-1]=E}}parseFoundFinderPattern(m,y,w){let E,P,D;if(w){let oe=this.startEnd[0]-1;for(;oe>=0&&!m.get(oe);)oe--;oe++,E=this.startEnd[0]-oe,P=oe,D=this.startEnd[1]}else P=this.startEnd[0],D=m.getNextUnset(this.startEnd[1]+1),E=D-this.startEnd[1];let V=this.getDecodeFinderCounters();b.arraycopy(V,0,V,1,V.length-1),V[0]=E;let Z;try{Z=this.parseFinderValue(V,Ut.FINDER_PATTERNS)}catch{return null}return new Vn(Z,[P,D],P,D,y)}decodeDataCharacter(m,y,w,E){let P=this.getDataCharacterCounters();for(let Vi=0;Vi<P.length;Vi++)P[Vi]=0;if(E)Ut.recordPatternInReverse(m,y.getStartEnd()[0],P);else{Ut.recordPattern(m,y.getStartEnd()[1],P);for(let Vi=0,co=P.length-1;Vi<co;Vi++,co--){let vl=P[Vi];P[Vi]=P[co],P[co]=vl}}let D=17,V=Tt.sum(new Int32Array(P))/D,Z=(y.getStartEnd()[1]-y.getStartEnd()[0])/15;if(Math.abs(V-Z)/Z>.3)throw new X;let oe=this.getOddCounts(),be=this.getEvenCounts(),Te=this.getOddRoundingErrors(),De=this.getEvenRoundingErrors();for(let Vi=0;Vi<P.length;Vi++){let co=1*P[Vi]/V,vl=co+.5;if(vl<1){if(co<.3)throw new X;vl=1}else if(vl>8){if(co>8.7)throw new X;vl=8}let yf=Vi/2;Vi&1?(be[yf]=vl,De[yf]=co-vl):(oe[yf]=vl,Te[yf]=co-vl)}this.adjustOddEvenCounts(D);let et=4*y.getValue()+(w?0:2)+(E?0:1)-1,dt=0,pt=0;for(let Vi=oe.length-1;Vi>=0;Vi--){if(Ut.isNotA1left(y,w,E)){let co=Ut.WEIGHTS[et][2*Vi];pt+=oe[Vi]*co}dt+=oe[Vi]}let Nt=0;for(let Vi=be.length-1;Vi>=0;Vi--)if(Ut.isNotA1left(y,w,E)){let co=Ut.WEIGHTS[et][2*Vi+1];Nt+=be[Vi]*co}let Rt=pt+Nt;if(dt&1||dt>13||dt<4)throw new X;let Gt=(13-dt)/2,or=Ut.SYMBOL_WIDEST[Gt],ir=9-or,ta=js.getRSSvalue(oe,or,!0),da=js.getRSSvalue(be,ir,!1),Ti=Ut.EVEN_TOTAL_SUBSET[Gt],al=Ut.GSUM[Gt],Do=ta*Ti+da+al;return new Io(Do,Rt)}static isNotA1left(m,y,w){return!(m.getValue()==0&&y&&w)}adjustOddEvenCounts(m){let y=Tt.sum(new Int32Array(this.getOddCounts())),w=Tt.sum(new Int32Array(this.getEvenCounts())),E=!1,P=!1;y>13?P=!0:y<4&&(E=!0);let D=!1,V=!1;w>13?V=!0:w<4&&(D=!0);let Z=y+w-m,oe=(y&1)==1,be=(w&1)==0;if(Z==1)if(oe){if(be)throw new X;P=!0}else{if(!be)throw new X;V=!0}else if(Z==-1)if(oe){if(be)throw new X;E=!0}else{if(!be)throw new X;D=!0}else if(Z==0){if(oe){if(!be)throw new X;y<w?(E=!0,V=!0):(P=!0,D=!0)}else if(be)throw new X}else throw new X;if(E){if(P)throw new X;Ut.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(P&&Ut.decrement(this.getOddCounts(),this.getOddRoundingErrors()),D){if(V)throw new X;Ut.increment(this.getEvenCounts(),this.getOddRoundingErrors())}V&&Ut.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ut.SYMBOL_WIDEST=[7,5,4,3,1],Ut.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ut.GSUM=[0,348,1388,2948,3988],Ut.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ut.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ut.FINDER_PAT_A=0,Ut.FINDER_PAT_B=1,Ut.FINDER_PAT_C=2,Ut.FINDER_PAT_D=3,Ut.FINDER_PAT_E=4,Ut.FINDER_PAT_F=5,Ut.FINDER_PATTERN_SEQUENCES=[[Ut.FINDER_PAT_A,Ut.FINDER_PAT_A],[Ut.FINDER_PAT_A,Ut.FINDER_PAT_B,Ut.FINDER_PAT_B],[Ut.FINDER_PAT_A,Ut.FINDER_PAT_C,Ut.FINDER_PAT_B,Ut.FINDER_PAT_D],[Ut.FINDER_PAT_A,Ut.FINDER_PAT_E,Ut.FINDER_PAT_B,Ut.FINDER_PAT_D,Ut.FINDER_PAT_C],[Ut.FINDER_PAT_A,Ut.FINDER_PAT_E,Ut.FINDER_PAT_B,Ut.FINDER_PAT_D,Ut.FINDER_PAT_D,Ut.FINDER_PAT_F],[Ut.FINDER_PAT_A,Ut.FINDER_PAT_E,Ut.FINDER_PAT_B,Ut.FINDER_PAT_D,Ut.FINDER_PAT_E,Ut.FINDER_PAT_F,Ut.FINDER_PAT_F],[Ut.FINDER_PAT_A,Ut.FINDER_PAT_A,Ut.FINDER_PAT_B,Ut.FINDER_PAT_B,Ut.FINDER_PAT_C,Ut.FINDER_PAT_C,Ut.FINDER_PAT_D,Ut.FINDER_PAT_D],[Ut.FINDER_PAT_A,Ut.FINDER_PAT_A,Ut.FINDER_PAT_B,Ut.FINDER_PAT_B,Ut.FINDER_PAT_C,Ut.FINDER_PAT_C,Ut.FINDER_PAT_D,Ut.FINDER_PAT_E,Ut.FINDER_PAT_E],[Ut.FINDER_PAT_A,Ut.FINDER_PAT_A,Ut.FINDER_PAT_B,Ut.FINDER_PAT_B,Ut.FINDER_PAT_C,Ut.FINDER_PAT_C,Ut.FINDER_PAT_D,Ut.FINDER_PAT_E,Ut.FINDER_PAT_F,Ut.FINDER_PAT_F],[Ut.FINDER_PAT_A,Ut.FINDER_PAT_A,Ut.FINDER_PAT_B,Ut.FINDER_PAT_B,Ut.FINDER_PAT_C,Ut.FINDER_PAT_D,Ut.FINDER_PAT_D,Ut.FINDER_PAT_E,Ut.FINDER_PAT_E,Ut.FINDER_PAT_F,Ut.FINDER_PAT_F]],Ut.MAX_PAIRS=11;class va extends Io{constructor(m,y,w){super(m,y),this.count=0,this.finderPattern=w}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ta extends Na{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(m,y,w){const E=this.decodePair(y,!1,m,w);Ta.addOrTally(this.possibleLeftPairs,E),y.reverse();let P=this.decodePair(y,!0,m,w);Ta.addOrTally(this.possibleRightPairs,P),y.reverse();for(let D of this.possibleLeftPairs)if(D.getCount()>1){for(let V of this.possibleRightPairs)if(V.getCount()>1&&Ta.checkChecksum(D,V))return Ta.constructResult(D,V)}throw new X}static addOrTally(m,y){if(y==null)return;let w=!1;for(let E of m)if(E.getValue()===y.getValue()){E.incrementCount(),w=!0;break}w||m.push(y)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(m,y){let w=4537077*m.getValue()+y.getValue(),E=new String(w).toString(),P=new re;for(let oe=13-E.length;oe>0;oe--)P.append("0");P.append(E);let D=0;for(let oe=0;oe<13;oe++){let be=P.charAt(oe).charCodeAt(0)-"0".charCodeAt(0);D+=oe&1?be:3*be}D=10-D%10,D===10&&(D=0),P.append(D.toString());let V=m.getFinderPattern().getResultPoints(),Z=y.getFinderPattern().getResultPoints();return new se(P.toString(),null,0,[V[0],V[1],Z[0],Z[1]],ge.RSS_14,new Date().getTime())}static checkChecksum(m,y){let w=(m.getChecksumPortion()+16*y.getChecksumPortion())%79,E=9*m.getFinderPattern().getValue()+y.getFinderPattern().getValue();return E>72&&E--,E>8&&E--,w===E}decodePair(m,y,w,E){try{let P=this.findFinderPattern(m,y),D=this.parseFoundFinderPattern(m,w,y,P),V=E==null?null:E.get(B.NEED_RESULT_POINT_CALLBACK);if(V!=null){let be=(P[0]+P[1])/2;y&&(be=m.getSize()-1-be),V.foundPossibleResultPoint(new ct(be,w))}let Z=this.decodeDataCharacter(m,D,!0),oe=this.decodeDataCharacter(m,D,!1);return new va(1597*Z.getValue()+oe.getValue(),Z.getChecksumPortion()+4*oe.getChecksumPortion(),D)}catch{return null}}decodeDataCharacter(m,y,w){let E=this.getDataCharacterCounters();for(let Nt=0;Nt<E.length;Nt++)E[Nt]=0;if(w)Zn.recordPatternInReverse(m,y.getStartEnd()[0],E);else{Zn.recordPattern(m,y.getStartEnd()[1]+1,E);for(let Nt=0,Rt=E.length-1;Nt<Rt;Nt++,Rt--){let Gt=E[Nt];E[Nt]=E[Rt],E[Rt]=Gt}}let P=w?16:15,D=Tt.sum(new Int32Array(E))/P,V=this.getOddCounts(),Z=this.getEvenCounts(),oe=this.getOddRoundingErrors(),be=this.getEvenRoundingErrors();for(let Nt=0;Nt<E.length;Nt++){let Rt=E[Nt]/D,Gt=Math.floor(Rt+.5);Gt<1?Gt=1:Gt>8&&(Gt=8);let or=Math.floor(Nt/2);Nt&1?(Z[or]=Gt,be[or]=Rt-Gt):(V[or]=Gt,oe[or]=Rt-Gt)}this.adjustOddEvenCounts(w,P);let Te=0,De=0;for(let Nt=V.length-1;Nt>=0;Nt--)De*=9,De+=V[Nt],Te+=V[Nt];let et=0,dt=0;for(let Nt=Z.length-1;Nt>=0;Nt--)et*=9,et+=Z[Nt],dt+=Z[Nt];let pt=De+3*et;if(w){if(Te&1||Te>12||Te<4)throw new X;let Nt=(12-Te)/2,Rt=Ta.OUTSIDE_ODD_WIDEST[Nt],Gt=9-Rt,or=js.getRSSvalue(V,Rt,!1),ir=js.getRSSvalue(Z,Gt,!0),ta=Ta.OUTSIDE_EVEN_TOTAL_SUBSET[Nt],da=Ta.OUTSIDE_GSUM[Nt];return new Io(or*ta+ir+da,pt)}else{if(dt&1||dt>10||dt<4)throw new X;let Nt=(10-dt)/2,Rt=Ta.INSIDE_ODD_WIDEST[Nt],Gt=9-Rt,or=js.getRSSvalue(V,Rt,!0),ir=js.getRSSvalue(Z,Gt,!1),ta=Ta.INSIDE_ODD_TOTAL_SUBSET[Nt],da=Ta.INSIDE_GSUM[Nt];return new Io(ir*ta+or+da,pt)}}findFinderPattern(m,y){let w=this.getDecodeFinderCounters();w[0]=0,w[1]=0,w[2]=0,w[3]=0;let E=m.getSize(),P=!1,D=0;for(;D<E&&(P=!m.get(D),y!==P);)D++;let V=0,Z=D;for(let oe=D;oe<E;oe++)if(m.get(oe)!==P)w[V]++;else{if(V===3){if(Na.isFinderPattern(w))return[Z,oe];Z+=w[0]+w[1],w[0]=w[2],w[1]=w[3],w[2]=0,w[3]=0,V--}else V++;w[V]=1,P=!P}throw new X}parseFoundFinderPattern(m,y,w,E){let P=m.get(E[0]),D=E[0]-1;for(;D>=0&&P!==m.get(D);)D--;D++;const V=E[0]-D,Z=this.getDecodeFinderCounters(),oe=new Int32Array(Z.length);b.arraycopy(Z,0,oe,1,Z.length-1),oe[0]=V;const be=this.parseFinderValue(oe,Ta.FINDER_PATTERNS);let Te=D,De=E[1];return w&&(Te=m.getSize()-1-Te,De=m.getSize()-1-De),new Vn(be,[D,E[1]],Te,De,y)}adjustOddEvenCounts(m,y){let w=Tt.sum(new Int32Array(this.getOddCounts())),E=Tt.sum(new Int32Array(this.getEvenCounts())),P=!1,D=!1,V=!1,Z=!1;m?(w>12?D=!0:w<4&&(P=!0),E>12?Z=!0:E<4&&(V=!0)):(w>11?D=!0:w<5&&(P=!0),E>10?Z=!0:E<4&&(V=!0));let oe=w+E-y,be=(w&1)===(m?1:0),Te=(E&1)===1;if(oe===1)if(be){if(Te)throw new X;D=!0}else{if(!Te)throw new X;Z=!0}else if(oe===-1)if(be){if(Te)throw new X;P=!0}else{if(!Te)throw new X;V=!0}else if(oe===0){if(be){if(!Te)throw new X;w<E?(P=!0,Z=!0):(D=!0,V=!0)}else if(Te)throw new X}else throw new X;if(P){if(D)throw new X;Na.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(D&&Na.decrement(this.getOddCounts(),this.getOddRoundingErrors()),V){if(Z)throw new X;Na.increment(this.getEvenCounts(),this.getOddRoundingErrors())}Z&&Na.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ta.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ta.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ta.OUTSIDE_GSUM=[0,161,961,2015,2715],Ta.INSIDE_GSUM=[0,336,1036,1516],Ta.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ta.INSIDE_ODD_WIDEST=[2,4,6,8],Ta.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ea extends Zn{constructor(m,y){super(),this.readers=[],this.verbose=y===!0;const w=m?m.get(B.POSSIBLE_FORMATS):null,E=m&&m.get(B.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;w?((w.includes(ge.EAN_13)||w.includes(ge.UPC_A)||w.includes(ge.EAN_8)||w.includes(ge.UPC_E))&&this.readers.push(new Ss(m)),w.includes(ge.CODE_39)&&this.readers.push(new ln(E)),w.includes(ge.CODE_128)&&this.readers.push(new sr),w.includes(ge.ITF)&&this.readers.push(new Fn),w.includes(ge.RSS_14)&&this.readers.push(new Ta),w.includes(ge.RSS_EXPANDED)&&this.readers.push(new Ut(this.verbose))):(this.readers.push(new Ss(m)),this.readers.push(new ln),this.readers.push(new Ss(m)),this.readers.push(new sr),this.readers.push(new Fn),this.readers.push(new Ta),this.readers.push(new Ut(this.verbose)))}decodeRow(m,y,w){for(let E=0;E<this.readers.length;E++)try{return this.readers[E].decodeRow(m,y,w)}catch{}throw new X}reset(){this.readers.forEach(m=>m.reset())}}class Cc extends he{constructor(m=500,y){super(new ea(y),m,y)}}class Wa{constructor(m,y,w){this.ecCodewords=m,this.ecBlocks=[y],w&&this.ecBlocks.push(w)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Sa{constructor(m,y){this.count=m,this.dataCodewords=y}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Tn{constructor(m,y,w,E,P,D){this.versionNumber=m,this.symbolSizeRows=y,this.symbolSizeColumns=w,this.dataRegionSizeRows=E,this.dataRegionSizeColumns=P,this.ecBlocks=D;let V=0;const Z=D.getECCodewords(),oe=D.getECBlocks();for(let be of oe)V+=be.getCount()*(be.getDataCodewords()+Z);this.totalCodewords=V}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(m,y){if(m&1||y&1)throw new L;for(let w of Tn.VERSIONS)if(w.symbolSizeRows===m&&w.symbolSizeColumns===y)return w;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new Tn(1,10,10,8,8,new Wa(5,new Sa(1,3))),new Tn(2,12,12,10,10,new Wa(7,new Sa(1,5))),new Tn(3,14,14,12,12,new Wa(10,new Sa(1,8))),new Tn(4,16,16,14,14,new Wa(12,new Sa(1,12))),new Tn(5,18,18,16,16,new Wa(14,new Sa(1,18))),new Tn(6,20,20,18,18,new Wa(18,new Sa(1,22))),new Tn(7,22,22,20,20,new Wa(20,new Sa(1,30))),new Tn(8,24,24,22,22,new Wa(24,new Sa(1,36))),new Tn(9,26,26,24,24,new Wa(28,new Sa(1,44))),new Tn(10,32,32,14,14,new Wa(36,new Sa(1,62))),new Tn(11,36,36,16,16,new Wa(42,new Sa(1,86))),new Tn(12,40,40,18,18,new Wa(48,new Sa(1,114))),new Tn(13,44,44,20,20,new Wa(56,new Sa(1,144))),new Tn(14,48,48,22,22,new Wa(68,new Sa(1,174))),new Tn(15,52,52,24,24,new Wa(42,new Sa(2,102))),new Tn(16,64,64,14,14,new Wa(56,new Sa(2,140))),new Tn(17,72,72,16,16,new Wa(36,new Sa(4,92))),new Tn(18,80,80,18,18,new Wa(48,new Sa(4,114))),new Tn(19,88,88,20,20,new Wa(56,new Sa(4,144))),new Tn(20,96,96,22,22,new Wa(68,new Sa(4,174))),new Tn(21,104,104,24,24,new Wa(56,new Sa(6,136))),new Tn(22,120,120,18,18,new Wa(68,new Sa(6,175))),new Tn(23,132,132,20,20,new Wa(62,new Sa(8,163))),new Tn(24,144,144,22,22,new Wa(62,new Sa(8,156),new Sa(2,155))),new Tn(25,8,18,6,16,new Wa(7,new Sa(1,5))),new Tn(26,8,32,6,14,new Wa(11,new Sa(1,10))),new Tn(27,12,26,10,24,new Wa(14,new Sa(1,16))),new Tn(28,12,36,10,16,new Wa(18,new Sa(1,22))),new Tn(29,16,36,14,16,new Wa(24,new Sa(1,32))),new Tn(30,16,48,14,22,new Wa(28,new Sa(1,49)))]}}Tn.VERSIONS=Tn.buildVersions();class Rs{constructor(m){const y=m.getHeight();if(y<8||y>144||y&1)throw new L;this.version=Rs.readVersion(m),this.mappingBitMatrix=this.extractDataRegion(m),this.readMappingMatrix=new ae(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(m){const y=m.getHeight(),w=m.getWidth();return Tn.getVersionForDimensions(y,w)}readCodewords(){const m=new Int8Array(this.version.getTotalCodewords());let y=0,w=4,E=0;const P=this.mappingBitMatrix.getHeight(),D=this.mappingBitMatrix.getWidth();let V=!1,Z=!1,oe=!1,be=!1;do if(w===P&&E===0&&!V)m[y++]=this.readCorner1(P,D)&255,w-=2,E+=2,V=!0;else if(w===P-2&&E===0&&D&3&&!Z)m[y++]=this.readCorner2(P,D)&255,w-=2,E+=2,Z=!0;else if(w===P+4&&E===2&&!(D&7)&&!oe)m[y++]=this.readCorner3(P,D)&255,w-=2,E+=2,oe=!0;else if(w===P-2&&E===0&&(D&7)===4&&!be)m[y++]=this.readCorner4(P,D)&255,w-=2,E+=2,be=!0;else{do w<P&&E>=0&&!this.readMappingMatrix.get(E,w)&&(m[y++]=this.readUtah(w,E,P,D)&255),w-=2,E+=2;while(w>=0&&E<D);w+=1,E+=3;do w>=0&&E<D&&!this.readMappingMatrix.get(E,w)&&(m[y++]=this.readUtah(w,E,P,D)&255),w+=2,E-=2;while(w<P&&E>=0);w+=3,E+=1}while(w<P||E<D);if(y!==this.version.getTotalCodewords())throw new L;return m}readModule(m,y,w,E){return m<0&&(m+=w,y+=4-(w+4&7)),y<0&&(y+=E,m+=4-(E+4&7)),this.readMappingMatrix.set(y,m),this.mappingBitMatrix.get(y,m)}readUtah(m,y,w,E){let P=0;return this.readModule(m-2,y-2,w,E)&&(P|=1),P<<=1,this.readModule(m-2,y-1,w,E)&&(P|=1),P<<=1,this.readModule(m-1,y-2,w,E)&&(P|=1),P<<=1,this.readModule(m-1,y-1,w,E)&&(P|=1),P<<=1,this.readModule(m-1,y,w,E)&&(P|=1),P<<=1,this.readModule(m,y-2,w,E)&&(P|=1),P<<=1,this.readModule(m,y-1,w,E)&&(P|=1),P<<=1,this.readModule(m,y,w,E)&&(P|=1),P}readCorner1(m,y){let w=0;return this.readModule(m-1,0,m,y)&&(w|=1),w<<=1,this.readModule(m-1,1,m,y)&&(w|=1),w<<=1,this.readModule(m-1,2,m,y)&&(w|=1),w<<=1,this.readModule(0,y-2,m,y)&&(w|=1),w<<=1,this.readModule(0,y-1,m,y)&&(w|=1),w<<=1,this.readModule(1,y-1,m,y)&&(w|=1),w<<=1,this.readModule(2,y-1,m,y)&&(w|=1),w<<=1,this.readModule(3,y-1,m,y)&&(w|=1),w}readCorner2(m,y){let w=0;return this.readModule(m-3,0,m,y)&&(w|=1),w<<=1,this.readModule(m-2,0,m,y)&&(w|=1),w<<=1,this.readModule(m-1,0,m,y)&&(w|=1),w<<=1,this.readModule(0,y-4,m,y)&&(w|=1),w<<=1,this.readModule(0,y-3,m,y)&&(w|=1),w<<=1,this.readModule(0,y-2,m,y)&&(w|=1),w<<=1,this.readModule(0,y-1,m,y)&&(w|=1),w<<=1,this.readModule(1,y-1,m,y)&&(w|=1),w}readCorner3(m,y){let w=0;return this.readModule(m-1,0,m,y)&&(w|=1),w<<=1,this.readModule(m-1,y-1,m,y)&&(w|=1),w<<=1,this.readModule(0,y-3,m,y)&&(w|=1),w<<=1,this.readModule(0,y-2,m,y)&&(w|=1),w<<=1,this.readModule(0,y-1,m,y)&&(w|=1),w<<=1,this.readModule(1,y-3,m,y)&&(w|=1),w<<=1,this.readModule(1,y-2,m,y)&&(w|=1),w<<=1,this.readModule(1,y-1,m,y)&&(w|=1),w}readCorner4(m,y){let w=0;return this.readModule(m-3,0,m,y)&&(w|=1),w<<=1,this.readModule(m-2,0,m,y)&&(w|=1),w<<=1,this.readModule(m-1,0,m,y)&&(w|=1),w<<=1,this.readModule(0,y-2,m,y)&&(w|=1),w<<=1,this.readModule(0,y-1,m,y)&&(w|=1),w<<=1,this.readModule(1,y-1,m,y)&&(w|=1),w<<=1,this.readModule(2,y-1,m,y)&&(w|=1),w<<=1,this.readModule(3,y-1,m,y)&&(w|=1),w}extractDataRegion(m){const y=this.version.getSymbolSizeRows(),w=this.version.getSymbolSizeColumns();if(m.getHeight()!==y)throw new h("Dimension of bitMatrix must match the version size");const E=this.version.getDataRegionSizeRows(),P=this.version.getDataRegionSizeColumns(),D=y/E|0,V=w/P|0,Z=D*E,oe=V*P,be=new ae(oe,Z);for(let Te=0;Te<D;++Te){const De=Te*E;for(let et=0;et<V;++et){const dt=et*P;for(let pt=0;pt<E;++pt){const Nt=Te*(E+2)+1+pt,Rt=De+pt;for(let Gt=0;Gt<P;++Gt){const or=et*(P+2)+1+Gt;if(m.get(or,Nt)){const ir=dt+Gt;be.set(ir,Rt)}}}}}return be}}class Ts{constructor(m,y){this.numDataCodewords=m,this.codewords=y}static getDataBlocks(m,y){const w=y.getECBlocks();let E=0;const P=w.getECBlocks();for(let pt of P)E+=pt.getCount();const D=new Array(E);let V=0;for(let pt of P)for(let Nt=0;Nt<pt.getCount();Nt++){const Rt=pt.getDataCodewords(),Gt=w.getECCodewords()+Rt;D[V++]=new Ts(Rt,new Uint8Array(Gt))}const oe=D[0].codewords.length-w.getECCodewords(),be=oe-1;let Te=0;for(let pt=0;pt<be;pt++)for(let Nt=0;Nt<V;Nt++)D[Nt].codewords[pt]=m[Te++];const De=y.getVersionNumber()===24,et=De?8:V;for(let pt=0;pt<et;pt++)D[pt].codewords[oe-1]=m[Te++];const dt=D[0].codewords.length;for(let pt=oe;pt<dt;pt++)for(let Nt=0;Nt<V;Nt++){const Rt=De?(Nt+8)%V:Nt,Gt=De&&Rt>7?pt-1:pt;D[Rt].codewords[Gt]=m[Te++]}if(Te!==m.length)throw new h;return D}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Z0{constructor(m){this.bytes=m,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(m){if(m<1||m>32||m>this.available())throw new h(""+m);let y=0,w=this.bitOffset,E=this.byteOffset;const P=this.bytes;if(w>0){const D=8-w,V=m<D?m:D,Z=D-V,oe=255>>8-V<<Z;y=(P[E]&oe)>>Z,m-=V,w+=V,w===8&&(w=0,E++)}if(m>0){for(;m>=8;)y=y<<8|P[E]&255,E++,m-=8;if(m>0){const D=8-m,V=255>>D<<D;y=y<<m|(P[E]&V)>>D,w+=m}}return this.bitOffset=w,this.byteOffset=E,y}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ri;(function(ke){ke[ke.PAD_ENCODE=0]="PAD_ENCODE",ke[ke.ASCII_ENCODE=1]="ASCII_ENCODE",ke[ke.C40_ENCODE=2]="C40_ENCODE",ke[ke.TEXT_ENCODE=3]="TEXT_ENCODE",ke[ke.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",ke[ke.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",ke[ke.BASE256_ENCODE=6]="BASE256_ENCODE"})(ri||(ri={}));class Wn{static decode(m){const y=new Z0(m),w=new re,E=new re,P=new Array;let D=ri.ASCII_ENCODE;do if(D===ri.ASCII_ENCODE)D=this.decodeAsciiSegment(y,w,E);else{switch(D){case ri.C40_ENCODE:this.decodeC40Segment(y,w);break;case ri.TEXT_ENCODE:this.decodeTextSegment(y,w);break;case ri.ANSIX12_ENCODE:this.decodeAnsiX12Segment(y,w);break;case ri.EDIFACT_ENCODE:this.decodeEdifactSegment(y,w);break;case ri.BASE256_ENCODE:this.decodeBase256Segment(y,w,P);break;default:throw new L}D=ri.ASCII_ENCODE}while(D!==ri.PAD_ENCODE&&y.available()>0);return E.length()>0&&w.append(E.toString()),new Ne(m,w.toString(),P.length===0?null:P,null)}static decodeAsciiSegment(m,y,w){let E=!1;do{let P=m.readBits(8);if(P===0)throw new L;if(P<=128)return E&&(P+=128),y.append(String.fromCharCode(P-1)),ri.ASCII_ENCODE;if(P===129)return ri.PAD_ENCODE;if(P<=229){const D=P-130;D<10&&y.append("0"),y.append(""+D)}else switch(P){case 230:return ri.C40_ENCODE;case 231:return ri.BASE256_ENCODE;case 232:y.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:E=!0;break;case 236:y.append("[)>05"),w.insert(0,"");break;case 237:y.append("[)>06"),w.insert(0,"");break;case 238:return ri.ANSIX12_ENCODE;case 239:return ri.TEXT_ENCODE;case 240:return ri.EDIFACT_ENCODE;case 241:break;default:if(P!==254||m.available()!==0)throw new L;break}}while(m.available()>0);return ri.ASCII_ENCODE}static decodeC40Segment(m,y){let w=!1;const E=[];let P=0;do{if(m.available()===8)return;const D=m.readBits(8);if(D===254)return;this.parseTwoBytes(D,m.readBits(8),E);for(let V=0;V<3;V++){const Z=E[V];switch(P){case 0:if(Z<3)P=Z+1;else if(Z<this.C40_BASIC_SET_CHARS.length){const oe=this.C40_BASIC_SET_CHARS[Z];w?(y.append(String.fromCharCode(oe.charCodeAt(0)+128)),w=!1):y.append(oe)}else throw new L;break;case 1:w?(y.append(String.fromCharCode(Z+128)),w=!1):y.append(String.fromCharCode(Z)),P=0;break;case 2:if(Z<this.C40_SHIFT2_SET_CHARS.length){const oe=this.C40_SHIFT2_SET_CHARS[Z];w?(y.append(String.fromCharCode(oe.charCodeAt(0)+128)),w=!1):y.append(oe)}else switch(Z){case 27:y.append(String.fromCharCode(29));break;case 30:w=!0;break;default:throw new L}P=0;break;case 3:w?(y.append(String.fromCharCode(Z+224)),w=!1):y.append(String.fromCharCode(Z+96)),P=0;break;default:throw new L}}}while(m.available()>0)}static decodeTextSegment(m,y){let w=!1,E=[],P=0;do{if(m.available()===8)return;const D=m.readBits(8);if(D===254)return;this.parseTwoBytes(D,m.readBits(8),E);for(let V=0;V<3;V++){const Z=E[V];switch(P){case 0:if(Z<3)P=Z+1;else if(Z<this.TEXT_BASIC_SET_CHARS.length){const oe=this.TEXT_BASIC_SET_CHARS[Z];w?(y.append(String.fromCharCode(oe.charCodeAt(0)+128)),w=!1):y.append(oe)}else throw new L;break;case 1:w?(y.append(String.fromCharCode(Z+128)),w=!1):y.append(String.fromCharCode(Z)),P=0;break;case 2:if(Z<this.TEXT_SHIFT2_SET_CHARS.length){const oe=this.TEXT_SHIFT2_SET_CHARS[Z];w?(y.append(String.fromCharCode(oe.charCodeAt(0)+128)),w=!1):y.append(oe)}else switch(Z){case 27:y.append(String.fromCharCode(29));break;case 30:w=!0;break;default:throw new L}P=0;break;case 3:if(Z<this.TEXT_SHIFT3_SET_CHARS.length){const oe=this.TEXT_SHIFT3_SET_CHARS[Z];w?(y.append(String.fromCharCode(oe.charCodeAt(0)+128)),w=!1):y.append(oe),P=0}else throw new L;break;default:throw new L}}}while(m.available()>0)}static decodeAnsiX12Segment(m,y){const w=[];do{if(m.available()===8)return;const E=m.readBits(8);if(E===254)return;this.parseTwoBytes(E,m.readBits(8),w);for(let P=0;P<3;P++){const D=w[P];switch(D){case 0:y.append("\r");break;case 1:y.append("*");break;case 2:y.append(">");break;case 3:y.append(" ");break;default:if(D<14)y.append(String.fromCharCode(D+44));else if(D<40)y.append(String.fromCharCode(D+51));else throw new L;break}}}while(m.available()>0)}static parseTwoBytes(m,y,w){let E=(m<<8)+y-1,P=Math.floor(E/1600);w[0]=P,E-=P*1600,P=Math.floor(E/40),w[1]=P,w[2]=E-P*40}static decodeEdifactSegment(m,y){do{if(m.available()<=16)return;for(let w=0;w<4;w++){let E=m.readBits(6);if(E===31){const P=8-m.getBitOffset();P!==8&&m.readBits(P);return}E&32||(E|=64),y.append(String.fromCharCode(E))}}while(m.available()>0)}static decodeBase256Segment(m,y,w){let E=1+m.getByteOffset();const P=this.unrandomize255State(m.readBits(8),E++);let D;if(P===0?D=m.available()/8|0:P<250?D=P:D=250*(P-249)+this.unrandomize255State(m.readBits(8),E++),D<0)throw new L;const V=new Uint8Array(D);for(let Z=0;Z<D;Z++){if(m.available()<8)throw new L;V[Z]=this.unrandomize255State(m.readBits(8),E++)}w.push(V);try{y.append(K.decode(V,G.ISO88591))}catch(Z){throw new Me("Platform does not support required encoding: "+Z.message)}}static unrandomize255State(m,y){const w=149*y%255+1,E=m-w;return E>=0?E:E+256}}Wn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Wn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Wn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Wn.TEXT_SHIFT2_SET_CHARS=Wn.C40_SHIFT2_SET_CHARS,Wn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class bo{constructor(){this.rsDecoder=new wt(st.DATA_MATRIX_FIELD_256)}decode(m){const y=new Rs(m),w=y.getVersion(),E=y.readCodewords(),P=Ts.getDataBlocks(E,w);let D=0;for(let oe of P)D+=oe.getNumDataCodewords();const V=new Uint8Array(D),Z=P.length;for(let oe=0;oe<Z;oe++){const be=P[oe],Te=be.getCodewords(),De=be.getNumDataCodewords();this.correctErrors(Te,De);for(let et=0;et<De;et++)V[et*Z+oe]=Te[et]}return Wn.decode(V)}correctErrors(m,y){const w=new Int32Array(m);try{this.rsDecoder.decode(w,m.length-y)}catch{throw new p}for(let E=0;E<y;E++)m[E]=w[E]}}class Ji{constructor(m){this.image=m,this.rectangleDetector=new tn(this.image)}detect(){const m=this.rectangleDetector.detect();let y=this.detectSolid1(m);if(y=this.detectSolid2(y),y[3]=this.correctTopRight(y),!y[3])throw new X;y=this.shiftToModuleCenter(y);const w=y[0],E=y[1],P=y[2],D=y[3];let V=this.transitionsBetween(w,D)+1,Z=this.transitionsBetween(P,D)+1;(V&1)===1&&(V+=1),(Z&1)===1&&(Z+=1),4*V<7*Z&&4*Z<7*V&&(V=Z=Math.max(V,Z));let oe=Ji.sampleGrid(this.image,w,E,P,D,V,Z);return new Ar(oe,[w,E,P,D])}static shiftPoint(m,y,w){let E=(y.getX()-m.getX())/(w+1),P=(y.getY()-m.getY())/(w+1);return new ct(m.getX()+E,m.getY()+P)}static moveAway(m,y,w){let E=m.getX(),P=m.getY();return E<y?E-=1:E+=1,P<w?P-=1:P+=1,new ct(E,P)}detectSolid1(m){let y=m[0],w=m[1],E=m[3],P=m[2],D=this.transitionsBetween(y,w),V=this.transitionsBetween(w,E),Z=this.transitionsBetween(E,P),oe=this.transitionsBetween(P,y),be=D,Te=[P,y,w,E];return be>V&&(be=V,Te[0]=y,Te[1]=w,Te[2]=E,Te[3]=P),be>Z&&(be=Z,Te[0]=w,Te[1]=E,Te[2]=P,Te[3]=y),be>oe&&(Te[0]=E,Te[1]=P,Te[2]=y,Te[3]=w),Te}detectSolid2(m){let y=m[0],w=m[1],E=m[2],P=m[3],D=this.transitionsBetween(y,P),V=Ji.shiftPoint(w,E,(D+1)*4),Z=Ji.shiftPoint(E,w,(D+1)*4),oe=this.transitionsBetween(V,y),be=this.transitionsBetween(Z,P);return oe<be?(m[0]=y,m[1]=w,m[2]=E,m[3]=P):(m[0]=w,m[1]=E,m[2]=P,m[3]=y),m}correctTopRight(m){let y=m[0],w=m[1],E=m[2],P=m[3],D=this.transitionsBetween(y,P),V=this.transitionsBetween(w,P),Z=Ji.shiftPoint(y,w,(V+1)*4),oe=Ji.shiftPoint(E,w,(D+1)*4);D=this.transitionsBetween(Z,P),V=this.transitionsBetween(oe,P);let be=new ct(P.getX()+(E.getX()-w.getX())/(D+1),P.getY()+(E.getY()-w.getY())/(D+1)),Te=new ct(P.getX()+(y.getX()-w.getX())/(V+1),P.getY()+(y.getY()-w.getY())/(V+1));if(!this.isValid(be))return this.isValid(Te)?Te:null;if(!this.isValid(Te))return be;let De=this.transitionsBetween(Z,be)+this.transitionsBetween(oe,be),et=this.transitionsBetween(Z,Te)+this.transitionsBetween(oe,Te);return De>et?be:Te}shiftToModuleCenter(m){let y=m[0],w=m[1],E=m[2],P=m[3],D=this.transitionsBetween(y,P)+1,V=this.transitionsBetween(E,P)+1,Z=Ji.shiftPoint(y,w,V*4),oe=Ji.shiftPoint(E,w,D*4);D=this.transitionsBetween(Z,P)+1,V=this.transitionsBetween(oe,P)+1,(D&1)===1&&(D+=1),(V&1)===1&&(V+=1);let be=(y.getX()+w.getX()+E.getX()+P.getX())/4,Te=(y.getY()+w.getY()+E.getY()+P.getY())/4;y=Ji.moveAway(y,be,Te),w=Ji.moveAway(w,be,Te),E=Ji.moveAway(E,be,Te),P=Ji.moveAway(P,be,Te);let De,et;return Z=Ji.shiftPoint(y,w,V*4),Z=Ji.shiftPoint(Z,P,D*4),De=Ji.shiftPoint(w,y,V*4),De=Ji.shiftPoint(De,E,D*4),oe=Ji.shiftPoint(E,P,V*4),oe=Ji.shiftPoint(oe,w,D*4),et=Ji.shiftPoint(P,E,V*4),et=Ji.shiftPoint(et,y,D*4),[Z,De,oe,et]}isValid(m){return m.getX()>=0&&m.getX()<this.image.getWidth()&&m.getY()>0&&m.getY()<this.image.getHeight()}static sampleGrid(m,y,w,E,P,D,V){return Un.getInstance().sampleGrid(m,D,V,.5,.5,D-.5,.5,D-.5,V-.5,.5,V-.5,y.getX(),y.getY(),P.getX(),P.getY(),E.getX(),E.getY(),w.getX(),w.getY())}transitionsBetween(m,y){let w=Math.trunc(m.getX()),E=Math.trunc(m.getY()),P=Math.trunc(y.getX()),D=Math.trunc(y.getY()),V=Math.abs(D-E)>Math.abs(P-w);if(V){let pt=w;w=E,E=pt,pt=P,P=D,D=pt}let Z=Math.abs(P-w),oe=Math.abs(D-E),be=-Z/2,Te=E<D?1:-1,De=w<P?1:-1,et=0,dt=this.image.get(V?E:w,V?w:E);for(let pt=w,Nt=E;pt!==P;pt+=De){let Rt=this.image.get(V?Nt:pt,V?pt:Nt);if(Rt!==dt&&(et++,dt=Rt),be+=oe,be>0){if(Nt===D)break;Nt+=Te,be-=Z}}return et}}class Qc{constructor(){this.decoder=new bo}decode(m,y=null){let w,E;if(y!=null&&y.has(B.PURE_BARCODE)){const oe=Qc.extractPureBits(m.getBlackMatrix());w=this.decoder.decode(oe),E=Qc.NO_POINTS}else{const oe=new Ji(m.getBlackMatrix()).detect();w=this.decoder.decode(oe.getBits()),E=oe.getPoints()}const P=w.getRawBytes(),D=new se(w.getText(),P,8*P.length,E,ge.DATA_MATRIX,b.currentTimeMillis()),V=w.getByteSegments();V!=null&&D.putMetadata(Ce.BYTE_SEGMENTS,V);const Z=w.getECLevel();return Z!=null&&D.putMetadata(Ce.ERROR_CORRECTION_LEVEL,Z),D}reset(){}static extractPureBits(m){const y=m.getTopLeftOnBit(),w=m.getBottomRightOnBit();if(y==null||w==null)throw new X;const E=this.moduleSize(y,m);let P=y[1];const D=w[1];let V=y[0];const oe=(w[0]-V+1)/E,be=(D-P+1)/E;if(oe<=0||be<=0)throw new X;const Te=E/2;P+=Te,V+=Te;const De=new ae(oe,be);for(let et=0;et<be;et++){const dt=P+et*E;for(let pt=0;pt<oe;pt++)m.get(V+pt*E,dt)&&De.set(pt,et)}return De}static moduleSize(m,y){const w=y.getWidth();let E=m[0];const P=m[1];for(;E<w&&y.get(E,P);)E++;if(E===w)throw new X;const D=E-m[0];if(D===0)throw new X;return D}}Qc.NO_POINTS=[];class Ac extends he{constructor(m=500){super(new Qc,m)}}var ds;(function(ke){ke[ke.L=0]="L",ke[ke.M=1]="M",ke[ke.Q=2]="Q",ke[ke.H=3]="H"})(ds||(ds={}));class vn{constructor(m,y,w){this.value=m,this.stringValue=y,this.bits=w,vn.FOR_BITS.set(w,this),vn.FOR_VALUE.set(m,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(m){switch(m){case"L":return vn.L;case"M":return vn.M;case"Q":return vn.Q;case"H":return vn.H;default:throw new f(m+"not available")}}toString(){return this.stringValue}equals(m){if(!(m instanceof vn))return!1;const y=m;return this.value===y.value}static forBits(m){if(m<0||m>=vn.FOR_BITS.size)throw new h;return vn.FOR_BITS.get(m)}}vn.FOR_BITS=new Map,vn.FOR_VALUE=new Map,vn.L=new vn(ds.L,"L",1),vn.M=new vn(ds.M,"M",0),vn.Q=new vn(ds.Q,"Q",3),vn.H=new vn(ds.H,"H",2);class Ks{constructor(m){this.errorCorrectionLevel=vn.forBits(m>>3&3),this.dataMask=m&7}static numBitsDiffering(m,y){return T.bitCount(m^y)}static decodeFormatInformation(m,y){const w=Ks.doDecodeFormatInformation(m,y);return w!==null?w:Ks.doDecodeFormatInformation(m^Ks.FORMAT_INFO_MASK_QR,y^Ks.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(m,y){let w=Number.MAX_SAFE_INTEGER,E=0;for(const P of Ks.FORMAT_INFO_DECODE_LOOKUP){const D=P[0];if(D===m||D===y)return new Ks(P[1]);let V=Ks.numBitsDiffering(m,D);V<w&&(E=P[1],w=V),m!==y&&(V=Ks.numBitsDiffering(y,D),V<w&&(E=P[1],w=V))}return w<=3?new Ks(E):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(m){if(!(m instanceof Ks))return!1;const y=m;return this.errorCorrectionLevel===y.errorCorrectionLevel&&this.dataMask===y.dataMask}}Ks.FORMAT_INFO_MASK_QR=21522,Ks.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class kt{constructor(m,...y){this.ecCodewordsPerBlock=m,this.ecBlocks=y}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let m=0;const y=this.ecBlocks;for(const w of y)m+=w.getCount();return m}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Ke{constructor(m,y){this.count=m,this.dataCodewords=y}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class yn{constructor(m,y,...w){this.versionNumber=m,this.alignmentPatternCenters=y,this.ecBlocks=w;let E=0;const P=w[0].getECCodewordsPerBlock(),D=w[0].getECBlocks();for(const V of D)E+=V.getCount()*(V.getDataCodewords()+P);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(m){return this.ecBlocks[m.getValue()]}static getProvisionalVersionForDimension(m){if(m%4!==1)throw new L;try{return this.getVersionForNumber((m-17)/4)}catch{throw new L}}static getVersionForNumber(m){if(m<1||m>40)throw new h;return yn.VERSIONS[m-1]}static decodeVersionInformation(m){let y=Number.MAX_SAFE_INTEGER,w=0;for(let E=0;E<yn.VERSION_DECODE_INFO.length;E++){const P=yn.VERSION_DECODE_INFO[E];if(P===m)return yn.getVersionForNumber(E+7);const D=Ks.numBitsDiffering(m,P);D<y&&(w=E+7,y=D)}return y<=3?yn.getVersionForNumber(w):null}buildFunctionPattern(){const m=this.getDimensionForVersion(),y=new ae(m);y.setRegion(0,0,9,9),y.setRegion(m-8,0,8,9),y.setRegion(0,m-8,9,8);const w=this.alignmentPatternCenters.length;for(let E=0;E<w;E++){const P=this.alignmentPatternCenters[E]-2;for(let D=0;D<w;D++)E===0&&(D===0||D===w-1)||E===w-1&&D===0||y.setRegion(this.alignmentPatternCenters[D]-2,P,5,5)}return y.setRegion(6,9,1,m-17),y.setRegion(9,6,m-17,1),this.versionNumber>6&&(y.setRegion(m-11,0,3,6),y.setRegion(0,m-11,6,3)),y}toString(){return""+this.versionNumber}}yn.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),yn.VERSIONS=[new yn(1,new Int32Array(0),new kt(7,new Ke(1,19)),new kt(10,new Ke(1,16)),new kt(13,new Ke(1,13)),new kt(17,new Ke(1,9))),new yn(2,Int32Array.from([6,18]),new kt(10,new Ke(1,34)),new kt(16,new Ke(1,28)),new kt(22,new Ke(1,22)),new kt(28,new Ke(1,16))),new yn(3,Int32Array.from([6,22]),new kt(15,new Ke(1,55)),new kt(26,new Ke(1,44)),new kt(18,new Ke(2,17)),new kt(22,new Ke(2,13))),new yn(4,Int32Array.from([6,26]),new kt(20,new Ke(1,80)),new kt(18,new Ke(2,32)),new kt(26,new Ke(2,24)),new kt(16,new Ke(4,9))),new yn(5,Int32Array.from([6,30]),new kt(26,new Ke(1,108)),new kt(24,new Ke(2,43)),new kt(18,new Ke(2,15),new Ke(2,16)),new kt(22,new Ke(2,11),new Ke(2,12))),new yn(6,Int32Array.from([6,34]),new kt(18,new Ke(2,68)),new kt(16,new Ke(4,27)),new kt(24,new Ke(4,19)),new kt(28,new Ke(4,15))),new yn(7,Int32Array.from([6,22,38]),new kt(20,new Ke(2,78)),new kt(18,new Ke(4,31)),new kt(18,new Ke(2,14),new Ke(4,15)),new kt(26,new Ke(4,13),new Ke(1,14))),new yn(8,Int32Array.from([6,24,42]),new kt(24,new Ke(2,97)),new kt(22,new Ke(2,38),new Ke(2,39)),new kt(22,new Ke(4,18),new Ke(2,19)),new kt(26,new Ke(4,14),new Ke(2,15))),new yn(9,Int32Array.from([6,26,46]),new kt(30,new Ke(2,116)),new kt(22,new Ke(3,36),new Ke(2,37)),new kt(20,new Ke(4,16),new Ke(4,17)),new kt(24,new Ke(4,12),new Ke(4,13))),new yn(10,Int32Array.from([6,28,50]),new kt(18,new Ke(2,68),new Ke(2,69)),new kt(26,new Ke(4,43),new Ke(1,44)),new kt(24,new Ke(6,19),new Ke(2,20)),new kt(28,new Ke(6,15),new Ke(2,16))),new yn(11,Int32Array.from([6,30,54]),new kt(20,new Ke(4,81)),new kt(30,new Ke(1,50),new Ke(4,51)),new kt(28,new Ke(4,22),new Ke(4,23)),new kt(24,new Ke(3,12),new Ke(8,13))),new yn(12,Int32Array.from([6,32,58]),new kt(24,new Ke(2,92),new Ke(2,93)),new kt(22,new Ke(6,36),new Ke(2,37)),new kt(26,new Ke(4,20),new Ke(6,21)),new kt(28,new Ke(7,14),new Ke(4,15))),new yn(13,Int32Array.from([6,34,62]),new kt(26,new Ke(4,107)),new kt(22,new Ke(8,37),new Ke(1,38)),new kt(24,new Ke(8,20),new Ke(4,21)),new kt(22,new Ke(12,11),new Ke(4,12))),new yn(14,Int32Array.from([6,26,46,66]),new kt(30,new Ke(3,115),new Ke(1,116)),new kt(24,new Ke(4,40),new Ke(5,41)),new kt(20,new Ke(11,16),new Ke(5,17)),new kt(24,new Ke(11,12),new Ke(5,13))),new yn(15,Int32Array.from([6,26,48,70]),new kt(22,new Ke(5,87),new Ke(1,88)),new kt(24,new Ke(5,41),new Ke(5,42)),new kt(30,new Ke(5,24),new Ke(7,25)),new kt(24,new Ke(11,12),new Ke(7,13))),new yn(16,Int32Array.from([6,26,50,74]),new kt(24,new Ke(5,98),new Ke(1,99)),new kt(28,new Ke(7,45),new Ke(3,46)),new kt(24,new Ke(15,19),new Ke(2,20)),new kt(30,new Ke(3,15),new Ke(13,16))),new yn(17,Int32Array.from([6,30,54,78]),new kt(28,new Ke(1,107),new Ke(5,108)),new kt(28,new Ke(10,46),new Ke(1,47)),new kt(28,new Ke(1,22),new Ke(15,23)),new kt(28,new Ke(2,14),new Ke(17,15))),new yn(18,Int32Array.from([6,30,56,82]),new kt(30,new Ke(5,120),new Ke(1,121)),new kt(26,new Ke(9,43),new Ke(4,44)),new kt(28,new Ke(17,22),new Ke(1,23)),new kt(28,new Ke(2,14),new Ke(19,15))),new yn(19,Int32Array.from([6,30,58,86]),new kt(28,new Ke(3,113),new Ke(4,114)),new kt(26,new Ke(3,44),new Ke(11,45)),new kt(26,new Ke(17,21),new Ke(4,22)),new kt(26,new Ke(9,13),new Ke(16,14))),new yn(20,Int32Array.from([6,34,62,90]),new kt(28,new Ke(3,107),new Ke(5,108)),new kt(26,new Ke(3,41),new Ke(13,42)),new kt(30,new Ke(15,24),new Ke(5,25)),new kt(28,new Ke(15,15),new Ke(10,16))),new yn(21,Int32Array.from([6,28,50,72,94]),new kt(28,new Ke(4,116),new Ke(4,117)),new kt(26,new Ke(17,42)),new kt(28,new Ke(17,22),new Ke(6,23)),new kt(30,new Ke(19,16),new Ke(6,17))),new yn(22,Int32Array.from([6,26,50,74,98]),new kt(28,new Ke(2,111),new Ke(7,112)),new kt(28,new Ke(17,46)),new kt(30,new Ke(7,24),new Ke(16,25)),new kt(24,new Ke(34,13))),new yn(23,Int32Array.from([6,30,54,78,102]),new kt(30,new Ke(4,121),new Ke(5,122)),new kt(28,new Ke(4,47),new Ke(14,48)),new kt(30,new Ke(11,24),new Ke(14,25)),new kt(30,new Ke(16,15),new Ke(14,16))),new yn(24,Int32Array.from([6,28,54,80,106]),new kt(30,new Ke(6,117),new Ke(4,118)),new kt(28,new Ke(6,45),new Ke(14,46)),new kt(30,new Ke(11,24),new Ke(16,25)),new kt(30,new Ke(30,16),new Ke(2,17))),new yn(25,Int32Array.from([6,32,58,84,110]),new kt(26,new Ke(8,106),new Ke(4,107)),new kt(28,new Ke(8,47),new Ke(13,48)),new kt(30,new Ke(7,24),new Ke(22,25)),new kt(30,new Ke(22,15),new Ke(13,16))),new yn(26,Int32Array.from([6,30,58,86,114]),new kt(28,new Ke(10,114),new Ke(2,115)),new kt(28,new Ke(19,46),new Ke(4,47)),new kt(28,new Ke(28,22),new Ke(6,23)),new kt(30,new Ke(33,16),new Ke(4,17))),new yn(27,Int32Array.from([6,34,62,90,118]),new kt(30,new Ke(8,122),new Ke(4,123)),new kt(28,new Ke(22,45),new Ke(3,46)),new kt(30,new Ke(8,23),new Ke(26,24)),new kt(30,new Ke(12,15),new Ke(28,16))),new yn(28,Int32Array.from([6,26,50,74,98,122]),new kt(30,new Ke(3,117),new Ke(10,118)),new kt(28,new Ke(3,45),new Ke(23,46)),new kt(30,new Ke(4,24),new Ke(31,25)),new kt(30,new Ke(11,15),new Ke(31,16))),new yn(29,Int32Array.from([6,30,54,78,102,126]),new kt(30,new Ke(7,116),new Ke(7,117)),new kt(28,new Ke(21,45),new Ke(7,46)),new kt(30,new Ke(1,23),new Ke(37,24)),new kt(30,new Ke(19,15),new Ke(26,16))),new yn(30,Int32Array.from([6,26,52,78,104,130]),new kt(30,new Ke(5,115),new Ke(10,116)),new kt(28,new Ke(19,47),new Ke(10,48)),new kt(30,new Ke(15,24),new Ke(25,25)),new kt(30,new Ke(23,15),new Ke(25,16))),new yn(31,Int32Array.from([6,30,56,82,108,134]),new kt(30,new Ke(13,115),new Ke(3,116)),new kt(28,new Ke(2,46),new Ke(29,47)),new kt(30,new Ke(42,24),new Ke(1,25)),new kt(30,new Ke(23,15),new Ke(28,16))),new yn(32,Int32Array.from([6,34,60,86,112,138]),new kt(30,new Ke(17,115)),new kt(28,new Ke(10,46),new Ke(23,47)),new kt(30,new Ke(10,24),new Ke(35,25)),new kt(30,new Ke(19,15),new Ke(35,16))),new yn(33,Int32Array.from([6,30,58,86,114,142]),new kt(30,new Ke(17,115),new Ke(1,116)),new kt(28,new Ke(14,46),new Ke(21,47)),new kt(30,new Ke(29,24),new Ke(19,25)),new kt(30,new Ke(11,15),new Ke(46,16))),new yn(34,Int32Array.from([6,34,62,90,118,146]),new kt(30,new Ke(13,115),new Ke(6,116)),new kt(28,new Ke(14,46),new Ke(23,47)),new kt(30,new Ke(44,24),new Ke(7,25)),new kt(30,new Ke(59,16),new Ke(1,17))),new yn(35,Int32Array.from([6,30,54,78,102,126,150]),new kt(30,new Ke(12,121),new Ke(7,122)),new kt(28,new Ke(12,47),new Ke(26,48)),new kt(30,new Ke(39,24),new Ke(14,25)),new kt(30,new Ke(22,15),new Ke(41,16))),new yn(36,Int32Array.from([6,24,50,76,102,128,154]),new kt(30,new Ke(6,121),new Ke(14,122)),new kt(28,new Ke(6,47),new Ke(34,48)),new kt(30,new Ke(46,24),new Ke(10,25)),new kt(30,new Ke(2,15),new Ke(64,16))),new yn(37,Int32Array.from([6,28,54,80,106,132,158]),new kt(30,new Ke(17,122),new Ke(4,123)),new kt(28,new Ke(29,46),new Ke(14,47)),new kt(30,new Ke(49,24),new Ke(10,25)),new kt(30,new Ke(24,15),new Ke(46,16))),new yn(38,Int32Array.from([6,32,58,84,110,136,162]),new kt(30,new Ke(4,122),new Ke(18,123)),new kt(28,new Ke(13,46),new Ke(32,47)),new kt(30,new Ke(48,24),new Ke(14,25)),new kt(30,new Ke(42,15),new Ke(32,16))),new yn(39,Int32Array.from([6,26,54,82,110,138,166]),new kt(30,new Ke(20,117),new Ke(4,118)),new kt(28,new Ke(40,47),new Ke(7,48)),new kt(30,new Ke(43,24),new Ke(22,25)),new kt(30,new Ke(10,15),new Ke(67,16))),new yn(40,Int32Array.from([6,30,58,86,114,142,170]),new kt(30,new Ke(19,118),new Ke(6,119)),new kt(28,new Ke(18,47),new Ke(31,48)),new kt(30,new Ke(34,24),new Ke(34,25)),new kt(30,new Ke(20,15),new Ke(61,16)))];var Ms;(function(ke){ke[ke.DATA_MASK_000=0]="DATA_MASK_000",ke[ke.DATA_MASK_001=1]="DATA_MASK_001",ke[ke.DATA_MASK_010=2]="DATA_MASK_010",ke[ke.DATA_MASK_011=3]="DATA_MASK_011",ke[ke.DATA_MASK_100=4]="DATA_MASK_100",ke[ke.DATA_MASK_101=5]="DATA_MASK_101",ke[ke.DATA_MASK_110=6]="DATA_MASK_110",ke[ke.DATA_MASK_111=7]="DATA_MASK_111"})(Ms||(Ms={}));class tl{constructor(m,y){this.value=m,this.isMasked=y}unmaskBitMatrix(m,y){for(let w=0;w<y;w++)for(let E=0;E<y;E++)this.isMasked(w,E)&&m.flip(E,w)}}tl.values=new Map([[Ms.DATA_MASK_000,new tl(Ms.DATA_MASK_000,(ke,m)=>(ke+m&1)===0)],[Ms.DATA_MASK_001,new tl(Ms.DATA_MASK_001,(ke,m)=>(ke&1)===0)],[Ms.DATA_MASK_010,new tl(Ms.DATA_MASK_010,(ke,m)=>m%3===0)],[Ms.DATA_MASK_011,new tl(Ms.DATA_MASK_011,(ke,m)=>(ke+m)%3===0)],[Ms.DATA_MASK_100,new tl(Ms.DATA_MASK_100,(ke,m)=>(Math.floor(ke/2)+Math.floor(m/3)&1)===0)],[Ms.DATA_MASK_101,new tl(Ms.DATA_MASK_101,(ke,m)=>ke*m%6===0)],[Ms.DATA_MASK_110,new tl(Ms.DATA_MASK_110,(ke,m)=>ke*m%6<3)],[Ms.DATA_MASK_111,new tl(Ms.DATA_MASK_111,(ke,m)=>(ke+m+ke*m%3&1)===0)]]);class eh{constructor(m){const y=m.getHeight();if(y<21||(y&3)!==1)throw new L;this.bitMatrix=m}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let m=0;for(let P=0;P<6;P++)m=this.copyBit(P,8,m);m=this.copyBit(7,8,m),m=this.copyBit(8,8,m),m=this.copyBit(8,7,m);for(let P=5;P>=0;P--)m=this.copyBit(8,P,m);const y=this.bitMatrix.getHeight();let w=0;const E=y-7;for(let P=y-1;P>=E;P--)w=this.copyBit(8,P,w);for(let P=y-8;P<y;P++)w=this.copyBit(P,8,w);if(this.parsedFormatInfo=Ks.decodeFormatInformation(m,w),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const m=this.bitMatrix.getHeight(),y=Math.floor((m-17)/4);if(y<=6)return yn.getVersionForNumber(y);let w=0;const E=m-11;for(let D=5;D>=0;D--)for(let V=m-9;V>=E;V--)w=this.copyBit(V,D,w);let P=yn.decodeVersionInformation(w);if(P!==null&&P.getDimensionForVersion()===m)return this.parsedVersion=P,P;w=0;for(let D=5;D>=0;D--)for(let V=m-9;V>=E;V--)w=this.copyBit(D,V,w);if(P=yn.decodeVersionInformation(w),P!==null&&P.getDimensionForVersion()===m)return this.parsedVersion=P,P;throw new L}copyBit(m,y,w){return(this.isMirror?this.bitMatrix.get(y,m):this.bitMatrix.get(m,y))?w<<1|1:w<<1}readCodewords(){const m=this.readFormatInformation(),y=this.readVersion(),w=tl.values.get(m.getDataMask()),E=this.bitMatrix.getHeight();w.unmaskBitMatrix(this.bitMatrix,E);const P=y.buildFunctionPattern();let D=!0;const V=new Uint8Array(y.getTotalCodewords());let Z=0,oe=0,be=0;for(let Te=E-1;Te>0;Te-=2){Te===6&&Te--;for(let De=0;De<E;De++){const et=D?E-1-De:De;for(let dt=0;dt<2;dt++)P.get(Te-dt,et)||(be++,oe<<=1,this.bitMatrix.get(Te-dt,et)&&(oe|=1),be===8&&(V[Z++]=oe,be=0,oe=0))}D=!D}if(Z!==y.getTotalCodewords())throw new L;return V}remask(){if(this.parsedFormatInfo===null)return;const m=tl.values[this.parsedFormatInfo.getDataMask()],y=this.bitMatrix.getHeight();m.unmaskBitMatrix(this.bitMatrix,y)}setMirror(m){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=m}mirror(){const m=this.bitMatrix;for(let y=0,w=m.getWidth();y<w;y++)for(let E=y+1,P=m.getHeight();E<P;E++)m.get(y,E)!==m.get(E,y)&&(m.flip(E,y),m.flip(y,E))}}class nd{constructor(m,y){this.numDataCodewords=m,this.codewords=y}static getDataBlocks(m,y,w){if(m.length!==y.getTotalCodewords())throw new h;const E=y.getECBlocksForLevel(w);let P=0;const D=E.getECBlocks();for(const dt of D)P+=dt.getCount();const V=new Array(P);let Z=0;for(const dt of D)for(let pt=0;pt<dt.getCount();pt++){const Nt=dt.getDataCodewords(),Rt=E.getECCodewordsPerBlock()+Nt;V[Z++]=new nd(Nt,new Uint8Array(Rt))}const oe=V[0].codewords.length;let be=V.length-1;for(;be>=0&&V[be].codewords.length!==oe;)be--;be++;const Te=oe-E.getECCodewordsPerBlock();let De=0;for(let dt=0;dt<Te;dt++)for(let pt=0;pt<Z;pt++)V[pt].codewords[dt]=m[De++];for(let dt=be;dt<Z;dt++)V[dt].codewords[Te]=m[De++];const et=V[0].codewords.length;for(let dt=Te;dt<et;dt++)for(let pt=0;pt<Z;pt++){const Nt=pt<be?dt:dt+1;V[pt].codewords[Nt]=m[De++]}return V}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var nc;(function(ke){ke[ke.TERMINATOR=0]="TERMINATOR",ke[ke.NUMERIC=1]="NUMERIC",ke[ke.ALPHANUMERIC=2]="ALPHANUMERIC",ke[ke.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",ke[ke.BYTE=4]="BYTE",ke[ke.ECI=5]="ECI",ke[ke.KANJI=6]="KANJI",ke[ke.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",ke[ke.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",ke[ke.HANZI=9]="HANZI"})(nc||(nc={}));class Jr{constructor(m,y,w,E){this.value=m,this.stringValue=y,this.characterCountBitsForVersions=w,this.bits=E,Jr.FOR_BITS.set(E,this),Jr.FOR_VALUE.set(m,this)}static forBits(m){const y=Jr.FOR_BITS.get(m);if(y===void 0)throw new h;return y}getCharacterCountBits(m){const y=m.getVersionNumber();let w;return y<=9?w=0:y<=26?w=1:w=2,this.characterCountBitsForVersions[w]}getValue(){return this.value}getBits(){return this.bits}equals(m){if(!(m instanceof Jr))return!1;const y=m;return this.value===y.value}toString(){return this.stringValue}}Jr.FOR_BITS=new Map,Jr.FOR_VALUE=new Map,Jr.TERMINATOR=new Jr(nc.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Jr.NUMERIC=new Jr(nc.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Jr.ALPHANUMERIC=new Jr(nc.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Jr.STRUCTURED_APPEND=new Jr(nc.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Jr.BYTE=new Jr(nc.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Jr.ECI=new Jr(nc.ECI,"ECI",Int32Array.from([0,0,0]),7),Jr.KANJI=new Jr(nc.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Jr.FNC1_FIRST_POSITION=new Jr(nc.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Jr.FNC1_SECOND_POSITION=new Jr(nc.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Jr.HANZI=new Jr(nc.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Qi{static decode(m,y,w,E){const P=new Z0(m);let D=new re;const V=new Array;let Z=-1,oe=-1;try{let be=null,Te=!1,De;do{if(P.available()<4)De=Jr.TERMINATOR;else{const et=P.readBits(4);De=Jr.forBits(et)}switch(De){case Jr.TERMINATOR:break;case Jr.FNC1_FIRST_POSITION:case Jr.FNC1_SECOND_POSITION:Te=!0;break;case Jr.STRUCTURED_APPEND:if(P.available()<16)throw new L;Z=P.readBits(8),oe=P.readBits(8);break;case Jr.ECI:const et=Qi.parseECIValue(P);if(be=U.getCharacterSetECIByValue(et),be===null)throw new L;break;case Jr.HANZI:const dt=P.readBits(4),pt=P.readBits(De.getCharacterCountBits(y));dt===Qi.GB2312_SUBSET&&Qi.decodeHanziSegment(P,D,pt);break;default:const Nt=P.readBits(De.getCharacterCountBits(y));switch(De){case Jr.NUMERIC:Qi.decodeNumericSegment(P,D,Nt);break;case Jr.ALPHANUMERIC:Qi.decodeAlphanumericSegment(P,D,Nt,Te);break;case Jr.BYTE:Qi.decodeByteSegment(P,D,Nt,be,V,E);break;case Jr.KANJI:Qi.decodeKanjiSegment(P,D,Nt);break;default:throw new L}break}}while(De!==Jr.TERMINATOR)}catch{throw new L}return new Ne(m,D.toString(),V.length===0?null:V,w===null?null:w.toString(),Z,oe)}static decodeHanziSegment(m,y,w){if(w*13>m.available())throw new L;const E=new Uint8Array(2*w);let P=0;for(;w>0;){const D=m.readBits(13);let V=D/96<<8&4294967295|D%96;V<959?V+=41377:V+=42657,E[P]=V>>8&255,E[P+1]=V&255,P+=2,w--}try{y.append(K.decode(E,G.GB2312))}catch(D){throw new L(D)}}static decodeKanjiSegment(m,y,w){if(w*13>m.available())throw new L;const E=new Uint8Array(2*w);let P=0;for(;w>0;){const D=m.readBits(13);let V=D/192<<8&4294967295|D%192;V<7936?V+=33088:V+=49472,E[P]=V>>8,E[P+1]=V,P+=2,w--}try{y.append(K.decode(E,G.SHIFT_JIS))}catch(D){throw new L(D)}}static decodeByteSegment(m,y,w,E,P,D){if(8*w>m.available())throw new L;const V=new Uint8Array(w);for(let oe=0;oe<w;oe++)V[oe]=m.readBits(8);let Z;E===null?Z=G.guessEncoding(V,D):Z=E.getName();try{y.append(K.decode(V,Z))}catch(oe){throw new L(oe)}P.push(V)}static toAlphaNumericChar(m){if(m>=Qi.ALPHANUMERIC_CHARS.length)throw new L;return Qi.ALPHANUMERIC_CHARS[m]}static decodeAlphanumericSegment(m,y,w,E){const P=y.length();for(;w>1;){if(m.available()<11)throw new L;const D=m.readBits(11);y.append(Qi.toAlphaNumericChar(Math.floor(D/45))),y.append(Qi.toAlphaNumericChar(D%45)),w-=2}if(w===1){if(m.available()<6)throw new L;y.append(Qi.toAlphaNumericChar(m.readBits(6)))}if(E)for(let D=P;D<y.length();D++)y.charAt(D)==="%"&&(D<y.length()-1&&y.charAt(D+1)==="%"?y.deleteCharAt(D+1):y.setCharAt(D,String.fromCharCode(29)))}static decodeNumericSegment(m,y,w){for(;w>=3;){if(m.available()<10)throw new L;const E=m.readBits(10);if(E>=1e3)throw new L;y.append(Qi.toAlphaNumericChar(Math.floor(E/100))),y.append(Qi.toAlphaNumericChar(Math.floor(E/10)%10)),y.append(Qi.toAlphaNumericChar(E%10)),w-=3}if(w===2){if(m.available()<7)throw new L;const E=m.readBits(7);if(E>=100)throw new L;y.append(Qi.toAlphaNumericChar(Math.floor(E/10))),y.append(Qi.toAlphaNumericChar(E%10))}else if(w===1){if(m.available()<4)throw new L;const E=m.readBits(4);if(E>=10)throw new L;y.append(Qi.toAlphaNumericChar(E))}}static parseECIValue(m){const y=m.readBits(8);if(!(y&128))return y&127;if((y&192)===128){const w=m.readBits(8);return(y&63)<<8&4294967295|w}if((y&224)===192){const w=m.readBits(16);return(y&31)<<16&4294967295|w}throw new L}}Qi.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Qi.GB2312_SUBSET=1;class th{constructor(m){this.mirrored=m}isMirrored(){return this.mirrored}applyMirroredCorrection(m){if(!this.mirrored||m===null||m.length<3)return;const y=m[0];m[0]=m[2],m[2]=y}}class J0{constructor(){this.rsDecoder=new wt(st.QR_CODE_FIELD_256)}decodeBooleanArray(m,y){return this.decodeBitMatrix(ae.parseFromBooleanArray(m),y)}decodeBitMatrix(m,y){const w=new eh(m);let E=null;try{return this.decodeBitMatrixParser(w,y)}catch(P){E=P}try{w.remask(),w.setMirror(!0),w.readVersion(),w.readFormatInformation(),w.mirror();const P=this.decodeBitMatrixParser(w,y);return P.setOther(new th(!0)),P}catch(P){throw E!==null?E:P}}decodeBitMatrixParser(m,y){const w=m.readVersion(),E=m.readFormatInformation().getErrorCorrectionLevel(),P=m.readCodewords(),D=nd.getDataBlocks(P,w,E);let V=0;for(const be of D)V+=be.getNumDataCodewords();const Z=new Uint8Array(V);let oe=0;for(const be of D){const Te=be.getCodewords(),De=be.getNumDataCodewords();this.correctErrors(Te,De);for(let et=0;et<De;et++)Z[oe++]=Te[et]}return Qi.decode(Z,w,E,y)}correctErrors(m,y){const w=new Int32Array(m);try{this.rsDecoder.decode(w,m.length-y)}catch{throw new p}for(let E=0;E<y;E++)m[E]=w[E]}}class Dl extends ct{constructor(m,y,w){super(m,y),this.estimatedModuleSize=w}aboutEquals(m,y,w){if(Math.abs(y-this.getY())<=m&&Math.abs(w-this.getX())<=m){const E=Math.abs(m-this.estimatedModuleSize);return E<=1||E<=this.estimatedModuleSize}return!1}combineEstimate(m,y,w){const E=(this.getX()+y)/2,P=(this.getY()+m)/2,D=(this.estimatedModuleSize+w)/2;return new Dl(E,P,D)}}class Pd{constructor(m,y,w,E,P,D,V){this.image=m,this.startX=y,this.startY=w,this.width=E,this.height=P,this.moduleSize=D,this.resultPointCallback=V,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const m=this.startX,y=this.height,w=this.width,E=m+w,P=this.startY+y/2,D=new Int32Array(3),V=this.image;for(let Z=0;Z<y;Z++){const oe=P+(Z&1?-Math.floor((Z+1)/2):Math.floor((Z+1)/2));D[0]=0,D[1]=0,D[2]=0;let be=m;for(;be<E&&!V.get(be,oe);)be++;let Te=0;for(;be<E;){if(V.get(be,oe))if(Te===1)D[1]++;else if(Te===2){if(this.foundPatternCross(D)){const De=this.handlePossibleCenter(D,oe,be);if(De!==null)return De}D[0]=D[2],D[1]=1,D[2]=0,Te=1}else D[++Te]++;else Te===1&&Te++,D[Te]++;be++}if(this.foundPatternCross(D)){const De=this.handlePossibleCenter(D,oe,E);if(De!==null)return De}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(m,y){return y-m[2]-m[1]/2}foundPatternCross(m){const y=this.moduleSize,w=y/2;for(let E=0;E<3;E++)if(Math.abs(y-m[E])>=w)return!1;return!0}crossCheckVertical(m,y,w,E){const P=this.image,D=P.getHeight(),V=this.crossCheckStateCount;V[0]=0,V[1]=0,V[2]=0;let Z=m;for(;Z>=0&&P.get(y,Z)&&V[1]<=w;)V[1]++,Z--;if(Z<0||V[1]>w)return NaN;for(;Z>=0&&!P.get(y,Z)&&V[0]<=w;)V[0]++,Z--;if(V[0]>w)return NaN;for(Z=m+1;Z<D&&P.get(y,Z)&&V[1]<=w;)V[1]++,Z++;if(Z===D||V[1]>w)return NaN;for(;Z<D&&!P.get(y,Z)&&V[2]<=w;)V[2]++,Z++;if(V[2]>w)return NaN;const oe=V[0]+V[1]+V[2];return 5*Math.abs(oe-E)>=2*E?NaN:this.foundPatternCross(V)?Pd.centerFromEnd(V,Z):NaN}handlePossibleCenter(m,y,w){const E=m[0]+m[1]+m[2],P=Pd.centerFromEnd(m,w),D=this.crossCheckVertical(y,P,2*m[1],E);if(!isNaN(D)){const V=(m[0]+m[1]+m[2])/3;for(const oe of this.possibleCenters)if(oe.aboutEquals(V,D,P))return oe.combineEstimate(D,P,V);const Z=new Dl(P,D,V);this.possibleCenters.push(Z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Z)}return null}}class eu extends ct{constructor(m,y,w,E){super(m,y),this.estimatedModuleSize=w,this.count=E,E===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(m,y,w){if(Math.abs(y-this.getY())<=m&&Math.abs(w-this.getX())<=m){const E=Math.abs(m-this.estimatedModuleSize);return E<=1||E<=this.estimatedModuleSize}return!1}combineEstimate(m,y,w){const E=this.count+1,P=(this.count*this.getX()+y)/E,D=(this.count*this.getY()+m)/E,V=(this.count*this.estimatedModuleSize+w)/E;return new eu(P,D,V,E)}}class wi{constructor(m){this.bottomLeft=m[0],this.topLeft=m[1],this.topRight=m[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ri{constructor(m,y){this.image=m,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=y}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(m){const y=m!=null&&m.get(B.TRY_HARDER)!==void 0,w=m!=null&&m.get(B.PURE_BARCODE)!==void 0,E=this.image,P=E.getHeight(),D=E.getWidth();let V=Math.floor(3*P/(4*Ri.MAX_MODULES));(V<Ri.MIN_SKIP||y)&&(V=Ri.MIN_SKIP);let Z=!1;const oe=new Int32Array(5);for(let Te=V-1;Te<P&&!Z;Te+=V){oe[0]=0,oe[1]=0,oe[2]=0,oe[3]=0,oe[4]=0;let De=0;for(let et=0;et<D;et++)if(E.get(et,Te))(De&1)===1&&De++,oe[De]++;else if(De&1)oe[De]++;else if(De===4)if(Ri.foundPatternCross(oe)){if(this.handlePossibleCenter(oe,Te,et,w)===!0)if(V=2,this.hasSkipped===!0)Z=this.haveMultiplyConfirmedCenters();else{const pt=this.findRowSkip();pt>oe[2]&&(Te+=pt-oe[2]-V,et=D-1)}else{oe[0]=oe[2],oe[1]=oe[3],oe[2]=oe[4],oe[3]=1,oe[4]=0,De=3;continue}De=0,oe[0]=0,oe[1]=0,oe[2]=0,oe[3]=0,oe[4]=0}else oe[0]=oe[2],oe[1]=oe[3],oe[2]=oe[4],oe[3]=1,oe[4]=0,De=3;else oe[++De]++;Ri.foundPatternCross(oe)&&this.handlePossibleCenter(oe,Te,D,w)===!0&&(V=oe[0],this.hasSkipped&&(Z=this.haveMultiplyConfirmedCenters()))}const be=this.selectBestPatterns();return ct.orderBestPatterns(be),new wi(be)}static centerFromEnd(m,y){return y-m[4]-m[3]-m[2]/2}static foundPatternCross(m){let y=0;for(let P=0;P<5;P++){const D=m[P];if(D===0)return!1;y+=D}if(y<7)return!1;const w=y/7,E=w/2;return Math.abs(w-m[0])<E&&Math.abs(w-m[1])<E&&Math.abs(3*w-m[2])<3*E&&Math.abs(w-m[3])<E&&Math.abs(w-m[4])<E}getCrossCheckStateCount(){const m=this.crossCheckStateCount;return m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m}crossCheckDiagonal(m,y,w,E){const P=this.getCrossCheckStateCount();let D=0;const V=this.image;for(;m>=D&&y>=D&&V.get(y-D,m-D);)P[2]++,D++;if(m<D||y<D)return!1;for(;m>=D&&y>=D&&!V.get(y-D,m-D)&&P[1]<=w;)P[1]++,D++;if(m<D||y<D||P[1]>w)return!1;for(;m>=D&&y>=D&&V.get(y-D,m-D)&&P[0]<=w;)P[0]++,D++;if(P[0]>w)return!1;const Z=V.getHeight(),oe=V.getWidth();for(D=1;m+D<Z&&y+D<oe&&V.get(y+D,m+D);)P[2]++,D++;if(m+D>=Z||y+D>=oe)return!1;for(;m+D<Z&&y+D<oe&&!V.get(y+D,m+D)&&P[3]<w;)P[3]++,D++;if(m+D>=Z||y+D>=oe||P[3]>=w)return!1;for(;m+D<Z&&y+D<oe&&V.get(y+D,m+D)&&P[4]<w;)P[4]++,D++;if(P[4]>=w)return!1;const be=P[0]+P[1]+P[2]+P[3]+P[4];return Math.abs(be-E)<2*E&&Ri.foundPatternCross(P)}crossCheckVertical(m,y,w,E){const P=this.image,D=P.getHeight(),V=this.getCrossCheckStateCount();let Z=m;for(;Z>=0&&P.get(y,Z);)V[2]++,Z--;if(Z<0)return NaN;for(;Z>=0&&!P.get(y,Z)&&V[1]<=w;)V[1]++,Z--;if(Z<0||V[1]>w)return NaN;for(;Z>=0&&P.get(y,Z)&&V[0]<=w;)V[0]++,Z--;if(V[0]>w)return NaN;for(Z=m+1;Z<D&&P.get(y,Z);)V[2]++,Z++;if(Z===D)return NaN;for(;Z<D&&!P.get(y,Z)&&V[3]<w;)V[3]++,Z++;if(Z===D||V[3]>=w)return NaN;for(;Z<D&&P.get(y,Z)&&V[4]<w;)V[4]++,Z++;if(V[4]>=w)return NaN;const oe=V[0]+V[1]+V[2]+V[3]+V[4];return 5*Math.abs(oe-E)>=2*E?NaN:Ri.foundPatternCross(V)?Ri.centerFromEnd(V,Z):NaN}crossCheckHorizontal(m,y,w,E){const P=this.image,D=P.getWidth(),V=this.getCrossCheckStateCount();let Z=m;for(;Z>=0&&P.get(Z,y);)V[2]++,Z--;if(Z<0)return NaN;for(;Z>=0&&!P.get(Z,y)&&V[1]<=w;)V[1]++,Z--;if(Z<0||V[1]>w)return NaN;for(;Z>=0&&P.get(Z,y)&&V[0]<=w;)V[0]++,Z--;if(V[0]>w)return NaN;for(Z=m+1;Z<D&&P.get(Z,y);)V[2]++,Z++;if(Z===D)return NaN;for(;Z<D&&!P.get(Z,y)&&V[3]<w;)V[3]++,Z++;if(Z===D||V[3]>=w)return NaN;for(;Z<D&&P.get(Z,y)&&V[4]<w;)V[4]++,Z++;if(V[4]>=w)return NaN;const oe=V[0]+V[1]+V[2]+V[3]+V[4];return 5*Math.abs(oe-E)>=E?NaN:Ri.foundPatternCross(V)?Ri.centerFromEnd(V,Z):NaN}handlePossibleCenter(m,y,w,E){const P=m[0]+m[1]+m[2]+m[3]+m[4];let D=Ri.centerFromEnd(m,w),V=this.crossCheckVertical(y,Math.floor(D),m[2],P);if(!isNaN(V)&&(D=this.crossCheckHorizontal(Math.floor(D),Math.floor(V),m[2],P),!isNaN(D)&&(!E||this.crossCheckDiagonal(Math.floor(V),Math.floor(D),m[2],P)))){const Z=P/7;let oe=!1;const be=this.possibleCenters;for(let Te=0,De=be.length;Te<De;Te++){const et=be[Te];if(et.aboutEquals(Z,V,D)){be[Te]=et.combineEstimate(V,D,Z),oe=!0;break}}if(!oe){const Te=new eu(D,V,Z);be.push(Te),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Te)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let y=null;for(const w of this.possibleCenters)if(w.getCount()>=Ri.CENTER_QUORUM)if(y==null)y=w;else return this.hasSkipped=!0,Math.floor((Math.abs(y.getX()-w.getX())-Math.abs(y.getY()-w.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let m=0,y=0;const w=this.possibleCenters.length;for(const D of this.possibleCenters)D.getCount()>=Ri.CENTER_QUORUM&&(m++,y+=D.getEstimatedModuleSize());if(m<3)return!1;const E=y/w;let P=0;for(const D of this.possibleCenters)P+=Math.abs(D.getEstimatedModuleSize()-E);return P<=.05*y}selectBestPatterns(){const m=this.possibleCenters.length;if(m<3)throw new X;const y=this.possibleCenters;let w;if(m>3){let E=0,P=0;for(const Z of this.possibleCenters){const oe=Z.getEstimatedModuleSize();E+=oe,P+=oe*oe}w=E/m;let D=Math.sqrt(P/m-w*w);y.sort((Z,oe)=>{const be=Math.abs(oe.getEstimatedModuleSize()-w),Te=Math.abs(Z.getEstimatedModuleSize()-w);return be<Te?-1:be>Te?1:0});const V=Math.max(.2*w,D);for(let Z=0;Z<y.length&&y.length>3;Z++){const oe=y[Z];Math.abs(oe.getEstimatedModuleSize()-w)>V&&(y.splice(Z,1),Z--)}}if(y.length>3){let E=0;for(const P of y)E+=P.getEstimatedModuleSize();w=E/y.length,y.sort((P,D)=>{if(D.getCount()===P.getCount()){const V=Math.abs(D.getEstimatedModuleSize()-w),Z=Math.abs(P.getEstimatedModuleSize()-w);return V<Z?1:V>Z?-1:0}else return D.getCount()-P.getCount()}),y.splice(3)}return[y[0],y[1],y[2]]}}Ri.CENTER_QUORUM=2,Ri.MIN_SKIP=3,Ri.MAX_MODULES=57;class sa{constructor(m){this.image=m}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(m){this.resultPointCallback=m==null?null:m.get(B.NEED_RESULT_POINT_CALLBACK);const w=new Ri(this.image,this.resultPointCallback).find(m);return this.processFinderPatternInfo(w)}processFinderPatternInfo(m){const y=m.getTopLeft(),w=m.getTopRight(),E=m.getBottomLeft(),P=this.calculateModuleSize(y,w,E);if(P<1)throw new X("No pattern found in proccess finder.");const D=sa.computeDimension(y,w,E,P),V=yn.getProvisionalVersionForDimension(D),Z=V.getDimensionForVersion()-7;let oe=null;if(V.getAlignmentPatternCenters().length>0){const et=w.getX()-y.getX()+E.getX(),dt=w.getY()-y.getY()+E.getY(),pt=1-3/Z,Nt=Math.floor(y.getX()+pt*(et-y.getX())),Rt=Math.floor(y.getY()+pt*(dt-y.getY()));for(let Gt=4;Gt<=16;Gt<<=1)try{oe=this.findAlignmentInRegion(P,Nt,Rt,Gt);break}catch(or){if(!(or instanceof X))throw or}}const be=sa.createTransform(y,w,E,oe,D),Te=sa.sampleGrid(this.image,be,D);let De;return oe===null?De=[E,y,w]:De=[E,y,w,oe],new Ar(Te,De)}static createTransform(m,y,w,E,P){const D=P-3.5;let V,Z,oe,be;return E!==null?(V=E.getX(),Z=E.getY(),oe=D-3,be=oe):(V=y.getX()-m.getX()+w.getX(),Z=y.getY()-m.getY()+w.getY(),oe=D,be=D),mn.quadrilateralToQuadrilateral(3.5,3.5,D,3.5,oe,be,3.5,D,m.getX(),m.getY(),y.getX(),y.getY(),V,Z,w.getX(),w.getY())}static sampleGrid(m,y,w){return Un.getInstance().sampleGridWithTransform(m,w,w,y)}static computeDimension(m,y,w,E){const P=Tt.round(ct.distance(m,y)/E),D=Tt.round(ct.distance(m,w)/E);let V=Math.floor((P+D)/2)+7;switch(V&3){case 0:V++;break;case 2:V--;break;case 3:throw new X("Dimensions could be not found.")}return V}calculateModuleSize(m,y,w){return(this.calculateModuleSizeOneWay(m,y)+this.calculateModuleSizeOneWay(m,w))/2}calculateModuleSizeOneWay(m,y){const w=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(m.getX()),Math.floor(m.getY()),Math.floor(y.getX()),Math.floor(y.getY())),E=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(y.getX()),Math.floor(y.getY()),Math.floor(m.getX()),Math.floor(m.getY()));return isNaN(w)?E/7:isNaN(E)?w/7:(w+E)/14}sizeOfBlackWhiteBlackRunBothWays(m,y,w,E){let P=this.sizeOfBlackWhiteBlackRun(m,y,w,E),D=1,V=m-(w-m);V<0?(D=m/(m-V),V=0):V>=this.image.getWidth()&&(D=(this.image.getWidth()-1-m)/(V-m),V=this.image.getWidth()-1);let Z=Math.floor(y-(E-y)*D);return D=1,Z<0?(D=y/(y-Z),Z=0):Z>=this.image.getHeight()&&(D=(this.image.getHeight()-1-y)/(Z-y),Z=this.image.getHeight()-1),V=Math.floor(m+(V-m)*D),P+=this.sizeOfBlackWhiteBlackRun(m,y,V,Z),P-1}sizeOfBlackWhiteBlackRun(m,y,w,E){const P=Math.abs(E-y)>Math.abs(w-m);if(P){let et=m;m=y,y=et,et=w,w=E,E=et}const D=Math.abs(w-m),V=Math.abs(E-y);let Z=-D/2;const oe=m<w?1:-1,be=y<E?1:-1;let Te=0;const De=w+oe;for(let et=m,dt=y;et!==De;et+=oe){const pt=P?dt:et,Nt=P?et:dt;if(Te===1===this.image.get(pt,Nt)){if(Te===2)return Tt.distance(et,dt,m,y);Te++}if(Z+=V,Z>0){if(dt===E)break;dt+=be,Z-=D}}return Te===2?Tt.distance(w+oe,E,m,y):NaN}findAlignmentInRegion(m,y,w,E){const P=Math.floor(E*m),D=Math.max(0,y-P),V=Math.min(this.image.getWidth()-1,y+P);if(V-D<m*3)throw new X("Alignment top exceeds estimated module size.");const Z=Math.max(0,w-P),oe=Math.min(this.image.getHeight()-1,w+P);if(oe-Z<m*3)throw new X("Alignment bottom exceeds estimated module size.");return new Pd(this.image,D,Z,V-D,oe-Z,m,this.resultPointCallback).find()}}class Au{constructor(){this.decoder=new J0}getDecoder(){return this.decoder}decode(m,y){let w,E;if(y!=null&&y.get(B.PURE_BARCODE)!==void 0){const Z=Au.extractPureBits(m.getBlackMatrix());w=this.decoder.decodeBitMatrix(Z,y),E=Au.NO_POINTS}else{const Z=new sa(m.getBlackMatrix()).detect(y);w=this.decoder.decodeBitMatrix(Z.getBits(),y),E=Z.getPoints()}w.getOther()instanceof th&&w.getOther().applyMirroredCorrection(E);const P=new se(w.getText(),w.getRawBytes(),void 0,E,ge.QR_CODE,void 0),D=w.getByteSegments();D!==null&&P.putMetadata(Ce.BYTE_SEGMENTS,D);const V=w.getECLevel();return V!==null&&P.putMetadata(Ce.ERROR_CORRECTION_LEVEL,V),w.hasStructuredAppend()&&(P.putMetadata(Ce.STRUCTURED_APPEND_SEQUENCE,w.getStructuredAppendSequenceNumber()),P.putMetadata(Ce.STRUCTURED_APPEND_PARITY,w.getStructuredAppendParity())),P}reset(){}static extractPureBits(m){const y=m.getTopLeftOnBit(),w=m.getBottomRightOnBit();if(y===null||w===null)throw new X;const E=this.moduleSize(y,m);let P=y[1],D=w[1],V=y[0],Z=w[0];if(V>=Z||P>=D)throw new X;if(D-P!==Z-V&&(Z=V+(D-P),Z>=m.getWidth()))throw new X;const oe=Math.round((Z-V+1)/E),be=Math.round((D-P+1)/E);if(oe<=0||be<=0)throw new X;if(be!==oe)throw new X;const Te=Math.floor(E/2);P+=Te,V+=Te;const De=V+Math.floor((oe-1)*E)-Z;if(De>0){if(De>Te)throw new X;V-=De}const et=P+Math.floor((be-1)*E)-D;if(et>0){if(et>Te)throw new X;P-=et}const dt=new ae(oe,be);for(let pt=0;pt<be;pt++){const Nt=P+Math.floor(pt*E);for(let Rt=0;Rt<oe;Rt++)m.get(V+Math.floor(Rt*E),Nt)&&dt.set(Rt,pt)}return dt}static moduleSize(m,y){const w=y.getHeight(),E=y.getWidth();let P=m[0],D=m[1],V=!0,Z=0;for(;P<E&&D<w;){if(V!==y.get(P,D)){if(++Z===5)break;V=!V}P++,D++}if(P===E||D===w)throw new X;return(P-m[0])/7}}Au.NO_POINTS=new Array;class fa{PDF417Common(){}static getBitCountSum(m){return Tt.sum(m)}static toIntArray(m){if(m==null||!m.length)return fa.EMPTY_INT_ARRAY;const y=new Int32Array(m.length);let w=0;for(const E of m)y[w++]=E;return y}static getCodeword(m){const y=j.binarySearch(fa.SYMBOL_TABLE,m&262143);return y<0?-1:(fa.CODEWORD_TABLE[y]-1)%fa.NUMBER_OF_CODEWORDS}}fa.NUMBER_OF_CODEWORDS=929,fa.MAX_CODEWORDS_IN_BARCODE=fa.NUMBER_OF_CODEWORDS-1,fa.MIN_ROWS_IN_BARCODE=3,fa.MAX_ROWS_IN_BARCODE=90,fa.MODULES_IN_CODEWORD=17,fa.MODULES_IN_STOP_PATTERN=18,fa.BARS_IN_MODULE=8,fa.EMPTY_INT_ARRAY=new Int32Array([]),fa.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),fa.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class J1{constructor(m,y){this.bits=m,this.points=y}getBits(){return this.bits}getPoints(){return this.points}}class ya{static detectMultiple(m,y,w){let E=m.getBlackMatrix(),P=ya.detect(w,E);return P.length||(E=E.clone(),E.rotate180(),P=ya.detect(w,E)),new J1(E,P)}static detect(m,y){const w=new Array;let E=0,P=0,D=!1;for(;E<y.getHeight();){const V=ya.findVertices(y,E,P);if(V[0]==null&&V[3]==null){if(!D)break;D=!1,P=0;for(const Z of w)Z[1]!=null&&(E=Math.trunc(Math.max(E,Z[1].getY()))),Z[3]!=null&&(E=Math.max(E,Math.trunc(Z[3].getY())));E+=ya.ROW_STEP;continue}if(D=!0,w.push(V),!m)break;V[2]!=null?(P=Math.trunc(V[2].getX()),E=Math.trunc(V[2].getY())):(P=Math.trunc(V[4].getX()),E=Math.trunc(V[4].getY()))}return w}static findVertices(m,y,w){const E=m.getHeight(),P=m.getWidth(),D=new Array(8);return ya.copyToResult(D,ya.findRowsWithPattern(m,E,P,y,w,ya.START_PATTERN),ya.INDEXES_START_PATTERN),D[4]!=null&&(w=Math.trunc(D[4].getX()),y=Math.trunc(D[4].getY())),ya.copyToResult(D,ya.findRowsWithPattern(m,E,P,y,w,ya.STOP_PATTERN),ya.INDEXES_STOP_PATTERN),D}static copyToResult(m,y,w){for(let E=0;E<w.length;E++)m[w[E]]=y[E]}static findRowsWithPattern(m,y,w,E,P,D){const V=new Array(4);let Z=!1;const oe=new Int32Array(D.length);for(;E<y;E+=ya.ROW_STEP){let Te=ya.findGuardPattern(m,P,E,w,!1,D,oe);if(Te!=null){for(;E>0;){const De=ya.findGuardPattern(m,P,--E,w,!1,D,oe);if(De!=null)Te=De;else{E++;break}}V[0]=new ct(Te[0],E),V[1]=new ct(Te[1],E),Z=!0;break}}let be=E+1;if(Z){let Te=0,De=Int32Array.from([Math.trunc(V[0].getX()),Math.trunc(V[1].getX())]);for(;be<y;be++){const et=ya.findGuardPattern(m,De[0],be,w,!1,D,oe);if(et!=null&&Math.abs(De[0]-et[0])<ya.MAX_PATTERN_DRIFT&&Math.abs(De[1]-et[1])<ya.MAX_PATTERN_DRIFT)De=et,Te=0;else{if(Te>ya.SKIPPED_ROW_COUNT_MAX)break;Te++}}be-=Te+1,V[2]=new ct(De[0],be),V[3]=new ct(De[1],be)}return be-E<ya.BARCODE_MIN_HEIGHT&&j.fill(V,null),V}static findGuardPattern(m,y,w,E,P,D,V){j.fillWithin(V,0,V.length,0);let Z=y,oe=0;for(;m.get(Z,w)&&Z>0&&oe++<ya.MAX_PIXEL_DRIFT;)Z--;let be=Z,Te=0,De=D.length;for(let et=P;be<E;be++)if(m.get(be,w)!==et)V[Te]++;else{if(Te===De-1){if(ya.patternMatchVariance(V,D,ya.MAX_INDIVIDUAL_VARIANCE)<ya.MAX_AVG_VARIANCE)return new Int32Array([Z,be]);Z+=V[0]+V[1],b.arraycopy(V,2,V,0,Te-1),V[Te-1]=0,V[Te]=0,Te--}else Te++;V[Te]=1,et=!et}return Te===De-1&&ya.patternMatchVariance(V,D,ya.MAX_INDIVIDUAL_VARIANCE)<ya.MAX_AVG_VARIANCE?new Int32Array([Z,be-1]):null}static patternMatchVariance(m,y,w){let E=m.length,P=0,D=0;for(let oe=0;oe<E;oe++)P+=m[oe],D+=y[oe];if(P<D)return 1/0;let V=P/D;w*=V;let Z=0;for(let oe=0;oe<E;oe++){let be=m[oe],Te=y[oe]*V,De=be>Te?be-Te:Te-be;if(De>w)return 1/0;Z+=De}return Z/P}}ya.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ya.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ya.MAX_AVG_VARIANCE=.42,ya.MAX_INDIVIDUAL_VARIANCE=.8,ya.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ya.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ya.MAX_PIXEL_DRIFT=3,ya.MAX_PATTERN_DRIFT=5,ya.SKIPPED_ROW_COUNT_MAX=25,ya.ROW_STEP=5,ya.BARCODE_MIN_HEIGHT=10;class fs{constructor(m,y){if(y.length===0)throw new h;this.field=m;let w=y.length;if(w>1&&y[0]===0){let E=1;for(;E<w&&y[E]===0;)E++;E===w?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(w-E),b.arraycopy(y,E,this.coefficients,0,this.coefficients.length))}else this.coefficients=y}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(m){return this.coefficients[this.coefficients.length-1-m]}evaluateAt(m){if(m===0)return this.getCoefficient(0);if(m===1){let E=0;for(let P of this.coefficients)E=this.field.add(E,P);return E}let y=this.coefficients[0],w=this.coefficients.length;for(let E=1;E<w;E++)y=this.field.add(this.field.multiply(m,y),this.coefficients[E]);return y}add(m){if(!this.field.equals(m.field))throw new h("ModulusPolys do not have same ModulusGF field");if(this.isZero())return m;if(m.isZero())return this;let y=this.coefficients,w=m.coefficients;if(y.length>w.length){let D=y;y=w,w=D}let E=new Int32Array(w.length),P=w.length-y.length;b.arraycopy(w,0,E,0,P);for(let D=P;D<w.length;D++)E[D]=this.field.add(y[D-P],w[D]);return new fs(this.field,E)}subtract(m){if(!this.field.equals(m.field))throw new h("ModulusPolys do not have same ModulusGF field");return m.isZero()?this:this.add(m.negative())}multiply(m){return m instanceof fs?this.multiplyOther(m):this.multiplyScalar(m)}multiplyOther(m){if(!this.field.equals(m.field))throw new h("ModulusPolys do not have same ModulusGF field");if(this.isZero()||m.isZero())return new fs(this.field,new Int32Array([0]));let y=this.coefficients,w=y.length,E=m.coefficients,P=E.length,D=new Int32Array(w+P-1);for(let V=0;V<w;V++){let Z=y[V];for(let oe=0;oe<P;oe++)D[V+oe]=this.field.add(D[V+oe],this.field.multiply(Z,E[oe]))}return new fs(this.field,D)}negative(){let m=this.coefficients.length,y=new Int32Array(m);for(let w=0;w<m;w++)y[w]=this.field.subtract(0,this.coefficients[w]);return new fs(this.field,y)}multiplyScalar(m){if(m===0)return new fs(this.field,new Int32Array([0]));if(m===1)return this;let y=this.coefficients.length,w=new Int32Array(y);for(let E=0;E<y;E++)w[E]=this.field.multiply(this.coefficients[E],m);return new fs(this.field,w)}multiplyByMonomial(m,y){if(m<0)throw new h;if(y===0)return new fs(this.field,new Int32Array([0]));let w=this.coefficients.length,E=new Int32Array(w+m);for(let P=0;P<w;P++)E[P]=this.field.multiply(this.coefficients[P],y);return new fs(this.field,E)}toString(){let m=new re;for(let y=this.getDegree();y>=0;y--){let w=this.getCoefficient(y);w!==0&&(w<0?(m.append(" - "),w=-w):m.length()>0&&m.append(" + "),(y===0||w!==1)&&m.append(w),y!==0&&(y===1?m.append("x"):(m.append("x^"),m.append(y))))}return m.toString()}}class np{add(m,y){return(m+y)%this.modulus}subtract(m,y){return(this.modulus+m-y)%this.modulus}exp(m){return this.expTable[m]}log(m){if(m===0)throw new h;return this.logTable[m]}inverse(m){if(m===0)throw new Be;return this.expTable[this.modulus-this.logTable[m]-1]}multiply(m,y){return m===0||y===0?0:this.expTable[(this.logTable[m]+this.logTable[y])%(this.modulus-1)]}getSize(){return this.modulus}equals(m){return m===this}}class Ys extends np{constructor(m,y){super(),this.modulus=m,this.expTable=new Int32Array(m),this.logTable=new Int32Array(m);let w=1;for(let E=0;E<m;E++)this.expTable[E]=w,w=w*y%m;for(let E=0;E<m-1;E++)this.logTable[this.expTable[E]]=E;this.zero=new fs(this,new Int32Array([0])),this.one=new fs(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(m,y){if(m<0)throw new h;if(y===0)return this.zero;let w=new Int32Array(m+1);return w[0]=y,new fs(this,w)}}Ys.PDF417_GF=new Ys(fa.NUMBER_OF_CODEWORDS,3);class Eu{constructor(){this.field=Ys.PDF417_GF}decode(m,y,w){let E=new fs(this.field,m),P=new Int32Array(y),D=!1;for(let dt=y;dt>0;dt--){let pt=E.evaluateAt(this.field.exp(dt));P[y-dt]=pt,pt!==0&&(D=!0)}if(!D)return 0;let V=this.field.getOne();if(w!=null)for(const dt of w){let pt=this.field.exp(m.length-1-dt),Nt=new fs(this.field,new Int32Array([this.field.subtract(0,pt),1]));V=V.multiply(Nt)}let Z=new fs(this.field,P),oe=this.runEuclideanAlgorithm(this.field.buildMonomial(y,1),Z,y),be=oe[0],Te=oe[1],De=this.findErrorLocations(be),et=this.findErrorMagnitudes(Te,be,De);for(let dt=0;dt<De.length;dt++){let pt=m.length-1-this.field.log(De[dt]);if(pt<0)throw p.getChecksumInstance();m[pt]=this.field.subtract(m[pt],et[dt])}return De.length}runEuclideanAlgorithm(m,y,w){if(m.getDegree()<y.getDegree()){let De=m;m=y,y=De}let E=m,P=y,D=this.field.getZero(),V=this.field.getOne();for(;P.getDegree()>=Math.round(w/2);){let De=E,et=D;if(E=P,D=V,E.isZero())throw p.getChecksumInstance();P=De;let dt=this.field.getZero(),pt=E.getCoefficient(E.getDegree()),Nt=this.field.inverse(pt);for(;P.getDegree()>=E.getDegree()&&!P.isZero();){let Rt=P.getDegree()-E.getDegree(),Gt=this.field.multiply(P.getCoefficient(P.getDegree()),Nt);dt=dt.add(this.field.buildMonomial(Rt,Gt)),P=P.subtract(E.multiplyByMonomial(Rt,Gt))}V=dt.multiply(D).subtract(et).negative()}let Z=V.getCoefficient(0);if(Z===0)throw p.getChecksumInstance();let oe=this.field.inverse(Z),be=V.multiply(oe),Te=P.multiply(oe);return[be,Te]}findErrorLocations(m){let y=m.getDegree(),w=new Int32Array(y),E=0;for(let P=1;P<this.field.getSize()&&E<y;P++)m.evaluateAt(P)===0&&(w[E]=this.field.inverse(P),E++);if(E!==y)throw p.getChecksumInstance();return w}findErrorMagnitudes(m,y,w){let E=y.getDegree(),P=new Int32Array(E);for(let oe=1;oe<=E;oe++)P[E-oe]=this.field.multiply(oe,y.getCoefficient(oe));let D=new fs(this.field,P),V=w.length,Z=new Int32Array(V);for(let oe=0;oe<V;oe++){let be=this.field.inverse(w[oe]),Te=this.field.subtract(0,m.evaluateAt(be)),De=this.field.inverse(D.evaluateAt(be));Z[oe]=this.field.multiply(Te,De)}return Z}}class Er{constructor(m,y,w,E,P){m instanceof Er?this.constructor_2(m):this.constructor_1(m,y,w,E,P)}constructor_1(m,y,w,E,P){const D=y==null||w==null,V=E==null||P==null;if(D&&V)throw new X;D?(y=new ct(0,E.getY()),w=new ct(0,P.getY())):V&&(E=new ct(m.getWidth()-1,y.getY()),P=new ct(m.getWidth()-1,w.getY())),this.image=m,this.topLeft=y,this.bottomLeft=w,this.topRight=E,this.bottomRight=P,this.minX=Math.trunc(Math.min(y.getX(),w.getX())),this.maxX=Math.trunc(Math.max(E.getX(),P.getX())),this.minY=Math.trunc(Math.min(y.getY(),E.getY())),this.maxY=Math.trunc(Math.max(w.getY(),P.getY()))}constructor_2(m){this.image=m.image,this.topLeft=m.getTopLeft(),this.bottomLeft=m.getBottomLeft(),this.topRight=m.getTopRight(),this.bottomRight=m.getBottomRight(),this.minX=m.getMinX(),this.maxX=m.getMaxX(),this.minY=m.getMinY(),this.maxY=m.getMaxY()}static merge(m,y){return m==null?y:y==null?m:new Er(m.image,m.topLeft,m.bottomLeft,y.topRight,y.bottomRight)}addMissingRows(m,y,w){let E=this.topLeft,P=this.bottomLeft,D=this.topRight,V=this.bottomRight;if(m>0){let Z=w?this.topLeft:this.topRight,oe=Math.trunc(Z.getY()-m);oe<0&&(oe=0);let be=new ct(Z.getX(),oe);w?E=be:D=be}if(y>0){let Z=w?this.bottomLeft:this.bottomRight,oe=Math.trunc(Z.getY()+y);oe>=this.image.getHeight()&&(oe=this.image.getHeight()-1);let be=new ct(Z.getX(),oe);w?P=be:V=be}return new Er(this.image,E,P,D,V)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Od{constructor(m,y,w,E){this.columnCount=m,this.errorCorrectionLevel=E,this.rowCountUpperPart=y,this.rowCountLowerPart=w,this.rowCount=y+w}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Id{constructor(){this.buffer=""}static form(m,y){let w=-1;function E(D,V,Z,oe,be,Te){if(D==="%%")return"%";if(y[++w]===void 0)return;D=oe?parseInt(oe.substr(1)):void 0;let De=be?parseInt(be.substr(1)):void 0,et;switch(Te){case"s":et=y[w];break;case"c":et=y[w][0];break;case"f":et=parseFloat(y[w]).toFixed(D);break;case"p":et=parseFloat(y[w]).toPrecision(D);break;case"e":et=parseFloat(y[w]).toExponential(D);break;case"x":et=parseInt(y[w]).toString(De||16);break;case"d":et=parseFloat(parseInt(y[w],De||10).toPrecision(D)).toFixed(0);break}et=typeof et=="object"?JSON.stringify(et):(+et).toString(De);let dt=parseInt(Z),pt=Z&&Z[0]+""=="0"?"0":" ";for(;et.length<dt;)et=V!==void 0?et+pt:pt+et;return et}let P=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return m.replace(P,E)}format(m,...y){this.buffer+=Id.form(m,y)}toString(){return this.buffer}}class rl{constructor(m){this.boundingBox=new Er(m),this.codewords=new Array(m.getMaxY()-m.getMinY()+1)}getCodewordNearby(m){let y=this.getCodeword(m);if(y!=null)return y;for(let w=1;w<rl.MAX_NEARBY_DISTANCE;w++){let E=this.imageRowToCodewordIndex(m)-w;if(E>=0&&(y=this.codewords[E],y!=null)||(E=this.imageRowToCodewordIndex(m)+w,E<this.codewords.length&&(y=this.codewords[E],y!=null)))return y}return null}imageRowToCodewordIndex(m){return m-this.boundingBox.getMinY()}setCodeword(m,y){this.codewords[this.imageRowToCodewordIndex(m)]=y}getCodeword(m){return this.codewords[this.imageRowToCodewordIndex(m)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const m=new Id;let y=0;for(const w of this.codewords){if(w==null){m.format("%3d:    |   %n",y++);continue}m.format("%3d: %3d|%3d%n",y++,w.getRowNumber(),w.getValue())}return m.toString()}}rl.MAX_NEARBY_DISTANCE=5;class ps{constructor(){this.values=new Map}setValue(m){m=Math.trunc(m);let y=this.values.get(m);y==null&&(y=0),y++,this.values.set(m,y)}getValue(){let m=-1,y=new Array;for(const[w,E]of this.values.entries()){const P={getKey:()=>w,getValue:()=>E};P.getValue()>m?(m=P.getValue(),y=[],y.push(P.getKey())):P.getValue()===m&&y.push(P.getKey())}return fa.toIntArray(y)}getConfidence(m){return this.values.get(m)}}class tu extends rl{constructor(m,y){super(m),this._isLeft=y}setRowNumbers(){for(let m of this.getCodewords())m!=null&&m.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(m){let y=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(y,m);let w=this.getBoundingBox(),E=this._isLeft?w.getTopLeft():w.getTopRight(),P=this._isLeft?w.getBottomLeft():w.getBottomRight(),D=this.imageRowToCodewordIndex(Math.trunc(E.getY())),V=this.imageRowToCodewordIndex(Math.trunc(P.getY())),Z=-1,oe=1,be=0;for(let Te=D;Te<V;Te++){if(y[Te]==null)continue;let De=y[Te],et=De.getRowNumber()-Z;if(et===0)be++;else if(et===1)oe=Math.max(oe,be),be=1,Z=De.getRowNumber();else if(et<0||De.getRowNumber()>=m.getRowCount()||et>Te)y[Te]=null;else{let dt;oe>2?dt=(oe-2)*et:dt=et;let pt=dt>=Te;for(let Nt=1;Nt<=dt&&!pt;Nt++)pt=y[Te-Nt]!=null;pt?y[Te]=null:(Z=De.getRowNumber(),be=1)}}}getRowHeights(){let m=this.getBarcodeMetadata();if(m==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(m);let y=new Int32Array(m.getRowCount());for(let w of this.getCodewords())if(w!=null){let E=w.getRowNumber();if(E>=y.length)continue;y[E]++}return y}adjustIncompleteIndicatorColumnRowNumbers(m){let y=this.getBoundingBox(),w=this._isLeft?y.getTopLeft():y.getTopRight(),E=this._isLeft?y.getBottomLeft():y.getBottomRight(),P=this.imageRowToCodewordIndex(Math.trunc(w.getY())),D=this.imageRowToCodewordIndex(Math.trunc(E.getY())),V=this.getCodewords(),Z=-1;for(let oe=P;oe<D;oe++){if(V[oe]==null)continue;let be=V[oe];be.setRowNumberAsRowIndicatorColumn();let Te=be.getRowNumber()-Z;Te===0||(Te===1?Z=be.getRowNumber():be.getRowNumber()>=m.getRowCount()?V[oe]=null:Z=be.getRowNumber())}}getBarcodeMetadata(){let m=this.getCodewords(),y=new ps,w=new ps,E=new ps,P=new ps;for(let V of m){if(V==null)continue;V.setRowNumberAsRowIndicatorColumn();let Z=V.getValue()%30,oe=V.getRowNumber();switch(this._isLeft||(oe+=2),oe%3){case 0:w.setValue(Z*3+1);break;case 1:P.setValue(Z/3),E.setValue(Z%3);break;case 2:y.setValue(Z+1);break}}if(y.getValue().length===0||w.getValue().length===0||E.getValue().length===0||P.getValue().length===0||y.getValue()[0]<1||w.getValue()[0]+E.getValue()[0]<fa.MIN_ROWS_IN_BARCODE||w.getValue()[0]+E.getValue()[0]>fa.MAX_ROWS_IN_BARCODE)return null;let D=new Od(y.getValue()[0],w.getValue()[0],E.getValue()[0],P.getValue()[0]);return this.removeIncorrectCodewords(m,D),D}removeIncorrectCodewords(m,y){for(let w=0;w<m.length;w++){let E=m[w];if(m[w]==null)continue;let P=E.getValue()%30,D=E.getRowNumber();if(D>y.getRowCount()){m[w]=null;continue}switch(this._isLeft||(D+=2),D%3){case 0:P*3+1!==y.getRowCountUpperPart()&&(m[w]=null);break;case 1:(Math.trunc(P/3)!==y.getErrorCorrectionLevel()||P%3!==y.getRowCountLowerPart())&&(m[w]=null);break;case 2:P+1!==y.getColumnCount()&&(m[w]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Xs{constructor(m,y){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=m,this.barcodeColumnCount=m.getColumnCount(),this.boundingBox=y,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let m=fa.MAX_CODEWORDS_IN_BARCODE,y;do y=m,m=this.adjustRowNumbersAndGetCount();while(m>0&&m<y);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(m){m!=null&&m.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let m=this.adjustRowNumbersByRow();if(m===0)return 0;for(let y=1;y<this.barcodeColumnCount+1;y++){let w=this.detectionResultColumns[y].getCodewords();for(let E=0;E<w.length;E++)w[E]!=null&&(w[E].hasValidRowNumber()||this.adjustRowNumbers(y,E,w))}return m}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let m=this.detectionResultColumns[0].getCodewords(),y=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let w=0;w<m.length;w++)if(m[w]!=null&&y[w]!=null&&m[w].getRowNumber()===y[w].getRowNumber())for(let E=1;E<=this.barcodeColumnCount;E++){let P=this.detectionResultColumns[E].getCodewords()[w];P!=null&&(P.setRowNumber(m[w].getRowNumber()),P.hasValidRowNumber()||(this.detectionResultColumns[E].getCodewords()[w]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let m=0,y=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let w=0;w<y.length;w++){if(y[w]==null)continue;let E=y[w].getRowNumber(),P=0;for(let D=this.barcodeColumnCount+1;D>0&&P<this.ADJUST_ROW_NUMBER_SKIP;D--){let V=this.detectionResultColumns[D].getCodewords()[w];V!=null&&(P=Xs.adjustRowNumberIfValid(E,P,V),V.hasValidRowNumber()||m++)}}return m}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let m=0,y=this.detectionResultColumns[0].getCodewords();for(let w=0;w<y.length;w++){if(y[w]==null)continue;let E=y[w].getRowNumber(),P=0;for(let D=1;D<this.barcodeColumnCount+1&&P<this.ADJUST_ROW_NUMBER_SKIP;D++){let V=this.detectionResultColumns[D].getCodewords()[w];V!=null&&(P=Xs.adjustRowNumberIfValid(E,P,V),V.hasValidRowNumber()||m++)}}return m}static adjustRowNumberIfValid(m,y,w){return w==null||w.hasValidRowNumber()||(w.isValidRowNumber(m)?(w.setRowNumber(m),y=0):++y),y}adjustRowNumbers(m,y,w){if(!this.detectionResultColumns[m-1])return;let E=w[y],P=this.detectionResultColumns[m-1].getCodewords(),D=P;this.detectionResultColumns[m+1]!=null&&(D=this.detectionResultColumns[m+1].getCodewords());let V=new Array(14);V[2]=P[y],V[3]=D[y],y>0&&(V[0]=w[y-1],V[4]=P[y-1],V[5]=D[y-1]),y>1&&(V[8]=w[y-2],V[10]=P[y-2],V[11]=D[y-2]),y<w.length-1&&(V[1]=w[y+1],V[6]=P[y+1],V[7]=D[y+1]),y<w.length-2&&(V[9]=w[y+2],V[12]=P[y+2],V[13]=D[y+2]);for(let Z of V)if(Xs.adjustRowNumber(E,Z))return}static adjustRowNumber(m,y){return y==null?!1:y.hasValidRowNumber()&&y.getBucket()===m.getBucket()?(m.setRowNumber(y.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(m){this.boundingBox=m}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(m,y){this.detectionResultColumns[m]=y}getDetectionResultColumn(m){return this.detectionResultColumns[m]}toString(){let m=this.detectionResultColumns[0];m==null&&(m=this.detectionResultColumns[this.barcodeColumnCount+1]);let y=new Id;for(let w=0;w<m.getCodewords().length;w++){y.format("CW %3d:",w);for(let E=0;E<this.barcodeColumnCount+2;E++){if(this.detectionResultColumns[E]==null){y.format("    |   ");continue}let P=this.detectionResultColumns[E].getCodewords()[w];if(P==null){y.format("    |   ");continue}y.format(" %3d|%3d",P.getRowNumber(),P.getValue())}y.format("%n")}return y.toString()}}class Fd{constructor(m,y,w,E){this.rowNumber=Fd.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(m),this.endX=Math.trunc(y),this.bucket=Math.trunc(w),this.value=Math.trunc(E)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(m){return m!==Fd.BARCODE_ROW_UNKNOWN&&this.bucket===m%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(m){this.rowNumber=m}toString(){return this.rowNumber+"|"+this.value}}Fd.BARCODE_ROW_UNKNOWN=-1;class ks{static initialize(){for(let m=0;m<fa.SYMBOL_TABLE.length;m++){let y=fa.SYMBOL_TABLE[m],w=y&1;for(let E=0;E<fa.BARS_IN_MODULE;E++){let P=0;for(;(y&1)===w;)P+=1,y>>=1;w=y&1,ks.RATIOS_TABLE[m]||(ks.RATIOS_TABLE[m]=new Array(fa.BARS_IN_MODULE)),ks.RATIOS_TABLE[m][fa.BARS_IN_MODULE-E-1]=Math.fround(P/fa.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(m){let y=ks.getDecodedCodewordValue(ks.sampleBitCounts(m));return y!==-1?y:ks.getClosestDecodedValue(m)}static sampleBitCounts(m){let y=Tt.sum(m),w=new Int32Array(fa.BARS_IN_MODULE),E=0,P=0;for(let D=0;D<fa.MODULES_IN_CODEWORD;D++){let V=y/(2*fa.MODULES_IN_CODEWORD)+D*y/fa.MODULES_IN_CODEWORD;P+m[E]<=V&&(P+=m[E],E++),w[E]++}return w}static getDecodedCodewordValue(m){let y=ks.getBitValue(m);return fa.getCodeword(y)===-1?-1:y}static getBitValue(m){let y=0;for(let w=0;w<m.length;w++)for(let E=0;E<m[w];E++)y=y<<1|(w%2===0?1:0);return Math.trunc(y)}static getClosestDecodedValue(m){let y=Tt.sum(m),w=new Array(fa.BARS_IN_MODULE);if(y>1)for(let D=0;D<w.length;D++)w[D]=Math.fround(m[D]/y);let E=sn.MAX_VALUE,P=-1;this.bSymbolTableReady||ks.initialize();for(let D=0;D<ks.RATIOS_TABLE.length;D++){let V=0,Z=ks.RATIOS_TABLE[D];for(let oe=0;oe<fa.BARS_IN_MODULE;oe++){let be=Math.fround(Z[oe]-w[oe]);if(V+=Math.fround(be*be),V>=E)break}V<E&&(E=V,P=fa.SYMBOL_TABLE[D])}return P}}ks.bSymbolTableReady=!1,ks.RATIOS_TABLE=new Array(fa.SYMBOL_TABLE.length).map(ke=>new Array(fa.BARS_IN_MODULE));class rh{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(m){this.segmentIndex=m}getFileId(){return this.fileId}setFileId(m){this.fileId=m}getOptionalData(){return this.optionalData}setOptionalData(m){this.optionalData=m}isLastSegment(){return this.lastSegment}setLastSegment(m){this.lastSegment=m}getSegmentCount(){return this.segmentCount}setSegmentCount(m){this.segmentCount=m}getSender(){return this.sender||null}setSender(m){this.sender=m}getAddressee(){return this.addressee||null}setAddressee(m){this.addressee=m}getFileName(){return this.fileName}setFileName(m){this.fileName=m}getFileSize(){return this.fileSize}setFileSize(m){this.fileSize=m}getChecksum(){return this.checksum}setChecksum(m){this.checksum=m}getTimestamp(){return this.timestamp}setTimestamp(m){this.timestamp=m}}class gf{static parseLong(m,y=void 0){return parseInt(m,y)}}class nh extends u{}nh.kind="NullPointerException";class xf{writeBytes(m){this.writeBytesOffset(m,0,m.length)}writeBytesOffset(m,y,w){if(m==null)throw new nh;if(y<0||y>m.length||w<0||y+w>m.length||y+w<0)throw new S;if(w===0)return;for(let E=0;E<w;E++)this.write(m[y+E])}flush(){}close(){}}class Xh extends u{}class Q0 extends xf{constructor(m=32){if(super(),this.count=0,m<0)throw new h("Negative initial size: "+m);this.buf=new Uint8Array(m)}ensureCapacity(m){m-this.buf.length>0&&this.grow(m)}grow(m){let w=this.buf.length<<1;if(w-m<0&&(w=m),w<0){if(m<0)throw new Xh;w=T.MAX_VALUE}this.buf=j.copyOfUint8Array(this.buf,w)}write(m){this.ensureCapacity(this.count+1),this.buf[this.count]=m,this.count+=1}writeBytesOffset(m,y,w){if(y<0||y>m.length||w<0||y+w-m.length>0)throw new S;this.ensureCapacity(this.count+w),b.arraycopy(m,y,this.buf,this.count,w),this.count+=w}writeTo(m){m.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return j.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(m){return m?typeof m=="string"?this.toString_string(m):this.toString_number(m):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(m){return new String(this.buf).toString()}toString_number(m){return new String(this.buf).toString()}close(){}}var _i;(function(ke){ke[ke.ALPHA=0]="ALPHA",ke[ke.LOWER=1]="LOWER",ke[ke.MIXED=2]="MIXED",ke[ke.PUNCT=3]="PUNCT",ke[ke.ALPHA_SHIFT=4]="ALPHA_SHIFT",ke[ke.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(_i||(_i={}));function ju(){if(typeof window<"u")return window.BigInt||null;if(typeof Vs<"u")return Vs.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ec;function ac(ke){if(typeof Ec>"u"&&(Ec=ju()),Ec===null)throw new Error("BigInt is not supported!");return Ec(ke)}function vf(){let ke=[];ke[0]=ac(1);let m=ac(900);ke[1]=m;for(let y=2;y<16;y++)ke[y]=ke[y-1]*m;return ke}class $t{static decode(m,y){let w=new re(""),E=U.ISO8859_1;w.enableDecoding(E);let P=1,D=m[P++],V=new rh;for(;P<m[0];){switch(D){case $t.TEXT_COMPACTION_MODE_LATCH:P=$t.textCompaction(m,P,w);break;case $t.BYTE_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH_6:P=$t.byteCompaction(D,m,E,P,w);break;case $t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(m[P++]);break;case $t.NUMERIC_COMPACTION_MODE_LATCH:P=$t.numericCompaction(m,P,w);break;case $t.ECI_CHARSET:U.getCharacterSetECIByValue(m[P++]);break;case $t.ECI_GENERAL_PURPOSE:P+=2;break;case $t.ECI_USER_DEFINED:P++;break;case $t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:P=$t.decodeMacroBlock(m,P,V);break;case $t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $t.MACRO_PDF417_TERMINATOR:throw new L;default:P--,P=$t.textCompaction(m,P,w);break}if(P<m.length)D=m[P++];else throw L.getFormatInstance()}if(w.length()===0)throw L.getFormatInstance();let Z=new Ne(null,w.toString(),null,y);return Z.setOther(V),Z}static decodeMacroBlock(m,y,w){if(y+$t.NUMBER_OF_SEQUENCE_CODEWORDS>m[0])throw L.getFormatInstance();let E=new Int32Array($t.NUMBER_OF_SEQUENCE_CODEWORDS);for(let V=0;V<$t.NUMBER_OF_SEQUENCE_CODEWORDS;V++,y++)E[V]=m[y];w.setSegmentIndex(T.parseInt($t.decodeBase900toBase10(E,$t.NUMBER_OF_SEQUENCE_CODEWORDS)));let P=new re;y=$t.textCompaction(m,y,P),w.setFileId(P.toString());let D=-1;for(m[y]===$t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(D=y+1);y<m[0];)switch(m[y]){case $t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(y++,m[y]){case $t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let V=new re;y=$t.textCompaction(m,y+1,V),w.setFileName(V.toString());break;case $t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let Z=new re;y=$t.textCompaction(m,y+1,Z),w.setSender(Z.toString());break;case $t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let oe=new re;y=$t.textCompaction(m,y+1,oe),w.setAddressee(oe.toString());break;case $t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let be=new re;y=$t.numericCompaction(m,y+1,be),w.setSegmentCount(T.parseInt(be.toString()));break;case $t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Te=new re;y=$t.numericCompaction(m,y+1,Te),w.setTimestamp(gf.parseLong(Te.toString()));break;case $t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let De=new re;y=$t.numericCompaction(m,y+1,De),w.setChecksum(T.parseInt(De.toString()));break;case $t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let et=new re;y=$t.numericCompaction(m,y+1,et),w.setFileSize(gf.parseLong(et.toString()));break;default:throw L.getFormatInstance()}break;case $t.MACRO_PDF417_TERMINATOR:y++,w.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(D!==-1){let V=y-D;w.isLastSegment()&&V--,w.setOptionalData(j.copyOfRange(m,D,D+V))}return y}static textCompaction(m,y,w){let E=new Int32Array((m[0]-y)*2),P=new Int32Array((m[0]-y)*2),D=0,V=!1;for(;y<m[0]&&!V;){let Z=m[y++];if(Z<$t.TEXT_COMPACTION_MODE_LATCH)E[D]=Z/30,E[D+1]=Z%30,D+=2;else switch(Z){case $t.TEXT_COMPACTION_MODE_LATCH:E[D++]=$t.TEXT_COMPACTION_MODE_LATCH;break;case $t.BYTE_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH_6:case $t.NUMERIC_COMPACTION_MODE_LATCH:case $t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $t.MACRO_PDF417_TERMINATOR:y--,V=!0;break;case $t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:E[D]=$t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,Z=m[y++],P[D]=Z,D++;break}}return $t.decodeTextCompaction(E,P,D,w),y}static decodeTextCompaction(m,y,w,E){let P=_i.ALPHA,D=_i.ALPHA,V=0;for(;V<w;){let Z=m[V],oe="";switch(P){case _i.ALPHA:if(Z<26)oe=String.fromCharCode(65+Z);else switch(Z){case 26:oe=" ";break;case $t.LL:P=_i.LOWER;break;case $t.ML:P=_i.MIXED;break;case $t.PS:D=P,P=_i.PUNCT_SHIFT;break;case $t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:E.append(y[V]);break;case $t.TEXT_COMPACTION_MODE_LATCH:P=_i.ALPHA;break}break;case _i.LOWER:if(Z<26)oe=String.fromCharCode(97+Z);else switch(Z){case 26:oe=" ";break;case $t.AS:D=P,P=_i.ALPHA_SHIFT;break;case $t.ML:P=_i.MIXED;break;case $t.PS:D=P,P=_i.PUNCT_SHIFT;break;case $t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:E.append(y[V]);break;case $t.TEXT_COMPACTION_MODE_LATCH:P=_i.ALPHA;break}break;case _i.MIXED:if(Z<$t.PL)oe=$t.MIXED_CHARS[Z];else switch(Z){case $t.PL:P=_i.PUNCT;break;case 26:oe=" ";break;case $t.LL:P=_i.LOWER;break;case $t.AL:P=_i.ALPHA;break;case $t.PS:D=P,P=_i.PUNCT_SHIFT;break;case $t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:E.append(y[V]);break;case $t.TEXT_COMPACTION_MODE_LATCH:P=_i.ALPHA;break}break;case _i.PUNCT:if(Z<$t.PAL)oe=$t.PUNCT_CHARS[Z];else switch(Z){case $t.PAL:P=_i.ALPHA;break;case $t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:E.append(y[V]);break;case $t.TEXT_COMPACTION_MODE_LATCH:P=_i.ALPHA;break}break;case _i.ALPHA_SHIFT:if(P=D,Z<26)oe=String.fromCharCode(65+Z);else switch(Z){case 26:oe=" ";break;case $t.TEXT_COMPACTION_MODE_LATCH:P=_i.ALPHA;break}break;case _i.PUNCT_SHIFT:if(P=D,Z<$t.PAL)oe=$t.PUNCT_CHARS[Z];else switch(Z){case $t.PAL:P=_i.ALPHA;break;case $t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:E.append(y[V]);break;case $t.TEXT_COMPACTION_MODE_LATCH:P=_i.ALPHA;break}break}oe!==""&&E.append(oe),V++}}static byteCompaction(m,y,w,E,P){let D=new Q0,V=0,Z=0,oe=!1;switch(m){case $t.BYTE_COMPACTION_MODE_LATCH:let be=new Int32Array(6),Te=y[E++];for(;E<y[0]&&!oe;)switch(be[V++]=Te,Z=900*Z+Te,Te=y[E++],Te){case $t.TEXT_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH:case $t.NUMERIC_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH_6:case $t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $t.MACRO_PDF417_TERMINATOR:E--,oe=!0;break;default:if(V%5===0&&V>0){for(let De=0;De<6;++De)D.write(Number(ac(Z)>>ac(8*(5-De))));Z=0,V=0}break}E===y[0]&&Te<$t.TEXT_COMPACTION_MODE_LATCH&&(be[V++]=Te);for(let De=0;De<V;De++)D.write(be[De]);break;case $t.BYTE_COMPACTION_MODE_LATCH_6:for(;E<y[0]&&!oe;){let De=y[E++];if(De<$t.TEXT_COMPACTION_MODE_LATCH)V++,Z=900*Z+De;else switch(De){case $t.TEXT_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH:case $t.NUMERIC_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH_6:case $t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $t.MACRO_PDF417_TERMINATOR:E--,oe=!0;break}if(V%5===0&&V>0){for(let et=0;et<6;++et)D.write(Number(ac(Z)>>ac(8*(5-et))));Z=0,V=0}}break}return P.append(K.decode(D.toByteArray(),w)),E}static numericCompaction(m,y,w){let E=0,P=!1,D=new Int32Array($t.MAX_NUMERIC_CODEWORDS);for(;y<m[0]&&!P;){let V=m[y++];if(y===m[0]&&(P=!0),V<$t.TEXT_COMPACTION_MODE_LATCH)D[E]=V,E++;else switch(V){case $t.TEXT_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH:case $t.BYTE_COMPACTION_MODE_LATCH_6:case $t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $t.MACRO_PDF417_TERMINATOR:y--,P=!0;break}(E%$t.MAX_NUMERIC_CODEWORDS===0||V===$t.NUMERIC_COMPACTION_MODE_LATCH||P)&&E>0&&(w.append($t.decodeBase900toBase10(D,E)),E=0)}return y}static decodeBase900toBase10(m,y){let w=ac(0);for(let P=0;P<y;P++)w+=$t.EXP900[y-P-1]*ac(m[P]);let E=w.toString();if(E.charAt(0)!=="1")throw new L;return E.substring(1)}}$t.TEXT_COMPACTION_MODE_LATCH=900,$t.BYTE_COMPACTION_MODE_LATCH=901,$t.NUMERIC_COMPACTION_MODE_LATCH=902,$t.BYTE_COMPACTION_MODE_LATCH_6=924,$t.ECI_USER_DEFINED=925,$t.ECI_GENERAL_PURPOSE=926,$t.ECI_CHARSET=927,$t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,$t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,$t.MACRO_PDF417_TERMINATOR=922,$t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,$t.MAX_NUMERIC_CODEWORDS=15,$t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,$t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,$t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,$t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,$t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,$t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,$t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,$t.PL=25,$t.LL=27,$t.AS=27,$t.ML=28,$t.AL=28,$t.PS=29,$t.PAL=29,$t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,$t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",$t.EXP900=ju()?vf():[],$t.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ie{constructor(){}static decode(m,y,w,E,P,D,V){let Z=new Er(m,y,w,E,P),oe=null,be=null,Te;for(let dt=!0;;dt=!1){if(y!=null&&(oe=ie.getRowIndicatorColumn(m,Z,y,!0,D,V)),E!=null&&(be=ie.getRowIndicatorColumn(m,Z,E,!1,D,V)),Te=ie.merge(oe,be),Te==null)throw X.getNotFoundInstance();let pt=Te.getBoundingBox();if(dt&&pt!=null&&(pt.getMinY()<Z.getMinY()||pt.getMaxY()>Z.getMaxY()))Z=pt;else break}Te.setBoundingBox(Z);let De=Te.getBarcodeColumnCount()+1;Te.setDetectionResultColumn(0,oe),Te.setDetectionResultColumn(De,be);let et=oe!=null;for(let dt=1;dt<=De;dt++){let pt=et?dt:De-dt;if(Te.getDetectionResultColumn(pt)!==void 0)continue;let Nt;pt===0||pt===De?Nt=new tu(Z,pt===0):Nt=new rl(Z),Te.setDetectionResultColumn(pt,Nt);let Rt=-1,Gt=Rt;for(let or=Z.getMinY();or<=Z.getMaxY();or++){if(Rt=ie.getStartColumn(Te,pt,or,et),Rt<0||Rt>Z.getMaxX()){if(Gt===-1)continue;Rt=Gt}let ir=ie.detectCodeword(m,Z.getMinX(),Z.getMaxX(),et,Rt,or,D,V);ir!=null&&(Nt.setCodeword(or,ir),Gt=Rt,D=Math.min(D,ir.getWidth()),V=Math.max(V,ir.getWidth()))}}return ie.createDecoderResult(Te)}static merge(m,y){if(m==null&&y==null)return null;let w=ie.getBarcodeMetadata(m,y);if(w==null)return null;let E=Er.merge(ie.adjustBoundingBox(m),ie.adjustBoundingBox(y));return new Xs(w,E)}static adjustBoundingBox(m){if(m==null)return null;let y=m.getRowHeights();if(y==null)return null;let w=ie.getMax(y),E=0;for(let V of y)if(E+=w-V,V>0)break;let P=m.getCodewords();for(let V=0;E>0&&P[V]==null;V++)E--;let D=0;for(let V=y.length-1;V>=0&&(D+=w-y[V],!(y[V]>0));V--);for(let V=P.length-1;D>0&&P[V]==null;V--)D--;return m.getBoundingBox().addMissingRows(E,D,m.isLeft())}static getMax(m){let y=-1;for(let w of m)y=Math.max(y,w);return y}static getBarcodeMetadata(m,y){let w;if(m==null||(w=m.getBarcodeMetadata())==null)return y==null?null:y.getBarcodeMetadata();let E;return y==null||(E=y.getBarcodeMetadata())==null?w:w.getColumnCount()!==E.getColumnCount()&&w.getErrorCorrectionLevel()!==E.getErrorCorrectionLevel()&&w.getRowCount()!==E.getRowCount()?null:w}static getRowIndicatorColumn(m,y,w,E,P,D){let V=new tu(y,E);for(let Z=0;Z<2;Z++){let oe=Z===0?1:-1,be=Math.trunc(Math.trunc(w.getX()));for(let Te=Math.trunc(Math.trunc(w.getY()));Te<=y.getMaxY()&&Te>=y.getMinY();Te+=oe){let De=ie.detectCodeword(m,0,m.getWidth(),E,be,Te,P,D);De!=null&&(V.setCodeword(Te,De),E?be=De.getStartX():be=De.getEndX())}}return V}static adjustCodewordCount(m,y){let w=y[0][1],E=w.getValue(),P=m.getBarcodeColumnCount()*m.getBarcodeRowCount()-ie.getNumberOfECCodeWords(m.getBarcodeECLevel());if(E.length===0){if(P<1||P>fa.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();w.setValue(P)}else E[0]!==P&&w.setValue(P)}static createDecoderResult(m){let y=ie.createBarcodeMatrix(m);ie.adjustCodewordCount(m,y);let w=new Array,E=new Int32Array(m.getBarcodeRowCount()*m.getBarcodeColumnCount()),P=[],D=new Array;for(let Z=0;Z<m.getBarcodeRowCount();Z++)for(let oe=0;oe<m.getBarcodeColumnCount();oe++){let be=y[Z][oe+1].getValue(),Te=Z*m.getBarcodeColumnCount()+oe;be.length===0?w.push(Te):be.length===1?E[Te]=be[0]:(D.push(Te),P.push(be))}let V=new Array(P.length);for(let Z=0;Z<V.length;Z++)V[Z]=P[Z];return ie.createDecoderResultFromAmbiguousValues(m.getBarcodeECLevel(),E,fa.toIntArray(w),fa.toIntArray(D),V)}static createDecoderResultFromAmbiguousValues(m,y,w,E,P){let D=new Int32Array(E.length),V=100;for(;V-- >0;){for(let Z=0;Z<D.length;Z++)y[E[Z]]=P[Z][D[Z]];try{return ie.decodeCodewords(y,m,w)}catch(Z){if(!(Z instanceof p))throw Z}if(D.length===0)throw p.getChecksumInstance();for(let Z=0;Z<D.length;Z++)if(D[Z]<P[Z].length-1){D[Z]++;break}else if(D[Z]=0,Z===D.length-1)throw p.getChecksumInstance()}throw p.getChecksumInstance()}static createBarcodeMatrix(m){let y=Array.from({length:m.getBarcodeRowCount()},()=>new Array(m.getBarcodeColumnCount()+2));for(let E=0;E<y.length;E++)for(let P=0;P<y[E].length;P++)y[E][P]=new ps;let w=0;for(let E of m.getDetectionResultColumns()){if(E!=null){for(let P of E.getCodewords())if(P!=null){let D=P.getRowNumber();if(D>=0){if(D>=y.length)continue;y[D][w].setValue(P.getValue())}}}w++}return y}static isValidBarcodeColumn(m,y){return y>=0&&y<=m.getBarcodeColumnCount()+1}static getStartColumn(m,y,w,E){let P=E?1:-1,D=null;if(ie.isValidBarcodeColumn(m,y-P)&&(D=m.getDetectionResultColumn(y-P).getCodeword(w)),D!=null)return E?D.getEndX():D.getStartX();if(D=m.getDetectionResultColumn(y).getCodewordNearby(w),D!=null)return E?D.getStartX():D.getEndX();if(ie.isValidBarcodeColumn(m,y-P)&&(D=m.getDetectionResultColumn(y-P).getCodewordNearby(w)),D!=null)return E?D.getEndX():D.getStartX();let V=0;for(;ie.isValidBarcodeColumn(m,y-P);){y-=P;for(let Z of m.getDetectionResultColumn(y).getCodewords())if(Z!=null)return(E?Z.getEndX():Z.getStartX())+P*V*(Z.getEndX()-Z.getStartX());V++}return E?m.getBoundingBox().getMinX():m.getBoundingBox().getMaxX()}static detectCodeword(m,y,w,E,P,D,V,Z){P=ie.adjustCodewordStartColumn(m,y,w,E,P,D);let oe=ie.getModuleBitCount(m,y,w,E,P,D);if(oe==null)return null;let be,Te=Tt.sum(oe);if(E)be=P+Te;else{for(let dt=0;dt<oe.length/2;dt++){let pt=oe[dt];oe[dt]=oe[oe.length-1-dt],oe[oe.length-1-dt]=pt}be=P,P=be-Te}if(!ie.checkCodewordSkew(Te,V,Z))return null;let De=ks.getDecodedValue(oe),et=fa.getCodeword(De);return et===-1?null:new Fd(P,be,ie.getCodewordBucketNumber(De),et)}static getModuleBitCount(m,y,w,E,P,D){let V=P,Z=new Int32Array(8),oe=0,be=E?1:-1,Te=E;for(;(E?V<w:V>=y)&&oe<Z.length;)m.get(V,D)===Te?(Z[oe]++,V+=be):(oe++,Te=!Te);return oe===Z.length||V===(E?w:y)&&oe===Z.length-1?Z:null}static getNumberOfECCodeWords(m){return 2<<m}static adjustCodewordStartColumn(m,y,w,E,P,D){let V=P,Z=E?-1:1;for(let oe=0;oe<2;oe++){for(;(E?V>=y:V<w)&&E===m.get(V,D);){if(Math.abs(P-V)>ie.CODEWORD_SKEW_SIZE)return P;V+=Z}Z=-Z,E=!E}return V}static checkCodewordSkew(m,y,w){return y-ie.CODEWORD_SKEW_SIZE<=m&&m<=w+ie.CODEWORD_SKEW_SIZE}static decodeCodewords(m,y,w){if(m.length===0)throw L.getFormatInstance();let E=1<<y+1,P=ie.correctErrors(m,w,E);ie.verifyCodewordCount(m,E);let D=$t.decode(m,""+y);return D.setErrorsCorrected(P),D.setErasures(w.length),D}static correctErrors(m,y,w){if(y!=null&&y.length>w/2+ie.MAX_ERRORS||w<0||w>ie.MAX_EC_CODEWORDS)throw p.getChecksumInstance();return ie.errorCorrection.decode(m,w,y)}static verifyCodewordCount(m,y){if(m.length<4)throw L.getFormatInstance();let w=m[0];if(w>m.length)throw L.getFormatInstance();if(w===0)if(y<m.length)m[0]=m.length-y;else throw L.getFormatInstance()}static getBitCountForCodeword(m){let y=new Int32Array(8),w=0,E=y.length-1;for(;!((m&1)!==w&&(w=m&1,E--,E<0));)y[E]++,m>>=1;return y}static getCodewordBucketNumber(m){return m instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(m):this.getCodewordBucketNumber_number(m)}static getCodewordBucketNumber_number(m){return ie.getCodewordBucketNumber(ie.getBitCountForCodeword(m))}static getCodewordBucketNumber_Int32Array(m){return(m[0]-m[2]+m[4]-m[6]+9)%9}static toString(m){let y=new Id;for(let w=0;w<m.length;w++){y.format("Row %2d: ",w);for(let E=0;E<m[w].length;E++){let P=m[w][E];P.getValue().length===0?y.format("        ",null):y.format("%4d(%2d)",P.getValue()[0],P.getConfidence(P.getValue()[0]))}y.format("%n")}return y.toString()}}ie.CODEWORD_SKEW_SIZE=2,ie.MAX_ERRORS=3,ie.MAX_EC_CODEWORDS=512,ie.errorCorrection=new Eu;class Pe{decode(m,y=null){let w=Pe.decode(m,y,!1);if(w==null||w.length===0||w[0]==null)throw X.getNotFoundInstance();return w[0]}decodeMultiple(m,y=null){try{return Pe.decode(m,y,!0)}catch(w){throw w instanceof L||w instanceof p?X.getNotFoundInstance():w}}static decode(m,y,w){const E=new Array,P=ya.detectMultiple(m,y,w);for(const D of P.getPoints()){const V=ie.decode(P.getBits(),D[4],D[5],D[6],D[7],Pe.getMinCodewordWidth(D),Pe.getMaxCodewordWidth(D)),Z=new se(V.getText(),V.getRawBytes(),void 0,D,ge.PDF_417);Z.putMetadata(Ce.ERROR_CORRECTION_LEVEL,V.getECLevel());const oe=V.getOther();oe!=null&&Z.putMetadata(Ce.PDF417_EXTRA_METADATA,oe),E.push(Z)}return E.map(D=>D)}static getMaxWidth(m,y){return m==null||y==null?0:Math.trunc(Math.abs(m.getX()-y.getX()))}static getMinWidth(m,y){return m==null||y==null?T.MAX_VALUE:Math.trunc(Math.abs(m.getX()-y.getX()))}static getMaxCodewordWidth(m){return Math.floor(Math.max(Math.max(Pe.getMaxWidth(m[0],m[4]),Pe.getMaxWidth(m[6],m[2])*fa.MODULES_IN_CODEWORD/fa.MODULES_IN_STOP_PATTERN),Math.max(Pe.getMaxWidth(m[1],m[5]),Pe.getMaxWidth(m[7],m[3])*fa.MODULES_IN_CODEWORD/fa.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(m){return Math.floor(Math.min(Math.min(Pe.getMinWidth(m[0],m[4]),Pe.getMinWidth(m[6],m[2])*fa.MODULES_IN_CODEWORD/fa.MODULES_IN_STOP_PATTERN),Math.min(Pe.getMinWidth(m[1],m[5]),Pe.getMinWidth(m[7],m[3])*fa.MODULES_IN_CODEWORD/fa.MODULES_IN_STOP_PATTERN)))}reset(){}}class rt extends u{}rt.kind="ReaderException";class ft{constructor(m,y){this.verbose=m===!0,y&&this.setHints(y)}decode(m,y){return y&&this.setHints(y),this.decodeInternal(m)}decodeWithState(m){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(m)}setHints(m){this.hints=m;const y=!n(m)&&m.get(B.TRY_HARDER)===!0,w=n(m)?null:m.get(B.POSSIBLE_FORMATS),E=new Array;if(!n(w)){const P=w.some(D=>D===ge.UPC_A||D===ge.UPC_E||D===ge.EAN_13||D===ge.EAN_8||D===ge.CODABAR||D===ge.CODE_39||D===ge.CODE_93||D===ge.CODE_128||D===ge.ITF||D===ge.RSS_14||D===ge.RSS_EXPANDED);P&&!y&&E.push(new ea(m,this.verbose)),w.includes(ge.QR_CODE)&&E.push(new Au),w.includes(ge.DATA_MATRIX)&&E.push(new Qc),w.includes(ge.AZTEC)&&E.push(new Cn),w.includes(ge.PDF_417)&&E.push(new Pe),P&&y&&E.push(new ea(m,this.verbose))}E.length===0&&(y||E.push(new ea(m,this.verbose)),E.push(new Au),E.push(new Qc),E.push(new Cn),E.push(new Pe),y&&E.push(new ea(m,this.verbose))),this.readers=E}reset(){if(this.readers!==null)for(const m of this.readers)m.reset()}decodeInternal(m){if(this.readers===null)throw new rt("No readers where selected, nothing can be read.");for(const y of this.readers)try{return y.decode(m,this.hints)}catch(w){if(w instanceof rt)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class Ct extends he{constructor(m=null,y=500){const w=new ft;w.setHints(m),super(w,y)}decodeBitmap(m){return this.reader.decodeWithState(m)}}class tr extends he{constructor(m=500){super(new Pe,m)}}class pr extends he{constructor(m=500){super(new Au,m)}}var dn;(function(ke){ke[ke.ERROR_CORRECTION=0]="ERROR_CORRECTION",ke[ke.CHARACTER_SET=1]="CHARACTER_SET",ke[ke.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",ke[ke.MIN_SIZE=3]="MIN_SIZE",ke[ke.MAX_SIZE=4]="MAX_SIZE",ke[ke.MARGIN=5]="MARGIN",ke[ke.PDF417_COMPACT=6]="PDF417_COMPACT",ke[ke.PDF417_COMPACTION=7]="PDF417_COMPACTION",ke[ke.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",ke[ke.AZTEC_LAYERS=9]="AZTEC_LAYERS",ke[ke.QR_VERSION=10]="QR_VERSION"})(dn||(dn={}));var Ur=dn;class ba{constructor(m){this.field=m,this.cachedGenerators=[],this.cachedGenerators.push(new Ge(m,Int32Array.from([1])))}buildGenerator(m){const y=this.cachedGenerators;if(m>=y.length){let w=y[y.length-1];const E=this.field;for(let P=y.length;P<=m;P++){const D=w.multiply(new Ge(E,Int32Array.from([1,E.exp(P-1+E.getGeneratorBase())])));y.push(D),w=D}}return y[m]}encode(m,y){if(y===0)throw new h("No error correction bytes");const w=m.length-y;if(w<=0)throw new h("No data bytes provided");const E=this.buildGenerator(y),P=new Int32Array(w);b.arraycopy(m,0,P,0,w);let D=new Ge(this.field,P);D=D.multiplyByMonomial(y,1);const Z=D.divide(E)[1].getCoefficients(),oe=y-Z.length;for(let be=0;be<oe;be++)m[w+be]=0;b.arraycopy(Z,0,m,w+oe,Z.length)}}class Kr{constructor(){}static applyMaskPenaltyRule1(m){return Kr.applyMaskPenaltyRule1Internal(m,!0)+Kr.applyMaskPenaltyRule1Internal(m,!1)}static applyMaskPenaltyRule2(m){let y=0;const w=m.getArray(),E=m.getWidth(),P=m.getHeight();for(let D=0;D<P-1;D++){const V=w[D];for(let Z=0;Z<E-1;Z++){const oe=V[Z];oe===V[Z+1]&&oe===w[D+1][Z]&&oe===w[D+1][Z+1]&&y++}}return Kr.N2*y}static applyMaskPenaltyRule3(m){let y=0;const w=m.getArray(),E=m.getWidth(),P=m.getHeight();for(let D=0;D<P;D++)for(let V=0;V<E;V++){const Z=w[D];V+6<E&&Z[V]===1&&Z[V+1]===0&&Z[V+2]===1&&Z[V+3]===1&&Z[V+4]===1&&Z[V+5]===0&&Z[V+6]===1&&(Kr.isWhiteHorizontal(Z,V-4,V)||Kr.isWhiteHorizontal(Z,V+7,V+11))&&y++,D+6<P&&w[D][V]===1&&w[D+1][V]===0&&w[D+2][V]===1&&w[D+3][V]===1&&w[D+4][V]===1&&w[D+5][V]===0&&w[D+6][V]===1&&(Kr.isWhiteVertical(w,V,D-4,D)||Kr.isWhiteVertical(w,V,D+7,D+11))&&y++}return y*Kr.N3}static isWhiteHorizontal(m,y,w){y=Math.max(y,0),w=Math.min(w,m.length);for(let E=y;E<w;E++)if(m[E]===1)return!1;return!0}static isWhiteVertical(m,y,w,E){w=Math.max(w,0),E=Math.min(E,m.length);for(let P=w;P<E;P++)if(m[P][y]===1)return!1;return!0}static applyMaskPenaltyRule4(m){let y=0;const w=m.getArray(),E=m.getWidth(),P=m.getHeight();for(let Z=0;Z<P;Z++){const oe=w[Z];for(let be=0;be<E;be++)oe[be]===1&&y++}const D=m.getHeight()*m.getWidth();return Math.floor(Math.abs(y*2-D)*10/D)*Kr.N4}static getDataMaskBit(m,y,w){let E,P;switch(m){case 0:E=w+y&1;break;case 1:E=w&1;break;case 2:E=y%3;break;case 3:E=(w+y)%3;break;case 4:E=Math.floor(w/2)+Math.floor(y/3)&1;break;case 5:P=w*y,E=(P&1)+P%3;break;case 6:P=w*y,E=(P&1)+P%3&1;break;case 7:P=w*y,E=P%3+(w+y&1)&1;break;default:throw new h("Invalid mask pattern: "+m)}return E===0}static applyMaskPenaltyRule1Internal(m,y){let w=0;const E=y?m.getHeight():m.getWidth(),P=y?m.getWidth():m.getHeight(),D=m.getArray();for(let V=0;V<E;V++){let Z=0,oe=-1;for(let be=0;be<P;be++){const Te=y?D[V][be]:D[be][V];Te===oe?Z++:(Z>=5&&(w+=Kr.N1+(Z-5)),Z=1,oe=Te)}Z>=5&&(w+=Kr.N1+(Z-5))}return w}}Kr.N1=3,Kr.N2=3,Kr.N3=40,Kr.N4=10;class Ma{constructor(m,y){this.width=m,this.height=y;const w=new Array(y);for(let E=0;E!==y;E++)w[E]=new Uint8Array(m);this.bytes=w}getHeight(){return this.height}getWidth(){return this.width}get(m,y){return this.bytes[y][m]}getArray(){return this.bytes}setNumber(m,y,w){this.bytes[y][m]=w}setBoolean(m,y,w){this.bytes[y][m]=w?1:0}clear(m){for(const y of this.bytes)j.fill(y,m)}equals(m){if(!(m instanceof Ma))return!1;const y=m;if(this.width!==y.width||this.height!==y.height)return!1;for(let w=0,E=this.height;w<E;++w){const P=this.bytes[w],D=y.bytes[w];for(let V=0,Z=this.width;V<Z;++V)if(P[V]!==D[V])return!1}return!0}toString(){const m=new re;for(let y=0,w=this.height;y<w;++y){const E=this.bytes[y];for(let P=0,D=this.width;P<D;++P)switch(E[P]){case 0:m.append(" 0");break;case 1:m.append(" 1");break;default:m.append("  ");break}m.append(`
`)}return m.toString()}}class Mi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const m=new re;return m.append(`<<
`),m.append(" mode: "),m.append(this.mode?this.mode.toString():"null"),m.append(`
 ecLevel: `),m.append(this.ecLevel?this.ecLevel.toString():"null"),m.append(`
 version: `),m.append(this.version?this.version.toString():"null"),m.append(`
 maskPattern: `),m.append(this.maskPattern.toString()),this.matrix?(m.append(`
 matrix:
`),m.append(this.matrix.toString())):m.append(`
 matrix: null
`),m.append(`>>
`),m.toString()}setMode(m){this.mode=m}setECLevel(m){this.ecLevel=m}setVersion(m){this.version=m}setMaskPattern(m){this.maskPattern=m}setMatrix(m){this.matrix=m}static isValidMaskPattern(m){return m>=0&&m<Mi.NUM_MASK_PATTERNS}}Mi.NUM_MASK_PATTERNS=8;class ma extends u{}ma.kind="WriterException";class an{constructor(){}static clearMatrix(m){m.clear(255)}static buildMatrix(m,y,w,E,P){an.clearMatrix(P),an.embedBasicPatterns(w,P),an.embedTypeInfo(y,E,P),an.maybeEmbedVersionInfo(w,P),an.embedDataBits(m,E,P)}static embedBasicPatterns(m,y){an.embedPositionDetectionPatternsAndSeparators(y),an.embedDarkDotAtLeftBottomCorner(y),an.maybeEmbedPositionAdjustmentPatterns(m,y),an.embedTimingPatterns(y)}static embedTypeInfo(m,y,w){const E=new O;an.makeTypeInfoBits(m,y,E);for(let P=0,D=E.getSize();P<D;++P){const V=E.get(E.getSize()-1-P),Z=an.TYPE_INFO_COORDINATES[P],oe=Z[0],be=Z[1];if(w.setBoolean(oe,be,V),P<8){const Te=w.getWidth()-P-1,De=8;w.setBoolean(Te,De,V)}else{const De=w.getHeight()-7+(P-8);w.setBoolean(8,De,V)}}}static maybeEmbedVersionInfo(m,y){if(m.getVersionNumber()<7)return;const w=new O;an.makeVersionInfoBits(m,w);let E=6*3-1;for(let P=0;P<6;++P)for(let D=0;D<3;++D){const V=w.get(E);E--,y.setBoolean(P,y.getHeight()-11+D,V),y.setBoolean(y.getHeight()-11+D,P,V)}}static embedDataBits(m,y,w){let E=0,P=-1,D=w.getWidth()-1,V=w.getHeight()-1;for(;D>0;){for(D===6&&(D-=1);V>=0&&V<w.getHeight();){for(let Z=0;Z<2;++Z){const oe=D-Z;if(!an.isEmpty(w.get(oe,V)))continue;let be;E<m.getSize()?(be=m.get(E),++E):be=!1,y!==255&&Kr.getDataMaskBit(y,oe,V)&&(be=!be),w.setBoolean(oe,V,be)}V+=P}P=-P,V+=P,D-=2}if(E!==m.getSize())throw new ma("Not all bits consumed: "+E+"/"+m.getSize())}static findMSBSet(m){return 32-T.numberOfLeadingZeros(m)}static calculateBCHCode(m,y){if(y===0)throw new h("0 polynomial");const w=an.findMSBSet(y);for(m<<=w-1;an.findMSBSet(m)>=w;)m^=y<<an.findMSBSet(m)-w;return m}static makeTypeInfoBits(m,y,w){if(!Mi.isValidMaskPattern(y))throw new ma("Invalid mask pattern");const E=m.getBits()<<3|y;w.appendBits(E,5);const P=an.calculateBCHCode(E,an.TYPE_INFO_POLY);w.appendBits(P,10);const D=new O;if(D.appendBits(an.TYPE_INFO_MASK_PATTERN,15),w.xor(D),w.getSize()!==15)throw new ma("should not happen but we got: "+w.getSize())}static makeVersionInfoBits(m,y){y.appendBits(m.getVersionNumber(),6);const w=an.calculateBCHCode(m.getVersionNumber(),an.VERSION_INFO_POLY);if(y.appendBits(w,12),y.getSize()!==18)throw new ma("should not happen but we got: "+y.getSize())}static isEmpty(m){return m===255}static embedTimingPatterns(m){for(let y=8;y<m.getWidth()-8;++y){const w=(y+1)%2;an.isEmpty(m.get(y,6))&&m.setNumber(y,6,w),an.isEmpty(m.get(6,y))&&m.setNumber(6,y,w)}}static embedDarkDotAtLeftBottomCorner(m){if(m.get(8,m.getHeight()-8)===0)throw new ma;m.setNumber(8,m.getHeight()-8,1)}static embedHorizontalSeparationPattern(m,y,w){for(let E=0;E<8;++E){if(!an.isEmpty(w.get(m+E,y)))throw new ma;w.setNumber(m+E,y,0)}}static embedVerticalSeparationPattern(m,y,w){for(let E=0;E<7;++E){if(!an.isEmpty(w.get(m,y+E)))throw new ma;w.setNumber(m,y+E,0)}}static embedPositionAdjustmentPattern(m,y,w){for(let E=0;E<5;++E){const P=an.POSITION_ADJUSTMENT_PATTERN[E];for(let D=0;D<5;++D)w.setNumber(m+D,y+E,P[D])}}static embedPositionDetectionPattern(m,y,w){for(let E=0;E<7;++E){const P=an.POSITION_DETECTION_PATTERN[E];for(let D=0;D<7;++D)w.setNumber(m+D,y+E,P[D])}}static embedPositionDetectionPatternsAndSeparators(m){const y=an.POSITION_DETECTION_PATTERN[0].length;an.embedPositionDetectionPattern(0,0,m),an.embedPositionDetectionPattern(m.getWidth()-y,0,m),an.embedPositionDetectionPattern(0,m.getWidth()-y,m);const w=8;an.embedHorizontalSeparationPattern(0,w-1,m),an.embedHorizontalSeparationPattern(m.getWidth()-w,w-1,m),an.embedHorizontalSeparationPattern(0,m.getWidth()-w,m);const E=7;an.embedVerticalSeparationPattern(E,0,m),an.embedVerticalSeparationPattern(m.getHeight()-E-1,0,m),an.embedVerticalSeparationPattern(E,m.getHeight()-E,m)}static maybeEmbedPositionAdjustmentPatterns(m,y){if(m.getVersionNumber()<2)return;const w=m.getVersionNumber()-1,E=an.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[w];for(let P=0,D=E.length;P!==D;P++){const V=E[P];if(V>=0)for(let Z=0;Z!==D;Z++){const oe=E[Z];oe>=0&&an.isEmpty(y.get(oe,V))&&an.embedPositionAdjustmentPattern(oe-2,V-2,y)}}}}an.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),an.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),an.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),an.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),an.VERSION_INFO_POLY=7973,an.TYPE_INFO_POLY=1335,an.TYPE_INFO_MASK_PATTERN=21522;class wo{constructor(m,y){this.dataBytes=m,this.errorCorrectionBytes=y}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ka{constructor(){}static calculateMaskPenalty(m){return Kr.applyMaskPenaltyRule1(m)+Kr.applyMaskPenaltyRule2(m)+Kr.applyMaskPenaltyRule3(m)+Kr.applyMaskPenaltyRule4(m)}static encode(m,y,w=null){let E=ka.DEFAULT_BYTE_MODE_ENCODING;const P=w!==null&&w.get(Ur.CHARACTER_SET)!==void 0;P&&(E=w.get(Ur.CHARACTER_SET).toString());const D=this.chooseMode(m,E),V=new O;if(D===Jr.BYTE&&(P||ka.DEFAULT_BYTE_MODE_ENCODING!==E)){const or=U.getCharacterSetECIByName(E);or!==void 0&&this.appendECI(or,V)}this.appendModeInfo(D,V);const Z=new O;this.appendBytes(m,D,Z,E);let oe;if(w!==null&&w.get(Ur.QR_VERSION)!==void 0){const or=Number.parseInt(w.get(Ur.QR_VERSION).toString(),10);oe=yn.getVersionForNumber(or);const ir=this.calculateBitsNeeded(D,V,Z,oe);if(!this.willFit(ir,oe,y))throw new ma("Data too big for requested version")}else oe=this.recommendVersion(y,D,V,Z);const be=new O;be.appendBitArray(V);const Te=D===Jr.BYTE?Z.getSizeInBytes():m.length;this.appendLengthInfo(Te,oe,D,be),be.appendBitArray(Z);const De=oe.getECBlocksForLevel(y),et=oe.getTotalCodewords()-De.getTotalECCodewords();this.terminateBits(et,be);const dt=this.interleaveWithECBytes(be,oe.getTotalCodewords(),et,De.getNumBlocks()),pt=new Mi;pt.setECLevel(y),pt.setMode(D),pt.setVersion(oe);const Nt=oe.getDimensionForVersion(),Rt=new Ma(Nt,Nt),Gt=this.chooseMaskPattern(dt,y,oe,Rt);return pt.setMaskPattern(Gt),an.buildMatrix(dt,y,oe,Gt,Rt),pt.setMatrix(Rt),pt}static recommendVersion(m,y,w,E){const P=this.calculateBitsNeeded(y,w,E,yn.getVersionForNumber(1)),D=this.chooseVersion(P,m),V=this.calculateBitsNeeded(y,w,E,D);return this.chooseVersion(V,m)}static calculateBitsNeeded(m,y,w,E){return y.getSize()+m.getCharacterCountBits(E)+w.getSize()}static getAlphanumericCode(m){return m<ka.ALPHANUMERIC_TABLE.length?ka.ALPHANUMERIC_TABLE[m]:-1}static chooseMode(m,y=null){if(U.SJIS.getName()===y&&this.isOnlyDoubleByteKanji(m))return Jr.KANJI;let w=!1,E=!1;for(let P=0,D=m.length;P<D;++P){const V=m.charAt(P);if(ka.isDigit(V))w=!0;else if(this.getAlphanumericCode(V.charCodeAt(0))!==-1)E=!0;else return Jr.BYTE}return E?Jr.ALPHANUMERIC:w?Jr.NUMERIC:Jr.BYTE}static isOnlyDoubleByteKanji(m){let y;try{y=K.encode(m,U.SJIS)}catch{return!1}const w=y.length;if(w%2!==0)return!1;for(let E=0;E<w;E+=2){const P=y[E]&255;if((P<129||P>159)&&(P<224||P>235))return!1}return!0}static chooseMaskPattern(m,y,w,E){let P=Number.MAX_SAFE_INTEGER,D=-1;for(let V=0;V<Mi.NUM_MASK_PATTERNS;V++){an.buildMatrix(m,y,w,V,E);let Z=this.calculateMaskPenalty(E);Z<P&&(P=Z,D=V)}return D}static chooseVersion(m,y){for(let w=1;w<=40;w++){const E=yn.getVersionForNumber(w);if(ka.willFit(m,E,y))return E}throw new ma("Data too big")}static willFit(m,y,w){const E=y.getTotalCodewords(),D=y.getECBlocksForLevel(w).getTotalECCodewords(),V=E-D,Z=(m+7)/8;return V>=Z}static terminateBits(m,y){const w=m*8;if(y.getSize()>w)throw new ma("data bits cannot fit in the QR Code"+y.getSize()+" > "+w);for(let D=0;D<4&&y.getSize()<w;++D)y.appendBit(!1);const E=y.getSize()&7;if(E>0)for(let D=E;D<8;D++)y.appendBit(!1);const P=m-y.getSizeInBytes();for(let D=0;D<P;++D)y.appendBits(D&1?17:236,8);if(y.getSize()!==w)throw new ma("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(m,y,w,E,P,D){if(E>=w)throw new ma("Block ID too large");const V=m%w,Z=w-V,oe=Math.floor(m/w),be=oe+1,Te=Math.floor(y/w),De=Te+1,et=oe-Te,dt=be-De;if(et!==dt)throw new ma("EC bytes mismatch");if(w!==Z+V)throw new ma("RS blocks mismatch");if(m!==(Te+et)*Z+(De+dt)*V)throw new ma("Total bytes mismatch");E<Z?(P[0]=Te,D[0]=et):(P[0]=De,D[0]=dt)}static interleaveWithECBytes(m,y,w,E){if(m.getSizeInBytes()!==w)throw new ma("Number of bits and data bytes does not match");let P=0,D=0,V=0;const Z=new Array;for(let be=0;be<E;++be){const Te=new Int32Array(1),De=new Int32Array(1);ka.getNumDataBytesAndNumECBytesForBlockID(y,w,E,be,Te,De);const et=Te[0],dt=new Uint8Array(et);m.toBytes(8*P,dt,0,et);const pt=ka.generateECBytes(dt,De[0]);Z.push(new wo(dt,pt)),D=Math.max(D,et),V=Math.max(V,pt.length),P+=Te[0]}if(w!==P)throw new ma("Data bytes does not match offset");const oe=new O;for(let be=0;be<D;++be)for(const Te of Z){const De=Te.getDataBytes();be<De.length&&oe.appendBits(De[be],8)}for(let be=0;be<V;++be)for(const Te of Z){const De=Te.getErrorCorrectionBytes();be<De.length&&oe.appendBits(De[be],8)}if(y!==oe.getSizeInBytes())throw new ma("Interleaving error: "+y+" and "+oe.getSizeInBytes()+" differ.");return oe}static generateECBytes(m,y){const w=m.length,E=new Int32Array(w+y);for(let D=0;D<w;D++)E[D]=m[D]&255;new ba(st.QR_CODE_FIELD_256).encode(E,y);const P=new Uint8Array(y);for(let D=0;D<y;D++)P[D]=E[w+D];return P}static appendModeInfo(m,y){y.appendBits(m.getBits(),4)}static appendLengthInfo(m,y,w,E){const P=w.getCharacterCountBits(y);if(m>=1<<P)throw new ma(m+" is bigger than "+((1<<P)-1));E.appendBits(m,P)}static appendBytes(m,y,w,E){switch(y){case Jr.NUMERIC:ka.appendNumericBytes(m,w);break;case Jr.ALPHANUMERIC:ka.appendAlphanumericBytes(m,w);break;case Jr.BYTE:ka.append8BitBytes(m,w,E);break;case Jr.KANJI:ka.appendKanjiBytes(m,w);break;default:throw new ma("Invalid mode: "+y)}}static getDigit(m){return m.charCodeAt(0)-48}static isDigit(m){const y=ka.getDigit(m);return y>=0&&y<=9}static appendNumericBytes(m,y){const w=m.length;let E=0;for(;E<w;){const P=ka.getDigit(m.charAt(E));if(E+2<w){const D=ka.getDigit(m.charAt(E+1)),V=ka.getDigit(m.charAt(E+2));y.appendBits(P*100+D*10+V,10),E+=3}else if(E+1<w){const D=ka.getDigit(m.charAt(E+1));y.appendBits(P*10+D,7),E+=2}else y.appendBits(P,4),E++}}static appendAlphanumericBytes(m,y){const w=m.length;let E=0;for(;E<w;){const P=ka.getAlphanumericCode(m.charCodeAt(E));if(P===-1)throw new ma;if(E+1<w){const D=ka.getAlphanumericCode(m.charCodeAt(E+1));if(D===-1)throw new ma;y.appendBits(P*45+D,11),E+=2}else y.appendBits(P,6),E++}}static append8BitBytes(m,y,w){let E;try{E=K.encode(m,w)}catch(P){throw new ma(P)}for(let P=0,D=E.length;P!==D;P++){const V=E[P];y.appendBits(V,8)}}static appendKanjiBytes(m,y){let w;try{w=K.encode(m,U.SJIS)}catch(P){throw new ma(P)}const E=w.length;for(let P=0;P<E;P+=2){const D=w[P]&255,V=w[P+1]&255,Z=D<<8&4294967295|V;let oe=-1;if(Z>=33088&&Z<=40956?oe=Z-33088:Z>=57408&&Z<=60351&&(oe=Z-49472),oe===-1)throw new ma("Invalid byte sequence");const be=(oe>>8)*192+(oe&255);y.appendBits(be,13)}}static appendECI(m,y){y.appendBits(Jr.ECI.getBits(),4),y.appendBits(m.getValue(),8)}}ka.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ka.DEFAULT_BYTE_MODE_ENCODING=U.UTF8.getName();class Ps{write(m,y,w,E=null){if(m.length===0)throw new h("Found empty contents");if(y<0||w<0)throw new h("Requested dimensions are too small: "+y+"x"+w);let P=vn.L,D=Ps.QUIET_ZONE_SIZE;E!==null&&(E.get(Ur.ERROR_CORRECTION)!==void 0&&(P=vn.fromString(E.get(Ur.ERROR_CORRECTION).toString())),E.get(Ur.MARGIN)!==void 0&&(D=Number.parseInt(E.get(Ur.MARGIN).toString(),10)));const V=ka.encode(m,P,E);return this.renderResult(V,y,w,D)}writeToDom(m,y,w,E,P=null){typeof m=="string"&&(m=document.querySelector(m));const D=this.write(y,w,E,P);m&&m.appendChild(D)}renderResult(m,y,w,E){const P=m.getMatrix();if(P===null)throw new Me;const D=P.getWidth(),V=P.getHeight(),Z=D+E*2,oe=V+E*2,be=Math.max(y,Z),Te=Math.max(w,oe),De=Math.min(Math.floor(be/Z),Math.floor(Te/oe)),et=Math.floor((be-D*De)/2),dt=Math.floor((Te-V*De)/2),pt=this.createSVGElement(be,Te);for(let Nt=0,Rt=dt;Nt<V;Nt++,Rt+=De)for(let Gt=0,or=et;Gt<D;Gt++,or+=De)if(P.get(Gt,Nt)===1){const ir=this.createSvgRectElement(or,Rt,De,De);pt.appendChild(ir)}return pt}createSVGElement(m,y){const w=document.createElementNS(Ps.SVG_NS,"svg");return w.setAttributeNS(null,"height",m.toString()),w.setAttributeNS(null,"width",y.toString()),w}createSvgRectElement(m,y,w,E){const P=document.createElementNS(Ps.SVG_NS,"rect");return P.setAttributeNS(null,"x",m.toString()),P.setAttributeNS(null,"y",y.toString()),P.setAttributeNS(null,"height",w.toString()),P.setAttributeNS(null,"width",E.toString()),P.setAttributeNS(null,"fill","#000000"),P}}Ps.QUIET_ZONE_SIZE=4,Ps.SVG_NS="http://www.w3.org/2000/svg";class Rl{encode(m,y,w,E,P){if(m.length===0)throw new h("Found empty contents");if(y!==ge.QR_CODE)throw new h("Can only encode QR_CODE, but got "+y);if(w<0||E<0)throw new h(`Requested dimensions are too small: ${w}x${E}`);let D=vn.L,V=Rl.QUIET_ZONE_SIZE;P!==null&&(P.get(Ur.ERROR_CORRECTION)!==void 0&&(D=vn.fromString(P.get(Ur.ERROR_CORRECTION).toString())),P.get(Ur.MARGIN)!==void 0&&(V=Number.parseInt(P.get(Ur.MARGIN).toString(),10)));const Z=ka.encode(m,D,P);return Rl.renderResult(Z,w,E,V)}static renderResult(m,y,w,E){const P=m.getMatrix();if(P===null)throw new Me;const D=P.getWidth(),V=P.getHeight(),Z=D+E*2,oe=V+E*2,be=Math.max(y,Z),Te=Math.max(w,oe),De=Math.min(Math.floor(be/Z),Math.floor(Te/oe)),et=Math.floor((be-D*De)/2),dt=Math.floor((Te-V*De)/2),pt=new ae(be,Te);for(let Nt=0,Rt=dt;Nt<V;Nt++,Rt+=De)for(let Gt=0,or=et;Gt<D;Gt++,or+=De)P.get(Gt,Nt)===1&&pt.setRegion(or,Rt,De,De);return pt}}Rl.QUIET_ZONE_SIZE=4;class es{encode(m,y,w,E,P){let D;switch(y){case ge.QR_CODE:D=new Rl;break;default:throw new h("No encoder available for format "+y)}return D.encode(m,y,w,E,P)}}class gi extends le{constructor(m,y,w,E,P,D,V,Z){if(super(D,V),this.yuvData=m,this.dataWidth=y,this.dataHeight=w,this.left=E,this.top=P,E+D>y||P+V>w)throw new h("Crop rectangle does not fit within image data.");Z&&this.reverseHorizontal(D,V)}getRow(m,y){if(m<0||m>=this.getHeight())throw new h("Requested row is outside the image: "+m);const w=this.getWidth();(y==null||y.length<w)&&(y=new Uint8ClampedArray(w));const E=(m+this.top)*this.dataWidth+this.left;return b.arraycopy(this.yuvData,E,y,0,w),y}getMatrix(){const m=this.getWidth(),y=this.getHeight();if(m===this.dataWidth&&y===this.dataHeight)return this.yuvData;const w=m*y,E=new Uint8ClampedArray(w);let P=this.top*this.dataWidth+this.left;if(m===this.dataWidth)return b.arraycopy(this.yuvData,P,E,0,w),E;for(let D=0;D<y;D++){const V=D*m;b.arraycopy(this.yuvData,P,E,V,m),P+=this.dataWidth}return E}isCropSupported(){return!0}crop(m,y,w,E){return new gi(this.yuvData,this.dataWidth,this.dataHeight,this.left+m,this.top+y,w,E,!1)}renderThumbnail(){const m=this.getWidth()/gi.THUMBNAIL_SCALE_FACTOR,y=this.getHeight()/gi.THUMBNAIL_SCALE_FACTOR,w=new Int32Array(m*y),E=this.yuvData;let P=this.top*this.dataWidth+this.left;for(let D=0;D<y;D++){const V=D*m;for(let Z=0;Z<m;Z++){const oe=E[P+Z*gi.THUMBNAIL_SCALE_FACTOR]&255;w[V+Z]=4278190080|oe*65793}P+=this.dataWidth*gi.THUMBNAIL_SCALE_FACTOR}return w}getThumbnailWidth(){return this.getWidth()/gi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/gi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(m,y){const w=this.yuvData;for(let E=0,P=this.top*this.dataWidth+this.left;E<y;E++,P+=this.dataWidth){const D=P+m/2;for(let V=P,Z=P+m-1;V<D;V++,Z--){const oe=w[V];w[V]=w[Z],w[Z]=oe}}}invert(){return new xe(this)}}gi.THUMBNAIL_SCALE_FACTOR=2;class Kt extends le{constructor(m,y,w,E,P,D,V){if(super(y,w),this.dataWidth=E,this.dataHeight=P,this.left=D,this.top=V,m.BYTES_PER_ELEMENT===4){const Z=y*w,oe=new Uint8ClampedArray(Z);for(let be=0;be<Z;be++){const Te=m[be],De=Te>>16&255,et=Te>>7&510,dt=Te&255;oe[be]=(De+et+dt)/4&255}this.luminances=oe}else this.luminances=m;if(E===void 0&&(this.dataWidth=y),P===void 0&&(this.dataHeight=w),D===void 0&&(this.left=0),V===void 0&&(this.top=0),this.left+y>this.dataWidth||this.top+w>this.dataHeight)throw new h("Crop rectangle does not fit within image data.")}getRow(m,y){if(m<0||m>=this.getHeight())throw new h("Requested row is outside the image: "+m);const w=this.getWidth();(y==null||y.length<w)&&(y=new Uint8ClampedArray(w));const E=(m+this.top)*this.dataWidth+this.left;return b.arraycopy(this.luminances,E,y,0,w),y}getMatrix(){const m=this.getWidth(),y=this.getHeight();if(m===this.dataWidth&&y===this.dataHeight)return this.luminances;const w=m*y,E=new Uint8ClampedArray(w);let P=this.top*this.dataWidth+this.left;if(m===this.dataWidth)return b.arraycopy(this.luminances,P,E,0,w),E;for(let D=0;D<y;D++){const V=D*m;b.arraycopy(this.luminances,P,E,V,m),P+=this.dataWidth}return E}isCropSupported(){return!0}crop(m,y,w,E){return new Kt(this.luminances,w,E,this.dataWidth,this.dataHeight,this.left+m,this.top+y)}invert(){return new xe(this)}}class Ml extends U{static forName(m){return this.getCharacterSetECIByName(m)}}class Os{}Os.ISO_8859_1=U.ISO8859_1;class hr{isCompact(){return this.compact}setCompact(m){this.compact=m}getSize(){return this.size}setSize(m){this.size=m}getLayers(){return this.layers}setLayers(m){this.layers=m}getCodeWords(){return this.codeWords}setCodeWords(m){this.codeWords=m}getMatrix(){return this.matrix}setMatrix(m){this.matrix=m}}class ru{static singletonList(m){return[m]}static min(m,y){return m.sort(y)[0]}}class Dd{constructor(m){this.previous=m}getPrevious(){return this.previous}}class hs extends Dd{constructor(m,y,w){super(m),this.value=y,this.bitCount=w}appendTo(m,y){m.appendBits(this.value,this.bitCount)}add(m,y){return new hs(this,m,y)}addBinaryShift(m,y){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new hs(this,m,y)}toString(){let m=this.value&(1<<this.bitCount)-1;return m|=1<<this.bitCount,"<"+T.toBinaryString(m|1<<this.bitCount).substring(1)+">"}}class Tu extends hs{constructor(m,y,w){super(m,0,0),this.binaryShiftStart=y,this.binaryShiftByteCount=w}appendTo(m,y){for(let w=0;w<this.binaryShiftByteCount;w++)(w===0||w===31&&this.binaryShiftByteCount<=62)&&(m.appendBits(31,5),this.binaryShiftByteCount>62?m.appendBits(this.binaryShiftByteCount-31,16):w===0?m.appendBits(Math.min(this.binaryShiftByteCount,31),5):m.appendBits(this.binaryShiftByteCount-31,5)),m.appendBits(y[this.binaryShiftStart+w],8)}addBinaryShift(m,y){return new Tu(this,m,y)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Rd(ke,m,y){return new Tu(ke,m,y)}function Oi(ke,m,y){return new hs(ke,m,y)}const ah=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ca=0,ci=1,wn=2,_o=3,kn=4,La=new hs(null,0,0),ih=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function ic(ke){for(let m of ke)j.fill(m,-1);return ke[Ca][kn]=0,ke[ci][kn]=0,ke[ci][Ca]=28,ke[_o][kn]=0,ke[wn][kn]=0,ke[wn][Ca]=15,ke}const xl=ic(j.createInt32Array(6,6));class nl{constructor(m,y,w,E){this.token=m,this.mode=y,this.binaryShiftByteCount=w,this.bitCount=E}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(m,y){let w=this.bitCount,E=this.token;if(m!==this.mode){let D=ih[this.mode][m];E=Oi(E,D&65535,D>>16),w+=D>>16}let P=m===wn?4:5;return E=Oi(E,y,P),new nl(E,m,0,w+P)}shiftAndAppend(m,y){let w=this.token,E=this.mode===wn?4:5;return w=Oi(w,xl[this.mode][m],E),w=Oi(w,y,5),new nl(w,this.mode,0,this.bitCount+E+5)}addBinaryShiftChar(m){let y=this.token,w=this.mode,E=this.bitCount;if(this.mode===kn||this.mode===wn){let V=ih[w][Ca];y=Oi(y,V&65535,V>>16),E+=V>>16,w=Ca}let P=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,D=new nl(y,w,this.binaryShiftByteCount+1,E+P);return D.binaryShiftByteCount===2047+31&&(D=D.endBinaryShift(m+1)),D}endBinaryShift(m){if(this.binaryShiftByteCount===0)return this;let y=this.token;return y=Rd(y,m-this.binaryShiftByteCount,this.binaryShiftByteCount),new nl(y,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(m){let y=this.bitCount+(ih[this.mode][m.mode]>>16);return this.binaryShiftByteCount<m.binaryShiftByteCount?y+=nl.calculateBinaryShiftCost(m)-nl.calculateBinaryShiftCost(this):this.binaryShiftByteCount>m.binaryShiftByteCount&&m.binaryShiftByteCount>0&&(y+=10),y<=m.bitCount}toBitArray(m){let y=[];for(let E=this.endBinaryShift(m.length).token;E!==null;E=E.getPrevious())y.unshift(E);let w=new O;for(const E of y)E.appendTo(w,m);return w}toString(){return G.format("%s bits=%d bytes=%d",ah[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(m){return m.binaryShiftByteCount>62?21:m.binaryShiftByteCount>31?20:m.binaryShiftByteCount>0?10:0}}nl.INITIAL_STATE=new nl(La,Ca,0,0);function Fo(ke){const m=G.getCharCode(" "),y=G.getCharCode("."),w=G.getCharCode(",");ke[Ca][m]=1;const E=G.getCharCode("Z"),P=G.getCharCode("A");for(let De=P;De<=E;De++)ke[Ca][De]=De-P+2;ke[ci][m]=1;const D=G.getCharCode("z"),V=G.getCharCode("a");for(let De=V;De<=D;De++)ke[ci][De]=De-V+2;ke[wn][m]=1;const Z=G.getCharCode("9"),oe=G.getCharCode("0");for(let De=oe;De<=Z;De++)ke[wn][De]=De-oe+2;ke[wn][w]=12,ke[wn][y]=13;const be=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let De=0;De<be.length;De++)ke[_o][G.getCharCode(be[De])]=De;const Te=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let De=0;De<Te.length;De++)G.getCharCode(Te[De])>0&&(ke[kn][G.getCharCode(Te[De])]=De);return ke}const gs=Fo(j.createInt32Array(5,256));class ts{constructor(m){this.text=m}encode(){const m=G.getCharCode(" "),y=G.getCharCode(`
`);let w=ru.singletonList(nl.INITIAL_STATE);for(let P=0;P<this.text.length;P++){let D,V=P+1<this.text.length?this.text[P+1]:0;switch(this.text[P]){case G.getCharCode("\r"):D=V===y?2:0;break;case G.getCharCode("."):D=V===m?3:0;break;case G.getCharCode(","):D=V===m?4:0;break;case G.getCharCode(":"):D=V===m?5:0;break;default:D=0}D>0?(w=ts.updateStateListForPair(w,P,D),P++):w=this.updateStateListForChar(w,P)}return ru.min(w,(P,D)=>P.getBitCount()-D.getBitCount()).toBitArray(this.text)}updateStateListForChar(m,y){const w=[];for(let E of m)this.updateStateForChar(E,y,w);return ts.simplifyStates(w)}updateStateForChar(m,y,w){let E=this.text[y]&255,P=gs[m.getMode()][E]>0,D=null;for(let V=0;V<=kn;V++){let Z=gs[V][E];if(Z>0){if(D==null&&(D=m.endBinaryShift(y)),!P||V===m.getMode()||V===wn){const oe=D.latchAndAppend(V,Z);w.push(oe)}if(!P&&xl[m.getMode()][V]>=0){const oe=D.shiftAndAppend(V,Z);w.push(oe)}}}if(m.getBinaryShiftByteCount()>0||gs[m.getMode()][E]===0){let V=m.addBinaryShiftChar(y);w.push(V)}}static updateStateListForPair(m,y,w){const E=[];for(let P of m)this.updateStateForPair(P,y,w,E);return this.simplifyStates(E)}static updateStateForPair(m,y,w,E){let P=m.endBinaryShift(y);if(E.push(P.latchAndAppend(kn,w)),m.getMode()!==kn&&E.push(P.shiftAndAppend(kn,w)),w===3||w===4){let D=P.latchAndAppend(wn,16-w).latchAndAppend(wn,1);E.push(D)}if(m.getBinaryShiftByteCount()>0){let D=m.addBinaryShiftChar(y).addBinaryShiftChar(y+1);E.push(D)}}static simplifyStates(m){let y=[];for(const w of m){let E=!0;for(const P of y){if(P.isBetterThanOrEqualTo(w)){E=!1;break}w.isBetterThanOrEqualTo(P)&&(y=y.filter(D=>D!==P))}E&&y.push(w)}return y}}class Hn{constructor(){}static encodeBytes(m){return Hn.encode(m,Hn.DEFAULT_EC_PERCENT,Hn.DEFAULT_AZTEC_LAYERS)}static encode(m,y,w){let E=new ts(m).encode(),P=T.truncDivision(E.getSize()*y,100)+11,D=E.getSize()+P,V,Z,oe,be,Te;if(w!==Hn.DEFAULT_AZTEC_LAYERS){if(V=w<0,Z=Math.abs(w),Z>(V?Hn.MAX_NB_BITS_COMPACT:Hn.MAX_NB_BITS))throw new h(G.format("Illegal value %s for layers",w));oe=Hn.totalBitsInLayer(Z,V),be=Hn.WORD_SIZE[Z];let ir=oe-oe%be;if(Te=Hn.stuffBits(E,be),Te.getSize()+P>ir)throw new h("Data to large for user specified layer");if(V&&Te.getSize()>be*64)throw new h("Data to large for user specified layer")}else{be=0,Te=null;for(let ir=0;;ir++){if(ir>Hn.MAX_NB_BITS)throw new h("Data too large for an Aztec code");if(V=ir<=3,Z=V?ir+1:ir,oe=Hn.totalBitsInLayer(Z,V),D>oe)continue;(Te==null||be!==Hn.WORD_SIZE[Z])&&(be=Hn.WORD_SIZE[Z],Te=Hn.stuffBits(E,be));let ta=oe-oe%be;if(!(V&&Te.getSize()>be*64)&&Te.getSize()+P<=ta)break}}let De=Hn.generateCheckWords(Te,oe,be),et=Te.getSize()/be,dt=Hn.generateModeMessage(V,Z,et),pt=(V?11:14)+Z*4,Nt=new Int32Array(pt),Rt;if(V){Rt=pt;for(let ir=0;ir<Nt.length;ir++)Nt[ir]=ir}else{Rt=pt+1+2*T.truncDivision(T.truncDivision(pt,2)-1,15);let ir=T.truncDivision(pt,2),ta=T.truncDivision(Rt,2);for(let da=0;da<ir;da++){let Ti=da+T.truncDivision(da,15);Nt[ir-da-1]=ta-Ti-1,Nt[ir+da]=ta+Ti+1}}let Gt=new ae(Rt);for(let ir=0,ta=0;ir<Z;ir++){let da=(Z-ir)*4+(V?9:12);for(let Ti=0;Ti<da;Ti++){let al=Ti*2;for(let Do=0;Do<2;Do++)De.get(ta+al+Do)&&Gt.set(Nt[ir*2+Do],Nt[ir*2+Ti]),De.get(ta+da*2+al+Do)&&Gt.set(Nt[ir*2+Ti],Nt[pt-1-ir*2-Do]),De.get(ta+da*4+al+Do)&&Gt.set(Nt[pt-1-ir*2-Do],Nt[pt-1-ir*2-Ti]),De.get(ta+da*6+al+Do)&&Gt.set(Nt[pt-1-ir*2-Ti],Nt[ir*2+Do])}ta+=da*8}if(Hn.drawModeMessage(Gt,V,Rt,dt),V)Hn.drawBullsEye(Gt,T.truncDivision(Rt,2),5);else{Hn.drawBullsEye(Gt,T.truncDivision(Rt,2),7);for(let ir=0,ta=0;ir<T.truncDivision(pt,2)-1;ir+=15,ta+=16)for(let da=T.truncDivision(Rt,2)&1;da<Rt;da+=2)Gt.set(T.truncDivision(Rt,2)-ta,da),Gt.set(T.truncDivision(Rt,2)+ta,da),Gt.set(da,T.truncDivision(Rt,2)-ta),Gt.set(da,T.truncDivision(Rt,2)+ta)}let or=new hr;return or.setCompact(V),or.setSize(Rt),or.setLayers(Z),or.setCodeWords(et),or.setMatrix(Gt),or}static drawBullsEye(m,y,w){for(let E=0;E<w;E+=2)for(let P=y-E;P<=y+E;P++)m.set(P,y-E),m.set(P,y+E),m.set(y-E,P),m.set(y+E,P);m.set(y-w,y-w),m.set(y-w+1,y-w),m.set(y-w,y-w+1),m.set(y+w,y-w),m.set(y+w,y-w+1),m.set(y+w,y+w-1)}static generateModeMessage(m,y,w){let E=new O;return m?(E.appendBits(y-1,2),E.appendBits(w-1,6),E=Hn.generateCheckWords(E,28,4)):(E.appendBits(y-1,5),E.appendBits(w-1,11),E=Hn.generateCheckWords(E,40,4)),E}static drawModeMessage(m,y,w,E){let P=T.truncDivision(w,2);if(y)for(let D=0;D<7;D++){let V=P-3+D;E.get(D)&&m.set(V,P-5),E.get(D+7)&&m.set(P+5,V),E.get(20-D)&&m.set(V,P+5),E.get(27-D)&&m.set(P-5,V)}else for(let D=0;D<10;D++){let V=P-5+D+T.truncDivision(D,5);E.get(D)&&m.set(V,P-7),E.get(D+10)&&m.set(P+7,V),E.get(29-D)&&m.set(V,P+7),E.get(39-D)&&m.set(P-7,V)}}static generateCheckWords(m,y,w){let E=m.getSize()/w,P=new ba(Hn.getGF(w)),D=T.truncDivision(y,w),V=Hn.bitsToWords(m,w,D);P.encode(V,D-E);let Z=y%w,oe=new O;oe.appendBits(0,Z);for(const be of Array.from(V))oe.appendBits(be,w);return oe}static bitsToWords(m,y,w){let E=new Int32Array(w),P,D;for(P=0,D=m.getSize()/y;P<D;P++){let V=0;for(let Z=0;Z<y;Z++)V|=m.get(P*y+Z)?1<<y-Z-1:0;E[P]=V}return E}static getGF(m){switch(m){case 4:return st.AZTEC_PARAM;case 6:return st.AZTEC_DATA_6;case 8:return st.AZTEC_DATA_8;case 10:return st.AZTEC_DATA_10;case 12:return st.AZTEC_DATA_12;default:throw new h("Unsupported word size "+m)}}static stuffBits(m,y){let w=new O,E=m.getSize(),P=(1<<y)-2;for(let D=0;D<E;D+=y){let V=0;for(let Z=0;Z<y;Z++)(D+Z>=E||m.get(D+Z))&&(V|=1<<y-1-Z);(V&P)===P?(w.appendBits(V&P,y),D--):V&P?w.appendBits(V,y):(w.appendBits(V|1,y),D--)}return w}static totalBitsInLayer(m,y){return((y?88:112)+16*m)*m}}Hn.DEFAULT_EC_PERCENT=33,Hn.DEFAULT_AZTEC_LAYERS=0,Hn.MAX_NB_BITS=32,Hn.MAX_NB_BITS_COMPACT=4,Hn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class jc{encode(m,y,w,E){return this.encodeWithHints(m,y,w,E,null)}encodeWithHints(m,y,w,E,P){let D=Os.ISO_8859_1,V=Hn.DEFAULT_EC_PERCENT,Z=Hn.DEFAULT_AZTEC_LAYERS;return P!=null&&(P.has(Ur.CHARACTER_SET)&&(D=Ml.forName(P.get(Ur.CHARACTER_SET).toString())),P.has(Ur.ERROR_CORRECTION)&&(V=T.parseInt(P.get(Ur.ERROR_CORRECTION).toString())),P.has(Ur.AZTEC_LAYERS)&&(Z=T.parseInt(P.get(Ur.AZTEC_LAYERS).toString()))),jc.encodeLayers(m,y,w,E,D,V,Z)}static encodeLayers(m,y,w,E,P,D,V){if(y!==ge.AZTEC)throw new h("Can only encode AZTEC, but got "+y);let Z=Hn.encode(G.getBytes(m,P),D,V);return jc.renderResult(Z,w,E)}static renderResult(m,y,w){let E=m.getMatrix();if(E==null)throw new Me;let P=E.getWidth(),D=E.getHeight(),V=Math.max(y,P),Z=Math.max(w,D),oe=Math.min(V/P,Z/D),be=(V-P*oe)/2,Te=(Z-D*oe)/2,De=new ae(V,Z);for(let et=0,dt=Te;et<D;et++,dt+=oe)for(let pt=0,Nt=be;pt<P;pt++,Nt+=oe)E.get(pt,et)&&De.setRegion(Nt,dt,oe,oe);return De}}r.AbstractExpandedDecoder=Qe,r.ArgumentException=f,r.ArithmeticException=Be,r.AztecCode=hr,r.AztecCodeReader=Cn,r.AztecCodeWriter=jc,r.AztecDecoder=ar,r.AztecDetector=ca,r.AztecDetectorResult=jr,r.AztecEncoder=Hn,r.AztecHighLevelEncoder=ts,r.AztecPoint=nn,r.BarcodeFormat=ge,r.Binarizer=N,r.BinaryBitmap=g,r.BitArray=O,r.BitMatrix=ae,r.BitSource=Z0,r.BrowserAztecCodeReader=ms,r.BrowserBarcodeReader=Cc,r.BrowserCodeReader=he,r.BrowserDatamatrixCodeReader=Ac,r.BrowserMultiFormatReader=Ct,r.BrowserPDF417Reader=tr,r.BrowserQRCodeReader=pr,r.BrowserQRCodeSvgWriter=Ps,r.CharacterSetECI=U,r.ChecksumException=p,r.Code128Reader=sr,r.Code39Reader=ln,r.DataMatrixDecodedBitStreamParser=Wn,r.DataMatrixReader=Qc,r.DecodeHintType=B,r.DecoderResult=Ne,r.DefaultGridSampler=xa,r.DetectorResult=Ar,r.EAN13Reader=ia,r.EncodeHintType=Ur,r.Exception=u,r.FormatException=L,r.GenericGF=st,r.GenericGFPoly=Ge,r.GlobalHistogramBinarizer=ne,r.GridSampler=ha,r.GridSamplerInstance=Un,r.HTMLCanvasElementLuminanceSource=Se,r.HybridBinarizer=de,r.ITFReader=Fn,r.IllegalArgumentException=h,r.IllegalStateException=Me,r.InvertedLuminanceSource=xe,r.LuminanceSource=le,r.MathUtils=Tt,r.MultiFormatOneDReader=ea,r.MultiFormatReader=ft,r.MultiFormatWriter=es,r.NotFoundException=X,r.OneDReader=Zn,r.PDF417DecodedBitStreamParser=$t,r.PDF417DecoderErrorCorrection=Eu,r.PDF417Reader=Pe,r.PDF417ResultMetadata=rh,r.PerspectiveTransform=mn,r.PlanarYUVLuminanceSource=gi,r.QRCodeByteMatrix=Ma,r.QRCodeDataMask=tl,r.QRCodeDecodedBitStreamParser=Qi,r.QRCodeDecoderErrorCorrectionLevel=vn,r.QRCodeDecoderFormatInformation=Ks,r.QRCodeEncoder=ka,r.QRCodeEncoderQRCode=Mi,r.QRCodeMaskUtil=Kr,r.QRCodeMatrixUtil=an,r.QRCodeMode=Jr,r.QRCodeReader=Au,r.QRCodeVersion=yn,r.QRCodeWriter=Rl,r.RGBLuminanceSource=Kt,r.RSS14Reader=Ta,r.RSSExpandedReader=Ut,r.ReaderException=rt,r.ReedSolomonDecoder=wt,r.ReedSolomonEncoder=ba,r.ReedSolomonException=lt,r.Result=se,r.ResultMetadataType=Ce,r.ResultPoint=ct,r.StringUtils=G,r.UnsupportedOperationException=J,r.VideoInputDevice=ye,r.WhiteRectangleDetector=tn,r.WriterException=ma,r.ZXingArrays=j,r.ZXingCharset=Ml,r.ZXingInteger=T,r.ZXingStandardCharsets=Os,r.ZXingStringBuilder=re,r.ZXingStringEncoding=K,r.ZXingSystem=b,r.createAbstractExpandedDecoder=Tr,Object.defineProperty(r,"__esModule",{value:!0})})})(NR,NR.exports);var to=NR.exports;const T_t=ji(to),k_t=CR({__proto__:null,default:T_t},[to]);var dJ=function(){function e(t,r,n){if(this.formatMap=new Map([[jn.QR_CODE,to.BarcodeFormat.QR_CODE],[jn.AZTEC,to.BarcodeFormat.AZTEC],[jn.CODABAR,to.BarcodeFormat.CODABAR],[jn.CODE_39,to.BarcodeFormat.CODE_39],[jn.CODE_93,to.BarcodeFormat.CODE_93],[jn.CODE_128,to.BarcodeFormat.CODE_128],[jn.DATA_MATRIX,to.BarcodeFormat.DATA_MATRIX],[jn.MAXICODE,to.BarcodeFormat.MAXICODE],[jn.ITF,to.BarcodeFormat.ITF],[jn.EAN_13,to.BarcodeFormat.EAN_13],[jn.EAN_8,to.BarcodeFormat.EAN_8],[jn.PDF_417,to.BarcodeFormat.PDF_417],[jn.RSS_14,to.BarcodeFormat.RSS_14],[jn.RSS_EXPANDED,to.BarcodeFormat.RSS_EXPANDED],[jn.UPC_A,to.BarcodeFormat.UPC_A],[jn.UPC_E,to.BarcodeFormat.UPC_E],[jn.UPC_EAN_EXTENSION,to.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!k_t)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var a=this.createZXingFormats(t),i=new Map;i.set(to.DecodeHintType.POSSIBLE_FORMATS,a),i.set(to.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,a){try{n(r.decode(t))}catch(i){a(i)}})},e.prototype.decode=function(t){var r=new to.MultiFormatReader(this.verbose,this.hints),n=new to.HTMLCanvasElementLuminanceSource(t),a=new to.BinaryBitmap(new to.HybridBinarizer(n)),i=r.decode(a);return{text:i.text,format:h1e.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,a){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,a=t;n<a.length;n++){var i=a[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),P_t=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},O_t=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},fJ=function(){function e(t,r,n){if(this.formatMap=new Map([[jn.QR_CODE,"qr_code"],[jn.AZTEC,"aztec"],[jn.CODABAR,"codabar"],[jn.CODE_39,"code_39"],[jn.CODE_93,"code_93"],[jn.CODE_128,"code_128"],[jn.DATA_MATRIX,"data_matrix"],[jn.ITF,"itf"],[jn.EAN_13,"ean_13"],[jn.EAN_8,"ean_8"],[jn.PDF_417,"pdf417"],[jn.UPC_A,"upc_a"],[jn.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return P_t(this,void 0,void 0,function(){var r,n;return O_t(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=a.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:h1e.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,a=0,i=t;a<i.length;a++){var o=i[a],l=o.boundingBox.width*o.boundingBox.height;l>n&&(n=l,r=o)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,a=t;n<a.length;n++){var i=a[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,a){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),hJ=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},mJ=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},I_t=function(){function e(t,r,n,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&fJ.isSupported()?(this.primaryDecoder=new fJ(t,n,a),this.secondaryDecoder=new dJ(t,n,a)):this.primaryDecoder=new dJ(t,n,a)}return e.prototype.decodeAsync=function(t){return hJ(this,void 0,void 0,function(){var r;return mJ(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return hJ(this,void 0,void 0,function(){var r,n;return mJ(this,function(a){switch(a.label){case 0:r=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(n=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var a=n[r];t+=a}var i=t/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),PB=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ej=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},tj=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},p1e=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),F_t=function(e){PB(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var a={advanced:[n]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(p1e),D_t=function(e){PB(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(F_t),R_t=function(e){PB(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(p1e),M_t=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new D_t(this.track)},e.prototype.torchFeature=function(){return new R_t(this.track)},e}(),L_t=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,a),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,a){return ej(this,void 0,void 0,function(){var i,o;return tj(this,function(l){switch(l.label){case 0:return i=new e(t,r,a),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:l.sent(),l.label=2;case 2:return i.setupSurface(),[2,i]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return ej(this,void 0,void 0,function(){return tj(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var a=t.mediaStream.getVideoTracks(),i=a.length,o=0;t.mediaStream.getVideoTracks().forEach(function(l){t.mediaStream.removeTrack(l),l.stop(),++o,o>=i&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new M_t(this.getFirstTrackOrFail())},e}(),B_t=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return ej(this,void 0,void 0,function(){return tj(this,function(a){return[2,L_t.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return ej(this,void 0,void 0,function(){var r,n;return tj(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=a.sent(),[2,new e(n)]}})})},e}(),pJ=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},gJ=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},U_t=function(){function e(){}return e.failIfNotSupported=function(){return pJ(this,void 0,void 0,function(){return gJ(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return pJ(this,void 0,void 0,function(){return gJ(this,function(r){return[2,B_t.create(t)]})})},e}(),$_t=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(h){o(h)}}function c(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},z_t=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},V_t=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=k2.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=k2.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return $_t(this,void 0,void 0,function(){var t,r,n,a,i,o,l;return z_t(this,function(c){switch(c.label){case 0:return t=function(u){for(var f=u.getVideoTracks(),h=0,g=f;h<g.length;h++){var p=g[h];p.enabled=!1,p.stop(),u.removeTrack(p)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=c.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=c.sent(),a=[],i=0,o=n;i<o.length;i++)l=o[i],l.kind==="videoinput"&&a.push({id:l.deviceId,label:l.label});return t(r),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(i){for(var o=[],l=0,c=i;l<c.length;l++){var u=c[l];u.kind==="video"&&o.push({id:u.id,label:u.label})}t(o)},a=MediaStreamTrack;a.getSources(n)})},e}(),$o;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})($o||($o={}));var W_t=function(){function e(){this.state=$o.NOT_STARTED,this.onGoingTransactionNewState=$o.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===$o.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=$o.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===$o.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=$o.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==$o.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case $o.UNKNOWN:throw"Transition from unknown is not allowed";case $o.NOT_STARTED:this.failIfNewStateIs(t,[$o.PAUSED]);break;case $o.SCANNING:break;case $o.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,a=r;n<a.length;n++){var i=a[n];if(t===i)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),H_t=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===$o.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==$o.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===$o.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===$o.PAUSED},e}(),q_t=function(){function e(){}return e.create=function(){return new H_t(new W_t)},e}(),G_t=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ld=function(e){G_t(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(A_t),K_t=function(){function e(t,r){this.logger=r,this.fps=Ld.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Ld.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?m1e.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!fm(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),xJ=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new j_t(this.verbose),this.qrcode=new I_t(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=q_t.create()}return e.prototype.start=function(t,r,n,a){var i=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;a?o=a:o=this.verbose?this.logger.log:function(){};var l=K_t.create(r,this.logger);this.clearElement();var c=!1;l.videoConstraints&&(l.isMediaStreamConstraintsValid()?c=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=c,f=document.getElementById(this.elementId);f.clientWidth?f.clientWidth:Ld.DEFAULT_WIDTH,f.style.position="relative",this.shouldScan=!0,this.element=f;var h=this,g=this.stateManagerProxy.startTransition($o.SCANNING);return new Promise(function(p,N){var b=u?l.videoConstraints:h.createVideoConstraints(t);if(!b){g.cancel(),N("videoConstraints should be defined");return}var S={};(!u||l.aspectRatio)&&(S.aspectRatio=l.aspectRatio);var C={onRenderSurfaceReady:function(j,T){h.setupUi(j,T,l),h.isScanning=!0,h.foreverScan(l,n,o)}};U_t.failIfNotSupported().then(function(j){j.create(b).then(function(T){return T.render(i.element,S,C).then(function(O){h.renderedCamera=O,g.execute(),p(null)}).catch(function(O){g.cancel(),N(O)})}).catch(function(T){g.cancel(),N(k2.errorGettingUserMedia(T))})}).catch(function(j){g.cancel(),N(k2.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition($o.PAUSED),this.showPausedState(),(fm(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition($o.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition($o.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var i=document.getElementById(Ld.SHADED_REGION_ELEMENT_ID);i&&t.element.removeChild(i)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),n(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),r.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(fm(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,i){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var l=o.width,c=o.height,u=document.getElementById(n.elementId),f=u.clientWidth?u.clientWidth:Ld.DEFAULT_WIDTH,h=Math.max(u.clientHeight?u.clientHeight:c,Ld.FILE_SCAN_MIN_HEIGHT),g=n.computeCanvasDrawConfig(l,c,f,h);if(r){var p=n.createCanvasElement(f,h,"qr-canvas-visible");p.style.display="inline-block",u.appendChild(p);var N=p.getContext("2d");if(!N)throw"Unable to get 2d context from canvas";N.canvas.width=f,N.canvas.height=h,N.drawImage(o,0,0,l,c,g.x,g.y,g.width,g.height)}var b=Ld.FILE_SCAN_HIDDEN_CANVAS_PADDING,S=Math.max(o.width,g.width),C=Math.max(o.height,g.height),j=S+2*b,T=C+2*b,O=n.createCanvasElement(j,T);u.appendChild(O);var M=O.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=j,M.canvas.height=T,M.drawImage(o,0,0,l,c,b,b,S,C);try{n.qrcode.decodeRobustlyAsync(O).then(function(B){a(uJ.createFromQrcodeResult(B))}).catch(i)}catch(B){i("QR code parse error, error = ".concat(B))}},o.onerror=i,o.onabort=i,o.onstalled=i,o.onsuspend=i,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return V_t.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!m1e.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[jn.QR_CODE,jn.AZTEC,jn.CODABAR,jn.CODE_39,jn.CODE_93,jn.CODE_128,jn.DATA_MATRIX,jn.MAXICODE,jn.ITF,jn.EAN_13,jn.EAN_8,jn.PDF_417,jn.RSS_14,jn.RSS_EXPANDED,jn.UPC_A,jn.UPC_E,jn.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],a=0,i=t.formatsToSupport;a<i.length;a++){var o=i[a];C_t(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(fm(t))return!0;if(!fm(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(fm(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return fm(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var a=this,i=n.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,r,i),l=function(u){if(u<Ld.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ld.MIN_QR_BOX_SIZE,"px.")},c=function(u){return u>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=t),u};l(o.width),l(o.height),o.width=c(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var a=fm(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(a);var i=this.toQrdimensions(t,r,a);i.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&i.height<=r,l={x:0,y:0,width:t,height:r},c=o?this.getShadedRegionBounds(t,r,i):l,u=this.createCanvasElement(c.width,c.height),f={willReadFrequently:!0},h=u.getContext("2d",f);h.canvas.width=c.width,h.canvas.height=c.height,this.element.append(u),o&&this.possiblyInsertShadingElement(this.element,t,r,i),this.createScannerPausedUiElement(this.element),this.qrRegion=c,this.context=h,this.canvasElement=u},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=k2.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,uJ.createFromQrcodeResult(a)),n.possiblyUpdateShaders(!0),!0}).catch(function(a){n.possiblyUpdateShaders(!1);var i=k2.codeParseError(a);return r(i,E_t.createFrom(i)),!1})},e.prototype.foreverScan=function(t,r,n){var a=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),o=i.videoWidth/i.clientWidth,l=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var c=this.qrRegion.width*o,u=this.qrRegion.height*l,f=this.qrRegion.x*o,h=this.qrRegion.y*l;this.context.drawImage(i,f,h,c,u,0,0,this.qrRegion.width,this.qrRegion.height);var g=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,r,n)},a.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(p){!p&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(r,n).finally(function(){g()})):g()}).catch(function(p){a.logger.logError("Error happend while scanning context",p),g()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",a={user:!0,environment:!0},i="exact",o=function(N){if(N in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(N,"'")},l=Object.keys(t);if(l.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(l.length," keys");var c=Object.keys(t)[0];if(c!==r&&c!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(c===r){var u=t.facingMode;if(typeof u=="string"){if(o(u))return{facingMode:u}}else if(typeof u=="object")if(i in u){if(o(u["".concat(i)]))return{facingMode:{exact:u["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var f=typeof u;throw"Invalid type of 'facingMode' = ".concat(f)}}else{var h=t.deviceId;if(typeof h=="string")return{deviceId:h};if(typeof h=="object"){if(i in h)return{deviceId:{exact:h["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var g=typeof h;throw"Invalid type of 'deviceId' = ".concat(g)}}}var p=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(p)},e.prototype.computeCanvasDrawConfig=function(t,r,n,a){if(t<=n&&r<=a){var i=(n-t)/2,o=(a-r)/2;return{x:i,y:o,width:t,height:r}}else{var l=t,c=r;return t>n&&(r=n/t*r,t=n),r>a&&(t=a/r*t,r=a),this.logger.log("Image downsampled from "+"".concat(l,"X").concat(c)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Ld.BORDER_SHADER_MATCH_COLOR:Ld.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var a=t,i=r,o=document.createElement("canvas");return o.style.width="".concat(a,"px"),o.style.height="".concat(i,"px"),o.style.display="none",o.id=fm(n)?"qr-canvas":n,o},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,a){if(!(r-a.width<1||n-a.height<1)){var i=document.createElement("div");i.style.position="absolute";var o=(r-a.width)/2,l=(n-a.height)/2;if(i.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(Ld.SHADED_REGION_ELEMENT_ID),r-a.width<11||n-a.height<11)this.hasBorderShaders=!1;else{var c=5,u=40;this.insertShaderBorders(i,u,c,-c,null,0,!0),this.insertShaderBorders(i,u,c,-c,null,0,!1),this.insertShaderBorders(i,u,c,null,-c,0,!0),this.insertShaderBorders(i,u,c,null,-c,0,!1),this.insertShaderBorders(i,c,u+c,-c,null,-c,!0),this.insertShaderBorders(i,c,u+c,null,-c,-c,!0),this.insertShaderBorders(i,c,u+c,-c,null,-c,!1),this.insertShaderBorders(i,c,u+c,null,-c,-c,!1),this.hasBorderShaders=!0}t.append(i)}},e.prototype.insertShaderBorders=function(t,r,n,a,i,o,l){var c=document.createElement("div");c.style.position="absolute",c.style.backgroundColor=Ld.BORDER_SHADER_DEFAULT_COLOR,c.style.width="".concat(r,"px"),c.style.height="".concat(n,"px"),a!==null&&(c.style.top="".concat(a,"px")),i!==null&&(c.style.bottom="".concat(i,"px")),l?c.style.left="".concat(o,"px"):c.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(c),t.appendChild(c)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var vJ;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(vJ||(vJ={}));const Y_t=({onScan:e,onError:t,isScanning:r})=>{const[n,a]=A.useState(null),[i,o]=A.useState(null);A.useRef(null);const l=A.useRef(null);return A.useEffect(()=>{if(!r)return;const c=async()=>{try{const f=await xJ.getCameras();if(!f||f.length===0){a("Aucune camra dtecte sur cet appareil."),o(!1),t&&t("No camera found");return}o(!0),a(null);const h=new xJ("reader");l.current=h,await h.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250},aspectRatio:1},(g,p)=>{e&&e(g)},g=>{})}catch(f){console.error("Failed to start scanner:",f),a("Impossible d'accder  la camra. Vrifiez vos permissions."),o(!1),t&&t(f)}},u=setTimeout(()=>{c()},100);return()=>{clearTimeout(u),l.current&&l.current.stop().then(()=>{l.current.clear(),l.current=null}).catch(f=>{console.error("Failed to stop scanner",f)})}},[r,e,t]),s.jsx("div",{className:"w-full max-w-sm mx-auto relative rounded-xl overflow-hidden bg-black aspect-square shadow-2xl border-2 border-primary/20",children:n?s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-6 text-center bg-gray-900",children:[s.jsx(wu,{className:"w-12 h-12 text-destructive mb-4"}),s.jsx("p",{className:"text-white mb-4",children:n}),s.jsx(Ue,{variant:"outline",onClick:()=>window.location.reload(),children:"Ressayer"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{id:"reader",className:"w-full h-full"}),s.jsxs("div",{className:"absolute inset-0 pointer-events-none border-[40px] border-black/50",children:[s.jsx("div",{className:"absolute inset-0 border-2 border-primary/50 opacity-50 animate-pulse"}),s.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-primary -mt-1 -ml-1"}),s.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-primary -mt-1 -mr-1"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-primary -mb-1 -ml-1"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-primary -mb-1 -mr-1"})]}),s.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center pointer-events-none",children:s.jsxs("div",{className:"bg-black/60 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-2",children:[s.jsx(k7,{className:"w-4 h-4 text-primary animate-pulse"}),s.jsx("span",{className:"text-white text-xs font-medium",children:"Recherche de QR Code..."})]})})]})})},X_t=()=>{const{user:e}=bn(),{toast:t,dismiss:r}=qs(),[n]=I5(),[a,i]=A.useState(""),[o,l]=A.useState(null),[c,u]=A.useState(!1),[f,h]=A.useState("scan"),[g,p]=A.useState(null),[N,b]=A.useState(!1),[S,C]=A.useState(!1),[j,T]=A.useState([]),O=A.useRef({code:"",time:0}),M=A.useRef(!1),B=A.useRef(null);A.useEffect(()=>{const ne=n.get("ticket");ne&&(i(ne),U(ne,"manual"))},[n]),A.useEffect(()=>()=>{B.current&&clearTimeout(B.current)},[]);const L=async ne=>{try{const{data:de,error:le}=await Je.from("events").select("event_date, title, allows_reentry, max_reentry_interval").eq("id",ne).single();if(le)throw le;if(!de||!de.event_date)return{isValid:!1,reason:"vnement non trouv"};const xe=new Date(de.event_date),Se=new Date,ye=new Date(Se.getFullYear(),Se.getMonth(),Se.getDate()),ee=new Date(xe.getFullYear(),xe.getMonth(),xe.getDate());if(ee.getTime()!==ye.getTime()){const he=Math.floor((ee-ye)/864e5);return{isValid:!1,reason:`Cet vnement est prvu pour le ${xe.toLocaleDateString("fr-FR")}`,daysUntil:he,eventDate:xe,eventTitle:de.title}}return{isValid:!0,eventDate:xe,eventTitle:de.title,allowsReentry:de.allows_reentry,maxReentryInterval:de.max_reentry_interval}}catch(de){return console.error("Error checking event date:",de),{isValid:!0,reason:null}}},H=async ne=>{try{const{data:de,error:le}=await Je.from("ticket_verifications").select("*").eq("ticket_id",ne).order("verified_at",{ascending:!1}).limit(10);if(le)throw le;T(de||[])}catch(de){console.error("Error fetching ticket history:",de)}},U=async(ne,de="manual")=>{const le=ne==null?void 0:ne.trim().toUpperCase();if(!le)return;const xe=Date.now();if(!M.current&&!(de==="qr_code"&&le===O.current.code&&xe-O.current.time<3e3)){M.current=!0,O.current={code:le,time:xe},u(!0),p(null),T([]),r(),B.current&&clearTimeout(B.current);try{const{data:Se,error:ye}=await Je.from("event_tickets").select("id, event_id").or(`ticket_code_short.eq.${le},ticket_number.eq.${le}`).single();if(ye)throw new Error("Ticket non trouv");await H(Se.id);const ee=await L(Se.event_id);if(p(ee),!ee.isValid){new Audio("/sounds/warning.mp3").play().catch(()=>{}),l({success:!1,message:ee.reason,status_code:"wrong_date",event_title:ee.eventTitle,event_date:ee.eventDate}),t({title:"Mauvais jour",description:ee.reason,variant:"destructive"}),B.current=setTimeout(()=>{l(null),i("")},5e3);return}const{data:he,error:se}=await Je.rpc("verify_ticket_v2",{p_ticket_identifier:le,p_verification_method:de,p_exit_mode:N});if(se)throw se;if(l(he),await H(Se.id),he.success)he.status_code==="exit_registered"?(new Audio("/sounds/exit.mp3").play().catch(()=>{}),t({title:" Sortie enregistre",description:he.message,className:"bg-blue-600 text-white border-none"})):(new Audio("/sounds/success.mp3").play().catch(()=>{}),t({title:" Billet Valide",description:he.message,className:"bg-green-600 text-white border-none"}));else switch(he.status_code){case"already_inside":case"already_inside_reentry":new Audio("/sounds/warning.mp3").play().catch(()=>{}),t({title:" Dj  l'intrieur",description:he.message,variant:"warning"});break;case"reentry_expired":new Audio("/sounds/error.mp3").play().catch(()=>{}),t({title:" Rentre expire",description:he.message,variant:"destructive"});break;case"not_inside":new Audio("/sounds/warning.mp3").play().catch(()=>{}),t({title:" Pas  l'intrieur",description:he.message,variant:"warning"});break;default:new Audio("/sounds/error.mp3").play().catch(()=>{}),t({title:" Erreur",description:he.message,variant:"destructive"})}B.current=setTimeout(()=>{l(null),N||i("")},5e3)}catch(Se){console.error("Verification failed:",Se);const ye=Se.message||"Erreur technique";new Audio("/sounds/error.mp3").play().catch(()=>{}),l({success:!1,message:ye,status_code:"error"}),t({title:"Erreur",description:ye,variant:"destructive"}),B.current=setTimeout(()=>{l(null)},5e3)}finally{u(!1),setTimeout(()=>{M.current=!1},1e3)}}},J=ne=>{U(ne,"qr_code")},K=()=>{B.current&&clearTimeout(B.current),l(null),i(""),p(null),T([]),M.current=!1},G=()=>{b(!N),l(null),i(""),T([])},re=ne=>{switch(ne){case"checkin":case"reentry":return s.jsx(jl,{className:"w-24 h-24 text-green-500 mb-4 animate-in zoom-in duration-300"});case"exit_registered":return s.jsx(sk,{className:"w-24 h-24 text-blue-500 mb-4 animate-in zoom-in duration-300"});case"already_inside":case"already_inside_reentry":return s.jsx(Mz,{className:"w-24 h-24 text-yellow-500 mb-4 animate-in shake duration-300"});case"reentry_expired":return s.jsx(Yf,{className:"w-24 h-24 text-orange-500 mb-4 animate-in zoom-in duration-300"});case"wrong_date":return s.jsx(oo,{className:"w-24 h-24 text-orange-500 mb-4 animate-in zoom-in duration-300"});case"not_inside":return s.jsx(Gte,{className:"w-24 h-24 text-red-500 mb-4 animate-in zoom-in duration-300"});default:return s.jsx(Dj,{className:"w-24 h-24 text-red-500 mb-4 animate-in zoom-in duration-300"})}},ae=ne=>{if(!ne)return"";switch(ne.status_code){case"checkin":return"ENTRE VALIDE";case"reentry":return"RENTRE AUTORISE";case"exit_registered":return"SORTIE ENREGISTRE";case"already_inside":return"DJ  L'INTRIEUR";case"already_inside_reentry":return"DJ RENTR";case"reentry_expired":return"RENTRE EXPIRE";case"wrong_date":return"MAUVAIS JOUR";case"not_inside":return"NON  L'INTRIEUR";default:return"INVALIDE"}},X=ne=>{switch(ne){case"checkin":case"reentry":return"text-green-500";case"exit_registered":return"text-blue-500";case"already_inside":case"already_inside_reentry":return"text-yellow-500";case"reentry_expired":case"wrong_date":return"text-orange-500";default:return"text-red-500"}};return e?s.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-start pt-4 p-4",children:[s.jsx(Di,{children:s.jsx("title",{children:"Vrification | BonPlanInfos"})}),s.jsxs(Zt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md space-y-4",children:[s.jsxs("div",{className:"text-center mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"w-10"}),s.jsxs("h1",{className:"text-xl font-bold flex items-center justify-center gap-2",children:[N?s.jsx(sk,{className:"w-5 h-5 text-blue-500"}):s.jsx(U7,{className:"w-5 h-5 text-primary"}),N?"Scanner Sorties":"Scanner Entres"]}),s.jsx(Ue,{onClick:G,variant:"outline",size:"sm",className:N?"bg-blue-500/20 border-blue-500 text-blue-300":"bg-gray-800",children:N?"Mode Sortie":"Mode Entre"})]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:N?"Enregistrez les sorties temporaires":`Vrification pour le ${new Date().toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})}`}),N&&s.jsx("p",{className:"text-xs text-blue-400 mt-1",children:" Les participants ont 60 minutes pour revenir"})]}),s.jsx(qt,{className:"bg-gray-900 border-gray-800 shadow-2xl overflow-hidden min-h-[500px] flex flex-col",children:s.jsx(Xt,{className:"p-0 flex-1 flex flex-col",children:s.jsxs(H0,{defaultValue:"scan",value:f,onValueChange:h,className:"w-full flex-1 flex flex-col",children:[s.jsxs(Hh,{className:"grid w-full grid-cols-2 bg-gray-800/50 p-1 shrink-0",children:[s.jsxs(Gn,{value:"scan",className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[s.jsx(k7,{className:"w-4 h-4 mr-2"})," Camra"]}),s.jsxs(Gn,{value:"manual",className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[s.jsx(Uz,{className:"w-4 h-4 mr-2"})," Saisie"]})]}),s.jsxs("div",{className:"relative flex-1 bg-black flex flex-col",children:[s.jsxs(Kn,{value:"scan",className:"absolute inset-0 mt-0",children:[s.jsx("div",{className:"absolute inset-0 z-0",children:s.jsx(Y_t,{onScan:J,isScanning:f==="scan",onError:ne=>console.log(ne)})}),s.jsx("div",{className:`absolute top-4 left-4 z-10 px-3 py-1 rounded-full text-xs font-bold ${N?"bg-blue-500/20 text-blue-300 border border-blue-500/30":"bg-green-500/20 text-green-300 border border-green-500/30"}`,children:N?"SORTIE":"ENTRE"}),s.jsx(Su,{children:o&&s.jsxs(Zt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"absolute inset-0 z-20 bg-black/95 backdrop-blur-md flex flex-col items-center justify-center p-6 text-center overflow-y-auto",children:[s.jsx("button",{onClick:K,className:"absolute top-4 right-4 p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors z-30",children:s.jsx(kl,{className:"w-6 h-6 text-white"})}),re(o.status_code),s.jsx("h2",{className:`text-3xl font-black mb-2 uppercase tracking-wide ${X(o.status_code)}`,children:ae(o)}),s.jsx("p",{className:"text-gray-300 mb-4 font-medium text-lg max-w-[90%]",children:o.message}),(o.attendee_name||o.ticket_type)&&s.jsxs("div",{className:"w-full bg-white/5 rounded-xl p-4 text-left space-y-3 border border-white/10 relative overflow-hidden mb-4",children:[s.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${o.success?"bg-green-500":o.status_code==="already_inside"?"bg-yellow-500":o.status_code==="reentry_expired"?"bg-orange-500":"bg-red-500"}`}),s.jsxs("div",{className:"pl-3",children:[s.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider",children:"Participant"}),s.jsx("p",{className:"text-xl font-bold text-white truncate",children:o.attendee_name||"Non spcifi"})]}),s.jsxs("div",{className:"flex justify-between items-end pl-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider",children:"Type"}),s.jsx(Vr,{variant:"outline",className:"mt-1 text-sm border-white/20 text-white",children:o.ticket_type||"Standard"})]}),o.verification_count&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider",children:"Total Scans"}),s.jsx("p",{className:"text-xl font-mono text-white",children:o.verification_count})]})]})]}),j.length>0&&s.jsxs("div",{className:"w-full bg-black/50 rounded-xl p-4 mb-4 max-h-48 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(nx,{className:"w-4 h-4 text-gray-400"}),s.jsx("h3",{className:"text-sm font-bold text-gray-300",children:"Historique rcent"})]}),s.jsx("div",{className:"space-y-2",children:j.map((ne,de)=>s.jsxs("div",{className:"flex items-center justify-between text-xs p-2 bg-white/5 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${ne.status==="checkin"?"bg-green-500":ne.status==="exit"?"bg-blue-500":ne.status==="reentry"?"bg-green-400":"bg-gray-500"}`}),s.jsx("span",{className:"font-medium",children:ne.status==="checkin"?"Entre":ne.status==="exit"?"Sortie":ne.status==="reentry"?"Rentre":ne.status})]}),s.jsx("span",{className:"text-gray-400",children:new Date(ne.verified_at).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]},ne.id))})]}),s.jsx(Ue,{onClick:K,size:"lg",className:"w-full font-bold text-lg rounded-xl bg-white text-black hover:bg-gray-200",children:o.success?"Scanner le suivant (5s)":"Fermer (5s)"})]})}),c&&!o&&s.jsx("div",{className:"absolute inset-0 z-30 bg-black/60 flex items-center justify-center backdrop-blur-sm",children:s.jsxs("div",{className:"bg-gray-900 p-6 rounded-2xl flex flex-col items-center",children:[s.jsx(Jt,{className:"w-10 h-10 text-primary animate-spin mb-2"}),s.jsx("p",{className:"text-white font-medium",children:N?"Enregistrement de la sortie...":"Vrification en cours..."})]})})]}),s.jsxs(Kn,{value:"manual",className:"mt-0 flex-1 bg-gray-900 p-6 flex flex-col justify-center",children:[s.jsxs("div",{className:"space-y-6 w-full",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Uz,{className:"w-8 h-8 text-primary"})}),s.jsx("h3",{className:"text-lg font-medium text-white",children:"Saisie Manuelle"}),s.jsx("p",{className:"text-sm text-gray-400",children:N?"Entrez le code pour enregistrer une sortie":"Entrez le code court (ex: A7B2X9)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Il,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 h-5 w-5"}),s.jsx(er,{placeholder:"Code",value:a,onChange:ne=>i(ne.target.value.toUpperCase()),className:"h-16 pl-12 text-center text-3xl tracking-[0.2em] bg-gray-800 border-gray-700 text-white focus:ring-2 focus:ring-primary focus:border-primary font-mono uppercase rounded-xl transition-all",autoFocus:!0,maxLength:12,onKeyDown:ne=>ne.key==="Enter"&&U(a,"manual")})]}),s.jsx(Ue,{onClick:()=>U(a,"manual"),size:"lg",className:`w-full h-14 font-bold text-lg rounded-xl ${N?"bg-blue-600 hover:bg-blue-700":"bg-primary hover:bg-primary/90"}`,disabled:c||!a,children:c?s.jsxs(s.Fragment,{children:[s.jsx(Jt,{className:"animate-spin mr-2"}),N?"Enregistrement...":"Vrification..."]}):N?"Enregistrer la sortie":"Vrifier ce code"}),s.jsx(Ue,{onClick:G,variant:"outline",size:"sm",className:"w-full",children:N?s.jsxs(s.Fragment,{children:[s.jsx(Mz,{className:"w-4 h-4 mr-2"}),"Passer en mode Entre"]}):s.jsxs(s.Fragment,{children:[s.jsx(sk,{className:"w-4 h-4 mr-2"}),"Passer en mode Sortie"]})})]}),s.jsx(Su,{children:o&&f==="manual"&&s.jsxs(Zt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"absolute inset-0 z-20 bg-gray-900 flex flex-col items-center justify-center p-6 text-center",children:[re(o.status_code),s.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:ae(o)}),s.jsx("p",{className:"text-gray-400 mb-6",children:o.message}),s.jsx(Ue,{onClick:K,className:"w-full",variant:"outline",children:"Fermer"})]})})]})]})]})})})]}),s.jsx(To,{open:S,onOpenChange:C,children:s.jsxs(xo,{className:"sm:max-w-md",children:[s.jsxs(ko,{children:[s.jsx(Po,{children:"Confirmer la sortie"}),s.jsx(dl,{children:"Voulez-vous vraiment enregistrer une sortie pour ce ticket ? Le participant aura 60 minutes pour revenir."})]}),s.jsxs(Jc,{className:"flex gap-2",children:[s.jsx(LPe,{asChild:!0,children:s.jsx(Ue,{variant:"outline",children:"Annuler"})}),s.jsx(Ue,{onClick:()=>{C(!1),b(!0)},className:"bg-blue-600 hover:bg-blue-700",children:"Confirmer la sortie"})]})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 text-center",children:[s.jsx(hy,{className:"w-16 h-16 text-primary mb-6"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Contrle d'Accs"}),s.jsx("p",{className:"text-gray-400 mb-8 max-w-md",children:"Connectez-vous pour vrifier les billets."}),s.jsx(Ue,{asChild:!0,size:"lg",className:"bg-primary hover:bg-primary/90 text-lg px-8",children:s.jsx(Ho,{to:"/auth",children:"Se connecter"})})]})},Z_t=()=>{const{t:e}=Xa(),t=[{icon:s.jsx(gc,{className:"w-8 h-8 text-primary"}),title:e("data_protection.commitment.title"),content:e("data_protection.commitment.content")},{icon:s.jsx(my,{className:"w-8 h-8 text-primary"}),title:e("data_protection.dpo.title"),content:e("data_protection.dpo.content"),contact:"support@bonplaninfos.net"},{icon:s.jsx(Pj,{className:"w-8 h-8 text-primary"}),title:e("data_protection.data_collected.title"),content:e("data_protection.data_collected.content"),list:e("data_protection.data_collected.list",{returnObjects:!0})},{icon:s.jsx(Xm,{className:"w-8 h-8 text-primary"}),title:e("data_protection.usage.title"),content:e("data_protection.usage.content"),list:e("data_protection.usage.list",{returnObjects:!0})},{icon:s.jsx(ao,{className:"w-8 h-8 text-primary"}),title:e("data_protection.sharing.title"),content:e("data_protection.sharing.content"),list:e("data_protection.sharing.list",{returnObjects:!0})},{icon:s.jsx(R0,{className:"w-8 h-8 text-primary"}),title:e("data_protection.security.title"),content:e("data_protection.security.content"),list:e("data_protection.security.list",{returnObjects:!0})},{icon:s.jsx(Yf,{className:"w-8 h-8 text-primary"}),title:e("data_protection.retention.title"),content:e("data_protection.retention.content"),list:e("data_protection.retention.list",{returnObjects:!0})},{icon:s.jsx(qte,{className:"w-8 h-8 text-primary"}),title:e("data_protection.hosting.title"),content:e("data_protection.hosting.content")},{icon:s.jsx(Yo,{className:"w-8 h-8 text-primary"}),title:e("data_protection.deletion.title"),content:e("data_protection.deletion.content")}];return s.jsxs(s.Fragment,{children:[s.jsxs(Di,{children:[s.jsxs("title",{children:[e("data_protection.meta_title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("data_protection.meta_description")})]}),s.jsx("div",{className:"py-16 sm:py-24",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold tracking-tight text-foreground sm:text-6xl font-heading",children:e("data_protection.title")}),s.jsx("p",{className:"mt-4 text-lg leading-8 text-muted-foreground",children:e("data_protection.subtitle")}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg max-w-2xl mx-auto",children:s.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:e("data_protection.africa_compliance")})})]}),s.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:t.map((r,n)=>s.jsx("div",{className:"p-8 bg-card rounded-2xl shadow-lg border border-border",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:r.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-3",children:r.title}),s.jsxs("div",{className:"prose prose-invert max-w-none text-muted-foreground",children:[s.jsx("p",{className:"mb-4",children:r.content}),r.list&&Array.isArray(r.list)&&s.jsx("ul",{className:"space-y-2",children:r.list.map((a,i)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-primary mr-2",children:""}),s.jsx("span",{dangerouslySetInnerHTML:{__html:a}})]},i))}),r.contact&&s.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"font-semibold mb-2",children:e("data_protection.contact_title")}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(s1,{className:"w-5 h-5"}),s.jsx("a",{href:`mailto:${r.contact}`,className:"text-primary hover:underline",children:r.contact})]})]})]})]})]})},n))}),s.jsx("div",{className:"max-w-4xl mx-auto mt-12 p-6 bg-muted rounded-2xl text-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:e("data_protection.last_updated")})})]})})]})},J_t=()=>{const e=Ia(),{t}=Xa(),r=A.useRef(null),n=A.useRef(null),{scrollYProgress:a}=B8e({target:r,offset:["start start","end end"]}),i=h8e(a,[0,1],[.8,1]);m8e(i,{damping:30,stiffness:200});const[o,l]=A.useState(0),[c,u]=A.useState(!0),f=[{icon:s.jsx(ul,{className:"w-12 h-12 text-blue-600"}),title:t("user_guide_page.features.ticketing.title"),description:t("user_guide_page.features.ticketing.description"),stats:t("user_guide_page.features.ticketing.stats")},{icon:s.jsx(ao,{className:"w-12 h-12 text-purple-600"}),title:t("user_guide_page.features.voting.title"),description:t("user_guide_page.features.voting.description"),stats:t("user_guide_page.features.voting.stats")},{icon:s.jsx(Ku,{className:"w-12 h-12 text-amber-600"}),title:t("user_guide_page.features.raffle.title"),description:t("user_guide_page.features.raffle.description"),stats:t("user_guide_page.features.raffle.stats")},{icon:s.jsx(Cd,{className:"w-12 h-12 text-green-600"}),title:t("user_guide_page.features.stand_rental.title"),description:t("user_guide_page.features.stand_rental.description"),stats:t("user_guide_page.features.stand_rental.stats")},{icon:s.jsx(gc,{className:"w-12 h-12 text-red-600"}),title:t("user_guide_page.features.protected_events.title"),description:t("user_guide_page.features.protected_events.description"),stats:t("user_guide_page.features.protected_events.stats")},{icon:s.jsx(xu,{className:"w-12 h-12 text-yellow-600"}),title:t("user_guide_page.features.boost.title"),description:t("user_guide_page.features.boost.description"),stats:t("user_guide_page.features.boost.stats")}],h=[{number:"95%",label:t("user_guide_page.stats.revenue")},{number:"10F",label:t("user_guide_page.stats.coin_cost")},{number:"1",label:t("user_guide_page.stats.coin_earned")},{number:"0F",label:t("user_guide_page.stats.no_fees")}],g={views:1e3,likes:250,comments:80,shares:50,coinValue:10,totalEarnings:0};g.totalEarnings=(g.views+g.likes+g.comments+g.shares)*g.coinValue;const p=[{name:"Marie K.",role:t("user_guide_page.testimonials.testimonial1.role"),content:t("user_guide_page.testimonials.testimonial1.content"),rating:5},{name:"Jean A.",role:t("user_guide_page.testimonials.testimonial2.role"),content:t("user_guide_page.testimonials.testimonial2.content"),rating:5},{name:"Sophie T.",role:t("user_guide_page.testimonials.testimonial3.role"),content:t("user_guide_page.testimonials.testimonial3.content"),rating:5},{name:"Paul D.",role:t("user_guide_page.testimonials.testimonial4.role"),content:t("user_guide_page.testimonials.testimonial4.content"),rating:5},{name:"Fatou M.",role:t("user_guide_page.testimonials.testimonial5.role"),content:t("user_guide_page.testimonials.testimonial5.content"),rating:5},{name:"Kevin L.",role:t("user_guide_page.testimonials.testimonial6.role"),content:t("user_guide_page.testimonials.testimonial6.content"),rating:5},{name:"Acha B.",role:t("user_guide_page.testimonials.testimonial7.role"),content:t("user_guide_page.testimonials.testimonial7.content"),rating:5},{name:"Marc T.",role:t("user_guide_page.testimonials.testimonial8.role"),content:t("user_guide_page.testimonials.testimonial8.content"),rating:5},{name:"Julie N.",role:t("user_guide_page.testimonials.testimonial9.role"),content:t("user_guide_page.testimonials.testimonial9.content"),rating:5},{name:"David K.",role:t("user_guide_page.testimonials.testimonial10.role"),content:t("user_guide_page.testimonials.testimonial10.content"),rating:5},{name:"Sarah J.",role:t("user_guide_page.testimonials.testimonial11.role"),content:t("user_guide_page.testimonials.testimonial11.content"),rating:5},{name:"Mohamed C.",role:t("user_guide_page.testimonials.testimonial12.role"),content:t("user_guide_page.testimonials.testimonial12.content"),rating:5},{name:"Laura P.",role:t("user_guide_page.testimonials.testimonial13.role"),content:t("user_guide_page.testimonials.testimonial13.content"),rating:5},{name:"Pierre G.",role:t("user_guide_page.testimonials.testimonial14.role"),content:t("user_guide_page.testimonials.testimonial14.content"),rating:5},{name:"Nadia S.",role:t("user_guide_page.testimonials.testimonial15.role"),content:t("user_guide_page.testimonials.testimonial15.content"),rating:5}],N=()=>{l(C=>(C+1)%p.length)},b=()=>{l(C=>(C-1+p.length)%p.length)},S=C=>{l(C)};return A.useEffect(()=>{if(!c)return;const C=setInterval(()=>{N()},5e3);return()=>clearInterval(C)},[c]),s.jsxs("div",{ref:r,className:"min-h-screen bg-background overflow-hidden",children:[s.jsxs(Di,{children:[s.jsx("title",{children:t("user_guide_page.meta.title")}),s.jsx("meta",{name:"description",content:t("user_guide_page.meta.description")})]}),s.jsxs("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/90 to-blue-700 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/20 rounded-full blur-3xl animate-pulse delay-1000"}),s.jsxs(Zt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},className:"relative z-10 text-center text-white px-4 max-w-6xl mx-auto",children:[s.jsxs(Zt.h1,{className:"text-5xl md:text-7xl font-bold mb-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8},children:[t("user_guide_page.hero.title"),s.jsx("span",{className:"block bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:t("user_guide_page.hero.subtitle")})]}),s.jsxs(Zt.p,{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8},children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:t("user_guide_page.hero.description")}}),s.jsx("span",{className:"block font-semibold text-yellow-300",children:t("user_guide_page.hero.coin_info")})]}),s.jsxs(Zt.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8},children:[s.jsxs(Ue,{size:"lg",className:"bg-white text-primary hover:bg-gray-100 text-lg px-8 py-6 font-semibold",onClick:()=>e("/create-event"),children:[t("user_guide_page.hero.create_event"),s.jsx(Um,{className:"ml-2 w-5 h-5"})]}),s.jsx(Ue,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/20 text-lg px-8 py-6 font-semibold",onClick:()=>e("/partner-signup"),children:t("user_guide_page.hero.become_partner")})]}),s.jsxs(Zt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-8 text-blue-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jl,{className:"w-5 h-5 text-green-400"}),s.jsx("span",{children:t("user_guide_page.hero.features.revenue")})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jl,{className:"w-5 h-5 text-green-400"}),s.jsx("span",{children:t("user_guide_page.hero.features.coin")})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jl,{className:"w-5 h-5 text-green-400"}),s.jsx("span",{children:t("user_guide_page.hero.features.support")})]})]})]}),s.jsx(Zt.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},children:s.jsx("div",{className:"w-6 h-10 border-2 border-white rounded-full flex justify-center",children:s.jsx(Zt.div,{className:"w-1 h-3 bg-white rounded-full mt-2",animate:{y:[0,12,0]},transition:{duration:2,repeat:1/0}})})})]}),s.jsx("section",{className:"py-20 bg-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:t("user_guide_page.features.title")}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:t("user_guide_page.features.subtitle")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:f.map((C,j)=>s.jsx(Zt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:j*.1,duration:.6},viewport:{once:!0},children:s.jsx(qt,{className:"h-full border-2 shadow-lg hover:shadow-xl transition-all duration-300 bg-card",children:s.jsxs(Xt,{className:"p-8 text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"p-4 rounded-2xl bg-primary/10",children:C.icon})}),s.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:C.title}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:C.description}),s.jsx("div",{className:"bg-gradient-to-r from-primary to-blue-600 text-white px-4 py-2 rounded-full text-sm font-semibold inline-block",children:C.stats})]})})},j))})]})}),s.jsx("section",{className:"py-20 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:t("user_guide_page.simulation.title")}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:t("user_guide_page.simulation.subtitle")})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(qt,{className:"border-2 shadow-xl bg-gradient-to-br from-primary/5 to-blue-50",children:s.jsxs(Xt,{className:"p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(za,{className:"w-16 h-16 text-yellow-500"})}),s.jsx("h3",{className:"text-3xl font-bold text-foreground mb-2 bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:t("user_guide_page.simulation.main_title")}),s.jsx("p",{className:"text-lg text-muted-foreground font-semibold",children:t("user_guide_page.simulation.description")})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg text-white",children:[s.jsx(Xm,{className:"w-8 h-8 text-white mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:"1000"}),s.jsx("div",{className:"text-sm font-medium",children:t("user_guide_page.simulation.views")}),s.jsx("div",{className:"text-xs font-semibold mt-1 text-yellow-300",children:"10000F"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-red-500 to-red-600 rounded-lg shadow-lg text-white",children:[s.jsx(Oj,{className:"w-8 h-8 text-white mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:"250"}),s.jsx("div",{className:"text-sm font-medium",children:t("user_guide_page.simulation.likes")}),s.jsx("div",{className:"text-xs font-semibold mt-1 text-yellow-300",children:"2500F"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg text-white",children:[s.jsx(tA,{className:"w-8 h-8 text-white mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:"80"}),s.jsx("div",{className:"text-sm font-medium",children:t("user_guide_page.simulation.comments")}),s.jsx("div",{className:"text-xs font-semibold mt-1 text-yellow-300",children:"800F"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-lg text-white",children:[s.jsx(b1,{className:"w-8 h-8 text-white mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:"50"}),s.jsx("div",{className:"text-sm font-medium",children:t("user_guide_page.simulation.shares")}),s.jsx("div",{className:"text-xs font-semibold mt-1 text-yellow-300",children:"500F"})]})]}),s.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg text-white shadow-lg",children:[s.jsx("div",{className:"text-3xl font-bold mb-2",children:t("user_guide_page.simulation.total",{amount:g.totalEarnings.toLocaleString()})}),s.jsx("p",{className:"text-lg font-medium",children:t("user_guide_page.simulation.revenue_description",{count:g.views+g.likes+g.comments+g.shares})})]})]})})})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-primary to-blue-700 text-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-6xl mx-auto",children:h.map((C,j)=>s.jsxs(Zt.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{delay:j*.2,duration:.6},viewport:{once:!0},className:"text-center",children:[s.jsx("div",{className:"text-5xl md:text-6xl font-bold mb-4 text-yellow-300",children:C.number}),s.jsx("p",{className:"text-xl text-blue-100",children:C.label})]},j))})})}),s.jsx("section",{className:"py-20 bg-muted/50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:t("user_guide_page.partner_program.title")}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:t("user_guide_page.partner_program.subtitle")})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(qt,{className:"border-2 shadow-xl bg-card",children:s.jsx(Xt,{className:"p-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:t("user_guide_page.partner_program.advantages")}),s.jsxs("ul",{className:"space-y-3 text-muted-foreground",children:[s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx(jl,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),s.jsx("span",{children:t("user_guide_page.partner_program.benefits.revenue")})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx(jl,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),s.jsx("span",{children:t("user_guide_page.partner_program.benefits.training")})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx(jl,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),s.jsx("span",{children:t("user_guide_page.partner_program.benefits.support")})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx(jl,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),s.jsx("span",{children:t("user_guide_page.partner_program.benefits.network")})]})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"bg-gradient-to-r from-primary to-blue-600 text-white p-6 rounded-lg",children:[s.jsx("div",{className:"text-3xl font-bold mb-2",children:t("user_guide_page.partner_program.become_partner")}),s.jsx("p",{className:"mb-4",children:t("user_guide_page.partner_program.partner_description")}),s.jsx(Ue,{className:"bg-white text-primary hover:bg-gray-100",onClick:()=>e("/partner-signup"),children:t("user_guide_page.partner_program.apply_now")})]})})]})})})})]})}),s.jsx("section",{className:"py-20 bg-background",ref:n,children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:t("user_guide_page.testimonials.title")}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:t("user_guide_page.testimonials.subtitle")})]}),s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[s.jsx(Ue,{variant:"outline",size:"icon",onClick:b,className:"rounded-full",title:t("user_guide_page.testimonials.previous"),children:s.jsx(kj,{className:"w-5 h-5"})}),s.jsx(Ue,{variant:"outline",size:"icon",onClick:()=>u(!c),className:"rounded-full",title:t(c?"user_guide_page.testimonials.pause":"user_guide_page.testimonials.play"),children:c?s.jsx(R7,{className:"w-5 h-5"}):s.jsx(M7,{className:"w-5 h-5"})}),s.jsx(Ue,{variant:"outline",size:"icon",onClick:N,className:"rounded-full",title:t("user_guide_page.testimonials.next"),children:s.jsx(px,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"relative h-96 overflow-hidden rounded-xl",children:p.map((C,j)=>s.jsx(Zt.div,{initial:{opacity:0,x:100},animate:{opacity:j===o?1:0,x:j===o?0:j<o?-100:100,scale:j===o?1:.9},transition:{duration:.5},className:`absolute inset-0 ${j===o?"pointer-events-auto":"pointer-events-none"}`,children:s.jsx(qt,{className:"h-full border-2 shadow-2xl bg-card",children:s.jsxs(Xt,{className:"p-12 h-full flex flex-col justify-center items-center text-center",children:[s.jsx("div",{className:"flex items-center mb-6",children:[...Array(C.rating)].map((T,O)=>s.jsx(Ku,{className:"w-8 h-8 fill-yellow-400 text-yellow-400 mx-1"},O))}),s.jsxs("p",{className:"text-2xl text-muted-foreground mb-8 italic leading-relaxed max-w-4xl",children:['"',C.content,'"']}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-foreground text-xl mb-2",children:C.name}),s.jsx("div",{className:"text-muted-foreground text-lg",children:C.role})]})]})})},j))}),s.jsx("div",{className:"flex justify-center items-center gap-2 mt-8",children:p.map((C,j)=>s.jsx("button",{onClick:()=>S(j),className:`w-3 h-3 rounded-full transition-all duration-300 ${j===o?"bg-primary scale-125":"bg-gray-300 hover:bg-gray-400"}`},j))}),s.jsx("div",{className:"text-center mt-4 text-muted-foreground",children:t("user_guide_page.testimonials.counter",{current:o+1,total:p.length})})]})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-primary to-blue-700 text-white",children:s.jsx("div",{className:"container mx-auto px-4 text-center",children:s.jsxs(Zt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:t("user_guide_page.cta.title")}),s.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto text-blue-100",children:t("user_guide_page.cta.description")}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(Ue,{size:"lg",className:"bg-white text-primary hover:bg-gray-100 text-lg px-8 py-6 font-semibold",onClick:()=>e("/create-event"),children:[t("user_guide_page.cta.create_event"),s.jsx(Um,{className:"ml-2 w-5 h-5"})]}),s.jsx(Ue,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/20 text-lg px-8 py-6 font-semibold",onClick:()=>e("/partner-signup"),children:t("user_guide_page.cta.become_partner")})]})]})})}),s.jsx("footer",{className:"bg-gray-900 text-white py-12",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"BonPlanInfos"}),s.jsx("p",{className:"text-gray-400 mb-4",children:t("user_guide_page.footer.description")}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("a",{href:"https://www.youtube.com/@bonplaninfos",target:"_blank",rel:"noopener noreferrer",children:s.jsx(__e,{className:"w-6 h-6 text-gray-400 hover:text-red-500 cursor-pointer"})}),s.jsx("a",{href:"https://www.tiktok.com/@bonplaninfos",target:"_blank",rel:"noopener noreferrer",children:s.jsx("div",{className:"w-6 h-6 bg-gray-400 hover:bg-black rounded flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-white",children:"TK"})})}),s.jsx("a",{href:"https://www.facebook.com/share/1D3rt89vaP/",target:"_blank",rel:"noopener noreferrer",children:s.jsx(Ywe,{className:"w-6 h-6 text-gray-400 hover:text-blue-500 cursor-pointer"})}),s.jsx("a",{href:"https://chat.whatsapp.com/IcR0TttLYpU1lJXr3ifyvH",target:"_blank",rel:"noopener noreferrer",children:s.jsx(tA,{className:"w-6 h-6 text-gray-400 hover:text-green-500 cursor-pointer"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:t("user_guide_page.footer.navigation")}),s.jsxs("ul",{className:"space-y-2 text-gray-400",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>e("/"),className:"hover:text-white transition-colors",children:t("user_guide_page.footer.home")})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>e("/events"),className:"hover:text-white transition-colors",children:t("user_guide_page.footer.events")})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>e("/create-event"),className:"hover:text-white transition-colors",children:t("user_guide_page.footer.create_event")})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>e("/partner-signup"),className:"hover:text-white transition-colors",children:t("user_guide_page.footer.become_partner")})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:t("user_guide_page.footer.contact")}),s.jsxs("ul",{className:"space-y-2 text-gray-400",children:[s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(D5,{className:"w-4 h-4"}),s.jsx("span",{children:"+225 07 12 27 53 74"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(s1,{className:"w-4 h-4"}),s.jsx("a",{href:"mailto:support@bonplaninfos.net",className:"hover:underline",children:"support@bonplaninfos.net"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(Eo,{className:"w-4 h-4"}),s.jsx("span",{children:"Cte d'Ivoire, Abidjan"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(Eo,{className:"w-4 h-4"}),s.jsx("a",{href:"https://share.google/vsn9fS33X9trfB43i",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Burkina Faso, Ouagadougou"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:t("user_guide_page.footer.information")}),s.jsxs("ul",{className:"space-y-2 text-gray-400",children:[s.jsx("li",{children:" 95% des revenus vous sont reverss"}),s.jsx("li",{children:" 1 pice = 10F CFA"}),s.jsx("li",{children:" 1 interaction = 1 pice"}),s.jsx("li",{children:" Support 24/7"})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:s.jsx("p",{children:t("user_guide_page.footer.copyright")})})]})})]})},Q_t=()=>{const{t:e}=Xa(),t=e("faq.questions",{returnObjects:!0})||{};return s.jsxs(s.Fragment,{children:[s.jsxs(Di,{children:[s.jsxs("title",{children:[e("faq.meta_title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("faq.meta_description")})]}),s.jsx("div",{className:"bg-background text-foreground",children:s.jsxs("div",{className:"container mx-auto px-4 py-12 md:py-20",children:[s.jsxs(Zt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight text-primary font-heading",children:e("faq.title")}),s.jsx("p",{className:"mt-4 text-lg text-muted-foreground max-w-2xl mx-auto",children:e("faq.subtitle")})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:Object.keys(t).map((r,n)=>s.jsxs(Zt.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:n*.2},className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-secondary-foreground",children:t[r].title}),s.jsx(u1e,{type:"single",collapsible:!0,className:"w-full",children:Object.keys(t[r]).filter(a=>a.startsWith("q")).map(a=>s.jsxs(jB,{value:`${r}-${a}`,children:[s.jsx(TB,{className:"text-left font-semibold",children:t[r][a]}),s.jsx(kB,{className:"text-muted-foreground",children:s.jsx(tM,{i18nKey:`faq.questions.${r}.${a.replace("q","a")}`,components:{b:s.jsx("strong",{})}})})]},`${r}-${a}`))})]},r))})]})})]})},e4t=["orange","mtn","moov","wave"],t4t=()=>{const{t:e}=Xa(),[t,r]=A.useState([]),[n,a]=A.useState(!0);return A.useEffect(()=>{(()=>{const o=e4t.map(l=>({id:l,name:e(`sponsors.list.${l}.name`),logo_url:`https://res.cloudinary.com/dprp6vxv6/image/upload/v1722428610/bpi/logo-${l}_${l==="orange"?"g6h5g1":"z5z5z5"}.png`,description:e(`sponsors.list.${l}.description`)}));r(o),a(!1)})()},[e]),s.jsxs(s.Fragment,{children:[s.jsxs(Di,{children:[s.jsxs("title",{children:[e("sponsors.meta_title")," - BonPlanInfos"]}),s.jsx("meta",{name:"description",content:e("sponsors.meta_description")})]}),s.jsx("div",{className:"py-16 sm:py-24 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx(v1,{className:"w-16 h-16 mx-auto text-primary mb-4"}),s.jsx("h1",{className:"text-4xl font-bold tracking-tight text-foreground sm:text-6xl font-heading",children:e("sponsors.title")}),s.jsx("p",{className:"mt-4 text-lg leading-8 text-muted-foreground max-w-3xl mx-auto",children:e("sponsors.subtitle")})]}),n?s.jsx("div",{className:"flex justify-center items-center",children:s.jsx(Jt,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(i=>s.jsxs(qt,{className:"bg-card overflow-hidden shadow-lg hover:shadow-primary/20 transition-shadow duration-300",children:[s.jsx(zr,{className:"p-0",children:s.jsx("div",{className:"h-40 flex items-center justify-center bg-white p-4",children:s.jsx("img",{src:i.logo_url,alt:i.name,className:"max-h-full max-w-full object-contain"})})}),s.jsxs(Xt,{className:"p-6",children:[s.jsx(Wr,{className:"text-xl mb-2",children:i.name}),s.jsx("p",{className:"text-muted-foreground text-sm",children:i.description})]})]},i.id))})]})})]})},r4t="BAHwYo5VME1pPaNkvlLG4R8lMoQyZ-gblT2vpRHxWmBTna0Fw8Qrv8pRaz1ZSkL1zZcer7F39DDB9mC4AZYROWE";function n4t(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),a=new Uint8Array(n.length);for(let i=0;i<n.length;++i)a[i]=n.charCodeAt(i);return a}function KT(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window}async function a4t(){if(!KT())throw new Error("Notifications non supportes");return await Notification.requestPermission()}async function i4t(){if(!KT())return null;try{const e=await navigator.serviceWorker.ready;let t=await e.pushManager.getSubscription();return t||(t=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n4t(r4t)})),t}catch(e){throw console.error("Push subscription failed:",e),e}}async function yJ(e){if(!(!e||!KT()))try{const r=await(await navigator.serviceWorker.ready).pushManager.getSubscription();if(r){const n=r.getKey("p256dh")?btoa(String.fromCharCode.apply(null,new Uint8Array(r.getKey("p256dh")))):null,a=r.getKey("auth")?btoa(String.fromCharCode.apply(null,new Uint8Array(r.getKey("auth")))):null;return await Je.from("push_tokens").upsert({user_id:e.id,token:r.endpoint,auth_key:a,p256dh_key:n,device_type:"web_browser",is_active:!0,last_used_at:new Date().toISOString()},{onConflict:"token"}),!0}return!1}catch(t){return console.error("Sync subscription error:",t),!1}}const s4t=()=>{const{user:e}=bn(),{toast:t}=qs(),[r,n]=A.useState(!1),[a,i]=A.useState(!1),[o,l]=A.useState("default");A.useEffect(()=>{if(KT()){if(l(Notification.permission),Notification.permission==="granted"&&e)yJ(e);else if(Notification.permission==="default"&&e){const f=setTimeout(()=>n(!0),3e3);return()=>clearTimeout(f)}}},[e]);const c=async()=>{i(!0);try{const f=await a4t();l(f),f==="granted"?(await i4t()&&e&&(await yJ(e),t({title:"Notifications actives !",description:"Vous serez inform des nouveaux vnements.",variant:"success"})),n(!1)):(t({title:"Notifications bloques",description:"Vous devez autoriser les notifications dans votre navigateur pour recevoir les alertes.",variant:"warning"}),n(!1))}catch(f){console.error("Error enabling notifications:",f),t({title:"Erreur",description:"Impossible d'activer les notifications.",variant:"destructive"})}finally{i(!1)}},u=()=>{n(!1),sessionStorage.setItem("push_prompt_dismissed","true")};return sessionStorage.getItem("push_prompt_dismissed")==="true"&&!a?null:s.jsx(Su,{children:r&&s.jsx(Zt.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed bottom-4 right-4 z-[60] w-full max-w-sm",children:s.jsxs("div",{className:"bg-background/95 backdrop-blur-md border border-primary/20 p-4 rounded-xl shadow-2xl flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:s.jsx(Uwe,{className:"w-6 h-6 text-primary animate-pulse"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Ne ratez aucun vnement !"}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Activez les notifications pour recevoir les alertes des nouveaux vnements et promos en temps rel."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ue,{size:"sm",onClick:c,disabled:a,className:"h-8 text-xs",children:a?"Activation...":"Activer"}),s.jsx(Ue,{size:"sm",variant:"ghost",onClick:u,className:"h-8 text-xs",children:"Plus tard"})]})]}),s.jsx("button",{onClick:u,className:"text-muted-foreground hover:text-foreground",children:s.jsx(kl,{className:"w-4 h-4"})})]})})})},o4t=()=>{const e=Ia(),{userProfile:t}=ai();return t&&["organizer","admin","super_admin"].includes(t.user_type)?s.jsx(Zt.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20,delay:.5},whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-24 right-4 z-50 md:hidden",children:s.jsx(Ue,{size:"icon",className:"rounded-full w-14 h-14 shadow-lg bg-primary hover:bg-primary/90 text-primary-foreground flex items-center justify-center",onClick:()=>e("/create-event"),"aria-label":"Crer un vnement",children:s.jsx(Ql,{className:"w-8 h-8"})})}):null},l4t=()=>{const{setForceRefresh:e}=bn(),{forceRefreshUserProfile:t}=ai();return A.useEffect(()=>{e(()=>t)},[e,t]),null};function c4t(){return s.jsx(ebe,{children:s.jsx(K5e,{children:s.jsx(H5e,{children:s.jsxs(q5e,{children:[s.jsx(l4t,{}),s.jsx(A.Suspense,{fallback:s.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-background",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}),children:s.jsxs(Eke,{children:[s.jsxs(Hye,{children:[s.jsx(Fa,{path:"/",element:s.jsx(RIe,{})}),s.jsx(Fa,{path:"/discover",element:s.jsx(f_t,{})}),s.jsx(Fa,{path:"/add-location",element:s.jsx(S_t,{})}),s.jsx(Fa,{path:"/auth",element:s.jsx(jFe,{})}),s.jsx(Fa,{path:"/profile",element:s.jsx(ZLe,{})}),s.jsx(Fa,{path:"/events",element:s.jsx(JLe,{})}),s.jsx(Fa,{path:"/create-event",element:s.jsx(QLe,{})}),s.jsx(Fa,{path:"/create-simple-event",element:s.jsx(N_t,{})}),s.jsx(Fa,{path:"/create-raffle-event",element:s.jsx(g_t,{})}),s.jsx(Fa,{path:"/create-voting-event",element:s.jsx(x_t,{})}),s.jsx(Fa,{path:"/create-stand-event",element:s.jsx(b_t,{})}),s.jsx(Fa,{path:"/create-ticketing-event",element:s.jsx(w_t,{})}),s.jsx(Fa,{path:"/event/:id",element:s.jsx(Q9e,{})}),s.jsx(Fa,{path:"/contests",element:s.jsx(c_t,{})}),s.jsx(Fa,{path:"/contest/:id",element:s.jsx(d_t,{})}),s.jsx(Fa,{path:"/admin",element:s.jsx(Vbt,{})}),s.jsx(Fa,{path:"/secretary",element:s.jsx(Zbt,{})}),s.jsx(Fa,{path:"/wallet",element:s.jsx(Jbt,{})}),s.jsx(Fa,{path:"/settings",element:s.jsx(wwt,{})}),s.jsx(Fa,{path:"/promotions",element:s.jsx(Nwt,{})}),s.jsx(Fa,{path:"/create-promotion",element:s.jsx(Swt,{})}),s.jsx(Fa,{path:"/news",element:s.jsx(Awt,{})}),s.jsx(Fa,{path:"/notifications",element:s.jsx(Cwt,{})}),s.jsx(Fa,{path:"/terms",element:s.jsx(aJ,{})}),s.jsx(Fa,{path:"/conditions-utilisation",element:s.jsx(aJ,{})}),s.jsx(Fa,{path:"/boost",element:s.jsx(Ewt,{})}),s.jsx(Fa,{path:"/marketing",element:s.jsx(kwt,{})}),s.jsx(Fa,{path:"/partner-signup",element:s.jsx(Rwt,{})}),s.jsx(Fa,{path:"/about",element:s.jsx(Lwt,{})}),s.jsx(Fa,{path:"/privacy-policy",element:s.jsx(sJ,{})}),s.jsx(Fa,{path:"/politique-confidentialite",element:s.jsx(sJ,{})}),s.jsx(Fa,{path:"/protection-donnees",element:s.jsx(Z_t,{})}),s.jsx(Fa,{path:"/help-center",element:s.jsx(oJ,{})}),s.jsx(Fa,{path:"/aide",element:s.jsx(oJ,{})}),s.jsx(Fa,{path:"/guide-utilisation",element:s.jsx(J_t,{})}),s.jsx(Fa,{path:"/faq",element:s.jsx(Q_t,{})}),s.jsx(Fa,{path:"/sponsors",element:s.jsx(t4t,{})}),s.jsx(Fa,{path:"/how-it-works",element:s.jsx(a_t,{})}),s.jsx(Fa,{path:"/pricing",element:s.jsx(i_t,{})}),s.jsx(Fa,{path:"/packs",element:s.jsx(m_t,{})}),s.jsx(Fa,{path:"/buy/:packSlug",element:s.jsx(p_t,{})}),s.jsx(Fa,{path:"/payment/checkout",element:s.jsx(__t,{})}),s.jsx(Fa,{path:"/paiement/success",element:s.jsx(s_t,{})}),s.jsx(Fa,{path:"/paiement/cancel",element:s.jsx(o_t,{})}),s.jsx(Fa,{path:"/verify-ticket",element:s.jsx(X_t,{})}),s.jsx(Fa,{path:"/legal-mentions",element:s.jsx(n_t,{})})]}),s.jsx(k_e,{}),s.jsx(Mwt,{}),s.jsx(s4t,{}),s.jsx(roe,{}),s.jsx(o4t,{})]})})]})})})})}const $a=e=>typeof e=="string",Yw=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},bJ=e=>e==null?"":""+e,u4t=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},d4t=/###/g,wJ=e=>e&&e.indexOf("###")>-1?e.replace(d4t,"."):e,_J=e=>!e||$a(e),H_=(e,t,r)=>{const n=$a(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(_J(e))return{};const i=wJ(n[a]);!e[i]&&r&&(e[i]=new r),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++a}return _J(e)?{}:{obj:e,k:wJ(n[a])}},NJ=(e,t,r)=>{const{obj:n,k:a}=H_(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let i=t[t.length-1],o=t.slice(0,t.length-1),l=H_(e,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=H_(e,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=r},f4t=(e,t,r,n)=>{const{obj:a,k:i}=H_(e,t,Object);a[i]=a[i]||[],a[i].push(r)},rj=(e,t)=>{const{obj:r,k:n}=H_(e,t);if(r)return r[n]},h4t=(e,t,r)=>{const n=rj(e,r);return n!==void 0?n:rj(t,r)},g1e=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?$a(e[n])||e[n]instanceof String||$a(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):g1e(e[n],t[n],r):e[n]=t[n]);return e},Xv=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var m4t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const p4t=e=>$a(e)?e.replace(/[&<>"'\/]/g,t=>m4t[t]):e;class g4t{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const x4t=[" ",",","?","!",";"],v4t=new g4t(20),y4t=(e,t,r)=>{t=t||"",r=r||"";const n=x4t.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const a=v4t.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(e);if(!i){const o=e.indexOf(r);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i},SR=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const n=t.split(r);let a=e;for(let i=0;i<n.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=i;c<n.length;++c)if(c!==i&&(l+=r),l+=n[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;i+=c-i+1;break}a=o}return a},nj=e=>e&&e.replace("_","-"),b4t={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class aj{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,r)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=t||b4t,this.options=r,this.debug=r.debug}log(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:($a(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new aj(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new aj(this.logger,t)}}var S0=new aj;class YT{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[l,c]=o;for(let u=0;u<c;u++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,c]=o;for(let u=0;u<c;u++)l.apply(l,[t,...n])})}}class SJ extends YT{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):$a(n)&&i?l.push(...n.split(i)):l.push(n)));const c=rj(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!o||!$a(n)?c:SR(this.data&&this.data[t]&&this.data[t][r],n,i)}addResource(t,r,n,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(l=t.split("."),a=r,r=l[1]),this.addNamespaces(r),NJ(this.data,l,a),i.silent||this.emit("added",t,r,n,a)}addResources(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in n)($a(n[i])||Array.isArray(n[i]))&&this.addResource(t,r,i,n[i],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),a=n,n=r,r=l[1]),this.addNamespaces(r);let c=rj(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?g1e(c,n,i):c={...c,...n},NJ(this.data,l,c),o.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,r)}:this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var x1e={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,r,n,a))}),t}};const CJ={};class ij extends YT{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),u4t(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=S0.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const n=this.resolve(t,r);return n&&n.res!==void 0}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!y4t(t,n,a);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:$a(i)?[i]:i};const u=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(a)}return{key:t,namespaces:$a(i)?[i]:i}}translate(t,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const a=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(t[t.length-1],r),c=l[l.length-1],u=r.lng||this.language,f=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(f){const O=r.nsSeparator||this.options.nsSeparator;return a?{res:`${c}${O}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${O}${o}`}return a?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:o}const h=this.resolve(t,r);let g=h&&h.res;const p=h&&h.usedKey||o,N=h&&h.exactUsedKey||o,b=Object.prototype.toString.apply(g),S=["[object Number]","[object Function]","[object RegExp]"],C=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject,T=!$a(g)&&typeof g!="boolean"&&typeof g!="number";if(j&&g&&T&&S.indexOf(b)<0&&!($a(C)&&Array.isArray(g))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,g,{...r,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(h.res=O,h.usedParams=this.getUsedParamsDetails(r),h):O}if(i){const O=Array.isArray(g),M=O?[]:{},B=O?N:p;for(const L in g)if(Object.prototype.hasOwnProperty.call(g,L)){const H=`${B}${i}${L}`;M[L]=this.translate(H,{...r,joinArrays:!1,ns:l}),M[L]===H&&(M[L]=g[L])}g=M}}else if(j&&$a(C)&&Array.isArray(g))g=g.join(C),g&&(g=this.extendTranslation(g,t,r,n));else{let O=!1,M=!1;const B=r.count!==void 0&&!$a(r.count),L=ij.hasDefaultValue(r),H=B?this.pluralResolver.getSuffix(u,r.count,r):"",U=r.ordinal&&B?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",J=B&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),K=J&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${H}`]||r[`defaultValue${U}`]||r.defaultValue;!this.isValidLookup(g)&&L&&(O=!0,g=K),this.isValidLookup(g)||(M=!0,g=o);const re=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&M?void 0:g,ae=L&&K!==g&&this.options.updateMissing;if(M||O||ae){if(this.logger.log(ae?"updateKey":"missingKey",u,c,o,ae?K:g),i){const le=this.resolve(o,{...r,keySeparator:!1});le&&le.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let X=[];const ne=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ne&&ne[0])for(let le=0;le<ne.length;le++)X.push(ne[le]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(r.lng||this.language):X.push(r.lng||this.language);const de=(le,xe,Se)=>{const ye=L&&Se!==g?Se:re;this.options.missingKeyHandler?this.options.missingKeyHandler(le,c,xe,ye,ae,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(le,c,xe,ye,ae,r),this.emit("missingKey",le,c,xe,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&B?X.forEach(le=>{const xe=this.pluralResolver.getSuffixes(le,r);J&&r[`defaultValue${this.options.pluralSeparator}zero`]&&xe.indexOf(`${this.options.pluralSeparator}zero`)<0&&xe.push(`${this.options.pluralSeparator}zero`),xe.forEach(Se=>{de([le],o+Se,r[`defaultValue${Se}`]||K)})}):de(X,o,K))}g=this.extendTranslation(g,t,r,h,n),M&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${c}:${o}`),(M||O)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,O?g:void 0):g=this.options.parseMissingKeyHandler(g))}return a?(h.res=g,h.usedParams=this.getUsedParamsDetails(r),h):g}extendTranslation(t,r,n,a,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=$a(t)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const g=t.match(this.interpolator.nestingRegexp);f=g&&g.length}let h=n.replace&&!$a(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||a.usedLng,n),u){const g=t.match(this.interpolator.nestingRegexp),p=g&&g.length;f<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var g=arguments.length,p=new Array(g),N=0;N<g;N++)p[N]=arguments[N];return i&&i[0]===p[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${r[0]}`),null):o.translate(...p,r)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,c=$a(l)?[l]:l;return t!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(t=x1e.handle(c,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,a,i,o,l;return $a(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),f=u.key;a=f;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const g=r.count!==void 0&&!$a(r.count),p=g&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),N=r.context!==void 0&&($a(r.context)||typeof r.context=="number")&&r.context!=="",b=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(S=>{this.isValidLookup(n)||(l=S,!CJ[`${b[0]}-${S}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(CJ[`${b[0]}-${S}`]=!0,this.logger.warn(`key "${a}" for languages "${b.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(C=>{if(this.isValidLookup(n))return;o=C;const j=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(j,f,C,S,r);else{let O;g&&(O=this.pluralResolver.getSuffix(C,r.count,r));const M=`${this.options.pluralSeparator}zero`,B=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(j.push(f+O),r.ordinal&&O.indexOf(B)===0&&j.push(f+O.replace(B,this.options.pluralSeparator)),p&&j.push(f+M)),N){const L=`${f}${this.options.contextSeparator}${r.context}`;j.push(L),g&&(j.push(L+O),r.ordinal&&O.indexOf(B)===0&&j.push(L+O.replace(B,this.options.pluralSeparator)),p&&j.push(L+M))}}let T;for(;T=j.pop();)this.isValidLookup(n)||(i=T,n=this.getResource(C,S,T,r))}))})}),{res:n,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!$a(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const i of r)delete a[i]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}const mO=e=>e.charAt(0).toUpperCase()+e.slice(1);class AJ{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=S0.create("languageUtils")}getScriptPartFromCode(t){if(t=nj(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=nj(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if($a(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let a=Intl.getCanonicalLocales(t)[0];if(a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a)return a}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map(a=>a.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=mO(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=mO(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=mO(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getLanguagePartFromCode(n);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(i=>{if(i===a)return i;if(!(i.indexOf("-")<0&&a.indexOf("-")<0)&&(i.indexOf("-")>0&&a.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===a||i.indexOf(a)===0&&a.length>1))return i})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),$a(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return $a(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):$a(t)&&i(this.formatLanguageCode(t)),n.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}let w4t=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_4t={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const N4t=["v1","v2","v3"],S4t=["v4"],EJ={zero:0,one:1,two:2,few:3,many:4,other:5},C4t=()=>{const e={};return w4t.forEach(t=>{t.lngs.forEach(r=>{e[r]={numbers:t.nr,plurals:_4t[t.fc]}})}),e};class A4t{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=r,this.logger=S0.create("pluralResolver"),(!this.options.compatibilityJSON||S4t.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=C4t(),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=nj(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:a})}catch{if(!t.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,r)}return this.pluralRulesCache[i]=o,o}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((a,i)=>EJ[a]-EJ[i]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):n.numbers.map(a=>this.getSuffix(t,a,r)):[]}getSuffix(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(t,n);return a?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:this.getSuffixRetroCompatible(a,r):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,r){const n=t.noAbs?t.plurals(r):t.plurals(Math.abs(r));let a=t.numbers[n];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));const i=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!N4t.includes(this.options.compatibilityJSON)}}const jJ=function(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=h4t(e,t,r);return!i&&a&&$a(r)&&(i=SR(e,r,n),i===void 0&&(i=SR(t,r,n))),i},pO=e=>e.replace(/\$/g,"$$$$");class E4t{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=S0.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(r=>r),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:g,nestingPrefixEscaped:p,nestingSuffix:N,nestingSuffixEscaped:b,nestingOptionsSeparator:S,maxReplaces:C,alwaysFormat:j}=t.interpolation;this.escape=r!==void 0?r:p4t,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?Xv(i):o||"{{",this.suffix=l?Xv(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=g?Xv(g):p||Xv("$t("),this.nestingSuffix=N?Xv(N):b||Xv(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=C||1e3,this.alwaysFormat=j!==void 0?j:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,r,n,a){let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const C=jJ(r,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,n,{...a,...r,interpolationkey:p}):C}const N=p.split(this.formatSeparator),b=N.shift().trim(),S=N.join(this.formatSeparator).trim();return this.format(jJ(r,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),S,n,{...a,...r,interpolationkey:b})};this.resetRegExp();const f=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,h=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>pO(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?pO(this.escape(p)):pO(p)}].forEach(p=>{for(l=0;i=p.regex.exec(t);){const N=i[1].trim();if(o=u(N),o===void 0)if(typeof f=="function"){const S=f(t,i,a);o=$a(S)?S:""}else if(a&&Object.prototype.hasOwnProperty.call(a,N))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${N} for interpolating ${t}`),o="";else!$a(o)&&!this.useRawValueToEscape&&(o=bJ(o));const b=p.safeValue(o);if(t=t.replace(i[0],b),h?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,i,o;const l=(c,u)=>{const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const h=c.split(new RegExp(`${f}[ ]*{`));let g=`{${h[1]}`;c=h[0],g=this.interpolate(g,o);const p=g.match(/'/g),N=g.match(/"/g);(p&&p.length%2===0&&!N||N.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),u&&(o={...u,...o})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${f}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];o={...n},o=o.replace&&!$a(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const f=a[1].split(this.formatSeparator).map(h=>h.trim());a[1]=f.shift(),c=f,u=!0}if(i=r(l.call(this,a[1].trim(),o),o),i&&a[0]===t&&!$a(i))return i;$a(i)||(i=bJ(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),u&&(i=c.reduce((f,h)=>this.format(f,h,n.lng,{...n,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}const j4t=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();r[f]||(r[f]=u),u==="false"&&(r[f]=!1),u==="true"&&(r[f]=!0),isNaN(u)||(r[f]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},Zv=e=>{const t={};return(r,n,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=n+JSON.stringify(i);let l=t[o];return l||(l=e(nj(n),a),t[o]=l),l(r)}};class T4t{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=S0.create("formatter"),this.options=t,this.formats={number:Zv((r,n)=>{const a=new Intl.NumberFormat(r,{...n});return i=>a.format(i)}),currency:Zv((r,n)=>{const a=new Intl.NumberFormat(r,{...n,style:"currency"});return i=>a.format(i)}),datetime:Zv((r,n)=>{const a=new Intl.DateTimeFormat(r,{...n});return i=>a.format(i)}),relativetime:Zv((r,n)=>{const a=new Intl.RelativeTimeFormat(r,{...n});return i=>a.format(i,n.range||"day")}),list:Zv((r,n)=>{const a=new Intl.ListFormat(r,{...n});return i=>a.format(i)})},this.init(t)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=Zv(r)}format(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{const{formatName:u,formatOptions:f}=j4t(c);if(this.formats[u]){let h=l;try{const g=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},p=g.locale||g.lng||a.locale||a.lng||n;h=this.formats[u](l,p,{...f,...a,...g})}catch(g){this.logger.warn(g)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const k4t=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class P4t extends YT{constructor(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=S0.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,a.backend,a)}queueLoad(t,r,n,a){const i={},o={},l={},c={};return t.forEach(u=>{let f=!0;r.forEach(h=>{const g=`${u}|${h}`;!n.reload&&this.store.hasResourceBundle(u,h)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,f=!1,o[g]===void 0&&(o[g]=!0),i[g]===void 0&&(i[g]=!0),c[h]===void 0&&(c[h]=!0)))}),f||(l[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const a=t.split("|"),i=a[0],o=a[1];r&&this.emit("failedLoading",i,o,r),!r&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{f4t(c.loaded,[i],o),k4t(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const f=c.loaded[u];f.length&&f.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:i,callback:o});return}this.readingCalls++;const l=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&f&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,i*2,o)},i);return}o(u,f)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(f=>l(null,f)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();$a(t)&&(t=this.languageUtils.toResolveHierarchy(t)),$a(r)&&(r=[r]);const i=this.queueLoad(t,r,n,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t.split("|"),a=n[0],i=n[1];this.read(a,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${i} for language ${a} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${i} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,r,n,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let f;u.length===5?f=u(t,r,n,a,c):f=u(t,r,n,a),f&&typeof f.then=="function"?f.then(h=>l(null,h)).catch(l):l(null,f)}catch(f){l(f)}else u(t,r,n,a,l,c)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const TJ=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),$a(e[1])&&(t.defaultValue=e[1]),$a(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),kJ=e=>($a(e.ns)&&(e.ns=[e.ns]),$a(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),$a(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),US=()=>{},O4t=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class A5 extends YT{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=kJ(t),this.services={},this.logger=S0,this.modules={external:[]},O4t(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(){var t=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&($a(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const a=TJ();this.options={...a,...this.options,...kJ(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?S0.init(i(this.modules.logger),this.options):S0.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=T4t);const h=new AJ(this.options);this.store=new SJ(this.options.resources,this.options);const g=this.services;g.logger=S0,g.resourceStore=this.store,g.languageUtils=h,g.pluralResolver=new A4t(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(g.formatter=i(f),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new E4t(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new P4t(i(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(p){for(var N=arguments.length,b=new Array(N>1?N-1:0),S=1;S<N;S++)b[S-1]=arguments[S];t.emit(p,...b)}),this.modules.languageDetector&&(g.languageDetector=i(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=i(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new ij(this.services,this.options),this.translator.on("*",function(p){for(var N=arguments.length,b=new Array(N>1?N-1:0),S=1;S<N;S++)b[S-1]=arguments[S];t.emit(p,...b)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=US),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return t.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return t.store[f](...arguments),t}});const c=Yw(),u=()=>{const f=(h,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(g),n(h,g)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:US;const a=$a(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(t,r,n){const a=Yw();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=US),this.services.backendConnector.reload(t,r,i=>{a.resolve(),n(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&x1e.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,r){var n=this;this.isLanguageChangingTo=t;const a=Yw();this.emit("languageChanging",t);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,a.resolve(function(){return n.t(...arguments)}),r&&r(c,function(){return n.t(...arguments)})},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const u=$a(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,f=>{o(f,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),a}getFixedT(t,r,n){var a=this;const i=function(o,l){let c;if(typeof l!="object"){for(var u=arguments.length,f=new Array(u>2?u-2:0),h=2;h<u;h++)f[h-2]=arguments[h];c=a.options.overloadTranslationOptionHandler([o,l].concat(f))}else c={...l};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||i.keyPrefix);const g=a.options.keySeparator||".";let p;return c.keyPrefix&&Array.isArray(o)?p=o.map(N=>`${c.keyPrefix}${g}${N}`):p=c.keyPrefix?`${c.keyPrefix}${g}${o}`:o,a.t(p,c)};return $a(t)?i.lng=t:i.lngs=t,i.ns=r,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!a||o(i,t)))}loadNamespaces(t,r){const n=Yw();return this.options.ns?($a(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=Yw();$a(t)&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new AJ(TJ());return r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new A5(t,r)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:US;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new A5(a);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new SJ(this.store.data,a),i.services.resourceStore=i.store),i.translator=new ij(i.services,a),i.translator.on("*",function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),f=1;f<c;f++)u[f-1]=arguments[f];i.emit(l,...u)}),i.init(a,r),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Cu=A5.createInstance();Cu.createInstance=A5.createInstance;Cu.createInstance;Cu.dir;Cu.init;Cu.loadResources;Cu.reloadResources;Cu.use;Cu.changeLanguage;Cu.getFixedT;Cu.t;Cu.exists;Cu.setDefaultNamespace;Cu.hasLoadedNamespace;Cu.loadNamespaces;Cu.loadLanguages;function I4t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F4t(e,t){if(Yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D4t(e){var t=F4t(e,"string");return Yi(t)=="symbol"?t:t+""}function PJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D4t(n.key),n)}}function R4t(e,t,r){return t&&PJ(e.prototype,t),r&&PJ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var v1e=[],M4t=v1e.forEach,L4t=v1e.slice;function B4t(e){return M4t.call(L4t.call(arguments,1),function(t){if(t)for(var r in t)e[r]===void 0&&(e[r]=t[r])}),e}var OJ=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,U4t=function(t,r,n){var a=n||{};a.path=a.path||"/";var i=encodeURIComponent(r),o="".concat(t,"=").concat(i);if(a.maxAge>0){var l=a.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(l))}if(a.domain){if(!OJ.test(a.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(a.domain)}if(a.path){if(!OJ.test(a.path))throw new TypeError("option path is invalid");o+="; Path=".concat(a.path)}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(a.expires.toUTCString())}if(a.httpOnly&&(o+="; HttpOnly"),a.secure&&(o+="; Secure"),a.sameSite){var c=typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite;switch(c){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},IJ={create:function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),a&&(i.domain=a),document.cookie=U4t(t,encodeURIComponent(r),i)},read:function(t){for(var r="".concat(t,"="),n=document.cookie.split(";"),a=0;a<n.length;a++){for(var i=n[a];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(r)===0)return i.substring(r.length,i.length)}return null},remove:function(t){this.create(t,"",-1)}},$4t={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&typeof document<"u"){var n=IJ.read(t.lookupCookie);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&typeof document<"u"&&IJ.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},z4t={name:"querystring",lookup:function(t){var r;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var a=n.substring(1),i=a.split("&"),o=0;o<i.length;o++){var l=i[o].indexOf("=");if(l>0){var c=i[o].substring(0,l);c===t.lookupQuerystring&&(r=i[o].substring(l+1))}}}return r}},Xw=null,FJ=function(){if(Xw!==null)return Xw;try{Xw=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Xw=!1}return Xw},V4t={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&FJ()){var n=window.localStorage.getItem(t.lookupLocalStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&FJ()&&window.localStorage.setItem(r.lookupLocalStorage,t)}},Zw=null,DJ=function(){if(Zw!==null)return Zw;try{Zw=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Zw=!1}return Zw},W4t={name:"sessionStorage",lookup:function(t){var r;if(t.lookupSessionStorage&&DJ()){var n=window.sessionStorage.getItem(t.lookupSessionStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupSessionStorage&&DJ()&&window.sessionStorage.setItem(r.lookupSessionStorage,t)}},H4t={name:"navigator",lookup:function(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)r.push(navigator.languages[n]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},q4t={name:"htmlTag",lookup:function(t){var r,n=t.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},G4t={name:"path",lookup:function(t){var r;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof n[t.lookupFromPathIndex]!="string")return;r=n[t.lookupFromPathIndex].replace("/","")}else r=n[0].replace("/","")}return r}},K4t={name:"subdomain",lookup:function(t){var r=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}},y1e=!1;try{document.cookie,y1e=!0}catch{}var b1e=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];y1e||b1e.splice(1,1);function Y4t(){return{order:b1e,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var w1e=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};I4t(this,e),this.type="languageDetector",this.detectors={},this.init(t,r)}return R4t(e,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r||{languageUtils:{}},this.options=B4t(n,this.options||{},Y4t()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector($4t),this.addDetector(z4t),this.addDetector(V4t),this.addDetector(W4t),this.addDetector(H4t),this.addDetector(q4t),this.addDetector(G4t),this.addDetector(K4t)}},{key:"addDetector",value:function(r){return this.detectors[r.name]=r,this}},{key:"detect",value:function(r){var n=this;r||(r=this.options.order);var a=[];return r.forEach(function(i){if(n.detectors[i]){var o=n.detectors[i].lookup(n.options);o&&typeof o=="string"&&(o=[o]),o&&(a=a.concat(o))}}),a=a.map(function(i){return n.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?a:a.length>0?a[0]:null}},{key:"cacheUserLanguage",value:function(r,n){var a=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||n.forEach(function(i){a.detectors[i]&&a.detectors[i].cacheUserLanguage(r,a.options)}))}}])}();w1e.type="languageDetector";const X4t={fr:{translation:{nav:{home:"Accueil",discover:"Dcouvrir",events:"vnements",partnership:"Partenariat",profile:"Profil",wallet:"Portefeuille",create_event:"Crer un vnement",logout:"Dconnexion",notifications:"Notifications"},en:{translation:{nav:{home:"Home",discover:"Discover",events:"Events",partnership:"Partnership",profile:"Profile",wallet:"Wallet",create_event:"Create Event",logout:"Logout",notifications:"Notifications"}}},Theme:"Theme",Language:"Language",auth:{fetch_error:{title:"Erreur de Connexion",description:"Impossible de rcuprer les donnes. Veuillez vrifier votre connexion internet et rafrachir la page."},login:{meta_title:"Connexion",meta_description:"Connectez-vous  votre compte BonPlanInfos.",title:"Connexion",subtitle:"Connectez-vous pour continuer.",button:"Se connecter",switch_text:"Pas encore de compte ?",switch_button:"Se connecter ici",error_invalid_credentials:"Email ou mot de passe incorrect."},register:{meta_title:"Inscription",meta_description:"Crez un compte sur BonPlanInfos et commencez  dcouvrir les meilleurs plans.",title:"Connectez-vous ici",subtitle:"Crez votre compte.",button:"S'inscrire",country_city_required:"Veuillez slectionner un pays et une ville.",switch_text:"Dj un compte ?",switch_button:"S'inscrire ici",confirmation_email_title:"Vrifiez vos emails !",confirmation_email_description:"Nous vous avons envoy un email de confirmation. Veuillez consulter votre bote de rception et cliquer sur le lien pour activer votre compte.",terms_agreement:"J'accepte les <1>Conditions Gnrales d'Utilisation</1>",terms_required:"Vous devez accepter les conditions d'utilisation."},full_name:"Nom complet",country:"Pays",select_country_placeholder:"Slectionnez votre pays",city:"Ville",select_city_placeholder:"Slectionnez votre ville",choose_role:"Choisir un rle",choose_role_placeholder:"Choisissez votre rle",role_user:"Utilisateur( ne peut pas publier d'vnements )",role_organizer:"Organisateur( peut publier des vnements )",email:"Email",password:"Mot de passe",referral_code_optional:"Code de parrainage (Optionnel)"},home:"Accueil",events:"vnements",contests:"Concours",discover:"Dcouvrir",login:"Connexion",logout:"Dconnexion",profile:"Profil",wallet:"Portefeuille",settings:"Paramtres",home_page:{sponsored_events:"vnements Sponsoriss",boost_event:"Booster un vnement",explore_by_type:{title:"Explorer par Type d'vnement",subtitle:"Trouvez l'exprience qui vous convient."},event_types:{standard:"Standard",ticketing:"Billetterie",raffles:"Tombolas",voting:"Votes",stands:"Stands"},no_sponsored_events:{title:"Aucun vnement Sponsoris Actuellement",description:"Soyez le premier  promouvoir un vnement et  toucher un public plus large.",button:"Booster un vnement"},view_all_events:"Voir tous les vnements",loading_error:{title:"Erreur de Chargement des Donnes",description:"Nous n'avons pas pu charger les donnes ncessaires. Veuillez vrifier votre connexion et ressayer.",retry:"Ressayer"}},events_page:{title:"Explorer les vnements",subtitle:"Dcouvrez ce qui se passe prs de chez vous et au-del.",search_placeholder:"Rechercher par nom, ville, catgorie...",filters:"Filtres",quick_filters:{trending:"Tendances",popular_by_category:"Populaires par catgorie",free_weekend:"Gratuits ce week-end",ending_soon:"Bientt termins"},event_types:"Types d'vnement",categories:"Catgories",countries:"Pays",cities:"Villes",reset:"Rinitialiser",no_events_found:{title:"Aucun vnement trouv",description:"Essayez d'ajuster vos filtres de recherche ou d'largir votre zone de recherche.",reset_button:"Rinitialiser les filtres"},unlock_modal:{title:"Dbloquer cet vnement",description:'Pour voir les dtails de "{{title}}", un cot de {{cost}} (environ {{costFcfa}} FCFA) sera dduit de votre solde.',info:"Cette action est unique. Une fois dbloqu, vous aurez un accs permanent  cet vnement.",cancel:"Annuler",confirm:"Confirmer et Dbloquer",success_title:"Accs dbloqu!",success_desc:'Vous pouvez maintenant voir les dtails de "{{title}}".'},common:{whatsapp_community:"Rejoindre la communaut WhatsApp"}},profile_page:{helmet_title:"Profil de {{name}}",helmet_desc:"Grez votre profil, vos vnements et vos transactions sur BonPlanInfos.",unauthorized_title:"Accs Refus",unauthorized_desc:"Vous devez tre connect pour voir votre profil.",go_to_login:"Aller  la page de connexion",connection_failed_title:"chec de la Connexion",connection_failed_desc:"Nous n'avons pas pu charger votre profil. Veuillez ressayer de vous connecter.",loading_error_title:"Erreur de Chargement des Donnes",loading_error_desc:"Nous n'avons pas pu charger toutes les donnes de votre profil. Certaines informations peuvent tre manquantes."},wallet_page:{title:"Mon Portefeuille",total_balance:"Solde Total de Pices",free_coins:"Pices Gratuites",paid_coins:"Pices Achetes",available_earnings:"Gains Disponibles (Pices)",earnings_in_fcfa:" {{amount}} FCFA",buy_coins_title:"Acheter des pices",buy_coins_desc:"Rechargez votre solde pour ne rien manquer !",buy_coins_button:"Voir les packs",balance_details_title:"Dtails du Solde de Pices",free_coins_desc:"Les pices gratuites sont utilises en priorit pour les interactions. Les pices achetes sont utilises ensuite et une partie est reverse aux organisateurs.",withdrawal_title:"Retrait des Gains",withdrawal_desc:"Convertissez vos gains en argent rel.",request_withdrawal_button:"Demander un retrait",withdrawal_minimum:"Minimum pour un retrait : {{amount}} pices."},admin_dashboard:"Tableau de bord Admin",secretary_dashboard:"Tableau de bord Secrtaire",admin_dashboard:{unauthorized_title:"Accs non autoris",unauthorized_desc:"Vous n'avez pas les permissions ncessaires pour accder  cette page.",loading_error_title:"Erreur de chargement",super_admin_title:"Tableau de bord Super Administrateur",admin_title:"Tableau de bord Admin - {{country}}",secretary_title:"Tableau de bord Secrtaire",welcome:"Bienvenue, {{name}}",tabs:{analytics:"Analyses",users:"Utilisateurs",secretaries:"Secrtaires",config:"Configuration",videos:"Vidos",partners:"Partenaires",withdrawals:"Retraits",salary_withdrawals:"Retraits Salaires",withdrawal_history:"Historique Retraits",announcements:"Annonces",events:"vnements",promotions:"Promotions",popups:"Popups",credits:"Crdits",credit_management:"Gestion Crdits",reversed_credits:"Crdits Annuls",transactions:"Transactions",activity_log:"Activits",payments:"Paiements",locations:"Lieux",badges:"Badges",credit_stats:"Stats Crdits",salary:"Mon Salaire",credits_history:"Historique Crdits"},stats:{error_title:"Erreur de statistiques",revenue_title:"Chiffres affaires (Zone)"},license:{partner_error_title:"Erreur de chargement du partenaire",status_title:"Statut de la licence",status_active:"Active",status_expired:"Expire",activated_on:"Active le",expires_on:"Expire le",expired_since:"Expire depuis {{count}} jours",days_remaining:"jours restants",renew_button:"Demander le renouvellement",confirm_renewal_title:"Confirmer la demande de renouvellement ?",confirm_renewal_desc:"Une notification sera envoye au super administrateur pour examiner votre demande de renouvellement de licence.",renewal_sent_title:"Demande envoye",renewal_sent_desc:"Votre demande de renouvellement a t envoye avec succs.",renewal_error_desc:"Erreur lors de l'envoi de la demande de renouvellement : "},banner:{pending:"Votre compte admin est en attente de vrification. Certaines fonctionnalits peuvent tre limites.",suspended:"Votre compte admin a t suspendu. Veuillez contacter le support.",expired:"Votre licence a expir. Veuillez la renouveler pour restaurer l'accs complet."},salary_dashboard:{title:"Tableau de Bord de Salaire",current_month_revenue:"Revenu de la zone (Mois en cours)",personal_score:"Score Personnel",projected_salary:"Salaire Projet (Mois en cours)",request_withdrawal:"Demander un Retrait",history_title:"Historique des Salaires",month:"Mois",revenue:"Revenu Zone",license_rate:"Taux Licence",score:"Score",salary:"Salaire Final",status:"Statut",paid:"Pay",unpaid:"Non Pay"},withdrawal_form:{title:"Demande de Retrait de Salaire",description:"Soumettez une demande pour retirer votre salaire disponible.",available_salary:"Salaire disponible pour le retrait",amount_to_withdraw:"Montant",withdrawal_method:"Mthode",select_method:"Slectionner une mthode",bank_name:"Nom de la banque",account_holder:"Titulaire du compte",account_number:"Numro de compte",mobile_money_operator:"Oprateur",phone_number:"Numro de tlphone",reason:"Raison (Optionnel)",submit:"Soumettre la demande"}},secretary_dashboard:{title:"Tableau de bord Secrtaire",welcome:"Bienvenue, {{name}}",competence_zone:"Zone de comptence : {{country}}",tabs:{user_management:"Gestion Utilisateurs",event_management:"Gestion vnements",location_management:"Gestion Lieux",credit_management:"Gestion Crdits",reversed_credits:"Crdits Annuls",withdrawal_management:"Gestion Retraits",withdrawal_history:"Historique Retraits",event_moderation:"Modration vnements & Lieux"},credit_form:{title:"Crditer un utilisateur",search_user_label:"Rechercher un utilisateur",search_user_placeholder:"Nom ou email...",user_label:"Utilisateur",select_user_placeholder:"Slectionner un utilisateur",amount_label:"Montant (pices)",amount_placeholder:"ex: 100",reason_label:"Raison (optionnel)",reason_placeholder:"ex: Rcompense",submit_button:"Crditer l'utilisateur"},event_moderation:{title:"Modration des vnements",zone_country:"Zone: {{country}}",filter_all:"Tous",filter_active:"Actifs",filter_inactive:"Inactifs",credit_participants_button:"Crditer Participants",confirm_delete_title:"tes-vous sr ?",confirm_delete_desc:"Cette action est irrversible. L'vnement et toutes ses donnes associes (tickets, votes, etc.) seront dfinitivement supprims.",event_deleted_success:"vnement supprim avec succs.",event_deleted_error:"Impossible de supprimer l'vnement.",status_updated_success:"Statut de l'vnement mis  jour.",status_updated_error:"Impossible de mettre  jour le statut.",credit_user_for_event_title:"Crditer pour l'vnement : {{eventName}}",credit_user_for_event_desc:"Slectionnez un utilisateur de votre zone pour lui attribuer des pices pour sa participation.",user_search_placeholder:"Rechercher par nom ou email...",credit_amount_label:"Montant (pices)",credit_reason_label:"Raison du crdit",credit_reason_placeholder:"Participation  l'vnement : {{eventName}}",no_users_found:"Aucun utilisateur trouv dans votre zone.",credit_success_message:"{{userName}} a t crdit de {{amount}} pices.",credit_error_generic:"Une erreur est survenue lors du crdit."}},confirm_logout:"Voulez-vous vraiment vous dconnecter ?",cancel:"Annuler",confirm:"Confirmer",back_home:"Retour  l'accueil",not_found_title:"Page non trouve",not_found_message:"Dsol, la page que vous recherchez n'existe pas.",email_label:"Adresse e-mail",password_label:"Mot de passe",full_name_label:"Nom complet",phone_label:"Numro de tlphone",username_label:"Nom d'utilisateur",country_label:"Pays",city_label:"Ville",referral_code_label:"Code de parrainage (facultatif)",login_tab:"Se connecter",register_tab:"S'inscrire",login_magic_link_tab:"Lien magique",send_magic_link:"Envoyer le lien magique",or_continue_with:"Ou continuer avec",forgot_password:"Mot de passe oubli ?",landing:{title:"Votre Portail pour les Meilleurs Plans",subtitle:"Dcouvrez, participez et organisez des vnements, concours, et plus encore. Le tout, en un seul endroit.",search_placeholder:"Recherchez un vnement, un lieu...",search_button:"Rechercher",create_event_button:"Crer un vnement",discover_events_button:"Dcouvrir les vnements",featured_title:"vnements  ne pas manquer",featured_subtitle:"Participez aux vnements les plus populaires et vivez des moments inoubliables.",categories_title:"Explorez par Catgories",categories_subtitle:"Trouvez des vnements qui correspondent  vos centres d'intrt.",how_it_works_title:"Comment a marche ?",how_it_works_step1_title:"Dcouvrez",how_it_works_step1_desc:"Explorez une multitude d'vnements, de concours et de lieux.",how_it_works_step2_title:"Participez",how_it_works_step2_desc:"Achetez des billets, votez pour vos candidats favoris, et bien plus.",how_it_works_step3_title:"Gagnez & Profitez",how_it_works_step3_desc:"Gagnez des rcompenses, remportez des concours et vivez des expriences uniques.",how_it_works_step4_title:"Organisez",how_it_works_step4_desc:"Crez et grez vos propres vnements en toute simplicit.",cta_title:"Prt  commencer l'aventure ?",cta_subtitle:"Rejoignez notre communaut ds aujourd'hui et ne manquez plus aucun bon plan.",cta_button:"Inscrivez-vous Gratuitement"},footer:{home:"Accueil",about:" propos",partnership:"Partenariat",sponsors:"Sponsors",privacy:"Politique de confidentialit",terms:"Conditions d'utilisation",contact:"Contact",tagline:"Votre guide ultime pour les meilleurs vnements et divertissements.",platform:"Plateforme",company:"Entreprise",legal:"Lgal",how_it_works:"Comment a marche ?",help:"Centre d'aide",faq:"FAQ",data_protection:"Protection des donnes",legal_mentions:"Mentions lgales",message:"Nous utilisons des cookies pour amliorer votre exprience. En continuant  visiter ce site, vous acceptez notre utilisation des cookies. ",learn_more:"Politique de Confidentialit",reject:"Rejeter",accept:"Accepter"},data_protection:{meta_title:"Protection des Donnes Personnelles",meta_description:"Politique de protection des donnes personnelles de BonPlanInfos. Conforme aux rglementations africaines sur la protection des donnes.",title:"Protection des Donnes Personnelles",subtitle:"Notre engagement pour la protection de vos donnes en Afrique",africa_compliance:"Nos pratiques de protection des donnes respectent les rglementations nationales dans tous les pays d'opration en Afrique de l'Ouest (Cte d'Ivoire, Burkina Faso, Sngal, Mali, Bnin, Ghana, Nigeria), Afrique Centrale (Cameroun, Gabon), Afrique du Nord (Tunisie, Maroc) et Afrique Australe (Afrique du Sud), en suivant  la fois les lois locales et les standards de l'Union Africaine.",contact_title:"Contact Dlgu  la Protection des Donnes",commitment:{title:"Notre Engagement",content:"BonPlanInfos s'engage  protger vos donnes personnelles conformment aux lois africaines sur la protection des donnes. Nous mettons en uvre des mesures techniques et organisationnelles robustes pour assurer la scurit et la confidentialit de vos informations."},dpo:{title:"Dlgu  la Protection des Donnes",content:"Notre Dlgu  la Protection des Donnes (DPD) veille au respect des obligations lgales et rglementaires concernant la protection des donnes personnelles dans tous les pays africains o nous oprons."},data_collected:{title:"Donnes Collectes",content:"Nous collectons uniquement les donnes ncessaires au bon fonctionnement de nos services vnementiels :",list:["Informations de profil : nom, prnom, email, tlphone","Donnes de transaction : historiques d'achats de billets","Donnes d'utilisation : prfrences vnementielles, interactions avec la plateforme","Donnes techniques : adresse IP, type d'appareil, cookies essentiels","Donnes de localisation : pays et ville pour personnaliser les vnements"]},usage:{title:"Utilisation des Donnes",content:"Vos donnes sont utilises dans le strict respect des finalits suivantes :",list:["Gestion des inscriptions et participations aux vnements","Traitement scuris des paiements de billets","Envoi de confirmations et informations vnementielles","Amlioration de l'exprience utilisateur sur notre plateforme","Conformit avec les obligations lgales africaines","Personnalisation des recommandations d'vnements par pays"]},sharing:{title:"Partage des Donnes",content:"Nous ne partageons vos donnes qu'avec :",list:["Prestataires de paiement certifis (MoneyFusion, PayPal, Mobile Money, Orange Money, MTN Mobile Money, Moov Money, Wave, etc.)","Organisateurs d'vnements (uniquement les donnes ncessaires  la gestion de leur vnement)","Autorits lgales (sur demande formelle conforme aux lois locales)","Partenaires techniques sous contrat de confidentialit strict"]},security:{title:"Scurit des Donnes",content:"Nous mettons en uvre des mesures de scurit avances conformes aux standards africains :",list:["Chiffrement SSL/TLS pour toutes les transmissions de donnes","Stockage scuris avec prfrence pour les serveurs localiss en Afrique","Contrles d'accs stricts et authentification multi-facteurs","Audits rguliers de scurit conformes aux lois locales","Sauvegardes cryptes et plans de reprise d'activit"]},retention:{title:"Conservation des Donnes",content:"Vos donnes sont conserves pour des dures limites conformment aux lois de chaque pays :",list:["Donnes de compte : 3 ans aprs dernire activit","Donnes transactionnelles : 5  10 ans selon les obligations lgales locales","Donnes de navigation : 13 mois maximum","Donnes des vnements : 2 ans aprs la fin de l'vnement","Donnes marketing : 3 ans aprs dernier contact"]},hosting:{title:"Hbergement des Donnes",content:"Vos donnes sont principalement hberges sur des serveurs scuriss. Nous privilgions les solutions d'hbergement en Afrique lorsque cela est possible, tout en garantissant la mme qualit de service et de scurit. Nos infrastructures respectent les exigences de souverainet numrique des pays o nous oprons."},deletion:{title:"Droit  l'Effacement",content:"Conformment aux lois africaines sur la protection des donnes, vous avez le droit de demander la suppression de vos donnes personnelles. Contactez notre DPD  support@bonplaninfos.net pour toute demande d'effacement. Nous nous engageons  rpondre dans les dlais lgaux de chaque pays."},last_updated:"Dernire mise  jour : Novembre 2024"},marketing:{meta_title:"Montisez Vos vnements - Gnrez des Revenus  Chaque Interaction",meta_description:"Crez des vnements et gagnez de l'argent avec chaque vue, like et partage. Rejoignez les milliers d'organisateurs qui gnrent dj des revenus sur notre plateforme.",badge:"NOUVEAU",title:"Transformez Vos vnements en Sources de Revenus",subtitle:"Chaque interaction sur vos vnements gnre des revenus. Crez, partagez et gagnez de l'argent avec notre plateforme de montisation innovante.",createEventCta:"Crer Mon vnement",becomePartnerCta:"Devenir Partenaire",trust:"Fiable pour des milliers d'organisateurs  travers l'Afrique",why:{title:"Pourquoi Choisir Notre Plateforme ?",subtitle:"Dcouvrez les avantages uniques qui font de nous le choix prfr des organisateurs d'vnements",feature1:"Revenus Maximaux",feature1_desc:"Gardez 95% de vos revenus avec seulement 5% de frais de plateforme",feature2:"Montisation Instantane",feature2_desc:"Commencez  gagner ds la premire vue, like et partage sur vos vnements",feature3:"Outils de Croissance",feature3_desc:"Des outils avancs de boost et de promotion pour maximiser votre audience",feature4:"Analyses en Temps Rel",feature4_desc:"Suivez vos revenus et l'engagement de votre audience en temps rel",feature5:"Paiements Scuriss",feature5_desc:"Scurit bancaire pour toutes vos transactions et revenus",feature6:"Support 24/7",feature6_desc:"quipe de support ddie pour vous aider  russir"},simulation:{title:"Calculez Votre Revenu Potentiel",subtitle:"Simulez combien vous pouvez gagner avec vos vnements",event_type:"Type d'vnement",ticket_price:"Prix du Billet",number_of_tickets:"Nombre de Billets",potential_revenue:"Revenu Potentiel",platform_fee:"Frais Plateforme (5%)",your_net_earning:"Votre Gain Net",cta:"Commencez  Gagner Maintenant",note:"Simulation base sur les taux actuels. Les rsultats rels peuvent varier.",number_of_interactions:"Nombre d'Interactions",interaction_revenue:"Revenu des Interactions",minimum_withdrawal:"Minimum 50 interactions requis pour le retrait (500 FCFA)"},testimonials:{title:"Tmoignages de Russite",bintou_diallo_name:"Bintou Diallo",bintou_diallo_role:"Organisatrice d'vnements, Mali",dj_kerozen_quote:"En seulement 3 mois, j'ai gagn plus de 500 000 FCFA avec mes vnements. La plateforme transforme vraiment les passions en revenus !",kwesi_mensah_name:"Kwesi Mensah",kwesi_mensah_role:"Entrepreneur Culturel, Ghana",fatou_sylla_quote:"La simulation de revenus m'a aid  comprendre mon potentiel. Je gagne maintenant un revenu mensuel stable grce  mes vnements culturels.",aisha_traore_name:"Aisha Traor",aisha_traore_role:"Organisatrice de Festival Musical, Cte d'Ivoire",eric_b_quote:"95% de rtention de revenus est incroyable ! Mon dernier festival a gnr 2,5 millions de FCFA en gains nets.",amadou_ba_name:"Amadou Ba",amadou_ba_role:"Fondateur de Startup, Sngal",amadou_ba_quote:"En tant que partenaire, j'ai construit une entreprise durable reprsentant la plateforme dans ma rgion. Une opportunit qui change la vie !",chimamanda_ngozi_name:"Chimamanda Ngozi",chimamanda_ngozi_role:"Commissaire d'Exposition d'Art, Nigeria",chimamanda_ngozi_quote:"La montisation base sur l'engagement est rvolutionnaire. Mme les petits vnements gnrent des revenus significatifs.",didier_kouame_name:"Didier Kouam",didier_kouame_role:"Gestionnaire d'vnements Sportifs, Cameroun",didier_kouame_quote:"Des tournois locaux aux comptitions majeures, la plateforme s'adapte  vos ambitions. Hautement recommand !",mariam_kone_name:"Mariam Kon",mariam_kone_role:"Community Manager, Burkina Faso",mariam_kone_quote:"Les analyses m'ont aid  comprendre quel contenu fonctionne le mieux. Mes revenus ont augment de 300% en 6 mois.",femi_adebayo_name:"Femi Adebayo",femi_adebayo_role:"Promoteur de Spectacles, Nigeria",femi_adebayo_quote:"Multiples sources de revenus : ventes de billets, interactions et partenariats. Cette plateforme a tout !",abena_asante_name:"Abena Asante",abena_asante_role:"Hte d'Ateliers ducatifs, Ghana",abena_asante_quote:"Mes ateliers atteignent maintenant des audiences dans toute l'Afrique de l'Ouest. La porte de la plateforme est phnomnale.",yannick_zongo_name:"Yannick Zongo",yannick_zongo_role:"Consultant en Affaires, RDC",yannick_zongo_quote:"Le programme partenaire m'a permis de construire un empire rgional. La meilleure dcision commerciale que j'ai jamais prise."},cta:{title:"Prt  Transformer Vos vnements en Revenus ?",subtitle:"Rejoignez les milliers d'organisateurs qui russissent et commencez  montiser votre passion ds aujourd'hui",cta:"Devenir Partenaire Maintenant"}},wallet_info_modal:{title:" quoi servent les pices () ?",intro:"Les pices sont la monnaie virtuelle de BonPlanInfos. Elles vous permettent d'accder  des contenus exclusifs et d'interagir avec les vnements.",free_coins_title:"Pices Gratuites ()",free_coins_desc:"Vous les gagnez en regardant des vidos publicitaires ou lors de promotions. Elles vous permettent de raliser des actions de base.",paid_coins_title:"Pices Achetes ()",paid_coins_desc:"Achetes avec de l'argent rel, elles dbloquent toutes les fonctionnalits et soutiennent directement les organisateurs.",usage_title:"Comment les utiliser ?",usage_item1:"Accder  des vnements protgs.",usage_item2:"Liker, commenter, tlcharger du contenu exclusif.",usage_item3:"Participer  des votes, tombolas et bien plus.",cta_button:"Acheter des pices",usage_priority:"Les pices gratuites sont toujours utilises en premier pour vos actions !"},events_title:"vnements  la Une",all_events_button:"Tous les vnements",promoted_events:"vnements Sponsoriss",popular_contests:"Concours Populaires",see_all_contests:"Voir tous les concours",event_card:{days_remaining:"{{count}} jour restant",days_remaining_plural:"{{count}} jours restants",event_ended:"Termin",event_starting_today:"Commence aujourd'hui",starting_from:" partir de"},filters:{all:"Tout",promoted:"Boosts",live:"En direct",today:"Aujourd'hui",this_week:"Cette semaine",free:"Gratuits"},event_detail:{by_organizer:"Par",share:"Partager",location:"Lieu",date_time:"Date et Heure",get_directions:"Obtenir l'itinraire",about_event:" propos de l'vnement",tags:"Tags",unlock_event_to_see_content:"Dbloquez cet vnement pour voir le contenu exclusif !",unlock_button:"Dbloquer pour {{price}}",unlocking:"Dblocage...",free_access:"Accs gratuit",owner_access:"Accs propritaire",comments:"Commentaires",leave_comment:"Laissez un commentaire...",submit_comment:"Envoyer",comment_cost:"Commenter pour {{price}}",ticketing:"Billetterie",voting:"Vote",raffle:"Tombola",stands:"Stands"},social_interactions:{like:"J'aime",comment:"Commenter",share:"Partager",download:"Tlcharger",cost:"{{price}}",comment_placeholder:"Ajouter un commentaire...",post_comment:"Publier"},toasts:{copied_to_clipboard:"Copi dans le presse-papiers !",feature_not_implemented:" Cette fonctionnalit n'est pas encore implmentemais ne vous inquitez pas ! Vous pouvez la demander dans votre prochain prompt ! "},partner_signup:{meta_title:"Devenir Partenaire - BonPlanInfos",meta_description:"Devenez partenaire officiel BonPlanInfos et gnrez des revenus mensuels stables. Programme de partenariat avec licences avantageuses.",unauthorized_title:"Accs non autoris",unauthorized_desc:"Vous devez tre connect pour accder  la page partenaire.",unauthorized_cta:"Se connecter",loading_licenses:"Chargement des licences...",error_loading_licenses:"Erreur lors du chargement des licences",your_licenses_title:"Vos Licences Actives",available_licenses_title:"Licences Disponibles",available_licenses_subtitle:"Choisissez la licence qui correspond  vos ambitions et commencez  gnrer des revenus",license_card:{active:"Active",expired:"Expire",revenue_share:"Part de revenus : {{percent}}%",purchased_on:"Achete le",expires_on:"Expire le",days_remaining:"{{count}} jour(s) restant(s)"},per_month:"/mois",revenue_label:"Part des revenus",duration_label:"{{months}} mois ({{days}} jours)",purchase_cta:"Acheter maintenant",error_toast:{title:"Erreur",login_required:"Vous devez tre connect pour acheter une licence",purchase_failed:"Erreur lors de l'achat de la licence"}},license_features:{feature1:"Zone maximale",feature2:"Dashboard avanc",feature3:"Support 24/7",feature4:"Formation avance",feature5:"Accs early",feature6:"Gestion de zone",feature7:"Rapports mensuels",feature8:"Support basic",feature9:"Zone tendue",feature10:"Analyses dtailles",feature11:"Support prioritaire",feature12:"Formation",revenue_description_40:"40% de gain sur chiffre d'affaires de sa zone",revenue_description_20:"20% de gain sur chiffre d'affaires de sa zone"},create_event_page:{meta:{title:"Crer un vnement - Choisir le Type",description:"Choisissez le type d'vnement que vous souhaitez crer sur BonPlanInfos"},title:"Crer un vnement",subtitle:"Choisissez le type d'vnement que vous souhaitez crer",types:{simple:{title:"vnement Simple",desc:"vnement basique avec informations gnrales"},ticketing:{title:"Billetterie",desc:"Vendez des billets pour votre vnement"},voting:{title:"Vote & Concours",desc:"Crez un concours avec systme de vote"},raffle:{title:"Tirage au Sort",desc:"Organisez un tirage au sort avec lots"},stand:{title:"Location de Stands",desc:"Louez des stands pour un salon ou foire"}},help:{title:"Besoin d'aide ?",description:"Consultez notre guide pour apprendre  crer et grer vos vnements efficacement",button:"Voir le Guide d'Utilisation"}},user_guide_page:{meta:{title:"BonPlanInfos - Plateforme vnementielle 100% Africaine",description:"Crez, grez et montisez vos vnements avec BonPlanInfos. La plateforme africaine qui vous reverse 95% de vos revenus."},hero:{title:"BonPlanInfos",subtitle:"Votre Succs vnementiel",description:"La plateforme africaine qui vous reverse <strong>95% de vos revenus</strong>",coin_info:"1 pice = 10F  1 interaction = 1 pice",create_event:"Crer un vnement",become_partner:"Devenir Partenaire",features:{revenue:"95% des revenus reverss",coin:"1 pice = 10F CFA",support:"Support 24/7"}},features:{title:"Nos Solutions vnementielles",subtitle:"Des outils puissants pour maximiser vos revenus et votre visibilit",ticketing:{title:"Billetterie Intelligente",description:"Vendez des billets pour vos concerts et vnements. Fixez vos prix et recevez 95% des revenus directement",stats:"95% de revenus reverss"},voting:{title:"Concours & Votes",description:"Organisez des concours interactifs avec systme de vote. Montisez chaque participation",stats:"95% sur chaque participation"},raffle:{title:"Tirage au Sort",description:"Crez des tirages au sort avec lots attractifs. Participation payante ou gratuite selon votre choix",stats:"Gestion automatique avec 95% sur chaque participation"},stand_rental:{title:"Location de Stands",description:"Louez des stands pour salons et foires. Grez les rservations et paiements en ligne",stats:"95% du prix de location vous tes reverss"},protected_events:{title:"vnements Protgs",description:"Contenu exclusif montis. Gagnez 1 pice par interaction (vue, like, commentaire, partage)",stats:"+1 pice par interaction"},boost:{title:"Boost Instantan",description:"Augmentez la visibilit de vos vnements. Atteignez plus de participants en temps rel en boostant vos vnements sur bonplaninfos.",stats:"Porte multiplie"}},simulation:{title:"Simulation vnement Protg",subtitle:"Dcouvrez comment montiser chaque interaction sur vos vnements",main_title:" 1 Interaction = 1 Pice = 10F CFA",description:"Chaque vue, like, commentaire ou partage vous rapporte de l'argent",views:"Vues",likes:"Likes",comments:"Commentaires",shares:"Partages",total:"Total: {{amount}} F CFA",revenue_description:"Revenus gnrs par un vnement avec {{count}} interactions"},stats:{revenue:"Revenus reverss aux organisateurs",coin_cost:"Cot d'1 pice",coin_earned:"Pice gagne par interaction",no_fees:"Frais d'inscription"},partner_program:{title:"Programme Partenaire",subtitle:"Reprsentez BonPlanInfos dans votre rgion et gnrez des revenus mensuels",advantages:"Avantages Partenaire",benefits:{revenue:"Revenus mensuels garantis",training:"Formation complte offerte",support:"Support prioritaire 24/7",network:"Rseau de partenaires exclusif"},become_partner:"Devenez Partenaire",partner_description:"Reprsentez BonPlanInfos dans votre ville",apply_now:"Postuler Maintenant"},testimonials:{title:"Ils nous font confiance",subtitle:"Dcouvrez les retours d'exprience de nos utilisateurs satisfaits",play:"Lecture",pause:"Pause",previous:"Prcdent",next:"Suivant",counter:"{{current}} / {{total}}",testimonial1:{name:"Marie K.",role:"Organisatrice de concerts",content:"Avec BonPlanInfos, mes vnements protgs gnrent un revenu passif impressionnant. 1000 vues = 10,000F !"},testimonial2:{name:"Jean A.",role:"Manager d'artistes",content:"La billetterie est rvolutionnaire. 95% des revenus me reviennent directement, sans intermdiaire."},testimonial3:{name:"Sophie T.",role:"Partenaire officielle",content:"Devenir partenaire m'a permis de gnrer un revenu mensuel stable tout en dveloppant mon rseau."},testimonial4:{name:"Paul D.",role:"Promoteur vnementiel",content:"Le systme de concours a boost l'engagement de ma communaut. Les revenus ont augment de 300% !"},testimonial5:{name:"Fatou M.",role:"Artiste musicienne",content:"En tant qu'artiste, BonPlanInfos m'a donn une autonomie financire grce aux vnements protgs."},testimonial6:{name:"Kevin L.",role:"Organisateur de festivals",content:"La location de stands via la plateforme a simplifi toute la logistique de mon festival."},testimonial7:{name:"Acha B.",role:"Influenceuse lifestyle",content:"Mes tirages au sort gnrent un engagement incroyable. Ma communaut adore participer !"},testimonial8:{name:"Marc T.",role:"Entrepreneur vnementiel",content:"Le programme partenaire m'a ouvert des opportunits que je n'aurais jamais imagines."},testimonial9:{name:"Julie N.",role:"Photographe vnements",content:"Je montise maintenant mes reportages photos grce aux vnements protgs. Gnial !"},testimonial10:{name:"David K.",role:"DJ & Producteur",content:"Mes lives protgs me rapportent plus que mes anciennes plateformes. Je recommande  100% !"},testimonial11:{name:"Sarah J.",role:"Organisatrice mariages",content:"BonPlanInfos a rvolutionn ma faon de travailler. Les clients adorent le systme de billetterie."},testimonial12:{name:"Mohamed C.",role:"Community Manager",content:"Je gre plusieurs artistes sur la plateforme. L'interface est intuitive et les revenus transparents."},testimonial13:{name:"Laura P.",role:"Cratrice de contenu",content:"Mes ateliers en ligne sont maintenant protgs et gnrent des revenus stables chaque mois."},testimonial14:{name:"Pierre G.",role:"Organisateur sportif",content:"Pour nos tournois, le systme de votes et concours a multipli par 5 notre audience."},testimonial15:{name:"Nadia S.",role:"Agence vnementielle",content:"Nous utilisons BonPlanInfos pour tous nos clients. La satisfaction est toujours au rendez-vous !"}},cta:{title:"Prt  rvolutionner vos vnements ?",description:"Rejoignez la communaut BonPlanInfos et commencez  gnrer des revenus ds aujourd'hui",create_event:"Crer mon premier vnement",become_partner:"Devenir Partenaire"},footer:{description:"La plateforme vnementielle africaine qui vous reverse 95% de vos revenus.",navigation:"Navigation",home:"Accueil",events:"vnements",create_event:"Crer un vnement",become_partner:"Devenir partenaire",contact:"Contact",information:"Informations",copyright:"2025 BonPlanInfos. Tous droits rservs."}},admin:{tabs:{analytics:"Analyses",users:"Utilisateurs",partners:"Partenaires",events:"vnements",locations:"Lieux",promotions:"Promotions",credits:"Crdits",config:"Configuration",withdrawals:"Retraits",videos:"Vidos",announcements:"Annonces",welcome_popup:"Popup Accueil"}},discover_places:"Dcouvrir des lieux",discover_more_places:"Dcouvrir plus de lieux",discover_page:{title:"Dcouvrir des Lieux",subtitle:"Trouvez de nouveaux lieux recommands par la communaut.",search_placeholder:"Rechercher un lieu, une catgorie, une ville...",filter_by_type:"Filtrer par type",no_locations_found:"Aucun lieu trouv.",no_locations_description:"Essayez d'largir votre recherche ou de slectionner moins de filtres.",add_new_location:"Ajouter un nouveau lieu",add_place:"Ajouter un Lieu"},add_location:{title:"Ajouter un nouveau lieu",subtitle:"Partagez un super endroit avec la communaut.",location_name:"Nom du lieu",location_description:"Description",location_type:"Type de lieu",address:"Adresse",city:"Ville",country:"Pays",website:"Site web (facultatif)",phone:"Tlphone (facultatif)",submit:"Soumettre le lieu",success_title:"Lieu soumis !",success_message:"Merci ! Votre lieu a t soumis et sera examin par notre quipe."},verify_ticket:{title:"Vrification de Billet",scan_instruction:"Scannez le code QR du billet ou entrez le code du scanner.",scanner_code_label:"Code du Scanner",start_session:"Dmarrer la session",stop_session:"Arrter la session",scan_ticket:"Scanner un Billet",camera_permission_denied:"Permission de la camra refuse.",camera_error:"Erreur de camra :",scan_result:"Rsultat du scan",scan_again:"Scanner  nouveau",valid_ticket:"Billet Valide",invalid_ticket:"Billet Invalide",ticket_number:"Numro de billet:",ticket_type:"Type de billet:",attendee_name:"Nom du participant:",event_title:"Titre de l'vnement:",scan_time:"Heure de scan:",error:"Erreur",session_active:"Session de vrification active",session_stopped:"Session de vrification arrte",verifying_ticket:"Vrification du billet...",enter_scanner_code:"Veuillez entrer un code de scanner valide."},create_event:{title:"Crer un vnement",subtitle:"Choisissez le type d'vnement que vous souhaitez organiser.",simple:"Simple",simple_desc:"Publiez rapidement un vnement informatif (gratuit ou payant  l'entre).",ticketing:"Billetterie",ticketing_desc:"Vendez des billets avec diffrents tarifs et options.",voting:"Concours de Vote",voting_desc:"Organisez un concours o les participants votent pour des candidats.",raffle:"Tombola",raffle_desc:"Crez une tombola avec des tickets et des prix  gagner.",stands:"Location de Stands",stands_desc:"Grez la location de stands pour un salon ou un march."},create_ticketing_event:{title:"Crer un vnement avec Billetterie",event_details:"Dtails de l'vnement",event_title:"Titre de l'vnement",event_description:"Description",event_cover_image:"Image de couverture",upload_image:"Tlcharger une image",event_date:"Date de l'vnement",category:"Catgorie",select_category:"Slectionner une catgorie",location:"Lieu",address:"Adresse",city:"Ville",country:"Pays",ticket_types:"Types de Billets",add_ticket_type:"Ajouter un type de billet",ticket_name:"Nom du billet (ex: Standard, VIP)",ticket_price_fcfa:"Prix (FCFA)",ticket_quantity:"Quantit disponible",ticket_benefits:"Avantages (spars par des virgules)",remove:"Supprimer",verification_options:"Options de Vrification",enable_verification:"Activer la vrification des billets par QR code",submit:"Crer l'vnement",event_created_success:"vnement cr avec succs !",editing_event:"Modification de l'vnement"},ticketing_interface:{select_ticket_type:"Slectionnez vos billets",total_cost:"Cot Total :",buy_tickets:"Acheter des Billets",sold_out:"puis",sales_ended:"Ventes termines",available:"disponibles",benefits:"Avantages :"},select_country:"Slectionner un pays",select_city:"Slectionner une ville",choose_file:"Choisir un fichier",no_file_chosen:"Aucun fichier choisi",common:{error_title:"Erreur",confirm:"Confirmer",cancel:"Annuler",delete:"Supprimer",close:"Fermer",save:"Sauvegarder",edit:"Modifier",loading:"Chargement...",success_title:"Succs",search:"Rechercher...",activate:"Activer",deactivate:"Dsactiver",credit:"Crditer",retry:"Ressayer"},privacy:{meta_title:"Politique de Confidentialit",meta_description:"Consultez notre politique de confidentialit pour comprendre comment nous collectons, utilisons et protgeons vos donnes personnelles.",title:"Politique de Confidentialit",last_updated:"Dernire mise  jour : 02 Novembre 2025",introduction:{title:"1. Introduction",p1:"Cette politique de confidentialit explique comment BonPlanInfos collecte, utilise et protge vos informations personnelles lorsque vous utilisez notre plateforme."},data_collected:{title:"2. Donnes que nous collectons",p1:"Nous collectons diverses informations pour fournir et amliorer nos services :",item1:"<b>Informations de compte :</b> Nom, adresse e-mail, pays, ville, type de compte.",item2:"<b>Donnes d'utilisation :</b> Pages visites, interactions avec les vnements, recherches effectues.",item3:"<b>Contenu gnr par l'utilisateur :</b> vnements crs, commentaires, photos.",item4:"<b>Donnes de transaction :</b> Historique des achats de pices et des retraits de gains."},data_usage:{title:"3. Comment nous utilisons vos donnes",p1:"Vos donnes sont utilises pour :",item1:"Fournir, maintenir et amliorer la plateforme.",item2:"Personnaliser votre exprience en vous recommandant des vnements pertinents.",item3:"Traiter les transactions et les paiements.",item4:"Communiquer avec vous concernant votre compte ou nos services."},cookies:{title:"4. Cookies",p1:"Nous utilisons des cookies pour assurer le bon fonctionnement du site, analyser notre trafic et personnaliser le contenu. Vous pouvez grer vos prfrences de cookies  tout moment."},data_sharing:{title:"5. Partage des donnes",p1:"Nous ne partageons pas vos informations personnelles avec des tiers, sauf si cela est ncessaire pour fournir le service (par exemple, avec les processeurs de paiement) ou si la loi l'exige."},security:{title:"6. Scurit",p1:"Nous mettons en uvre des mesures de scurit techniques et organisationnelles pour protger vos donnes contre l'accs non autoris, la perte ou la destruction."},your_rights:{title:"7. Vos droits",p1:"Conformment  la rglementation, vous disposez des droits suivants :",item1:"<b>Droit d'accs :</b> Vous pouvez demander une copie des donnes que nous dtenons sur vous.",item2:"<b>Droit de rectification :</b> Vous pouvez corriger toute information inexacte.",item3:"<b>Droit  l'effacement :</b> Vous pouvez demander la suppression de votre compte et de vos donnes.",p2:"Pour exercer ces droits, veuillez nous contacter  l'adresse ci-dessous."},contact:{title:"8. Contact",p1:"Pour toute question relative  cette politique de confidentialit, veuillez nous contacter  :",email:"privacy@bonplaninfos.net"}},legal_mentions:{meta_title:"Mentions Lgales",meta_description:"Consultez les mentions lgales de BonPlanInfos pour obtenir des informations sur l'diteur du site, l'hbergement et nos obligations lgales.",title:"Mentions Lgales",subtitle:"Informations lgales concernant la plateforme BonPlanInfos.",lastUpdate:"Dernire mise  jour : 02 Novembre 2025",sections:{editor:{title:"diteur du Site",content:"Le site BonPlanInfos est dit par :",company:"BON PLAN INFOS (BPI)",capital:"Socit par actions simplifie (SAS) au capital de 1.000.000 a 5.000.000 FCFA",address:"Sige social : Abidjan, Cte d'Ivoire, Ouagadougou, Burkina Faso",phone:"Tlphone : (+225) 07 12 27 53 74",email:"contact@bonplaninfos.net"},director:{title:"Directeur de la Publication",content:"Le directeur de la publication est Monsieur S.Rayane KIBORA, en sa qualit de Prsident de BON PLAN INFOS (BPI)."},hosting:{title:"Hbergement",content:"La plateforme est hberge par :",company:"Hostinger International Ltd.",address:"61 Lordou Vironos Street, 6023 Larnaca, Chypre",website:"www.hostinger.fr"},data:{title:"Protection des Donnes Personnelles",content1:"Conformment  la lgislation en vigueur sur la protection des donnes, vous disposez d'un droit d'accs, de rectification, de suppression et d'opposition de vos donnes personnelles. Pour exercer ce droit, veuillez contacter notre Dlgu  la Protection des Donnes (DPO)  l'adresse : ",content2:"Pour plus d'informations, veuillez consulter notre <1>Politique de Confidentialit</1>."},cookies:{title:"Cookies",content1:"Le site utilise des cookies pour amliorer l'exprience utilisateur. Ces cookies sont utiliss pour :",item1:"Assurer le bon fonctionnement du site (cookies de session).",item2:"Analyser l'audience et la performance (cookies analytiques).",item3:"Proposer des publicits personnalises (cookies marketing).",content2:"Vous pouvez configurer vos prfrences en matire de cookies via notre bannire de consentement."},ip:{title:"Proprit Intellectuelle",content:"L'ensemble des contenus de ce site (textes, images, vidos, logos, code source) est la proprit exclusive de BON PLAN INFOS (BPI) ou de ses partenaires. Toute reproduction, mme partielle, est strictement interdite sans autorisation pralable."},liability:{title:"Limitation de Responsabilit",content:"BonPlanInfos s'efforce de fournir des informations exactes et  jour, mais ne peut garantir l'exactitude de toutes les informations. L'utilisation des informations et contenus disponibles sur l'ensemble du site, ne sauraient en aucun cas engager la responsabilit de l'diteur,  quelque titre que ce soit."},links:{title:"Liens Hypertextes",content:"La plateforme peut contenir des liens hypertextes vers d'autres sites. BonPlanInfos n'est pas responsable du contenu de ces sites tiers et ne saurait tre tenu responsable des dommages rsultant de leur consultation."},applicableLaw:{title:"Droit Applicable",content:"Les prsentes mentions lgales sont soumises au droit ivoirien. En cas de litige, les tribunaux d'Abidjan seront seuls comptents."}}}}},en:{translation:{nav:{home:"Home",discover:"Discover",events:"Events",partnership:"Partnership",profile:"Profile",wallet:"Wallet",create_event:"Create Event",logout:"Logout",notifications:"Notifications"},auth:{fetch_error:{title:"Connection Error",description:"Could not fetch data. Please check your internet connection and refresh the page."},login:{meta_title:"Login",meta_description:"Log in to your BonPlanInfos account.",title:"Login",subtitle:"Log in to continue.",button:"Login",switch_text:"Don't have an account yet?",switch_button:"Sign Up",error_invalid_credentials:"Incorrect email or password."},register:{meta_title:"Register",meta_description:"Create an account on BonPlanInfos and start discovering the best plans.",title:"Register",subtitle:"Create your account.",button:"Register",country_city_required:"Please select a country and a city.",switch_text:"Already have an account?",switch_button:"Login",confirmation_email_title:"Check your email!",confirmation_email_description:"We have sent you a confirmation email. Please check your inbox and click on the link to activate your account.",terms_agreement:"I agree to the <1>Terms of Service</1>",terms_required:"You must accept the terms of service."},full_name:"Full Name",country:"Country",select_country_placeholder:"Select your country",city:"City",select_city_placeholder:"Select your city",choose_role:"You are?",choose_role_placeholder:"Choose your role",role_user:"User",role_organizer:"Organizer",email:"Email",password:"Password",referral_code_optional:"Referral Code (Optional)"},home:"Home",events:"Events",contests:"Contests",discover:"Discover",login:"Login",logout:"Logout",profile:"Profile",wallet:"Wallet",settings:"Settings",home_page:{sponsored_events:"Sponsored Events",boost_event:"Boost an Event",explore_by_type:{title:"Explore by Event Type",subtitle:"Find the experience that's right for you."},event_types:{standard:"Standard",ticketing:"Ticketing",raffles:"Raffles",voting:"Voting",stands:"Stands"},no_sponsored_events:{title:"No Sponsored Events Currently",description:"Be the first to promote an event and reach a wider audience.",button:"Boost an Event"},view_all_events:"View All Events",loading_error:{title:"Error Loading Data",description:"We couldn't load the necessary data. Please check your connection and try again.",retry:"Retry"}},events_page:{title:"Explore Events",subtitle:"Discover what's happening near you and beyond.",search_placeholder:"Search by name, city, category...",filters:"Filters",quick_filters:{trending:"Trending",popular_by_category:"Popular by Category",free_weekend:"Free This Weekend",ending_soon:"Ending Soon"},event_types:"Event Types",categories:"Categories",countries:"Countries",cities:"Cities",reset:"Reset",no_events_found:{title:"No Events Found",description:"Try adjusting your search filters or expanding your search area.",reset_button:"Reset Filters"},unlock_modal:{title:"Unlock This Event",description:'To see the details for "{{title}}", a cost of {{cost}} (about {{costFcfa}} FCFA) will be deducted from your balance.',info:"This is a one-time action. Once unlocked, you will have permanent access to this event.",cancel:"Cancel",confirm:"Confirm and Unlock",success_title:"Access Unlocked!",success_desc:'You can now see the details for "{{title}}".'}},profile_page:{helmet_title:"{{name}}'s Profile",helmet_desc:"Manage your profile, events, and transactions on BonPlanInfos.",unauthorized_title:"Access Denied",unauthorized_desc:"You must be logged in to view your profile.",go_to_login:"Go to Login Page",connection_failed_title:"Connection Failed",connection_failed_desc:"We were unable to load your profile. Please try logging in again.",loading_error_title:"Error Loading Data",loading_error_desc:"We couldn't load all your profile data. Some information may be missing."},data_protection:{meta_title:"Personal Data Protection",meta_description:"BonPlanInfos personal data protection policy. Compliant with African data protection regulations.",title:"Personal Data Protection",subtitle:"Our commitment to protecting your data in Africa",africa_compliance:"Our data protection practices comply with national regulations in all operating countries across West Africa (Cte d'Ivoire, Burkina Faso, Senegal, Mali, Benin, Ghana, Nigeria), Central Africa (Cameroon, Gabon), North Africa (Tunisia, Morocco), and Southern Africa (South Africa), following both local laws and African Union standards.",contact_title:"Contact Data Protection Officer",commitment:{title:"Our Commitment",content:"BonPlanInfos is committed to protecting your personal data in accordance with African data protection laws. We implement robust technical and organizational measures to ensure the security and confidentiality of your information."},dpo:{title:"Data Protection Officer",content:"Our Data Protection Officer (DPO) ensures compliance with legal and regulatory obligations regarding personal data protection in all African countries where we operate."},data_collected:{title:"Collected Data",content:"We only collect data necessary for the proper functioning of our event services:",list:["Profile information: name, surname, email, phone number","Transaction data: ticket purchase history","Usage data: event preferences, platform interactions","Technical data: IP address, device type, essential cookies","Location data: country and city to personalize events"]},usage:{title:"Data Usage",content:"Your data is used strictly for the following purposes:",list:["Management of event registrations and participations","Secure processing of ticket payments","Sending event confirmations and information","Improving user experience on our platform","Compliance with African legal obligations","Personalization of event recommendations by country"]},sharing:{title:"Data Sharing",content:"We only share your data with:",list:["Certified payment providers (MoneyFusion, PayPal, Mobile Money, Orange Money, MTN Mobile Money, Moov Money, Wave, etc.)","Event organizers (only data necessary for their event management)","Legal authorities (upon formal request compliant with local laws)","Technical partners under strict confidentiality agreements"]},security:{title:"Data Security",content:"We implement advanced security measures compliant with African standards:",list:["SSL/TLS encryption for all data transmissions","Secure storage with preference for servers located in Africa","Strict access controls and multi-factor authentication","Regular security audits compliant with local laws","Encrypted backups and business continuity plans"]},retention:{title:"Data Retention",content:"Your data is retained for limited periods according to each country's laws:",list:["Account data: 3 years after last activity","Transaction data: 5 to 10 years depending on local legal obligations","Browsing data: maximum 13 months","Event data: 2 years after event end","Marketing data: 3 years after last contact"]},hosting:{title:"Data Hosting",content:"Your data is primarily hosted on secure servers. We prioritize hosting solutions in Africa when possible, while guaranteeing the same quality of service and security. Our infrastructures respect the digital sovereignty requirements of the countries where we operate."},deletion:{title:"Right to Erasure",content:"In accordance with African data protection laws, you have the right to request the deletion of your personal data. Contact our DPO at support@bonplaninfos.net for any erasure request. We commit to responding within the legal deadlines of each country."},last_updated:"Last updated: December 2024"},wallet_page:{title:"My Wallet",total_balance:"Total Coin Balance",free_coins:"Free Coins",paid_coins:"Paid Coins",available_earnings:"Available Earnings (Coins)",earnings_in_fcfa:" {{amount}} FCFA",buy_coins_title:"Buy Coins",buy_coins_desc:"Top up your balance and never miss out!",buy_coins_button:"View Packs",balance_details_title:"Coin Balance Details",free_coins_desc:"Free coins are used first for interactions. Paid coins are used next, and a portion goes to organizers.",withdrawal_title:"Withdraw Earnings",withdrawal_desc:"Convert your earnings into real money.",request_withdrawal_button:"Request Withdrawal",withdrawal_minimum:"Minimum for withdrawal: {{amount}} coins."},create_event_page:{meta:{title:"Create Event - Choose Type",description:"Choose the type of event you want to create on BonPlanInfos"},title:"Create Event",subtitle:"Choose the type of event you want to create",types:{simple:{title:"Simple Event",desc:"Basic event with general information"},ticketing:{title:"Ticketing",desc:"Sell tickets for your event"},voting:{title:"Voting & Contest",desc:"Create a contest with voting system"},raffle:{title:"Raffle",desc:"Organize a raffle with prizes"},stand:{title:"Stand Rental",desc:"Rent stands for a fair or exhibition"}},help:{title:"Need help?",description:"Check our guide to learn how to create and manage your events effectively",button:"View User Guide"}},testimonials:{title:"They Trust Us",subtitle:"Discover feedback from our satisfied users",play:"Play",pause:"Pause",previous:"Previous",next:"Next",counter:"{{current}} / {{total}}",testimonial1:{name:"Marie K.",role:"Concert Organizer",content:"With BonPlanInfos, my protected events generate impressive passive income. 1000 views = 10,000F!"},testimonial2:{name:"Jean A.",role:"Artist Manager",content:"The ticketing system is revolutionary. 95% of revenue comes directly to me, without intermediaries."},testimonial3:{name:"Sophie T.",role:"Official Partner",content:"Becoming a partner allowed me to generate stable monthly income while developing my network."},testimonial4:{name:"Paul D.",role:"Event Promoter",content:"The contest system boosted my community engagement. Revenues increased by 300%!"},testimonial5:{name:"Fatou M.",role:"Musician Artist",content:"As an artist, BonPlanInfos gave me financial autonomy through protected events."},testimonial6:{name:"Kevin L.",role:"Festival Organizer",content:"Stand rental through the platform simplified all my festival logistics."},testimonial7:{name:"Acha B.",role:"Lifestyle Influencer",content:"My raffles generate incredible engagement. My community loves to participate!"},testimonial8:{name:"Marc T.",role:"Event Entrepreneur",content:"The partner program opened opportunities I never would have imagined."},testimonial9:{name:"Julie N.",role:"Event Photographer",content:"I now monetize my photo reports through protected events. Amazing!"},testimonial10:{name:"David K.",role:"DJ & Producer",content:"My protected live streams earn me more than my previous platforms. I recommend 100%!"},testimonial11:{name:"Sarah J.",role:"Wedding Planner",content:"BonPlanInfos revolutionized my way of working. Clients love the ticketing system."},testimonial12:{name:"Mohamed C.",role:"Community Manager",content:"I manage several artists on the platform. The interface is intuitive and revenues transparent."},testimonial13:{name:"Laura P.",role:"Content Creator",content:"My online workshops are now protected and generate stable income every month."},testimonial14:{name:"Pierre G.",role:"Sports Organizer",content:"For our tournaments, the voting and contest system multiplied our audience by 5."},testimonial15:{name:"Nadia S.",role:"Event Agency",content:"We use BonPlanInfos for all our clients. Satisfaction is always guaranteed!"}},user_guide_page:{meta:{title:"BonPlanInfos - 100% African Event Platform",description:"Create, manage and monetize your events with BonPlanInfos. The Ivorian platform that gives you back 95% of your revenue."},hero:{title:"BonPlanInfos",subtitle:"Your Event Success",description:"The Ivorian platform that gives you back <strong>95% of your revenue</strong>",coin_info:"1 coin = 10F  1 interaction = 1 coin",create_event:"Create an Event",become_partner:"Become a Partner",features:{revenue:"95% revenue shared",coin:"1 coin = 10F CFA",support:"24/7 Support"}},features:{title:"Our Event Solutions",subtitle:"Powerful tools to maximize your revenue and visibility",ticketing:{title:"Smart Ticketing",description:"Sell tickets for your concerts and events. Set your prices and receive 95% of revenue directly",stats:"95% revenue shared"},voting:{title:"Contests & Voting",description:"Organize interactive contests with voting system. Monetize every participation",stats:"95% on each participation"},raffle:{title:"Raffle & Draws",description:"Create raffles with attractive prizes. Paid or free participation according to your choice",stats:"Automatic management with 95% on each participation"},stand_rental:{title:"Stand Rental",description:"Rent stands for trade shows and fairs. Manage reservations and payments online",stats:"95% of rental price goes to you"},protected_events:{title:"Protected Events",description:"Monetized exclusive content. Earn 1 coin per interaction (view, like, comment, share)",stats:"+1 coin per interaction"},boost:{title:"Instant Boost",description:"Increase your events visibility. Reach more participants in real time by boosting your events on bonplaninfos.",stats:"Reach multiplied"}},simulation:{title:"Protected Event Simulation",subtitle:"Discover how to monetize every interaction on your events",main_title:" 1 Interaction = 1 Coin = 10F CFA",description:"Every view, like, comment or share earns you money",views:"Views",likes:"Likes",comments:"Comments",shares:"Shares",total:"Total: {{amount}} F CFA",revenue_description:"Revenue generated by an event with {{count}} interactions"},stats:{revenue:"Revenue shared to organizers",coin_cost:"Cost of 1 coin",coin_earned:"Coin earned per interaction",no_fees:"Registration fees"},partner_program:{title:"Partner Program",subtitle:"Represent BonPlanInfos in your region and generate monthly income",advantages:"Partner Advantages",benefits:{revenue:"Guaranteed monthly income",training:"Complete training offered",support:"Priority 24/7 support",network:"Exclusive partner network"},become_partner:"Become a Partner",partner_description:"Represent BonPlanInfos in your city",apply_now:"Apply Now"},testimonials:{title:"They Trust Us",subtitle:"Discover feedback from our satisfied users",play:"Play",pause:"Pause",previous:"Previous",next:"Next",counter:"{{current}} / {{total}}"},cta:{title:"Ready to revolutionize your events?",description:"Join the BonPlanInfos community and start generating revenue today",create_event:"Create my first event",become_partner:"Become a Partner"},footer:{description:"The Ivorian event platform that gives you back 95% of your revenue.",navigation:"Navigation",home:"Home",events:"Events",create_event:"Create an event",become_partner:"Become a partner",contact:"Contact",information:"Information",copyright:" 2025 BonPlanInfos. All rights reserved."}},partner_signup:{meta_title:"Become a Partner - BonPlanInfos",meta_description:"Become an official BonPlanInfos partner and generate stable monthly income. Partnership program with advantageous licenses.",unauthorized_title:"Unauthorized Access",unauthorized_desc:"You must be logged in to access the partner page.",unauthorized_cta:"Login",loading_licenses:"Loading licenses...",error_loading_licenses:"Error loading licenses",your_licenses_title:"Your Active Licenses",available_licenses_title:"Available Licenses",available_licenses_subtitle:"Choose the license that matches your ambitions and start generating income",license_features:{premium:{feature1:"Maximum zone",feature2:"Advanced dashboard",feature3:"24/7 support",feature4:"Advanced training",feature5:"Early access"},standard:{feature1:"Extended zone",feature2:"Detailed analytics",feature3:"Priority support",feature4:"Training"},basic:{feature1:"Zone management",feature2:"Monthly reports",feature3:"Basic support",message:"We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies. ",learn_more:"Privacy Policy",reject:"Reject",accept:"Accept"},revenue_description_40:"40% revenue share from your zone's turnover",revenue_description_30:"30% revenue share from your zone's turnover",revenue_description_20:"20% revenue share from your zone's turnover"},license_card:{active:"Active",expired:"Expired",revenue_share:"Revenue share: {{percent}}%",purchased_on:"Purchased on",expires_on:"Expires on",days_remaining:"{{count}} day(s) remaining"},per_month:"/month",revenue_label:"Revenue share",duration_label:"{{months}} months ({{days}} days)",purchase_cta:"Buy Now",error_toast:{title:"Error",login_required:"You must be logged in to purchase a license",purchase_failed:"Error purchasing license"}},admin_dashboard:"Admin Dashboard",secretary_dashboard:"Secretary Dashboard",admin_dashboard:{unauthorized_title:"Unauthorized Access",unauthorized_desc:"You do not have the required permissions to access this page.",loading_error_title:"Loading Error",super_admin_title:"Super Admin Dashboard",admin_title:"Admin Dashboard - {{country}}",secretary_title:"Secretary Dashboard",welcome:"Welcome, {{name}}",tabs:{analytics:"Analytics",users:"Users",secretaries:"Secretaries",config:"Configuration",videos:"Videos",partners:"Partners",withdrawals:"Withdrawals",salary_withdrawals:"Salary Withdrawals",withdrawal_history:"Withdrawal History",announcements:"Announcements",events:"Events",promotions:"Promotions",popups:"Popups",credits:"Credits",credit_management:"Credit Management",reversed_credits:"Reversed Credits",transactions:"Transactions",activity_log:"Activity Log",payments:"Payments",locations:"Locations",badges:"Badges",credit_stats:"Credit Stats",salary:"My Salary",credits_history:"Credits History"},stats:{error_title:"Statistics Error",revenue_title:"Chiffres affaires zone)"},license:{partner_error_title:"Error loading partner",status_title:"License Status",status_active:"Active",status_expired:"Expired",activated_on:"Activated on",expires_on:"Expires on",expired_since:"Expired for {{count}} days",days_remaining:"days remaining",renew_button:"Request Renewal",confirm_renewal_title:"Confirm Renewal Request?",confirm_renewal_desc:"A notification will be sent to the super administrator to review your license renewal request.",renewal_sent_title:"Request Sent",renewal_sent_desc:"Your renewal request has been sent successfully.",renewal_error_desc:"Error sending renewal request: "},banner:{pending:"Your admin account is pending verification. Some features may be limited.",suspended:"Your admin account has been suspended. Please contact support.",expired:"Your license has expired. Please renew it to restore full access."},salary_dashboard:{title:"Salary Dashboard",current_month_revenue:"Zone Revenue (Current Month)",personal_score:"Personal Score",projected_salary:"Projected Salary (Current Month)",request_withdrawal:"Request Withdrawal",history_title:"Salary History",month:"Month",revenue:"Zone Revenue",license_rate:"License Rate",score:"Score",salary:"Final Salary",status:"Status",paid:"Paid",unpaid:"Unpaid"},withdrawal_form:{title:"Salary Withdrawal Request",description:"Submit a request to withdraw your available salary.",available_salary:"Salary available for withdrawal",amount_to_withdraw:"Amount",withdrawal_method:"Method",select_method:"Select a method",bank_name:"Bank Name",account_holder:"Account Holder",account_number:"Account Number",mobile_money_operator:"Operator",phone_number:"Phone Number",reason:"Reason (Optional)",submit:"Submit Request"}},secretary_dashboard:{title:"Secretary Dashboard",welcome:"Welcome, {{name}}",competence_zone:"Area of competence: {{city}}, {{country}}",tabs:{user_management:"User Management",event_management:"Event Management",location_management:"Location Management",credit_management:"Credit Management",reversed_credits:"Reversed Credits",withdrawal_management:"Withdrawal Management",withdrawal_history:"Withdrawal History",event_moderation:"Event & Location Moderation"},credit_form:{title:"Credit a User",search_user_label:"Search for a user",search_user_placeholder:"Name or email...",user_label:"User",select_user_placeholder:"Select a user",amount_label:"Amount (coins)",amount_placeholder:"e.g., 100",reason_label:"Reason (optional)",reason_placeholder:"e.g., Reward",submit_button:"Credit User"},event_moderation:{title:"Event Moderation",zone_country:"Zone: {{country}}",filter_all:"All",filter_active:"Active",filter_inactive:"Inactive",credit_participants_button:"Credit Participants",confirm_delete_title:"Are you sure?",confirm_delete_desc:"This action is irreversible. The event and all its associated data (tickets, votes, etc.) will be permanently deleted.",event_deleted_success:"Event deleted successfully.",event_deleted_error:"Could not delete event.",status_updated_success:"Event status updated.",status_updated_error:"Could not update status.",credit_user_for_event_title:"Credit for event: {{eventName}}",credit_user_for_event_desc:"Select a user from your zone to award coins for their participation.",user_search_placeholder:"Search by name or email...",credit_amount_label:"Amount (coins)",credit_reason_label:"Reason for credit",credit_reason_placeholder:"Participation in event: {{eventName}}",no_users_found:"No users found in your zone.",credit_success_message:"{{userName}} has been credited with {{amount}} coins.",credit_error_generic:"An error occurred while crediting."}},confirm_logout:"Are you sure you want to log out?",cancel:"Cancel",confirm:"Confirm",back_home:"Back to Home",not_found_title:"Page Not Found",not_found_message:"Sorry, the page you are looking for does not exist.",email_label:"Email address",password_label:"Password",full_name_label:"Full name",phone_label:"Phone number",username_label:"Username",country_label:"Country",city_label:"City",referral_code_label:"Referral code (optional)",login_tab:"Login",register_tab:"Register",login_magic_link_tab:"Magic Link",send_magic_link:"Send Magic Link",or_continue_with:"Or continue with",forgot_password:"Forgot password?",landing:{title:"Your Gateway to the Best Deals",subtitle:"Discover, participate, and organize events, contests, and more. All in one place.",search_placeholder:"Search for an event, a place...",search_button:"Search",create_event_button:"Create Event",discover_events_button:"Discover Events",featured_title:"Events Not to Miss",featured_subtitle:"Participate in the most popular events and live unforgettable moments.",categories_title:"Explore by Categories",categories_subtitle:"Find events that match your interests.",how_it_works_title:"How It Works",how_it_works_step1_title:"Discover",how_it_works_step1_desc:"Explore a multitude of events, contests, and places.",how_it_works_step2_title:"Participate",how_it_works_step2_desc:"Buy tickets, vote for your favorite candidates, and much more.",how_it_works_step3_title:"Win & Enjoy",how_it_works_step3_desc:"Earn rewards, win contests, and live unique experiences.",how_it_works_step4_title:"Organize",how_it_works_step4_desc:"Create and manage your own events with ease.",cta_title:"Ready to start the adventure?",cta_subtitle:"Join our community today and never miss a good deal again.",cta_button:"Sign Up for Free"},footer:{home:"Home",about:"About",partnership:"Partnership",sponsors:"Sponsors",privacy:"Privacy Policy",terms:"Terms of Use",contact:"Contact",tagline:"Your ultimate guide to the best events and entertainment.",platform:"Platform",company:"Company",legal:"Legal",how_it_works:"How it works",help:"Help Center",faq:"FAQ",data_protection:"Data Protection",legal_mentions:"Legal Mentions"},marketing:{simulation:{title:"Revenue Simulator",subtitle:"Calculate your potential earnings with our platform",event_type:"Event Type",ticket_price:"Price per unit",number_of_tickets:"Number of participants",potential_revenue:"Potential Revenue",platform_fee:"Platform fee (5%)",your_net_earning:"Your net earnings",cta:"Start Earning Now",note:"Simulation based on standard 5% platform fee. Actual results may vary.",number_of_interactions:"Number of Interactions",interaction_revenue:"Interaction Revenue",minimum_withdrawal:"Minimum 50 interactions required for withdrawal (500 FCFA)"},badge:"For Organizers & Creators",title:"Take Your Events to the Next Level",subtitle:"Reach a wider audience, engage with your community, and monetize your content like never before. BonPlanInfos is the all-in-one platform for successful events.",createEventCta:"Create My Event Now",becomePartnerCta:"Become a Partner",trust:"Trusted by hundreds of organizers in Africa.",why:{title:"Why choose BonPlanInfos?",subtitle:"We give you the tools to make every event a resounding success.",feature1:"Maximum Visibility",feature1_desc:"Leverage our large audience to promote your events and reach thousands of potential attendees.",feature2:"Easy Monetization",feature2_desc:"Ticket sales, paid voting, raffles, stands... Diversify your income streams in just a few clicks.",feature3:"Interaction & Engagement",feature3_desc:"Create a strong bond with your community through our interaction tools: comments, shares, and reactions.",feature4:"Real-Time Statistics",feature4_desc:"Track the performance of your events with precise data to optimize your strategies.",feature5:"Security & Reliability",feature5_desc:"A robust and secure platform to manage your transactions and your attendees' data.",feature6:"Dedicated Support",feature6_desc:"Our team is here to support you at every stage of your organization."},revenue_simulation:{title:"Imagine Your Potential Monthly Income...",subtitle:"Every interaction on your content generates coins, convertible into real money. Here is a simple simulation based on popular events.",summary_title:"Monthly Summary (Simulation)",total_interactions:"Total Interactions",revenue_coins:"Revenue in Coins",revenue_fcfa:"Revenue in FCFA",miss_ci:"Miss Cte d'Ivoire Contest",music_festival:"Urban Music Festival",football_tournament:"Inter-neighborhood Football Tournament",entrepreneur_conf:"Entrepreneurship Conference",shares:"Shares",downloads:"Downloads",views:"Views",comments:"Comments",reactions:"Reactions",total_revenue:"Total Revenue",interactions:"Interactions",how_it_works_title:"How it Works",organizer:"Organizer",user:"User",easy_withdrawal:"Easy Withdrawal",from_50_pi:"From 50",ready_cta_title:"Ready to turn your ideas into success?",ready_cta_subtitle:"Join thousands of organizers who trust us.",cta_button:"Launch my first event"},testimonials:{title:"They trust us",dj_kerozen_quote:"With BonPlanInfos, I sold out my concert in record time. The platform's virality is just incredible!",fatou_sylla_quote:"I organize all my clients' events through the app. It simplifies my life and my clients love it.",eric_b_quote:"We funded our entire integration weekend by monetizing our party. A must-have!",bintou_diallo_name:"Bintou Diallo",bintou_diallo_role:"Show Promoter",kwesi_mensah_name:"Kwesi Mensah",kwesi_mensah_role:"Wedding Planner",aisha_traore_name:"Asha Traor",aisha_traore_role:"Student & BDE President",amadou_ba_name:"Amadou Ba",amadou_ba_role:"Personal Development Coach",amadou_ba_quote:"Managing registrations for my seminars has become child's play. I save so much time!",chimamanda_ngozi_name:"Chimamanda Ngozi",chimamanda_ngozi_role:"Literary Festival Organizer",chimamanda_ngozi_quote:"The live voting feature added an exciting interactive dimension to our literary prize.",didier_kouame_name:"Didier Kouam",didier_kouame_role:"Sports Club Manager",didier_kouame_quote:"The online raffle generated unexpected revenue for our club. It's simple and incredibly effective.",mariam_kone_name:"Mariam Kon",mariam_kone_role:"Fashion Designer",mariam_kone_quote:"My fashion show got national reach thanks to the promotion on BonPlanInfos. The impact was immediate.",femi_adebayo_name:"Femi Adebayo",femi_adebayo_role:"Food Truck Owner",femi_adebayo_quote:"Renting a stand at the biggest events in town has never been easier. My business has exploded!",abena_asante_name:"Abena Asante",abena_asante_role:"Painter",abena_asante_quote:"I sold more canvases during my online exhibition than I could have ever imagined. The visibility is top-notch.",yannick_zongo_name:"Yannick Zongo",yannick_zongo_role:"E-sport Tournament Organizer",yannick_zongo_quote:"The integrated ticketing and QR code check-in system are perfect for managing a large number of participants."},cta:{title:"Ready to take your events to the next level?",subtitle:"Don't let complexity hold you back. With BonPlanInfos, event organizing becomes simple, profitable, and fun.",cta:"Become an Official Partner"},meta_title:"Partnership & Marketing - BonPlanInfos",meta_description:"Join BonPlanInfos as a partner or organizer. Maximize your event's visibility, engage your community, and increase your revenue."},wallet_info_modal:{title:"What are coins () for?",intro:"Coins are the virtual currency of BonPlanInfos. They allow you to access exclusive content and interact with events.",free_coins_title:"Free Coins ()",free_coins_desc:"You earn them by watching video ads or during promotions. They allow you to perform basic actions.",paid_coins_title:"Purchased Coins ()",paid_coins_desc:"Purchased with real money, they unlock all features and directly support the organizers.",usage_title:"How to use them?",usage_item1:"Access protected events.",usage_item2:"Like, comment, download exclusive content.",usage_item3:"Participate in votes, raffles, and much more.",cta_button:"Buy Coins",usage_priority:"Free coins are always used first for your actions!"},events_title:"Featured Events",all_events_button:"All Events",promoted_events:"Sponsored Events",popular_contests:"Popular Contests",see_all_contests:"See all contests",event_card:{days_remaining:"{{count}} day remaining",days_remaining_plural:"{{count}} days remaining",event_ended:"Ended",event_starting_today:"Starts today",starting_from:"From"},filters:{all:"All",promoted:"Boosted",live:"Live",today:"Today",this_week:"This week",free:"Free"},event_detail:{by_organizer:"By",share:"Share",location:"Location",date_time:"Date and Time",get_directions:"Get Directions",about_event:"About the Event",tags:"Tags",unlock_event_to_see_content:"Unlock this event to see exclusive content!",unlock_button:"Unlock for {{price}}",unlocking:"Unlocking...",free_access:"Free Access",owner_access:"Owner Access",comments:"Comments",leave_comment:"Leave a comment...",submit_comment:"Submit",comment_cost:"Comment for {{price}}",ticketing:"Ticketing",voting:"Voting",raffle:"Raffle",stands:"Stands"},social_interactions:{like:"Like",comment:"Comment",share:"Share",download:"Download",cost:"{{price}}",comment_placeholder:"Add a comment...",post_comment:"Post"},toasts:{copied_to_clipboard:"Copied to clipboard!",feature_not_implemented:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "},admin:{tabs:{analytics:"Analytics",users:"Users",partners:"Partners",events:"Events",locations:"Locations",promotions:"Promotions",credits:"Credits",config:"Configuration",withdrawals:"Withdrawals",videos:"Videos",announcements:"Announcements",welcome_popup:"Welcome Popup"}},discover_places:"Discover Places",discover_more_places:"Discover more places",discover_page:{title:"Discover Places",subtitle:"Find new places recommended by the community.",search_placeholder:"Search for a place, category, city...",filter_by_type:"Filter by type",no_locations_found:"No locations found.",no_locations_description:"Try broadening your search or selecting fewer filters.",add_new_location:"Add a new place",add_place:"Add a Place"},add_location:{title:"Add a New Place",subtitle:"Share a great spot with the community.",location_name:"Place Name",location_description:"Description",location_type:"Place Type",address:"Address",city:"City",country:"Country",website:"Website (optional)",phone:"Phone (optional)",submit:"Submit Place",success_title:"Place Submitted!",success_message:"Thanks! Your place has been submitted and will be reviewed by our team."},verify_ticket:{title:"Ticket Verification",scan_instruction:"Scan the ticket's QR code or enter the scanner code.",scanner_code_label:"Scanner Code",start_session:"Start Session",stop_session:"Stop Session",scan_ticket:"Scan a Ticket",camera_permission_denied:"Camera permission denied.",camera_error:"Camera error:",scan_result:"Scan Result",scan_again:"Scan Again",valid_ticket:"Valid Ticket",invalid_ticket:"Invalid Ticket",ticket_number:"Ticket Number:",ticket_type:"Ticket Type:",attendee_name:"Attendee Name:",event_title:"Event Title:",scan_time:"Scan Time:",error:"Error",session_active:"Verification session active",session_stopped:"Verification session stopped",verifying_ticket:"Verifying ticket...",enter_scanner_code:"Please enter a valid scanner code."},create_event:{title:"Create an Event",subtitle:"Choose the type of event you want to organize.",simple:"Simple",simple_desc:"Quickly post an informational event (free or paid at the door).",ticketing:"Ticketing",ticketing_desc:"Sell tickets with different prices and options.",voting:"Voting Contest",voting_desc:"Organize a contest where participants vote for candidates.",raffle:"Raffle",raffle_desc:"Create a raffle with tickets and prizes to be won.",stands:"Stand Rental",stands_desc:"Manage the rental of stands for a trade show or market."},create_ticketing_event:{title:"Create an Event with Ticketing",event_details:"Event Details",event_title:"Event Title",event_description:"Description",event_cover_image:"Cover Image",upload_image:"Upload Image",event_date:"Event Date",category:"Category",select_category:"Select a category",location:"Location",address:"Address",city:"City",country:"Country",ticket_types:"Ticket Types",add_ticket_type:"Add Ticket Type",ticket_name:"Ticket Name (e.g., Standard, VIP)",ticket_price_fcfa:"Price (FCFA)",ticket_quantity:"Quantity Available",ticket_benefits:"Benefits (comma-separated)",remove:"Remove",verification_options:"Verification Options",enable_verification:"Enable QR code ticket verification",submit:"Create Event",event_created_success:"Event created successfully!",editing_event:"Editing Event"},ticketing_interface:{select_ticket_type:"Select your tickets",total_cost:"Total Cost:",buy_tickets:"Buy Tickets",sold_out:"Sold Out",sales_ended:"Sales Ended",available:"available",benefits:"Benefits:"},select_country:"Select a country",select_city:"Select a city",choose_file:"Choose file",no_file_chosen:"No file chosen",common:{error_title:"Error",confirm:"Confirm",cancel:"Cancel",delete:"Delete",close:"Close",save:"Save",edit:"Edit",loading:"Loading...",success_title:"Success",search:"Search...",activate:"Activate",deactivate:"Deactivate",credit:"Credit",retry:"Retry"},privacy:{meta_title:"Privacy Policy",meta_description:"Read our privacy policy to understand how we collect, use, and protect your personal data.",title:"Privacy Policy",last_updated:"Last updated: November 02, 2025",introduction:{title:"1. Introduction",p1:"This privacy policy explains how BonPlanInfos collects, uses, and protects your personal information when you use our platform."},data_collected:{title:"2. Data We Collect",p1:"We collect various information to provide and improve our services:",item1:"<b>Account Information:</b> Name, email address, country, city, account type.",item2:"<b>Usage Data:</b> Pages visited, interactions with events, searches performed.",item3:"<b>User-Generated Content:</b> Events created, comments, photos.",item4:"<b>Transaction Data:</b> History of coin purchases and earning withdrawals."},data_usage:{title:"3. How We Use Your Data",p1:"Your data is used to:",item1:"Provide, maintain, and improve the platform.",item2:"Personalize your experience by recommending relevant events.",item3:"Process transactions and payments.",item4:"Communicate with you regarding your account or our services."},cookies:{title:"4. Cookies",p1:"We use cookies to ensure the proper functioning of the site, analyze our traffic, and personalize content. You can manage your cookie preferences at any time."},data_sharing:{title:"5. Data Sharing",p1:"We do not share your personal information with third parties, unless it is necessary to provide the service (e.g., with payment processors) or required by law."},security:{title:"6. Security",p1:"We implement technical and organizational security measures to protect your data against unauthorized access, loss, or destruction."},your_rights:{title:"7. Your Rights",p1:"In accordance with regulations, you have the following rights:",item1:"<b>Right of Access:</b> You can request a copy of the data we hold about you.",item2:"<b>Right to Rectification:</b> You can correct any inaccurate information.",item3:"<b>Right to Erasure:</b> You can request the deletion of your account and data.",p2:"To exercise these rights, please contact us at the address below."},contact:{title:"8. Contact",p1:"For any questions regarding this privacy policy, please contact us at:",email:"privacy@bonplaninfos.net"}},legal_mentions:{meta_title:"Legal Mentions",meta_description:"Consult the legal mentions of BonPlanInfos for information on the site editor, hosting, and our legal obligations.",title:"Legal Mentions",subtitle:"Legal information concerning the BonPlanInfos platform.",lastUpdate:"Last updated: November 02, 2025",sections:{editor:{title:"Site Editor",content:"The BonPlanInfos site is edited by:",company:"BON PLAN INFOS (BPI)",capital:"Simplified joint-stock company (SAS) with a capital of 1,000,000 FCFA",address:"Head office: Abidjan, Cte d'Ivoire",phone:"Phone: (+225) 07 12 27 53 74",email:"contact@bonplaninfos.net"},director:{title:"Publication Director",content:"The publication director is Mr. S.Rayane KIBORA, in his capacity as President of BON PLAN INFOS (BPI)."},hosting:{title:"Hosting",content:"The platform is hosted by:",company:"Hostinger International Ltd.",address:"61 Lordou Vironos Street, 6023 Larnaca, Cyprus",website:"www.hostinger.com"},data:{title:"Personal Data Protection",content1:"In accordance with current data protection legislation, you have the right to access, rectify, delete, and object to your personal data. To exercise this right, please contact our Data Protection Officer (DPO) at: ",content2:"For more information, please consult our <1>Privacy Policy</1>."},cookies:{title:"Cookies",content1:"The site uses cookies to improve the user experience. These cookies are used to:",item1:"Ensure the proper functioning of the site (session cookies).",item2:"Analyze audience and performance (analytics cookies).",item3:"Offer personalized advertising (marketing cookies).",content2:"You can configure your cookie preferences via our consent banner."},ip:{title:"Intellectual Property",content:"All content on this site (texts, images, videos, logos, source code) is the exclusive property of BON PLAN INFOS (BPI) or its partners. Any reproduction, even partial, is strictly prohibited without prior authorization."},liability:{title:"Limitation of Liability",content:"BonPlanInfos strives to provide accurate and up-to-date information but cannot guarantee the accuracy of all information. The use of information and content available on the entire site shall in no case engage the liability of the publisher, for any reason whatsoever."},links:{title:"Hyperlinks",content:"The platform may contain hyperlinks to other sites. BonPlanInfos is not responsible for the content of these third-party sites and cannot be held liable for any damages resulting from their consultation."},applicableLaw:{title:"Applicable Law",content:"These legal mentions are subject to Ivorian law. In case of a dispute, the courts of Abidjan will have sole jurisdiction."}}}}}};Cu.use(w1e).use(m3e).init({debug:!0,fallbackLng:"fr",interpolation:{escapeValue:!1},resources:X4t,detection:{order:["queryString","cookie","localStorage","navigator","htmlTag","path","subdomain"],caches:["cookie"]}});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});gO.createRoot(document.getElementById("root")).render(s.jsx(c4t,{}));export{Vs as c,ji as g,D4t as t};
